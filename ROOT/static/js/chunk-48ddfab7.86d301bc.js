(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48ddfab7"],{"5ac5":function(e,t,n){"use strict";n.r(t);var i=n("b6e5"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"6a9e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tree",{attrs:{nodes:e.pubInTreeNodes,setting:e.pubInTreeSetting},on:{onCreated:e.pubInTreeCreate}})},r=[]},b25b:function(e,t,n){"use strict";n.r(t);var i=n("6a9e"),r=n("5ac5");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var s=n("0c7c"),d=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,null,null);t["default"]=d.exports},b6e5:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");i(n("b775"));var r=i(n("1157")),a=(n("5c96"),{name:"index",props:["type","setFolderIdAndName"],components:{tree:function(e){return n.e("chunk-46cc1826").then(function(){var t=[n("aa39")];e.apply(null,t)}.bind(this)).catch(n.oe)}},data:function(){return{contextUrl:"/indicator",pubInTree:null,pubInTreeNodes:null,pubInTreeSetting:null,isOrgManager:sessionStorage.getItem("isOrgManager"),isInManager:sessionStorage.getItem("isInManager"),treePathId:"",treePathName:""}},mounted:function(){this.initZtree()},created:function(){},methods:{pubInTreeCreate:function(e){this.pubInTree=e,this.pubInTree.expandAll(!0),this.auditorHideNodes()},initZtree:function(){var e=this.contextUrl+"/InFolder/getIndicatrixTree",t=this;r.default.post(e,{},(function(e){var n={data:{key:{name:"name",title:"title"},simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}},async:{enable:!1},callback:{onClick:t.enter},view:{selectedMulti:!1,showLine:!1}};t.pubInTreeNodes=e,t.pubInTreeSetting=n}),"json")},enter:function(e,t,n){this.getzTreePath(n,"","");var i=this.treePathId,r=this.treePathName;i=i.substring(0,i.length-1),r=r.substring(0,r.length-1),0!=n.level?(1==this.type&&this.setFolderIdAndName(n.id,n.name,i,r,n.pbScopeUuid),2==this.type&&this.setFolderIdAndName(n.id,n.name,i,r,n.pbScopeUuid,n.auditorOrauditorgan)):this.$message("不能添加在首级！")},getzTreePath:function(e){if(0==e.level)return this.treePathName+=e.name+"/",void(this.treePathId+=e.id+",");var t=e.getParentNode();void 0!=t?(this.treePathName+=e.name+"/",this.treePathId+=e.id+",",this.getzTreePath(t)):(this.treePathName+=e.name+"/",this.treePathId+=e.id+",")},auditorHideNodes:function(){if("true"!=this.isInManager){var e=this.pubInTree.getNodesByParam("auditorOrauditorgan","1");e.length>0&&this.hideNodes(e[0])}if("true"!=this.isInManager&&"true"!=this.isOrgManager){var t=this.pubInTree.getNodesByParam("auditorOrauditorgan","2");t.length>0&&this.hideNodes(t[0])}},hideNodes:function(e){console.log(e),this.pubInTree.removeChildNodes(e)}}});t.default=a}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t){},"0004":function(e,t,n){e.exports=n.p+"static/img/shenji.e9b6c8ea.png"},"00042":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"30px 0 0 80px"}},[n("el-transfer",{attrs:{filterable:"","filter-placeholder":"请输入搜索内容",data:e.columnData,titles:["可选字段","去重字段"]},on:{change:e.changeSortData},model:{value:e.columnDataValue,callback:function(t){e.columnDataValue=t},expression:"columnDataValue"}})],1)},a=[]},"009c":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPage=s,t.save=l,t.update=u,t.del=c,t.getTransMap=d,t.selectOne=h,t.getTransCodeList=f,t.selectById=p,t.previewSql=m;var a=i(n("b775")),r="/data",o="transRule";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/listByPage"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/"),method:"delete",data:e})}function d(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getTransMap/").concat(e),method:"post"})}function h(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/selectOne"),method:"post",data:e})}function f(){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getTransCodeList"),method:"post"})}function p(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/selectById/").concat(e),method:"get"})}function m(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/previewSql"),method:"post",data:e})}},"011d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAALCAYAAACd1bY6AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAE6ADAAQAAAABAAAACwAAAABw/4zlAAABdUlEQVQoFWNmIAM0NDSwCAgo8N24ceEHsnZmZA6xbFZusahf/382a5rYb719+QzcQEaQAaGhiaLvvn3OYGT4L0OMgYz/mb78Z/rPC1Qrz/yfeft/pr93dm1es4UFpPnd98/zGBj+v/zPyLKfGMOYmP5xMPxjyGRkYpjHyPz/7t8/jH3ugeGPGUNDs3jef315jVNGWGPzrFnfiDHM1TfSnoHht8buzWtmgtQ7+4RMYWJkuMDym/sbC8NXBgZiDQJp3r15+UEgBcJgwPSP8ScjCwMTE0wARqelpbF6BYQawPhE0VBTgN4MZX739f9VZhamNAUJgeN3n76dzsTAyK0oLRQnJSX1n5Bh587dEPv2989KoLPawLHp7hsW9vfv3zagQ1f/Z/jvxcj4fxXDX4Z0QgaB5IG2/QUatNHaRLcIbBhIMCEhgePjv3/cn999W8b0n+EahzhfHftnDoIuY2B4/Wv16tW/QGZgAO+oTEFX75BQDAkiBAAb04Cbs6JRTwAAAABJRU5ErkJggg=="},"0142":function(e,t,n){},"01d0":function(e,t,n){"use strict";n("b506c")},"01dd":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.cacheDict=o;var a=i(n("b775")),r="/base";function o(){return(0,a.default)({baseURL:r,url:"/zhBaseCodeInfo/allBaseCode",method:"get"})}},"020d":function(e,t,n){e.exports=n.p+"static/img/moxing.8d246c96.png"},"0217":function(t,n,i){"use strict";var a=i("4ea4");i("8e6e"),Object.defineProperty(n,"__esModule",{value:!0}),n.organizeSelectTreeData=c,n.getChildrenData=h,n.getParentChecked=f,n.getParentUnChecked=p,n.getSplitDataArr=m,n.getSettingParamArr=v,n.selectShow=b,n.selectHide=A,n.sortParamArr=w,n.getRootNodeType=x;var r=a(i("9523"));i("96cf");var o=a(i("c973"));i("ac6a"),i("456d"),i("55dd"),i("7f7f");var s=i("8ebc");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){for(var t=[],n=0;n<e.length;n++){var i={name:e[n].C_NAME,value:e[n].C_CODE,pValue:e[n].P_CODE,children:[],sort:n};t.push(i)}return t=d(t),t}function d(e){for(var t=[],n=[],i=!1,a=0;a<e.length;a++){for(var r=e[a],o=r.value,s=r.name,l=r.pValue,u=r.sort,c=r.children,h=0,f=!1,p=0;p<e.length;p++){var m=e[p],g=m.value,v=m.pValue;if(l===g&&o!==g&&!f){for(var y={name:s,value:o,pValue:l,children:c,sort:u},b=!1,A=0;A<m.children.length;A++)if(y.value===m.children[A].value&&y.pValue===m.children[A].pValue){b=!0;break}if(!b)if(0===m.children.length)m.children.push(y);else{for(var w=-1,x=0;x<m.children.length;x++)if(m.children[x].sort>u){w=x;break}-1===w?m.children.push(y):m.children.splice(x,0,y)}i=!0,f=!0}o!==v&&h++}h===e.length&&n.push(r)}if(i){for(var C=0;C<e.length;C++){for(var k=0,S=0;S<n.length;S++)e[C].value!==n[S].value&&k++;k===n.length&&t.push(e[C])}t.length>0&&(e=d(t))}return e}function h(e,t){if(e.children&&e.children.length>0){for(var n=[],i=0;i<e.children.length;i++)t.push(e.children[i]),e.children[i].children&&e.children[i].children.length>0&&n.push(e.children[i]);for(var a=0;a<n.length;a++)t=h(n[a],t)}return t}function f(e,t,n){if(n&&n.length>0){for(var i={},a=0;a<n.length;a++)if(e.pValue===n[a].value){i=n[a];break}Object.keys(i).length>0&&(t.push(i),t=f(i,t,n))}return t}function p(e,t,n,i){if(n&&n.length>0){for(var a={},r=0;r<n.length;r++)if(e.pValue===n[r].value){a=n[r];break}if(Object.keys(a).length>0){for(var o=a.children.length,s=0,l=0;l<o;l++)for(var u=0;u<i.length;u++)a.children[l].value===i[u].value&&a.children[l].pValue===i[u].pValue&&s++;o===s+1&&(t.push(a),t=p(a,t,n,i))}}return t}function m(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]),e[n].children&&e[n].children.length>0&&(t=g(e[n],t));return t}function g(e,t){for(var n=e.children,i=0;i<n.length;i++)t.push(n[i]),n[i].children&&n[i].children.length>0&&(t=g(n[i],t));return t}function v(e,t,n,i){return y.apply(this,arguments)}function y(){return y=(0,o.default)(regeneratorRuntime.mark((function e(t,n,i,a){var r,o,l,d,h,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r={selectNum:i,selectTreeNum:a,setParamObj:u(u({},{}),n),isError:!1,message:""},o=[],l=[],d=[],h=t.paramChoice.optionsSql,r.setParamObj.title=0===t.paramChoice.allowedNull?"不可为空":"可为空",f=!1,e.t0=r.setParamObj.inputType,e.next="lineinp"===e.t0?10:"textinp"===e.t0?20:"timeinp"===e.t0?27:"treeinp"===e.t0?29:45;break;case 10:return h?""!==h&&(f=!0):$.each(t.paramChoice.paramOptionsList,(function(e,t){if(t.optionsVal&&t.optionsName){var n={name:t.optionsName,value:t.optionsVal};o.push(n)}})),"undefined"!==typeof r.selectNum&&null!=r.selectNum?(r.setParamObj.id="selectParam".concat(r.selectNum),r.selectNum++):r.setParamObj.id="selectParam".concat(t.ammParamUuid),r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,r.setParamObj.dataChoiceType=t.paramChoice.choiceType,f&&(r.setParamObj.dataSql=h,r.setParamObj.dataParamArr=l,r.setParamObj.dataAssociatedParamIdArr=d),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal),o.length>0&&(r.setParamObj.data=o),"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),e.abrupt("break",45);case 20:return"undefined"!==typeof t.dataLength&&null!=t.dataLength&&(r.setParamObj.title+=",参数值的长度为".concat(t.dataLength)),r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal),"undefined"!==typeof t.dataLength&&null!=t.dataLength&&(r.setParamObj.dataDataLength=t.dataLength),e.abrupt("break",45);case 27:return"date"===t.dataType&&(r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal)),e.abrupt("break",45);case 29:if(""===h){e.next=36;break}if(f=!0,"undefined"===typeof t.defaultVal||null==t.defaultVal){e.next=36;break}return e.next=34,(0,s.getSelectTreeData)(h);case 34:p=e.sent,null==p.data?(r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败")):p.data.isError?(r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败，原因：").concat(p.data.message)):o=p.data.result&&p.data.result.length>0?c(p.data.result):[];case 36:return"undefined"!==typeof r.selectTreeNum&&null!=r.selectTreeNum?(r.setParamObj.id="selectTreeParam".concat(r.selectTreeNum),r.selectTreeNum++):r.setParamObj.id="selectTreeParam".concat(t.ammParamUuid),r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,r.setParamObj.dataChoiceType=t.paramChoice.choiceType,f&&(r.setParamObj.dataSql=h,r.setParamObj.dataParamArr=l,r.setParamObj.dataAssociatedParamIdArr=d),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal),o.length>0&&(r.setParamObj.data=o),"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),e.abrupt("break",45);case 45:return e.abrupt("return",r);case 46:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function b(t,n,i,a,r,o,l,u,d){var h=$(t).mLoading({text:"参数数据请求中，请稍后……",hasCancel:!1});try{for(var f="",p=null,m=0;m<l.length;m++)if(l[m].paramId===i){p=xmSelect.get(n+i,!0);var g=p.getValue();if(g&&g.length>0){var v=l[m].associatedParamCol,y="realValue"===l[m].paramValueType?"value":"name";if("1"===o)f+=" and "+v+"='"+g[0][y]+"'";else{for(var b="",A=0;A<g.length;A++)b+="'"+g[A][y]+"',";""!==b&&(b=b.substring(0,b.length-1)),f+=" and "+v+" in ("+b+")"}}break}p=xmSelect.get(n+i,!0);var w="undefined"!==typeof $(n+i).attr("data-sqlWhereStr")?$(n+i).attr("data-sqlWhereStr"):"",x=null;""!==f&&(""===w||w!==f?(r="SELECT * FROM ("+r+") where 1=1"+f,x="#selectParam"===n?(0,s.executeParamSql)(r):(0,s.getSelectTreeData)(r),x.then((function(e){if(e.data.isError)h.destroy(),alertMsg("错误","获取参数【"+a+"】的值的失败，原因："+e.data.message,"error");else{var t=[];if("#selectParam"===n)for(var r=0;r<e.data.paramList.length;r++){var o={name:e.data.paramList[r].paramName,value:e.data.paramList[r].paramValue};t.push(o)}else t=c(e.data.result);p.update({data:t}),$(n+i).attr("data-sqlWhereStr",f),h.destroy()}}))):h.destroy()),""===f&&0===u.length&&(d=!0,x="#selectParam"===n?(0,s.executeParamSql)(r):(0,s.getSelectTreeData)(r),x.then((function(e){if(e.data.isError)h.destroy(),alertMsg("错误","获取参数【"+a+"】的值的失败，原因："+e.data.message,"error");else{if("#selectParam"===n)for(var t=0;t<e.data.paramList.length;t++){var i={name:e.data.paramList[t].paramName,value:e.data.paramList[t].paramValue};u.push(i)}else u=c(e.data.result);p.update({data:u}),h.destroy()}}))),""===f&&0!==u.length&&(0!==l.length&&p.update({data:u}),$(n+i).attr("data-sqlWhereStr"),h.destroy())}catch(e){h.destroy(),alertMsg("错误","程序执行出错，刷新参数数据失败","error"),console.info(e)}return d}function A(e,t,n){var i=xmSelect.get(e+t,!0),a=i.getValue();a&&a.length>0&&i.setValue([])}function w(e){for(var t=0,n=1;n<e.length;n++){t=0;for(var i=0;i<=e.length-n;i++)parseInt(e[i].sortVal)>parseInt(e[t].sortVal)&&(t=i);var a=e[e.length-n];e[e.length-n]=e[t],e[t]=a}return e}function x(e,t){var n=!1;if("personalParam"===e.type)n=!0;else{var i=t.getNodesByParam("id",e.pId,null);i.length>0&&(n="personalParam"===i[0].type||x(i[0],t))}return n}},"02e4":function(e,t,n){"use strict";n("4121")},"02fc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAAA80lEQVQ4EWN08wo2/8fIWMvw/78eAyHAxPiGkeH/rN1b1s7ApZSJaMNAJvz7L/L/P2Olk1eQPE4DiXIZsm6giYwMTLrIQshsJmQONdiD30AWcrzJxMho5OwVgqL1P8O/y/u2rXvI6OIV/AhFhlwOIyMwtv63Uy8MgbH/n4ExjXoGgnwGTKfUNRBoJhMDMDuRG2zY9DGB8iYDMDSxSZIjxgjSBMqb6NkJlDT+//+XQqqhYAOxaQKmMx+g66dhk8MnRoNIwWcdGXL0cyEjM+MlkmOfkfESMy5f3bt17aOyuuYPoKGaDP8ZuHCpg4sDDWP6/78ZALZZP4/YF36NAAAAAElFTkSuQmCC"},"031a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={setTableCellRender:function(e){var t=document.createElement("div");return t.innerHTML="<div class='ace-progress-bar'>\n        <div class='ace-progress-bar-inner animated lightSpeedIn' style='width:".concat(e.value.width,"%; background: ").concat(e.value.color,"'>\n          <span class='ace-bar-val' style='background: ").concat(e.value.color,"'>\n            ").concat(e.value.width,"%\n            <i class='ace-bar-val-dian' style='border-top-color:").concat(e.value.color,"'></i>\n          </span>\n        </div>\n      </div>"),t}};t.default=i},"0327":function(e,t,n){},"034f":function(e,t,n){"use strict";n("446e")},"036d":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var a=i(n("83d6")),r=i(n("9923")),o=a.default.title||"Vue Element Admin";function s(e){var t=r.default.te("route.".concat(e));if(t){var n=r.default.t("route.".concat(e));return"".concat(n," - ").concat(o)}return"".concat(o)}},"03b0":function(e,t,n){"use strict";n("3487")},"03bd":function(e,t,n){"use strict";n.r(t);var i=n("ec41"),a=n("bd65");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"03e7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isShowDialog:!1,selectVal:"12",calenderVal:""}},methods:{alertHandle:function(){this.$create("ace-alert",{msg:"全局提示",type:"success"}).show()}}};t.default=i},"03e73":function(e,t,n){"use strict";n.r(t);var i=n("0b83"),a=n("e0c9");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"03ea":function(e,t,n){"use strict";n.r(t);var i=n("45d1"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"03ff":function(e,t,n){"use strict";n.r(t);var i=n("b1e7"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"04bf":function(e,t,n){"use strict";n.r(t);var i=n("91e3"),a=n("def2");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"04c2":function(e,t,n){},"04fe":function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("456d"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523"));n("7f7f"),n("6762"),n("2fdb");var r=i(n("448a"));n("ac6a"),n("96cf");var o=i(n("c973")),s=i(n("df7c")),l=n("ed08"),u=n("cc5e"),c=i(n("9923"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function p(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var g={key:"",name:"",description:"",routes:[]},v={data:function(){return{role:Object.assign({},g),routes:[],rolesList:[],dialogVisible:!1,dialogType:"new",checkStrictly:!1,defaultProps:{children:"children",label:"title"}}},computed:{routesData:function(){return this.routes}},created:function(){this.getRoutes(),this.getRoles()},methods:{getRoutes:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.getRoutes)();case 2:t=e.sent,this.serviceRoutes=t.data,n=this.generateRoutes(t.data),this.routes=this.i18n(n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getRoles:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.getRoles)();case 2:t=e.sent,this.rolesList=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),i18n:function(e){var t=this,n=e.map((function(e){return e.title=c.default.t("route.".concat(e.title)),e.children&&(e.children=t.i18n(e.children)),e}));return n},generateRoutes:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[],a=f(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(!r.hidden){var o=this.onlyOneShowingChild(r.children,r);r.children&&o&&!r.alwaysShow&&(r=o);var l={path:s.default.resolve(n,r.path),title:r.meta&&r.meta.title};r.children&&(l.children=this.generateRoutes(r.children,l.path)),i.push(l)}}}catch(u){a.e(u)}finally{a.f()}return i},generateArr:function(e){var t=this,n=[];return e.forEach((function(e){if(n.push(e),e.children){var i=t.generateArr(e.children);i.length>0&&(n=[].concat((0,r.default)(n),(0,r.default)(i)))}})),n},handleAddRole:function(){this.role=Object.assign({},g),this.$refs.tree&&this.$refs.tree.setCheckedNodes([]),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){var t=this;this.dialogType="edit",this.dialogVisible=!0,this.checkStrictly=!0,this.role=(0,l.deepClone)(e.row),this.$nextTick((function(){var e=t.generateRoutes(t.role.routes);t.$refs.tree.setCheckedNodes(t.generateArr(e)),t.checkStrictly=!1}))},handleDelete:function(e){var t=this,n=e.$index,i=e.row;this.$confirm("Confirm to remove the role?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.deleteRole)(i.key);case 2:t.rolesList.splice(n,1),t.$message({type:"success",message:"Delete succed!"});case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},generateTree:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=arguments.length>2?arguments[2]:void 0,a=[],r=f(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,l=s.default.resolve(n,o.path);o.children&&(o.children=this.generateTree(o.children,l,i)),(i.includes(l)||o.children&&o.children.length>=1)&&a.push(o)}}catch(u){r.e(u)}finally{r.f()}return a},confirmRole:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="edit"===this.dialogType,n=this.$refs.tree.getCheckedKeys(),this.role.routes=this.generateTree((0,l.deepClone)(this.serviceRoutes),"/",n),!t){e.next=16;break}return e.next=6,(0,u.updateRole)(this.role.key,this.role);case 6:i=0;case 7:if(!(i<this.rolesList.length)){e.next=14;break}if(this.rolesList[i].key!==this.role.key){e.next=11;break}return this.rolesList.splice(i,1,Object.assign({},this.role)),e.abrupt("break",14);case 11:i++,e.next=7;break;case 14:e.next=22;break;case 16:return e.next=18,(0,u.addRole)(this.role);case 18:a=e.sent,r=a.data,this.role.key=r.key,this.rolesList.push(this.role);case 22:o=this.role,s=o.description,c=o.key,d=o.name,this.dialogVisible=!1,this.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>Role Key: ".concat(c,"</div>\n            <div>Role Name: ").concat(d,"</div>\n            <div>Description: ").concat(s,"</div>\n          "),type:"success"});case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onlyOneShowingChild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=null,i=e.filter((function(e){return!e.hidden}));return 1===i.length?(n=i[0],n.path=s.default.resolve(t.path,n.path),n):0===i.length&&(n=h(h({},t),{},{path:"",noShowingChildren:!0}),n)}}};t.default=v},"0512":function(e,t,n){"use strict";n.r(t);var i=n("11576"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0567":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleCreate()}}}),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",size:"mini",disabled:1!==e.selections.length},on:{click:function(t){return e.handleUpdate()}}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",size:"mini",disabled:0===e.selections.length},on:{click:function(t){return e.handleDelete()}}}),n("el-button",{staticClass:"oper-btn link-1",attrs:{type:"primary",size:"mini",disabled:1!==e.selections.length},on:{click:function(t){return e.bindRes()}}}),n("el-button",{staticClass:"oper-btn auth",attrs:{type:"primary",size:"mini",disabled:0===e.selections.length},on:{click:function(t){return e.authentic()}}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"数据角色名称",width:"200px",align:"center",prop:"dataRoleName"}}),n("el-table-column",{attrs:{label:"创建时间",width:"300px",align:"center",formatter:e.formatCreateTime,prop:"createTime"}}),n("el-table-column",{attrs:{label:"授权方式",width:"100px",align:"center",prop:"authenType",formatter:e.formatAuthenType}}),n("el-table-column",{staticStyle:{width:"50px"},attrs:{label:"数据筛选",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"oper-btn detail",attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.openFilterPanel(t.row.dataRoleUuid)}}})]}}])}),n("el-table-column",{staticStyle:{width:"400px"},attrs:{label:"数据有效期",prop:"timeDuring",formatter:e.formatDuring}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("div",{staticClass:"detail-form"},[[n("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"right"}},[n("el-form-item",{attrs:{label:"数据角色名称",prop:"dataRoleName"}},[n("el-input",{model:{value:e.temp.dataRoleName,callback:function(t){e.$set(e.temp,"dataRoleName",t)},expression:"temp.dataRoleName"}})],1),n("el-form-item",{attrs:{label:"授权方式",prop:"authenType"}},[n("el-select",{ref:"authenType",attrs:{placeholder:"请选择授权方式"},model:{value:e.temp.authenType,callback:function(t){e.$set(e.temp,"authenType",t)},expression:"temp.authenType"}},e._l(e.authenTypeJson,(function(e){return n("el-option",{key:e.codeValue,attrs:{label:e.codeName,value:e.codeValue}})})),1)],1),n("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",clearable:"","picker-options":e.startDatePicker,disabled:"view"==e.dialogStatus,type:"datetime",placeholder:"view"==e.dialogStatus?"":"请输入生效开始时间"},model:{value:e.temp.startTime,callback:function(t){e.$set(e.temp,"startTime",t)},expression:"temp.startTime"}})],1),n("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",clearable:"","picker-options":e.endDatePicker,disabled:"view"==e.dialogStatus,type:"datetime",placeholder:"view"==e.dialogStatus?"":"请输入生效结束时间"},model:{value:e.temp.endTime,callback:function(t){e.$set(e.temp,"endTime",t)},expression:"temp.endTime"}})],1)],1)]],2),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("保存")])],1)]),n("el-dialog",{attrs:{title:"数据筛选选择",visible:e.filterVisible},on:{"update:visible":function(t){e.filterVisible=t}}},[[n("el-form",[n("el-form-item",e._l(e.allFilters,(function(t){return n("el-checkbox",{key:t.filterName,attrs:{label:t.filterName},model:{value:t.roleUuid,callback:function(n){e.$set(t,"roleUuid",n)},expression:"filter.roleUuid"}})})),1)],1)],n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.filterVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveRoleFilter}},[e._v("保存")])],1)],2)],1)},a=[]},"0583":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEuklEQVRYCcVXXWxURRSemXu7pTYKCIpu3YANKBKqD7LF/pHCkjXlQTHSmBh9kpgYEhOjTzapQoJPGp+IBolKYipmNSCJNJItFJRFWXyAJrwQfwurQQWEUru79854vrs7u3Nve9eNtmGSmzlzzjfnm3vuzJlzOauz9ff3R36+cGW94uoxpdgqzllUMRXFdM54jnQ50p3jih9ces/Co6lUqlCPa/5voHjvprtYYWqQKf604myMJhywBP9OMpW7xb49h/mTzuWoYDzqSvWwYmwzV6yNcTXEIvN2ZEcP/VaLI3QBfX19jX9cKwwwxbaR0z0RZr2VyRy+VMuZtnV2Ju8sMPdlcr6VwrNr8W2RncPDw3ltN/sZF1B66/x+Al5ktvVS9vjhcXNSvXJ8XTLGHPdtwrewSOMTM0Vj2gLW9iQelI76Qgn+zukTI2/US1YLt6Yr8SqX6gW7QWw6eTw9ZmJ9C/DePD+VZYK/kj0x8okJ/L9yvCvxFJPqTdY4L25GQmjH+OaskN+PN59tcnDAJ52Sd8HhcZWJKwvwNhx989kKu34xsz+VObKTxhfLXJ7JW4AXetrt2HDmBFNu70r0JJPJZlPX0fvocjymDhhgTZ1PBgdxeZxkKEWAzjmOWq3dLpXaffW67DadOXl3Gx5TBwywps6UwQEuL7eQQSDDIcngnJvAoEzZTiiLUpHZKO1RwvHpgAHWhAVlj4s4wS1K6ZWN1UoyOJqUUAYtZl0JOPORw8Yl+wvYjnUb2wLYyhBcyKrgFsjt5OVAxRoQHune2Os66oySap/jOt94xymA0cP2jg39FP4MsMWiPLu2K7Fe24I9OMEtcLEgtwcBeiyVXKllr5fsPmNMn7PaFOM+LF1W91etfgmc4Bb0waK4WPzm6oicXq+OSOIU4pCmhPJhpeJXQ6AMnOC2caU224tCF9DcEPtsovDLctqoMdqGv89v4nsNpxRJOlTltqBJfHBtUt0hFVtCb3bBaln4ubYFe9ykE4U/6RalVizm4WjGNjr64dTpzJHtBLhkW2IonU5XImAJa4iej/VE2Cyb7wP2VCb9+slU6m9tC/bgJBwlXiomivzG3UHAtDFnTzpStWh9vDPxoiudPY7rvgdZ6z0MYfU4rC9x8l+xCXMoJsKAoXrFXqO5q+kl2ugzbg/FhRjA6XFTHM6hkgnBhau5atBGCqWl5Xp712VrwC1Qw9Eu2lzvxCqOHzTk0M1WxfglygGPg1uggEQNhzLKD6k9ymZGnrFtq9uyRA/Jz9ZG+63gAie4hVe9UgGJGs4P84/oO0vu0jSjUYbcIl3/hgMGWAM2TfS4iBPcpUuDqlf6jlu9Gm4avKSgc/38glvF16bZbrR24TF1wABr6kwZHOBCxWzqGeX4HXScPvUp52AADnBp16UI0AilM3UtKCC1cbb79s4NA+Aoc3nuKRrVdjOKUt/5zf10fiJ2b+uIctXe6NLWptz4j19Vl/ffpXJZPoCy/NtjX/5gevJFQBu8SFD1SuM5/zHxRUAvAJF4aPXKjyYL7gNUy78fjbUuWhZbcXZ8/PsbGlOrxzlfEls2SD8ju+n6PrR4fuS5Y+nhyiVmzp0xAiagFI2b8HNqLgLyXP2e/wMeWTNxGNvD1AAAAABJRU5ErkJggg=="},"059f":function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523"));n("5df3"),n("1c4c");var r=i(n("c164")),o=i(n("333d")),s=i(n("04bf")),l=i(n("f0ed")),u=n("8ebc");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"GraphListTable",components:{QueryField:r.default,Pagination:o.default,PreviewGraph:s.default,PersonTree:l.default},data:function(){return{listLoading:!0,pageLoading:!1,personListLoading:!0,type:"privateGraphType",queryFields:[{label:"图形名称",name:"graphName",type:"fuzzyText",value:""},{label:"执行状态",name:"executeStatus",type:"select",default:"-1",data:[{name:"全部执行",value:1},{name:"部分执行",value:2},{name:"未执行",value:3}]}],pageQuery:{condition:null,pageNo:1,pageSize:20},total:0,dataList:[],personDataList:[],initPreviewGraph:!1,graphUuid:"",showDelBtn:!0,detailGraphBtn:!0,editGraphBtn:!0,deleteGraphBtn:!0,shareGraphBtn:!0,cancelShareGraphBtn:!0,runGraphBtn:!0,publicGraphBtn:!0,cancelPublicGraphBtn:!0,personTreeDialogVisible:!1,sharedPersonDialogVisible:!1}},mounted:function(){this.getGraphList()},methods:{getGraphList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,u.getGrapgListByType)(this.pageQuery,{type:this.type}).then((function(e){t.total=e.data.total,t.dataList=e.data.records,t.listLoading=!1})).catch((function(){t.listLoading=!1}))},listSelectChange:function(e){0===e.length?(this.editGraphBtn=!0,this.cancelShareGraphBtn=!0,this.runGraphBtn=!0,this.deleteGraphBtn=!0,this.shareGraphBtn=!0,this.publicGraphBtn=!0,this.cancelPublicGraphBtn=!0):(1===e.length&&(this.editGraphBtn=!1,this.cancelShareGraphBtn=!1,this.runGraphBtn=!1),this.deleteGraphBtn=!1,this.shareGraphBtn=!1,this.publicGraphBtn=!1,this.cancelPublicGraphBtn=!1)},detail:function(e){this.graphUuid=e,this.initPreviewGraph=!0},add:function(){var e=this.$parent.$parent.$refs.graphTree.$refs.tree.getCurrentNode(),t=1;switch(e.id){case"personScreenGraph":t=2;break;case"screenGraph":t=3;break}this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:"新增图形",path:"/graphtool/tooldic?openGraphType=".concat(t,"&openType=2")}})},edit:function(){var e=this.$refs.graphListTable.selection,t=e[0].graphType,n=e[0].publicType,i="";3===t?(i="?graphUuid="+e[0].graphUuid+"&openType=2",i+=1===n?"&openGraphType=3":"&openGraphType=2"):i="?graphUuid="+e[0].graphUuid+"&openGraphType=1&openType=2",this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:e[0].graphName,path:"/graphtool/tooldic".concat(i)}})},deleteGraph:function(){var e=this,t=this.$refs.graphListTable.selection;this.$confirm(this.$t("confirm.delete"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.okBtn"),cancelButtonText:this.$t("confirm.cancelBtn"),type:"warning"}).then((function(){e.pageLoading=!0;var n=e.getUuidsANdNames(t);(0,u.deleteGraphInfoById)(n.graphUuids).then((function(t){e.pageLoading=!1,e.$notify({title:e.$t("message.title"),message:e.$t("message.delete.success"),type:"success",duration:2e3,position:"bottom-right"}),e.listSelectChange([]),e.getGraphList(),e.$emit("refreshGraphTree")})).catch((function(){e.pageLoading=!1,e.$message.error(e.$t("message.delete.fail"))}))})).catch((function(){}))},share:function(){this.personTreeDialogVisible=!0},shareGraph:function(){var e=this,t=this.$refs.personTree.getSelectValue(),n=[],i=[];0===t.length?this.$refs.personTree.$message({type:"warning",message:"请选择人员"}):Array.from(t,(function(e){n.push(e.personuuid),i.push(e.cnname)}));var a=this.$store.getters.personuuid,r={personUuids:n.join(","),personNames:i.join("、")};if(r.personUuids.indexOf(a)>-1)this.$message({type:"warning",message:"不可将个人图形分享给自己"});else{this.pageLoading=!0;var o=this.$refs.graphListTable.selection,s=this.getUuidsANdNames(o);this.personTreeDialogVisible=!1,(0,u.shareGraph)(d(d({},s),r)).then((function(t){e.pageLoading=!1,e.$notify({title:e.$t("message.title"),message:e.$t("图形分享成功"),type:"success",duration:2e3,position:"bottom-right"}),e.$emit("refreshGraphTree")})).catch((function(){e.pageLoading=!1}))}},cancelShare:function(){var e=this;this.$confirm(this.$t("确认取消分享？"),this.$t("提示"),{confirmButtonText:this.$t("confirm.okBtn"),cancelButtonText:this.$t("confirm.cancelBtn"),type:"warning"}).then((function(){var t=e.$refs.graphListTable.selection;e.sharedPersonDialogVisible=!0,e.$nextTick((function(){(0,u.selectSharedPerson)(t[0].graphUuid).then((function(t){e.personDataList=t.data,e.personListLoading=!1})).catch((function(){e.personListLoading=!1}))}))})).catch((function(){}))},cancelShareGraphBack:function(){var e=this,t=this.$refs.sharedPersonListTable.selection;if(0===t.length)this.$message({type:"warning",message:"请选择人员"});else{this.sharedPersonDialogVisible=!1,this.pageLoading=!0;var n=this.$refs.graphListTable.selection,i={graphUuid:n[0].graphUuid,graphName:n[0].graphName},a=[],r=[];Array.from(t,(function(e){a.push(e.sharedPersonUuid),r.push(e.sharedPersonName)}));var o={personUuids:a.join(","),personNames:r.join("、")};(0,u.cancelShareGraph)(d(d({},i),o)).then((function(t){e.pageLoading=!1,e.$notify({title:e.$t("message.title"),message:e.$t("取消分享成功"),type:"success",duration:2e3,position:"bottom-right"}),e.listSelectChange([]),e.getGraphList(),e.$emit("refreshGraphTree")})).catch((function(){e.pageLoading=!1}))}},run:function(){var e=this;this.pageLoading=!0;var t=this.$refs.graphListTable.selection,n=t[0].graphUuid,i=t[0].graphName;(0,u.searchGraphNodes)({graphUuid:n,graphName:i}).then((function(a){if(e.pageLoading=!1,null==a.data)e.$message.error("获取图形节点信息时出错");else if(a.data.isError)e.$message.error("获取图形节点信息时出错");else{var r=a.data.nodeList;0===r.length?e.$message({type:"warning",message:"您选择的场景查询图形暂无数据节点"}):(e.$parent.$parent.screenParam.graphUuid=n,e.$parent.$parent.screenParam.graphName=i,e.$parent.$parent.screenParam.publicType=t[0].publicType,e.$parent.$parent.screenParam.nodeData=r[0].extMap.nodeData,e.$parent.$parent.screenParam.screenQueryNodeArr=r,e.$parent.$parent.rightType="runGraph")}})).catch((function(){e.pageLoading=!1}))},publicGraph:function(){var e=this,t=this.$refs.graphListTable.selection;this.$confirm(this.$t("确定发布为公共场景查询图形？"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.okBtn"),cancelButtonText:this.$t("confirm.cancelBtn"),type:"warning"}).then((function(){e.pageLoading=!0;var n=e.getUuidsANdNames(t);(0,u.publicGraph)(n.graphUuids).then((function(t){e.pageLoading=!1,e.$notify({title:e.$t("message.title"),message:e.$t("发布成功"),type:"success",duration:2e3,position:"bottom-right"}),e.listSelectChange([]),e.getGraphList(),e.$emit("refreshGraphTree")})).catch((function(){e.pageLoading=!1,e.$message.error(e.$t("发布失败"))}))})).catch((function(){}))},cancelPublic:function(){var e=this,t=this.$refs.graphListTable.selection;this.$confirm(this.$t("确定取消已发布的公共场景查询图形？"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.okBtn"),cancelButtonText:this.$t("confirm.cancelBtn"),type:"warning"}).then((function(){e.pageLoading=!0;var n=e.getUuidsANdNames(t);(0,u.cancelPublicGraph)(n.graphUuids).then((function(t){e.pageLoading=!1,e.$notify({title:e.$t("message.title"),message:e.$t("取消发布成功"),type:"success",duration:2e3,position:"bottom-right"}),e.listSelectChange([]),e.getGraphList(),e.$emit("refreshGraphTree")})).catch((function(){e.pageLoading=!1,e.$message.error(e.$t("取消发布失败"))}))})).catch((function(){}))},getUuidsANdNames:function(e){for(var t="",n="",i=0;i<e.length;i++){var a=e[i].graphUuid,r=e[i].graphName;""===t?(t=a,n=r):(t="".concat(t,",").concat(a),n="".concat(n,"、").concat(r))}return{graphUuids:t,graphNames:n}},graphTypeFormatter:function(){var e="";switch(this.type){case"screenGraphType":e="场景查询图形";break;case"personScreenGraphType":e="个人场景查询图形";break;case"privateGraphType":e="个人图形";break;case"sharedGraphType":e="他人分享图形";break;case"shareToGraphType":e="我的分享图形";break}return e},stasusFormatter:function(e){var t=e.executeStatus,n="";switch(t){case 1:n="全部执行";break;case 2:n="部分执行";break;case 3:n="未执行";break}return n},dateFormatter:function(e){var t=e.createTime;this.sharedPersonDialogVisible&&(t=e.sharedTime);var n="";if(t&&t.trim().length>0){var i=new Date(t),a=i.getFullYear(),r=this.convertData(i.getMonth()+1),o=this.convertData(i.getDate()),s=this.convertData(i.getHours()),l=this.convertData(i.getMinutes()),u=this.convertData(i.getSeconds());n=a+"-"+r+"-"+o+" "+s+":"+l+":"+u}return n},convertData:function(e){return e<10&&(e="0".concat(e)),e}}};t.default=h},"05b6":function(e,t,n){"use strict";n.r(t);var i=n("9236"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"05c6":function(e,t,n){"use strict";function i(e,t){for(var n="js"==t?"script":"css"==t?"link":"none",i="js"==t?"src":"css"==t?"href":"none",a=document.getElementsByTagName(n),r=a.length;r>=0;r--)a[r]&&null!=a[r].getAttribute(i)&&-1!=a[r].getAttribute(i).indexOf(e)&&a[r].parentNode.removeChild(a[r])}function a(e,t){if(!document.getElementById(t)){var n=document.createElement("link");n.rel="stylesheet",n.href=e,n.id=t,document.body.appendChild(n)}}function r(e,t){if(!document.getElementById(t)){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.id=t,document.body.appendChild(n)}}function o(){for(var e=[],t="0123456789abcdef",n=0;n<32;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23];var i=e.join("");return i}Object.defineProperty(t,"__esModule",{value:!0}),t.removeJcCssfile=i,t.addCssFile=a,t.addJsFile=r,t.getUuid=o},"05dc":function(e,t,n){(function(e){var i,a,r;n("4917");var o=n("7037");(function(s){"object"==o(t)&&"object"==o(e)?s(n("cf87")):(a=[n("cf87")],i=s,r="function"===typeof i?i.apply(t,a):i,void 0===r||(e.exports=r))})((function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,i={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function a(e){return e&&e.bracketRegex||/[(){}[\]]/}function r(e,t,r){var o=e.getLineHandle(t.line),l=t.ch-1,u=r&&r.afterCursor;null==u&&(u=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=a(r),d=!u&&l>=0&&c.test(o.text.charAt(l))&&i[o.text.charAt(l)]||c.test(o.text.charAt(l+1))&&i[o.text.charAt(++l)];if(!d)return null;var h=">"==d.charAt(1)?1:-1;if(r&&r.strict&&h>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(n(t.line,l+1)),p=s(e,n(t.line,l+(h>0?1:0)),h,f||null,r);return null==p?null:{from:n(t.line,l),to:p&&p.pos,match:p&&p.ch==d.charAt(0),forward:h>0}}function s(e,t,r,o,s){for(var l=s&&s.maxScanLineLength||1e4,u=s&&s.maxScanLines||1e3,c=[],d=a(s),h=r>0?Math.min(t.line+u,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-u),f=t.line;f!=h;f+=r){var p=e.getLine(f);if(p){var m=r>0?0:p.length-1,g=r>0?p.length:-1;if(!(p.length>l))for(f==t.line&&(m=t.ch-(r<0?1:0));m!=g;m+=r){var v=p.charAt(m);if(d.test(v)&&(void 0===o||e.getTokenTypeAt(n(f,m+1))==o)){var y=i[v];if(y&&">"==y.charAt(1)==r>0)c.push(v);else{if(!c.length)return{pos:n(f,m),ch:v};c.pop()}}}}}return f-r!=(r>0?e.lastLine():e.firstLine())&&null}function l(e,i,a){for(var o=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&r(e,l[u].head,a);if(c&&e.getLine(c.from.line).length<=o){var d=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(c.from,n(c.from.line,c.from.ch+1),{className:d})),c.to&&e.getLine(c.to.line).length<=o&&s.push(e.markText(c.to,n(c.to.line,c.to.ch+1),{className:d}))}}if(s.length){t&&e.state.focused&&e.focus();var h=function(){e.operation((function(){for(var e=0;e<s.length;e++)s[e].clear()}))};if(!i)return h;setTimeout(h,800)}}function u(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=l(e,!1,e.state.matchBrackets)}))}e.defineOption("matchBrackets",!1,(function(t,n,i){function a(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)}i&&i!=e.Init&&(t.off("cursorActivity",u),t.off("focus",u),t.off("blur",a),a(t)),n&&(t.state.matchBrackets="object"==o(n)?n:{},t.on("cursorActivity",u),t.on("focus",u),t.on("blur",a))})),e.defineExtension("matchBrackets",(function(){l(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),r(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,n,i){return s(this,e,t,n,i)}))}))}).call(this,n("62e4")(e))},"068e":function(e,t,n){"use strict";n.r(t);var i=n("b7d6"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"06f6":function(e,t,n){"use strict";n("8706")},"06f9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.editorModelLoading,expression:"editorModelLoading"}],staticClass:"app-container"},[i("el-container",{staticClass:"el-container"},[i("div",{ref:"modelDesign",staticClass:"div-width"},[i("el-form",{ref:"modelDesignForm",attrs:{model:e.form,rules:e.modelDesignRules,disabled:e.isBanEdit}},[e._l(e.modelTypeObj,(function(t){return i("div",{key:t.id,staticClass:"sqlEditorParamWidthOn",attrs:{value:t.id,label:t.id,id:"graphDiv"}},[t.id==e.sqlEditorStr?i("SQLEditor",{ref:"SQLEditor",refInFor:!0,staticClass:"sql-editor",attrs:{"data-user-id":e.dataUserId,"scene-code1":e.sceneCode,modelUuid:e.form.modelUuid,"sql-editor-param-obj":e.sqlEditorParamObj,"sql-value":e.form.sqlValue,callType:e.editorModel,locationUuid:e.form.locationUuid,locationName:e.form.locationName},on:{getSqlObj:e.getSqlObj}}):e._e(),t.id==e.graphEditorStr?i("graph",{ref:"graph",refInFor:!0,attrs:{graphUuidParam:e.form.graphUuid,openGraphTypeParam:"4",openTypeParam:"2"}}):e._e()],1)})),i("div",{directives:[{name:"show",rawName:"v-show",value:e.modelInfoDraw,expression:"modelInfoDraw"}],staticClass:"modelInfoClass",staticStyle:{width:"26%",position:"absolute",height:"calc(100% - 63px)"}},[i("div",{ref:"basicInfo",staticClass:"detail-form"},[i("el-form",{ref:"basicInfoForm",attrs:{model:e.form,rules:e.basicInfoRules,disabled:e.isBanEdit}},[i("el-row",[i("el-col",{attrs:{span:20}},[i("el-form-item",{attrs:{label:"模型名称",prop:"modelName"}},[i("el-input",{model:{value:e.form.modelName,callback:function(t){e.$set(e.form,"modelName",t)},expression:"form.modelName"}})],1)],1)],1),i("el-row",[i("el-form-item",{attrs:{label:"业务分类"}},[i("el-col",{attrs:{span:18}},[i("el-input",{staticClass:"display",attrs:{disabled:!0},model:{value:e.form.modelFolderUuid,callback:function(t){e.$set(e.form,"modelFolderUuid",t)},expression:"form.modelFolderUuid"}}),i("el-input",{attrs:{disabled:!0},model:{value:e.form.modelFolderName,callback:function(t){e.$set(e.form,"modelFolderName",t)},expression:"form.modelFolderName"}})],1),i("el-col",{attrs:{span:2}},[i("el-button",{ref:"businessFolderBtnRef",attrs:{type:"primary"},on:{click:function(t){e.modelFolderTreeDialog=!0}}},[e._v("选择")])],1),i("el-col",{attrs:{span:2}})],1)],1),i("el-row",[i("el-form-item",{attrs:{label:"审计事项",prop:"auditItemUuid"}},[i("el-col",{attrs:{span:18}},[i("el-input",{staticClass:"display",attrs:{disabled:!0},model:{value:e.form.auditItemUuid,callback:function(t){e.$set(e.form,"auditItemUuid",t)},expression:"form.auditItemUuid"}}),i("el-input",{attrs:{disabled:!0},model:{value:e.form.auditItemName,callback:function(t){e.$set(e.form,"auditItemName",t)},expression:"form.auditItemName"}})],1),i("el-button",{attrs:{type:"primary"},on:{click:e.showAuditItemTree}},[e._v("选择")])],1)],1),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"风险等级",prop:"riskLevelUuid"}},[i("el-select",{staticStyle:{width:"67%"},attrs:{placeholder:"请选择风险等级"},model:{value:e.form.riskLevelUuid,callback:function(t){e.$set(e.form,"riskLevelUuid",t)},expression:"form.riskLevelUuid"}},e._l(e.riskLeve,(function(e){return i("el-option",{key:e.codeValue,attrs:{value:e.codeValue,label:e.codeName}})})),1)],1)],1),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"模型类型",prop:"modelType"}},[i("el-select",{staticStyle:{width:"67%"},attrs:{disabled:"",placeholder:"请选择模型类型"},model:{value:e.form.modelType,callback:function(t){e.$set(e.form,"modelType",t)},expression:"form.modelType"}},e._l(e.modelTypeData,(function(e){return i("el-option",{key:e.codeValue,attrs:{value:e.codeValue,label:e.codeName}})})),1)],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:20}},[i("el-form-item",{attrs:{label:"审计思路"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.form.auditIdeas,callback:function(t){e.$set(e.form,"auditIdeas",t)},expression:"form.auditIdeas"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:20}},[i("el-form-item",{attrs:{label:"参数条件"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.form.paramConditions,callback:function(t){e.$set(e.form,"paramConditions",t)},expression:"form.paramConditions"}})],1)],1)],1)],1)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.useParamDraw,expression:"useParamDraw"}],staticClass:"modelInfoClass",staticStyle:{width:"50%",position:"absolute",height:"calc(100% - 63px)"}},[i("div",{ref:"paramDefaultValue",staticClass:"default-value"},[i("div",{staticStyle:{"font-size":"20px"}},[e._v(" 模型参数 "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"拖拽改变参数展示顺序",placement:"top-start"}},[i("i",{staticClass:"el-icon-info"})])],1),i("div",{attrs:{id:"paramList"}},[i("paramshownew",{directives:[{name:"show",rawName:"v-show",value:e.paramShowVIf,expression:"paramShowVIf"}],ref:"apple"})],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.resultConfigDraw,expression:"resultConfigDraw"}],staticClass:"modelInfoClass",staticStyle:{width:"50%",position:"absolute",height:"calc(100% - 63px)"}},[i("el-tabs",{staticStyle:{width:"92%"},attrs:{stretch:!0},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"模型结果",name:"first"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isExecuteSql,expression:"!isExecuteSql"}],staticClass:"notExecuteSqlClass",attrs:{align:"center"}},[e._v("执行SQL后才能设置")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isExecuteSql,expression:"isExecuteSql"}],ref:"modelResultOutputCol",staticClass:"default-value"},[i("div",{staticStyle:{"font-size":"20px"}},[e._v(" 模型结果 "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"只显示最后的结果列",placement:"top-start"}},[i("i",{staticClass:"el-icon-info"})])],1),i("div",{staticClass:"model-result-output-col"},[i("el-table",{ref:"columnData",staticClass:"div-width",attrs:{data:e.columnData}},[i("el-table-column",{attrs:{prop:"outputColumnName",label:"输出列名",width:"180"}}),i("el-table-column",{attrs:{prop:"dataCoding",label:"数据转码",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("SelectTransCode",{ref:"SelectTransCode",attrs:{transuuid:t.row.dataCoding},on:{"update:transuuid":function(n){return e.$set(t.row,"dataCoding",n)}}})]}}])}),i("el-table-column",{attrs:{prop:"columnName",label:"是否显示",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-select",{attrs:{placeholder:"是否显示",value:"1",disabled:e.isBanEdit},model:{value:t.row.isShow,callback:function(n){e.$set(t.row,"isShow",n)},expression:"scope.row.isShow"}},[i("el-option",{attrs:{label:"是",value:1}}),i("el-option",{attrs:{label:"否",value:0}})],1)]}}])}),i("el-table-column",{attrs:{prop:"columnName",label:"对应业务字段",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-select",{attrs:{value:"-1",disabled:e.isBanEdit},model:{value:t.row.businessFieldUuid,callback:function(n){e.$set(t.row,"businessFieldUuid",n)},expression:"scope.row.businessFieldUuid"}},e._l(e.businessColumnSelect,(function(e){return i("el-option",{key:e.attrCode,attrs:{value:e.attrCode,label:e.attrName}})})),1)]}}])}),i("el-table-column",{attrs:{prop:"columnName",label:"别名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{placeholder:"请输入别名",disabled:e.isBanEdit},model:{value:t.row.columnAlias,callback:function(n){e.$set(t.row,"columnAlias",n)},expression:"scope.row.columnAlias"}})]}}])})],1)],1)])]),i("el-tab-pane",{attrs:{label:"模型关联",name:"second"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isExecuteSql,expression:"!isExecuteSql"}],staticClass:"notExecuteSqlClass",attrs:{align:"center"}},[e._v("执行SQL后才能设置")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isExecuteSql,expression:"isExecuteSql"}],attrs:{id:"modelDetailDiv"}},[i("div",{staticStyle:{"font-size":"20px","margin-left":"3%"}},[e._v(" 模型关联 "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"在进行审计分析时，模型执行所生成的结果数据在业务逻辑上可能存着关联关系；\n                而在模型的设计过程中，同样可能需要利用到其他模型的执行结果。因此，为了满足这种模型之间的互相利用、相互辅助的功能需求，\n                系统允许用户对多个模型或sql进行关联。\n                用户通过本功能来创建并维护模型间的关联关系，以满足多模型联合执行分析的业务需求。\n                通过模型设计器，用户能够为当前的模型建立与其他可访问模型的关联关系，并将其分析结果引入到当前模型设计中。",placement:"top-start"}},[i("i",{staticClass:"el-icon-info"})])],1),i("el-row",[i("div",{staticStyle:{width:"94%"},attrs:{align:"right"}},[i("el-button",{staticClass:"oper-btn add",attrs:{disabled:e.modelRelatedButton.add,type:"primary"},on:{click:e.addModelRelation}}),i("el-button",{staticClass:"oper-btn edit",attrs:{disabled:e.modelRelatedButton.edit,type:"primary"},on:{click:e.editModelRelation}}),i("el-button",{staticClass:"oper-btn delete",attrs:{disabled:e.modelRelatedButton.delete,type:"primary"},on:{click:e.deleteModelRelation}})],1)]),i("el-table",{staticClass:"div-width",staticStyle:{"margin-left":"3%"},attrs:{data:e.modelDetails},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"60"}}),i("el-table-column",{attrs:{prop:"modelDetailName",label:"名称",width:"200"}}),i("el-table-column",{attrs:{prop:"modelDetailMemo",label:"描述",width:"200"}}),i("el-table-column",{attrs:{prop:"relationType",label:"关联类型",width:"200",formatter:e.modelTypeFormatter}})],1)],1)]),i("el-tab-pane",{attrs:{label:"模型条件",name:"third"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isExecuteSql,expression:"!isExecuteSql"}],staticClass:"notExecuteSqlClass",attrs:{align:"center"}},[e._v("执行SQL后才能设置")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isExecuteSql,expression:"isExecuteSql"}]},[i("div",{staticStyle:{"font-size":"20px","margin-left":"3%"}},[e._v(" 模型条件 "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"",placement:"top-start"}},[i("i",{staticClass:"el-icon-info"})])],1),i("el-row",[i("div",{staticStyle:{width:"94%"},attrs:{align:"right"}},[i("el-button",{staticClass:"oper-btn add",attrs:{disabled:e.thresholdButton.add,type:"primary"},on:{click:e.addthreshold}}),i("el-button",{staticClass:"oper-btn edit",attrs:{disabled:e.thresholdButton.edit,type:"primary"},on:{click:e.editthreshold}}),i("el-button",{staticClass:"oper-btn delete",attrs:{disabled:e.thresholdButton.delete,type:"primary"},on:{click:e.deleteThreshold}})],1)]),i("el-table",{staticClass:"div-width",staticStyle:{"margin-left":"3%"},attrs:{data:e.threshold},on:{"selection-change":e.handleSelectionChangeThreshold}},[i("el-table-column",{attrs:{type:"selection",width:"60"}}),i("el-table-column",{attrs:{prop:"modelResultColumnName",label:"阈值字段",width:"200"}}),i("el-table-column",{attrs:{prop:"operator",label:"运算符",width:"200"}}),i("el-table-column",{attrs:{prop:"thresholdValue.thresholdValueName",label:"阈值名称",width:"200"}})],1)],1)])],1)],1),i("div",{staticStyle:{"z-index":"1000",position:"absolute",float:"right",right:"15px",height:"calc(100% - 63px)",width:"45px","background-color":"#f7f7f7","border-radius":"0px 20px 20px 0px"}},[i("div",{style:{background:!0===e.changeBtn.one?"#fff":"transparent",height:"65.33px",borderTopRightRadius:"20px"},on:{click:function(t){return e.clickModelInfo()},mouseover:function(t){e.configurationSave1=!1},mouseleave:function(t){e.configurationSave1=!0}}},[e.configurationSave1?i("img",{staticClass:"rightButtonClass",attrs:{src:n("59f7")}}):e._e(),e.configurationSave1?e._e():i("span",{staticClass:"rightButtonClassa"},[e._v("基础信息")])]),i("div",{style:{background:!0===e.changeBtn.two?"#fff":"transparent",height:"65.33px"},on:{click:function(t){return e.clickUseParam()},mouseover:function(t){e.configurationSave2=!1},mouseleave:function(t){e.configurationSave2=!0}}},[e.configurationSave2?i("img",{staticClass:"rightButtonClass",attrs:{src:n("f251")}}):e._e(),e.configurationSave2?e._e():i("span",{staticClass:"rightButtonClassa"},[e._v("已用参数")])]),i("div",{style:{background:!0===e.changeBtn.three?"#fff":"transparent",height:"65.33px"},on:{click:function(t){return e.clickResultConfig()},mouseover:function(t){e.configurationSave3=!1},mouseleave:function(t){e.configurationSave3=!0}}},[e.configurationSave3?i("img",{staticClass:"rightButtonClass",attrs:{src:n("9beb")}}):e._e(),e.configurationSave3?e._e():i("span",{staticClass:"rightButtonClassa"},[e._v("结果展现")])]),i("el-button",{staticClass:"oper-btn save",staticStyle:{position:"absolute",bottom:"95px",left:"9px"},attrs:{type:"primary",size:"small"},on:{click:e.save}}),i("el-button",{staticClass:"oper-btn cancel",staticStyle:{position:"absolute",bottom:"35px",left:"-1px"},attrs:{type:"primary",size:"small"},on:{click:e.closeWinfrom}})],1),i("el-form-item",{staticClass:"display",attrs:{label:"模型sql",prop:"sqlValue"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.form.sqlValue,callback:function(t){e.$set(e.form,"sqlValue",t)},expression:"form.sqlValue"}})],1)],2)],1)]),e.auditItemTree?i("el-dialog",{attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.auditItemTree,title:"请选择审计事项",width:"80%"},on:{"update:visible":function(t){e.auditItemTree=t}}},[i("AuditItemTree",{ref:"auditItemTreeRef"}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.getAuditItem}},[e._v("确定")]),i("el-button",{on:{click:function(t){e.auditItemTree=!1}}},[e._v("取消")])],1)],1):e._e(),e.modelFolderTreeDialog?i("el-dialog",{attrs:{visible:e.modelFolderTreeDialog,title:"选择业务分类",width:"50%"},on:{"update:visible":function(t){e.modelFolderTreeDialog=t}}},[i("ModelFolderTree",{ref:"modelFolderTree",attrs:{"public-model":"editorModel"}}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.setBusinessFolder}},[e._v("确定")]),i("el-button",{on:{click:function(t){e.modelFolderTreeDialog=!1}}},[e._v("取消")])],1)],1):e._e(),e.modelDetailIsSee?i("el-dialog",{attrs:{visible:e.modelDetailIsSee,title:!0===e.modelDetailAdd?"添加模型关联":"修改模型关联",width:"50%"},on:{"update:visible":function(t){e.modelDetailIsSee=t}}},[e.modelDetailIsSee?i("model-detail",{ref:"child",style:e.modelDetailIsSeeHeight,attrs:{data:!0===e.modelDetailAdd?{}:e.editingModelDetail,operationtype:e.operationObj.operationType,columns:e.columnData}}):e._e(),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){!0===e.modelDetailAdd?e.createDetail():e.editModelRelationDetermine()}}},[e._v("确定")]),i("el-button",{on:{click:function(t){e.modelDetailIsSee=!1}}},[e._v("取消")])],1)],1):e._e(),e.thresholdIsSee?i("el-dialog",{attrs:{visible:e.thresholdIsSee,title:!0===e.thresholdAdd?"添加模型阈值":"修改模型阈值",width:"50%"},on:{"update:visible":function(t){e.thresholdIsSee=t}}},[e.thresholdIsSee?i("thresholdvaluerel",{ref:"thresholdChild",attrs:{setThreasholdValueObj:e.setThreasholdValueObj}}):e._e(),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){!0===e.thresholdAdd?e.createThreshold():e.editThresholdDetermine()}}},[e._v("确定")]),i("el-button",{on:{click:function(t){e.thresholdIsSee=!1}}},[e._v("取消")])],1)],1):e._e()],1)},a=[]},"071a":function(e,t,n){"use strict";n.r(t);var i=n("bd7b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"071a8":function(e,t,n){e.exports=n.p+"static/img/gonggao.41244204.png"},"071e":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("c164")),r=i(n("333d")),o=i(n("332b")),s=i(n("f092")),l=n("d75c"),u={components:{myZtree:o.default,Pagination:r.default,QueryField:a.default,addParamWindow:s.default},data:function(){return{tableKey:"errorUuid",listLoading:!1,pageQuery:{condition:null,pageNo:1,pageSize:20},total:0,list:null,queryFields:[{label:"参数名称",name:"paramName",type:"fuzzyText"},{label:"数据类型",name:"dataType",type:"select",data:[{name:"请选择",value:"-1"},{name:"数字",value:"num"},{name:"日期时间",value:"date"},{name:"文本",value:"str"}],default:"-1"},{label:"状态",name:"enabled",type:"select",data:[{name:"请选择",value:"-1"},{name:"启用",value:"1"},{name:"停用",value:"0"},{name:"测试",value:"2"}],default:"-1"}],selectedObj:[],selectedIds:[],addVisible:!1}},created:function(){this.getLikeList()},methods:{dateFormatter:function(e,t){var n=e.createTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds(),c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},handleSelectionChange:function(e){this.selectedObj=e;for(var t=[],n=0;n<e.length;n++)t.push(e[n].ammParamUuid);this.selectedIds=t},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},getLikeList:function(e){var t=this;void 0==e&&(e={}),this.listLoading=!0,this.pageQuery.condition=e,(0,l.getListByAmmParam)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},readEnabled:function(e,t){var n=e.enabled;return 0==n?"停用":1==n?"启用":2==n?"测试":void 0},readDataType:function(e,t){var n=e.dataType;return"str"==n?"文本":"num"==n?"数字":"date"==n?"日期时间":void 0},enableParam:function(){var e=this;0==this.selectedIds.length?alert("请选择后再进行启用"):(0,l.updateEnabled)(this.selectedIds.join(",")).then((function(t){1==t.data?(e.getLikeList(),e.$message({type:"success",message:"启用成功!"})):e.$message({type:"error",message:"启用失败!"})}))},disableParam:function(){var e=this;0==this.selectedIds.length?alert("请选择后再进行停用"):(0,l.updateDisenable)(this.selectedIds.join(",")).then((function(t){1==t.data?(e.getLikeList(),e.$message({type:"success",message:"停用成功!"})):e.$message({type:"error",message:"启用失败!"})}))},deleteParam:function(){var e=this;0==this.selectedIds.length?alert("请选择后再进行删除"):(0,l.deleteParams)(this.selectedIds.join(",")).then((function(t){1==t.data?(e.getLikeList(),e.$message({type:"success",message:"删除成功!"})):e.$message({type:"error",message:"删除失败!"})}))}}};t.default=u},"077d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={computed:{language:function(){return this.$store.getters.language}},methods:{handleSetLanguage:function(e){this.$i18n.locale=e,this.$store.dispatch("app/setLanguage",e),this.$message({message:"Switch Language Success",type:"success"})}}};t.default=i},"0781":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("24ab")),r=i(n("83d6")),o=r.default.showSettings,s=r.default.tagsView,l=r.default.fixedHeader,u=r.default.sidebarLogo,c=r.default.supportPinyinSearch,d={theme:a.default.theme,showSettings:o,tagsView:s,fixedHeader:l,sidebarLogo:u,supportPinyinSearch:c},h={CHANGE_SETTING:function(e,t){var n=t.key,i=t.value;e.hasOwnProperty(n)&&(e[n]=i)}},f={changeSetting:function(e,t){var n=e.commit;n("CHANGE_SETTING",t)}},p={namespaced:!0,state:d,mutations:h,actions:f};t.default=p},"078c":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-stop",use:"icon-oper-stop-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-stop"><defs><style type="text/css"></style></defs><path d="M510.9 60.7c-245.6 0-446.7 199.8-446.7 446.7C64.2 753 263.9 954 510.8 954s446.6-199.7 446.6-446.6c0.1-245.6-199.6-446.7-446.5-446.7z m139.8 574c0 8.8-7.2 16-16 16H389.3c-8.8 0-16-7.2-16-16V389.3c0-8.8 7.2-16 16-16h245.5c8.8 0 16 7.2 16 16v245.4z" p-id="1284" /></symbol>'});o.a.add(s);t["default"]=s},"0917":function(e,t,n){"use strict";n("36b1")},"095f":function(e,t,n){},"09a2":function(e,t,n){"use strict";n.r(t);var i=n("b390"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"09cf":function(e,t,n){"use strict";n.r(t);var i=n("724b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"09da":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-dropdown"})},a=[]},"09ed":function(e,t,n){"use strict";n.r(t);var i=n("c66d"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"09f4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollTo=o,Math.easeInOutQuad=function(e,t,n,i){return e/=i/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function a(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,n){var o=r(),s=e-o,l=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=l;var r=Math.easeInOutQuad(u,o,s,t);a(r),u<t?i(e):n&&"function"===typeof n&&n()};c()}},"0a29":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=i(n("c973"));n("28a5"),n("7f7f"),n("ac6a");var r=n("c24f"),o=i(n("d734")),s=n("01dd"),l=n("ca11"),u=n("7d21"),c=n("914d"),d={components:{MenuTree:o.default},data:function(){return{currentIndex:-1,websocket:null,isShowTreeList:!1,scrollTop:!1,isShowSettingList:!1,isShowToolsList:!1,isShrink:!1,nowAppName:"",menugroup:{},moremenugroup:[],defaultProps:{children:"children",label:"name"},activeName:"1",showHelpWidth:!1,showHelpHeight:!1,settingList:[{icon:"",name:"提醒事项",count:0,method:this.logoutRemind},{icon:"",name:"系统帮助",method:this.showHelp},{icon:"",name:"退出登陆",method:this.logout}],applications:[],workbenchImg:n("f717"),isThereReminder:!1,drawer:!1,loading:!1}},computed:{leftWidth:function(){return this.isShrink?64:120},currentMenuGroup:function(){if(0===this.applications.length)return[];var e=this.applications[this.currentIndex].id;return this.menugroup[e]},getPersonUuid:function(){return this.$store.getters.personuuid}},watch:{isShrink:{handler:function(e,t){this.$store.commit("aceState/setLeftMenuShrink",e)},immediate:!0},currentIndex:function(){this.currentIndexChange()},getPersonUuid:function(e,t){e&&""!=e&&(this.webSocket=this.getWebSocket(e))}},created:function(){this.init(),this.getPersonUuid&&(this.webSocket=this.getWebSocket(this.getPersonUuid))},mounted:function(){var e=this;(0,r.getUserRes)().then((function(t){t.data.application.forEach((function(t,i){e.applications.push({img:n("6075")("./icon".concat(i+1,".png")),name:t.name,id:t.id})})),t.data.menugroup.forEach((function(t){var n=[];t.menuList.forEach((function(t){n.push({id:t.id,name:t.name,path:e.getCleanSrc(t.src)})})),e.menugroup[t.appuuid]||(e.menugroup[t.appuuid]=[]),e.menugroup[t.appuuid].push({id:t.id,name:t.name,path:t.navurl,children:n}),e.moremenugroup=e.menugroup}));var i=JSON.parse(sessionStorage.getItem("sysDict"));null==i&&(0,s.cacheDict)().then((function(e){sessionStorage.setItem("sysDict",JSON.stringify(e.data))}))})).catch((function(e){console.error(e)})),(0,l.getUnReadRemind)().then((function(t){t.data<=99?e.settingList[0].count=t.data:e.settingList[0].count="···",0!==t.data&&(e.isThereReminder=!0)}))},methods:{init:function(){(0,u.querySystemTask)().then((function(e){}))},getWebSocket:function(e){var t="ws://"+window.location.host+":"+window.location.port+"/websocket?"+e+"systemTask";this.webSocket=new WebSocket(t),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(e){i(e)};var n=function(e){var t=JSON.parse(e.data);if("2"===t.taskStatus||2===t.taskStatus){var n="";n=void 0!==t.taskUrl&&""!==t.taskUrl?'<a style="font-style: normal;color: #17e1e1;text-decoration: underline;cursor: pointer;" href="/#'+t.taskUrl+'" id="messageTrack">'+t.taskName+"</a>":'<span style="font-style: normal;color: #17e1e1;text-decoration: underline;cursor: pointer;" id="messageTrack">'+t.taskName+"</span>",this.$notify({dangerouslyUseHTMLString:!0,title:"已完成",message:n,type:"success",duration:15e3,position:"bottom-right"})}},i=n.bind(this);this.webSocket.onerror=function(e){}},currentIndexChange:function(){},menuLeave:function(){this.currentIndex=-1,this.isShowTreeList=!1,this.isShowSettingList=!1},getStyle:function(e){return{background:"url(".concat(e,") no-repeat center center"),"background-size":"100% 100%"}},selectMenu:function(e,t){this.currentIndex=t,this.isShowTreeList=!0,this.isShowSettingList=!1,this.nowAppName=e.name,this.isShowToolsList=!1},action:function(e){"prev"===e?this.currentIndex=0===this.currentIndex?0:this.currentIndex-1:"next"===e&&(this.currentIndex=this.currentIndex===this.applications.length-1?this.applications.length-1:this.currentIndex+1)},jumpHome:function(){this.$router.push({path:"/ams/first"})},getCleanSrc:function(e){return-1!==e.indexOf("&resUUID")?e=e.split("&resUUID")[0]:-1!==e.indexOf("?resUUID")&&(e=e.split("?resUUID")[0]),e},logout:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.selectMenuIn(),sessionStorage.clear(),e.next=4,this.$store.dispatch("user/logout");case 4:this.$router.push("/login?redirect=".concat(this.$route.fullPath));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),logoutRemind:function(){this.$router.push({path:"/base/remind"})},showWith:function(e){this.isShowToolsList=e},widthChange:function(){this.isShrink=!this.isShrink},selectMenuIn:function(){this.$store.commit("aceState/setRightFooterTags",{type:"closeAll",val:""}),this.$router.push({path:"/ams/first"})},showHelp:function(){this.showHelpWidth=!this.showHelpWidth},ifFather:function(e){return!!e.children},handleNodeClick:function(e){var t=this;if(e.id<=1e3);else{this.loading=!0,this.showHelpHeight=!0;var n=e.id;(0,c.getByMenuId)(n).then((function(e){0===e.code&&null!==e.data?(""!==e.data.helpDocument?document.getElementById("readonlyChild").innerHTML=e.data.helpDocument:document.getElementById("readonlyChild").innerHTML="<p>暂无新手引导</p>",t.loading=!1):0===e.code&&null===e.data&&(document.getElementById("readonlyChild").innerHTML="<p>暂无新手引导</p>",t.loading=!1)}))}}}};t.default=d},"0a35":function(e,t,n){"use strict";n.r(t);var i=n("2773"),a=n("f4f5");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"0a64":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABESURBVDhPY4CBlpaW/6RgqDaIRmIBVo0wE0HAt2kHBgYBrBqJAVg1gmgYe9RGKIApJgZg1QiiYWz62EgMwNBIPG75DwDqFiVfpyzUmAAAAABJRU5ErkJggg=="},"0aa8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-calender",class:["light"===e.type&&"new-calender-light"]},[n("div",{staticClass:"calender-title flex a-center j-between flex-row",class:["light"===e.type&&"light"]},[n("i",{staticClass:"el-icon-arrow-left",on:{click:function(t){return e.actionHandle("prevMonth")}}}),n("span",{staticClass:"time"},[e._v(e._s(e.nowYear)+"年 "+e._s(e.nowZhMonth)+"月")]),n("i",{staticClass:"el-icon-arrow-right",on:{click:function(t){return e.actionHandle("nextMonth")}}})]),n("div",{staticClass:"calender-content",class:["light"===e.type&&"light"]},[n("div",{staticClass:"t-header flex a-center flex-row j-between"},e._l(e.weekList,(function(t,i){return n("div",{key:.1*i+.11,staticClass:"tb t-box"},[e._v(e._s(t))])})),0),n("div",{staticClass:"t-body flex a-center flex-row j-start"},[e._l(e.weekDay,(function(t){return n("div",{key:.2*t+.22,staticClass:"th th-color1 t-box"},[e._v(e._s(e.preMonthSize-e.weekDay+t))])})),e._l(e.monthList[e.nowMonth-1],(function(t){return n("div",{key:.3*t+.33,staticClass:"th th-color2 t-box",class:[e.getSelectData(t)&&"th-select"],on:{click:function(n){return e.selectDate(t)}}},[n("span",{class:[e.todayYear===e.nowYear&&e.todayMonth===e.nowMonth&&e.todayDay==t&&"today-text"]},[e._v(e._s(t))])])})),e._l(e.lastWeekDay,(function(t){return n("div",{key:.4*t+.44,staticClass:"th th-color1 t-box"},[e._v(e._s(t))])}))],2)])])},a=[]},"0ad9":function(e,t,n){"use strict";n.r(t);var i=n("d78c"),a=n("89d8");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"0adc":function(e,t,n){"use strict";n.r(t);var i=n("a03e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0b05":function(e,t,n){"use strict";n.r(t);var i=n("6db5"),a=n("eb75");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("4c7c");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"00a78ed7",null);t["default"]=s.exports},"0b5a":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vqb-children"},e._l(e.query.children,(function(t,i){return n(e.getComponent(t.type),{key:i,tag:"component",attrs:{type:t.type,query:t.query,"rule-types":e.ruleTypes,rules:e.rules,rule:e.$parent.ruleById(t.query.rule),index:i,"max-depth":e.maxDepth,depth:e.depth+1,labels:e.labels},on:{"update:query":function(n){return e.$set(t,"query",n)},"child-deletion-requested":e.$parent.removeChild}})})),1)},a=[]},"0b83":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticStyle:{"font-size":"large","font-weight":"bold"}},[e._v("基本信息")]),n("p",{staticStyle:{color:"silver","font-size":"large"}},[e._v("———————————————————————————")]),n("el-container",{staticStyle:{height:"450px"}},[n("div",{ref:"basicInfo",staticStyle:{float:"left"}},[n("el-form",{ref:"basicInfoForm",staticClass:"detail-form",attrs:{model:e.form,rules:e.rules,disabled:e.isBanEdit}},[n("el-form-item",{attrs:{label:"名称",prop:"filterName"}},[n("el-input",{on:{input:e.nameValueChange},model:{value:e.form.filterName,callback:function(t){e.$set(e.form,"filterName",t)},expression:"form.filterName"}})],1),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.filterMemo,callback:function(t){e.$set(e.form,"filterMemo",t)},expression:"form.filterMemo"}})],1),n("p",{staticStyle:{"font-size":"large","font-weight":"bold"}},[e._v("条件展示设置")]),n("p",{staticStyle:{color:"silver","font-size":"large"}},[e._v("———————————————————————————")]),n("el-row",[n("el-form-item",{attrs:{label:"过滤条件",prop:"filterValue"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{disabled:!0},model:{value:e.form.filterValue,callback:function(t){e.$set(e.form,"filterValue",t)},expression:"form.filterValue"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:e.showQueryBuilder}},[e._v("设置")])],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"字体颜色"}},[n("Colorpicker",{model:{value:e.form.fontColor,callback:function(t){e.$set(e.form,"fontColor",t)},expression:"form.fontColor"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"背景色"}},[n("Colorpicker",{model:{value:e.form.backGroundColor,callback:function(t){e.$set(e.form,"backGroundColor",t)},expression:"form.backGroundColor"}})],1)],1)],1)],1)],1)]),n("el-dialog",{attrs:{title:"条件设置",visible:e.queryBuilderDialogVisible,width:"30%","append-to-body":!0},on:{"update:visible":function(t){e.queryBuilderDialogVisible=t}}},[e.queryBuilderDialogVisible?n("myQueryBuilder",{ref:"myQueryBuilder",attrs:{columns:e.queryRules,data:e.form.queryBuilderJson}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.queryBuilderDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.queryCondition}},[e._v("确定")])],1)],1)],1)},a=[]},"0b84":function(e,t,n){"use strict";n.r(t);var i=n("1369"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0b86":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-card relative"},[n("div",{staticClass:"title"},[e._v("项目名称")]),n("div",{staticClass:"text nowrap"},[e._v("#2020年公司信贷业务专项问题审计")]),n("div",{staticClass:"card-box"},[n("div",{staticClass:"line flex a-center j-start flex-row line-top"},[n("div",{staticClass:"line-left",on:{click:function(t){e.isSelectCalender=!e.isSelectCalender}}},[n("div",{staticClass:"dropdown-link flex a-center j-start flex-row",class:[e.isSelectCalender&&"select-font"]},[n("span",{staticClass:"label"},[e._v("立项时间")]),n("i",{staticClass:"el-icon-arrow-down"})]),n("div",{staticClass:"info-text1"},[e._v(e._s(e.currentDate))])]),n("div",{staticClass:"line-right relative"},[n("div",{staticClass:"dropdown-link flex a-center j-start flex-row",on:{click:function(t){e.isShowDropdown=!e.isShowDropdown}}},[n("span",{staticClass:"label"},[e._v("立项人")]),n("i",{staticClass:"el-icon-arrow-down"})]),n("div",{staticClass:"info-text2"},[e._v(e._s(e.selectedName.trim().substr(0,1)))]),e.isShowDropdown?n("div",{staticClass:"dropdown-list-name dropdown-list"},e._l(e.nameList,(function(t,i){return n("div",{key:i,staticClass:"dropdown-list-line flex a-center j-start flex-row",on:{click:function(n){return e.selectName(t)}}},[n("span",{staticClass:"line-icon"},[e._v(e._s(t.name.trim().substr(0,1)))]),n("span",{staticClass:"line-name"},[e._v(e._s(t.name))])])})),0):e._e()])]),n("div",{staticClass:"line flex a-center j-start flex-row"},[n("div",{staticClass:"line-left relative"},[n("div",{staticClass:"dropdown-link flex a-center j-start flex-row",on:{click:function(t){e.isShowOrganDropdown=!e.isShowOrganDropdown}}},[n("span",{staticClass:"label"},[e._v("立项机构")]),n("i",{staticClass:"el-icon-arrow-down"})]),n("div",{staticClass:"info-text3"},[e._v("#"+e._s(e.selectedOrgan))]),e.isShowOrganDropdown?n("div",{staticClass:"dropdown-list-organ dropdown-list"},e._l(e.organList,(function(t,i){return n("div",{key:i,staticClass:"dropdown-list-line",on:{click:function(n){return e.selectOrgan(t)}}},[n("span",{staticClass:"line-name"},[e._v(e._s(t.name))])])})),0):e._e()]),n("div",{staticClass:"line-right relative"},[n("div",{staticClass:"dropdown-link flex a-center j-start flex-row",on:{click:function(t){e.isShowStatusDropdown=!e.isShowStatusDropdown}}},[n("span",{staticClass:"label"},[e._v("项目相同")]),n("i",{staticClass:"el-icon-arrow-down"})]),n("div",{staticClass:"info-text3"},[e._v(e._s(e.selectedStatus))]),e.isShowStatusDropdown?n("div",{staticClass:"dropdown-list-status dropdown-list"},e._l(e.statusList,(function(t,i){return n("div",{key:i,staticClass:"dropdown-list-line",on:{click:function(n){return e.selectStatus(t)}}},[n("span",{staticClass:"line-name"},[e._v(e._s(t.name))])])})),0):e._e()])])]),n("div",{staticClass:"btn-detail flex a-center j-center flex-row",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.searchDetail(t)}}},[n("span",[e._v("查询结果")]),n("i",{staticClass:"el-icon-search"})]),e.isSelectCalender?n("div",{staticClass:"new-calender-wrap"},[n("new-calender",{attrs:{"current-date":e.currentDate},on:{selectDate:e.selectDate}})],1):e._e()])},a=[]},"0b92":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"auto","padding-left":"35px"}},[n("el-row",{staticStyle:{height:"30px","line-height":"30px",color:"red",margin:"10px 0"}},[e._v("注：字段的排序顺序是由选择字段时的前后顺序决定")]),n("el-transfer",{attrs:{filterable:"","filter-placeholder":"请输入搜索内容","target-order":"push",data:e.columnData,titles:["可选字段","排序字段"]},on:{change:e.changeSortData},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.option;return n("span",{},[i.showSort?e._e():n("el-row",[e._v(e._s(i.label))]),i.showSort?n("el-row",[i.isTip?n("el-col",{ref:"sortCol",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:14,dataKey:i.key}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.label,placement:"top"}},[n("span",[e._v(e._s(i.label))])])],1):e._e(),i.isTip?e._e():n("el-col",{ref:"sortCol",attrs:{span:14}},[e._v(e._s(i.label))]),n("el-col",{attrs:{span:10}},[i.showSort?n("el-radio",{attrs:{label:"ASC"},model:{value:i.sortType,callback:function(t){e.$set(i,"sortType",t)},expression:"option.sortType"}},[e._v("升序")]):e._e(),i.showSort?n("el-radio",{attrs:{label:"DESC"},model:{value:i.sortType,callback:function(t){e.$set(i,"sortType",t)},expression:"option.sortType"}},[e._v("降序")]):e._e()],1)],1):e._e()],1)}}]),model:{value:e.columnDataValue,callback:function(t){e.columnDataValue=t},expression:"columnDataValue"}})],1)},a=[]},"0c12":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("ac6a"),n("20d6");var a=i(n("333d")),r=n("41a6"),o=i(n("c164")),s=n("ed08"),l={components:{Pagination:a.default,QueryField:o.default},data:function(){return{sceneCode:this.$route.params.sceneCode,startDatePicker:this.beginDate(),endDatePicker:this.processDate(),tableKey:"dataRoleUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"数据角色名称",name:"dataRoleName",type:"text",value:""}],pageQuery:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},authenTypeJson:[],temp:{dataRoleUuid:void 0,dataRoleName:"",authenType:"",filterState:"",startTime:"",endTime:""},selections:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"修改数据角色",create:"新增数据角色"},dialogPvVisible:!1,rules:{dataRoleName:[{required:!0,message:"请填写数据角色名称",trigger:"change"}],authenType:[{required:!0,message:"请选择授权方式",trigger:"change"}],startTime:[{required:!0,message:"请填写生效开始时间",trigger:"change"}],endTime:[{required:!0,message:"请填写生效结束时间",trigger:"change"}]},downloadLoading:!1,filterVisible:!1,currentRoleUuid:"",allFilters:[]}},computed:{},created:function(){this.getList()},methods:{beginDate:function(){var e=this;return{disabledDate:function(t){if(e.temp.endTime)return new Date(e.temp.endTime).getTime()<t.getTime()}}},processDate:function(){var e=this;return{disabledDate:function(t){if(e.temp.startTime)return new Date(e.temp.startTime).getTime()>t.getTime()}}},getList:function(e){var t=this;this.authenTypeJson=(0,s.getDictList)("004001"),this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,r.listByPage)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},resetTemp:function(){this.temp={dataRoleUuid:void 0,dataRoleName:"",authenType:"",filterState:"",startTime:"",endTime:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this,t=new Date(this.temp.startTime);this.temp.startTime=t;var n=new Date(this.temp.endTime);this.temp.endTime=n,this.$refs["dataForm"].validate((function(t){t&&(0,r.save)(e.temp).then((function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},handleUpdate:function(){var e=this;this.temp=Object.assign({},this.selections[0]);var t=new Date(this.temp.startTime);this.temp.startTime=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();var n=new Date(this.temp.endTime);this.temp.endTime=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},formatCreateTime:function(e,t){var n=new Date(e.createTime),i=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();return i},formatAuthenType:function(e,t){var n=(0,s.getDictList)("004001"),i=n.filter((function(t){return t.codeValue===e.authenType}));if(null!==i)return i[0].codeName},formatDuring:function(e,t){var n=new Date(e.startTime),i=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),a=new Date(e.endTime),r=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();return i+"至"+r},updateData:function(){var e=this,t=new Date(this.temp.startTime);this.temp.startTime=t;var n=new Date(this.temp.endTime);this.temp.endTime=n,this.$refs["dataForm"].validate((function(t){if(t){var n=Object.assign({},e.temp);(0,r.update)(n).then((function(){var t=e.list.findIndex((function(t){return t.dataRoleUuid===e.temp.dataRoleUuid}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},handleDelete:function(){var e=this,t=[];this.selections.forEach((function(e,n){t.push(e.dataRoleUuid)})),this.$confirm("确定删除该角色?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){(0,r.del)(t.join(",")).then((function(){e.getList(),e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},handleSelectionChange:function(e){this.selections=e},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"},authentic:function(){var e=this.selections[0].dataRoleUuid,t=this.sceneCode;this.$router.push({path:"/data/roleGrp/".concat(e,"/").concat(t)})},bindRes:function(){var e=this.selections[0].dataRoleUuid;this.$router.push({path:"/data/roleRes/"+e})},openFilterPanel:function(e){var t=this;(0,r.getSceneFilter)(e,this.sceneCode).then((function(n){console.log(n.data),n.data.forEach((function(e){e.roleUuid=null!=e.roleUuid})),t.allFilters=n.data,t.filterVisible=!0,t.currentRoleUuid=e}))},handleSaveRoleFilter:function(){var e=this,t=[];this.allFilters.forEach((function(n){t.push({sceneFilterUuid:n.sceneFilterUuid,dataRoleUuid:e.currentRoleUuid,isSave:n.roleUuid})})),(0,r.changeRoleFilter)(t).then((function(t){e.$notify((0,s.commonNotify)({type:"success",message:"保存成功！"})),e.filterVisible=!1}))}}};t.default=l},"0c58":function(e,t,n){},"0c7b":function(e,t,n){"use strict";n("b065")},"0c96":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPage=s,t.save=l,t.saveTableRelation=u,t.update=c,t.del=d,t.delByTableId=h,t.getById=f;var a=i(n("b775")),r="/data",o="tableRelation";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/selectPage"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/saveTableRelation"),method:"post",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function d(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}function h(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delByTableId"),method:"get",params:{id:e}})}function f(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getById"),method:"get",params:{id:e}})}},"0cc2":function(e,t,n){"use strict";n("44e5")},"0ccf":function(e,t,n){"use strict";n.r(t);var i=n("ba91"),a=n("ec67");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"0cdf":function(e,t,n){"use strict";n.r(t);var i=n("b96b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0ce7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHKADAAQAAAABAAAAHAAAAABkvfSiAAADvklEQVRIDb1WXUhUURCee1d90FAj8SejNIMIIjDd3CC1IqkENbAQSpSoXnoK6iGqlyAioqCnXipCMV9KSBfsx6jUoLW1gghCyLTI/EFJJYW0vbf5jp7TuVddTcqBu/ecOTPz7cydMzMGLYCaBhozjUlrHxmUSzalkmGvFGq28Y15PcxrtSPN+wWJhW/nM2eEE3jS699PFl2widaHk5NnbKyDTDq3K6XonuS537MCNvc9Sp8ITdSysM+tsMB9IMoTdTA/eXeXW34G4NPexnzLCtWxVyvcwn+zZ8NDpukp3ZlS2KzrOQAFmG012bYdqQuFLItedXdSkJ+Pg/30feyHOF4es4zWJSSRNy2DtvDjMU1djQzDmDQNs0AHVYAI42RoIuj2LPi5k6oCLdQ/OuIw5t4kx8ZThS+XvGsyHEfwNNIT5ZXhjZCn099MhdHm1LvT9oLq370WIhsS06hicyHtyMimVXGJgvd1ZICedbZT9ZtG+jDQTZcf+6lkUxYdytnGyTvlCxyYtr0VSoKLbLQtuiusTP/UtLUKsAjTQxf3HKcj2UXE4dFF1Npi5Vvtfjrz8Dr9skICtDwnV51jwaoHkL1TFjj19VOEEZ4BrK78Eh3zlswJBj38EchAFjrQhQ0HTWOYuNTstrpnSBB8MxA8y0vPdOiF20AWOqDqQCvBliRgAMsUFURy+Y1sRILgmx31FmsnC1si9NDtGx0WtnQtYJn8FR3BRuqDkCDyw+tK+npofIT23j5BZbVnFRvhhS5I2lKHjGWK2qg4JO4ZtsjGcDQ4PkxFVScp8OU9jf4cc4huX5sl9rizDuI6HCEKMQdYkrzUMvUlH17AcE3ZecEqrjolrgLCJ3lSVupKW5IPLHUPFXOOBcDgDbwC4d4BzF95lVZEx82qxZXGzbc5pNxiNEK5AuFS6wQvAACg+cCkbnx0jG6CGKsXSdOjc1EbQaggOsGLhsor5Fu9UTzhPHv+aao6SVvKDmMhaVoVgxcoxCCUK5Q3nRKi4+nB4WvimSuMqDrQBUlbygZjmejUisELVP2k2DgRtpvBBv1oQWuUOIQcxRy2dAKWibGAP22HPECLqfTliS1qY0vXvFODVBWy0AGhc+jtChjAmqqlPBYoLV6gxaDqoxCX1pymG8H6GeHV5RF6yEBWFm93m8LoAR2Vt009/pe8VyPFYtoTDLrbE3hMgYLUoj/tCZylasDKQ4Au6YgBQND/HqJmtHAMPJhBGDsg/sHifgKwoQ9P0owjpJIp30s2CEtA+Uan/lej/m/1VNemij+AMgAAAABJRU5ErkJggg=="},"0cf5":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-container",[n("el-aside",{staticClass:"left-side",attrs:{width:"300px",height:"748px"}},[n("el-scrollbar",[n("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"}},[n("el-tab-pane",[n("span",{staticClass:"tab-indicator",attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-s-marketing"}),e._v("指标")]),n("el-input",{attrs:{id:"search",placeholder:"搜索"},model:{value:e.searchAnalysis,callback:function(t){e.searchAnalysis=t},expression:"searchAnalysis"}}),n("tree",{attrs:{nodes:e.inTreeNodes,setting:e.inTreeSetting},on:{onCreated:e.inTreeCreate}})],1),n("el-tab-pane",[n("span",{staticClass:"tab-common",attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-s-grid"}),e._v("常用分析")]),n("el-input",{attrs:{id:"searchAnalysis",placeholder:"搜索"},model:{value:e.searchAnalysis,callback:function(t){e.searchAnalysis=t},expression:"searchAnalysis"}}),n("tree",{attrs:{nodes:e.commonTreeNodes,setting:e.commonTreeSetting},on:{onCreated:e.commonTreeCreate}})],1)],1),n("div",{staticClass:"side-footer"},["true"==e.isInManager||"true"==e.isOrgManager?n("el-dropdown",[n("el-button",{staticClass:"el-dropdown-link",staticStyle:{"border-color":"aliceblue"}},[n("span",{staticClass:"icon iconfont",staticStyle:{"font-size":"30px",color:"#C0C0C0",background:"ghostwhite"}},[e._v("")])]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.nativeIndicatrixDesign(t)}}},[e._v("原生指标设计")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.addDeriveIn(t)}}},[e._v("派生指标设计")])],1)],1):e._e()],1)],1)],1),n("el-main",[n("div",{staticClass:"top-collapse-container"},[n("div",{staticClass:"top-collapse-con"},[n("div",{staticClass:"toggle-btn J_slideup_btn",on:{click:e.packUpClick}},[n("i",{staticClass:"icon-toggle"}),n("span",[e._v("收起")])]),n("div",{staticClass:"collapse-panel"},[n("div",{staticClass:"tag-left-con"},[n("div",{staticClass:"in-outer-layer",attrs:{id:"inRegion"}},[n("div",{staticClass:"collapse-panel-head"},[e._v("分析个数 "),n("span",{attrs:{id:"analysisCount"}},[e._v("0")])]),n("div",{staticClass:"tags-item-con",staticStyle:{cursor:"pointer"},attrs:{id:"analysisRegion",analysisRegion:"inAnalysisRegion",onclick:"switchDim(this,'inDimAnalysisRegion')"}},[n("div",{staticClass:"tags-item",attrs:{id:"inAnalysisRegion",analysisRegion:"inAnalysisRegion"}},[n("div",{staticClass:"tags-order",attrs:{id:"inAnalysisRegionCount"}},[e._v("1")]),n("div",{staticClass:"tag-select"},[n("i",{staticClass:"icon-add"},[e._v("+")]),n("span",{staticStyle:{"margin-top":"-5px"},attrs:{onclick:"addTempIn(this)",analysisRegion:"inAnalysisRegion"}},[e._v("新增临时指标")])]),n("div",{staticClass:"tags-set",attrs:{title:"设置阈值"}},[n("span",{staticClass:"icon iconfont",staticStyle:{color:"#aeaeae"},attrs:{id:"setValueinAnalysisRegion",onclick:"setValue('inAnalysisRegion')"}},[e._v("")])]),n("div",{staticClass:"tags-del",attrs:{title:"删除分析区"}},[n("i",{attrs:{onclick:'delAnalysisRegion("inAnalysisRegion")'}})])])]),n("div",{staticClass:"tags-left-create-con",staticStyle:{cursor:"pointer"},attrs:{id:"createAnalysis",onclick:"createAnalysisRegion()"}},[e._v("创建并列分析 ")])])]),n("div",{staticClass:"tag-right-con",attrs:{id:"dimRegion"}},[n("div",{staticClass:"row table-view-caption pull-right"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.queryData}},[e._v("查询")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.clearAnalysis}},[e._v("清空")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.saveChangYongAnalysis}},[e._v("保存为常用分析")])],1),n("div",{staticClass:"collapse-panel-head clearfix",attrs:{id:"dimTitle"}},[e._v("分析维度")]),n("div",{attrs:{id:"dimAnalysisRegion"}},[n("div",{staticClass:"tags-item-con",attrs:{id:"inDimAnalysisRegion"}},[n("div",{staticClass:"tag-select"},[n("i",{staticClass:"icon-add"},[e._v("+")]),n("span",{staticStyle:{"margin-top":"-5px"},on:{click:function(t){return e.addTempDim("inAnalysisRegion")}}},[e._v("新增临时维度")])])])])])])])]),n("div",{staticClass:"slide-container"},[n("div",{staticClass:"collapse-slideup-con"},[n("div",{staticClass:"slideup-left",attrs:{id:"analysisIn"}},[n("span",[e._v("分析个数")]),n("em",{attrs:{id:"count"}},[e._v("1")])]),n("a",{staticClass:"collapse-set-btn J_slidedown_btn",attrs:{href:"#"},on:{click:e.openDisplay}},[e._v("展开")])])]),n("div",{style:{height:"height:80%"==this.tableHeight?"calc(100vh - 143px)":"calc(100vh - 292px)"}},[n("div",{attrs:{id:"dataView"}},[n("div",{staticClass:"recommendPage"},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"0",mode:"horizontal"}},e._l(e.dataList,(function(t,i){return n("div",[n("el-menu-item",{attrs:{index:i.toString()},on:{click:function(t){return e.jump(i)}}},[e._v(e._s(t.measureName)),n("i",{class:t.icon})])],1)})),0),n("swiper",{ref:"mySwiper",attrs:{options:e.swiperOption}},[e._l(e.dataList,(function(t,i){return n("swiper-slide",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"dataObj.loading"}],attrs:{"element-loading-text":"正在执行SQL,请稍候..."}},[0==t.isError?n("div",{staticClass:"btn-div"},[n("div",{ref:t.id+"btnTable",refInFor:!0,class:t.btnTableClass,on:{click:function(n){return e.switchDivStyle(t.id+"btnTable",t.id)}}},[n("span",{staticClass:"icon iconfont",staticStyle:{position:"absolute",top:"8px",left:"17px"}},[e._v("")])]),n("div",{ref:t.id+"btnChart",refInFor:!0,class:t.btnChartClass,on:{click:function(n){return e.switchDivStyle(t.id+"btnChart",t.id)}}},[n("span",{staticClass:"icon iconfont",staticStyle:{position:"absolute",top:"8px",left:"65px"}},[e._v("")])])]):e._e(),1==t.isLoad&&0==t.isError?n("ag-grid-vue",{directives:[{name:"show",rawName:"v-show",value:t.isShowTable,expression:"dataObj.isShowTable"}],ref:t.id+"table",refInFor:!0,staticClass:"table ag-theme-balham",style:e.tableHeight,attrs:{"column-defs":t.data.columnDefs,"row-data":t.data.data,"get-row-style":function(n){return e.setRowColor(n,t.id)},rowMultiSelectWithClick:"true","enable-col-resize":!0,"row-selection":"multiple","row-height":"40"}}):e._e(),void 0!=t.chartConfig&&1==t.isLoad&&0==t.isError?n("mtEditor",{directives:[{name:"show",rawName:"v-show",value:t.isShowChart,expression:"dataObj.isShowChart"}],ref:t.id,refInFor:!0,attrs:{graphConfigHeight:160,data:t.data,chartBoxStyle:e.chartBoxStyle,"chart-config":t.chartConfig}}):1==t.isLoad&&0==t.isError?n("mtEditor",{directives:[{name:"show",rawName:"v-show",value:t.isShowChart,expression:"dataObj.isShowChart"}],ref:t.id,refInFor:!0,attrs:{graphConfigHeight:160,data:t.data,chartBoxStyle:e.chartBoxStyle}}):n("div",{staticStyle:{color:"red","text-align":"left"}},[e._v(e._s(t.message))])],1)})),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])])])],1),n("div",{staticClass:"menuDemo",staticStyle:{display:"none"},attrs:{id:"inMenu"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"2-1"},on:{click:function(t){return e.inFilter()}}},[e._v("筛选器")]),n("el-submenu",{attrs:{index:"2-2"}},[n("template",{slot:"title"},[e._v("度量")]),n("el-menu-item",{attrs:{index:"2-2-1"},on:{click:function(t){return e.updateInGroup("sum")}}},[e._v("合计")]),n("el-menu-item",{attrs:{index:"2-2-2"},on:{click:function(t){return e.updateInGroup("count")}}},[e._v("计数")]),n("el-menu-item",{attrs:{index:"2-2-3"},on:{click:function(t){return e.updateInGroup("max")}}},[e._v("最大值")]),n("el-menu-item",{attrs:{index:"2-3-3"},on:{click:function(t){return e.updateInGroup("min")}}},[e._v("最小值")]),n("el-menu-item",{attrs:{index:"2-4-3"},on:{click:function(t){return e.updateInGroup("avg")}}},[e._v("平均值")]),n("el-menu-item",{attrs:{index:"2-5-3"},on:{click:function(t){return e.updateInGroup("distinct")}}},[e._v("差异计数")])],2)],1)],1),e.dialogAddderiveinVisible?n("el-dialog",{attrs:{title:"2"===e.deriveInType?"派生指标":"临时指标",width:"70%",visible:e.dialogAddderiveinVisible},on:{"update:visible":function(t){e.dialogAddderiveinVisible=t}}},[e.dialogAddderiveinVisible?n("addderivein",{attrs:{type:e.deriveInType,addType:e.addDeriveInType,nowAnalysisRegionId:e.nowAnalysisRegionId,parentUuid:e.nowParentUuid,inMeasureUuid:e.nowInMeasureUuid},on:{closeAddderiveinDialog:e.closeAddderiveinDialog,loadInMeasueData:e.loadInMeasueData,delAnalysisListDownIn:e.delAnalysisListDownIn}}):e._e()],1):e._e(),e.dialogEdittemdimVisible?n("el-dialog",{attrs:{title:"临时维度",visible:e.dialogEdittemdimVisible},on:{"update:visible":function(t){e.dialogEdittemdimVisible=t}}},[n("edittemdim",{attrs:{nowAnalysisRegionId:e.nowAnalysisRegionId,nowDimAnalysisRegionId:e.nowDimAnalysisRegionId,dimId:e.dimId,dimDivId:e.dimDivId,analysisList:e.analysisList,addTempDimAnalysisRegionId:e.addTempDimAnalysisRegionId},on:{closeEdittemdimDialog:e.closeEdittemdimDialog,verTemDimName:e.verTemDimName,getInDimList:e.getInDimList,initTemDimToFrom:e.initTemDimToFrom,delTemDim:e.delTemDim}})],1):e._e(),e.dialogFilterVisible?n("el-dialog",{attrs:{title:"维度过滤器",visible:e.dialogFilterVisible},on:{"update:visible":function(t){e.dialogFilterVisible=t}}},[e.dialogFilterVisible?n("dimfilter",{attrs:{dimName:e.dimTriangleClick.dimName,dimId:e.dimTriangleClick.dimId,inId:e.dimTriangleClick.inId,sup:e.dimTriangleClick.sup,filterJson:e.nowFilterObj.filterJson,analysisRegionId:e.dimTriangleClick.analysisRegionId,columnType:"string",filter:e.nowFilterObj.filter,filterList:e.nowFilterObj.filterList,analysisList:e.analysisList},on:{closeFilterDialog:e.closeFilterDialog,dimSetFilter:e.dimSetFilter}}):e._e()],1):e._e(),e.dialogsSaveAnalysisVisible?n("el-dialog",{attrs:{title:"保存常用指标分析",visible:e.dialogsSaveAnalysisVisible},on:{"update:visible":function(t){e.dialogsSaveAnalysisVisible=t}}},[n("saveanalysis",{attrs:{isInManager:e.isInManager,isOrgManager:e.isOrgManager},on:{closeSaveAnalysisDialog:e.closeSaveAnalysisDialog,initCommonlyAnalysisZtree:e.initCommonlyAnalysisZtree,addAnalistsNode:e.addAnalistsNode}})],1):e._e(),e.dialogDesignVisible?n("el-dialog",{attrs:{title:"指标设计",visible:e.dialogDesignVisible,fullscreen:!0},on:{"update:visible":function(t){e.dialogDesignVisible=t}}},[n("indicatordesign",{attrs:{currentLoginUser:e.currentLoginUser}})],1):e._e(),e.inMeasureFilter?n("el-dialog",{attrs:{title:"指标过滤","close-on-click-modal":!1,visible:e.inMeasureFilter,width:"30%"},on:{"update:visible":function(t){e.inMeasureFilter=t}}},[e.inMeasureFilter?n("inmeasurefilter",{attrs:{filterIn:e.nowFilterObj.filter,filterListIn:e.nowFilterObj.filterList,analysisListIn:this.analysisList,columnName:e.updateInObj.columnName,columnType:"string",filterJson:e.nowFilterObj.filterJson,columnNameCN:e.updateInObj.columnNameCN,analysisRegionId:e.updateInObj.analysisRegionId,inId:e.updateInObj.inId},on:{closeInmeasuerFilter:e.closeInmeasuerFilter,inSetFilter:e.inSetFilter}}):e._e()],1):e._e(),e.thresholdValueDialog?n("el-dialog",{attrs:{title:"阈值关联","close-on-click-modal":!1,visible:e.thresholdValueDialog,width:"50%"},on:{"update:visible":function(t){e.thresholdValueDialog=t}}},[e.thresholdValueDialog?n("ThresholdValueRel",{attrs:{setThreasholdValueObj:e.setThreasholdValueObj},on:{clearThresholdValue:e.clearThresholdValue,closeThresholdValueRel:e.closeThresholdValueRel,inSetThresholdValue:e.inSetThresholdValue}}):e._e()],1):e._e()],1)},a=[]},"0d20":function(e,t,n){"use strict";n.r(t);var i=n("fce9"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0d4a":function(module,exports,__webpack_require__){__webpack_require__("7514"),__webpack_require__("a481"),__webpack_require__("28a5"),__webpack_require__("6b54");var _typeof=__webpack_require__("7037");__webpack_require__("7f7f"),function(_$){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nodeClasses:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{isParent:"isParent",children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",headers:{},xhrFields:{},url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),data.nodeChildren(e,t,[]),t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,n=consts.event;t.bind(n.NODECREATED,(function(t,n,i){tools.apply(e.callback.onNodeCreated,[t,n,i])})),t.bind(n.CLICK,(function(t,n,i,a,r){tools.apply(e.callback.onClick,[n,i,a,r])})),t.bind(n.EXPAND,(function(t,n,i){tools.apply(e.callback.onExpand,[t,n,i])})),t.bind(n.COLLAPSE,(function(t,n,i){tools.apply(e.callback.onCollapse,[t,n,i])})),t.bind(n.ASYNC_SUCCESS,(function(t,n,i,a){tools.apply(e.callback.onAsyncSuccess,[t,n,i,a])})),t.bind(n.ASYNC_ERROR,(function(t,n,i,a,r,o){tools.apply(e.callback.onAsyncError,[t,n,i,a,r,o])})),t.bind(n.REMOVE,(function(t,n,i){tools.apply(e.callback.onRemove,[t,n,i])})),t.bind(n.SELECTED,(function(t,n,i){tools.apply(e.callback.onSelected,[n,i])})),t.bind(n.UNSELECTED,(function(t,n,i){tools.apply(e.callback.onUnSelected,[n,i])}))},_unbindEvent=function(e){var t=e.treeObj,n=consts.event;t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE).unbind(n.SELECTED).unbind(n.UNSELECTED)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),i="",a=null,r="",o="",s=null,l=null,u=null;if(tools.eqs(e.type,"mousedown")?o="mousedown":tools.eqs(e.type,"mouseup")?o="mouseup":tools.eqs(e.type,"contextmenu")?o="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(i=tools.getNodeMainDom(t).id,r="switchNode"):(u=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(i=tools.getNodeMainDom(u).id,r="clickNode"):tools.eqs(e.type,"dblclick")&&(o="dblclick",(u=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(i=tools.getNodeMainDom(u).id,r="switchNode")),0<o.length&&0==i.length&&(u=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(i=tools.getNodeMainDom(u).id),0<i.length)switch(a=data.getNodeCache(n,i),r){case"switchNode":data.nodeIsParent(n,a)&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,a],n.view.dblClickExpand))?s=handler.onSwitchNode:r="";break;case"clickNode":s=handler.onClickNode}switch(o){case"mousedown":l=handler.onZTreeMousedown;break;case"mouseup":l=handler.onZTreeMouseup;break;case"dblclick":l=handler.onZTreeDblclick;break;case"contextmenu":l=handler.onZTreeContextmenu}return{stop:!1,node:a,nodeEventType:r,nodeEventCallback:s,treeEventType:o,treeEventCallback:l}},_initNode=function(e,t,n,i,a,r,o){if(n){var s=data.getRoot(e),l=data.nodeChildren(e,n);n.level=t,n.tId=e.treeId+"_"+ ++s.zId,n.parentTId=i?i.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open;var u=data.nodeIsParent(e,n);tools.isArray(l)?(data.nodeIsParent(e,n,!0),n.zAsync=!0):(u=data.nodeIsParent(e,n,u),n.open=!(!u||e.async.enable)&&n.open,n.zAsync=!u),n.isFirstNode=a,n.isLastNode=r,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.getIndex=function(){return data.getNodeIndex(e,n)},n.getPath=function(){return data.getNodePath(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n,i){var a,r=data.nodeChildren(e,t);r?n>=r.length&&(n=-1):(r=data.nodeChildren(e,t,[]),n=-1),0<r.length&&0===n?(r[0].isFirstNode=!1,view.setNodeLineIcos(e,r[0])):0<r.length&&n<0&&(r[r.length-1].isLastNode=!1,view.setNodeLineIcos(e,r[r.length-1])),data.nodeIsParent(e,t,!0),n<0?data.nodeChildren(e,t,r.concat(i)):(a=[n,0].concat(i),r.splice.apply(r,a))},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){(e.callback.onNodeCreated||e.view.addDiyDom)&&data.getRoot(e).createdNodes.push(t)},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){_$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var i=0,a=_init.afterA.length;i<a;i++)_init.afterA[i].apply(this,arguments)},getBeforeA:function(e,t,n){for(var i=0,a=_init.beforeA.length;i<a;i++)_init.beforeA[i].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var i=0,a=_init.innerAfterA.length;i<a;i++)_init.innerAfterA[i].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var i=0,a=_init.innerBeforeA.length;i<a;i++)_init.innerBeforeA[i].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),i=data.nodeChildren(e,n),a=0,r=i.length-1;a<=r;a++)if(i[a]===t)return a;return-1},getNextNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),i=data.nodeChildren(e,n),a=0,r=i.length-1;a<=r;a++)if(i[a]===t)return a==r?null:i[a+1];return null},getNodeByParam:function(e,t,n,i){if(!t||!n)return null;for(var a=0,r=t.length;a<r;a++){var o=t[a];if(o[n]==i)return t[a];var s=data.nodeChildren(e,o),l=data.getNodeByParam(e,s,n,i);if(l)return l}return null},getNodeCache:function(e,t){if(!t)return null;var n=caches[e.treeId].nodes[data.getNodeCacheId(t)];return n||null},getNodePath:function(e,t){return t?((n=t.parentTId?t.getParentNode().getPath():[])&&n.push(t),n):null;var n},getNodes:function(e){return data.nodeChildren(e,data.getRoot(e))},getNodesByParam:function(e,t,n,i){if(!t||!n)return[];for(var a=[],r=0,o=t.length;r<o;r++){var s=t[r];s[n]==i&&a.push(s);var l=data.nodeChildren(e,s);a=a.concat(data.getNodesByParam(e,l,n,i))}return a},getNodesByParamFuzzy:function(e,t,n,i){if(!t||!n)return[];var a=[];i=i.toLowerCase();for(var r=0,o=t.length;r<o;r++){var s=t[r];"string"==typeof s[n]&&-1<t[r][n].toLowerCase().indexOf(i)&&a.push(s);var l=data.nodeChildren(e,s);a=a.concat(data.getNodesByParamFuzzy(e,l,n,i))}return a},getNodesByFilter:function(e,t,n,i,a){if(!t)return i?null:[];for(var r=i?null:[],o=0,s=t.length;o<s;o++){var l=t[o];if(tools.apply(n,[l,a],!1)){if(i)return l;r.push(l)}var u=data.nodeChildren(e,l),c=data.getNodesByFilter(e,u,n,i,a);if(i&&c)return c;r=i?c:r.concat(c)}return r},getPreNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),i=data.nodeChildren(e,n),a=0,r=i.length;a<r;a++)if(i[a]===t)return 0==a?null:i[a-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(e){for(var t=0,n=_init.caches.length;t<n;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,n,i,a,r){for(var o=0,s=_init.nodes.length;o<s;o++)_init.nodes[o].apply(this,arguments)},initRoot:function(e){for(var t=0,n=_init.roots.length;t<n;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=data.getRoot(e),i=0,a=n.curSelectedList.length;i<a;i++)if(t===n.curSelectedList[i])return!0;return!1},nodeChildren:function(e,t,n){if(!t)return null;var i=e.data.key.children;return void 0!==n&&(t[i]=n),t[i]},nodeIsParent:function(e,t,n){if(!t)return!1;var i=e.data.key.isParent;return void 0!==n?("string"==typeof n&&(n=tools.eqs(n,"true")),n=!!n,t[i]=n):"string"==typeof t[i]?t[i]=tools.eqs(t[i],"true"):t[i]=!!t[i],t[i]},nodeName:function(e,t,n){var i=e.data.key.name;return void 0!==n&&(t[i]=n),""+t[i]},nodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},removeNodeCache:function(e,t){var n=data.nodeChildren(e,t);if(n)for(var i=0,a=n.length;i<a;i++)data.removeNodeCache(e,n[i]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),i=0,a=n.curSelectedList.length;i<a;i++)t!==n.curSelectedList[i]&&data.getNodeCache(e,n.curSelectedList[i].tId)||(n.curSelectedList.splice(i,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),i--,a--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,i=_init.zTreeTools.length;n<i;n++)_init.zTreeTools[n].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var n=[];if(tools.isArray(t))for(var i=0,a=t.length;i<a;i++)r(t[i]);else r(t);return n;function r(t){n.push(t);var i=data.nodeChildren(e,t);i&&(n=n.concat(data.transformToArrayFormat(e,i)))}},transformTozTreeFormat:function(e,t){var n,i,a=e.data.simpleData.idKey,r=e.data.simpleData.pIdKey;if(!a||""==a||!t)return[];if(tools.isArray(t)){var o=[],s={};for(n=0,i=t.length;n<i;n++)s[t[n][a]]=t[n];for(n=0,i=t.length;n<i;n++){var l=s[t[n][r]];if(l&&t[n][a]!=t[n][r]){var u=data.nodeChildren(e,l);(u=u||data.nodeChildren(e,l,[])).push(t[n])}else o.push(t[n])}return o}return[t]}},event={bindEvent:function(e){for(var t=0,n=_init.bind.length;t<n;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=_init.unbind.length;t<n;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",handler.onSelectStart).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",handler.onSelectStart).unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],n=0,i=_init.proxys.length;n<i;n++){var a=_init.proxys[n].apply(this,arguments);if(t.push(a),a.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var n=event.doProxy(e),i=!0,a=0,r=n.length;a<r;a++){var o=n[a];o.nodeEventCallback&&(i=o.nodeEventCallback.apply(o,[e,o.node])&&i),o.treeEventCallback&&(i=o.treeEventCallback.apply(o,[e,o.node])&&i)}return i}},handler={onSwitchNode:function(e,t){var n=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}return!0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),i=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,i],!0)||(0==i?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2==i),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,i])),!0},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick},onSelectStart:function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t||[]):n},canAsync:function(e,t){var n=data.nodeChildren(e,t),i=data.nodeIsParent(e,t);return e.async.enable&&t&&i&&!(t.zAsync||n&&0<n.length)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var n in e)t[n]=e[n]instanceof Date?new Date(e[n].getTime()):"object"==_typeof(e[n])?tools.clone(e[n]):e[n];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isElement:function(e){return"object"==("undefined"===typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:e&&"object"==_typeof(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?_$(e,n?n.treeObj.get(0).ownerDocument:null):_$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var i=0,a=n.length;t.tagName&&i<a;i++)if(tools.eqs(t.tagName,n[i].tagName)&&null!==t.getAttribute(n[i].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return _$(e).parent("li").get(0)||_$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return 0<_$(e).closest("#"+t).length},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,n,i,a){var r=data.nodeIsParent(e,t);if(!e.data.keep.leaf||!t||r)if(tools.isArray(i)||(i=[i]),e.data.simpleData.enable&&(i=data.transformTozTreeFormat(e,i)),t){var o=$$(t,consts.id.SWITCH,e),s=$$(t,consts.id.ICON,e),l=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,o,consts.folder.CLOSE),view.replaceIcoClass(t,s,consts.folder.CLOSE),t.open=!1,l.css({display:"none"})),data.addNodesData(e,t,n,i),view.createNodes(e,t.level+1,i,t,n),a||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),n,i),view.createNodes(e,0,i,null,n)},appendNodes:function(e,t,n,i,a,r,o){if(!n)return[];var s,l,u=[],c=i||data.getRoot(e),d=data.nodeChildren(e,c);(!d||a>=d.length-n.length)&&(a=-1);for(var h=0,f=n.length;h<f;h++){var p=n[h];r&&(s=(0===a||d.length==n.length)&&0==h,l=a<0&&h==n.length-1,data.initNode(e,t,p,i,s,l,o),data.addNodeCache(e,p));var m=data.nodeIsParent(e,p),g=[],v=data.nodeChildren(e,p);v&&0<v.length&&(g=view.appendNodes(e,t+1,v,p,-1,r,o&&p.open)),o&&(view.makeDOMNodeMainBefore(u,e,p),view.makeDOMNodeLine(u,e,p),data.getBeforeA(e,p,u),view.makeDOMNodeNameBefore(u,e,p),data.getInnerBeforeA(e,p,u),view.makeDOMNodeIcon(u,e,p),data.getInnerAfterA(e,p,u),view.makeDOMNodeNameAfter(u,e,p),data.getAfterA(e,p,u),m&&p.open&&view.makeUlHtml(e,p,u,g.join("")),view.makeDOMNodeMainAfter(u,e,p),data.addCreatedNode(e,p))}return u},appendParentULDom:function(e,t){var n=[],i=$$(t,e);!i.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),i=$$(t,e));var a=$$(t,consts.id.UL,e);a.get(0)&&a.remove();var r=data.nodeChildren(e,t),o=view.appendNodes(e,t.level+1,r,t,-1,!1,!0);view.makeUlHtml(e,t,n,o.join("")),i.append(n.join(""))},asyncNode:function asyncNode(setting,node,isSilent,callback){var i,l,isParent=data.nodeIsParent(setting,node);if(node&&!isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={},autoParam=tools.apply(setting.async.autoParam,[setting.treeId,node],setting.async.autoParam);for(i=0,l=autoParam.length;node&&i<l;i++){var pKey=autoParam[i].split("="),spKey=pKey;1<pKey.length&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}var otherParam=tools.apply(setting.async.otherParam,[setting.treeId,node],setting.async.otherParam);if(tools.isArray(otherParam))for(i=0,l=otherParam.length;i<l;i+=2)tmpParam[otherParam[i]]=otherParam[i+1];else for(var p in otherParam)tmpParam[p]=otherParam[p];var _tmpV=data.getRoot(setting)._ver;return _$.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:-1<setting.async.contentType.indexOf("application/json")?JSON.stringify(tmpParam):tmpParam,dataType:setting.async.dataType,headers:setting.async.headers,xhrFields:setting.async.xhrFields,success:function success(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(e){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,-1,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,-1,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){var i,a,r=data.getRoot(e).curSelectedList;for(i=r.length-1;0<=i;i--)if(t===(a=r[i])||!t&&(!n||n!==a)){if($$(a,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}r.splice(i,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,a])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);0<t.createdNodes.length;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,i,a){if(n&&0!=n.length){var r=data.getRoot(e),o=!i||i.open||!!$$(data.nodeChildren(e,i)[0],e).get(0);r.createdNodes=[];var s,l,u=view.appendNodes(e,t,n,i,a,!0,o);if(i){var c=$$(i,consts.id.UL,e);c.get(0)&&(s=c)}else s=e.treeObj;s&&(0<=a&&(l=s.children()[a]),0<=a&&l?_$(l).before(u.join("")):s.append(u.join(""))),view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,i,a){var r,o=data.getRoot(e);if(t){var s=data.nodeChildren(e,t),l=data.nodeIsParent(e,t);if(o.expandTriggerFlag&&(r=a,a=function(){r&&r(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},o.expandTriggerFlag=!1),!t.open&&l&&(!$$(t,consts.id.UL,e).get(0)||s&&0<s.length&&!$$(s[0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open!=n){var u=$$(t,consts.id.UL,e),c=$$(t,consts.id.SWITCH,e),d=$$(t,consts.id.ICON,e);l?(t.open=!t.open,t.iconOpen&&t.iconClose&&d.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,c,consts.folder.OPEN),view.replaceIcoClass(t,d,consts.folder.OPEN),0==i||""==e.view.expandSpeed?(u.show(),tools.apply(a,[])):s&&0<s.length?u.slideDown(e.view.expandSpeed,a):(u.show(),tools.apply(a,[]))):(view.replaceSwitchClass(t,c,consts.folder.CLOSE),view.replaceIcoClass(t,d,consts.folder.CLOSE),0!=i&&""!=e.view.expandSpeed&&s&&0<s.length?u.slideUp(e.view.expandSpeed,a):(u.hide(),tools.apply(a,[])))):tools.apply(a,[])}else tools.apply(a,[])}else tools.apply(a,[])},expandCollapseParentNode:function(e,t,n,i,a){t&&(t.parentTId?(view.expandCollapseNode(e,t,n,i),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,i,a)):view.expandCollapseNode(e,t,n,i,a))},expandCollapseSonNode:function(e,t,n,i,a){var r=data.getRoot(e),o=t?data.nodeChildren(e,t):data.nodeChildren(e,r),s=!t&&i,l=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,o)for(var u=0,c=o.length;u<c;u++)o[u]&&view.expandCollapseSonNode(e,o[u],n,s);data.getRoot(e).expandTriggerFlag=l,view.expandCollapseNode(e,t,n,i,a)},isSelectedNode:function(e,t){if(!t)return!1;var n,i=data.getRoot(e).curSelectedList;for(n=i.length-1;0<=n;n--)if(t===i[n])return!0;return!1},makeDOMNodeIcon:function(e,t,n){var i=data.nodeName(t,n),a=t.view.nameIsHTML?i:i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",a,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,n){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,n){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var i=data.nodeTitle(t,n),a=view.makeNodeUrl(t,n),r=view.makeNodeFontCss(t,n),o=view.makeNodeClasses(t,n),s=[];for(var l in r)s.push(l,":",r[l],";");e.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,o.add?" "+o.add.join(" "):"","' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=a&&0<a.length?"href='"+a+"'":""," target='",view.makeNodeTarget(n),"' style='",s.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&i&&e.push("title='",i.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeClasses:function(e,t){var n=tools.apply(e.view.nodeClasses,[e.treeId,t],e.view.nodeClasses);return n&&"function"!=typeof n?n:{add:[],remove:[]}},makeNodeIcoClass:function(e,t){var n=["ico"];if(!t.isAjaxing){var i=data.nodeIsParent(e,t);n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],i?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU)}return consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var i=data.nodeIsParent(e,t)&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];i&&n.push("background:url(",i,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||n.push("display:none;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?n.push(consts.line.ROOT):0==t.level&&t.isFirstNode?n.push(consts.line.ROOTS):t.isLastNode?n.push(consts.line.BOTTOM):n.push(consts.line.CENTER):n.push(consts.line.NOLINE),data.nodeIsParent(e,t)?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,i){n.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(i),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=data.nodeChildren(e,t);if(n){for(var i=0,a=n.length;i<a;i++)data.removeNodeCache(e,n[i]);if(data.removeSelectedNode(e),delete t[e.data.key.children],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{data.nodeIsParent(e,t,!1),t.open=!1;var r=$$(t,consts.id.SWITCH,e),o=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,r,consts.folder.DOCU),view.replaceIcoClass(t,o,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},scrollIntoView:function(e,t){if(t)if("undefined"!=typeof Element&&"undefined"!=typeof HTMLElement)Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){"use strict";function t(e,t){return{start:e,length:t,end:e+t}}function n(t,n){return!1===e||n.start<t.end&&t.start<n.end?Math.max(t.end-n.length,Math.min(n.start,t.start)):(t.start+t.end-n.length)/2}function i(e,t){return{x:e,y:t,translate:function(n,a){return i(e+n,t+a)}}}function a(e,t){for(;e;)t=t.translate(e.offsetLeft,e.offsetTop),e=e.offsetParent;return t}for(var r,o=a(this,i(0,0)),s=i(this.offsetWidth,this.offsetHeight),l=this.parentNode;l instanceof HTMLElement;)r=a(l,i(l.clientLeft,l.clientTop)),l.scrollLeft=n(t(o.x-r.x,s.x),t(l.scrollLeft,l.clientWidth)),l.scrollTop=n(t(o.y-r.y,s.y),t(l.scrollTop,l.clientHeight)),o=o.translate(-l.scrollLeft,-l.scrollTop),l=l.parentNode}),t.scrollIntoViewIfNeeded();else{var n=e.treeObj.get(0).getBoundingClientRect(),i=t.getBoundingClientRect();(i.top<n.top||i.bottom>n.bottom||i.right>n.right||i.left<n.left)&&t.scrollIntoView()}},setFirstNode:function(e,t){var n=data.nodeChildren(e,t);0<n.length&&(n[0].isFirstNode=!0)},setLastNode:function(e,t){var n=data.nodeChildren(e,t);0<n.length&&(n[n.length-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),i=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var a=data.nodeChildren(e,i),r=0,o=a.length;r<o;r++)if(a[r].tId==t.tId){a.splice(r,1);break}view.setFirstNode(e,i),view.setLastNode(e,i);var s,l,u,c=a.length;if(e.data.keep.parent||0!=c){if(e.view.showLine&&0<c){var d=a[c-1];if(s=$$(d,consts.id.UL,e),l=$$(d,consts.id.SWITCH,e),u=$$(d,consts.id.ICON,e),i==n)if(1==a.length)view.replaceSwitchClass(d,l,consts.line.ROOT);else{var h=$$(a[0],consts.id.SWITCH,e);view.replaceSwitchClass(a[0],h,consts.line.ROOTS),view.replaceSwitchClass(d,l,consts.line.BOTTOM)}else view.replaceSwitchClass(d,l,consts.line.BOTTOM);s.removeClass(consts.line.LINE)}}else data.nodeIsParent(e,i,!1),i.open=!1,delete i[e.data.key.children],s=$$(i,consts.id.UL,e),l=$$(i,consts.id.SWITCH,e),u=$$(i,consts.id.ICON,e),view.replaceSwitchClass(i,l,consts.folder.DOCU),view.replaceIcoClass(i,u,consts.folder.DOCU),s.css("display","none")}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){var i=t.attr("class");if(null!=i){var a=i.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[a.length-1]=n}t.attr("class",a.join("_"))}}},replaceSwitchClass:function(e,t,n){if(t){var i=t.attr("class");if(null!=i){var a=i.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:a[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[1]=n}t.attr("class",a.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var n=$$(t,consts.id.A,e),i=view.makeNodeFontCss(e,t);i&&n.css(i)},setNodeClasses:function(e,t){var n=$$(t,consts.id.A,e),i=view.makeNodeClasses(e,t);"add"in i&&i.add.length&&n.addClass(i.add.join(" ")),"remove"in i&&i.remove.length&&n.removeClass(i.remove.join(" "))},setNodeLineIcos:function(e,t){if(t){var n=$$(t,consts.id.SWITCH,e),i=$$(t,consts.id.UL,e),a=$$(t,consts.id.ICON,e),r=view.makeUlLineClass(e,t);0==r.length?i.removeClass(consts.line.LINE):i.addClass(r),n.attr("class",view.makeNodeLineClass(e,t)),data.nodeIsParent(e,t)?n.removeAttr("disabled"):n.attr("disabled","disabled"),a.removeAttr("style"),a.attr("style",view.makeNodeIcoStyle(e,t)),a.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=data.nodeTitle(e,t),i=$$(t,consts.id.SPAN,e);i.empty(),e.view.nameIsHTML?i.html(data.nodeName(e,t)):i.text(data.nodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)&&$$(t,consts.id.A,e).attr("title",n||"")},setNodeTarget:function(e,t){$$(t,consts.id.A,e).attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),i=view.makeNodeUrl(e,t);null==i||0==i.length?n.removeAttr("href"):n.attr("href",i)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return void view.expandCollapseNode(e,t,!t.open)}else t&&view.expandCollapseNode(e,t,!t.open)}};_$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t||null},destroy:function(e){if(e&&0<e.length)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,n){var i=tools.clone(_setting);_$.extend(!0,i,t),i.treeId=e.attr("id"),i.treeObj=e,i.treeObj.empty(),settings[i.treeId]=i,void 0===document.body.style.maxHeight&&(i.view.expandSpeed=""),data.initRoot(i);var a=data.getRoot(i);n=n?tools.clone(tools.isArray(n)?n:[n]):[],i.data.simpleData.enable?data.nodeChildren(i,a,data.transformTozTreeFormat(i,n)):data.nodeChildren(i,a,n),data.initCache(i),event.unbindTree(i),event.bindTree(i),event.unbindEvent(i),event.bindEvent(i);var r={setting:i,addNodes:function(e,t,n,a){e=e||null;var r=data.nodeIsParent(i,e);if(e&&!r&&i.data.keep.leaf)return null;var o=parseInt(t,10);if(t=isNaN(o)?(a=!!n,n=t,-1):o,!n)return null;var s=tools.clone(tools.isArray(n)?n:[n]);function l(){view.addNodes(i,e,t,s,1==a)}return tools.canAsync(i,e)?view.asyncNode(i,e,a,l):l(),s},cancelSelectedNode:function(e){view.cancelPreSelectedNode(i,e)},destroy:function(){view.destroy(i)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(i,null,e,!0),e},expandNode:function(e,t,n,a,r){return e&&data.nodeIsParent(i,e)?(!0!==t&&!1!==t&&(t=!e.open),(r=!!r)&&t&&0==tools.apply(i.callback.beforeExpand,[i.treeId,e],!0)||r&&!t&&0==tools.apply(i.callback.beforeCollapse,[i.treeId,e],!0)?null:(t&&e.parentTId&&view.expandCollapseParentNode(i,e.getParentNode(),t,!1),t!==e.open||n?(data.getRoot(i).expandTriggerFlag=r,!tools.canAsync(i,e)&&n?view.expandCollapseSonNode(i,e,t,!0,o):(e.open=!t,view.switchNode(this.setting,e),o()),t):null)):null;function o(){var t=$$(e,i).get(0);t&&!1!==a&&view.scrollIntoView(i,t)}},getNodes:function(){return data.getNodes(i)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(i,n?data.nodeChildren(i,n):data.getNodes(i),e,t):null},getNodeByTId:function(e){return data.getNodeCache(i,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(i,n?data.nodeChildren(i,n):data.getNodes(i),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?data.getNodesByParamFuzzy(i,n?data.nodeChildren(i,n):data.getNodes(i),e,t):null},getNodesByFilter:function(e,t,n,a){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(i,n?data.nodeChildren(i,n):data.getNodes(i),e,t,a):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=e.parentTId?e.getParentNode():data.getRoot(i),n=data.nodeChildren(i,t),a=0,r=n.length;a<r;a++)if(n[a]==e)return a;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(i).curSelectedList,n=0,a=t.length;n<a;n++)e.push(t[n]);return e},isSelectedNode:function(e){return data.isSelectedNode(i,e)},reAsyncChildNodesPromise:function(e,t,n){return new Promise((function(i,a){try{r.reAsyncChildNodes(e,t,n,(function(){i(e)}))}catch(i){a(i)}}))},reAsyncChildNodes:function(e,t,n,a){if(this.setting.async.enable){var r=!e;if(r&&(e=data.getRoot(i)),"refresh"==t){for(var o=data.nodeChildren(i,e),s=0,l=o?o.length:0;s<l;s++)data.removeNodeCache(i,o[s]);data.removeSelectedNode(i),data.nodeChildren(i,e,[]),r?this.setting.treeObj.empty():$$(e,consts.id.UL,i).empty()}view.asyncNode(this.setting,r?null:e,!!n,a)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(i),t=data.nodeChildren(i,e);data.initRoot(i),data.nodeChildren(i,e,t),data.initCache(i),view.createNodes(i,0,data.nodeChildren(i,e),null,-1)},removeChildNodes:function(e){if(!e)return null;var t=data.nodeChildren(i,e);return view.removeChildNodes(i,e),t||null},removeNode:function(e,t){e&&((t=!!t)&&0==tools.apply(i.callback.beforeRemove,[i.treeId,e],!0)||(view.removeNode(i,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[i.treeId,e])))},selectNode:function(e,t,n){if(e&&tools.uCanDo(i)){if(t=i.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(i,e.getParentNode(),!0,!1,(function(){if(!n){var t=$$(e,i).get(0);view.scrollIntoView(i,t)}}));else if(!n)try{$$(e,i).focus().blur()}catch(t){}view.selectNode(i,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(i,e)},transformToArray:function(e){return data.transformToArrayFormat(i,e)},updateNode:function(e,t){e&&$$(e,i).get(0)&&tools.uCanDo(i)&&(view.setNodeName(i,e),view.setNodeTarget(i,e),view.setNodeUrl(i,e),view.setNodeLineIcos(i,e),view.setNodeFontCss(i,e),view.setNodeClasses(i,e))}};a.treeTools=r,data.setZTreeTools(i,r);var o=data.nodeChildren(i,a);return o&&0<o.length?view.createNodes(i,0,o,null,-1):i.async.enable&&i.async.url&&""!==i.async.url&&view.asyncNode(i),r}};var zt=_$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery),function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},i={onCheckNode:function(e,t){if(!0===t.chkDisabled)return!1;var n=u.getSetting(e.data.treeId);if(0==o.apply(n.callback.beforeCheck,[n.treeId,t],!0))return!0;var i=u.nodeChecked(n,t);u.nodeChecked(n,t,!i),l.checkNodeRelation(n,t);var a=c(t,s.id.CHECK,n);return l.setChkClass(n,a,t),l.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(s.event.CHECK,[e,n.treeId,t]),!0},onMouseoverCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=u.getSetting(e.data.treeId),i=c(t,s.id.CHECK,n);return t.check_Focus=!0,l.setChkClass(n,i,t),!0},onMouseoutCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=u.getSetting(e.data.treeId),i=c(t,s.id.CHECK,n);return t.check_Focus=!1,l.setChkClass(n,i,t),!0}},a={tools:{},view:{checkNodeRelation:function(e,t){var n,i,a,r=s.radio,o=u.nodeChecked(e,t);if(e.check.chkStyle==r.STYLE){var d=u.getRadioCheckedList(e);if(o)if(e.check.radioType==r.TYPE_ALL){for(i=d.length-1;0<=i;i--)n=d[i],u.nodeChecked(e,n)&&n!=t&&(u.nodeChecked(e,n,!1),d.splice(i,1),l.setChkClass(e,c(n,s.id.CHECK,e),n),n.parentTId!=t.parentTId&&l.repairParentChkClassWithSelf(e,n));d.push(t)}else{var h=t.parentTId?t.getParentNode():u.getRoot(e);for(i=0,a=(f=u.nodeChildren(e,h)).length;i<a;i++)n=f[i],u.nodeChecked(e,n)&&n!=t&&(u.nodeChecked(e,n,!1),l.setChkClass(e,c(n,s.id.CHECK,e),n))}else if(e.check.radioType==r.TYPE_ALL)for(i=0,a=d.length;i<a;i++)if(t==d[i]){d.splice(i,1);break}}else{var f=u.nodeChildren(e,t);o&&(!f||0==f.length||-1<e.check.chkboxType.Y.indexOf("s"))&&l.setSonNodeCheckBox(e,t,!0),o||f&&0!=f.length&&!(-1<e.check.chkboxType.N.indexOf("s"))||l.setSonNodeCheckBox(e,t,!1),o&&-1<e.check.chkboxType.Y.indexOf("p")&&l.setParentNodeCheckBox(e,t,!0),!o&&-1<e.check.chkboxType.N.indexOf("p")&&l.setParentNodeCheckBox(e,t,!1)}},makeChkClass:function(e,t){var n=s.checkbox,i=s.radio,a="",r=u.nodeChecked(e,t);a=!0===t.chkDisabled?n.DISABLED:t.halfCheck?n.PART:e.check.chkStyle==i.STYLE?t.check_Child_State<1?n.FULL:n.PART:r?2===t.check_Child_State||-1===t.check_Child_State?n.FULL:n.PART:t.check_Child_State<1?n.FULL:n.PART;var o=e.check.chkStyle+"_"+(r?n.TRUE:n.FALSE)+"_"+a;return o=t.check_Focus&&!0!==t.chkDisabled?o+"_"+n.FOCUS:o,s.className.BUTTON+" "+n.DEFAULT+" "+o},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===s.checkbox.STYLE)for(var n=u.getRoot(e),i=u.nodeChildren(e,n),a=0,r=i.length;a<r;a++){var o=i[a];!0!==o.nocheck&&!0!==o.chkDisabled&&u.nodeChecked(e,o,t),l.setSonNodeCheckBox(e,o,t)}},repairChkClass:function(e,t){if(t&&(u.makeChkFlag(e,t),!0!==t.nocheck)){var n=c(t,s.id.CHECK,e);l.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();l.repairChkClass(e,n),l.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=u.nodeChildren(e,t);n&&0<n.length?l.repairParentChkClass(e,n[0]):l.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,i){if(t){t.chkDisabled!=n&&(t.chkDisabled=n),l.repairChkClass(e,t);var a=u.nodeChildren(e,t);if(a&&i)for(var r=0,o=a.length;r<o;r++){var s=a[r];l.repairSonChkDisabled(e,s,n,i)}}},repairParentChkDisabled:function(e,t,n,i){t&&(t.chkDisabled!=n&&i&&(t.chkDisabled=n),l.repairChkClass(e,t),l.repairParentChkDisabled(e,t.getParentNode(),n,i))},setChkClass:function(e,t,n){t&&(!0===n.nocheck?t.hide():t.show(),t.attr("class",l.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,i){var a=c(t,s.id.CHECK,e);if(i=i||t,u.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(u.nodeChecked(e,t,n),l.setChkClass(e,a,t),e.check.autoCheckTrigger&&t!=i&&e.treeObj.trigger(s.event.CHECK,[null,e.treeId,t])),t.parentTId){var r=!0;if(!n)for(var o=u.nodeChildren(e,t.getParentNode()),d=0,h=o.length;d<h;d++){var f=o[d],p=u.nodeChecked(e,f);if(!0!==f.nocheck&&!0!==f.chkDisabled&&p||(!0===f.nocheck||!0===f.chkDisabled)&&0<f.check_Child_State){r=!1;break}}r&&l.setParentNodeCheckBox(e,t.getParentNode(),n,i)}},setSonNodeCheckBox:function(e,t,n,i){if(t){var a=c(t,s.id.CHECK,e);i=i||t;var r=!1,o=u.nodeChildren(e,t);if(o)for(var d=0,h=o.length;d<h;d++){var f=o[d];l.setSonNodeCheckBox(e,f,n,i),!0===f.chkDisabled&&(r=!0)}t!=u.getRoot(e)&&!0!==t.chkDisabled&&(r&&!0!==t.nocheck&&u.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(u.nodeChecked(e,t,n),r||(t.check_Child_State=o&&0<o.length?n?2:0:-1)):t.check_Child_State=-1,l.setChkClass(e,a,t),e.check.autoCheckTrigger&&t!=i&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(s.event.CHECK,[null,e.treeId,t]))}}},event:{},data:{getRadioCheckedList:function(e){for(var t=u.getRoot(e).radioCheckedList,n=0,i=t.length;n<i;n++)u.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,i--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=u.nodeChecked(e,t);return{checked:n,half:t.halfCheck?t.halfCheck:e.check.chkStyle==s.radio.STYLE?2===t.check_Child_State:n?-1<t.check_Child_State&&t.check_Child_State<2:0<t.check_Child_State}},getTreeCheckedNodes:function(e,t,n,i){if(!t)return[];var a=n&&e.check.chkStyle==s.radio.STYLE&&e.check.radioType==s.radio.TYPE_ALL;i=i||[];for(var r=0,o=t.length;r<o;r++){var l=t[r],c=u.nodeChildren(e,l),d=u.nodeChecked(e,l);if(!0!==l.nocheck&&!0!==l.chkDisabled&&d==n&&(i.push(l),a))break;if(u.getTreeCheckedNodes(e,c,n,i),a&&0<i.length)break}return i},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];n=n||[];for(var i=0,a=t.length;i<a;i++){var r=t[i],o=u.nodeChildren(e,r),s=u.nodeChecked(e,r);!0!==r.nocheck&&!0!==r.chkDisabled&&s!=r.checkedOld&&n.push(r),u.getTreeChangeCheckedNodes(e,o,n)}return n},makeChkFlag:function(e,t){if(t){var n=-1,i=u.nodeChildren(e,t);if(i)for(var a=0,r=i.length;a<r;a++){var o=i[a],l=u.nodeChecked(e,o),c=-1;if(e.check.chkStyle==s.radio.STYLE){if(2==(c=!0===o.nocheck||!0===o.chkDisabled?o.check_Child_State:!0===o.halfCheck||l||0<o.check_Child_State?2:0)){n=2;break}0==c&&(n=0)}else if(e.check.chkStyle==s.checkbox.STYLE){if(1===(c=!0===o.nocheck||!0===o.chkDisabled?o.check_Child_State:!0===o.halfCheck?1:l?-1===o.check_Child_State||2===o.check_Child_State?2:1:0<o.check_Child_State?1:0)){n=1;break}if(2===c&&-1<n&&0<a&&c!==n){n=1;break}if(2===n&&-1<c&&c<2){n=1;break}-1<c&&(n=c)}}t.check_Child_State=n}}}};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,a);var r=e.fn.zTree,o=r._z.tools,s=r.consts,l=r._z.view,u=r._z.data,c=(r._z.event,o.$);u.nodeChecked=function(e,t,n){if(!t)return!1;var i=e.data.key.checked;return void 0!==n?("string"==typeof n&&(n=o.eqs(n,"true")),n=!!n,t[i]=n):"string"==typeof t[i]?t[i]=o.eqs(t[i],"true"):t[i]=!!t[i],t[i]},u.exSetting(n),u.addInitBind((function(e){var t=e.treeObj,n=s.event;t.bind(n.CHECK,(function(t,n,i,a){t.srcEvent=n,o.apply(e.callback.onCheck,[t,i,a])}))})),u.addInitUnBind((function(e){var t=e.treeObj,n=s.event;t.unbind(n.CHECK)})),u.addInitCache((function(e){})),u.addInitNode((function(e,t,n,i,a,r,l){if(n){var c=u.nodeChecked(e,n);n.checkedOld=c,"string"==typeof n.nocheck&&(n.nocheck=o.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&i&&!!i.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=o.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&i&&!!i.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=o.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return u.getCheckStatus(e,n)},e.check.chkStyle==s.radio.STYLE&&e.check.radioType==s.radio.TYPE_ALL&&c&&u.getRoot(e).radioCheckedList.push(n)}})),u.addInitProxy((function(e){var t=e.target,n=u.getSetting(e.data.treeId),a="",r=null,l="",c=null;if(o.eqs(e.type,"mouseover")?n.check.enable&&o.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+s.id.CHECK)&&(a=o.getNodeMainDom(t).id,l="mouseoverCheck"):o.eqs(e.type,"mouseout")?n.check.enable&&o.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+s.id.CHECK)&&(a=o.getNodeMainDom(t).id,l="mouseoutCheck"):o.eqs(e.type,"click")&&n.check.enable&&o.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+s.id.CHECK)&&(a=o.getNodeMainDom(t).id,l="checkNode"),0<a.length)switch(r=u.getNodeCache(n,a),l){case"checkNode":c=i.onCheckNode;break;case"mouseoverCheck":c=i.onMouseoverCheck;break;case"mouseoutCheck":c=i.onMouseoutCheck}return{stop:"checkNode"===l,node:r,nodeEventType:l,nodeEventCallback:c,treeEventType:"",treeEventCallback:null}}),!0),u.addInitRoot((function(e){u.getRoot(e).radioCheckedList=[]})),u.addBeforeA((function(e,t,n){e.check.enable&&(u.makeChkFlag(e,t),n.push("<span ID='",t.tId,s.id.CHECK,"' class='",l.makeChkClass(e,t),"' treeNode",s.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))})),u.addZTreeTools((function(e,t){t.checkNode=function(t,n,i,a){var r=u.nodeChecked(e,t);if(!0!==t.chkDisabled&&(!0!==n&&!1!==n&&(n=!r),a=!!a,(r!==n||i)&&(!a||0!=o.apply(this.setting.callback.beforeCheck,[this.setting.treeId,t],!0))&&o.uCanDo(this.setting)&&this.setting.check.enable&&!0!==t.nocheck)){u.nodeChecked(e,t,n);var d=c(t,s.id.CHECK,this.setting);!i&&this.setting.check.chkStyle!==s.radio.STYLE||l.checkNodeRelation(this.setting,t),l.setChkClass(this.setting,d,t),l.repairParentChkClassWithSelf(this.setting,t),a&&this.setting.treeObj.trigger(s.event.CHECK,[null,this.setting.treeId,t])}},t.checkAllNodes=function(e){l.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(t){t=!1!==t;var n=u.nodeChildren(e,u.getRoot(this.setting));return u.getTreeCheckedNodes(this.setting,n,t)},t.getChangeCheckedNodes=function(){var t=u.nodeChildren(e,u.getRoot(this.setting));return u.getTreeChangeCheckedNodes(this.setting,t)},t.setChkDisabled=function(e,t,n,i){t=!!t,n=!!n,i=!!i,l.repairSonChkDisabled(this.setting,e,t,i),l.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,i){if(n&&n.apply(t,arguments),e&&this.setting.check.enable&&c(e,this.setting).get(0)&&o.uCanDo(this.setting)){var a=c(e,s.id.CHECK,this.setting);1!=i&&this.setting.check.chkStyle!==s.radio.STYLE||l.checkNodeRelation(this.setting,e),l.setChkClass(this.setting,a,e),l.repairParentChkClassWithSelf(this.setting,e)}}}));var d=l.createNodes;l.createNodes=function(e,t,n,i,a){d&&d.apply(l,arguments),n&&l.repairParentChkClassWithSelf(e,i)};var h=l.removeNode;l.removeNode=function(e,t){var n=t.getParentNode();h&&h.apply(l,arguments),t&&n&&(l.repairChkClass(e,n),l.repairParentChkClass(e,n))};var f=l.appendNodes;l.appendNodes=function(e,t,n,i,a,r,o){var s="";return f&&(s=f.apply(l,arguments)),i&&u.makeChkFlag(e,i),s}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={onHoverOverNode:function(e,t){var i=l.getSetting(e.data.treeId),a=l.getRoot(i);a.curHoverNode!=t&&n.onHoverOutNode(e),a.curHoverNode=t,s.addHoverDom(i,t)},onHoverOutNode:function(e,t){var n=l.getSetting(e.data.treeId),i=l.getRoot(n);i.curHoverNode&&!l.isSelectedNode(n,i.curHoverNode)&&(s.removeTreeDom(n,i.curHoverNode),i.curHoverNode=null)},onMousedownNode:function(n,i){var a,c,d=l.getSetting(n.data.treeId),h=l.getRoot(d),f=l.getRoots();if(2==n.button||!d.edit.enable||!d.edit.drag.isCopy&&!d.edit.drag.isMove)return!0;var p=n.target,m=l.getRoot(d).curSelectedList,g=[];if(l.isSelectedNode(d,i))for(a=0,c=m.length;a<c;a++){if(m[a].editNameFlag&&r.eqs(p.tagName,"input")&&null!==p.getAttribute("treeNode"+o.id.INPUT))return!0;if(g.push(m[a]),g[0].parentTId!==m[a].parentTId){g=[i];break}}else g=[i];s.editNodeBlur=!0,s.cancelCurEditNode(d);var v,y,b,A,w,x=e(d.treeObj.get(0).ownerDocument),C=e(d.treeObj.get(0).ownerDocument.body),k=!1,S=d,T=d,N=null,I=null,D=null,P=o.move.TYPE_INNER,L=n.clientX,O=n.clientY,M=(new Date).getTime();function E(n){if(0==h.dragFlag&&Math.abs(L-n.clientX)<d.edit.drag.minMoveSize&&Math.abs(O-n.clientY)<d.edit.drag.minMoveSize)return!0;var i,a,c,p,m;if(C.css("cursor","pointer"),0==h.dragFlag){if(0==r.apply(d.callback.beforeDrag,[d.treeId,g],!0))return R(n),!0;for(i=0,a=g.length;i<a;i++)0==i&&(h.dragNodeShowBefore=[]),c=g[i],l.nodeIsParent(d,c)&&c.open?(s.expandCollapseNode(d,c,!c.open),h.dragNodeShowBefore[c.tId]=!0):h.dragNodeShowBefore[c.tId]=!1;h.dragFlag=1,f.showHoverDom=!1,r.showIfameMask(d,!0);var T=!0,E=-1;if(1<g.length){var j=g[0].parentTId?l.nodeChildren(d,g[0].getParentNode()):l.getNodes(d);for(m=[],i=0,a=j.length;i<a;i++)if(void 0!==h.dragNodeShowBefore[j[i].tId]&&(T&&-1<E&&E+1!==i&&(T=!1),m.push(j[i]),E=i),g.length===m.length){g=m;break}}for(T&&(A=g[0].getPreNode(),w=g[g.length-1].getNextNode()),v=u("<ul class='zTreeDragUL'></ul>",d),i=0,a=g.length;i<a;i++)(c=g[i]).editNameFlag=!1,s.selectNode(d,c,0<i),s.removeTreeDom(d,c),i>d.edit.drag.maxShowNodeNum-1||((p=u("<li id='"+c.tId+"_tmp'></li>",d)).append(u(c,o.id.A,d).clone()),p.css("padding","0"),p.children("#"+c.tId+o.id.A).removeClass(o.node.CURSELECTED),v.append(p),i==d.edit.drag.maxShowNodeNum-1&&(p=u("<li id='"+c.tId+"_moretmp'><a>  ...  </a></li>",d),v.append(p)));v.attr("id",g[0].tId+o.id.UL+"_tmp"),v.addClass(d.treeObj.attr("class")),v.appendTo(C),(y=u("<span class='tmpzTreeMove_arrow'></span>",d)).attr("id","zTreeMove_arrow_tmp"),y.appendTo(C),d.treeObj.trigger(o.event.DRAG,[n,d.treeId,g])}if(1==h.dragFlag){if(b&&y.attr("id")==n.target.id&&D&&n.clientX+x.scrollLeft()+2>e("#"+D+o.id.A,b).offset().left){var B=e("#"+D+o.id.A,b);n.target=0<B.length?B.get(0):n.target}else b&&(b.removeClass(o.node.TMPTARGET_TREE),D&&e("#"+D+o.id.A,b).removeClass(o.node.TMPTARGET_NODE+"_"+o.move.TYPE_PREV).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));D=b=null,k=!1,S=d;var _=l.getSettings();for(var V in _)_[V].treeId&&_[V].edit.enable&&_[V].treeId!=d.treeId&&(n.target.id==_[V].treeId||0<e(n.target).parents("#"+_[V].treeId).length)&&(k=!0,S=_[V]);var F=x.scrollTop(),U=x.scrollLeft(),q=S.treeObj.offset(),z=S.treeObj.get(0).scrollHeight,Q=S.treeObj.get(0).scrollWidth,$=n.clientY+F-q.top,H=S.treeObj.height()+q.top-n.clientY-F,G=n.clientX+U-q.left,Y=S.treeObj.width()+q.left-n.clientX-U,W=$<d.edit.drag.borderMax&&$>d.edit.drag.borderMin,K=H<d.edit.drag.borderMax&&H>d.edit.drag.borderMin,J=G<d.edit.drag.borderMax&&G>d.edit.drag.borderMin,X=Y<d.edit.drag.borderMax&&Y>d.edit.drag.borderMin,Z=$>d.edit.drag.borderMin&&H>d.edit.drag.borderMin&&G>d.edit.drag.borderMin&&Y>d.edit.drag.borderMin,ee=W&&S.treeObj.scrollTop()<=0,te=K&&S.treeObj.scrollTop()+S.treeObj.height()+10>=z,ne=J&&S.treeObj.scrollLeft()<=0,ie=X&&S.treeObj.scrollLeft()+S.treeObj.width()+10>=Q;if(n.target&&r.isChildOrSelf(n.target,S.treeId)){for(var ae=n.target;ae&&ae.tagName&&!r.eqs(ae.tagName,"li")&&ae.id!=S.treeId;)ae=ae.parentNode;var re=!0;for(i=0,a=g.length;i<a;i++){if(c=g[i],ae.id===c.tId){re=!1;break}if(0<u(c,d).find("#"+ae.id).length){re=!1;break}}re&&n.target&&r.isChildOrSelf(n.target,ae.id+o.id.A)&&(b=e(ae),D=ae.id)}c=g[0],Z&&r.isChildOrSelf(n.target,S.treeId)&&(!b&&(n.target.id==S.treeId||ee||te||ne||ie)&&(k||!k&&c.parentTId)&&(b=S.treeObj),W?S.treeObj.scrollTop(S.treeObj.scrollTop()-10):K&&S.treeObj.scrollTop(S.treeObj.scrollTop()+10),J?S.treeObj.scrollLeft(S.treeObj.scrollLeft()-10):X&&S.treeObj.scrollLeft(S.treeObj.scrollLeft()+10),b&&b!=S.treeObj&&b.offset().left<S.treeObj.offset().left&&S.treeObj.scrollLeft(S.treeObj.scrollLeft()+b.offset().left-S.treeObj.offset().left)),v.css({top:n.clientY+F+3+"px",left:n.clientX+U+3+"px"});var oe=0,se=0;if(b&&b.attr("id")!=S.treeId){var le=function(){b=null,D="",P=o.move.TYPE_INNER,y.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)},ue=null==D?null:l.getNodeCache(S,D),ce=(n.ctrlKey||n.metaKey)&&d.edit.drag.isMove&&d.edit.drag.isCopy||!d.edit.drag.isMove&&d.edit.drag.isCopy,de=!(!A||D!==A.tId),he=!(!w||D!==w.tId),fe=c.parentTId&&c.parentTId==D,pe=(ce||!he)&&r.apply(S.edit.drag.prev,[S.treeId,g,ue],!!S.edit.drag.prev),me=(ce||!de)&&r.apply(S.edit.drag.next,[S.treeId,g,ue],!!S.edit.drag.next),ge=(ce||!fe)&&!(S.data.keep.leaf&&!l.nodeIsParent(d,ue))&&r.apply(S.edit.drag.inner,[S.treeId,g,ue],!!S.edit.drag.inner);if(pe||me||ge){var ve=e("#"+D+o.id.A,b),ye=ue.isLastNode?null:e("#"+ue.getNextNode().tId+o.id.A,b.next()),be=ve.offset().top,Ae=ve.offset().left,we=pe?ge?.25:me?.5:1:-1,xe=me?ge?.75:pe?.5:0:-1,Ce=(n.clientY+F-be)/ve.height();if((1==we||Ce<=we&&-.2<=Ce)&&pe?(oe=1-y.width(),se=be-y.height()/2,P=o.move.TYPE_PREV):(0==xe||xe<=Ce&&Ce<=1.2)&&me?(oe=1-y.width(),se=null==ye||l.nodeIsParent(d,ue)&&ue.open?be+ve.height()-y.height()/2:ye.offset().top-y.height()/2,P=o.move.TYPE_NEXT):ge?(oe=5-y.width(),se=be,P=o.move.TYPE_INNER):le(),b&&(y.css({display:"block",top:se+"px",left:Ae+oe+"px"}),ve.addClass(o.node.TMPTARGET_NODE+"_"+P),N==D&&I==P||(M=(new Date).getTime()),ue&&l.nodeIsParent(d,ue)&&P==o.move.TYPE_INNER)){var ke=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==ue.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===ue.tId&&(ke=!1),ke&&(window.zTreeMoveTimer=setTimeout((function(){P==o.move.TYPE_INNER&&ue&&l.nodeIsParent(d,ue)&&!ue.open&&(new Date).getTime()-M>S.edit.drag.autoOpenTime&&r.apply(S.callback.beforeDragOpen,[S.treeId,ue],!0)&&(s.switchNode(S,ue),S.edit.drag.autoExpandTrigger&&S.treeObj.trigger(o.event.EXPAND,[S.treeId,ue]))}),S.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=ue.tId)}}else le()}else P=o.move.TYPE_INNER,b&&r.apply(S.edit.drag.inner,[S.treeId,g,null],!!S.edit.drag.inner)?b.addClass(o.node.TMPTARGET_TREE):b=null,y.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);N=D,I=P,d.treeObj.trigger(o.event.DRAGMOVE,[n,d.treeId,g])}return!1}function R(n){if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),I=N=null,x.unbind("mousemove",E),x.unbind("mouseup",R),x.unbind("selectstart",j),C.css("cursor",""),b&&(b.removeClass(o.node.TMPTARGET_TREE),D&&e("#"+D+o.id.A,b).removeClass(o.node.TMPTARGET_NODE+"_"+o.move.TYPE_PREV).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),r.showIfameMask(d,!1),f.showHoverDom=!0,0!=h.dragFlag){var i,a,c;for(i=h.dragFlag=0,a=g.length;i<a;i++)c=g[i],l.nodeIsParent(d,c)&&h.dragNodeShowBefore[c.tId]&&!c.open&&(s.expandCollapseNode(d,c,!c.open),delete h.dragNodeShowBefore[c.tId]);v&&v.remove(),y&&y.remove();var p=(n.ctrlKey||n.metaKey)&&d.edit.drag.isMove&&d.edit.drag.isCopy||!d.edit.drag.isMove&&d.edit.drag.isCopy;if(!p&&b&&D&&g[0].parentTId&&D==g[0].parentTId&&P==o.move.TYPE_INNER&&(b=null),b){var m=function(){if(k){if(!p)for(var e=0,t=g.length;e<t;e++)s.removeNode(d,g[e]);P==o.move.TYPE_INNER?s.addNodes(S,A,-1,w):s.addNodes(S,A.getParentNode(),P==o.move.TYPE_PREV?A.getIndex():A.getIndex()+1,w)}else if(p&&P==o.move.TYPE_INNER)s.addNodes(S,A,-1,w);else if(p)s.addNodes(S,A.getParentNode(),P==o.move.TYPE_PREV?A.getIndex():A.getIndex()+1,w);else if(P!=o.move.TYPE_NEXT)for(e=0,t=w.length;e<t;e++)s.moveNode(S,A,w[e],P,!1);else for(e=-1,t=w.length-1;e<t;t--)s.moveNode(S,A,w[t],P,!1);s.selectNodes(S,w);var i=u(w[0],d).get(0);s.scrollIntoView(d,i),d.treeObj.trigger(o.event.DROP,[n,S.treeId,w,A,P,p])},A=null==D?null:l.getNodeCache(S,D);if(0==r.apply(d.callback.beforeDrop,[S.treeId,g,A,P,p],!0))return void s.selectNodes(T,g);var w=p?r.clone(g):g;P==o.move.TYPE_INNER&&r.canAsync(S,A)?s.asyncNode(S,A,!1,m):m()}else s.selectNodes(T,g),d.treeObj.trigger(o.event.DROP,[n,d.treeId,g,null,null,null])}}function j(){return!1}return r.uCanDo(d)&&x.bind("mousemove",E),x.bind("mouseup",R),x.bind("selectstart",j),!0}},i={tools:{getAbs:function(e){var t=e.getBoundingClientRect(),n=document.body.scrollTop+document.documentElement.scrollTop,i=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+i,t.top+n]},inputFocus:function(e){e.get(0)&&(e.focus(),r.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(e,t){for(var n=l.getRoot(e);0<n.dragMaskList.length;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var i=u("iframe",e),a=0,o=i.length;a<o;a++){var s=i.get(a),c=r.getAbs(s),d=u("<div id='zTreeMask_"+a+"' class='zTreeMask' style='top:"+c[1]+"px; left:"+c[0]+"px; width:"+s.offsetWidth+"px; height:"+s.offsetHeight+"px;'></div>",e);d.appendTo(u("body",e)),n.dragMaskList.push(d)}}},view:{addEditBtn:function(e,t){if(!(t.editNameFlag||0<u(t,o.id.EDIT,e).length)&&r.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var n=u(t,o.id.A,e),i="<span class='"+o.className.BUTTON+" edit' id='"+t.tId+o.id.EDIT+"' title='"+r.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+o.id.EDIT+" style='display:none;'></span>";n.append(i),u(t,o.id.EDIT,e).bind("click",(function(){return r.uCanDo(e)&&0!=r.apply(e.callback.beforeEditName,[e.treeId,t],!0)&&s.editNode(e,t),!1})).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||0<u(t,o.id.REMOVE,e).length)&&r.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var n=u(t,o.id.A,e),i="<span class='"+o.className.BUTTON+" remove' id='"+t.tId+o.id.REMOVE+"' title='"+r.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+o.id.REMOVE+" style='display:none;'></span>";n.append(i),u(t,o.id.REMOVE,e).bind("click",(function(){return r.uCanDo(e)&&0!=r.apply(e.callback.beforeRemove,[e.treeId,t],!0)&&(s.removeNode(e,t),e.treeObj.trigger(o.event.REMOVE,[e.treeId,t])),!1})).bind("mousedown",(function(e){return!0})).show()}},addHoverDom:function(e,t){l.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(s.addEditBtn(e,t),s.addRemoveBtn(e,t)),r.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var i=l.getRoot(e),a=i.curEditNode;if(a){var c=i.curEditInput,d=t||(n?l.nodeName(e,a):c.val());if(!1===r.apply(e.callback.beforeRename,[e.treeId,a,d,n],!0))return!1;l.nodeName(e,a,d),u(a,o.id.A,e).removeClass(o.node.CURSELECTED_EDIT),c.unbind(),s.setNodeName(e,a),a.editNameFlag=!1,i.curEditNode=null,i.curEditInput=null,s.selectNode(e,a,!1),e.treeObj.trigger(o.event.RENAME,[e.treeId,a,n])}return i.noSelection=!0},editNode:function(e,t){var n=l.getRoot(e);if(s.editNodeBlur=!1,l.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag)setTimeout((function(){r.inputFocus(n.curEditInput)}),0);else{t.editNameFlag=!0,s.removeTreeDom(e,t),s.cancelCurEditNode(e),s.selectNode(e,t,!1),u(t,o.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+o.id.INPUT+"' treeNode"+o.id.INPUT+" >");var i=u(t,o.id.INPUT,e);i.attr("value",l.nodeName(e,t)),e.edit.editNameSelectAll?r.inputSelect(i):r.inputFocus(i),i.bind("blur",(function(t){s.editNodeBlur||s.cancelCurEditNode(e)})).bind("keydown",(function(t){"13"==t.keyCode?(s.editNodeBlur=!0,s.cancelCurEditNode(e)):"27"==t.keyCode&&s.cancelCurEditNode(e,null,!0)})).bind("click",(function(e){return!1})).bind("dblclick",(function(e){return!1})),u(t,o.id.A,e).addClass(o.node.CURSELECTED_EDIT),n.curEditInput=i,n.noSelection=!1,n.curEditNode=t}},moveNode:function(e,t,n,i,a,r){var c=l.getRoot(e);if(t!=n&&(!e.data.keep.leaf||!t||l.nodeIsParent(e,t)||i!=o.move.TYPE_INNER)){var d=n.parentTId?n.getParentNode():c,h=null===t||t==c;h&&null===t&&(t=c),h&&(i=o.move.TYPE_INNER);var f,p,m=t.parentTId?t.getParentNode():c;if(i!=o.move.TYPE_PREV&&i!=o.move.TYPE_NEXT&&(i=o.move.TYPE_INNER),i==o.move.TYPE_INNER&&(h?n.parentTId=null:(l.nodeIsParent(e,t)||(l.nodeIsParent(e,t,!0),t.open=!!t.open,s.setNodeLineIcos(e,t)),n.parentTId=t.tId)),h)p=f=e.treeObj;else{if(r||i!=o.move.TYPE_INNER?r||s.expandCollapseNode(e,t.getParentNode(),!0,!1):s.expandCollapseNode(e,t,!0,!1),f=u(t,e),p=u(t,o.id.UL,e),f.get(0)&&!p.get(0)){var g=[];s.makeUlHtml(e,t,g,""),f.append(g.join(""))}p=u(t,o.id.UL,e)}var v=u(n,e);v.get(0)?f.get(0)||v.remove():v=s.appendNodes(e,n.level,[n],null,-1,!1,!0).join(""),p.get(0)&&i==o.move.TYPE_INNER?p.append(v):f.get(0)&&i==o.move.TYPE_PREV?f.before(v):f.get(0)&&i==o.move.TYPE_NEXT&&f.after(v);var y,b,A=-1,w=0,x=null,C=null,k=n.level,S=l.nodeChildren(e,d),T=l.nodeChildren(e,m),N=l.nodeChildren(e,t);if(n.isFirstNode)A=0,1<S.length&&((x=S[1]).isFirstNode=!0);else if(n.isLastNode)(x=S[(A=S.length-1)-1]).isLastNode=!0;else for(y=0,b=S.length;y<b;y++)if(S[y].tId==n.tId){A=y;break}if(0<=A&&S.splice(A,1),i!=o.move.TYPE_INNER)for(y=0,b=T.length;y<b;y++)T[y].tId==t.tId&&(w=y);if(i==o.move.TYPE_INNER?(0<(N=N||l.nodeChildren(e,t,[])).length&&((C=N[N.length-1]).isLastNode=!1),N.splice(N.length,0,n),n.isLastNode=!0,n.isFirstNode=1==N.length):t.isFirstNode&&i==o.move.TYPE_PREV?(T.splice(w,0,n),(C=t).isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&i==o.move.TYPE_NEXT?(T.splice(w+1,0,n),(C=t).isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(i==o.move.TYPE_PREV?T.splice(w,0,n):T.splice(w+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),l.fixPIdKeyValue(e,n),l.setSonNodeLevel(e,n.getParentNode(),n),s.setNodeLineIcos(e,n),s.repairNodeLevelClass(e,n,k),!e.data.keep.parent&&S.length<1){l.nodeIsParent(e,d,!1),d.open=!1;var I=u(d,o.id.UL,e),D=u(d,o.id.SWITCH,e),P=u(d,o.id.ICON,e);s.replaceSwitchClass(d,D,o.folder.DOCU),s.replaceIcoClass(d,P,o.folder.DOCU),I.css("display","none")}else x&&s.setNodeLineIcos(e,x);C&&s.setNodeLineIcos(e,C),e.check&&e.check.enable&&s.repairChkClass&&(s.repairChkClass(e,d),s.repairParentChkClassWithSelf(e,d),d!=n.parent&&s.repairParentChkClassWithSelf(e,n)),r||s.expandCollapseParentNode(e,n.getParentNode(),!0,a)}},removeEditBtn:function(e,t){u(t,o.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){u(t,o.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,s.removeEditBtn(e,t),s.removeRemoveBtn(e,t),r.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){if(n!==t.level){var i=u(t,e),a=u(t,o.id.A,e),r=u(t,o.id.UL,e),s=o.className.LEVEL+n,l=o.className.LEVEL+t.level;i.removeClass(s),i.addClass(l),a.removeClass(s),a.addClass(l),r.removeClass(s),r.addClass(l)}},selectNodes:function(e,t){for(var n=0,i=t.length;n<i;n++)s.selectNode(e,t[n],0<n)}},event:{},data:{setSonNodeLevel:function(e,t,n){if(n){var i=l.nodeChildren(e,n);if(n.level=t?t.level+1:0,i)for(var a=0,r=i.length;a<r;a++)i[a]&&l.setSonNodeLevel(e,n,i[a])}}}};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,i);var a=e.fn.zTree,r=a._z.tools,o=a.consts,s=a._z.view,l=a._z.data,u=(a._z.event,r.$);l.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}}),l.addInitBind((function(e){var t=e.treeObj,n=o.event;t.bind(n.RENAME,(function(t,n,i,a){r.apply(e.callback.onRename,[t,n,i,a])})),t.bind(n.DRAG,(function(t,n,i,a){r.apply(e.callback.onDrag,[n,i,a])})),t.bind(n.DRAGMOVE,(function(t,n,i,a){r.apply(e.callback.onDragMove,[n,i,a])})),t.bind(n.DROP,(function(t,n,i,a,o,s,l){r.apply(e.callback.onDrop,[n,i,a,o,s,l])}))})),l.addInitUnBind((function(e){var t=e.treeObj,n=o.event;t.unbind(n.RENAME),t.unbind(n.DRAG),t.unbind(n.DRAGMOVE),t.unbind(n.DROP)})),l.addInitCache((function(e){})),l.addInitNode((function(e,t,n,i,a,r,o){n&&(n.isHover=!1,n.editNameFlag=!1)})),l.addInitProxy((function(e){var t=e.target,i=l.getSetting(e.data.treeId),a=e.relatedTarget,s="",u=null,c="",d=null,h=null;if(r.eqs(e.type,"mouseover")?(h=r.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+o.id.A}]))&&(s=r.getNodeMainDom(h).id,c="hoverOverNode"):r.eqs(e.type,"mouseout")?(h=r.getMDom(i,a,[{tagName:"a",attrName:"treeNode"+o.id.A}]))||(s="remove",c="hoverOutNode"):r.eqs(e.type,"mousedown")&&(h=r.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+o.id.A}]))&&(s=r.getNodeMainDom(h).id,c="mousedownNode"),0<s.length)switch(u=l.getNodeCache(i,s),c){case"mousedownNode":d=n.onMousedownNode;break;case"hoverOverNode":d=n.onHoverOverNode;break;case"hoverOutNode":d=n.onHoverOutNode}return{stop:!1,node:u,nodeEventType:c,nodeEventCallback:d,treeEventType:"",treeEventCallback:null}})),l.addInitRoot((function(e){var t=l.getRoot(e),n=l.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,n.showHoverDom=!0})),l.addZTreeTools((function(e,t){t.cancelEditName=function(e){l.getRoot(this.setting).curEditNode&&s.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(t,n,i,a){if(!n)return null;var u=l.nodeIsParent(e,t);if(t&&!u&&this.setting.data.keep.leaf&&i===o.move.TYPE_INNER)return null;var c=this,d=r.clone(n);if(t||(t=null,i=o.move.TYPE_INNER),i==o.move.TYPE_INNER){var h=function(){s.addNodes(c.setting,t,-1,[d],a)};r.canAsync(this.setting,t)?s.asyncNode(this.setting,t,a,h):h()}else s.addNodes(this.setting,t.parentNode,-1,[d],a),s.moveNode(this.setting,t,d,i,!1,a);return d},t.editName=function(e){e&&e.tId&&e===l.getNodeCache(this.setting,e.tId)&&(e.parentTId&&s.expandCollapseParentNode(this.setting,e.getParentNode(),!0),s.editNode(this.setting,e))},t.moveNode=function(t,n,i,a){if(!n)return n;var c=l.nodeIsParent(e,t);if(t&&!c&&this.setting.data.keep.leaf&&i===o.move.TYPE_INNER)return null;if(t&&(n.parentTId==t.tId&&i==o.move.TYPE_INNER||0<u(n,this.setting).find("#"+t.tId).length))return null;t=t||null;var d=this;function h(){s.moveNode(d.setting,t,n,i,!1,a)}return r.canAsync(this.setting,t)&&i===o.move.TYPE_INNER?s.asyncNode(this.setting,t,a,h):h(),n},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}}));var c=s.cancelPreSelectedNode;s.cancelPreSelectedNode=function(e,t){for(var n=l.getRoot(e).curSelectedList,i=0,a=n.length;i<a&&(t&&t!==n[i]||(s.removeTreeDom(e,n[i]),!t));i++);c&&c.apply(s,arguments)};var d=s.createNodes;s.createNodes=function(e,t,n,i,a){d&&d.apply(s,arguments),n&&s.repairParentChkClassWithSelf&&s.repairParentChkClassWithSelf(e,i)};var h=s.makeNodeUrl;s.makeNodeUrl=function(e,t){return e.edit.enable?null:h.apply(s,arguments)};var f=s.removeNode;s.removeNode=function(e,t){var n=l.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),f&&f.apply(s,arguments)};var p=s.selectNode;s.selectNode=function(e,t,n){var i=l.getRoot(e);return(!l.isSelectedNode(e,t)||i.curEditNode!=t||!t.editNameFlag)&&(p&&p.apply(s,arguments),s.addHoverDom(e,t),!0)};var m=r.uCanDo;r.uCanDo=function(e,t){var n=l.getRoot(e);return!(!t||!(r.eqs(t.type,"mouseover")||r.eqs(t.type,"mouseout")||r.eqs(t.type,"mousedown")||r.eqs(t.type,"mouseup")))||(n.curEditNode&&(s.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(!m||m.apply(s,arguments)))}}(jQuery)},"0d62":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAABuUlEQVQ4Ea1UPUsDQRCdt3dIRLERK/0NNhpE0C6CGDu1laDgX/AfCNpY2liIlgopDAqCjYrYpNUuhSAhpDBFRAVvx9mgm3VdzxM8uLs3M28eM/sxKMwt7hBojZkV2Qdb5ydH69b0QKG4VGTWFdcNoDoy1D+lvosRKeDJJfsYitq+TwoaqzfbefW1Mp/2N1srqDiUwsSzM8XF11DM+DjRoz/FwoLMk0w0+VNSmj8GaEcISRopa0yBHmJi9DFYZ01K44EoimW9lkn6+48nYdqzayjnSBNzmYBGZnGmXuEuSFEDnznOYaYLQO1LIJf9xR0p2v4UM39boZzHlgTzrHnFJaRh2dArEI6kQkuzgtYjQCqdj5Squz4fJzo59n3GDgqae/qW/L7xsu41XzQoKCVeShcvPtmzpz27YwYF5TxdS+OtUIL1gcctdkBQUDZIRld3oR1+F0pYWu7aHygoKLxVhaj5je04tE52HdPCoCATNjTr9PsNDFoVB8hwQNUMRyl+mBBtktKPJv5Lwx2JiOheM090DOA5ztFtbMa2mbRmOCLuqZ2VD246hAyfUqmUk9yGjlTFiJ0eHjbfARtLjrmjH2ldAAAAAElFTkSuQmCC"},"0d91":function(e,t,n){},"0dd8":function(e,t,n){"use strict";n.r(t);var i=n("504d"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0de0":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9f58")),r={extends:a.default};t.default=r},"0de2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"percentloop flex a-center flex-row j-end h100"},[n("div",{staticClass:"percent-list"},[n("div",{staticClass:"wrap"},[n("div",{class:e.daysDeg>180?"clip-auto circle":"circle"},[n("div",{staticClass:"percent left",style:"-webkit-transform:rotate("+e.daysDeg+"deg);"}),n("div",{class:e.daysDeg>180?"percent right":"percent right wth0"})]),n("div",{staticClass:"inside-round flex a-center j-center flex-column"},[n("div",{staticClass:"num text-white"},[e._v(e._s(e.days))]),n("div",{staticClass:"label text-white"},[e._v("DAYS")])])])]),n("div",{staticClass:"percent-list"},[n("div",{staticClass:"wrap"},[n("div",{class:e.hoursDeg>180?"clip-auto circle":"circle"},[n("div",{staticClass:"percent left",style:"-webkit-transform:rotate("+e.hoursDeg+"deg);"}),n("div",{class:e.hoursDeg>180?"percent right":"percent right wth0"})]),n("div",{staticClass:"inside-round flex a-center j-center flex-column"},[n("div",{staticClass:"num text-white"},[e._v(e._s(e.hours))]),n("div",{staticClass:"label text-white"},[e._v("HOURS")])])])]),n("div",{staticClass:"percent-list"},[n("div",{staticClass:"wrap"},[n("div",{class:e.minDeg>180?"clip-auto circle":"circle"},[n("div",{staticClass:"percent left",style:"-webkit-transform:rotate("+e.minDeg+"deg);"}),n("div",{class:e.minDeg>180?"percent right":"percent right wth0"})]),n("div",{staticClass:"inside-round flex a-center j-center flex-column"},[n("div",{staticClass:"num text-white"},[e._v(e._s(e.min))]),n("div",{staticClass:"label text-white"},[e._v("MIN")])])])]),n("div",{staticClass:"percent-list"},[n("div",{staticClass:"wrap"},[n("div",{class:e.secDeg>180?"clip-auto circle":"circle"},[n("div",{staticClass:"percent left",style:"-webkit-transform:rotate("+e.secDeg+"deg);"}),n("div",{class:e.secDeg>180?"percent right":"percent right wth0"})]),n("div",{staticClass:"inside-round flex a-center j-center flex-column"},[n("div",{staticClass:"num text-white"},[e._v(e._s(e.sec))]),n("div",{staticClass:"label text-white"},[e._v("SEC")])])])])])},a=[]},"0dff":function(t,n,i){"use strict";var a=i("dbce"),r=i("4ea4");i("8e6e"),Object.defineProperty(n,"__esModule",{value:!0}),n.data_filter=g,n.saveNodeSetting=v,n.getPreNodesNotDatasource=C,n.getPreNodes=k,n.cancelExecute=N,n.executeNode=D,n.executeNode_callback=P,n.executeToNode=L,n.executeAllNode=O,n.executeAllNode_callback=M,n.nodeCallBack=E,n.setNodeOutputTypeIcon=j,n.changeNodeIcon=B,n.setDataSourceCopyIcon=_,n.lightHeight=V,n.curNodeSQL=U,n.previewNodeData=q,n.reName=z,n.reNameCallBack=Q,n.reSetOptProperty=H,n.sqlNodeEdit=G,n.sqlNodeEdit_callBack=Y,n.getDataSourceTable=K,n.changeUndoNodeInfo=X,n.changeRedoNodeInfo=Z,n.deleteCells=ee,n.progressDownLoad=te,n.sendGraphIndexVue=void 0,i("96cf");var o=r(i("c973"));i("7f7f"),i("ac6a"),i("456d"),i("5df3"),i("1c4c");var s=r(i("9523"));i("7514");var l=i("8ebc"),u=a(i("1dcc")),c=i("cdd0");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=null,p=null,m=function(e){f=e,p=e.graph};function g(e,t,n){var i=p.curCell.id,a=u.verifyPreNodes(e,i);a.isError?f.$message.error(a.message):u.settingVerify(e)&&(f.settingType="relation"===e?"relation":"groupCount"===e?"groupCount":"commonSetting",f.sp_optType=e,f.sp_nodeId=i,f.nodeSettingTitle=t,f.nodeSettingDialogVisible=!0)}function v(){var t=f.sp_nodeId,n=function(){var e=f.sp_optType;if(!f.$refs.nodeSetting.$refs.basicVueRef.basicInfoVerify())return $(f.$refs.nodeSetting.$refs.myTab).find("li:eq(0)>a").click(),!1;if("relation"===e||"groupCount"===e){if(!f.$refs.nodeSetting.inputVerify())return $(f.$refs.nodeSetting.$refs.myTab).find("li:eq(1)>a").click(),!1}else{if(!f.$refs.nodeSetting.$refs.conditionSet.inputVerify())return $(f.$refs.nodeSetting.$refs.myTab).find("li:eq(1)>a").click(),!1;if("comparison"!==e&&!f.$refs.nodeSetting.$refs.outputColumnVueRef.outputVerify())return!1}return!0},i=function(){var n=f.sp_optType;"relation"===n||"groupCount"===n?f.$refs.nodeSetting.saveNodeInfo():"comparison"===n?f.$refs.nodeSetting.$refs.conditionSet.saveNotOutput():f.$refs.nodeSetting.saveGraphNodeSetting(),f.nodeSettingDialogVisible=!1,f.$nextTick((function(){p.nodeData[t].nodeInfo.nodeExcuteStatus=1,p.nodeData[t].isSet=!0,p.nodeData[t].setting.settingId=(new UUIDGenerator).id,B(1,!0,t),p.cellLabelChanged(p.curCell,p.nodeData[t].nodeInfo.nodeName,null),p.getModel().beginUpdate();try{var n=p.nodeData[t].nodeInfo.optType,i=p.curCell.geometry.y;if("layering"===n){if(a.length>0){for(var r=[],o=0;o<a.length;o++)r.push(p.model.getCell(a[o]));r.length>0&&(p.setSelectionCells(r),ee(!0),deleteResourceZtreeNode(a))}for(var s=[],l=[],u=[],c=[],d=p.nodeData[t].nodeInfo.resultTableNameArr,h=p.nodeData[t].nodeInfo.nodeSqlArr,f=p.nodeData[t].nodeInfo.selectSqlNotViewTableArr,m=p.nodeData[t].setting.hierarchy_column,g=p.nodeData[t].setting.hierarchy_map,v=0;v<g.length;v++){var b=m+"【"+g[v].c_col_1+"至"+g[v].c_col_2+"】";c.push("字段【"+m+"】："+g[v].c_col_1+"至"+g[v].c_col_2),y(i+130*v,v,b),0!==d.length?v<=d.length-1?(s[v]=d[v],l[v]=h[v],u[v]=f[v]):(s.push(""),l.push(""),u.push("")):(s.push(""),l.push(""),u.push(""))}p.nodeData[t].nodeInfo.resultTableNameArr=s.slice(),p.nodeData[t].nodeInfo.nodeSqlArr=l.slice(),p.nodeData[t].nodeInfo.selectSqlNotViewTableArr=u.slice(),p.nodeData[t].nodeInfo.areaArr=c}else 0===a.length&&"barChart"!==n&&y(i)}catch(e){console.info(e)}finally{p.getModel().endUpdate()}a.length>0&&A(t,!1),refrashHistoryZtree("配置【"+p.curCell.value+"】节点"),autoSaveGraph(),I(t)}))},a=p.nodeData[t].childrenIds.slice();a.length>0?n()&&f.$confirm("该操作会影响本节点及后续节点的执行信息，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){i()})).catch((function(){f.nodeSettingDialogVisible=!1})):n()&&i()}function y(e,t,n){var i=p.curCell.geometry.x;e||(e=p.curCell.geometry.y),"undefined"!==typeof n&&null!=n||(n="结果表");var a="newNullNode",r=p.insertVertex(p.getDefaultParent(),null,n,i+120,e,60,80,createCellShape(a,!1));r.nodeType=a;var o={id:r.id,name:n,type:a};initNodeData(o,!0),"undefined"!==typeof t&&null!=t&&(p.nodeData[r.id].nodeInfo.index=t);var s=p.insertEdge(p.getDefaultParent(),null,getEdgeCount()+1,p.curCell,r,"rounded=0;html=1;jettySize=auto;orthogonalLoop=1;strokeColor=#3E6F96;strokeWidth=2;");p.edgeArr[s.id]||(p.edgeArr[s.id]={source:p.curCell,target:r}),p.nodeData[p.curCell.id].childrenIds.push(r.id),p.nodeData[r.id].parentIds.push(p.curCell.id),p.oldOptArr.push({optType:"create",optArr:[{id:r.id,nodeData:p.nodeData[r.id]}]}),refrashResourceZtree(r.id,n,r.nodeType)}function b(e){var t=[];return t=w(t,e),t}function A(e,t){var n=b(e);n.unshift(e);for(var i=0;i<n.length;i++)p.nodeData[n[i]].nodeInfo.nodeExcuteStatus=1,p.nodeData[n[i]].isChangeSource=t,p.nodeData[n[i]].isSet&&p.nodeData[n[i]].isChangeSource&&(p.nodeData[n[i]].isSet=!1,delete p.nodeData[n[i]].hasParam,delete p.nodeData[n[i]].paramsSetting,delete f.nodeParamRelArr[n[i]]),B(1,p.nodeData[n[i]].isSet,n[i])}function w(e,t){if(p.nodeData[t])for(var n=p.nodeData[t].childrenIds,i=0;i<n.length;i++)e.push(n[i]),e=w(e,n[i]);return e}function x(e,t){var n=p.nodeData[e].parentIds;if(n.length>0)for(var i=0;i<n.length;i++){var a=p.nodeData[n[i]].nodeInfo.nodeExcuteStatus;3!==a&&$.inArray(n[i],t)<0&&(t=S(p.nodeData,t,n[i],null,3),t=x(n[i],t))}return t}function C(e,t,n){var i=e[t].parentIds;if(i.length>0)for(var a=0;a<i.length;a++){var r=e[i[a]].nodeInfo.optType;"datasource"!==r&&$.inArray(i[a],n)<0&&(n=S(e,n,i[a],"datasource",null),n=C(e,i[a],n))}return n}function k(e,t){var n=p.nodeData[e].parentIds;if(n.length>0)for(var i=0;i<n.length;i++)$.inArray(n[i],t)<0&&(t=S(p.nodeData,t,n[i],null,null),t=k(n[i],t));return t}function S(e,t,n,i,a){var r=!1,o=-1;if(e[n]){var s=e[n].parentIds;if(s&&s.length>0)for(var l=0;l<s.length;l++)if(o=t.indexOf(s[l]),i&&e[s[l]]){var u=e[s[l]].nodeInfo.optType;if(u!==i&&o>-1){r=!0;break}}else if(a&&e[s[l]]){var c=e[s[l]].nodeInfo.nodeExcuteStatus;if(c!==a&&o>-1){r=!0;break}}else if(o>-1){r=!0;break}}return r?t.splice(o+1,0,n):t.unshift(n),t}function T(e,t){var n=p.nodeData[e].nodeInfo.nodeExcuteStatus;if(2===n){t.push(e);for(var i=p.nodeData[e].parentIds,a=0;a<i.length;a++){var r=p.nodeData[i[a]].nodeInfo.nodeExcuteStatus;2===r&&(t=T(i[a],t))}}return t}function N(){if(2===p.nodeData[p.curCell.id].nodeInfo.nodeExcuteStatus){var e=[];e=T(p.curCell.id,e);for(var t=0;t<e.length;t++)p.nodeData[e[t]]&&(p.nodeData[e[t]].nodeInfo.nodeExcuteStatus=1,B(1,null,e[t]));e.length>0&&(refrashHistoryZtree("取消节点执行"),autoSaveGraph())}else alertMsg("错误","该节点不是正在执行的节点","error")}function I(e){var t=p.nodeData[e].childrenIds;t.length>0&&1===t.length&&f.$confirm("节点配置成功，是否立即执行?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info",center:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){var e=p.getModel().getCell(t[0]);e?(p.curCell=e,D()):f.$message.error("自动获取执行节点出错，请手动选择节点执行")})).catch((function(){}))}function D(e){f.curCell=h(h({},{}),p.curCell);var t=f.curCell.id;if("undefined"===typeof e||null==e||0===e.length){if(!u.executeVerify())return;e=[t],e=x(t,e)}if(R(e))alertMsg("提示","当前执行的节点中存在未配置的节点","info");else{var n=p.nodeData[t].isSet,i=p.nodeData[t].parentIds;1===e.length&&e[0]===t&&!n&&i&&i.length>0&&e.unshift(i[0]);for(var a=!1,r=0;r<e.length;r++){var o=p.nodeData[e[r]].hasParam,s=p.nodeData[e[r]].paramsSetting;if(o&&s&&s.arr&&0!==s.arr.length){a=!0;break}}f.executeType="",f.executeNodeIdArr=e,a?(f.nodeParamDialogVisible=!0,f.$nextTick((function(){f.$refs.inputParams.createParamNodeHtml()}))):P(e)}}function P(e){for(var t=0;t<e.length;t++)p.nodeData[e[t]].nodeInfo.nodeExcuteStatus=2,B(2,null,e[t]);for(var n=0;n<e.length;n++)if("layering"===p.nodeData[e[n]].nodeInfo.optType&&p.nodeData[e[n]].nodeInfo.resultTableNameArr.length>0){var i=p.nodeData[e[n]].childrenIds;if(i&&i.length>0)for(var a=0;a<i.length;a++)if($.inArray(i[a],e)>0){var r=p.nodeData[i[a]].nodeInfo.index;p.nodeData[e[n]].setting.index=r;var o=p.nodeData[e[n]].nodeInfo.resultTableNameArr;o.length>0&&(p.nodeData[e[n]].nodeInfo.resultTableName=o[r])}}var s=f.curCell.id,u=p.nodeData[s].isSet,c=p.nodeData[s].parentIds;refrashHistoryZtree("开始执行【"+f.curCell.value+"】节点"),autoSaveGraph();var d=(new UUIDGenerator).id,h={openType:p.openType,executeId:d,graphUuid:f.graphUuid,graphName:f.graphName,nodeIdList:e.join(","),nodeData:JSON.stringify(p.nodeData)};f.initData(),f.websocketBatchId=d,f.$nextTick((function(){(0,l.executeNodeSql)(h).then((function(t){if(null!=t.data){if($("#sysInfoArea").html(t.data.message),f.resultTabActiveName="1",t.data.isError)Array.from(e,(function(e){p.nodeData[e].nodeInfo.nodeExcuteStatus=4,B(4,null,e)})),(0,l.deleteExecuteNodes)(d).then();else if(E(e,t.data.nodeData,d),p.nodeData[s]&&p.nodeData[s].nodeInfo&&3===p.nodeData[s].nodeInfo.nodeExcuteStatus){f.resultTabActiveName="0",f.showTableResult=!1;var n=s,i=p.nodeData[s].nodeInfo.nodeName,a="";a=u?p.nodeData[s].nodeInfo.resultTableName:p.nodeData[c[0]].nodeInfo.resultTableName;var r=!1,o=p.nodeData[s].nodeInfo.optType;if("newNullNode"===o){var h=p.nodeData[s].nodeInfo.midTableStatus,m=p.nodeData[s].nodeInfo.resultTableStatus;2!==h&&2!==m||(r=!0),i=p.nodeData[c[0]].nodeInfo.nodeName+"_"+i,o=p.nodeData[c[0]].nodeInfo.optType}f.resultTableArr.push({id:n,name:i,resultTableName:a,isRoleTable:r,optType:o}),f.viewData()}var g="";g=u?f.curCell.value:p.nodeData[c[0]].nodeInfo.nodeName,refrashHistoryZtree("【"+g+"】节点执行完毕"),autoSaveGraph()}else{$("#sysInfoArea").html("执行节点的请求失败！");for(var v=0;v<e.length;v++)p.nodeData[e[v]].nodeInfo.nodeExcuteStatus=1,B(1,null,e[v])}}))}))}function L(){if(u.executeVerify()){f.curCell=h(h({},{}),p.curCell);var e=[f.curCell.id];e=C(p.nodeData,f.curCell.id,e),D(e)}}function O(){var e=[],t=p.getModel().cells,n=Object.keys(t);if(n&&n.length>0)for(var i=0;i<n.length;i++)if(t[n[i]].vertex&&p.nodeData[n[i]]){var a=[],r={};if("newNullNode"===p.nodeData[n[i]].nodeInfo.optType&&0===p.nodeData[n[i]].childrenIds.length&&(a=p.nodeData[n[i]].parentIds,a&&a.length>0))if(r=p.nodeData[a[0]],r&&!r.isSet){if(a=p.nodeData[r.nodeInfo.nodeId].parentIds,a&&a.length>0)for(var o=0;o<a.length;o++)p.nodeData[a[o]]&&"newNullNode"===p.nodeData[a[o]].nodeInfo.optType&&e.push(p.nodeData[a[o]])}else p.nodeData[n[i]]&&e.push(p.nodeData[n[i]]);"barChart"===p.nodeData[n[i]].nodeInfo.optType&&(a=p.nodeData[n[i]].parentIds,a&&a.length>0&&(r=p.nodeData[a[0]],r&&r.nodeInfo&&"newNullNode"===r.nodeInfo.optType&&e.push(p.nodeData[r.nodeInfo.nodeId])))}0!==e.length?f.$confirm("运行全部的节点耗时较长，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){for(var i=0;i<n.length;i++)t[n[i]].vertex&&p.nodeData[n[i]]&&p.nodeData[n[i]].nodeInfo&&"datasource"!==p.nodeData[n[i]].nodeInfo.optType&&1!==p.nodeData[n[i]].nodeInfo.nodeExcuteStatus&&(p.nodeData[n[i]].nodeInfo.nodeExcuteStatus=1,B(1,null,n[i]));refrashHistoryZtree("开始全部执行所有节点");for(var a={},r=[],o={verify:!0,message:""},s=0;s<e.length;s++){var l=e[s].nodeInfo.nodeId,u=p.getModel().getCell(l);if(u){var c=C(p.nodeData,u.id,[u.id]);if(R(c)){o.verify=!1,o.message="当前执行的节点中存在未配置的节点";break}r.push.apply(r,c);var d=(new UUIDGenerator).id;a[d]=c}}if(o.verify){f.executeNodeIdArr=r,f.executeNodeObject=a,f.executeType="all";for(var h=!1,m=0;m<r.length;m++){var g=p.nodeData[r[m]].hasParam,v=p.nodeData[r[m]].paramsSetting;if(g&&v&&v.arr&&0!==v.arr.length){h=!0;break}}h?(f.nodeParamDialogVisible=!0,f.$nextTick((function(){f.$refs.inputParams.createParamNodeHtml()}))):M(r,a),refrashHistoryZtree("节点全部执行完毕")}else f.$message({type:"warning",message:o.message})})).catch((function(){})):f.$message({type:"warning",message:"暂无可执行的节点"})}function M(e,t){for(var n=0;n<e.length;n++)2!==p.nodeData[e[n]].nodeInfo.nodeExcuteStatus&&(p.nodeData[e[n]].nodeInfo.nodeExcuteStatus=2,B(2,null,e[n]));var i=$("body").mLoading({text:"正在执行全部节点，请稍后……",hasCancel:!1,hasTime:!0}),a={openType:p.openType,graphUuid:f.graphUuid,graphName:f.graphName,nodeIdList:e.join(","),nodeData:JSON.stringify(p.nodeData),nodeObject:JSON.stringify(t)};f.websocketBatchId=(new UUIDGenerator).id,f.initData(),f.$nextTick((function(){(0,l.executeAllNodeSql)(a).then((function(t){if(i.hide(),null==t.data){f.$message.error("全部执行节点的请求失败");for(var n=0;n<e.length;n++)p.nodeData[e[n]].nodeInfo.nodeExcuteStatus=1,B(1,null,e[n])}else{$("#sysInfoArea").html(t.data.message),E(e,JSON.parse(t.data.nodeData),null);for(var a=[],r=0;r<e.length;r++){var o=p.nodeData[e[r]].nodeInfo.optType,s=p.nodeData[e[r]].nodeInfo.nodeExcuteStatus,l=p.nodeData[e[r]].nodeInfo.midTableStatus,u=p.nodeData[e[r]].nodeInfo.resultTableStatus,c=p.nodeData[e[r]].parentIds,d=p.nodeData[e[r]].childrenIds;"newNullNode"===o&&3===s&&$.inArray(e[r],a)<0&&(c.length>0&&0===d.length&&a.push(e[r]),2!==l&&2!==u||a.push(e[r]))}if(a.length>0){f.resultTabActiveName="0",f.showTableResult=!1;for(var h=0;h<a.length;h++){var m=a[h],g=p.nodeData[a[h]].parentIds,v=p.nodeData[g[0]].nodeInfo.nodeName+"_"+p.nodeData[a[h]].nodeInfo.nodeName,y=p.nodeData[a[h]].nodeInfo.midTableStatus,b=p.nodeData[a[h]].nodeInfo.resultTableStatus,A=p.nodeData[g[0]].nodeInfo.optType,w="";if("layering"===A){var x=p.nodeData[a[h]].nodeInfo.setting.index;w=p.nodeData[g[0]].nodeInfo.resultTableNameArr[x]}else w=p.nodeData[g[0]].nodeInfo.resultTableName;var C=!1;2!==y&&2!==b||(C=!0),f.resultTableArr.push({id:m,name:v,resultTableName:w,isRoleTable:C,optType:A})}f.viewData()}}autoSaveGraph()}))}))}function E(e,t,n){for(var i="",a=0;a<e.length;a++)if(p.nodeData[e[a]]&&(2===p.nodeData[e[a]].nodeInfo.nodeExcuteStatus||i!==e[a])&&1!==p.nodeData[e[a]].nodeInfo.nodeExcuteStatus){"undefined"!==typeof t&&null!=t&&(p.nodeData[e[a]]=$.extend(!0,{},t[e[a]]));var r=p.nodeData[e[a]].nodeInfo.nodeExcuteStatus,o=p.nodeData[e[a]].nodeInfo.optType,s=p.nodeData[e[a]].isSet,u=b(e[a]),c=p.nodeData[e[a]].childrenIds,d=p.nodeData[e[a]].parentIds;if(3===r)if("newNullNode"!==o)if("layering"===o){if(c.length>0){for(var h=0,f=0;f<c.length;f++){var m=p.nodeData[c[f]].nodeInfo.nodeExcuteStatus;3!==m&&2!==m||h++}h===c.length?B(3,null,e[a]):(B(1,null,e[a]),p.nodeData[e[a]].nodeInfo.nodeExcuteStatus=1)}}else B(3,null,e[a]);else i!==e[a]&&B(3,null,e[a]),2===p.nodeData[e[a]].nodeInfo.midTableStatus||2===p.nodeData[e[a]].nodeInfo.resultTableStatus?p.nodeData[d[0]]&&(p.nodeData[d[0]].nodeInfo.isDeleteTable=!0):p.nodeData[d[0]]&&(p.nodeData[d[0]].nodeInfo.isDeleteTable=!1);if(4===r)if(B(4,null,e[a]),p.nodeData[e[a]].nodeInfo.nodeExcuteStatus=4,"newNullNode"!==o){for(var g=0;g<c.length;g++)$.inArray(c[g],e)>-1&&(p.nodeData[c[g]].isSet?i=e[a]:(i=c[g],p.nodeData[c[g]].nodeInfo.nodeExcuteStatus=4,B(4,null,c[g])));for(f=0;f<u.length;f++)$.inArray(u[f],e)>-1&&$.inArray(u[f],c)<0&&(p.nodeData[u[f]].nodeInfo.nodeExcuteStatus=1,B(1,null,u[f]))}else s&&(i=e[a])}n&&""!==n&&(0,l.deleteExecuteNodes)(n).then()}function R(e){for(var t=!1,n=0;n<e.length;n++){var i=p.nodeData[e[n]];if(i&&"datasource"!==i.nodeInfo.optType&&"newNullNode"!==i.nodeInfo.optType&&!i.isSet){t=!0;break}}return t}function j(e,t){var n=p.curCell.id,i="";i=0===t?"../../lib/graphtool/images/centeroutmark.png":"../../lib/graphtool/images/finaloutmark.png",$(".output-mark").each((function(t,a){$(this)[0].getAttribute("nodeId")===n&&(2===e?($(this).attr("src",i),this.parentNode.style.display="unset"):this.parentNode.style.display="none")}))}function B(e,t,n){$(".exestate-mark").each((function(i){if($(this)[0].getAttribute("nodeId")===n){if("undefined"!==typeof e&&null!=e)switch(e){case 1:$(this).css("background","#999999");break;case 2:$(this).css("background","#FECD44");break;case 3:$(this).css("background","#189D5C");break;case 4:$(this).css("background","#D81E07");break}null!=t&&"undefined"!==typeof t&&(t?$(".setting-mark:eq("+i+")").css("background","#189D5C"):$(".setting-mark:eq("+i+")").css("background","#999999"))}}))}function _(e){$(".copyIcon-mark").each((function(t,n){$(this)[0].getAttribute("nodeId")===e&&$(this).attr("src","../../lib/graphtool/images/copyIcon.png")}))}function V(e){var t=p.highLightList;if(t&&t.length>0)for(var n=0;n<t.length;n++){if(t[n].cell.edge){var i=new mxCellHighlight(p,"#3e6f96",2);i.highlight(p.view.getState(t[n].cell))}t[n].cell.vertex&&t[n].light&&t[n].light.destroy()}if("undefined"!==typeof e&&null!=e){p.highLightList=[];var a=p.getDefaultParent(),r=a.children;F(e,r);for(var o=0;o<p.highLightList.length;o++){var s=new mxCellHighlight(p,"#00A8FF",2);s.highlight(p.view.getState(p.highLightList[o].cell)),p.highLightList[o].light=s}}}function F(e,t){for(var n=0;n<t.length;n++)t[n].edge&&t[n].target&&t[n].target.id===e&&(p.highLightList.push({cell:t[n]}),F(t[n].source.id,t)),t[n].vertex&&!t[n].source&&t[n].id===e&&p.highLightList.push({cell:t[n]})}function U(){var e=p.nodeData[p.curCell.id].nodeInfo.nodeExcuteStatus;if(1!==e)if(2!==e){var t=p.nodeData[p.curCell.id].nodeInfo.optType,n=p.nodeData[p.curCell.id].isSet;if("newNullNode"!==t||n)f.curNodeExecuteSQL=p.nodeData[p.curCell.id].nodeInfo.nodeSql;else{var i=p.nodeData[p.curCell.id].parentIds[0];switch(t=p.nodeData[i].nodeInfo.optType,t){case"layering":var a=p.nodeData[p.curCell.id].nodeInfo.index;f.curNodeExecuteSQL=p.nodeData[i].nodeInfo.nodeSqlArr[a];break;default:f.curNodeExecuteSQL=p.nodeData[i].nodeInfo.nodeSql;break}}f.viewNodeSqlDialogVisible=!0}else f.$message({type:"warning",message:"该节点尚未执行完成，请等待执行完成后再查看"});else f.$message({type:"warning",message:"该节点尚未执行，请执行后再查看"})}function q(){var e=p.nodeData[p.curCell.id].nodeInfo,t=e.nodeExcuteStatus;if(3===t){var n="",i="",a="",r=!1,o="";switch(e.optType){case"datasource":a=e.resultTableName,n=e.nodeId,i=e.nodeName,r=!0;break;case"newNullNode":if(e.isSet)a=e.resultTableName,n=e.nodeId,i=e.nodeName;else{var s=p.nodeData[p.curCell.id].parentIds;a="layering"===p.nodeData[s[0]].nodeInfo.optType?p.nodeData[s[0]].nodeInfo.resultTableNameArr[e.index]:p.nodeData[s[0]].nodeInfo.resultTableName,n=p.nodeData[s[0]].nodeInfo.nodeId,i=p.nodeData[s[0]].nodeInfo.nodeName+"_"+p.nodeData[p.curCell.id].nodeInfo.nodeName,o=p.nodeData[s[0]].nodeInfo.optType}var l=e.midTableStatus,u=e.resultTableStatus;2!==l&&2!==u||(r=!0);break}""!==a?(f.initData(),f.$nextTick((function(){f.websocketBatchId=(new UUIDGenerator).id,f.resultTableArr=[{id:n,name:i,resultTableName:a,isRoleTable:r,optType:o}],f.resultTabActiveName="0",f.viewData()}))):f.$message.error("预览数据的表名称为空，预览失败")}else f.$message({type:"warning",message:"当前节点未执行成功，不能预览数据"})}function z(){f.reNameObj.value=p.curCell.value,f.reNameObj.edge=!!p.curCell.edge,f.reNameObj.name=p.curCell.edge?"连接线序号":"节点名称",f.nodeReNameDialogVisible=!0}function Q(){var e=f.reNameObj.value;if(""!==e){var t=p.curCell.value;p.cellLabelChanged(p.curCell,e,null),p.curCell.vertex?((0,c.updateResourceZtreeNodeName)(p.curCell.id,e),refrashHistoryZtree("节点【".concat(t,"】重命名为【").concat(e,"】"))):refrashHistoryZtree("连接线【".concat(t,"】重命名为【").concat(e,"】")),p.nodeData[p.curCell.id]&&p.nodeData[p.curCell.id].nodeInfo&&(p.nodeData[p.curCell.id].nodeInfo.nodeName=e),autoSaveGraph(),f.nodeReNameDialogVisible=!1}else f.$message({type:"warning",message:"".concat(f.reNameObj.name,"不能为空")})}function H(){f.$confirm("确定清除当前节点的配置信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){var e=p.curCell.id,t=p.nodeData[e].nodeInfo.nodeExcuteStatus;if(2!==t){p.nodeData[e].nodeInfo.nodeExcuteStatus=1,p.nodeData[e].nodeInfo.resultTableName="",p.nodeData[e].nodeInfo.resultTableNameArr&&(p.nodeData[e].nodeInfo.resultTableNameArr=[]),p.nodeData[e].isSet=!1,delete p.nodeData[e].hasParam,delete p.nodeData[e].paramsSetting,delete f.nodeParamRelArr[e],B(1,!1,p.curCell.id);var n=p.nodeData[p.curCell.id].childrenIds;if(n&&n.length>0)for(var i=0;i<n.length;i++)p.nodeData[n[i]].nodeInfo.nodeExcuteStatus=1,p.nodeData[n[i]].isSet=!1,B(1,!1,n[i]);autoSaveGraph(),f.$notify({title:f.$t("message.title"),message:f.$t("节点配置已清除"),type:"success",duration:2e3,position:"bottom-right"})}else f.$message({type:"warning",message:"当前节点正在执行，不可清除"})})).catch((function(){}))}function G(){f.sqlEditorCurSql=p.nodeData[p.curCell.id].setting.sql||"",f.sqlEditorDialogVisible=!0}function Y(){return W.apply(this,arguments)}function W(){return W=(0,o.default)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.$refs.sqlEditor.getVerifySqlResult();case 2:if(n=e.sent,n.data.verifySelect){if(f.sqlEditorDialogVisible=!1,p.nodeData[p.curCell.id].isSet=!0,p.nodeData[p.curCell.id].nodeInfo.nodeExcuteStatus=1,p.nodeData[p.curCell.id].nodeInfo.nodeSql=t.sql,p.nodeData[p.curCell.id].setting.sql=t.sql,B(1,!0,p.curCell.id),0===p.nodeData[p.curCell.id].childrenIds.length){p.getModel().beginUpdate();try{y()}finally{p.getModel().endUpdate()}}else t.isChange&&(i=p.nodeData[p.curCell.id].childrenIds[0],A(i,!0));autoSaveGraph()}else f.$refs.sqlEditor.$message({type:"warning",message:"最末句SQL不是SELECT查询语句，请修改"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=3,f.$refs.sqlEditor.saveSqlInfo();case 3:n=e.sent,n.isError?f.$refs.sqlEditor.$message({type:"warning",message:n.message}):""!==$.trim(n.sql)?n.isChange?f.$refs.sqlEditor.$confirm("".concat(n.message,"，是否继续？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info",center:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){p.nodeData[p.curCell.id].sqlIsChanged=!0,p.nodeData[p.curCell.id].columnsInfo=[],t(n)})).catch((function(){})):(p.nodeData[p.curCell.id].sqlIsChanged=!1,t(n)):f.$refs.sqlEditor.$message({type:"warning",message:"请输入SQL内容"});case 5:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function K(){var e=[],t=p.getDefaultParent();if(t.children)for(var n=t.children,i=0;i<n.length;i++)n[i].vertex&&p.nodeData[n[i].id]&&"datasource"===p.nodeData[n[i].id].nodeInfo.optType&&e.push(n[i].value);return e}function J(e){for(var t=!1,n=0;n<e.changes.length;n++){var i=e.changes[n].cell?e.changes[n].cell:e.changes[n].child;if(i.vertex){t=!0;break}}return t}function X(e,t){if(J(e)){for(var n=K(),i=p.oldOptArr[p.oldOptArr.length-1].optType,a=p.oldOptArr[p.oldOptArr.length-1].optArr,r=[],o=[],s=0;s<a.length;s++)o.push(a[s].id);switch(i){case"delete":case"cut":for(s=0;s<a.length;s++){var l=a[s].id,u=a[s].nodeData;if(!t){for(var c=u.parentIds,d=u.childrenIds,h=0;h<c.length;h++)$.inArray(c[h],o)<0&&p.nodeData[c[h]].childrenIds.push(l);for(var f=0;f<d.length;f++)$.inArray(d[f],o)<0&&p.nodeData[d[f]].parentIds.push(l);p.nodeData[l]=u}r.push({id:l,nodeData:u})}break;case"drag":case"create":case"paste":for(s=0;s<a.length;s++){l=a[s].id,u=a[s].nodeData;if(!t){if("paste"===i){var m=p.nodeData[l].parentIds,g=p.nodeData[l].childrenIds;for(f=0;f<m.length;f++)if(p.nodeData[m[f].id]&&$.inArray(l,p.nodeData[m[f].id].childrenIds)>-1&&$.inArray(m[f].id,o)<0){var v=$.inArray(l,p.nodeData[m[f].id].childrenIds);p.nodeData[m[f].id].childrenIds.splice(v,1)}for(f=0;f<g.length;f++)if(p.nodeData[g[f].id]&&$.inArray(l,p.nodeData[g[f].id].parentIds)>-1&&$.inArray(g[f].id,o)<0){v=$.inArray(l,p.nodeData[g[f].id].parentIds);p.nodeData[g[f].id].parentIds.splice(v,1),p.nodeData[g[f].id].isSet=!1}}delete p.nodeData[l]}r.push({id:l,nodeData:u})}break}t||(p.oldOptArr.splice(p.oldOptArr.length-1,1),p.newOptArr.push({optType:i,optArr:r}));for(s=0;s<o.length;s++)p.nodeData[o[s]]&&(B(p.nodeData[o[s]].nodeInfo.nodeExcuteStatus,p.nodeData[o[s]].isSet,o[s]),"datasource"===p.nodeData[o[s]].nodeInfo.optType&&n.length>0&&$.inArray(p.nodeData[o[s]].nodeInfo.nodeName,n)>-1&&_(o[s]))}else{if(!e.changes[0].child)return;var y=!0;null==e.changes[0].child.source&&null==e.changes[0].child.target&&(y=!1);var b=y?e.changes[0].child.source:Object.keys(p.edgeArr).length>0?p.edgeArr[Object.keys(p.edgeArr)[Object.keys(p.edgeArr).length-1]].source:null,A=y?e.changes[0].child.target:Object.keys(p.edgeArr).length>0?p.edgeArr[Object.keys(p.edgeArr)[Object.keys(p.edgeArr).length-1]].target:null;v=0;b&&(y&&$.inArray(A.id,p.nodeData[b.id].childrenIds)<0?p.nodeData[b.id].childrenIds.push(A.id):!y&&$.inArray(A.id,p.nodeData[b.id].childrenIds)>-1&&(v=$.inArray(A.id,p.nodeData[b.id].childrenIds),p.nodeData[b.id].childrenIds.splice(v,1))),A&&(y&&$.inArray(b.id,p.nodeData[A.id].parentIds)<0?p.nodeData[A.id].parentIds.push(b.id):!y&&$.inArray(b.id,p.nodeData[A.id].parentIds)>-1&&(v=$.inArray(b.id,p.nodeData[A.id].parentIds),p.nodeData[A.id].parentIds.splice(v,1)))}}function Z(e,t){if(J(e)){for(var n=K(),i=p.newOptArr[p.newOptArr.length-1].optType,a=p.newOptArr[p.newOptArr.length-1].optArr,r=[],o=[],s=0;s<a.length;s++)o.push(a[s].id);switch(i){case"delete":case"cut":for(s=0;s<a.length;s++){var l=a[s].id,u=a[s].nodeData;if(!t){for(var c=u.parentIds,d=u.childrenIds,h=0;h<c.length;h++)if($.inArray(c[h],o)<0){var f=$.inArray(l,p.nodeData[c[h]].childrenIds);p.nodeData[c[h]].childrenIds.splice(f,1)}for(var m=0;m<d.length;m++)if($.inArray(d[m],o)<0){f=$.inArray(l,p.nodeData[d[h]].parentIds);p.nodeData[d[h]].parentIds.splice(f,1),p.nodeData[d[h]].isSet=!1}delete p.nodeData[l]}r.push({id:l,nodeData:u})}break;case"drag":case"create":case"paste":for(s=0;s<a.length;s++){l=a[s].id,u=a[s].nodeData;t||(p.nodeData[l]=u),r.push({id:l,nodeData:u})}break}t||(p.newOptArr.splice(p.newOptArr.length-1,1),p.oldOptArr.push({optType:i,optArr:r}));for(s=0;s<o.length;s++)p.nodeData[o[s]]&&(B(p.nodeData[o[s]].nodeInfo.nodeExcuteStatus,p.nodeData[o[s]].isSet,o[s]),"datasource"===p.nodeData[o[s]].nodeInfo.optType&&n.length>0&&$.inArray(p.nodeData[o[s]].nodeInfo.nodeName,n)>-1&&_(o[s]))}else{if(!e.changes[0].child)return;var g=e.changes[0].child.source,v=e.changes[0].child.target;f=0;g&&($.inArray(v.id,p.nodeData[g.id].childrenIds)<0?p.nodeData[g.id].childrenIds.push(v.id):(f=$.inArray(v.id,p.nodeData[g.id].childrenIds),p.nodeData[g.id].childrenIds.splice(f,1))),v&&($.inArray(g.id,p.nodeData[v.id].parentIds)<0?p.nodeData[v.id].parentIds.push(g.id):(f=$.inArray(g.id,p.nodeData[v.id].parentIds),p.nodeData[v.id].parentIds.splice(f,1)))}}function ee(e){p.escape();var t=p.getDeletableCells(p.getSelectionCells()),n=[];if(null!=t&&t.length>0){for(var i=[],a=0;a<t.length;a++)i.push(t[a].id);var r=[];for(a=0;a<t.length;a++)if(t[a].vertex){n.push(t[a].id);for(var o=[],s=p.nodeData[t[a].id].childrenIds,l=0;l<s.length;l++)$.inArray(s[l],i)<0&&o.push(s[l]);for(var u=0;u<o.length;u++)A(o[u],!0);r.push({id:t[a].id,nodeData:p.nodeData[t[a].id]}),delete p.nodeData[t[a].id];var c=t[a].edges;if(c&&c.length>0)for(var d=0;d<c.length;d++)$.inArray(c[d].id,i)<0&&t.push(c[d])}else{var h=t[a].source,f=t[a].target;if(p.nodeData[f.id]&&$.inArray(h.id,p.nodeData[f.id].parentIds)>-1){var m=$.inArray(h.id,p.nodeData[f.id].parentIds);p.nodeData[f.id].parentIds.splice(m,1),$.inArray(f.id,i)<0&&A(f.id,!0)}if(p.nodeData[h.id]&&$.inArray(f.id,p.nodeData[h.id].childrenIds)>-1){m=$.inArray(f.id,p.nodeData[h.id].childrenIds);p.nodeData[h.id].childrenIds.splice(m,1)}}p.oldOptArr.push({optType:"delete",optArr:r}),p.removeCells(t,e)}return n}function te(e,t,n,i,a,r){var o=new XMLHttpRequest;o.open("POST",e,!0),o.addEventListener("progress",(function(e){"function"===typeof r&&r(e)}),!1),o.responseType="blob",o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){if("undefined"!==typeof window.chrome){var e=new FileReader;e.readAsDataURL(o.response),e.onload=function(e){var n=document.createElement("a");n.download=t,n.href=e.target.result,n.target="downloadframe",$("body").append(n),n.click(),$(n).remove()}}else{var n=new File([o.response],t,{type:"application/force-download"});window.open(URL.createObjectURL(n))}o.response&&0!==o.response.size?"function"===typeof i&&i():"function"===typeof a&&a()}};var s="";if(n){for(var l=Object.keys(n),u=0;u<l.length;u++)s+="&"+l[u]+"="+n[l[u]];""!==s&&(s=s.substring(1))}o.send(s)}n.sendGraphIndexVue=m},"0e22":function(e,t,n){"use strict";n("3d2b")},"0e94":function(e,t,n){(function(t){n("3b2b"),n("ac6a"),n("b54a"),n("6c7b"),n("a481"),n("28a5"),n("66c8"),n("55dd"),n("0d6d"),n("4917"),n("7f7f"),n("6b54");var i=n("7037");n("c5f6"),n("fd24"),n("ac4d"),n("8a81"),function(){var n;function a(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function r(e){var t="undefined"!==typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:a(e)}}function o(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}var s,l="function"===typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"===typeof Object.setPrototypeOf)s=Object.setPrototypeOf;else{var u;e:{var c={a:!0},d={};try{d.__proto__=c,u=d.a;break e}catch(Dg){}u=!1}s=u?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=s;function f(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,h)h(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.kA=t.prototype}var p="undefined"!==typeof window&&window===self?self:"undefined"!==typeof t&&null!=t?t:self,m="function"===typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};function g(e){if(e){for(var t=p,n=["Array","prototype","fill"],i=0;i<n.length-1;i++){var a=n[i];a in t||(t[a]={}),t=t[a]}n=n[n.length-1],i=t[n],e=e(i),e!=i&&null!=e&&m(t,n,{writable:!0,value:e})}}g((function(e){return e||function(e,t,n){var i=this.length||0;for(t<0&&(t=Math.max(0,i+t)),(null==n||n>i)&&(n=i),n=Number(n),n<0&&(n=Math.max(0,i+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}}));var v="object"===("undefined"===typeof self?"undefined":i(self))&&self.self===self&&self||"object"===("undefined"===typeof t?"undefined":i(t))&&t.global===t&&t||"object"===("undefined"===typeof window?"undefined":i(window))&&window.window===window&&window||{};function y(){}function b(e,t){var n=-1;return function(){var i=this,a=arguments;-1!==n&&v.clearTimeout(n),n=A((function(){n=-1,e.apply(i,a)}),t)}}function A(e,t){return v.setTimeout(e,t)}function w(e){return v.document.createElement(e)}function x(e){throw Error(e)}function C(e,t){e="The object is frozen, so its properties cannot be set: "+e.toString(),void 0!==t&&(e+="  to value: "+t),x(e)}function k(e,t,n,i){n=null===n?"*":"string"===typeof n?n:"function"===typeof n&&"string"===typeof n.className?n.className:"",void 0!==i&&(n+="."+i),x(n+" is not in the range "+t+": "+e)}function S(e){v.console&&v.console.log(e)}function T(){v.console&&v.console.log("Warning: List/Map/Set constructors no longer take an argument that enforces type.Instead they take an optional collection of Values to add to the collection. See 2.0 changelog for details.")}function N(e){return"object"===i(e)&&null!==e}function I(e){return Array.isArray(e)||v.NodeList&&e instanceof v.NodeList||v.HTMLCollection&&e instanceof v.HTMLCollection}function D(e){return Array.prototype.slice.call(e)}function P(e,t,n){Array.isArray(e)?t>=e.length?e.push(n):e.splice(t,0,n):x("Cannot insert an object into an HTMLCollection or NodeList: "+n+" at "+t)}function L(e,t){Array.isArray(e)?t>=e.length?e.pop():e.splice(t,1):x("Cannot remove an object from an HTMLCollection or NodeList at "+t)}function O(){var e=H.pop();return void 0===e?[]:e}function M(e){e.length=0,H.push(e)}function E(e){if("function"===typeof e){if(e.className)return e.className;if(e.name)return e.name;var t=e.toString();if(t=t.substring(9,t.indexOf("(")).trim(),""!==t)return e._className=t}else if(N(e)&&e.constructor)return E(e.constructor);return i(e)}function R(e){var t=e;return N(e)&&(e.text?t=e.text:e.name?t=e.name:void 0!==e.key?t=e.key:void 0!==e.id?t=e.id:e.constructor===Object&&(e.Text?t=e.Text:e.Name?t=e.Name:void 0!==e.Key?t=e.Key:void 0!==e.Id?t=e.Id:void 0!==e.ID&&(t=e.ID))),void 0===t?"undefined":null===t?"null":t.toString()}function j(e,t){if(e.hasOwnProperty(t))return!0;for(e=Object.getPrototypeOf(e);e&&e!==Function;){if(e.hasOwnProperty(t))return!0;var n=e.bA;if(n&&n[t])return!0;e=Object.getPrototypeOf(e)}return!1}function B(e,t,n){Object.defineProperty(En.prototype,e,{get:t,set:n})}function _(){var e=G;if(0===e.length)for(var t=v.document.getElementsByTagName("canvas"),n=t.length,i=0;i<n;i++){var a=t[i];a.parentElement&&a.parentElement.C&&e.push(a.parentElement.C)}return e}function V(e){for(var t=[],n=0;n<256;n++)t["0123456789abcdef".charAt(n>>4)+"0123456789abcdef".charAt(15&n)]=String.fromCharCode(n);e.length%2&&(e="0"+e),n=[];for(var i=0,a=0;a<e.length;a+=2)n[i++]=t[e.substr(a,2)];for(e=n.join(""),e=""===e?"0":e,t=[],n=0;n<256;n++)t[n]=n;for(n=i=0;n<256;n++)i=(i+t[n]+119)%256,a=t[n],t[n]=t[i],t[i]=a;i=n=0;for(var r="",o=0;o<e.length;o++)n=(n+1)%256,i=(i+t[n])%256,a=t[n],t[n]=t[i],t[i]=a,r+=String.fromCharCode(e.charCodeAt(o)^t[(t[n]+t[i])%256]);return r}void 0===v.requestAnimationFrame&&(v.requestAnimationFrame=v.setImmediate);var F=void 0!==v.navigator&&v.navigator.userAgent.indexOf("MSIE 9.0")>0,U=void 0!==v.navigator&&v.navigator.userAgent.indexOf("MSIE 10.0")>0,q=void 0!==v.navigator&&v.navigator.userAgent.indexOf("Trident/7")>0,z=void 0!==v.navigator&&v.navigator.userAgent.indexOf("Edge/")>0,Q=void 0!==v.navigator&&void 0!==v.navigator.platform&&v.navigator.platform.toUpperCase().indexOf("MAC")>=0,$=void 0!==v.navigator&&void 0!==v.navigator.platform&&null!==v.navigator.platform.match(/(iPhone|iPod|iPad)/i),H=[];Object.freeze([]);var G=[];function Y(e,t,n){oe(this),this.l=e,this.Ua=t,this.u=n}function W(e,t){return void 0===t||null===t||""===t?null:e[t]}function K(){this.mw=[]}function J(){}function X(){}y.className="Util",y.Dx="32ab5ff3b26f42dc0ed90f224d2913b5",y.adym="gojs.net",y.vfo="28e646fdba",y.className="Util",Y.prototype.toString=function(){return"EnumValue."+this.Ua},p.Object.defineProperties(Y.prototype,{classType:{get:function(){return this.l}},name:{get:function(){return this.Ua}},value:{get:function(){return this.u}}}),Y.className="EnumValue",K.prototype.toString=function(){return this.mw.join("")},K.prototype.add=function(e){""!==e&&this.mw.push(e)},K.className="StringBuilder",J.className="PropertyCollection",X.prototype.reset=function(){},X.prototype.next=function(){return!1},X.prototype.dd=function(){return!1},X.prototype.first=function(){return null},X.prototype.any=function(){return!1},X.prototype.all=function(){return!0},X.prototype.each=function(){return this},X.prototype.map=function(){return this},X.prototype.filter=function(){return this},X.prototype.xd=function(){},X.prototype.toString=function(){return"EmptyIterator"},p.Object.defineProperties(X.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),X.prototype.first=X.prototype.first,X.prototype.hasNext=X.prototype.dd,X.prototype.next=X.prototype.next,X.prototype.reset=X.prototype.reset;var Z=null;function ee(e){this.key=-1,this.value=e}function te(e){this.pb=e,this.We=null,e.Ja=null,this.la=e.Ba,this.Sa=-1}function ne(e){this.pb=e,e.Qg=null,this.la=e.Ba,this.Sa=e.j.length}function ie(e){oe(this),this.v=!1,this.j=[],this.Ba=0,this.Qg=this.Ja=null,void 0!==e&&("function"===typeof e||"string"===typeof e?T():this.addAll(e))}function ae(e){this.eg=e,e.Ja=null,this.la=e.Ba,this.na=null}function re(e){oe(this),this.v=!1,this.Db={},this.Cb=0,this.Ja=null,this.Ba=0,this.Se=this.fa=null,void 0!==e&&("function"===typeof e||"string"===typeof e?T():this.addAll(e))}function oe(e){e.__gohashid=ue++}function se(e){var t=e.__gohashid;return void 0===t&&(t=ue++,e.__gohashid=t),t}function le(e){return e.__gohashid}X.className="EmptyIterator",Z=new X,ee.prototype.reset=function(){this.key=-1},ee.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},ee.prototype.dd=function(){return this.next()},ee.prototype.first=function(){return this.key=0,this.value},ee.prototype.any=function(e){return this.key=-1,e(this.value)},ee.prototype.all=function(e){return this.key=-1,e(this.value)},ee.prototype.each=function(e){return this.key=-1,e(this.value),this},ee.prototype.map=function(e){return new ee(e(this.value))},ee.prototype.filter=function(e){return e(this.value)?new ee(this.value):Z},ee.prototype.xd=function(){this.value=null},ee.prototype.toString=function(){return"SingletonIterator("+this.value+")"},p.Object.defineProperties(ee.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),ee.prototype.first=ee.prototype.first,ee.prototype.hasNext=ee.prototype.dd,ee.prototype.next=ee.prototype.next,ee.prototype.reset=ee.prototype.reset,ee.className="SingletonIterator",te.prototype.reset=function(){var e=this.pb;e.Ja=null,this.la=e.Ba,this.Sa=-1},te.prototype.next=function(){var e=this.pb;if(e.Ba!==this.la&&this.key<0)return!1;e=e.j;var t=e.length,n=++this.Sa,i=this.We;if(null!==i)for(;n<t;){var a=e[n];if(i(a))return this.key=this.Sa=n,this.value=a,!0;n++}else{if(n<t)return this.key=n,this.value=e[n],!0;this.xd()}return!1},te.prototype.dd=function(){return this.next()},te.prototype.first=function(){var e=this.pb;this.la=e.Ba,this.Sa=0,e=e.j;var t=e.length,n=this.We;if(null!==n){for(var i=0;i<t;){var a=e[i];if(n(a))return this.key=this.Sa=i,this.value=a;i++}return null}return t>0?(e=e[0],this.key=0,this.value=e):null},te.prototype.any=function(e){var t=this.pb;t.Ja=null,this.Sa=-1,t=t.j;for(var n=t.length,i=this.We,a=0;a<n;a++){var r=t[a];if((null===i||i(r))&&e(r))return!0}return!1},te.prototype.all=function(e){var t=this.pb;t.Ja=null,this.Sa=-1,t=t.j;for(var n=t.length,i=this.We,a=0;a<n;a++){var r=t[a];if((null===i||i(r))&&!e(r))return!1}return!0},te.prototype.each=function(e){var t=this.pb;t.Ja=null,this.Sa=-1,t=t.j;for(var n=t.length,i=this.We,a=0;a<n;a++){var r=t[a];(null===i||i(r))&&e(r)}return this},te.prototype.map=function(e){var t=this.pb;t.Ja=null,this.Sa=-1;var n=[];t=t.j;for(var i=t.length,a=this.We,r=0;r<i;r++){var o=t[r];(null===a||a(o))&&n.push(e(o))}return e=new ie,e.j=n,e.kb(),e.iterator},te.prototype.filter=function(e){var t=this.pb;t.Ja=null,this.Sa=-1;var n=[];t=t.j;for(var i=t.length,a=this.We,r=0;r<i;r++){var o=t[r];(null===a||a(o))&&e(o)&&n.push(o)}return e=new ie,e.j=n,e.kb(),e.iterator},te.prototype.xd=function(){this.key=-1,this.value=null,this.la=-1,this.We=null,this.pb.Ja=this},te.prototype.toString=function(){return"ListIterator@"+this.Sa+"/"+this.pb.count},p.Object.defineProperties(te.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.We},set:function(e){this.We=e}},count:{get:function(){var e=this.We;if(null!==e){for(var t=0,n=this.pb.j,i=n.length,a=0;a<i;a++)e(n[a])&&t++;return t}return this.pb.j.length}}}),te.prototype.first=te.prototype.first,te.prototype.hasNext=te.prototype.dd,te.prototype.next=te.prototype.next,te.prototype.reset=te.prototype.reset,te.className="ListIterator",ne.prototype.reset=function(){var e=this.pb;e.Qg=null,this.la=e.Ba,this.Sa=e.j.length},ne.prototype.next=function(){var e=this.pb;if(e.Ba!==this.la&&this.key<0)return!1;var t=--this.Sa;return t>=0?(this.key=t,this.value=e.j[t],!0):(this.xd(),!1)},ne.prototype.dd=function(){return this.next()},ne.prototype.first=function(){var e=this.pb;this.la=e.Ba;var t=e.j;return this.Sa=e=t.length-1,e>=0?(t=t[e],this.key=e,this.value=t):null},ne.prototype.any=function(e){var t=this.pb;t.Qg=null,t=t.j;var n=t.length;for(this.Sa=n,--n;n>=0;n--)if(e(t[n]))return!0;return!1},ne.prototype.all=function(e){var t=this.pb;t.Qg=null,t=t.j;var n=t.length;for(this.Sa=n,--n;n>=0;n--)if(!e(t[n]))return!1;return!0},ne.prototype.each=function(e){var t=this.pb;t.Qg=null,t=t.j;var n=t.length;for(this.Sa=n,--n;n>=0;n--)e(t[n]);return this},ne.prototype.map=function(e){var t=this.pb;t.Qg=null;var n=[];t=t.j;var i=t.length;for(this.Sa=i,--i;i>=0;i--)n.push(e(t[i]));return e=new ie,e.j=n,e.kb(),e.iterator},ne.prototype.filter=function(e){var t=this.pb;t.Qg=null;var n=[];t=t.j;var i=t.length;for(this.Sa=i,--i;i>=0;i--){var a=t[i];e(a)&&n.push(a)}return e=new ie,e.j=n,e.kb(),e.iterator},ne.prototype.xd=function(){this.key=-1,this.value=null,this.la=-1,this.pb.Qg=this},ne.prototype.toString=function(){return"ListIteratorBackwards("+this.Sa+"/"+this.pb.count+")"},p.Object.defineProperties(ne.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.pb.j.length}}}),ne.prototype.first=ne.prototype.first,ne.prototype.hasNext=ne.prototype.dd,ne.prototype.next=ne.prototype.next,ne.prototype.reset=ne.prototype.reset,ne.className="ListIteratorBackwards",n=ie.prototype,n.kb=function(){var e=this.Ba;e++,e>999999999&&(e=0),this.Ba=e},n.freeze=function(){return this.v=!0,this},n.ha=function(){return this.v=!1,this},n.toString=function(){return"List()#"+le(this)},n.add=function(e){return null===e||(this.v&&C(this,e),this.j.push(e),this.kb()),this},n.push=function(e){this.add(e)},n.addAll=function(e){if(null===e)return this;this.v&&C(this);var t=this.j;if(I(e))for(var n=e.length,i=0;i<n;i++)t.push(e[i]);else for(e=e.iterator;e.next();)t.push(e.value);return this.kb(),this},n.clear=function(){this.v&&C(this),this.j.length=0,this.kb()},n.contains=function(e){return null!==e&&-1!==this.j.indexOf(e)},n.has=function(e){return this.contains(e)},n.indexOf=function(e){return null===e?-1:this.j.indexOf(e)},n.N=function(e){var t=this.j;return(e<0||e>=t.length)&&k(e,"0 <= i < length",ie,"elt:i"),t[e]},n.get=function(e){return this.N(e)},n.gd=function(e,t){var n=this.j;(e<0||e>=n.length)&&k(e,"0 <= i < length",ie,"setElt:i"),this.v&&C(this,e),n[e]=t},n.set=function(e,t){this.gd(e,t)},n.first=function(){var e=this.j;return 0===e.length?null:e[0]},n.Tb=function(){var e=this.j,t=e.length;return t>0?e[t-1]:null},n.pop=function(){this.v&&C(this);var e=this.j;return e.length>0?e.pop():null},ie.prototype.any=function(e){for(var t=this.j,n=t.length,i=0;i<n;i++)if(e(t[i]))return!0;return!1},ie.prototype.all=function(e){for(var t=this.j,n=t.length,i=0;i<n;i++)if(!e(t[i]))return!1;return!0},ie.prototype.each=function(e){for(var t=this.j,n=t.length,i=0;i<n;i++)e(t[i]);return this},ie.prototype.map=function(e){for(var t=new ie,n=[],i=this.j,a=i.length,r=0;r<a;r++)n.push(e(i[r]));return t.j=n,t.kb(),t},ie.prototype.filter=function(e){for(var t=new ie,n=[],i=this.j,a=i.length,r=0;r<a;r++){var o=i[r];e(o)&&n.push(o)}return t.j=n,t.kb(),t},n=ie.prototype,n.Ib=function(e,t){e<0&&k(e,">= 0",ie,"insertAt:i"),this.v&&C(this,e);var n=this.j;e>=n.length?n.push(t):n.splice(e,0,t),this.kb()},n.remove=function(e){if(null===e)return!1;this.v&&C(this,e);var t=this.j;return e=t.indexOf(e),-1!==e&&(e===t.length-1?t.pop():t.splice(e,1),this.kb(),!0)},n.delete=function(e){return this.remove(e)},n.mb=function(e){var t=this.j;(e<0||e>=t.length)&&k(e,"0 <= i < length",ie,"removeAt:i"),this.v&&C(this,e),e===t.length-1?t.pop():t.splice(e,1),this.kb()},n.removeRange=function(e,t){var n=this.j,i=n.length;if(e<0)e=0;else if(e>=i)return this;if(t<0)return this;if(t>=i&&(t=i-1),e>t)return this;this.v&&C(this);for(var a=e,r=t+1;r<i;)n[a++]=n[r++];return n.length=i-(t-e+1),this.kb(),this},ie.prototype.copy=function(){var e=new ie,t=this.j;return t.length>0&&(e.j=Array.prototype.slice.call(t)),e},n=ie.prototype,n.Na=function(){for(var e=this.j,t=this.count,n=Array(t),i=0;i<t;i++)n[i]=e[i];return n},n.Qv=function(){for(var e=new re,t=this.j,n=this.count,i=0;i<n;i++)e.add(t[i]);return e},n.sort=function(e){return this.v&&C(this),this.j.sort(e),this.kb(),this},n.Vi=function(e,t,n){var i=this.j,a=i.length;void 0===t&&(t=0),void 0===n&&(n=a),this.v&&C(this);var r=n-t;if(r<=1)return this;if((t<0||t>=a-1)&&k(t,"0 <= from < length",ie,"sortRange:from"),2===r)return n=i[t],a=i[t+1],e(n,a)>0&&(i[t]=a,i[t+1]=n,this.kb()),this;if(0===t)if(n>=a)i.sort(e);else for(t=i.slice(0,n),t.sort(e),e=0;e<n;e++)i[e]=t[e];else if(n>=a)for(n=i.slice(t),n.sort(e),e=t;e<a;e++)i[e]=n[e-t];else for(a=i.slice(t,n),a.sort(e),e=t;e<n;e++)i[e]=a[e-t];return this.kb(),this},n.reverse=function(){return this.v&&C(this),this.j.reverse(),this.kb(),this},p.Object.defineProperties(ie.prototype,{_dataArray:{get:function(){return this.j}},count:{get:function(){return this.j.length}},size:{get:function(){return this.j.length}},length:{get:function(){return this.j.length}},iterator:{get:function(){if(this.j.length<=0)return Z;var e=this.Ja;return null!==e?(e.reset(),e):new te(this)}},iteratorBackwards:{get:function(){if(this.j.length<=0)return Z;var e=this.Qg;return null!==e?(e.reset(),e):new ne(this)}}}),ie.prototype.reverse=ie.prototype.reverse,ie.prototype.sortRange=ie.prototype.Vi,ie.prototype.sort=ie.prototype.sort,ie.prototype.toSet=ie.prototype.Qv,ie.prototype.toArray=ie.prototype.Na,ie.prototype.removeRange=ie.prototype.removeRange,ie.prototype.removeAt=ie.prototype.mb,ie.prototype["delete"]=ie.prototype.delete,ie.prototype.remove=ie.prototype.remove,ie.prototype.insertAt=ie.prototype.Ib,ie.prototype.pop=ie.prototype.pop,ie.prototype.last=ie.prototype.Tb,ie.prototype.first=ie.prototype.first,ie.prototype.set=ie.prototype.set,ie.prototype.setElt=ie.prototype.gd,ie.prototype.get=ie.prototype.get,ie.prototype.elt=ie.prototype.N,ie.prototype.indexOf=ie.prototype.indexOf,ie.prototype.has=ie.prototype.has,ie.prototype.contains=ie.prototype.contains,ie.prototype.clear=ie.prototype.clear,ie.prototype.addAll=ie.prototype.addAll,ie.prototype.push=ie.prototype.push,ie.prototype.add=ie.prototype.add,ie.prototype.thaw=ie.prototype.ha,ie.prototype.freeze=ie.prototype.freeze,ie.className="List",ae.prototype.reset=function(){var e=this.eg;e.Ja=null,this.la=e.Ba,this.na=null},ae.prototype.next=function(){var e=this.eg;if(e.Ba!==this.la&&null===this.key)return!1;var t=this.na;return t=null===t?e.fa:t.oa,null!==t?(this.na=t,this.value=t.value,this.key=t.key,!0):(this.xd(),!1)},ae.prototype.dd=function(){return this.next()},ae.prototype.first=function(){var e=this.eg;if(this.la=e.Ba,e=e.fa,null!==e){this.na=e;var t=e.value;return this.key=e.key,this.value=t}return null},ae.prototype.any=function(e){var t=this.eg;for(this.na=t.Ja=null,t=t.fa;null!==t;){if(e(t.value))return!0;t=t.oa}return!1},ae.prototype.all=function(e){var t=this.eg;for(this.na=t.Ja=null,t=t.fa;null!==t;){if(!e(t.value))return!1;t=t.oa}return!0},ae.prototype.each=function(e){var t=this.eg;for(this.na=t.Ja=null,t=t.fa;null!==t;)e(t.value),t=t.oa;return this},ae.prototype.map=function(e){var t=this.eg;t.Ja=null;var n=new ie;for(t=t.fa;null!==t;)n.add(e(t.value)),t=t.oa;return n.iterator},ae.prototype.filter=function(e){var t=this.eg;t.Ja=null;var n=new ie;for(t=t.fa;null!==t;){var i=t.value;e(i)&&n.add(i),t=t.oa}return n.iterator},ae.prototype.xd=function(){this.value=this.key=null,this.la=-1,this.eg.Ja=this},ae.prototype.toString=function(){return null!==this.na?"SetIterator@"+this.na.value:"SetIterator"},p.Object.defineProperties(ae.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.eg.Cb}}}),ae.prototype.first=ae.prototype.first,ae.prototype.hasNext=ae.prototype.dd,ae.prototype.next=ae.prototype.next,ae.prototype.reset=ae.prototype.reset,ae.className="SetIterator",n=re.prototype,n.kb=function(){var e=this.Ba;e++,e>999999999&&(e=0),this.Ba=e},n.freeze=function(){return this.v=!0,this},n.ha=function(){return this.v=!1,this},n.toString=function(){return"Set()#"+le(this)},n.add=function(e){if(null===e)return this;this.v&&C(this,e);var t=e;return N(e)&&(t=se(e)),void 0===this.Db[t]&&(this.Cb++,e=new fe(e,e),this.Db[t]=e,t=this.Se,null===t?this.fa=e:(e.wl=t,t.oa=e),this.Se=e,this.kb()),this},n.addAll=function(e){if(null===e)return this;if(this.v&&C(this),I(e))for(var t=e.length,n=0;n<t;n++)this.add(e[n]);else for(e=e.iterator;e.next();)this.add(e.value);return this},n.contains=function(e){if(null===e)return!1;var t=e;return(!N(e)||(t=le(e),void 0!==t))&&void 0!==this.Db[t]},n.has=function(e){return this.contains(e)},n.vy=function(e){if(null===e)return!0;for(e=e.iterator;e.next();)if(!this.contains(e.value))return!1;return!0},n.wy=function(e){if(null===e)return!0;for(e=e.iterator;e.next();)if(this.contains(e.value))return!0;return!1},n.first=function(){var e=this.fa;return null===e?null:e.value},re.prototype.any=function(e){for(var t=this.fa;null!==t;){if(e(t.value))return!0;t=t.oa}return!1},re.prototype.all=function(e){for(var t=this.fa;null!==t;){if(!e(t.value))return!1;t=t.oa}return!0},re.prototype.each=function(e){for(var t=this.fa;null!==t;)e(t.value),t=t.oa;return this},re.prototype.map=function(e){for(var t=new re,n=this.fa;null!==n;)t.add(e(n.value)),n=n.oa;return t},re.prototype.filter=function(e){for(var t=new re,n=this.fa;null!==n;){var i=n.value;e(i)&&t.add(i),n=n.oa}return t},n=re.prototype,n.remove=function(e){if(null===e)return!1;this.v&&C(this,e);var t=e;if(N(e)&&(t=le(e),void 0===t))return!1;if(e=this.Db[t],void 0===e)return!1;var n=e.oa,i=e.wl;return null!==n&&(n.wl=i),null!==i&&(i.oa=n),this.fa===e&&(this.fa=n),this.Se===e&&(this.Se=i),delete this.Db[t],this.Cb--,this.kb(),!0},n.delete=function(e){return this.remove(e)},n.lq=function(e){if(null===e)return this;if(this.v&&C(this),I(e))for(var t=e.length,n=0;n<t;n++)this.remove(e[n]);else for(e=e.iterator;e.next();)this.remove(e.value);return this},n.Pz=function(e){if(null===e||0===this.count)return this;this.v&&C(this);var t=new re;t.addAll(e),e=[];for(var n=this.iterator;n.next();){var i=n.value;t.contains(i)||e.push(i)}return this.lq(e),this},n.clear=function(){this.v&&C(this),this.Db={},this.Cb=0,null!==this.Ja&&this.Ja.reset(),this.Se=this.fa=null,this.kb()},re.prototype.copy=function(){var e,t=new re,n=this.Db;for(e in n)t.add(n[e].value);return t},re.prototype.Na=function(){var e,t=Array(this.Cb),n=this.Db,i=0;for(e in n)t[i]=n[e].value,i++;return t},re.prototype.Pv=function(){var e,t=new ie,n=this.Db;for(e in n)t.add(n[e].value);return t},p.Object.defineProperties(re.prototype,{count:{get:function(){return this.Cb}},size:{get:function(){return this.Cb}},iterator:{get:function(){if(this.Cb<=0)return Z;var e=this.Ja;return null!==e?(e.reset(),e):new ae(this)}}}),re.prototype.toList=re.prototype.Pv,re.prototype.toArray=re.prototype.Na,re.prototype.clear=re.prototype.clear,re.prototype.retainAll=re.prototype.Pz,re.prototype.removeAll=re.prototype.lq,re.prototype["delete"]=re.prototype.delete,re.prototype.remove=re.prototype.remove,re.prototype.first=re.prototype.first,re.prototype.containsAny=re.prototype.wy,re.prototype.containsAll=re.prototype.vy,re.prototype.has=re.prototype.has,re.prototype.contains=re.prototype.contains,re.prototype.addAll=re.prototype.addAll,re.prototype.add=re.prototype.add,re.prototype.thaw=re.prototype.ha,re.prototype.freeze=re.prototype.freeze;var ue=1;function ce(e){this.ja=e,this.la=e.Ba,this.na=null}function de(e){re.call(this),oe(this),this.v=!0,this.ja=e}function he(e){this.ja=e,e.Re=null,this.la=e.Ba,this.na=null}function fe(e,t){this.key=e,this.value=t,this.wl=this.oa=null}function pe(e){this.ja=e,e.Ja=null,this.la=e.Ba,this.na=null}function me(e){oe(this),this.v=!1,this.Db={},this.Cb=0,this.Re=this.Ja=null,this.Ba=0,this.Se=this.fa=null,void 0!==e&&("function"===typeof e||"string"===typeof e?T():this.addAll(e))}function ge(e,t){void 0===e?this.G=this.F=0:"number"===typeof e&&"number"===typeof t?(this.F=e,this.G=t):x("Invalid arguments to Point constructor: "+e+", "+t),this.v=!1}function ve(e){if("string"===typeof e){e=e.split(" ");for(var t=0,n=0;""===e[t];)t++;var i=e[t++];i&&(n=parseFloat(i));for(var a=0;""===e[t];)t++;return(i=e[t++])&&(a=parseFloat(i)),new ge(n,a)}return new ge}function ye(e){return e.x.toString()+" "+e.y.toString()}function be(e,t){if(0===e)return t>0?90:t<0?270:0;if(0===t)return e>0?0:180;if(isNaN(e)||isNaN(t))return 0;var n=180*Math.atan(Math.abs(t/e))/Math.PI;return e<0?n=t<0?n+180:180-n:t<0&&(n=360-n),n}function Ae(e,t){return t.Ud(e),e}function we(e,t,n,i,a,r){var o=a-n,s=r-i,l=o*o+s*s;n-=e,i-=t;var u=-n*o-i*s;return u<=0||u>=l?(o=a-e,s=r-t,Math.min(n*n+i*i,o*o+s*s)):(e=o*i-s*n,e*e/l)}function xe(e,t,n,i){return e=n-e,t=i-t,e*e+t*t}function Ce(e,t,n,i){return e=n-e,t=i-t,0===e?t>0?90:t<0?270:0:0===t?e>0?0:180:isNaN(e)||isNaN(t)?0:(i=180*Math.atan(Math.abs(t/e))/Math.PI,e<0?i=t<0?i+180:180-i:t<0&&(i=360-i),i)}re.className="Set",re.uniqueHash=oe,re.hashIdUnique=se,re.hashId=le,ce.prototype.reset=function(){this.la=this.ja.Ba,this.na=null},ce.prototype.next=function(){var e=this.ja;if(e.Ba!==this.la&&null===this.key)return!1;var t=this.na;return t=null===t?e.fa:t.oa,null!==t?(this.na=t,this.value=this.key=e=t.key,!0):(this.xd(),!1)},ce.prototype.dd=function(){return this.next()},ce.prototype.first=function(){var e=this.ja;return this.la=e.Ba,e=e.fa,null!==e?(this.na=e,this.value=this.key=e=e.key):null},ce.prototype.any=function(e){var t=this.ja;for(this.na=null,t=t.fa;null!==t;){if(e(t.key))return!0;t=t.oa}return!1},ce.prototype.all=function(e){var t=this.ja;for(this.na=null,t=t.fa;null!==t;){if(!e(t.key))return!1;t=t.oa}return!0},ce.prototype.each=function(e){var t=this.ja;for(this.na=null,t=t.fa;null!==t;)e(t.key),t=t.oa;return this},ce.prototype.map=function(e){var t=this.ja;this.na=null;var n=new ie;for(t=t.fa;null!==t;)n.add(e(t.key)),t=t.oa;return n.iterator},ce.prototype.filter=function(e){var t=this.ja;this.na=null;var n=new ie;for(t=t.fa;null!==t;){var i=t.key;e(i)&&n.add(i),t=t.oa}return n.iterator},ce.prototype.xd=function(){this.value=this.key=null,this.la=-1},ce.prototype.toString=function(){return null!==this.na?"MapKeySetIterator@"+this.na.value:"MapKeySetIterator"},p.Object.defineProperties(ce.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ja.Cb}}}),ce.prototype.first=ce.prototype.first,ce.prototype.hasNext=ce.prototype.dd,ce.prototype.next=ce.prototype.next,ce.prototype.reset=ce.prototype.reset,ce.className="MapKeySetIterator",f(de,re),n=de.prototype,n.freeze=function(){return this},n.ha=function(){return this},n.toString=function(){return"MapKeySet("+this.ja.toString()+")"},n.add=function(){return x("This Set is read-only: "+this.toString()),this},n.contains=function(e){return this.ja.contains(e)},n.has=function(e){return this.contains(e)},n.remove=function(){return x("This Set is read-only: "+this.toString()),!1},n.delete=function(e){return this.remove(e)},n.clear=function(){x("This Set is read-only: "+this.toString())},n.first=function(){var e=this.ja.fa;return null!==e?e.key:null},de.prototype.any=function(e){for(var t=this.ja.fa;null!==t;){if(e(t.key))return!0;t=t.oa}return!1},de.prototype.all=function(e){for(var t=this.ja.fa;null!==t;){if(!e(t.key))return!1;t=t.oa}return!0},de.prototype.each=function(e){for(var t=this.ja.fa;null!==t;)e(t.key),t=t.oa;return this},de.prototype.map=function(e){for(var t=new re,n=this.ja.fa;null!==n;)t.add(e(n.key)),n=n.oa;return t},de.prototype.filter=function(e){for(var t=new re,n=this.ja.fa;null!==n;){var i=n.key;e(i)&&t.add(i),n=n.oa}return t},de.prototype.copy=function(){return new de(this.ja)},de.prototype.Qv=function(){var e,t=new re,n=this.ja.Db;for(e in n)t.add(n[e].key);return t},de.prototype.Na=function(){var e,t=this.ja.Db,n=Array(this.ja.Cb),i=0;for(e in t)n[i]=t[e].key,i++;return n},de.prototype.Pv=function(){var e,t=new ie,n=this.ja.Db;for(e in n)t.add(n[e].key);return t},p.Object.defineProperties(de.prototype,{count:{get:function(){return this.ja.Cb}},size:{get:function(){return this.ja.Cb}},iterator:{get:function(){return this.ja.Cb<=0?Z:new ce(this.ja)}}}),de.prototype.toList=de.prototype.Pv,de.prototype.toArray=de.prototype.Na,de.prototype.toSet=de.prototype.Qv,de.prototype.first=de.prototype.first,de.prototype.clear=de.prototype.clear,de.prototype["delete"]=de.prototype.delete,de.prototype.remove=de.prototype.remove,de.prototype.has=de.prototype.has,de.prototype.contains=de.prototype.contains,de.prototype.add=de.prototype.add,de.prototype.thaw=de.prototype.ha,de.prototype.freeze=de.prototype.freeze,de.className="MapKeySet",he.prototype.reset=function(){var e=this.ja;e.Re=null,this.la=e.Ba,this.na=null},he.prototype.next=function(){var e=this.ja;if(e.Ba!==this.la&&null===this.key)return!1;var t=this.na;return t=null===t?e.fa:t.oa,null!==t?(this.na=t,this.value=t.value,this.key=t.key,!0):(this.xd(),!1)},he.prototype.dd=function(){return this.next()},he.prototype.first=function(){var e=this.ja;if(this.la=e.Ba,e=e.fa,null!==e){this.na=e;var t=e.value;return this.key=e.key,this.value=t}return null},he.prototype.any=function(e){var t=this.ja;for(this.na=t.Re=null,t=t.fa;null!==t;){if(e(t.value))return!0;t=t.oa}return!1},he.prototype.all=function(e){var t=this.ja;for(this.na=t.Re=null,t=t.fa;null!==t;){if(!e(t.value))return!1;t=t.oa}return!0},he.prototype.each=function(e){var t=this.ja;for(this.na=t.Re=null,t=t.fa;null!==t;)e(t.value),t=t.oa;return this},he.prototype.map=function(e){var t=this.ja;this.na=t.Re=null;var n=new ie;for(t=t.fa;null!==t;)n.add(e(t.value)),t=t.oa;return n.iterator},he.prototype.filter=function(e){var t=this.ja;this.na=t.Re=null;var n=new ie;for(t=t.fa;null!==t;){var i=t.value;e(i)&&n.add(i),t=t.oa}return n.iterator},he.prototype.xd=function(){this.value=this.key=null,this.la=-1,this.ja.Re=this},he.prototype.toString=function(){return null!==this.na?"MapValueSetIterator@"+this.na.value:"MapValueSetIterator"},p.Object.defineProperties(he.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ja.Cb}}}),he.prototype.first=he.prototype.first,he.prototype.hasNext=he.prototype.dd,he.prototype.next=he.prototype.next,he.prototype.reset=he.prototype.reset,he.className="MapValueSetIterator",fe.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},fe.className="KeyValuePair",pe.prototype.reset=function(){var e=this.ja;e.Ja=null,this.la=e.Ba,this.na=null},pe.prototype.next=function(){var e=this.ja;if(e.Ba!==this.la&&null===this.key)return!1;var t=this.na;return t=null===t?e.fa:t.oa,null!==t?(this.na=t,this.key=t.key,this.value=t.value,!0):(this.xd(),!1)},pe.prototype.dd=function(){return this.next()},pe.prototype.first=function(){var e=this.ja;return this.la=e.Ba,e=e.fa,null!==e?(this.na=e,this.key=e.key,this.value=e.value,e):null},pe.prototype.any=function(e){var t=this.ja;for(this.na=t.Ja=null,t=t.fa;null!==t;){if(e(t))return!0;t=t.oa}return!1},pe.prototype.all=function(e){var t=this.ja;for(this.na=t.Ja=null,t=t.fa;null!==t;){if(!e(t))return!1;t=t.oa}return!0},pe.prototype.each=function(e){var t=this.ja;for(this.na=t.Ja=null,t=t.fa;null!==t;)e(t),t=t.oa;return this},pe.prototype.map=function(e){var t=this.ja;this.na=t.Ja=null;var n=new ie;for(t=t.fa;null!==t;)n.add(e(t)),t=t.oa;return n.iterator},pe.prototype.filter=function(e){var t=this.ja;this.na=t.Ja=null;var n=new ie;for(t=t.fa;null!==t;)e(t)&&n.add(t),t=t.oa;return n.iterator},pe.prototype.xd=function(){this.value=this.key=null,this.la=-1,this.ja.Ja=this},pe.prototype.toString=function(){return null!==this.na?"MapIterator@"+this.na:"MapIterator"},p.Object.defineProperties(pe.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ja.Cb}}}),pe.prototype.first=pe.prototype.first,pe.prototype.hasNext=pe.prototype.dd,pe.prototype.next=pe.prototype.next,pe.prototype.reset=pe.prototype.reset,pe.className="MapIterator",n=me.prototype,n.kb=function(){var e=this.Ba;e++,e>999999999&&(e=0),this.Ba=e},n.freeze=function(){return this.v=!0,this},n.ha=function(){return this.v=!1,this},n.toString=function(){return"Map()#"+le(this)},n.add=function(e,t){this.v&&C(this,e);var n=e;N(e)&&(n=se(e));var i=this.Db[n];return void 0===i?(this.Cb++,e=new fe(e,t),this.Db[n]=e,n=this.Se,null===n?this.fa=e:(e.wl=n,n.oa=e),this.Se=e,this.kb()):i.value=t,this},n.set=function(e,t){return this.add(e,t)},n.addAll=function(e){if(null===e)return this;if(I(e))for(var t=e.length,n=0;n<t;n++){var i=e[n];this.add(i.key,i.value)}else for(e=e.iterator;e.next();)t=e.value,this.add(t.key,t.value);return this},n.first=function(){return this.fa},me.prototype.any=function(e){for(var t=this.fa;null!==t;){if(e(t))return!0;t=t.oa}return!1},me.prototype.all=function(e){for(var t=this.fa;null!==t;){if(!e(t))return!1;t=t.oa}return!0},me.prototype.each=function(e){for(var t=this.fa;null!==t;)e(t),t=t.oa;return this},me.prototype.map=function(e){for(var t=new me,n=this.fa;null!==n;)t.add(n.key,e(n)),n=n.oa;return t},me.prototype.filter=function(e){for(var t=new me,n=this.fa;null!==n;)e(n)&&t.add(n.key,n.value),n=n.oa;return t},n=me.prototype,n.contains=function(e){var t=e;return(!N(e)||(t=le(e),void 0!==t))&&void 0!==this.Db[t]},n.has=function(e){return this.contains(e)},n.J=function(e){var t=e;return N(e)&&(t=le(e),void 0===t)?null:(e=this.Db[t],void 0===e?null:e.value)},n.get=function(e){return this.J(e)},n.remove=function(e){if(null===e)return!1;this.v&&C(this,e);var t=e;if(N(e)&&(t=le(e),void 0===t))return!1;if(e=this.Db[t],void 0===e)return!1;var n=e.oa,i=e.wl;return null!==n&&(n.wl=i),null!==i&&(i.oa=n),this.fa===e&&(this.fa=n),this.Se===e&&(this.Se=i),delete this.Db[t],this.Cb--,this.kb(),!0},n.delete=function(e){return this.remove(e)},n.clear=function(){this.v&&C(this),this.Db={},this.Cb=0,null!==this.Ja&&this.Ja.reset(),null!==this.Re&&this.Re.reset(),this.Se=this.fa=null,this.kb()},me.prototype.copy=function(){var e,t=new me,n=this.Db;for(e in n){var i=n[e];t.add(i.key,i.value)}return t},me.prototype.Na=function(){var e,t=this.Db,n=Array(this.Cb),i=0;for(e in t){var a=t[e];n[i]=new fe(a.key,a.value),i++}return n},me.prototype.Yd=function(){return new de(this)},p.Object.defineProperties(me.prototype,{count:{get:function(){return this.Cb}},size:{get:function(){return this.Cb}},iterator:{get:function(){if(this.count<=0)return Z;var e=this.Ja;return null!==e?(e.reset(),e):new pe(this)}},iteratorKeys:{get:function(){return this.count<=0?Z:new ce(this)}},iteratorValues:{get:function(){if(this.count<=0)return Z;var e=this.Re;return null!==e?(e.reset(),e):new he(this)}}}),me.prototype.toKeySet=me.prototype.Yd,me.prototype.toArray=me.prototype.Na,me.prototype.clear=me.prototype.clear,me.prototype["delete"]=me.prototype.delete,me.prototype.remove=me.prototype.remove,me.prototype.get=me.prototype.get,me.prototype.getValue=me.prototype.J,me.prototype.has=me.prototype.has,me.prototype.contains=me.prototype.contains,me.prototype.first=me.prototype.first,me.prototype.addAll=me.prototype.addAll,me.prototype.set=me.prototype.set,me.prototype.add=me.prototype.add,me.prototype.thaw=me.prototype.ha,me.prototype.freeze=me.prototype.freeze,me.className="Map",ge.prototype.assign=function(e){return this.F=e.F,this.G=e.G,this},ge.prototype.h=function(e,t){return this.F=e,this.G=t,this},ge.prototype.tg=function(e,t){return this.F=e,this.G=t,this},ge.prototype.set=function(e){return this.F=e.F,this.G=e.G,this},ge.prototype.copy=function(){var e=new ge;return e.F=this.F,e.G=this.G,e},n=ge.prototype,n.ga=function(){return this.v=!0,Object.freeze(this),this},n.I=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.v=!0,this},n.ha=function(){return Object.isFrozen(this)&&x("cannot thaw constant: "+this),this.v=!1,this},n.toString=function(){return"Point("+this.x+","+this.y+")"},n.A=function(e){return e instanceof ge&&(this.F===e.x&&this.G===e.y)},n.Di=function(e,t){return this.F===e&&this.G===t},n.Qa=function(e){return Kt.w(this.F,e.x)&&Kt.w(this.G,e.y)},n.add=function(e){return this.F+=e.x,this.G+=e.y,this},n.Xd=function(e){return this.F-=e.x,this.G-=e.y,this},n.offset=function(e,t){return this.F+=e,this.G+=t,this},ge.prototype.rotate=function(e){if(0===e)return this;var t=this.F,n=this.G;if(0===t&&0===n)return this;if(e>=360?e-=360:e<0&&(e+=360),90===e){e=0;var i=1}else 180===e?(e=-1,i=0):270===e?(e=0,i=-1):(i=e*Math.PI/180,e=Math.cos(i),i=Math.sin(i));return this.F=e*t-i*n,this.G=i*t+e*n,this},n=ge.prototype,n.scale=function(e,t){return this.F*=e,this.G*=t,this},n.Be=function(e){var t=e.x-this.F;return e=e.y-this.G,t*t+e*e},n.cd=function(e,t){return e-=this.F,t-=this.G,e*e+t*t},n.normalize=function(){var e=this.F,t=this.G,n=Math.sqrt(e*e+t*t);return n>0&&(this.F=e/n,this.G=t/n),this},n.Wa=function(e){return be(e.x-this.F,e.y-this.G)},n.direction=function(e,t){return be(e-this.F,t-this.G)},n.Iz=function(e,t,n,i){return Kt.Qi(e,t,n,i,this.F,this.G,this),this},n.Jz=function(e,t){return Kt.Qi(e.x,e.y,t.x,t.y,this.F,this.G,this),this},n.Uz=function(e,t,n,i){return Kt.Tp(this.F,this.G,e,t,n,i,this),this},n.Vz=function(e,t){return Kt.Tp(this.F,this.G,e.x,e.y,t.width,t.height,this),this},n.Ti=function(e,t){return this.F=e.x+t.x*e.width+t.offsetX,this.G=e.y+t.y*e.height+t.offsetY,this},n.qk=function(e,t,n,i,a){return this.F=e+a.x*n+a.offsetX,this.G=t+a.y*i+a.offsetY,this},n.transform=function(e){return e.ta(this),this},n.o=function(){return isFinite(this.x)&&isFinite(this.y)},ge.alloc=function(){var e=je.pop();return void 0===e?new ge:e},ge.allocAt=function(e,t){var n=je.pop();return void 0===n?new ge(e,t):(n.x=e,n.y=t,n)},ge.free=function(e){je.push(e)},p.Object.defineProperties(ge.prototype,{x:{get:function(){return this.F},set:function(e){this.F=e}},y:{get:function(){return this.G},set:function(e){this.G=e}}}),ge.prototype.isReal=ge.prototype.o,ge.prototype.setSpot=ge.prototype.qk,ge.prototype.setRectSpot=ge.prototype.Ti,ge.prototype.snapToGridPoint=ge.prototype.Vz,ge.prototype.snapToGrid=ge.prototype.Uz,ge.prototype.projectOntoLineSegmentPoint=ge.prototype.Jz,ge.prototype.projectOntoLineSegment=ge.prototype.Iz,ge.prototype.direction=ge.prototype.direction,ge.prototype.directionPoint=ge.prototype.Wa,ge.prototype.normalize=ge.prototype.normalize,ge.prototype.distanceSquared=ge.prototype.cd,ge.prototype.distanceSquaredPoint=ge.prototype.Be,ge.prototype.scale=ge.prototype.scale,ge.prototype.rotate=ge.prototype.rotate,ge.prototype.offset=ge.prototype.offset,ge.prototype.subtract=ge.prototype.Xd,ge.prototype.add=ge.prototype.add,ge.prototype.equalsApprox=ge.prototype.Qa,ge.prototype.equalTo=ge.prototype.Di,ge.prototype.equals=ge.prototype.A,ge.prototype.set=ge.prototype.set,ge.prototype.setTo=ge.prototype.tg;var ke,Se,Te,Ne,Ie,De,Pe,Le=null,Oe=null,Me=null,Ee=null,Re=null,je=[];function Be(e,t){void 0===e?this.Z=this.$=0:"number"===typeof e&&(e>=0||isNaN(e))&&"number"===typeof t&&(t>=0||isNaN(t))?(this.$=e,this.Z=t):x("Invalid arguments to Size constructor: "+e+", "+t),this.v=!1}function _e(e){if("string"===typeof e){e=e.split(" ");for(var t=0,n=0;""===e[t];)t++;var i=e[t++];i&&(n=parseFloat(i));for(var a=0;""===e[t];)t++;return(i=e[t++])&&(a=parseFloat(i)),new Be(n,a)}return new Be}function Ve(e){return e.width.toString()+" "+e.height.toString()}ge.className="Point",ge.parse=ve,ge.stringify=ye,ge.distanceLineSegmentSquared=we,ge.distanceSquared=xe,ge.direction=Ce,ge.Origin=Le=new ge(0,0).ga(),ge.InfiniteTopLeft=Oe=new ge(-1/0,-1/0).ga(),ge.InfiniteBottomRight=Me=new ge(1/0,1/0).ga(),ge.SixPoint=Ee=new ge(6,6).ga(),ge.NoPoint=Re=new ge(NaN,NaN).ga(),ge.parse=ve,ge.stringify=ye,ge.distanceLineSegmentSquared=we,ge.distanceSquared=xe,ge.direction=Ce,Be.prototype.assign=function(e){return this.$=e.$,this.Z=e.Z,this},Be.prototype.h=function(e,t){return this.$=e,this.Z=t,this},Be.prototype.tg=function(e,t){return this.$=e,this.Z=t,this},Be.prototype.set=function(e){return this.$=e.$,this.Z=e.Z,this},Be.prototype.copy=function(){var e=new Be;return e.$=this.$,e.Z=this.Z,e},n=Be.prototype,n.ga=function(){return this.v=!0,Object.freeze(this),this},n.I=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.v=!0,this},n.ha=function(){return Object.isFrozen(this)&&x("cannot thaw constant: "+this),this.v=!1,this},n.toString=function(){return"Size("+this.width+","+this.height+")"},n.A=function(e){return e instanceof Be&&(this.$===e.width&&this.Z===e.height)},n.Di=function(e,t){return this.$===e&&this.Z===t},n.Qa=function(e){return Kt.w(this.$,e.width)&&Kt.w(this.Z,e.height)},n.o=function(){return isFinite(this.width)&&isFinite(this.height)},Be.alloc=function(){var e=Fe.pop();return void 0===e?new Be:e},Be.free=function(e){Fe.push(e)},p.Object.defineProperties(Be.prototype,{width:{get:function(){return this.$},set:function(e){e<0&&k(e,">= 0",Be,"width"),this.$=e}},height:{get:function(){return this.Z},set:function(e){e<0&&k(e,">= 0",Be,"height"),this.Z=e}}}),Be.prototype.isReal=Be.prototype.o,Be.prototype.equalsApprox=Be.prototype.Qa,Be.prototype.equalTo=Be.prototype.Di,Be.prototype.equals=Be.prototype.A,Be.prototype.set=Be.prototype.set,Be.prototype.setTo=Be.prototype.tg;var Fe=[];function Ue(e,t,n,i){void 0===e?this.Z=this.$=this.G=this.F=0:e instanceof ge?(n=e.x,e=e.y,t instanceof ge?(i=t.x,t=t.y,this.F=Math.min(n,i),this.G=Math.min(e,t),this.$=Math.abs(n-i),this.Z=Math.abs(e-t)):t instanceof Be?(this.F=n,this.G=e,this.$=t.$,this.Z=t.Z):x("Incorrect arguments supplied to Rect constructor")):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&(n>=0||isNaN(n))&&"number"===typeof i&&(i>=0||isNaN(i))?(this.F=e,this.G=t,this.$=n,this.Z=i):x("Invalid arguments to Rect constructor: "+e+", "+t+", "+n+", "+i),this.v=!1}function qe(e,t,n){e.$=t,e.Z=n}function ze(e){if("string"===typeof e){e=e.split(" ");for(var t=0,n=0;""===e[t];)t++;var i=e[t++];i&&(n=parseFloat(i));for(var a=0;""===e[t];)t++;(i=e[t++])&&(a=parseFloat(i));for(var r=0;""===e[t];)t++;(i=e[t++])&&(r=parseFloat(i));for(var o=0;""===e[t];)t++;return(i=e[t++])&&(o=parseFloat(i)),new Ue(n,a,r,o)}return new Ue}function Qe(e){return e.x.toString()+" "+e.y.toString()+" "+e.width.toString()+" "+e.height.toString()}function $e(e,t){return Kt.ca(e.F,t.x)&&Kt.ca(e.G,t.y)&&Kt.ca(e.$,t.width)&&Kt.ca(e.Z,t.height)}function He(e,t,n,i,a){var r=e.$;return n+a<=-r?(e.F+=r/2,e.$=0):(e.F-=a,e.$+=n+a),n=e.Z,t+i<=-n?(e.G+=n/2,e.Z=0):(e.G-=t,e.Z+=t+i),e}function Ge(e,t,n,i,a){var r=Math.max(e.F,t),o=Math.max(e.G,n);return t=Math.min(e.F+e.$,t+i),n=Math.min(e.G+e.Z,n+a),e.F=r,e.G=o,e.$=Math.max(0,t-r),e.Z=Math.max(0,n-o),e}function Ye(e,t,n){var i=e.$,a=e.F,r=t.x-n;return!(a>t.width+n+n+r||r>i+a)&&(i=e.Z,e=e.G,a=t.y-n,!(e>t.height+n+n+a||a>i+e))}function We(e,t,n,i,a){var r=Math.min(e.F,t),o=Math.min(e.G,n);return t=Math.max(e.F+e.$,t+i),n=Math.max(e.G+e.Z,n+a),e.F=r,e.G=o,e.$=t-r,e.Z=n-o,e}function Ke(e,t,n,i,a,r,o,s){return void 0===o&&(o=0),void 0===s&&(s=0),e<=a&&a+o<=e+n&&t<=r&&r+s<=t+i}function Je(e,t,n,i,a,r,o,s){return!(e>o+a||a>n+e)&&!(t>s+r||r>i+t)}Be.className="Size",Be.parse=_e,Be.stringify=Ve,Be.ZeroSize=ke=new Be(0,0).ga(),Be.OneSize=Se=new Be(1,1).ga(),Be.SixSize=Te=new Be(6,6).ga(),Be.EightSize=Ne=new Be(8,8).ga(),Be.TenSize=Ie=new Be(10,10).ga(),Be.InfiniteSize=De=new Be(1/0,1/0).ga(),Be.NoSize=Pe=new Be(NaN,NaN).ga(),Be.parse=_e,Be.stringify=Ve,n=Ue.prototype,n.assign=function(e){return this.F=e.F,this.G=e.G,this.$=e.$,this.Z=e.Z,this},n.h=function(e,t,n,i){return this.F=e,this.G=t,this.$=n,this.Z=i,this},n.tg=function(e,t,n,i){return this.F=e,this.G=t,this.$=n,this.Z=i,this},n.set=function(e){return this.F=e.F,this.G=e.G,this.$=e.$,this.Z=e.Z,this},n.jd=function(e){return this.F=e.x,this.G=e.y,this},n.Sz=function(e){return this.$=e.$,this.Z=e.Z,this},Ue.prototype.copy=function(){var e=new Ue;return e.F=this.F,e.G=this.G,e.$=this.$,e.Z=this.Z,e},n=Ue.prototype,n.ga=function(){return this.v=!0,Object.freeze(this),this},n.I=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.v=!0,this},n.ha=function(){return Object.isFrozen(this)&&x("cannot thaw constant: "+this),this.v=!1,this},n.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},n.A=function(e){return e instanceof Ue&&(this.F===e.x&&this.G===e.y&&this.$===e.width&&this.Z===e.height)},n.Di=function(e,t,n,i){return this.F===e&&this.G===t&&this.$===n&&this.Z===i},n.Qa=function(e){return Kt.w(this.F,e.x)&&Kt.w(this.G,e.y)&&Kt.w(this.$,e.width)&&Kt.w(this.Z,e.height)},n.ea=function(e){return this.F<=e.x&&this.F+this.$>=e.x&&this.G<=e.y&&this.G+this.Z>=e.y},n.lf=function(e){return this.F<=e.x&&e.x+e.width<=this.F+this.$&&this.G<=e.y&&e.y+e.height<=this.G+this.Z},n.contains=function(e,t,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),this.F<=e&&e+n<=this.F+this.$&&this.G<=t&&t+i<=this.G+this.Z},n.reset=function(){this.Z=this.$=this.G=this.F=0},n.offset=function(e,t){return this.F+=e,this.G+=t,this},n.Uc=function(e,t){return He(this,t,e,t,e)},n.Lp=function(e){return He(this,e.top,e.right,e.bottom,e.left)},n.Ov=function(e){return He(this,-e.top,-e.right,-e.bottom,-e.left)},n.lz=function(e,t,n,i){return He(this,e,t,n,i)},n.pz=function(e){return Ge(this,e.x,e.y,e.width,e.height)},n.gv=function(e,t,n,i){return Ge(this,e,t,n,i)},n.Ic=function(e){return this.hv(e.x,e.y,e.width,e.height)},n.hv=function(e,t,n,i){var a=this.$,r=this.F;return!(1/0!==a&&1/0!==n&&(a+=r,n+=e,isNaN(n)||isNaN(a)||r>n||e>a))&&(e=this.Z,n=this.G,!(1/0!==e&&1/0!==i&&(e+=n,i+=t,isNaN(i)||isNaN(e)||n>i||t>e)))},n.Ie=function(e){return We(this,e.x,e.y,0,0)},n.Jc=function(e){return We(this,e.F,e.G,e.$,e.Z)},n.Vv=function(e,t,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),We(this,e,t,n,i)},n.qk=function(e,t,n){return this.F=e-n.offsetX-n.x*this.$,this.G=t-n.offsetY-n.y*this.Z,this},n.o=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.rz=function(){return 0===this.width&&0===this.height},Ue.alloc=function(){var e=et.pop();return void 0===e?new Ue:e},Ue.allocAt=function(e,t,n,i){var a=et.pop();return void 0===a?new Ue(e,t,n,i):a.h(e,t,n,i)},Ue.free=function(e){et.push(e)},p.Object.defineProperties(Ue.prototype,{x:{get:function(){return this.F},set:function(e){this.F=e}},y:{get:function(){return this.G},set:function(e){this.G=e}},width:{get:function(){return this.$},set:function(e){e<0&&k(e,">= 0",Ue,"width"),this.$=e}},height:{get:function(){return this.Z},set:function(e){e<0&&k(e,">= 0",Ue,"height"),this.Z=e}},left:{get:function(){return this.F},set:function(e){this.F=e}},top:{get:function(){return this.G},set:function(e){this.G=e}},right:{get:function(){return this.F+this.$},set:function(e){this.F+=e-(this.F+this.$)}},bottom:{get:function(){return this.G+this.Z},set:function(e){this.G+=e-(this.G+this.Z)}},position:{get:function(){return new ge(this.F,this.G)},set:function(e){this.F=e.x,this.G=e.y}},size:{get:function(){return new Be(this.$,this.Z)},set:function(e){this.$=e.width,this.Z=e.height}},center:{get:function(){return new ge(this.F+this.$/2,this.G+this.Z/2)},set:function(e){this.F=e.x-this.$/2,this.G=e.y-this.Z/2}},centerX:{get:function(){return this.F+this.$/2},set:function(e){this.F=e-this.$/2}},centerY:{get:function(){return this.G+this.Z/2},set:function(e){this.G=e-this.Z/2}}}),Ue.prototype.isEmpty=Ue.prototype.rz,Ue.prototype.isReal=Ue.prototype.o,Ue.prototype.setSpot=Ue.prototype.qk,Ue.prototype.union=Ue.prototype.Vv,Ue.prototype.unionRect=Ue.prototype.Jc,Ue.prototype.unionPoint=Ue.prototype.Ie,Ue.prototype.intersects=Ue.prototype.hv,Ue.prototype.intersectsRect=Ue.prototype.Ic,Ue.prototype.intersect=Ue.prototype.gv,Ue.prototype.intersectRect=Ue.prototype.pz,Ue.prototype.grow=Ue.prototype.lz,Ue.prototype.subtractMargin=Ue.prototype.Ov,Ue.prototype.addMargin=Ue.prototype.Lp,Ue.prototype.inflate=Ue.prototype.Uc,Ue.prototype.offset=Ue.prototype.offset,Ue.prototype.contains=Ue.prototype.contains,Ue.prototype.containsRect=Ue.prototype.lf,Ue.prototype.containsPoint=Ue.prototype.ea,Ue.prototype.equalsApprox=Ue.prototype.Qa,Ue.prototype.equalTo=Ue.prototype.Di,Ue.prototype.equals=Ue.prototype.A,Ue.prototype.setSize=Ue.prototype.Sz,Ue.prototype.setPoint=Ue.prototype.jd,Ue.prototype.set=Ue.prototype.set,Ue.prototype.setTo=Ue.prototype.tg;var Xe=null,Ze=null,et=[];function tt(e,t,n,i){void 0===e?this.le=this.ae=this.te=this.ve=0:void 0===t?this.left=this.bottom=this.right=this.top=e:void 0===n?(this.top=e,this.right=t,this.bottom=e,this.left=t):void 0!==i?(this.top=e,this.right=t,this.bottom=n,this.left=i):x("Invalid arguments to Margin constructor: "+e+", "+t+", "+n+", "+i),this.v=!1}function nt(e){if("string"===typeof e){e=e.split(" ");for(var t=0,n=NaN;""===e[t];)t++;var i=e[t++];if(i&&(n=parseFloat(i)),isNaN(n))return new tt;for(var a=NaN;""===e[t];)t++;if((i=e[t++])&&(a=parseFloat(i)),isNaN(a))return new tt(n);for(var r=NaN;""===e[t];)t++;if((i=e[t++])&&(r=parseFloat(i)),isNaN(r))return new tt(n,a);for(var o=NaN;""===e[t];)t++;return(i=e[t++])&&(o=parseFloat(i)),isNaN(o)?new tt(n,a):new tt(n,a,r,o)}return new tt}function it(e){return e.top.toString()+" "+e.right.toString()+" "+e.bottom.toString()+" "+e.left.toString()}Ue.className="Rect",Ue.parse=ze,Ue.stringify=Qe,Ue.contains=Ke,Ue.intersects=Je,Ue.ZeroRect=Xe=new Ue(0,0,0,0).ga(),Ue.NoRect=Ze=new Ue(NaN,NaN,NaN,NaN).ga(),Ue.parse=ze,Ue.stringify=Qe,Ue.contains=Ke,Ue.intersects=Je,tt.prototype.assign=function(e){return this.ve=e.ve,this.te=e.te,this.ae=e.ae,this.le=e.le,this},tt.prototype.tg=function(e,t,n,i){return this.ve=e,this.te=t,this.ae=n,this.le=i,this},tt.prototype.set=function(e){return this.ve=e.ve,this.te=e.te,this.ae=e.ae,this.le=e.le,this},tt.prototype.copy=function(){var e=new tt;return e.ve=this.ve,e.te=this.te,e.ae=this.ae,e.le=this.le,e},n=tt.prototype,n.ga=function(){return this.v=!0,Object.freeze(this),this},n.I=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.v=!0,this},n.ha=function(){return Object.isFrozen(this)&&x("cannot thaw constant: "+this),this.v=!1,this},n.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},n.A=function(e){return e instanceof tt&&(this.ve===e.top&&this.te===e.right&&this.ae===e.bottom&&this.le===e.left)},n.Di=function(e,t,n,i){return this.ve===e&&this.te===t&&this.ae===n&&this.le===i},n.Qa=function(e){return Kt.w(this.ve,e.top)&&Kt.w(this.te,e.right)&&Kt.w(this.ae,e.bottom)&&Kt.w(this.le,e.left)},n.o=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},tt.alloc=function(){var e=ot.pop();return void 0===e?new tt:e},tt.free=function(e){ot.push(e)},p.Object.defineProperties(tt.prototype,{top:{get:function(){return this.ve},set:function(e){this.ve=e}},right:{get:function(){return this.te},set:function(e){this.te=e}},bottom:{get:function(){return this.ae},set:function(e){this.ae=e}},left:{get:function(){return this.le},set:function(e){this.le=e}}}),tt.prototype.isReal=tt.prototype.o,tt.prototype.equalsApprox=tt.prototype.Qa,tt.prototype.equalTo=tt.prototype.Di,tt.prototype.equals=tt.prototype.A,tt.prototype.set=tt.prototype.set,tt.prototype.setTo=tt.prototype.tg;var at=null,rt=null,ot=[];function st(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}tt.className="Margin",tt.parse=nt,tt.stringify=it,tt.ZeroMargin=at=new tt(0,0,0,0).ga(),tt.TwoMargin=rt=new tt(2,2,2,2).ga(),tt.parse=nt,tt.stringify=it,st.prototype.set=function(e){return this.m11=e.m11,this.m12=e.m12,this.m21=e.m21,this.m22=e.m22,this.dx=e.dx,this.dy=e.dy,this},st.prototype.copy=function(){var e=new st;return e.m11=this.m11,e.m12=this.m12,e.m21=this.m21,e.m22=this.m22,e.dx=this.dx,e.dy=this.dy,e},n=st.prototype,n.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},n.A=function(e){return e instanceof st&&(this.m11===e.m11&&this.m12===e.m12&&this.m21===e.m21&&this.m22===e.m22&&this.dx===e.dx&&this.dy===e.dy)},n.ct=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},n.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},n.multiply=function(e){var t=this.m12*e.m11+this.m22*e.m12,n=this.m11*e.m21+this.m21*e.m22,i=this.m12*e.m21+this.m22*e.m22,a=this.m11*e.dx+this.m21*e.dy+this.dx,r=this.m12*e.dx+this.m22*e.dy+this.dy;return this.m11=this.m11*e.m11+this.m21*e.m12,this.m12=t,this.m21=n,this.m22=i,this.dx=a,this.dy=r,this},n.nv=function(e){var t=1/(e.m11*e.m22-e.m12*e.m21),n=e.m22*t,i=-e.m12*t,a=-e.m21*t,r=e.m11*t,o=t*(e.m21*e.dy-e.m22*e.dx);return e=t*(e.m12*e.dx-e.m11*e.dy),t=this.m11*n+this.m21*i,n=this.m12*n+this.m22*i,i=this.m11*a+this.m21*r,a=this.m12*a+this.m22*r,this.dx=this.m11*o+this.m21*e+this.dx,this.dy=this.m12*o+this.m22*e+this.dy,this.m11=t,this.m12=n,this.m21=i,this.m22=a,this},n.bt=function(){var e=1/(this.m11*this.m22-this.m12*this.m21),t=-this.m12*e,n=-this.m21*e,i=this.m11*e,a=e*(this.m21*this.dy-this.m22*this.dx),r=e*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*e,this.m12=t,this.m21=n,this.m22=i,this.dx=a,this.dy=r,this},st.prototype.rotate=function(e,t,n){if(e>=360?e-=360:e<0&&(e+=360),0===e)return this;if(this.translate(t,n),90===e){e=0;var i=1}else 180===e?(e=-1,i=0):270===e?(e=0,i=-1):(i=e*Math.PI/180,e=Math.cos(i),i=Math.sin(i));var a=this.m12*e+this.m22*i,r=this.m11*-i+this.m21*e,o=this.m12*-i+this.m22*e;return this.m11=this.m11*e+this.m21*i,this.m12=a,this.m21=r,this.m22=o,this.translate(-t,-n),this},n=st.prototype,n.translate=function(e,t){return this.dx+=this.m11*e+this.m21*t,this.dy+=this.m12*e+this.m22*t,this},n.scale=function(e,t){return void 0===t&&(t=e),this.m11*=e,this.m12*=e,this.m21*=t,this.m22*=t,this},n.ta=function(e){var t=e.x,n=e.y;return e.h(t*this.m11+n*this.m21+this.dx,t*this.m12+n*this.m22+this.dy)},n.Ud=function(e){var t=1/(this.m11*this.m22-this.m12*this.m21),n=e.x,i=e.y;return e.h(n*this.m22*t+i*-this.m21*t+t*(this.m21*this.dy-this.m22*this.dx),n*-this.m12*t+i*this.m11*t+t*(this.m12*this.dx-this.m11*this.dy))},n.Uv=function(e){var t=e.F,n=e.G,i=t+e.$,a=n+e.Z,r=this.m11,o=this.m12,s=this.m21,l=this.m22,u=this.dx,c=this.dy,d=t*r+n*s+u,h=t*o+n*l+c,f=i*r+n*s+u,p=i*o+n*l+c;return n=t*r+a*s+u,t=t*o+a*l+c,r=i*r+a*s+u,i=i*o+a*l+c,a=Math.min(d,f),d=Math.max(d,f),f=Math.min(h,p),h=Math.max(h,p),a=Math.min(a,n),d=Math.max(d,n),f=Math.min(f,t),h=Math.max(h,t),a=Math.min(a,r),d=Math.max(d,r),f=Math.min(f,i),h=Math.max(h,i),e.F=a,e.G=f,e.$=d-a,e.Z=h-f,e},st.alloc=function(){var e=Qt.pop();return void 0===e?new st:e},st.free=function(e){Qt.push(e)},st.prototype.transformRect=st.prototype.Uv,st.prototype.invertedTransformPoint=st.prototype.Ud,st.prototype.transformPoint=st.prototype.ta,st.prototype.scale=st.prototype.scale,st.prototype.translate=st.prototype.translate,st.prototype.rotate=st.prototype.rotate,st.prototype.invert=st.prototype.bt,st.prototype.multiplyInverted=st.prototype.nv,st.prototype.multiply=st.prototype.multiply,st.prototype.reset=st.prototype.reset,st.prototype.isIdentity=st.prototype.ct,st.prototype.equals=st.prototype.A,st.prototype.set=st.prototype.set;var lt,ut,ct,dt,ht,ft,pt,mt,gt,vt,yt,bt,At,wt,xt,Ct,kt,St,Tt,Nt,It,Dt,Pt,Lt,Ot,Mt,Et,Rt,jt,Bt,_t,Vt,Ft,Ut,qt,zt,Qt=[];function $t(e,t,n,i){void 0===e?this.Nd=this.Md=this.G=this.F=0:(void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=e,this.y=t,this.offsetX=n,this.offsetY=i),this.v=!1}function Ht(e,t){return e.F=NaN,e.G=NaN,e.Md=t,e}function Gt(e){if("string"===typeof e){if(e=e.trim(),"None"===e)return lt;if("TopLeft"===e)return ut;if("Top"===e||"TopCenter"===e||"MiddleTop"===e)return ct;if("TopRight"===e)return dt;if("Left"===e||"LeftCenter"===e||"MiddleLeft"===e)return ht;if("Center"===e)return ft;if("Right"===e||"RightCenter"===e||"MiddleRight"===e)return pt;if("BottomLeft"===e)return mt;if("Bottom"===e||"BottomCenter"===e||"MiddleBottom"===e)return gt;if("BottomRight"===e)return vt;if("TopSide"===e)return yt;if("LeftSide"===e)return bt;if("RightSide"===e)return At;if("BottomSide"===e)return wt;if("TopBottomSides"===e)return xt;if("LeftRightSides"===e)return Ct;if("TopLeftSides"===e)return kt;if("TopRightSides"===e)return St;if("BottomLeftSides"===e)return Tt;if("BottomRightSides"===e)return Nt;if("NotTopSide"===e)return It;if("NotLeftSide"===e)return Dt;if("NotRightSide"===e)return Pt;if("NotBottomSide"===e)return Lt;if("AllSides"===e)return Ot;if("Default"===e)return Mt;e=e.split(" ");for(var t=0,n=0;""===e[t];)t++;var i=e[t++];void 0!==i&&i.length>0&&(n=parseFloat(i));for(var a=0;""===e[t];)t++;i=e[t++],void 0!==i&&i.length>0&&(a=parseFloat(i));for(var r=0;""===e[t];)t++;i=e[t++],void 0!==i&&i.length>0&&(r=parseFloat(i));for(var o=0;""===e[t];)t++;return i=e[t++],void 0!==i&&i.length>0&&(o=parseFloat(i)),new $t(n,a,r,o)}return new $t}function Yt(e){return e.gb()?e.x.toString()+" "+e.y.toString()+" "+e.offsetX.toString()+" "+e.offsetY.toString():e.toString()}st.className="Transform",st.xF="54a702f3e53909c447824c6706603faf4c",$t.prototype.assign=function(e){return this.F=e.F,this.G=e.G,this.Md=e.Md,this.Nd=e.Nd,this},$t.prototype.tg=function(e,t,n,i){return this.F=e,this.G=t,this.Md=n,this.Nd=i,this},$t.prototype.set=function(e){return this.F=e.F,this.G=e.G,this.Md=e.Md,this.Nd=e.Nd,this},$t.prototype.copy=function(){var e=new $t;return e.F=this.F,e.G=this.G,e.Md=this.Md,e.Nd=this.Nd,e},n=$t.prototype,n.ga=function(){return this.v=!0,Object.freeze(this),this},n.I=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.v=!0,this},n.ha=function(){return Object.isFrozen(this)&&x("cannot thaw constant: "+this),this.v=!1,this},n.toString=function(){return this.gb()?0===this.Md&&0===this.Nd?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.A(lt)?"None":this.A(ut)?"TopLeft":this.A(ct)?"Top":this.A(dt)?"TopRight":this.A(ht)?"Left":this.A(ft)?"Center":this.A(pt)?"Right":this.A(mt)?"BottomLeft":this.A(gt)?"Bottom":this.A(vt)?"BottomRight":this.A(yt)?"TopSide":this.A(bt)?"LeftSide":this.A(At)?"RightSide":this.A(wt)?"BottomSide":this.A(xt)?"TopBottomSides":this.A(Ct)?"LeftRightSides":this.A(kt)?"TopLeftSides":this.A(St)?"TopRightSides":this.A(Tt)?"BottomLeftSides":this.A(Nt)?"BottomRightSides":this.A(It)?"NotTopSide":this.A(Dt)?"NotLeftSide":this.A(Pt)?"NotRightSide":this.A(Lt)?"NotBottomSide":this.A(Ot)?"AllSides":this.A(Mt)?"Default":"None"},n.A=function(e){return e instanceof $t&&((this.F===e.x||isNaN(this.F)&&isNaN(e.x))&&(this.G===e.y||isNaN(this.G)&&isNaN(e.y))&&this.Md===e.offsetX&&this.Nd===e.offsetY)},n.rv=function(){return new $t(.5-(this.F-.5),.5-(this.G-.5),-this.Md,-this.Nd)},n.pf=function(e){if(!this.qf())return!1;if(!e.qf())if(e.A(Et))e=bt;else if(e.A(Rt))e=At;else if(e.A(jt))e=yt;else{if(!e.A(Bt))return!1;e=wt}return e=e.offsetY,(this.Nd&e)===e},n.gb=function(){return!isNaN(this.x)&&!isNaN(this.y)},n.jc=function(){return isNaN(this.x)||isNaN(this.y)},n.qf=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},n.et=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},n.Kb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},$t.alloc=function(){var e=Wt.pop();return void 0===e?new $t:e},$t.free=function(e){Wt.push(e)},p.Object.defineProperties($t.prototype,{x:{get:function(){return this.F},set:function(e){this.F=e}},y:{get:function(){return this.G},set:function(e){this.G=e}},offsetX:{get:function(){return this.Md},set:function(e){this.Md=e}},offsetY:{get:function(){return this.Nd},set:function(e){this.Nd=e}}}),$t.prototype.isDefault=$t.prototype.Kb,$t.prototype.isNone=$t.prototype.et,$t.prototype.isSide=$t.prototype.qf,$t.prototype.isNoSpot=$t.prototype.jc,$t.prototype.isSpot=$t.prototype.gb,$t.prototype.includesSide=$t.prototype.pf,$t.prototype.opposite=$t.prototype.rv,$t.prototype.equals=$t.prototype.A,$t.prototype.set=$t.prototype.set,$t.prototype.setTo=$t.prototype.tg;var Wt=[];$t.className="Spot",$t.parse=Gt,$t.stringify=Yt,$t.None=lt=Ht(new $t(0,0,0,0),0).ga(),$t.Default=Mt=Ht(new $t(0,0,-1,0),-1).ga(),$t.TopLeft=ut=new $t(0,0,0,0).ga(),$t.TopCenter=ct=new $t(.5,0,0,0).ga(),$t.TopRight=dt=new $t(1,0,0,0).ga(),$t.LeftCenter=ht=new $t(0,.5,0,0).ga(),$t.Center=ft=new $t(.5,.5,0,0).ga(),$t.RightCenter=pt=new $t(1,.5,0,0).ga(),$t.BottomLeft=mt=new $t(0,1,0,0).ga(),$t.BottomCenter=gt=new $t(.5,1,0,0).ga(),$t.BottomRight=vt=new $t(1,1,0,0).ga(),$t.MiddleTop=_t=ct,$t.MiddleLeft=Vt=ht,$t.MiddleRight=Ft=pt,$t.MiddleBottom=Ut=gt,$t.Top=jt=ct,$t.Left=Et=ht,$t.Right=Rt=pt,$t.Bottom=Bt=gt,$t.TopSide=yt=Ht(new $t(0,0,1,1),1).ga(),$t.LeftSide=bt=Ht(new $t(0,0,1,2),1).ga(),$t.RightSide=At=Ht(new $t(0,0,1,4),1).ga(),$t.BottomSide=wt=Ht(new $t(0,0,1,8),1).ga(),$t.TopBottomSides=xt=Ht(new $t(0,0,1,9),1).ga(),$t.LeftRightSides=Ct=Ht(new $t(0,0,1,6),1).ga(),$t.TopLeftSides=kt=Ht(new $t(0,0,1,3),1).ga(),$t.TopRightSides=St=Ht(new $t(0,0,1,5),1).ga(),$t.BottomLeftSides=Tt=Ht(new $t(0,0,1,10),1).ga(),$t.BottomRightSides=Nt=Ht(new $t(0,0,1,12),1).ga(),$t.NotTopSide=It=Ht(new $t(0,0,1,14),1).ga(),$t.NotLeftSide=Dt=Ht(new $t(0,0,1,13),1).ga(),$t.NotRightSide=Pt=Ht(new $t(0,0,1,11),1).ga(),$t.NotBottomSide=Lt=Ht(new $t(0,0,1,7),1).ga(),$t.AllSides=Ot=Ht(new $t(0,0,1,15),1).ga(),qt=new $t(.156,.156).ga(),zt=new $t(.844,.844).ga(),$t.parse=Gt,$t.stringify=Yt;var Kt={$z:"7da71ca0ad381e90",xg:(Math.sqrt(2)-1)/3*4,ew:null,sqrt:function(e){if(e<=0)return 0;var t=Kt.ew;if(null===t){t=[];for(var n=0;n<=2e3;n++)t[n]=Math.sqrt(n);Kt.ew=t}return e<1?(n=1/e,n<=2e3?1/t[0|n]:Math.sqrt(e)):e<=2e3?t[0|e]:Math.sqrt(e)},w:function(e,t){return e-=t,e<.5&&e>-.5},ca:function(e,t){return e-=t,e<5e-8&&e>-5e-8},Ub:function(e,t,n,i,a,r,o){if(a<=0&&(a=1e-6),e<n)var s=e,l=n;else s=n,l=e;if(t<i)var u=t,c=i;else u=i,c=t;if(e===n)return u<=o&&o<=c&&e-a<=r&&r<=e+a;if(t===i)return s<=r&&r<=l&&t-a<=o&&o<=t+a;if(l+=a,s-=a,s<=r&&r<=l&&(c+=a,u-=a,u<=o&&o<=c))if(l-s>c-u){if(!(e-n>a||n-e>a))return!0;if(r=(i-t)/(n-e)*(r-e)+t,r-a<=o&&o<=r+a)return!0}else{if(!(t-i>a||i-t>a))return!0;if(o=(n-e)/(i-t)*(o-t)+e,o-a<=r&&r<=o+a)return!0}return!1},Js:function(e,t,n,i,a,r,o,s,l,u,c,d){if(Kt.Ub(e,t,o,s,d,n,i)&&Kt.Ub(e,t,o,s,d,a,r))return Kt.Ub(e,t,o,s,d,u,c);var h=(e+n)/2,f=(t+i)/2,p=(n+a)/2,m=(i+r)/2;a=(a+o)/2,r=(r+s)/2,i=(h+p)/2,n=(f+m)/2,p=(p+a)/2,m=(m+r)/2;var g=(i+p)/2,v=(n+m)/2;return Kt.Js(e,t,h,f,i,n,g,v,l,u,c,d)||Kt.Js(g,v,p,m,a,r,o,s,l,u,c,d)},qy:function(e,t,n,i,a,r,o,s,l){var u=(n+a)/2,c=(i+r)/2;return l.h((((e+n)/2+u)/2+(u+(a+o)/2)/2)/2,(((t+i)/2+c)/2+(c+(r+s)/2)/2)/2),l},py:function(e,t,n,i,a,r,o,s){var l=(n+a)/2,u=(i+r)/2;return Ce(((e+n)/2+l)/2,((t+i)/2+u)/2,(l+(a+o)/2)/2,(u+(r+s)/2)/2)},Sl:function(e,t,n,i,a,r,o,s,l,u){if(Kt.Ub(e,t,o,s,l,n,i)&&Kt.Ub(e,t,o,s,l,a,r))We(u,e,t,0,0),We(u,o,s,0,0);else{var c=(e+n)/2,d=(t+i)/2,h=(n+a)/2,f=(i+r)/2;a=(a+o)/2,r=(r+s)/2,i=(c+h)/2,n=(d+f)/2,h=(h+a)/2,f=(f+r)/2;var p=(i+h)/2,m=(n+f)/2;Kt.Sl(e,t,c,d,i,n,p,m,l,u),Kt.Sl(p,m,h,f,a,r,o,s,l,u)}return u},ze:function(e,t,n,i,a,r,o,s,l,u){if(Kt.Ub(e,t,o,s,l,n,i)&&Kt.Ub(e,t,o,s,l,a,r))0===u.length&&(u.push(e),u.push(t)),u.push(o),u.push(s);else{var c=(e+n)/2,d=(t+i)/2,h=(n+a)/2,f=(i+r)/2;a=(a+o)/2,r=(r+s)/2,i=(c+h)/2,n=(d+f)/2,h=(h+a)/2,f=(f+r)/2;var p=(i+h)/2,m=(n+f)/2;Kt.ze(e,t,c,d,i,n,p,m,l,u),Kt.ze(p,m,h,f,a,r,o,s,l,u)}return u},uv:function(e,t,n,i,a,r,o,s,l,u){if(Kt.Ub(e,t,a,r,u,n,i))return Kt.Ub(e,t,a,r,u,s,l);var c=(e+n)/2,d=(t+i)/2;n=(n+a)/2,i=(i+r)/2;var h=(c+n)/2,f=(d+i)/2;return Kt.uv(e,t,c,d,h,f,o,s,l,u)||Kt.uv(h,f,n,i,a,r,o,s,l,u)},iA:function(e,t,n,i,a,r,o){return o.h(((e+n)/2+(n+a)/2)/2,((t+i)/2+(i+r)/2)/2),o},tv:function(e,t,n,i,a,r,o,s){if(Kt.Ub(e,t,a,r,o,n,i))We(s,e,t,0,0),We(s,a,r,0,0);else{var l=(e+n)/2,u=(t+i)/2;n=(n+a)/2,i=(i+r)/2;var c=(l+n)/2,d=(u+i)/2;Kt.tv(e,t,l,u,c,d,o,s),Kt.tv(c,d,n,i,a,r,o,s)}return s},jq:function(e,t,n,i,a,r,o,s){if(Kt.Ub(e,t,a,r,o,n,i))0===s.length&&(s.push(e),s.push(t)),s.push(a),s.push(r);else{var l=(e+n)/2,u=(t+i)/2;n=(n+a)/2,i=(i+r)/2;var c=(l+n)/2,d=(u+i)/2;Kt.jq(e,t,l,u,c,d,o,s),Kt.jq(c,d,n,i,a,r,o,s)}return s},Mp:function(e,t,n,i,a,r,o,s,l,u,c,d,h,f){if(Kt.Ub(e,t,o,s,h,n,i)&&Kt.Ub(e,t,o,s,h,a,r)){var p=(e-o)*(u-d)-(t-s)*(l-c);if(0===p)return!1;if(h=((e*s-t*o)*(l-c)-(e-o)*(l*d-u*c))/p,p=((e*s-t*o)*(u-d)-(t-s)*(l*d-u*c))/p,(l>c?l-c:c-l)<(u>d?u-d:d-u)){if(t<s?o=t:(o=s,s=t),p<o||p>s)return!1}else if(e<o?s=e:(s=o,o=e),h<s||h>o)return!1;return f.h(h,p),!0}p=(e+n)/2;var m=(t+i)/2;n=(n+a)/2,i=(i+r)/2,a=(a+o)/2,r=(r+s)/2;var g=(p+n)/2,v=(m+i)/2;n=(n+a)/2,i=(i+r)/2;var y=(g+n)/2,b=(v+i)/2,A=(c-l)*(c-l)+(d-u)*(d-u),w=!1;return Kt.Mp(e,t,p,m,g,v,y,b,l,u,c,d,h,f)&&(e=(f.x-l)*(f.x-l)+(f.y-u)*(f.y-u),e<A&&(A=e,w=!0)),e=f.x,t=f.y,Kt.Mp(y,b,n,i,a,r,o,s,l,u,c,d,h,f)&&((f.x-l)*(f.x-l)+(f.y-u)*(f.y-u)<A?w=!0:f.h(e,t)),w},Np:function(e,t,n,i,a,r,o,s,l,u,c,d,h){var f=0;if(Kt.Ub(e,t,o,s,h,n,i)&&Kt.Ub(e,t,o,s,h,a,r)){if(h=(e-o)*(u-d)-(t-s)*(l-c),0===h)return f;var p=((e*s-t*o)*(l-c)-(e-o)*(l*d-u*c))/h,m=((e*s-t*o)*(u-d)-(t-s)*(l*d-u*c))/h;if(p>=c)return f;if((l>c?l-c:c-l)<(u>d?u-d:d-u)){if(t<s?(e=t,t=s):e=s,m<e||m>t)return f}else if(e<o?(t=e,e=o):t=o,p<t||p>e)return f;h>0?f++:h<0&&f--}else{p=(e+n)/2,m=(t+i)/2;var g=(n+a)/2,v=(i+r)/2;a=(a+o)/2,r=(r+s)/2,i=(p+g)/2,n=(m+v)/2,g=(g+a)/2,v=(v+r)/2;var y=(i+g)/2,b=(n+v)/2;f+=Kt.Np(e,t,p,m,i,n,y,b,l,u,c,d,h),f+=Kt.Np(y,b,g,v,a,r,o,s,l,u,c,d,h)}return f},Qi:function(e,t,n,i,a,r,o){return Kt.ca(e,n)?(t<i?(n=t,t=i):n=i,r<n?(o.h(e,n),!1):r>t?(o.h(e,t),!1):(o.h(e,r),!0)):Kt.ca(t,i)?(e<n?(i=e,e=n):i=n,a<i?(o.h(i,t),!1):a>e?(o.h(e,t),!1):(o.h(a,t),!0)):(a=((e-a)*(e-n)+(t-r)*(t-i))/((n-e)*(n-e)+(i-t)*(i-t)),a<-5e-6?(o.h(e,t),!1):a>1.000005?(o.h(n,i),!1):(o.h(e+a*(n-e),t+a*(i-t)),!0))},Fe:function(e,t,n,i,a,r,o,s,l){return Kt.w(e,n)&&Kt.w(t,i)?(l.h(e,t),!1):Kt.ca(a,o)?Kt.ca(e,n)?(Kt.Qi(e,t,n,i,a,r,l),!1):Kt.Qi(e,t,n,i,a,(i-t)/(n-e)*(a-e)+t,l):(s=(s-r)/(o-a),Kt.ca(e,n)?(n=s*(e-a)+r,t<i?(a=t,t=i):a=i,n<a?(l.h(e,a),!1):n>t?(l.h(e,t),!1):(l.h(e,n),!0)):(o=(i-t)/(n-e),Kt.ca(s,o)?(Kt.Qi(e,t,n,i,a,r,l),!1):(a=(o*e-s*a+r-t)/(o-s),Kt.ca(o,0)?(e<n?(i=e,e=n):i=n,a<i?(l.h(i,t),!1):a>e?(l.h(e,t),!1):(l.h(a,t),!0)):Kt.Qi(e,t,n,i,a,o*(a-e)+t,l))))},fA:function(e,t,n,i,a){return Kt.Fe(n.x,n.y,i.x,i.y,e.x,e.y,t.x,t.y,a)},eA:function(e,t,n,i,a,r,o,s,l,u){function c(n,i){var a=(n-e)*(n-e)+(i-t)*(i-t);a<d&&(d=a,l.h(n,i))}var d=1/0;c(l.x,l.y);var h=0,f=0,p=0,m=0;if(a<o?(h=a,f=o):(h=o,f=a),r<s?(p=a,m=o):(p=o,m=a),h=(f-h)/2+u,u=(m-p)/2+u,a=(a+o)/2,r=(r+s)/2,0===h||0===u)return l;if((n>e?n-e:e-n)<.5){if(h=1-(n-a)*(n-a)/(h*h),h<0)return l;h=Math.sqrt(h),i=-u*h+r,c(n,u*h+r),c(n,i)}else{if(n=(i-t)/(n-e),i=1/(h*h)+n*n/(u*u),s=2*n*(t-n*e)/(u*u)-2*n*r/(u*u)-2*a/(h*h),h=s*s-4*i*(2*n*e*r/(u*u)-2*t*r/(u*u)+r*r/(u*u)+a*a/(h*h)-1+(t-n*e)*(t-n*e)/(u*u)),h<0)return l;h=Math.sqrt(h),u=(-s+h)/(2*i),c(u,n*u-n*e+t),h=(-s-h)/(2*i),c(h,n*h-n*e+t)}return l},Tc:function(e,t,n,i,a,r,o,s,l){var u=1e21,c=e,d=t;if(Kt.Fe(e,t,e,i,a,r,o,s,l)){var h=(l.x-a)*(l.x-a)+(l.y-r)*(l.y-r);h<u&&(u=h,c=l.x,d=l.y)}return Kt.Fe(n,t,n,i,a,r,o,s,l)&&(h=(l.x-a)*(l.x-a)+(l.y-r)*(l.y-r),h<u&&(u=h,c=l.x,d=l.y)),Kt.Fe(e,t,n,t,a,r,o,s,l)&&(t=(l.x-a)*(l.x-a)+(l.y-r)*(l.y-r),t<u&&(u=t,c=l.x,d=l.y)),Kt.Fe(e,i,n,i,a,r,o,s,l)&&(e=(l.x-a)*(l.x-a)+(l.y-r)*(l.y-r),e<u&&(u=e,c=l.x,d=l.y)),l.h(c,d),u<1e21},dA:function(e,t,n,i,a,r,o,s,l){return n=e-n,o=a-o,0===n||0===o?0===n?(t=(r-s)/o,s=e,a=t*s+(r-t*a)):(r=(t-i)/n,s=a,a=r*s+(t-r*e)):(i=(t-i)/n,s=(r-s)/o,e=t-i*e,s=(r-s*a-e)/(i-s),a=i*s+e),l.h(s,a),l},$s:function(e,t,n){var i=t.x,a=t.y,r=n.x,o=n.y,s=e.left,l=e.right,u=e.top,c=e.bottom;return i===r?(a<o?(r=a,a=o):r=o,s<=i&&i<=l&&r<=c&&a>=u):a===o?(i<r?(o=i,i=r):o=r,u<=a&&a<=c&&o<=l&&i>=s):!!(e.ea(t)||e.ea(n)||Kt.Zs(s,u,l,u,i,a,r,o)||Kt.Zs(l,u,l,c,i,a,r,o)||Kt.Zs(l,c,s,c,i,a,r,o)||Kt.Zs(s,c,s,u,i,a,r,o))},Zs:function(e,t,n,i,a,r,o,s){return Kt.Ms(e,t,n,i,a,r)*Kt.Ms(e,t,n,i,o,s)<=0&&Kt.Ms(a,r,o,s,e,t)*Kt.Ms(a,r,o,s,n,i)<=0},Ms:function(e,t,n,i,a,r){return n-=e,i-=t,e=a-e,t=r-t,r=e*i-t*n,0===r&&(r=e*n+t*i,r>0&&(r=(e-n)*n+(t-i)*i,r<0&&(r=0))),r<0?-1:r>0?1:0},gq:function(e){return e<0&&(e+=360),e>=360&&(e-=360),e},ax:function(e,t,n,i,a,r){var o=Math.PI;r||(i*=o/180,a*=o/180);var s=i>a?-1:1;r=[];var l=o/2,u=i;if(i=Math.min(2*o,Math.abs(a-i)),i<1e-5)return l=u+s*Math.min(i,l),s=e+n*Math.cos(u),u=t+n*Math.sin(u),e+=n*Math.cos(l),t+=n*Math.sin(l),n=(s+e)/2,l=(u+t)/2,r.push([s,u,n,l,n,l,e,t]),r;for(;i>1e-5;)a=u+s*Math.min(i,l),r.push(Kt.yy(n,u,a,e,t)),i-=Math.abs(a-u),u=a;return r},yy:function(e,t,n,i,a){var r=(n-t)/2,o=e*Math.cos(r),s=e*Math.sin(r),l=-s,u=o*o+l*l,c=u+o*o+l*s;return u=4/3*(Math.sqrt(2*u*c)-c)/(o*s-l*o),s=o-u*l,o=l+u*o,l=-o,u=r+t,r=Math.cos(u),u=Math.sin(u),[i+e*Math.cos(t),a+e*Math.sin(t),i+s*r-o*u,a+s*u+o*r,i+s*r-l*u,a+s*u+l*r,i+e*Math.cos(n),a+e*Math.sin(n)]},Tp:function(e,t,n,i,a,r,o){n=Math.floor((e-n)/a)*a+n,i=Math.floor((t-i)/r)*r+i;var s=n;return n+a-e<a/2&&(s=n+a),e=i,i+r-t<r/2&&(e=i+r),o.h(s,e),o},lx:function(e,t){var n,i=Math.max(e,t);e=Math.min(e,t);do{t=i%e,i=n=e,e=t}while(t>0);return n},Dy:function(e,t,n,i){var a=n<0,r=i<0;if(e<t)var o=1,s=0;else o=0,s=1;var l=0===o?e:t,u=0===o?n:i;return(0===o?a:r)&&(u=-u),o=s,n=0===o?n:i,(0===o?a:r)&&(n=-n),Kt.Ey(l,0===o?e:t,u,n,0,0)},Ey:function(e,t,n,i,a,r){if(i>0)if(n>0){a=e*e,r=t*t,e*=n;var o=t*i,s=-r+o,l=-r+Math.sqrt(e*e+o*o);t=s;for(var u=0;u<9999999999;++u){if(t=.5*(s+l),t===s||t===l)break;var c=e/(t+a),d=o/(t+r);if(c=c*c+d*d-1,c>0)s=t;else{if(!(c<0))break;l=t}}n=a*n/(t+a)-n,i=r*i/(t+r)-i,n=Math.sqrt(n*n+i*i)}else n=Math.abs(i-t);else i=e*e-t*t,r=e*n,r<i?(i=r/i,r=t*Math.sqrt(Math.abs(1-i*i)),n=e*i-n,n=Math.sqrt(n*n+r*r)):n=Math.abs(n-e);return n},Je:new J,Bm:new J};function Jt(e){oe(this),this.v=!1,void 0===e&&(e=dn),this.va=e,this.Bc=this.mc=this.bd=this.ad=0,this.gj=new ie,this.hr=this.gj.Ba,this.Qq=(new Ue).freeze(),this.ra=!0,this.Nm=this.xk=null,this.Om=NaN,this.bf=ut,this.cf=vt,this.cl=this.el=NaN,this.Df=Xr}function Xt(e,t){return e.type===ln&&t.type===dn&&!!(1===t.figures.count&&(t=t.figures.N(0),1===t.segments.count&&Kt.w(e.startX,t.startX)&&Kt.w(e.startY,t.startY)&&(t=t.segments.N(0),t.type===vn&&Kt.w(e.endX,t.endX)&&Kt.w(e.endY,t.endY))))}function Zt(e){return e.toString()}function en(e,t){function n(){return m>=A-1||null!==l[m+1].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)}function i(){return m++,l[m]}function a(){var e=new ge(parseFloat(i()),parseFloat(i()));return g===g.toLowerCase()&&(e.x=b.x+e.x,e.y=b.y+e.y),e}function r(){return b=a()}function o(){return y=a()}function s(){var e=v.toLowerCase();return"c"!==e&&"s"!==e&&"q"!==e&&"t"!==e?b:new ge(2*b.x-y.x,2*b.y-y.y)}void 0===t&&(t=!1),e=e.replace(/,/gm," "),e=e.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2"),e=e.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2"),e=e.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^\s])/gm,"$1 $2"),e=e.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2"),e=e.replace(/([0-9])([+\-])/gm,"$1 $2"),e=e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=e.replace(/[\s\r\t\n]+/gm," "),e=e.replace(/^\s+|\s+$/g,"");var l=e.split(" ");for(e=0;e<l.length;e++){var u=l[e];if(null!==u.match(/(\.[0-9]*)(\.)/gm)){for(var c=O(),d="",h=!1,f=0;f<u.length;f++){var p=u[f];"."!==p||h?"."===p?(c.push(d),d="."):d+=p:(h=!0,d+=p)}for(c.push(d),l.splice(e,1),u=0;u<c.length;u++)l.splice(e+u,0,c[u]);e+=c.length-1,M(c)}}var m=-1,g="",v="";c=new ge(0,0);var y=new ge(0,0),b=new ge(0,0),A=l.length;for(e=rc(null),d=u=!1,h=!0,f=null;!(m>=A-1);)if(v=g,g=i(),""!==g)switch(g.toUpperCase()){case"X":h=!0,d=u=!1;break;case"M":for(f=r(),null===e.ec||!0===h?(ec(e,f.x,f.y,u,!d),h=!1):e.moveTo(f.x,f.y),c=b;!n();)f=r(),e.lineTo(f.x,f.y);break;case"L":for(;!n();)f=r(),e.lineTo(f.x,f.y);break;case"H":for(;!n();)b=new ge((g===g.toLowerCase()?b.x:0)+parseFloat(i()),b.y),e.lineTo(b.x,b.y);break;case"V":for(;!n();)b=new ge(b.x,(g===g.toLowerCase()?b.y:0)+parseFloat(i())),e.lineTo(b.x,b.y);break;case"C":for(;!n();){f=a(),p=o();var w=r();nc(e,f.x,f.y,p.x,p.y,w.x,w.y)}break;case"S":for(;!n();)f=s(),p=o(),w=r(),nc(e,f.x,f.y,p.x,p.y,w.x,w.y);break;case"Q":for(;!n();)f=o(),p=r(),ic(e,f.x,f.y,p.x,p.y);break;case"T":for(;!n();)y=f=s(),p=r(),ic(e,f.x,f.y,p.x,p.y);break;case"B":for(;!n();){f=parseFloat(i()),p=parseFloat(i()),w=parseFloat(i());var x=parseFloat(i()),C=parseFloat(i()),k=C,S=!1;n()||(k=parseFloat(i()),n()||(S=0!==parseFloat(i()))),g===g.toLowerCase()&&(w+=b.x,x+=b.y),e.arcTo(f,p,w,x,C,k,S)}break;case"A":for(;!n();)f=Math.abs(parseFloat(i())),p=Math.abs(parseFloat(i())),w=parseFloat(i()),x=!!parseFloat(i()),C=!!parseFloat(i()),k=r(),ac(e,f,p,w,x,C,k.x,k.y);break;case"Z":tc(e),b=c;break;case"F":for(f="",p=1;l[m+p];)if(null!==l[m+p].match(/[Uu]/))p++;else{if(null!==l[m+p].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){f=l[m+p];break}p++}f.match(/[Mm]/)?u=!0:e.ec.segments.length>0&&(e.ec.isFilled=!0);break;case"U":for(f="",p=1;l[m+p];)if(null!==l[m+p].match(/[Ff]/))p++;else{if(null!==l[m+p].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){f=l[m+p];break}p++}f.match(/[Mm]/)?d=!0:e.qq(!1)}if(c=e.Us,oc=e,t)for(t=c.figures.iterator;t.next();)t.value.isFilled=!0;return c}function tn(e,t){for(var n=e.length,i=ge.alloc(),a=0;a<n;a++){var r=e[a];i.x=r[0],i.y=r[1],t.ta(i),r[0]=i.x,r[1]=i.y,i.x=r[2],i.y=r[3],t.ta(i),r[2]=i.x,r[3]=i.y,i.x=r[4],i.y=r[5],t.ta(i),r[4]=i.x,r[5]=i.y,i.x=r[6],i.y=r[7],t.ta(i),r[6]=i.x,r[7]=i.y}ge.free(i)}function nn(e,t,n){switch(e.type){case ln:case un:case cn:n?t.h(e.ad,e.bd,0,0):We(t,e.ad,e.bd,0,0),We(t,e.mc,e.Bc,0,0);break;case dn:var i=e.figures;e=i.j,i=i.length;for(var a=0;a<i;a++){var r=e[a];n&&0===a?t.h(r.startX,r.startY,0,0):We(t,r.startX,r.startY,0,0);for(var o=r.segments.j,s=o.length,l=r.startX,u=r.startY,c=0;c<s;c++){var d=o[c];switch(d.type){case vn:case gn:l=d.endX,u=d.endY,We(t,l,u,0,0);break;case yn:Kt.Sl(l,u,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.5,t),l=d.endX,u=d.endY;break;case bn:Kt.tv(l,u,d.point1X,d.point1Y,d.endX,d.endY,.5,t),l=d.endX,u=d.endY;break;case An:case wn:var h=d.type===An?pn(d,r):mn(d,r,l,u),f=h.length;if(0===f){l=d.centerX,u=d.centerY,We(t,l,u,0,0);break}d=null;for(var p=0;p<f;p++)d=h[p],Kt.Sl(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.5,t);null!==d&&(l=d[6],u=d[7]);break;default:x("Unknown Segment type: "+d.type)}}}break;default:x("Unknown Geometry type: "+e.type)}}function an(e,t,n,i,a,r,o,s){if(Kt.Ub(a,r,o,s,.05,e,t))return NaN;var l=(e-n)*(r-s);if(0===l)return 0;var u=((e*i-t*n)*(a-o)-(e-n)*(a*s-r*o))/l;if(t=(e*i-t*n)*(r-s)/l,u>=e)return 0;if((a>o?a-o:o-a)<(r>s?r-s:s-r)){if(r<s){if(t<r||t>s)return 0}else if(t<s||t>r)return 0}else if(a<o){if(u<a||u>o)return 0}else if(u<o||u>a)return 0;return l>0?1:-1}function rn(e,t,n,i){e=e.figures.j;for(var a=e.length,r=0;r<a;r++)if(e[r].ea(t,n,i))return!0;return!1}function on(e){if(null===e.xk){var t=e.xk=[],n=e.Nm=[],i=[],a=[];if(e.type===ln)i.push(e.startX),i.push(e.startY),i.push(e.endX),i.push(e.endY),t.push(i),a.push(Math.sqrt((e.startX-e.endX)*(e.startX-e.endX)+(e.startY-e.endY)*(e.startY-e.endY))),n.push(a);else if(e.type===un)i.push(e.startX),i.push(e.startY),i.push(e.endX),i.push(e.startY),i.push(e.endX),i.push(e.endY),i.push(e.startX),i.push(e.endY),i.push(e.startX),i.push(e.startY),t.push(i),a.push(Math.abs(e.startX-e.endX)),a.push(Math.abs(e.startY-e.endY)),a.push(Math.abs(e.startX-e.endX)),a.push(Math.abs(e.startY-e.endY)),n.push(a);else if(e.type===cn){var r=new hn;r.startX=e.endX,r.startY=(e.startY+e.endY)/2;var o=new fn(An);if(o.startAngle=0,o.sweepAngle=360,o.centerX=(e.startX+e.endX)/2,o.centerY=(e.startY+e.endY)/2,o.radiusX=Math.abs(e.startX-e.endX)/2,o.radiusY=Math.abs(e.startY-e.endY)/2,r.add(o),e=pn(o,r),a=e.length,0===a)i.push(o.centerX),i.push(o.centerY);else{o=r.startX,r=r.startY;for(var s=0;s<a;s++){var l=e[s];Kt.ze(o,r,l[2],l[3],l[4],l[5],l[6],l[7],.5,i),o=l[6],r=l[7]}}t.push(i),n.push(sn(i))}else for(e=e.figures.iterator;e.next();){a=e.value,i=[],i.push(a.startX),i.push(a.startY),o=a.startX,r=a.startY,s=o,l=r;for(var u=a.segments.j,c=u.length,d=0;d<c;d++){var h=u[d];switch(h.type){case gn:i.length>=4&&(t.push(i),n.push(sn(i))),i=[],i.push(h.endX),i.push(h.endY),o=h.endX,r=h.endY,s=o,l=r;break;case vn:i.push(h.endX),i.push(h.endY),o=h.endX,r=h.endY;break;case yn:Kt.ze(o,r,h.point1X,h.point1Y,h.point2X,h.point2Y,h.endX,h.endY,.5,i),o=h.endX,r=h.endY;break;case bn:Kt.jq(o,r,h.point1X,h.point1Y,h.endX,h.endY,.5,i),o=h.endX,r=h.endY;break;case An:var f=pn(h,a),p=f.length;if(0===p){i.push(h.centerX),i.push(h.centerY),o=h.centerX,r=h.centerY;break}for(var m=0;m<p;m++){var g=f[m];Kt.ze(o,r,g[2],g[3],g[4],g[5],g[6],g[7],.5,i),o=g[6],r=g[7]}break;case wn:if(f=mn(h,a,o,r),p=f.length,0===p){i.push(h.centerX),i.push(h.centerY),o=h.centerX,r=h.centerY;break}for(m=0;m<p;m++)g=f[m],Kt.ze(o,r,g[2],g[3],g[4],g[5],g[6],g[7],.5,i),o=g[6],r=g[7];break;default:x("Segment not of valid type: "+h.type)}h.isClosed&&(i.push(s),i.push(l))}i.length>=4&&(t.push(i),n.push(sn(i)))}}}function sn(e){for(var t=[],n=0,i=0,a=e.length,r=0;r<a;r+=2){var o=e[r],s=e[r+1];0!==r&&t.push(Math.sqrt(xe(n,i,o,s))),n=o,i=s}return t}Kt.za=Kt.$z,Jt.prototype.copy=function(){var e=new Jt;e.va=this.va,e.ad=this.ad,e.bd=this.bd,e.mc=this.mc,e.Bc=this.Bc;for(var t=this.gj.j,n=t.length,i=e.gj,a=0;a<n;a++){var r=t[a].copy();i.add(r)}return e.hr=this.hr,e.Qq.assign(this.Qq),e.ra=this.ra,e.xk=this.xk,e.Nm=this.Nm,e.Om=this.Om,e.bf=this.bf.I(),e.cf=this.cf.I(),e.el=this.el,e.cl=this.cl,e.Df=this.Df,e},n=Jt.prototype,n.ga=function(){return this.freeze(),Object.freeze(this),this},n.freeze=function(){this.v=!0;var e=this.figures;e.freeze(),e=e.j;for(var t=e.length,n=0;n<t;n++)e[n].freeze();return this},n.ha=function(){Object.isFrozen(this)&&x("cannot thaw constant: "+this),this.v=!1;var e=this.figures;e.ha(),e=e.j;for(var t=e.length,n=0;n<t;n++)e[n].ha();return this},n.Qa=function(e){if(!(e instanceof Jt))return!1;if(this.type!==e.type)return this.type===ln&&e.type===dn?Xt(this,e):e.type===ln&&this.type===dn&&Xt(e,this);if(this.type===dn){var t=this.figures.j;e=e.figures.j;var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(!t[i].Qa(e[i]))return!1;return!0}return Kt.w(this.startX,e.startX)&&Kt.w(this.startY,e.startY)&&Kt.w(this.endX,e.endX)&&Kt.w(this.endY,e.endY)},n.fb=function(e){e.classType===Jt&&(this.type=e)},n.toString=function(e){switch(void 0===e&&(e=-1),this.type){case ln:return e<0?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(e)+" "+this.startY.toFixed(e)+"L"+this.endX.toFixed(e)+" "+this.endY.toFixed(e);case un:var t=new Ue(this.startX,this.startY,0,0);return t.Vv(this.endX,this.endY,0,0),e<0?"M"+t.x.toString()+" "+t.y.toString()+"H"+t.right.toString()+"V"+t.bottom.toString()+"H"+t.left.toString()+"z":"M"+t.x.toFixed(e)+" "+t.y.toFixed(e)+"H"+t.right.toFixed(e)+"V"+t.bottom.toFixed(e)+"H"+t.left.toFixed(e)+"z";case cn:if(t=new Ue(this.startX,this.startY,0,0),t.Vv(this.endX,this.endY,0,0),e<0)return e=t.left.toString()+" "+(t.y+t.height/2).toString(),"M"+e+"A"+(t.width/2).toString()+" "+(t.height/2).toString()+" 0 0 1 "+t.right.toString()+" "+(t.y+t.height/2).toString()+"A"+(t.width/2).toString()+" "+(t.height/2).toString()+" 0 0 1 "+e;var n=t.left.toFixed(e)+" "+(t.y+t.height/2).toFixed(e);return"M"+n+"A"+(t.width/2).toFixed(e)+" "+(t.height/2).toFixed(e)+" 0 0 1 "+t.right.toFixed(e)+" "+(t.y+t.height/2).toFixed(e)+"A"+(t.width/2).toFixed(e)+" "+(t.height/2).toFixed(e)+" 0 0 1 "+n;case dn:t="",n=this.figures.j;for(var i=n.length,a=0;a<i;a++){var r=n[a];a>0&&(t+=" x "),r.isFilled&&(t+="F "),t+=r.toString(e)}return t;default:return this.type.toString()}},n.lv=function(){if(this.ra||this.hr!==this.figures.Ba)return!0;for(var e=this.figures.j,t=e.length,n=0;n<t;n++)if(e[n].lv())return!0;return!1},Jt.prototype.computeBounds=function(){this.ra=!1,this.Nm=this.xk=null,this.Om=NaN,this.hr=this.figures.Ba;for(var e=this.figures.j,t=e.length,n=0;n<t;n++){var i=e[n];i.ra=!1;var a=i.segments;i.ss=a.Ba,i=a.j,a=i.length;for(var r=0;r<a;r++){var o=i[r];o.ra=!1,o.Ke=null}}e=this.Qq,e.ha(),isNaN(this.el)||isNaN(this.cl)?e.h(0,0,0,0):e.h(0,0,this.el,this.cl),nn(this,e,!1),We(e,0,0,0,0),e.freeze()},Jt.prototype.$w=function(){var e=new Ue;return nn(this,e,!0),e},Jt.prototype.normalize=function(){this.v&&C(this);var e=this.$w();return this.offset(-e.x,-e.y),new ge(-e.x,-e.y)},Jt.prototype.offset=function(e,t){return this.v&&C(this),this.transform(1,0,0,1,e,t),this},Jt.prototype.scale=function(e,t){return this.v&&C(this),this.transform(e,0,0,t,0,0),this},Jt.prototype.rotate=function(e,t,n){this.v&&C(this),void 0===t&&(t=0),void 0===n&&(n=0);var i=st.alloc();return i.reset(),i.rotate(e,t,n),this.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),st.free(i),this},n=Jt.prototype,n.transform=function(e,t,n,i,a,r){switch(this.type){case ln:case un:case cn:var o=this.ad,s=this.bd;this.ad=o*e+s*n+a,this.bd=o*t+s*i+r,o=this.mc,s=this.Bc,this.mc=o*e+s*n+a,this.Bc=o*t+s*i+r;break;case dn:for(var l=this.figures.j,u=l.length,c=0;c<u;c++){var d=l[c];o=d.startX,s=d.startY,d.startX=o*e+s*n+a,d.startY=o*t+s*i+r,d=d.segments.j;for(var h=d.length,f=0;f<h;f++){var p=d[f];switch(p.type){case vn:case gn:o=p.endX,s=p.endY,p.endX=o*e+s*n+a,p.endY=o*t+s*i+r;break;case yn:o=p.point1X,s=p.point1Y,p.point1X=o*e+s*n+a,p.point1Y=o*t+s*i+r,o=p.point2X,s=p.point2Y,p.point2X=o*e+s*n+a,p.point2Y=o*t+s*i+r,o=p.endX,s=p.endY,p.endX=o*e+s*n+a,p.endY=o*t+s*i+r;break;case bn:o=p.point1X,s=p.point1Y,p.point1X=o*e+s*n+a,p.point1Y=o*t+s*i+r,o=p.endX,s=p.endY,p.endX=o*e+s*n+a,p.endY=o*t+s*i+r;break;case An:o=p.centerX,s=p.centerY,p.centerX=o*e+s*n+a,p.centerY=o*t+s*i+r,0!==t&&(o=180*Math.atan2(t,e)/Math.PI,o<0&&(o+=360),p.startAngle+=o),e<0&&(p.startAngle=180-p.startAngle,p.sweepAngle=-p.sweepAngle),i<0&&(p.startAngle=-p.startAngle,p.sweepAngle=-p.sweepAngle),p.radiusX*=Math.sqrt(e*e+n*n),void 0!==p.radiusY&&(p.radiusY*=Math.sqrt(t*t+i*i));break;case wn:o=p.endX,s=p.endY,p.endX=o*e+s*n+a,p.endY=o*t+s*i+r,0!==t&&(o=180*Math.atan2(t,e)/Math.PI,o<0&&(o+=360),p.xAxisRotation+=o),e<0&&(p.xAxisRotation=180-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),i<0&&(p.xAxisRotation=-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),p.radiusX*=Math.sqrt(e*e+n*n),p.radiusY*=Math.sqrt(t*t+i*i);break;default:x("Unknown Segment type: "+p.type)}}}}return this.ra=!0,this},n.ea=function(e,t,n,i){var a=e.x;e=e.y;for(var r,o,s,l,u,c=this.bounds.x-20,d=0,h=this.figures.j,f=h.length,p=0;p<f;p++){var m=h[p];if(m.isFilled){if(n&&m.ea(a,e,t))return!0;var g=m.segments;r=m.startX,o=m.startY;for(var v=r,y=o,b=g.j,A=0;A<=g.length;A++){var w=void 0;if(A!==g.length){w=b[A];var C=w.type;l=w.endX,u=w.endY}else C=vn,l=v,u=y;switch(C){case gn:if(v=an(a,e,c,e,r,o,v,y),isNaN(v))return!0;d+=v,v=l,y=u;break;case vn:if(r=an(a,e,c,e,r,o,l,u),isNaN(r))return!0;d+=r;break;case yn:s=Kt.Np(r,o,w.point1X,w.point1Y,w.point2X,w.point2Y,l,u,c,e,a,e,.5),d+=s;break;case bn:s=Kt.Np(r,o,(r+2*w.point1X)/3,(o+2*w.point1Y)/3,(2*w.point1X+l)/3,(2*w.point1Y+u)/3,l,u,c,e,a,e,.5),d+=s;break;case An:case wn:C=w.type===An?pn(w,m):mn(w,m,r,o);var k=C.length;if(0===k){if(r=an(a,e,c,e,r,o,w.centerX,w.centerY),isNaN(r))return!0;d+=r;break}w=null;for(var S=0;S<k;S++){if(w=C[S],0===S){if(s=an(a,e,c,e,r,o,w[0],w[1]),isNaN(s))return!0;d+=s}s=Kt.Np(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],c,e,a,e,.5),d+=s}null!==w&&(l=w[6],u=w[7]);break;default:x("Unknown Segment type: "+w.type)}r=l,o=u}if(0!==d)return!0;d=0}else if(m.ea(a,e,i?t:t+2))return!0}return 0!==d},n.cv=function(e,t){if(e<0?e=0:e>1&&(e=1),void 0===t&&(t=new ge),this.type===ln)return t.h(this.startX+e*(this.endX-this.startX),this.startY+e*(this.endY-this.startY)),t;for(var n=this.flattenedSegments,i=this.flattenedLengths,a=n.length,r=this.flattenedTotalLength*e,o=0,s=0;s<a;s++){var l=i[s],u=l.length;for(e=0;e<u;e++){var c=l[e];if(o+c>=r)return i=(r-o)/c,n=n[s],a=n[2*e],s=n[2*e+1],t.h(a+(n[2*e+2]-a)*i,s+(n[2*e+3]-s)*i),t;o+=c}}return t.h(NaN,NaN),t},n.mx=function(e){if(this.type===ln){var t=this.startX,n=this.startY,i=this.endX,a=this.endY;if(t!==i||n!==a){var r=e.x;if(e=e.y,t===i){if(n<a){var o=n;i=a}else o=a,i=n;return e<=o?o===n?0:1:e>=i?i===n?0:1:Math.abs(e-n)/(i-o)}return n===a?(t<i?o=t:(o=i,i=t),r<=o?o===t?0:1:r>=i?i===t?0:1:Math.abs(r-t)/(i-o)):((r-t)*(r-t)+(e-n)*(e-n))/((i-t)*(i-t)+(a-n)*(a-n))}}else{if(this.type!==un){t=this.flattenedSegments,n=this.flattenedLengths,r=this.flattenedTotalLength,i=ge.alloc(),a=1/0,g=o=0,v=t.length;for(var s=y=0,l=0;l<v;l++)for(var u=t[l],c=n[l],d=u.length,h=0;h<d;h+=2){var f=u[h],p=u[h+1];if(0!==h){Kt.Qi(y,s,f,p,e.x,e.y,i);var m=(i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y);m<a&&(a=m,o=g,o+=Math.sqrt((i.x-y)*(i.x-y)+(i.y-s)*(i.y-s))),g+=c[(h-2)/2]}y=f,s=p}return ge.free(i),e=o/r,e<0?0:e>1?1:e}o=this.startX;var g=this.startY,v=this.endX;if(a=this.endY,o!==v||g!==a){t=v-o,n=a-g,r=2*t+2*n,i=e.x,e=e.y,i=Math.min(Math.max(i,o),v),e=Math.min(Math.max(e,g),a),o=Math.abs(i-o),v=Math.abs(i-v),g=Math.abs(e-g),a=Math.abs(e-a);var y=Math.min(o,v,g,a);if(y===g)return i/r;if(y===v)return(t+e)/r;if(y===a)return(2*t+n-i)/r;if(y===o)return(2*t+2*n-e)/r}}return 0},n.add=function(e){return this.gj.add(e),this},n.xm=function(e,t,n,i,a,r,o,s){return this.v&&C(this),this.bf=new $t(e,t,a,r).freeze(),this.cf=new $t(n,i,o,s).freeze(),this},p.Object.defineProperties(Jt.prototype,{flattenedSegments:{get:function(){return on(this),this.xk}},flattenedLengths:{get:function(){return on(this),this.Nm}},flattenedTotalLength:{get:function(){var e=this.Om;if(isNaN(e)){if(this.type===ln){e=Math.abs(this.endX-this.startX);var t=Math.abs(this.endY-this.startY);e=Math.sqrt(e*e+t*t)}else if(this.type===un)e=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else{t=this.flattenedLengths;for(var n=t.length,i=e=0;i<n;i++)for(var a=t[i],r=a.length,o=0;o<r;o++)e+=a[o]}this.Om=e}return e}},type:{get:function(){return this.va},set:function(e){this.va!==e&&(this.v&&C(this,e),this.va=e,this.ra=!0)}},startX:{get:function(){return this.ad},set:function(e){this.ad!==e&&(this.v&&C(this,e),this.ad=e,this.ra=!0)}},startY:{get:function(){return this.bd},set:function(e){this.bd!==e&&(this.v&&C(this,e),this.bd=e,this.ra=!0)}},endX:{get:function(){return this.mc},set:function(e){this.mc!==e&&(this.v&&C(this,e),this.mc=e,this.ra=!0)}},endY:{get:function(){return this.Bc},set:function(e){this.Bc!==e&&(this.v&&C(this,e),this.Bc=e,this.ra=!0)}},figures:{get:function(){return this.gj},set:function(e){this.gj!==e&&(this.v&&C(this,e),this.gj=e,this.ra=!0)}},spot1:{get:function(){return this.bf},set:function(e){this.v&&C(this,e),this.bf=e.I()}},spot2:{get:function(){return this.cf},set:function(e){this.v&&C(this,e),this.cf=e.I()}},defaultStretch:{get:function(){return this.Df},set:function(e){this.v&&C(this,e),this.Df=e}},bounds:{get:function(){return this.lv()&&this.computeBounds(),this.Qq}}}),Jt.prototype.setSpots=Jt.prototype.xm,Jt.prototype.add=Jt.prototype.add,Jt.prototype.getFractionForPoint=Jt.prototype.mx,Jt.prototype.getPointAlongPath=Jt.prototype.cv,Jt.prototype.transform=Jt.prototype.transform,Jt.prototype.rotate=Jt.prototype.rotate,Jt.prototype.scale=Jt.prototype.scale,Jt.prototype.offset=Jt.prototype.offset,Jt.prototype.normalize=Jt.prototype.normalize,Jt.prototype.computeBoundsWithoutOrigin=Jt.prototype.$w,Jt.prototype.equalsApprox=Jt.prototype.Qa;var ln=new Y(Jt,"Line",0),un=new Y(Jt,"Rectangle",1),cn=new Y(Jt,"Ellipse",2),dn=new Y(Jt,"Path",3);function hn(e,t,n,i){oe(this),this.v=!1,void 0===n&&(n=!0),this.yr=n,void 0===i&&(i=!0),this.Cr=i,this.ad=void 0!==e?e:0,this.bd=void 0!==t?t:0,this.Bl=new ie,this.ss=this.Bl.Ba,this.ra=!0}function fn(e,t,n,i,a,r,o,s){oe(this),this.v=!1,void 0===e&&(e=vn),this.va=e,this.mc=void 0!==t?t:0,this.Bc=void 0!==n?n:0,void 0===i&&(i=0),void 0===a&&(a=0),void 0===r&&(r=0),void 0===o&&(o=0),e===wn?(e=r%360,e<0&&(e+=360),this.se=e,this.mi=0,this.ni=Math.max(i,0),this.Zg=Math.max(a,0),this.il="boolean"===typeof o&&!!o,this.Ek=!!s):(this.se=i,this.mi=a,e===An&&(r=Math.max(r,0)),this.ni=r,"number"===typeof o?(e===An&&(o=Math.max(o,0)),this.Zg=o):this.Zg=0,this.Ek=this.il=!1),this.lj=!1,this.ra=!0,this.Ke=null}function pn(e,t){if(null!==e.Ke&&!1===t.ra)return e.Ke;var n=e.radiusX,i=e.radiusY;if(void 0===i&&(i=n),0===n||0===i)return e.Ke=[],e.Ke;t=e.se;var a=e.mi,r=Kt.ax(0,0,n<i?n:i,e.startAngle,e.startAngle+e.sweepAngle,!1);if(n!==i){var o=st.alloc();o.reset(),n<i?o.scale(1,i/n):o.scale(n/i,1),tn(r,o),st.free(o)}for(n=r.length,i=0;i<n;i++)o=r[i],o[0]+=t,o[1]+=a,o[2]+=t,o[3]+=a,o[4]+=t,o[5]+=a,o[6]+=t,o[7]+=a;return e.Ke=r,e.Ke}function mn(e,t,n,i){function a(e,t,n,i){return(e*i<t*n?-1:1)*Math.acos((e*n+t*i)/(Math.sqrt(e*e+t*t)*Math.sqrt(n*n+i*i)))}if(null!==e.Ke&&!1===t.ra)return e.Ke;t=e.ni;var r=e.Zg;0===t&&(t=1e-4),0===r&&(r=1e-4);var o=Math.PI/180*e.se,s=e.il,l=e.Ek,u=e.mc,c=e.Bc,d=Math.cos(o),h=Math.sin(o),f=d*(n-u)/2+h*(i-c)/2;o=-h*(n-u)/2+d*(i-c)/2;var p=f*f/(t*t)+o*o/(r*r);return p>1&&(t*=Math.sqrt(p),r*=Math.sqrt(p)),p=(s===l?-1:1)*Math.sqrt((t*t*r*r-t*t*o*o-r*r*f*f)/(t*t*o*o+r*r*f*f)),isNaN(p)&&(p=0),s=p*t*o/r,p=p*-r*f/t,isNaN(s)&&(s=0),isNaN(p)&&(p=0),n=(n+u)/2+d*s-h*p,i=(i+c)/2+h*s+d*p,c=a(1,0,(f-s)/t,(o-p)/r),d=(f-s)/t,u=(o-p)/r,f=(-f-s)/t,s=(-o-p)/r,o=a(d,u,f,s),f=(d*f+u*s)/(Math.sqrt(d*d+u*u)*Math.sqrt(f*f+s*s)),f<=-1?o=Math.PI:f>=1&&(o=0),!l&&o>0&&(o-=2*Math.PI),l&&o<0&&(o+=2*Math.PI),l=t>r?1:t/r,f=t>r?r/t:1,t=Kt.ax(0,0,t>r?t:r,c,c+o,!0),r=st.alloc(),r.reset(),r.translate(n,i),r.rotate(e.se,0,0),r.scale(l,f),tn(t,r),st.free(r),e.Ke=t,e.Ke}Jt.className="Geometry",Jt.stringify=Zt,Jt.fillPath=function(e){e=e.split(/[Xx]/);for(var t=e.length,n="",i=0;i<t;i++){var a=e[i];n=null!==a.match(/[Ff]/)?0===i?n+a:n+"X"+(" "===a[0]?"":" ")+a:n+(0===i?"":"X ")+"F"+(" "===a[0]?"":" ")+a}return n},Jt.parse=en,Jt.Line=ln,Jt.Rectangle=un,Jt.Ellipse=cn,Jt.Path=dn,hn.prototype.copy=function(){var e=new hn;e.yr=this.yr,e.Cr=this.Cr,e.ad=this.ad,e.bd=this.bd;for(var t=this.Bl.j,n=t.length,i=e.Bl,a=0;a<n;a++){var r=t[a].copy();i.add(r)}return e.ss=this.ss,e.ra=this.ra,e},n=hn.prototype,n.Qa=function(e){if(!(e instanceof hn&&Kt.w(this.startX,e.startX)&&Kt.w(this.startY,e.startY)))return!1;var t=this.segments.j;e=e.segments.j;var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(!t[i].Qa(e[i]))return!1;return!0},n.toString=function(e){void 0===e&&(e=-1);for(var t=e<0?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(e)+" "+this.startY.toFixed(e),n=this.segments.j,i=n.length,a=0;a<i;a++)t+=" "+n[a].toString(e);return t},n.freeze=function(){this.v=!0;var e=this.segments;e.freeze();var t=e.j;e=e.length;for(var n=0;n<e;n++)t[n].freeze();return this},n.ha=function(){this.v=!1;var e=this.segments;e.ha(),e=e.j;for(var t=e.length,n=0;n<t;n++)e[n].ha();return this},n.lv=function(){if(this.ra)return!0;var e=this.segments;if(this.ss!==e.Ba)return!0;e=e.j;for(var t=e.length,n=0;n<t;n++)if(e[n].ra)return!0;return!1},n.add=function(e){return this.Bl.add(e),this},n.ea=function(e,t,n){for(var i=this.startX,a=this.startY,r=i,o=a,s=this.segments.j,l=s.length,u=0;u<l;u++){var c=s[u];switch(c.type){case gn:r=c.endX,o=c.endY,i=c.endX,a=c.endY;break;case vn:if(Kt.Ub(i,a,c.endX,c.endY,n,e,t))return!0;i=c.endX,a=c.endY;break;case yn:if(Kt.Js(i,a,c.point1X,c.point1Y,c.point2X,c.point2Y,c.endX,c.endY,.5,e,t,n))return!0;i=c.endX,a=c.endY;break;case bn:if(Kt.uv(i,a,c.point1X,c.point1Y,c.endX,c.endY,.5,e,t,n))return!0;i=c.endX,a=c.endY;break;case An:case wn:var d=c.type===An?pn(c,this):mn(c,this,i,a),h=d.length;if(0===h){if(Kt.Ub(i,a,c.centerX,c.centerY,n,e,t))return!0;i=c.centerX,a=c.centerY;break}for(var f=null,p=0;p<h;p++)if(f=d[p],0===p&&Kt.Ub(i,a,f[0],f[1],n,e,t)||Kt.Js(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],.5,e,t,n))return!0;null!==f&&(i=f[6],a=f[7]);break;default:x("Unknown Segment type: "+c.type)}if(c.isClosed&&(i!==r||a!==o)&&Kt.Ub(i,a,r,o,n,e,t))return!0}return!1},p.Object.defineProperties(hn.prototype,{isFilled:{get:function(){return this.yr},set:function(e){this.v&&C(this,e),this.yr=e}},isShadowed:{get:function(){return this.Cr},set:function(e){this.v&&C(this,e),this.Cr=e}},startX:{get:function(){return this.ad},set:function(e){this.v&&C(this,e),this.ad=e,this.ra=!0}},startY:{get:function(){return this.bd},set:function(e){this.v&&C(this,e),this.bd=e,this.ra=!0}},segments:{get:function(){return this.Bl},set:function(e){this.v&&C(this,e),this.Bl=e,this.ra=!0}}}),hn.prototype.add=hn.prototype.add,hn.prototype.equalsApprox=hn.prototype.Qa,hn.className="PathFigure",fn.prototype.copy=function(){var e=new fn;return e.va=this.va,e.mc=this.mc,e.Bc=this.Bc,e.se=this.se,e.mi=this.mi,e.ni=this.ni,e.Zg=this.Zg,e.il=this.il,e.Ek=this.Ek,e.lj=this.lj,e.ra=this.ra,e},n=fn.prototype,n.Qa=function(e){if(!(e instanceof fn)||this.type!==e.type||this.isClosed!==e.isClosed)return!1;switch(this.type){case gn:case vn:return Kt.w(this.endX,e.endX)&&Kt.w(this.endY,e.endY);case yn:return Kt.w(this.endX,e.endX)&&Kt.w(this.endY,e.endY)&&Kt.w(this.point1X,e.point1X)&&Kt.w(this.point1Y,e.point1Y)&&Kt.w(this.point2X,e.point2X)&&Kt.w(this.point2Y,e.point2Y);case bn:return Kt.w(this.endX,e.endX)&&Kt.w(this.endY,e.endY)&&Kt.w(this.point1X,e.point1X)&&Kt.w(this.point1Y,e.point1Y);case An:return Kt.w(this.startAngle,e.startAngle)&&Kt.w(this.sweepAngle,e.sweepAngle)&&Kt.w(this.centerX,e.centerX)&&Kt.w(this.centerY,e.centerY)&&Kt.w(this.radiusX,e.radiusX)&&Kt.w(this.radiusY,e.radiusY);case wn:return this.isClockwiseArc===e.isClockwiseArc&&this.isLargeArc===e.isLargeArc&&Kt.w(this.xAxisRotation,e.xAxisRotation)&&Kt.w(this.endX,e.endX)&&Kt.w(this.endY,e.endY)&&Kt.w(this.radiusX,e.radiusX)&&Kt.w(this.radiusY,e.radiusY);default:return!1}},n.fb=function(e){e.classType===fn&&(this.type=e)},n.toString=function(e){switch(void 0===e&&(e=-1),this.type){case gn:e=e<0?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;case vn:e=e<0?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;case yn:e=e<0?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(e)+" "+this.point1Y.toFixed(e)+" "+this.point2X.toFixed(e)+" "+this.point2Y.toFixed(e)+" "+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;case bn:e=e<0?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(e)+" "+this.point1Y.toFixed(e)+" "+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;case An:e=e<0?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(e)+" "+this.sweepAngle.toFixed(e)+" "+this.centerX.toFixed(e)+" "+this.centerY.toFixed(e)+" "+this.radiusX.toFixed(e)+" "+this.radiusY.toFixed(e);break;case wn:e=e<0?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(e)+" "+this.radiusY.toFixed(e)+" "+this.xAxisRotation.toFixed(e)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;default:e=this.type.toString()}return e+(this.lj?"z":"")},n.freeze=function(){return this.v=!0,this},n.ha=function(){return this.v=!1,this},n.close=function(){return this.lj=!0,this},p.Object.defineProperties(fn.prototype,{isClosed:{get:function(){return this.lj},set:function(e){this.lj!==e&&(this.lj=e,this.ra=!0)}},type:{get:function(){return this.va},set:function(e){this.v&&C(this,e),this.va=e,this.ra=!0}},endX:{get:function(){return this.mc},set:function(e){this.v&&C(this,e),this.mc=e,this.ra=!0}},endY:{get:function(){return this.Bc},set:function(e){this.v&&C(this,e),this.Bc=e,this.ra=!0}},point1X:{get:function(){return this.se},set:function(e){this.v&&C(this,e),this.se=e,this.ra=!0}},point1Y:{get:function(){return this.mi},set:function(e){this.v&&C(this,e),this.mi=e,this.ra=!0}},point2X:{get:function(){return this.ni},set:function(e){this.v&&C(this,e),this.ni=e,this.ra=!0}},point2Y:{get:function(){return this.Zg},set:function(e){this.v&&C(this,e),this.Zg=e,this.ra=!0}},centerX:{get:function(){return this.se},set:function(e){this.v&&C(this,e),this.se=e,this.ra=!0}},centerY:{get:function(){return this.mi},set:function(e){this.v&&C(this,e),this.mi=e,this.ra=!0}},radiusX:{get:function(){return this.ni},set:function(e){e<0&&k(e,">= zero",fn,"radiusX"),this.v&&C(this,e),this.ni=e,this.ra=!0}},radiusY:{get:function(){return this.Zg},set:function(e){e<0&&k(e,">= zero",fn,"radiusY"),this.v&&C(this,e),this.Zg=e,this.ra=!0}},startAngle:{get:function(){return this.mc},set:function(e){this.mc!==e&&(this.v&&C(this,e),e%=360,e<0&&(e+=360),this.mc=e,this.ra=!0)}},sweepAngle:{get:function(){return this.Bc},set:function(e){this.v&&C(this,e),e>360&&(e=360),e<-360&&(e=-360),this.Bc=e,this.ra=!0}},isClockwiseArc:{get:function(){return this.Ek},set:function(e){this.v&&C(this,e),this.Ek=e,this.ra=!0}},isLargeArc:{get:function(){return this.il},set:function(e){this.v&&C(this,e),this.il=e,this.ra=!0}},xAxisRotation:{get:function(){return this.se},set:function(e){e%=360,e<0&&(e+=360),this.v&&C(this,e),this.se=e,this.ra=!0}}}),fn.prototype.equalsApprox=fn.prototype.Qa;var gn=new Y(fn,"Move",0),vn=new Y(fn,"Line",1),yn=new Y(fn,"Bezier",2),bn=new Y(fn,"QuadraticBezier",3),An=new Y(fn,"Arc",4),wn=new Y(fn,"SvgArc",4);function xn(){this.C=null,this.Cu=new ge(0,0).freeze(),this.Tt=new ge(0,0).freeze(),this.Jq=this.Rr=0,this.Kq=1,this.Gr="",this.Es=this.ar=!1,this.$q=this.Mq=0,this.Ag=this.nr=this.Ar=!1,this.gr=null,this.Cs=0,this.Qd=this.Bs=null}function Cn(){this.C=null,this.Ua="",this.es=this.zs=null}function kn(){this.Wm=Tn,this.Dj=this.Qr="",this.zo=this.Ao=this.Fo=this.Go=this.Eo=this.C=this.$b=null}fn.className="PathSegment",fn.Move=gn,fn.Line=vn,fn.Bezier=yn,fn.QuadraticBezier=bn,fn.Arc=An,fn.SvgArc=wn,xn.prototype.copy=function(){var e=new xn;return this.clone(e)},xn.prototype.clone=function(e){return e.C=this.C,e.Cu.assign(this.viewPoint),e.Tt.assign(this.documentPoint),e.Rr=this.Rr,e.Jq=this.Jq,e.Kq=this.Kq,e.Gr=this.Gr,e.ar=this.ar,e.Es=this.Es,e.Mq=this.Mq,e.$q=this.$q,e.Ar=this.Ar,e.nr=this.nr,e.Ag=this.Ag,e.gr=this.gr,e.Cs=this.Cs,e.Bs=this.Bs,e.Qd=this.Qd,e},xn.prototype.toString=function(){var e="^";return 0!==this.modifiers&&(e+="M:"+this.modifiers),0!==this.button&&(e+="B:"+this.button),""!==this.key&&(e+="K:"+this.key),0!==this.clickCount&&(e+="C:"+this.clickCount),0!==this.delta&&(e+="D:"+this.delta),this.handled&&(e+="h"),this.bubbles&&(e+="b"),null!==this.documentPoint&&(e+="@"+this.documentPoint.toString()),e},xn.prototype.Wp=function(e,t){var n=this.diagram;return null===n||ir(n,this.event,e,t),t},xn.prototype.dz=function(e,t){var n=this.diagram;return null===n||(ir(n,this.event,e,t),t.assign(n.yt(t))),t},p.Object.defineProperties(xn.prototype,{diagram:{get:function(){return this.C},set:function(e){this.C=e}},viewPoint:{get:function(){return this.Cu},set:function(e){this.Cu.assign(e)}},documentPoint:{get:function(){return this.Tt},set:function(e){this.Tt.assign(e)}},modifiers:{get:function(){return this.Rr},set:function(e){this.Rr=e}},button:{get:function(){return this.Jq},set:function(e){if(this.Jq=e,null===this.event)switch(e){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.Kq},set:function(e){this.Kq=e}},key:{get:function(){return this.Gr},set:function(e){this.Gr=e}},down:{get:function(){return this.ar},set:function(e){this.ar=e}},up:{get:function(){return this.Es},set:function(e){this.Es=e}},clickCount:{get:function(){return this.Mq},set:function(e){this.Mq=e}},delta:{get:function(){return this.$q},set:function(e){this.$q=e}},isMultiTouch:{get:function(){return this.Ar},set:function(e){this.Ar=e}},handled:{get:function(){return this.nr},set:function(e){this.nr=e}},bubbles:{get:function(){return this.Ag},set:function(e){this.Ag=e}},event:{get:function(){return this.gr},set:function(e){this.gr=e}},isTouchEvent:{get:function(){var e=v.TouchEvent,t=this.event;return!!(e&&t instanceof e)||(e=v.PointerEvent)&&t instanceof e&&("touch"===t.pointerType||"pen"===t.pointerType)}},timestamp:{get:function(){return this.Cs},set:function(e){this.Cs=e}},targetDiagram:{get:function(){return this.Bs},set:function(e){this.Bs=e}},targetObject:{get:function(){return this.Qd},set:function(e){this.Qd=e}},control:{get:function(){return 0!==(1&this.modifiers)},set:function(e){this.modifiers=e?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!==(4&this.modifiers)},set:function(e){this.modifiers=e?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!==(2&this.modifiers)},set:function(e){this.modifiers=e?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!==(8&this.modifiers)},set:function(e){this.modifiers=e?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var e=this.event;return null===e||"mousedown"!==e.type&&"mouseup"!==e.type&&"pointerdown"!==e.type&&"pointerup"!==e.type?0!==(1&this.buttons):0===this.button},set:function(e){this.buttons=e?1|this.buttons:-2&this.buttons}},right:{get:function(){var e=this.event;return null===e||"mousedown"!==e.type&&"mouseup"!==e.type&&"pointerdown"!==e.type&&"pointerup"!==e.type?0!==(2&this.buttons):2===this.button},set:function(e){this.buttons=e?2|this.buttons:-3&this.buttons}},middle:{get:function(){var e=this.event;return null===e||"mousedown"!==e.type&&"mouseup"!==e.type&&"pointerdown"!==e.type&&"pointerup"!==e.type?0!==(4&this.buttons):1===this.button},set:function(e){this.buttons=e?4|this.buttons:-5&this.buttons}}}),xn.prototype.getMultiTouchDocumentPoint=xn.prototype.dz,xn.prototype.getMultiTouchViewPoint=xn.prototype.Wp,xn.className="InputEvent",Cn.prototype.copy=function(){var e=new Cn;return e.C=this.C,e.Ua=this.Ua,e.zs=this.zs,e.es=this.es,e},Cn.prototype.toString=function(){var e="*"+this.name;return null!==this.subject&&(e+=":"+this.subject.toString()),null!==this.parameter&&(e+="("+this.parameter.toString()+")"),e},p.Object.defineProperties(Cn.prototype,{diagram:{get:function(){return this.C},set:function(e){this.C=e}},name:{get:function(){return this.Ua},set:function(e){this.Ua=e}},subject:{get:function(){return this.zs},set:function(e){this.zs=e}},parameter:{get:function(){return this.es},set:function(e){this.es=e}}}),Cn.className="DiagramEvent",kn.prototype.clear=function(){this.zo=this.Ao=this.Fo=this.Go=this.Eo=this.C=this.$b=null},kn.prototype.copy=function(){var e=new kn;e.Wm=this.Wm,e.Qr=this.Qr,e.Dj=this.Dj,e.$b=this.$b,e.C=this.C,e.Eo=this.Eo;var t=this.Go;return e.Go=N(t)&&"function"===typeof t.I?t.I():t,t=this.Fo,e.Fo=N(t)&&"function"===typeof t.I?t.I():t,t=this.Ao,e.Ao=N(t)&&"function"===typeof t.I?t.I():t,t=this.zo,e.zo=N(t)&&"function"===typeof t.I?t.I():t,e},kn.prototype.fb=function(e){e.classType===kn&&(this.change=e)},kn.prototype.toString=function(){var e="";return e=this.change===Sn?e+"* ":this.change===Tn?e+(null!==this.model?"!m":"!d"):e+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"===typeof this.propertyName&&(e+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(e+=" "+this.modelChange),e+=": ",this.change===Sn?null!==this.oldValue&&(e+=" "+this.oldValue):(null!==this.object&&(e+=R(this.object)),null!==this.oldValue&&(e+="  old: "+R(this.oldValue)),null!==this.oldParam&&(e+=" "+this.oldParam),null!==this.newValue&&(e+="  new: "+R(this.newValue)),null!==this.newParam&&(e+=" "+this.newParam)),e},kn.prototype.J=function(e){return e?this.oldValue:this.newValue},kn.prototype.fz=function(e){return e?this.oldParam:this.newParam},kn.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},kn.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.Rj(this,!0):null!==this.diagram&&this.diagram.Rj(this,!0))},kn.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},kn.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.Rj(this,!1):null!==this.diagram&&this.diagram.Rj(this,!1))},p.Object.defineProperties(kn.prototype,{model:{get:function(){return this.$b},set:function(e){this.$b=e}},diagram:{get:function(){return this.C},set:function(e){this.C=e}},change:{get:function(){return this.Wm},set:function(e){this.Wm=e}},modelChange:{get:function(){return this.Qr},set:function(e){this.Qr=e}},propertyName:{get:function(){return this.Dj},set:function(e){this.Dj=e}},isTransactionFinished:{get:function(){return this.Wm===Sn&&("CommittedTransaction"===this.Dj||"FinishedUndo"===this.Dj||"FinishedRedo"===this.Dj)}},object:{get:function(){return this.Eo},set:function(e){this.Eo=e}},oldValue:{get:function(){return this.Go},set:function(e){this.Go=e}},oldParam:{get:function(){return this.Fo},set:function(e){this.Fo=e}},newValue:{get:function(){return this.Ao},set:function(e){this.Ao=e}},newParam:{get:function(){return this.zo},set:function(e){this.zo=e}}}),kn.prototype.redo=kn.prototype.redo,kn.prototype.canRedo=kn.prototype.canRedo,kn.prototype.undo=kn.prototype.undo,kn.prototype.canUndo=kn.prototype.canUndo,kn.prototype.getParam=kn.prototype.fz,kn.prototype.getValue=kn.prototype.J,kn.prototype.clear=kn.prototype.clear;var Sn=new Y(kn,"Transaction",-1),Tn=new Y(kn,"Property",0),Nn=new Y(kn,"Insert",1),In=new Y(kn,"Remove",2);function Dn(){this.u=(new ie).freeze(),this.Ua="",this.l=!1}function Pn(){this.ju=new re,this.Dc=!1,this.K=(new ie).freeze(),this.fe=-1,this.u=999,this.ie=!1,this.Yq=null,this.yi=0,this.l=!1,this.pe=(new ie).freeze(),this.sl=new ie,this.$t=!0,this.du=!1}function Ln(e,t,n){if(e.isUndoingRedoing)return!1;e.checksTransactionLevel&&e.transactionLevel<1&&S("Ending transaction without having started a transaction: "+n);var i=1===e.transactionLevel;i&&t&&e.yb("CommittingTransaction",n,e.currentTransaction);var a=0;if(e.transactionLevel>0&&(e.yi--,e.isEnabled)){var r=e.pe.count;r>0&&(""===n&&(n=e.pe.N(0)),e.pe.ha(),e.pe.mb(r-1),e.pe.freeze()),r=e.sl.count,r>0&&(a=e.sl.N(r-1),e.sl.mb(r-1))}if(r=e.currentTransaction,i){if(t){if(e.du=!1,e.isEnabled&&null!==r){for(t=r,t.isComplete=!0,t.name=n,i=e.history,i.ha(),a=i.count-1;a>e.historyIndex;a--)r=i.N(a),null!==r&&r.clear(),i.mb(a),e.du=!0;a=e.maxHistoryLength,a>=0&&(0===a?i.clear():i.count>=a&&(r=i.N(0),null!==r&&r.clear(),i.mb(0),e.fe--)),0!==a&&(i.add(t),e.fe++),i.freeze(),r=t}e.yb("CommittedTransaction",n,r)}else{e.ie=!0;try{e.isEnabled&&null!==r&&(r.isComplete=!0,r.undo())}finally{e.yb("RolledBackTransaction",n,r),e.ie=!1}null!==r&&r.clear()}return e.Yq=null,!0}if(e.isEnabled&&!t&&null!==r){for(e=a,n=r.changes,t=n.count-1;t>=e;t--)i=n.N(t),null!==i&&i.undo(),n.ha(),n.mb(t);n.freeze()}return!1}function On(){oe(this),this.C=lo,this.Ua="",this.Dc=!0,this.Vb=!1,this.dw=null,this.ey=new xn,this.Hs=-1}function Mn(e,t,n){if(t.handled=!1,null===e||e.rg()){var i=0;t.left?i=1===t.clickCount?1:2===t.clickCount?2:1:t.right&&1===t.clickCount&&(i=3);var a="ObjectSingleClicked";if(null!==e){switch(i){case 1:a="ObjectSingleClicked";break;case 2:a="ObjectDoubleClicked";break;case 3:a="ObjectContextClicked"}0!==i&&n.aa(a,e)}else{switch(i){case 1:a="BackgroundSingleClicked";break;case 2:a="BackgroundDoubleClicked";break;case 3:a="BackgroundContextClicked"}0!==i&&n.aa(a)}if(null!==e)for(;null!==e;){switch(n=null,i){case 1:n=e.click;break;case 2:n=e.doubleClick?e.doubleClick:e.click;break;case 3:n=e.contextClick}if(null!==n&&(n(t,e),t.handled))break;e=e.panel}else{switch(e=null,i){case 1:e=n.click;break;case 2:e=n.doubleClick?n.doubleClick:n.click;break;case 3:e=n.contextClick}null!==e&&e(t)}}}function En(){On.call(this),this.name="ToolManager",this.Kc=new ie,this.Vc=new ie,this.wg=new ie,this.ba=this.La=850,this.u=new Be(2,2).ga(),this.Wb=5e3,this.Ma=Bn,this.K=Fn,this.Xq=this.l=null,this.Kj=-1}function Rn(e,t){e.standardMouseOver(),e.isBeyondDragSize()&&e.standardWaitAfter(e.isActive?e.holdDelay:e.hoverDelay,t.lastInput)}function jn(e,t,n,i){null!==n&&(n.name=t,n.hb(e.diagram)),e.findTool(t)?e.replaceTool(t,n):null!==n&&i.add(n)}kn.className="ChangedEvent",kn.Transaction=Sn,kn.Property=Tn,kn.Insert=Nn,kn.Remove=In,Dn.prototype.toString=function(e){var t="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==e&&e>0){e=this.changes.count;for(var n=0;n<e;n++){var i=this.changes.N(n);null!==i&&(t+="\n  "+i.toString())}}return t},Dn.prototype.clear=function(){var e=this.changes;e.ha();for(var t=e.count-1;t>=0;t--){var n=e.N(t);null!==n&&n.clear()}e.clear(),e.freeze()},Dn.prototype.canUndo=function(){return this.isComplete},Dn.prototype.undo=function(){if(this.canUndo())for(var e=this.changes.count-1;e>=0;e--){var t=this.changes.N(e);null!==t&&t.undo()}},Dn.prototype.canRedo=function(){return this.isComplete},Dn.prototype.redo=function(){if(this.canRedo())for(var e=this.changes.count,t=0;t<e;t++){var n=this.changes.N(t);null!==n&&n.redo()}},p.Object.defineProperties(Dn.prototype,{changes:{get:function(){return this.u}},name:{get:function(){return this.Ua},set:function(e){this.Ua=e}},isComplete:{get:function(){return this.l},set:function(e){this.l=e}}}),Dn.prototype.redo=Dn.prototype.redo,Dn.prototype.canRedo=Dn.prototype.canRedo,Dn.prototype.undo=Dn.prototype.undo,Dn.prototype.canUndo=Dn.prototype.canUndo,Dn.prototype.clear=Dn.prototype.clear,Dn.className="Transaction",Pn.prototype.toString=function(e){var t="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;t+="[";for(var n=this.nestedTransactionNames.count,i=0;i<n;i++)i>0&&(t+=" "),t+=this.nestedTransactionNames.N(i);if(t+="]",void 0!==e&&e>0)for(n=this.history.count,i=0;i<n;i++)t+="\n "+this.history.N(i).toString(e-1);return t},Pn.prototype.clear=function(){var e=this.history;e.ha();for(var t=e.count-1;t>=0;t--){var n=e.N(t);null!==n&&n.clear()}e.clear(),this.fe=-1,e.freeze(),this.ie=!1,this.Yq=null,this.yi=0,this.pe.ha(),this.pe.clear(),this.pe.freeze(),this.sl.clear()},Pn.prototype.copyProperties=function(e){this.isEnabled=e.isEnabled,this.maxHistoryLength=e.maxHistoryLength,this.checksTransactionLevel=e.checksTransactionLevel},n=Pn.prototype,n.Sw=function(e){this.ju.add(e)},n.Bx=function(e){this.ju.remove(e)},n.Aa=function(e){if(void 0===e&&(e=""),null===e&&(e=""),this.isUndoingRedoing)return!1;!0===this.$t&&(this.$t=!1,this.yi++,this.yb("StartingFirstTransaction",e,this.currentTransaction),this.yi>0&&this.yi--),this.isEnabled&&(this.pe.ha(),this.pe.add(e),this.pe.freeze(),null===this.currentTransaction?this.sl.add(0):this.sl.add(this.currentTransaction.changes.count)),this.yi++;var t=1===this.transactionLevel;return t&&this.yb("StartedTransaction",e,this.currentTransaction),t},n.Za=function(e){return void 0===e&&(e=""),Ln(this,!0,e)},n.uf=function(){return Ln(this,!1,"")},Pn.prototype.canUndo=function(){if(!this.isEnabled||this.transactionLevel>0)return!1;var e=this.transactionToUndo;return!(null===e||!e.canUndo())},Pn.prototype.undo=function(){if(this.canUndo()){var e=this.transactionToUndo;try{this.ie=!0,this.yb("StartingUndo","Undo",e),this.fe--,e.undo()}catch(t){S("undo error: "+t.toString())}finally{this.yb("FinishedUndo","Undo",e),this.ie=!1}}},Pn.prototype.canRedo=function(){if(!this.isEnabled||this.transactionLevel>0)return!1;var e=this.transactionToRedo;return!(null===e||!e.canRedo())},Pn.prototype.redo=function(){if(this.canRedo()){var e=this.transactionToRedo;try{this.ie=!0,this.yb("StartingRedo","Redo",e),this.fe++,e.redo()}catch(t){S("redo error: "+t.toString())}finally{this.yb("FinishedRedo","Redo",e),this.ie=!1}}},Pn.prototype.yb=function(e,t,n){void 0===n&&(n=null);var i=new kn;for(i.change=Sn,i.propertyName=e,i.object=n,i.oldValue=t,e=this.models;e.next();)t=e.value,i.model=t,t.Ks(i)},Pn.prototype.fv=function(e){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(e)){var t=this.currentTransaction;null===t&&(this.Yq=t=new Dn);var n=e.copy();t=t.changes,t.ha(),t.add(n),t.freeze(),this.checksTransactionLevel&&this.transactionLevel<=0&&!this.$t&&(e=e.diagram,null!==e&&!1===e.Oi||S("Change not within a transaction: "+n.toString()))}},Pn.prototype.skipsEvent=function(e){if(null===e||e.change.value<0)return!0;if(e=e.object,void 0!==e.layer){if(e=e.layer,null!==e&&e.isTemporary)return!0}else if(e.isTemporary)return!0;return!1},p.Object.defineProperties(Pn.prototype,{models:{get:function(){return this.ju.iterator}},isEnabled:{get:function(){return this.Dc},set:function(e){this.Dc=e}},transactionToUndo:{get:function(){return this.historyIndex>=0&&this.historyIndex<=this.history.count-1?this.history.N(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.N(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.ie}},history:{get:function(){return this.K}},maxHistoryLength:{get:function(){return this.u},set:function(e){this.u=e}},historyIndex:{get:function(){return this.fe}},currentTransaction:{get:function(){return this.Yq}},transactionLevel:{get:function(){return this.yi}},isInTransaction:{get:function(){return this.yi>0}},checksTransactionLevel:{get:function(){return this.l},set:function(e){this.l=e}},nestedTransactionNames:{get:function(){return this.pe}}}),Pn.prototype.handleChanged=Pn.prototype.fv,Pn.prototype.redo=Pn.prototype.redo,Pn.prototype.undo=Pn.prototype.undo,Pn.prototype.canUndo=Pn.prototype.canUndo,Pn.prototype.rollbackTransaction=Pn.prototype.uf,Pn.prototype.commitTransaction=Pn.prototype.Za,Pn.prototype.startTransaction=Pn.prototype.Aa,Pn.prototype.removeModel=Pn.prototype.Bx,Pn.prototype.addModel=Pn.prototype.Sw,Pn.prototype.clear=Pn.prototype.clear,Pn.className="UndoManager",On.prototype.hb=function(e){this.C=e},On.prototype.toString=function(){return""!==this.name?this.name+" Tool":E(this.constructor)},On.prototype.updateAdornments=function(){},On.prototype.canStart=function(){return this.isEnabled},On.prototype.doStart=function(){},On.prototype.doActivate=function(){this.isActive=!0},On.prototype.doDeactivate=function(){this.isActive=!1},On.prototype.doStop=function(){},On.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},On.prototype.stopTool=function(){var e=this.diagram;e.currentTool===this&&(e.currentTool=null,e.currentCursor="")},On.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},On.prototype.doMouseMove=function(){},On.prototype.doMouseUp=function(){this.stopTool()},On.prototype.doMouseWheel=function(){},On.prototype.canStartMultiTouch=function(){return!0},On.prototype.standardPinchZoomStart=function(){var e=this.diagram,t=e.lastInput,n=t.Wp(0,ge.allocAt(NaN,NaN)),i=t.Wp(1,ge.allocAt(NaN,NaN));if(n.o()&&i.o()&&(this.doCancel(),e.bm("hasGestureZoom"))){e.Ho=e.scale;var a=i.x-n.x,r=i.y-n.y;e.Iw=Math.sqrt(a*a+r*r),t.bubbles=!1}ge.free(n),ge.free(i)},On.prototype.standardPinchZoomMove=function(){var e=this.diagram,t=e.lastInput,n=t.Wp(0,ge.allocAt(NaN,NaN)),i=t.Wp(1,ge.allocAt(NaN,NaN));if(n.o()&&i.o()&&(this.doCancel(),e.bm("hasGestureZoom"))){var a=i.x-n.x,r=i.y-n.y;r=Math.sqrt(a*a+r*r)/e.Iw,a=new ge((Math.min(i.x,n.x)+Math.max(i.x,n.x))/2,(Math.min(i.y,n.y)+Math.max(i.y,n.y))/2),r*=e.Ho;var o=e.commandHandler;if(r!==e.scale&&o.canResetZoom(r)){var s=e.zoomPoint;e.zoomPoint=a,o.resetZoom(r),e.zoomPoint=s}t.bubbles=!1}ge.free(n),ge.free(i)},On.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},On.prototype.doKeyUp=function(){},On.prototype.Aa=function(e){return void 0===e&&(e=this.name),this.transactionResult=null,this.diagram.Aa(e)},On.prototype.vg=function(){var e=this.diagram;return null===this.transactionResult?e.uf():e.Za(this.transactionResult)},On.prototype.standardMouseSelect=function(){var e=this.diagram;if(e.allowSelect){var t=e.lastInput,n=e.$l(t.documentPoint,!1);if(null!==n){if(Q?t.meta:t.control){for(e.aa("ChangingSelection",e.selection),t=n;null!==t&&!t.canSelect();)t=t.containingGroup;null!==t&&(t.isSelected=!t.isSelected),e.aa("ChangedSelection",e.selection)}else if(t.shift){if(!n.isSelected){for(e.aa("ChangingSelection",e.selection),t=n;null!==t&&!t.canSelect();)t=t.containingGroup;null!==t&&(t.isSelected=!0),e.aa("ChangedSelection",e.selection)}}else if(!n.isSelected){for(t=n;null!==t&&!t.canSelect();)t=t.containingGroup;null!==t&&e.select(t)}}else!t.left||(Q?t.meta:t.control)||t.shift||e.Ls()}},On.prototype.standardMouseClick=function(e,t){void 0===e&&(e=null),void 0===t&&(t=function(e){return!e.layer.isTemporary});var n=this.diagram,i=n.lastInput;return e=n.Sb(i.documentPoint,e,t),i.targetObject=e,Mn(e,i,n),i.handled},On.prototype.standardMouseOver=function(){var e=this.diagram,t=e.lastInput;if(!0!==e.animationManager.rb){var n=e.skipsUndoManager;e.skipsUndoManager=!0;var i=e.he?e.Sb(t.documentPoint,null,null):null;t.targetObject=i;var a=!1;if(i!==e.Jk){var r=e.Jk,o=r;for(e.Jk=i,this.doCurrentObjectChanged(r,i),t.handled=!1;null!==r;){var s=r.mouseLeave;if(null!==s){if(i===r)break;if(null!==i&&i.qg(r))break;if(s(t,r,i),a=!0,t.handled)break}r=r.panel}for(r=o,t.handled=!1;null!==i;){if(o=i.mouseEnter,null!==o){if(r===i)break;if(null!==r&&r.qg(i))break;if(o(t,i,r),a=!0,t.handled)break}i=i.panel}i=e.Jk}if(null!==i){for(r=i,o="";null!==r;){if(o=r.cursor,""!==o)break;r=r.panel}for(e.currentCursor=o,t.handled=!1,r=i;null!==r;){if(i=r.mouseOver,null!==i&&(i(t,r),a=!0,t.handled))break;r=r.panel}}else e.currentCursor="",i=e.mouseOver,null!==i&&(i(t),a=!0);a&&e.cc(),e.skipsUndoManager=n}},On.prototype.doCurrentObjectChanged=function(){},On.prototype.standardMouseWheel=function(){var e=this.diagram,t=e.lastInput,n=t.delta;if(0!==n&&e.documentBounds.o()){var i=e.commandHandler,a=e.toolManager.mouseWheelBehavior;if(null!==i&&(a===_n&&!t.shift||a===Bn&&t.control)&&(n>0?i.canIncreaseZoom():i.canDecreaseZoom()))a=e.zoomPoint,e.zoomPoint=t.viewPoint,n>0?i.increaseZoom():i.decreaseZoom(),e.zoomPoint=a,t.bubbles=!1;else if(a===_n&&t.shift||a===Bn&&!t.control){i=e.position.copy();var r=n>0?n:-n,o=t.event,s=o.deltaMode;if(a=o.deltaX,o=o.deltaY,(U||q||z)&&(s=1,a>0&&(a=3),a<0&&(a=-3),o>0&&(o=3),o<0&&(o=-3)),void 0===s||void 0===a||void 0===o||0===a&&0===o||t.shift)!t.shift&&e.allowVerticalScroll?(r=3*r*e.scrollVerticalLineChange,n>0?e.scroll("pixel","up",r):e.scroll("pixel","down",r)):t.shift&&e.allowHorizontalScroll&&(r=3*r*e.scrollHorizontalLineChange,n>0?e.scroll("pixel","left",r):e.scroll("pixel","right",r));else{switch(s){case 0:n="pixel";break;case 1:n="line";break;case 2:n="page";break;default:n="pixel"}0!==a&&e.allowHorizontalScroll&&(a>0?e.scroll(n,"left",-a):e.scroll(n,"right",a)),0!==o&&e.allowVerticalScroll&&(o>0?e.scroll(n,"up",-o):e.scroll(n,"down",o))}e.position.A(i)||(t.bubbles=!1)}}},On.prototype.standardWaitAfter=function(e,t){void 0===t&&(t=this.diagram.lastInput),this.cancelWaitAfter();var n=this,i=t.clone(this.ey);this.Hs=A((function(){n.doWaitAfter(i)}),e)},On.prototype.cancelWaitAfter=function(){-1!==this.Hs&&v.clearTimeout(this.Hs),this.Hs=-1},On.prototype.doWaitAfter=function(){},On.prototype.findToolHandleAt=function(e,t){return e=this.diagram.Sb(e,(function(e){for(;null!==e&&!(e.panel instanceof Oc);)e=e.panel;return e})),null===e?null:e.part.category===t?e:null},On.prototype.isBeyondDragSize=function(e,t){var n=this.diagram;void 0===e&&(e=n.firstInput.viewPoint),void 0===t&&(t=n.lastInput.viewPoint);var i=n.toolManager.dragSize,a=i.width;return i=i.height,n.firstInput.isTouchEvent&&(a+=6,i+=6),Math.abs(t.x-e.x)>a||Math.abs(t.y-e.y)>i},p.Object.defineProperties(On.prototype,{diagram:{get:function(){return this.C},set:function(e){e instanceof Pa&&(this.C=e)}},name:{get:function(){return this.Ua},set:function(e){this.Ua=e}},isEnabled:{get:function(){return this.Dc},set:function(e){this.Dc=e}},isActive:{get:function(){return this.Vb},set:function(e){this.Vb=e}},transactionResult:{get:function(){return this.dw},set:function(e){this.dw=e}}}),On.prototype.stopTransaction=On.prototype.vg,On.prototype.startTransaction=On.prototype.Aa,On.className="Tool",f(En,On),En.prototype.initializeStandardTools=function(){},En.prototype.updateAdornments=function(e){var t=this.currentToolTip;if(t instanceof Oc&&this.Xq===e){var n=t.adornedObject;(null!==e?n.part===e:null===n)?this.showToolTip(t,n):this.hideToolTip()}},En.prototype.doMouseDown=function(){var e=this.diagram,t=e.lastInput;if(t.isTouchEvent&&this.gestureBehavior===Un&&(t.bubbles=!1),t.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===qn)return void(t.bubbles=!0);if(this.gestureBehavior===Un)return;if(e.currentTool.canStartMultiTouch())return void e.currentTool.standardPinchZoomStart()}for(var n=this.mouseDownTools.length,i=0;i<n;i++){var a=this.mouseDownTools.N(i);if(a.hb(this.diagram),a.canStart())return e.doFocus(),e.currentTool=a,void(e.currentTool===a&&(a.isActive||a.doActivate(),a.doMouseDown()))}1===e.lastInput.button&&(this.mouseWheelBehavior===Bn?this.mouseWheelBehavior=_n:this.mouseWheelBehavior===_n&&(this.mouseWheelBehavior=Bn)),this.doActivate(),this.standardWaitAfter(this.holdDelay,t)},En.prototype.doMouseMove=function(){var e=this.diagram,t=e.lastInput;if(t.isMultiTouch){if(this.gestureBehavior===qn)return void(t.bubbles=!0);if(this.gestureBehavior===Un)return;if(e.currentTool.canStartMultiTouch())return void e.currentTool.standardPinchZoomMove()}if(this.isActive)for(var n=this.mouseMoveTools.length,i=0;i<n;i++){var a=this.mouseMoveTools.N(i);if(a.hb(this.diagram),a.canStart())return e.doFocus(),e.currentTool=a,void(e.currentTool===a&&(a.isActive||a.doActivate(),a.doMouseMove()))}Rn(this,e),e=t.event,null===e||"mousemove"!==e.type&&"pointermove"!==e.type&&e.cancelable||(t.bubbles=!0)},En.prototype.doCurrentObjectChanged=function(e,t){e=this.currentToolTip,null===e||null!==t&&e instanceof Oc&&(t===e||t.qg(e))||this.hideToolTip()},En.prototype.doWaitAfter=function(e){var t=this.diagram;t.Da&&(this.doMouseHover(),this.isActive||this.doToolTip(),e.isTouchEvent&&!t.lastInput.handled&&(e=e.copy(),e.button=2,e.buttons=2,t.lastInput=e,t.Ml=!0,t.doMouseUp()))},En.prototype.doMouseHover=function(){var e=this.diagram,t=e.lastInput;null===t.targetObject&&(t.targetObject=e.Sb(t.documentPoint,null,null));var n=t.targetObject;if(null!==n)for(t.handled=!1;null!==n;){if(e=this.isActive?n.mouseHold:n.mouseHover,null!==e&&(e(t,n),t.handled))break;n=n.panel}else n=this.isActive?e.mouseHold:e.mouseHover,null!==n&&n(t)},En.prototype.doToolTip=function(){var e=this.diagram,t=e.lastInput;if(null===t.targetObject&&(t.targetObject=e.Sb(t.documentPoint,null,null)),t=t.targetObject,null!==t){if(e=this.currentToolTip,!(e instanceof Oc)||t!==e&&!t.qg(e)){for(;null!==t;){if(e=t.toolTip,null!==e)return void this.showToolTip(e,t);t=t.panel}this.hideToolTip()}}else t=e.toolTip,null!==t?this.showToolTip(t,null):this.hideToolTip()},En.prototype.showToolTip=function(e,t){var n=this.diagram;if(e!==this.currentToolTip&&this.hideToolTip(),e instanceof Oc){e.layerName="Tool",e.selectable=!1,e.scale=1/n.scale,e.category="ToolTip",null!==e.placeholder&&(e.placeholder.scale=n.scale);var i=e.diagram;null!==i&&i!==n&&i.remove(e),n.add(e),null!==t?e.adornedObject=t:e.data=n.model,e.ac(),this.positionToolTip(e,t)}else e instanceof ji&&e!==this.currentToolTip&&e.show(t,n,this);if(this.currentToolTip=e,-1!==this.Kj&&(v.clearTimeout(this.Kj),this.Kj=-1),e=this.toolTipDuration,e>0&&1/0!==e){var a=this;this.Kj=A((function(){a.hideToolTip()}),e)}},En.prototype.positionToolTip=function(e){if(null===e.placeholder){var t=this.diagram,n=t.lastInput.documentPoint.copy(),i=e.measuredBounds,a=t.viewportBounds;t.lastInput.isTouchEvent&&(n.x-=i.width),n.x+i.width>a.right&&(n.x-=i.width+5/t.scale),n.x<a.x&&(n.x=a.x),n.y=n.y+20/t.scale+i.height>a.bottom?n.y-(i.height+5/t.scale):n.y+20/t.scale,n.y<a.y&&(n.y=a.y),e.position=n}},En.prototype.hideToolTip=function(){-1!==this.Kj&&(v.clearTimeout(this.Kj),this.Kj=-1);var e=this.diagram,t=this.currentToolTip;null!==t&&(t instanceof Oc?(e.remove(t),null!==this.Xq&&this.Xq.tf(t.category),t.data=null,t.adornedObject=null):t instanceof ji&&null!==t.hide&&t.hide(e,this),this.currentToolTip=null)},En.prototype.doMouseUp=function(){this.cancelWaitAfter();var e=this.diagram;if(this.isActive)for(var t=this.mouseUpTools.length,n=0;n<t;n++){var i=this.mouseUpTools.N(n);if(i.hb(this.diagram),i.canStart())return e.doFocus(),e.currentTool=i,void(e.currentTool===i&&(i.isActive||i.doActivate(),i.doMouseUp()))}e.doFocus(),this.doDeactivate()},En.prototype.doMouseWheel=function(){this.standardMouseWheel()},En.prototype.doKeyDown=function(){var e=this.diagram;null!==e.commandHandler&&e.commandHandler.doKeyDown()},En.prototype.doKeyUp=function(){var e=this.diagram;null!==e.commandHandler&&e.commandHandler.doKeyUp()},En.prototype.findTool=function(e){for(var t=this.mouseDownTools.length,n=0;n<t;n++){var i=this.mouseDownTools.N(n);if(i.name===e)return i}for(t=this.mouseMoveTools.length,n=0;n<t;n++)if(i=this.mouseMoveTools.N(n),i.name===e)return i;for(t=this.mouseUpTools.length,n=0;n<t;n++)if(i=this.mouseUpTools.N(n),i.name===e)return i;return null},En.prototype.replaceTool=function(e,t){null!==t&&t.hb(this.diagram);for(var n=this.mouseDownTools.length,i=0;i<n;i++){var a=this.mouseDownTools.N(i);if(a.name===e)return null!==t?this.mouseDownTools.gd(i,t):this.mouseDownTools.mb(i),a}for(n=this.mouseMoveTools.length,i=0;i<n;i++)if(a=this.mouseMoveTools.N(i),a.name===e)return null!==t?this.mouseMoveTools.gd(i,t):this.mouseMoveTools.mb(i),a;for(n=this.mouseUpTools.length,i=0;i<n;i++)if(a=this.mouseUpTools.N(i),a.name===e)return null!==t?this.mouseUpTools.gd(i,t):this.mouseUpTools.mb(i),a;return null},p.Object.defineProperties(En.prototype,{mouseWheelBehavior:{get:function(){return this.Ma},set:function(e){this.Ma=e}},gestureBehavior:{get:function(){return this.K},set:function(e){this.K=e}},currentToolTip:{get:function(){return this.l},set:function(e){this.l=e,this.Xq=null!==e&&e instanceof Oc?e.adornedPart:null}},mouseDownTools:{get:function(){return this.Kc}},mouseMoveTools:{get:function(){return this.Vc}},mouseUpTools:{get:function(){return this.wg}},hoverDelay:{get:function(){return this.La},set:function(e){this.La=e}},holdDelay:{get:function(){return this.ba},set:function(e){this.ba=e}},dragSize:{get:function(){return this.u},set:function(e){this.u=e.I()}},toolTipDuration:{get:function(){return this.Wb},set:function(e){this.Wb=e}}});var Bn=new Y(En,"WheelScroll",0),_n=new Y(En,"WheelZoom",1),Vn=new Y(En,"WheelNone",2),Fn=new Y(En,"GestureZoom",3),Un=new Y(En,"GestureCancel",4),qn=new Y(En,"GestureNone",5);function zn(){On.call(this),this.name="Dragging",this.K=this.Kc=!0,this.u=this.Ma=this.ba=this.bg=null,this.yn=this.Vc=!1,this.Hl=new ge(NaN,NaN),this.xs=new ge,this.Wb=!0,this.Qk=100,this.Hg=[],this.wg=(new re).freeze(),this.La=new Vo}function Qn(e,t){if(e.dragsLink){var n=e.diagram;n.allowRelink&&(n.model.ck()&&1===t.count&&t.first()instanceof id?(e.draggedLink=t.first(),e.draggedLink.canRelinkFrom()&&e.draggedLink.canRelinkTo()&&e.draggedLink.Sj(),e.bg=n.toolManager.findTool("Relinking"),null===e.bg&&(e.bg=new wi,e.bg.hb(n))):(e.draggedLink=null,e.bg=null))}}function $n(e){var t=e.diagram,n=t.skipsUndoManager;t.skipsUndoManager=!0,ti(e,t.lastInput,null),t.skipsUndoManager=n,e.Hg.length=0}function Hn(){var e=ci;Wn(e),Xn(e);var t=e.diagram;e.Hl.o()&&(t.position=e.Hl),t.vf()}function Gn(e,t){var n=1/0,i=1/0,a=-1/0,r=-1/0;for(e=e.iterator;e.next();){var o=e.value;if(o.Lb()&&o.isVisible()){var s=o.location;o=s.x,s=s.y,isNaN(o)||isNaN(s)||(o<n&&(n=o),s<i&&(i=s),o>a&&(a=o),s>r&&(r=s))}}1/0===n?t.h(0,0,0,0):t.h(n,i,a-n,r-i)}function Yn(e,t){if(null===e.copiedParts){var n=e.diagram;if((!t||!n.isReadOnly&&!n.isModelReadOnly)&&null!==e.draggedParts){var i=n.undoManager;for(i.isEnabled&&i.isInTransaction?null!==i.currentTransaction&&i.currentTransaction.changes.count>0&&(n.undoManager.uf(),n.Aa("Drag")):Xn(e),n.skipsUndoManager=!t,n.partManager.addsToTemporaryLayer=!t,e.startPoint=n.firstInput.documentPoint,t=e.copiesEffectiveCollection?e.draggedParts.Yd():n.selection,n=n.Xj(t,n,!0),t=n.iterator;t.next();)t.value.location=t.key.location;for(t=Ue.alloc(),Gn(n,t),Ue.free(t),t=new me,i=e.draggedParts.iterator;i.next();){var a=i.key;a.Lb()&&a.canCopy()&&(a=n.J(a),null!==a&&(a.ac(),t.add(a,e.pd(a.location))))}for(n=n.iterator;n.next();)i=n.value,i instanceof id&&i.canCopy()&&t.add(i,e.pd());e.copiedParts=t,Qn(e,t.Yd()),null!==e.draggedLink&&(n=e.draggedLink,t=n.routeBounds,od(n,e.startPoint.x-(t.x+t.width/2),e.startPoint.y-(t.y+t.height/2)))}}}function Wn(e){var t=e.diagram;if(null!==e.copiedParts&&(t.rt(e.copiedParts.Yd(),!1),e.copiedParts=null,null!==e.draggedParts))for(var n=e.draggedParts.iterator;n.next();)n.key instanceof id&&(n.value.point=new ge(0,0));t.skipsUndoManager=!1,t.partManager.addsToTemporaryLayer=!1,e.startPoint=t.firstInput.documentPoint}function Kn(e){if(null!==e.draggedLink){if(e.dragsLink&&null!==e.bg){var t=e.bg;t.diagram.remove(t.temporaryFromNode),t.diagram.remove(t.temporaryToNode)}e.draggedLink=null,e.bg=null}}function Jn(e,t,n){var i=e.diagram,a=e.startPoint,r=ge.alloc();r.assign(i.lastInput.documentPoint),e.moveParts(t,r.Xd(a),n),ge.free(r),!0===i.De("temporaryPixelRatio")&&null===i.jh&&i.Vw>30&&(Ra(i),i.ot())}function Xn(e){if(null!==e.draggedParts){for(var t=e.diagram,n=e.draggedParts.iterator;n.next();){var i=n.key;i.Lb()&&(i.location=n.value.point)}for(n=e.draggedParts.iterator;n.next();)if(i=n.key,i instanceof id&&i.suspendsRouting){var a=n.value.point;e.draggedParts.add(i,e.pd()),od(i,-a.x,-a.y)}t.fd()}}function Zn(e,t){return null===t||(t=t.part,!!(null===t||t instanceof Oc||t.layer.isTemporary||e.draggedParts&&e.draggedParts.contains(t)||e.copiedParts&&e.copiedParts.contains(t)))}function ei(e,t){var n=e.diagram;e.dragsLink&&(null!==e.draggedLink&&(e.draggedLink.fromNode=null,e.draggedLink.toNode=null),ai(e,!1));var i=Ha(n,t,null,(function(t){return!Zn(e,t)})),a=n.lastInput;a.targetObject=i;var r=n.skipsUndoManager,o=!1;try{if(n.skipsUndoManager=!0,o=ti(e,a,i),!e.isActive&&null===ci)return;if(null===i||n.handlesDragDropForTopLevelParts){var s=n.mouseDragOver;null!==s&&(s(a),o=!0)}if(!e.isActive&&null===ci)return;if(e.doDragOver(t,i),!e.isActive&&null===ci)return}finally{n.skipsUndoManager=r,o&&n.fd()}(n.allowHorizontalScroll||n.allowVerticalScroll)&&n.Os(a.viewPoint)}function ti(e,t,n){var i=!1,a=e.Hg.length,r=a>0?e.Hg[0]:null;if(n===r)return!1;t.handled=!1;for(var o=0;o<a;o++){var s=e.Hg[o],l=s.mouseDragLeave;if(null!==l&&(l(t,s,n),i=!0,t.handled))break}if(e.Hg.length=0,!e.isActive&&null===ci||null===n)return i;for(t.handled=!1,a=n;null!==a;)e.Hg.push(a),a=ni(a);for(a=e.Hg.length,n=0;n<a&&(o=e.Hg[n],s=o.mouseDragEnter,null===s||(s(t,o,r),i=!0,!t.handled));n++);return i}function ni(e){var t=e.panel;return null!==t?t:e instanceof lc&&!(e instanceof Jc)&&(e=e.containingGroup,null!==e&&e.handlesDragDropForMembers)?e:null}function ii(e,t,n){var i=e.bg;if(null===i)return null;var a=e.diagram.ng(t,i.portGravity,(function(e){return i.findValidLinkablePort(e,n)}));e=ge.alloc();var r=1/0,o=null;for(a=a.iterator;a.next();){var s=a.value;if(null!==s.part){var l=s.ma(ft,e);l=t.Be(l),l<r&&(o=s,r=l)}}return ge.free(e),o}function ai(e,t){var n=e.draggedLink;if(null!==n&&!(n.pointsCount<2)){var i=e.diagram;if(!i.isReadOnly){var a=e.bg;if(null!==a){var r=null,o=null;null===n.fromNode&&(r=ii(e,n.i(0),!1),null!==r&&(o=r.part));var s=null,l=null;null===n.toNode&&(s=ii(e,n.i(n.pointsCount-1),!0),null!==s&&(l=s.part)),a.isValidLink(o,r,l,s)?t?(n.defaultFromPoint=n.i(0),n.defaultToPoint=n.i(n.pointsCount-1),n.suspendsRouting=!1,n.fromNode=o,null!==r&&(n.fromPortId=r.portId),n.toNode=l,null!==s&&(n.toPortId=s.portId),n.fromPort!==i.vx&&i.aa("LinkRelinked",n,i.vx),n.toPort!==i.wx&&i.aa("LinkRelinked",n,i.wx)):xi(a,o,r,l,s):xi(a,null,null,null,null)}}}}function ri(e,t){var n=e.diagram;e.dragsLink&&ai(e,!0),$n(e);var i=Ha(n,t,null,(function(t){return!Zn(e,t)})),a=n.lastInput;if(a.targetObject=i,null!==i){a.handled=!1;for(var r=i;null!==r;){var o=r.mouseDrop;if(null!==o&&(o(a,r),a.handled))break;oi(e,a,r),r=ni(r)}}else r=n.mouseDrop,null!==r&&r(a);if(e.isActive||null!==ci){for(a=(e.copiedParts||e.draggedParts).iterator;a.next();)r=a.key,r instanceof Mc&&r.linksConnected.each((function(e){e.suspendsRouting=!1}));if(e.doDropOnto(t,i),e.isActive||null!==ci){for(t=Ue.alloc(),i=n.selection.iterator;i.next();)a=i.value,a instanceof Mc&&si(e,n,a,t);Ue.free(t)}}}function oi(e,t,n){e=e.diagram,n instanceof lc&&null===n.containingGroup&&!(n instanceof Jc)&&e.handlesDragDropForTopLevelParts&&(n=e.mouseDrop,null!==n&&n(t))}function si(e,t,n,i){var a=!1;for(n.getAvoidableRect(i),t.viewportBounds.lf(i)&&(a=!0),t=t.links,e=e.copiedParts||e.draggedParts;t.next();){var r=t.value;a&&!kc(r)||e.contains(r)&&e.contains(n)||!r.Vd(n)&&r.isAvoiding&&Ye(r.actualBounds,i,0)&&r.Ra()}}function li(e,t,n,i){if(null===e.copiedParts){var a=e.diagram;if(!a.isReadOnly&&!a.isModelReadOnly){a.skipsUndoManager=!n,a.partManager.addsToTemporaryLayer=!n,e.startPoint=i.documentPoint,n=a.Xj(t,a,!0);var r=Ue.alloc();Gn(t,r),i=r.x+r.width/2,a=r.y+r.height/2,Ue.free(r),r=e.xs;var o=new me,s=ge.alloc();for(t=t.iterator;t.next();){var l=t.value,u=n.J(l);l.Lb()&&l.canCopy()?(l=l.location,s.h(r.x-(i-l.x),r.y-(a-l.y)),u.location=s,u.ac(),o.add(u,e.pd(s))):u instanceof id&&l.canCopy()&&(od(u,r.x-i,r.y-a),o.add(u,e.pd()))}ge.free(s),e.copiedParts=o,Qn(e,o.Yd()),null!==e.draggedLink&&(n=e.draggedLink,i=n.routeBounds,od(n,e.startPoint.x-(i.x+i.width/2),e.startPoint.y-(i.y+i.height/2)))}}}En.className="ToolManager",En.WheelScroll=Bn,En.WheelZoom=_n,En.WheelNone=Vn,En.GestureZoom=Fn,En.GestureCancel=Un,En.GestureNone=qn,f(zn,On),zn.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(e.isReadOnly&&!e.allowDragOut||!e.allowMove&&!e.allowCopy&&!e.allowDragOut||!e.allowSelect)return!1;var t=e.lastInput;return!(!t.left||e.currentTool!==this&&(!this.isBeyondDragSize()||t.isTouchEvent&&t.timestamp-e.firstInput.timestamp<this.Qk))&&null!==this.findDraggablePart()},zn.prototype.findDraggablePart=function(){var e=this.diagram;if(e=e.$l(e.firstInput.documentPoint,!1),null===e)return null;for(;null!==e&&!e.canSelect();)e=e.containingGroup;return null!==e&&(e.canMove()||e.canCopy())?e:null},zn.prototype.standardMouseSelect=function(){var e=this.diagram;if(e.allowSelect){var t=e.$l(e.firstInput.documentPoint,!1);if(null!==t){for(;null!==t&&!t.canSelect();)t=t.containingGroup;this.currentPart=t,null===this.currentPart||this.currentPart.isSelected||(e.aa("ChangingSelection",e.selection),t=e.lastInput,(Q?t.meta:t.control)||t.shift||Dr(e),this.currentPart.isSelected=!0,e.aa("ChangedSelection",e.selection))}}},zn.prototype.doActivate=function(){var e=this.diagram;null===this.currentPart&&this.standardMouseSelect();var t=this.currentPart;null!==t&&(t.canMove()||t.canCopy())&&(ci=null,this.isActive=!0,this.Hl.set(e.position),Qn(this,e.selection),this.Hg.length=0,this.draggedParts=this.computeEffectiveCollection(e.selection,this.dragOptions),e.Ui=!0,!0===e.De("temporaryPixelRatio")&&e.Vw>30&&Ra(e),Cr(e,this.draggedParts),this.Aa("Drag"),this.startPoint=e.firstInput.documentPoint,e.isMouseCaptured=!0,e.allowDragOut&&(this.isDragOutStarted=!0,this.yn=!1,ci=this,di=this.diagram,this.doSimulatedDragOut()))},zn.prototype.computeEffectiveCollection=function(e,t){return this.diagram.commandHandler.computeEffectiveCollection(e,t)},zn.prototype.pd=function(e){return void 0===e?new Bo(Le):this.isGridSnapEnabled?new Bo(new ge(Math.round(e.x),Math.round(e.y))):new Bo(e.copy())},zn.prototype.doDeactivate=function(){this.isActive=!1;var e=this.diagram;if(e.vf(),$n(this),kr(e,this.draggedParts),this.draggedParts=this.currentPart=null,this.yn=this.isDragOutStarted=!1,ui.count>0){for(var t=ui,n=t.length,i=0;i<n;i++){var a=t.N(i);Kn(a),Wn(a),$n(a),a.diagram.vf()}t.clear()}Kn(this),this.Hl.h(NaN,NaN),ci=di=null,Wn(this),e.isMouseCaptured=!1,e.currentCursor="",e.Ui=!1,this.vg(),ja(e,!0)},zn.prototype.doCancel=function(){Wn(this),Xn(this);var e=this.diagram;this.Hl.o()&&(e.position=this.Hl),this.stopTool()},zn.prototype.doKeyDown=function(){this.isActive&&("Esc"===this.diagram.lastInput.key?this.doCancel():this.doMouseMove())},zn.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},zn.prototype.moveParts=function(e,t,n){var i=this.diagram;null!==i&&Ar(i,e,t,this.dragOptions,n)},zn.prototype.doDragOver=function(){},zn.prototype.doDropOnto=function(){},zn.prototype.doMouseMove=function(){if(this.isActive){var e=this.diagram,t=e.lastInput;this.simulatedMouseMove(t.event,null,t.targetDiagram||null)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(e.currentCursor="copy",Yn(this,!1),Cr(e,this.copiedParts),Jn(this,this.copiedParts,!1),kr(e,this.copiedParts)):this.mayMove()?(Wn(this),Jn(this,this.draggedParts,!0)):this.mayDragOut()?(e.currentCursor="no-drop",Yn(this,!1),Jn(this,this.copiedParts,!1)):Wn(this),ei(this,e.lastInput.documentPoint))}},zn.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram,t=e.lastInput;if(!this.simulatedMouseUp(t.event,null,t.documentPoint,t.targetDiagram)){var n=!1;if((t=this.mayCopy())&&null!==this.copiedParts?(Wn(this),Yn(this,!0),Cr(e,this.copiedParts),Jn(this,this.copiedParts,!1),kr(e,this.copiedParts),null!==this.copiedParts&&e.Gv(this.copiedParts.Yd())):(n=!0,Wn(this),this.mayMove()&&(Jn(this,this.draggedParts,!0),ei(this,e.lastInput.documentPoint))),this.yn=!0,ri(this,e.lastInput.documentPoint),this.isActive){var i=t?this.copiedParts.Yd():this.draggedParts.Yd();if(this.copiedParts=null,n&&null!==this.draggedParts)for(n=this.draggedParts.iterator;n.next();){var a=n.key;a instanceof Mc&&(a=a.containingGroup,null===a||null===a.placeholder||this.draggedParts.contains(a)||a.placeholder.s())}e.Xa(),kr(e,this.draggedParts),this.transactionResult=t?"Copy":"Move",e.aa(t?"SelectionCopied":"SelectionMoved",i)}this.stopTool()}}},zn.prototype.simulatedMouseMove=function(e,t,n){if(null===ci)return!1;var i=ci.diagram;n instanceof Pa||(n=null);var a=di;return n!==a&&(null!==a&&a!==i&&(a.vf(),ci.isDragOutStarted=!1,a=a.toolManager.findTool("Dragging"),null!==a&&a.doSimulatedDragLeave()),di=n,null!==n&&n!==i&&(Hn(),a=n.toolManager.findTool("Dragging"),null!==a&&(ui.contains(a)||ui.add(a),a.doSimulatedDragEnter()))),!(null===n||n===i||!n.allowDrop||n.isReadOnly||!n.allowInsert)&&(i=n.toolManager.findTool("Dragging"),null!==i&&(null!==e?(void 0!==e.targetTouches&&(e.targetTouches.length>0?e=e.targetTouches[0]:e.changedTouches.length>0&&(e=e.changedTouches[0])),t=n.getMouse(e)):null===t&&(t=new ge),n.lastInput.documentPoint=t,n.lastInput.viewPoint=n.xt(t),n.lastInput.down=!1,n.lastInput.up=!1,i.doSimulatedDragOver()),!0)},zn.prototype.simulatedMouseUp=function(e,t,n,i){if(null===ci)return!1;null===i&&(i=t),t=di;var a=ci.diagram;if(i!==t){var r=t.toolManager.findTool("Dragging");if(null!==t&&t!==a&&null!==r)return t.vf(),ci.isDragOutStarted=!1,r.doSimulatedDragLeave(),!1;di=i,t=i.toolManager.findTool("Dragging"),null!==i&&null!==t&&(Hn(),ui.contains(t)||ui.add(t),t.doSimulatedDragEnter())}return null===i?(ci.doCancel(),!0):i!==this.diagram&&(null!==e?(void 0!==e.targetTouches&&(e.targetTouches.length>0?e=e.targetTouches[0]:e.changedTouches.length>0&&(e=e.changedTouches[0])),n=i.getMouse(e)):null===n&&(n=new ge),i.lastInput.documentPoint=n,i.lastInput.viewPoint=i.xt(n),i.lastInput.down=!1,i.lastInput.up=!0,e=i.toolManager.findTool("Dragging"),null!==e&&e.doSimulatedDrop(),e=ci,null!==e&&(i=e.mayCopy(),e.transactionResult=i?"Copy":"Move",e.stopTool()),!0)},zn.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowCopy||(Q?!e.lastInput.alt:!e.lastInput.control))return!1;for(e=e.selection.iterator;e.next();){var t=e.value;if(t.Lb()&&t.canCopy())return!0}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},zn.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var e=this.diagram;if(!e.allowDragOut||!e.allowCopy||e.allowMove)return!1;for(e=e.selection.iterator;e.next();){var t=e.value;if(t.Lb()&&t.canCopy())return!0}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},zn.prototype.mayMove=function(){var e=this.diagram;if(e.isReadOnly||!e.allowMove)return!1;for(e=e.selection.iterator;e.next();){var t=e.value;if(t.Lb()&&t.canMove())return!0}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},zn.prototype.computeBorder=function(e,t,n){return this.yn||null===this.draggedParts||this.draggedParts.contains(e)?null:n.assign(t)},zn.prototype.az=function(){return ci},zn.prototype.mayDragIn=function(){var e=this.diagram;if(!e.allowDrop||e.isReadOnly||e.isModelReadOnly||!e.allowInsert)return!1;var t=ci;return null!==t&&t.diagram.model.dataFormat===e.model.dataFormat},zn.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var e=this.diagram;e.animationManager.vd(),or(e),e.animationManager.vd(),e=ci,null!==e&&(e.diagram.currentCursor="copy",e.diagram.Ui=!1)}},zn.prototype.doSimulatedDragLeave=function(){var e=ci;null!==e&&e.doSimulatedDragOut(),this.doCancel()},zn.prototype.doSimulatedDragOver=function(){var e=this.diagram,t=ci;null!==t&&null!==t.draggedParts&&this.mayDragIn()&&(e.currentCursor="copy",li(this,t.draggedParts.Yd(),!1,e.firstInput),Jn(this,this.copiedParts,!1),ei(this,e.lastInput.documentPoint))},zn.prototype.doSimulatedDrop=function(){var e=this.diagram,t=ci;if(null!==t){var n=t.diagram;t.yn=!0,Wn(this),this.mayDragIn()&&(this.Aa("Drop"),li(this,t.draggedParts.Yd(),!0,e.lastInput),Jn(this,this.copiedParts,!1),null!==this.copiedParts&&e.Gv(this.copiedParts.Yd()),ri(this,e.lastInput.documentPoint),e.Xa(),t=e.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":t=new re,this.copiedParts=null,e.doFocus(),e.aa("ExternalObjectsDropped",t,n),this.vg())}},zn.prototype.doSimulatedDragOut=function(){var e=this.diagram;e.Ui=!1,this.mayCopy()||this.mayMove()?e.currentCursor="":e.currentCursor="no-drop"},zn.prototype.computeMove=function(e,t,n,i){return n=this.diagram,null!==n?n.computeMove(e,t,this.dragOptions,i):new ge},p.Object.defineProperties(zn.prototype,{isCopyEnabled:{get:function(){return this.Kc},set:function(e){this.Kc=e}},copiesEffectiveCollection:{get:function(){return this.K},set:function(e){this.K=e}},dragOptions:{get:function(){return this.La},set:function(e){this.La=e}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(e){this.dragOptions.isGridSnapEnabled=e}},isComplexRoutingRealtime:{get:function(){return this.Wb},set:function(e){this.Wb=e}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(e){this.dragOptions.isGridSnapRealtime=e}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(e){null===this.diagram||this.dragOptions.gridSnapCellSize.A(e)||(e=e.I(),this.dragOptions.gridSnapCellSize=e)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(e){this.dragOptions.gridSnapCellSpot.A(e)||(e=e.I(),this.dragOptions.gridSnapCellSpot=e)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(e){this.dragOptions.gridSnapOrigin.A(e)||(e=e.I(),this.dragOptions.gridSnapOrigin=e)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(e){this.dragOptions.dragsLink=e}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(e){this.dragOptions.dragsTree=e}},currentPart:{get:function(){return this.ba},set:function(e){this.ba=e}},copiedParts:{get:function(){return this.u},set:function(e){this.u=e}},draggedParts:{get:function(){return this.Ma},set:function(e){this.Ma=e}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Yd():null!==this.draggedParts?this.draggedParts.Yd():this.wg}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(e){this.diagram.draggedLink=e}},isDragOutStarted:{get:function(){return this.Vc},set:function(e){this.Vc=e}},startPoint:{get:function(){return this.xs},set:function(e){this.xs.A(e)||this.xs.assign(e)}},delay:{get:function(){return this.Qk},set:function(e){this.Qk=e}}}),zn.prototype.getDraggingSource=zn.prototype.az;var ui=null,ci=null,di=null;function hi(){On.call(this),this.wg=100,this.ba=!1;var e=new id,t=new ou;t.isPanelMain=!0,t.stroke="blue",e.add(t),t=new ou,t.toArrow="Standard",t.fill="blue",t.stroke="blue",e.add(t),e.layerName="Tool",this.Gm=e,e=new Mc,t=new ou,t.portId="",t.figure="Rectangle",t.fill=null,t.stroke="magenta",t.strokeWidth=2,t.desiredSize=Se,e.add(t),e.selectable=!1,e.layerName="Tool",this.Em=e,this.Fm=t,e=new Mc,t=new ou,t.portId="",t.figure="Rectangle",t.fill=null,t.stroke="magenta",t.strokeWidth=2,t.desiredSize=Se,e.add(t),e.selectable=!1,e.layerName="Tool",this.wq=e,this.cw=t,this.Vc=this.Kc=this.Ma=this.La=this.Wb=null,this.K=!0,this.Sx=new me,this.Cm=this.ii=this.Dm=null}function fi(e,t,n,i){if(t===n)return!0;var a=t.fromNode;return!(null===a||!a.isLinkLabel||(i.add(a),!fi(e,a.labeledLink,n,i)))||(t=t.toNode,!(null===t||!t.isLinkLabel||(i.add(t),!fi(e,t.labeledLink,n,i))))}function pi(e,t,n,i,a){if(t===n)return!0;if(null===t||null===n)return!1;for(var r=t.linksConnected;r.next();){var o=r.value;if(o!==i&&(!a||o.isTreeLink)&&o.toNode===t&&(o=o.fromNode,o!==t&&pi(e,o,n,i,a)))return!0}return!1}function mi(e,t,n,i,a){if(n===i)return!0;if(null===n||null===i||t.contains(n))return!1;t.add(n);for(var r=n.linksConnected;r.next();){var o=r.value;if(o!==a&&o.toNode===n&&(o=o.fromNode,o!==n&&mi(e,t,o,i,a)))return!0}return!1}function gi(e,t,n,i,a){if(n===i)return!0;if(null===n||null===i||t.contains(n))return!1;t.add(n);for(var r=n.linksConnected;r.next();){var o=r.value;if(o!==a){var s=o.fromNode;if(o=o.toNode,s=s===n?o:s,s!==n&&gi(e,t,s,i,a))return!0}}return!1}function vi(){hi.call(this),this.name="Linking",this.u={},this.l=null,this.L=yi,this.Ch=null}zn.className="DraggingTool",ui=new ie,B("draggingTool",(function(){return this.findTool("Dragging")}),(function(e){jn(this,"Dragging",e,this.mouseMoveTools)})),En.prototype.doCancel=function(){null!==ci&&ci.doCancel(),On.prototype.doCancel.call(this)},f(hi,On),hi.prototype.doStop=function(){this.diagram.vf(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},hi.prototype.copyPortProperties=function(e,t,n,i,a){if(null!==e&&null!==t&&null!==n&&null!==i){var r=t.Ce(),o=Be.alloc();o.width=t.naturalBounds.width*r,o.height=t.naturalBounds.height*r,i.desiredSize=o,Be.free(o),a?(i.toSpot=t.toSpot,i.toEndSegmentLength=t.toEndSegmentLength):(i.fromSpot=t.fromSpot,i.fromEndSegmentLength=t.fromEndSegmentLength),n.locationSpot=ft,r=ge.alloc(),n.location=t.ma(ft,r),ge.free(r),i.angle=t.Ji(),null!==this.portTargeted&&this.portTargeted(e,t,n,i,a)}},hi.prototype.setNoTargetPortProperties=function(e,t,n){null!==t&&(t.desiredSize=Se,t.fromSpot=lt,t.toSpot=lt),null!==e&&(e.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,e,t,n)},hi.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},hi.prototype.doMouseMove=function(){if(this.isActive){var e=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof Mc){var t=this.targetPort.part;this.isForwards?this.copyPortProperties(t,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(t,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.Os(e.lastInput.viewPoint)}},hi.prototype.findValidLinkablePort=function(e,t){if(null===e)return null;var n=e.part;if(!(n instanceof Mc))return null;for(;null!==e;){var i=t?e.toLinkable:e.fromLinkable;if(!0===i&&(null!==e.portId||e instanceof Mc)&&(t?this.isValidTo(n,e):this.isValidFrom(n,e)))return e;if(!1===i)break;e=e.panel}return null},hi.prototype.findTargetPort=function(e){var t=this.diagram,n=t.lastInput.documentPoint,i=this.portGravity;i<=0&&(i=.1);var a=this,r=t.ng(n,i,(function(t){return a.findValidLinkablePort(t,e)}),null,!0);for(i=1/0,t=null,r=r.iterator;r.next();){var o=r.value,s=o.part;if(s instanceof Mc){var l=o.ma(ft,ge.alloc()),u=n.x-l.x,c=n.y-l.y;ge.free(l),l=u*u+c*c,l<i&&(u=this.validPortsCache.J(o),null!==u?u&&(t=o,i=l):e&&this.isValidLink(this.originalFromNode,this.originalFromPort,s,o)||!e&&this.isValidLink(s,o,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(o,!0),t=o,i=l):this.validPortsCache.add(o,!1))}}return null!==t&&(n=t.part,n instanceof Mc&&(null===n.layer||n.layer.allowLink))?t:null},hi.prototype.isValidFrom=function(e,t){if(null===e||null===t)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==e.layer&&!e.layer.allowLink||!0!==t.fromLinkable))return!1;var n=t.fromMaxLinks;if(1/0>n){if(null!==this.originalLink&&e===this.originalFromNode&&t===this.originalFromPort)return!0;if(t=t.portId,null===t&&(t=""),e.Sp(t).count>=n)return!1}return!0},hi.prototype.isValidTo=function(e,t){if(null===e||null===t)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==e.layer&&!e.layer.allowLink||!0!==t.toLinkable))return!1;var n=t.toMaxLinks;if(1/0>n){if(null!==this.originalLink&&e===this.originalToNode&&t===this.originalToPort)return!0;if(t=t.portId,null===t&&(t=""),e.sd(t).count>=n)return!1}return!0},hi.prototype.isInSameNode=function(e,t){return null!==e&&null!==t&&(e===t||(e=e.part,t=t.part,null!==e&&e===t))},hi.prototype.isLinked=function(e,t){if(null===e||null===t)return!1;var n=e.part;if(!(n instanceof Mc))return!1;e=e.portId,null===e&&(e="");var i=t.part;if(!(i instanceof Mc))return!1;for(t=t.portId,null===t&&(t=""),t=i.sd(t);t.next();)if(i=t.value,i.fromNode===n&&i.fromPortId===e)return!0;return!1},hi.prototype.isValidLink=function(e,t,n,i){if(!this.isValidFrom(e,t)||!this.isValidTo(n,i)||!(null===t||null===i||(t.fromLinkableSelfNode&&i.toLinkableSelfNode||!this.isInSameNode(t,i))&&(t.fromLinkableDuplicates&&i.toLinkableDuplicates||!this.isLinked(t,i)))||null!==this.originalLink&&(null!==e&&this.isLabelDependentOnLink(e,this.originalLink)||null!==n&&this.isLabelDependentOnLink(n,this.originalLink))||null!==e&&null!==n&&(null===e.data&&null!==n.data||null!==e.data&&null===n.data)||!this.isValidCycle(e,n,this.originalLink))return!1;if(null!==e){var a=e.linkValidation;if(null!==a&&!a(e,t,n,i,this.originalLink))return!1}return!(null!==n&&(a=n.linkValidation,null!==a&&!a(e,t,n,i,this.originalLink)))&&(a=this.linkValidation,null===a||a(e,t,n,i,this.originalLink))},hi.prototype.isLabelDependentOnLink=function(e,t){if(null===e)return!1;var n=e.labeledLink;if(null===n)return!1;if(n===t)return!0;var i=new re;return i.add(e),fi(this,n,t,i)},hi.prototype.isValidCycle=function(e,t,n){if(void 0===n&&(n=null),null===e||null===t)return this.isUnconnectedLinkValid;var i=this.diagram.validCycle;if(i!==bo){if(i===Co){if(i=n||this.temporaryLink,null!==i&&!i.isTreeLink)return!0;for(i=t.linksConnected;i.next();){var a=i.value;if(a!==n&&a.isTreeLink&&a.toNode===t)return!1}return!pi(this,e,t,n,!0)}if(i===ko){if(i=n||this.temporaryLink,null!==i&&!i.isTreeLink)return!0;for(i=e.linksConnected;i.next();)if(a=i.value,a!==n&&a.isTreeLink&&a.fromNode===e)return!1;return!pi(this,e,t,n,!0)}if(i===Ao)return e===t?e=!0:(i=new re,i.add(t),e=mi(this,i,e,t,n)),!e;if(i===wo)return!pi(this,e,t,n,!1);if(i===xo)return e===t?e=!0:(i=new re,i.add(t),e=gi(this,i,e,t,n)),!e}return!0},p.Object.defineProperties(hi.prototype,{portGravity:{get:function(){return this.wg},set:function(e){e>=0&&(this.wg=e)}},isUnconnectedLinkValid:{get:function(){return this.ba},set:function(e){this.ba=e}},temporaryLink:{get:function(){return this.Gm},set:function(e){this.Gm=e}},temporaryFromNode:{get:function(){return this.Em},set:function(e){this.Em=e}},temporaryFromPort:{get:function(){return this.Fm},set:function(e){this.Fm=e}},temporaryToNode:{get:function(){return this.wq},set:function(e){this.wq=e}},temporaryToPort:{get:function(){return this.cw},set:function(e){this.cw=e}},originalLink:{get:function(){return this.Wb},set:function(e){this.Wb=e}},originalFromNode:{get:function(){return this.La},set:function(e){this.La=e}},originalFromPort:{get:function(){return this.Ma},set:function(e){this.Ma=e}},originalToNode:{get:function(){return this.Kc},set:function(e){this.Kc=e}},originalToPort:{get:function(){return this.Vc},set:function(e){this.Vc=e}},isForwards:{get:function(){return this.K},set:function(e){this.K=e}},validPortsCache:{get:function(){return this.Sx}},targetPort:{get:function(){return this.Dm},set:function(e){this.Dm=e}},linkValidation:{get:function(){return this.ii},set:function(e){this.ii=e}},portTargeted:{get:function(){return this.Cm},set:function(e){this.Cm=e}}}),hi.className="LinkingBaseTool",f(vi,hi),vi.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowLink||!e.model.dt()||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},vi.prototype.findLinkablePort=function(){var e=this.diagram,t=this.startObject;if(null===t&&(t=e.Sb(e.firstInput.documentPoint,null,null)),null===t||!(t.part instanceof Mc))return null;if(e=this.direction,e===yi||e===bi){var n=this.findValidLinkablePort(t,!1);if(null!==n)return this.isForwards=!0,n}return e!==yi&&e!==Ai||(t=this.findValidLinkablePort(t,!0),null===t)?null:(this.isForwards=!1,t)},vi.prototype.doActivate=function(){var e=this.diagram,t=this.findLinkablePort();null!==t&&(this.Aa(this.name),e.isMouseCaptured=!0,e.currentCursor="pointer",this.isForwards?(null===this.temporaryToNode||this.temporaryToNode.location.o()||(this.temporaryToNode.location=e.lastInput.documentPoint),this.originalFromPort=t,t=this.originalFromPort.part,t instanceof Mc&&(this.originalFromNode=t),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null===this.temporaryFromNode||this.temporaryFromNode.location.o()||(this.temporaryFromNode.location=e.lastInput.documentPoint),this.originalToPort=t,t=this.originalToPort.part,t instanceof Mc&&(this.originalToNode=t),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),e.add(this.temporaryFromNode),e.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.Ra(),e.add(this.temporaryLink)),this.isActive=!0)},vi.prototype.doDeactivate=function(){this.isActive=!1;var e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.vg()},vi.prototype.doStop=function(){hi.prototype.doStop.call(this),this.startObject=null},vi.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram,t=this.transactionResult=null,n=null,i=null,a=null,r=this.targetPort=this.findTargetPort(this.isForwards);if(null!==r){var o=r.part;o instanceof Mc&&(this.isForwards?(null!==this.originalFromNode&&(t=this.originalFromNode,n=this.originalFromPort),i=o,a=r):(t=o,n=r,null!==this.originalToNode&&(i=this.originalToNode,a=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(t=this.originalFromNode,n=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(i=this.originalToNode,a=this.originalToPort);null!==t||null!==i?(o=this.insertLink(t,n,i,a),null!==o?(null===r&&(this.isForwards?o.defaultToPoint=e.lastInput.documentPoint:o.defaultFromPoint=e.lastInput.documentPoint),e.allowSelect&&e.select(o),this.transactionResult=this.name,e.aa("LinkDrawn",o)):(e.model.Lu(),this.doNoLink(t,n,i,a))):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}this.stopTool()},vi.prototype.isNewTreeLink=function(){var e=this.archetypeLinkData;if(null===e)return!0;if(e instanceof id)return e.isTreeLink;var t=this.diagram;return null===t||(e=t.partManager.getLinkCategoryForData(e),t=t.partManager.findLinkTemplateForCategory(e),null===t||t.isTreeLink)},vi.prototype.insertLink=function(e,t,n,i){return this.diagram.partManager.insertLink(e,t,n,i)},vi.prototype.doNoLink=function(){},p.Object.defineProperties(vi.prototype,{archetypeLinkData:{get:function(){return this.u},set:function(e){this.u=e}},archetypeLabelNodeData:{get:function(){return this.l},set:function(e){this.l=e}},direction:{get:function(){return this.L},set:function(e){this.L=e}},startObject:{get:function(){return this.Ch},set:function(e){this.Ch=e}}});var yi=new Y(vi,"Either",0),bi=new Y(vi,"ForwardsOnly",0),Ai=new Y(vi,"BackwardsOnly",0);function wi(){hi.call(this),this.name="Relinking";var e=new ou;e.figure="Diamond",e.desiredSize=Ne,e.fill="lightblue",e.stroke="dodgerblue",e.cursor="pointer",e.segmentIndex=0,this.u=e,e=new ou,e.figure="Diamond",e.desiredSize=Ne,e.fill="lightblue",e.stroke="dodgerblue",e.cursor="pointer",e.segmentIndex=-1,this.Ch=e,this.l=null,this.Hw=new Ue}function xi(e,t,n,i,a){null!==t?(e.copyPortProperties(t,n,e.temporaryFromNode,e.temporaryFromPort,!1),e.diagram.add(e.temporaryFromNode)):e.diagram.remove(e.temporaryFromNode),null!==i?(e.copyPortProperties(i,a,e.temporaryToNode,e.temporaryToPort,!0),e.diagram.add(e.temporaryToNode)):e.diagram.remove(e.temporaryToNode)}function Ci(){On.call(this),this.name="LinkReshaping";var e=new ou;e.figure="Rectangle",e.desiredSize=Te,e.fill="lightblue",e.stroke="dodgerblue",this.u=e,e=new ou,e.figure="Diamond",e.desiredSize=Ne,e.fill="lightblue",e.stroke="dodgerblue",e.cursor="move",this.K=e,this.ba=3,this.Ht=this.l=null,this.ul=new ge,this.ds=new ie}function ki(e,t,n,i,a,r){return r?Math.abs(t.y-n.y)<e.resegmentingDistance&&Math.abs(n.y-i.y)<e.resegmentingDistance&&Math.abs(i.y-a.y)<e.resegmentingDistance:Math.abs(t.x-n.x)<e.resegmentingDistance&&Math.abs(n.x-i.x)<e.resegmentingDistance&&Math.abs(i.x-a.x)<e.resegmentingDistance}vi.className="LinkingTool",vi.Either=yi,vi.ForwardsOnly=bi,vi.BackwardsOnly=Ai,f(wi,hi),wi.prototype.updateAdornments=function(e){if(null!==e&&e instanceof id){var t="RelinkFrom",n=null;if(e.isSelected&&!this.diagram.isReadOnly){var i=e.selectionObject;null!==i&&e.canRelinkFrom()&&e.actualBounds.o()&&e.isVisible()&&i.actualBounds.o()&&i.rf()&&(n=e.$j(t),null===n&&(n=this.makeAdornment(i,!1),e.qh(t,n)))}null===n&&e.tf(t),t="RelinkTo",n=null,e.isSelected&&!this.diagram.isReadOnly&&(i=e.selectionObject,null!==i&&e.canRelinkTo()&&e.actualBounds.o()&&e.isVisible()&&i.actualBounds.o()&&i.rf()&&(n=e.$j(t),null===n?(n=this.makeAdornment(i,!0),e.qh(t,n)):n.s())),null===n&&e.tf(t)}},wi.prototype.makeAdornment=function(e,t){var n=new Oc;return n.type=Tl.Link,t=t?this.toHandleArchetype:this.fromHandleArchetype,null!==t&&n.add(t.copy()),n.adornedObject=e,n},wi.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowRelink||!e.model.dt()||!e.lastInput.left)return!1;var t=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom");return null===t&&(t=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo")),null!==t},wi.prototype.doActivate=function(){var e=this.diagram;if(null===this.originalLink){var t=this.handle;if(null===t&&(t=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom"),null===t&&(t=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo"))),null===t)return;var n=t.part;if(!(n instanceof Oc&&n.adornedPart instanceof id))return;this.handle=t,this.isForwards=null===n||"RelinkTo"===n.category,this.originalLink=n.adornedPart}this.Aa(this.name),e.isMouseCaptured=!0,e.currentCursor="pointer",this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Hw.set(this.originalLink.actualBounds),null!==this.originalLink&&this.originalLink.pointsCount>0&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=ke),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=ke),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),e.add(this.temporaryFromNode),e.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.Ra(),e.add(this.temporaryLink)),this.isActive=!0},wi.prototype.copyLinkProperties=function(e,t){if(null!==e&&null!==t){t.adjusting=e.adjusting,t.corner=e.corner;var n=e.curve;n!==Ld&&n!==Pd||(n=Id),t.curve=n,t.curviness=e.curviness,t.isTreeLink=e.isTreeLink,t.points=e.points,t.routing=e.routing,t.smoothness=e.smoothness,t.fromSpot=e.fromSpot,t.fromEndSegmentLength=e.fromEndSegmentLength,t.fromShortLength=e.fromShortLength,t.toSpot=e.toSpot,t.toEndSegmentLength=e.toEndSegmentLength,t.toShortLength=e.toShortLength}},wi.prototype.doDeactivate=function(){this.isActive=!1;var e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.vg()},wi.prototype.doStop=function(){hi.prototype.doStop.call(this),this.handle=null},wi.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram;this.transactionResult=null;var t=this.originalFromNode,n=this.originalFromPort,i=this.originalToNode,a=this.originalToPort,r=this.originalLink;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var o=this.targetPort.part;o instanceof Mc&&(this.isForwards?(i=o,a=this.targetPort):(t=o,n=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?a=i=null:n=t=null:r=null;null!==r?(this.reconnectLink(r,this.isForwards?i:t,this.isForwards?a:n,this.isForwards),null===this.targetPort&&(this.isForwards?r.defaultToPoint=e.lastInput.documentPoint:r.defaultFromPoint=e.lastInput.documentPoint,r.Ra()),e.allowSelect&&(r.isSelected=!0),this.transactionResult=this.name,e.aa("LinkRelinked",r,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.$p(this.Hw)}this.stopTool()},wi.prototype.reconnectLink=function(e,t,n,i){return n=null!==n&&null!==n.portId?n.portId:"",i?(e.toNode=t,e.toPortId=n):(e.fromNode=t,e.fromPortId=n),!0},wi.prototype.doNoRelink=function(){},p.Object.defineProperties(wi.prototype,{fromHandleArchetype:{get:function(){return this.u},set:function(e){this.u=e}},toHandleArchetype:{get:function(){return this.Ch},set:function(e){this.Ch=e}},handle:{get:function(){return this.l},set:function(e){if(null!==e&&!(e.part instanceof Oc))throw Error("new handle is not in an Adornment: "+e);this.l=e}}}),wi.className="RelinkingTool",B("linkingTool",(function(){return this.findTool("Linking")}),(function(e){jn(this,"Linking",e,this.mouseMoveTools)})),B("relinkingTool",(function(){return this.findTool("Relinking")}),(function(e){jn(this,"Relinking",e,this.mouseDownTools)})),f(Ci,On),Ci.prototype.dv=function(e){return e&&e.js&&0!==e.js.value?e.js:Si},Ci.prototype.wm=function(e,t){e.js=t},Ci.prototype.updateAdornments=function(e){if(null!==e&&e instanceof id){var t=null;if(e.isSelected&&!this.diagram.isReadOnly){var n=e.path;null!==n&&e.canReshape()&&e.actualBounds.o()&&e.isVisible()&&n.actualBounds.o()&&n.rf()&&(t=e.$j(this.name),null===t||t.Ew!==e.pointsCount||t.Pw!==e.resegmentable)&&(t=this.makeAdornment(n),null!==t&&(t.Ew=e.pointsCount,t.Pw=e.resegmentable,e.qh(this.name,t)))}null===t&&e.tf(this.name)}},Ci.prototype.makeAdornment=function(e){var t=e.part,n=t.pointsCount,i=t.isOrthogonal,a=null;if(null!==t.points&&n>1){a=new Oc,a.type=Tl.Link,n=t.firstPickIndex;var r=t.lastPickIndex,o=i?1:0;if(t.resegmentable&&t.computeCurve()!==Dd)for(var s=n+o;s<r-o;s++){var l=this.makeResegmentHandle(e,s);null!==l&&(l.segmentIndex=s,l.segmentFraction=.5,l.fromMaxLinks=999,a.add(l))}for(o=n+1;o<r;o++)if(s=this.makeHandle(e,o),null!==s){if(s.segmentIndex=o,o!==n)if(o===n+1&&i){l=t.i(n);var u=t.i(n+1);Kt.w(l.x,u.x)&&Kt.w(l.y,u.y)&&(u=t.i(n-1)),Kt.w(l.x,u.x)?(this.wm(s,Ni),s.cursor="n-resize"):Kt.w(l.y,u.y)&&(this.wm(s,Ti),s.cursor="w-resize")}else o===r-1&&i?(l=t.i(r-1),u=t.i(r),Kt.w(l.x,u.x)&&Kt.w(l.y,u.y)&&(l=t.i(r+1)),Kt.w(l.x,u.x)?(this.wm(s,Ni),s.cursor="n-resize"):Kt.w(l.y,u.y)&&(this.wm(s,Ti),s.cursor="w-resize")):o!==r&&(this.wm(s,Ii),s.cursor="move");a.add(s)}a.adornedObject=e}return a},Ci.prototype.makeHandle=function(){var e=this.handleArchetype;return null===e?null:e.copy()},Ci.prototype.makeResegmentHandle=function(){var e=this.midHandleArchetype;return null===e?null:e.copy()},Ci.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(e.isReadOnly||!e.allowReshape||!e.lastInput.left)&&null!==this.findToolHandleAt(e.firstInput.documentPoint,this.name)},Ci.prototype.doActivate=function(){var e=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),null!==this.handle){var t=this.handle.part.adornedPart;if(t instanceof id){if(this.Ht=t,e.isMouseCaptured=!0,this.Aa(this.name),t.resegmentable&&999===this.handle.fromMaxLinks){var n=t.points.copy(),i=this.getResegmentingPoint();if(n.Ib(this.handle.segmentIndex+1,i),t.isOrthogonal&&n.Ib(this.handle.segmentIndex+1,i),t.points=n,t.Jb(),t.updateAdornments(),this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.ul=t.i(this.handle.segmentIndex),this.ds=t.points.copy(),this.isActive=!0}}},Ci.prototype.doDeactivate=function(){this.vg(),this.Ht=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},Ci.prototype.doCancel=function(){var e=this.adornedLink;null!==e&&(e.points=this.ds),this.stopTool()},Ci.prototype.getResegmentingPoint=function(){return this.handle.ma(ft)},Ci.prototype.doMouseMove=function(){var e=this.diagram;this.isActive&&(e=this.computeReshape(e.lastInput.documentPoint),this.reshape(e))},Ci.prototype.doMouseUp=function(){var e=this.diagram;if(this.isActive){var t=this.computeReshape(e.lastInput.documentPoint);if(this.reshape(t),t=this.adornedLink,null!==t&&t.resegmentable){var n=this.handle.segmentIndex,i=t.i(n-1),a=t.i(n),r=t.i(n+1);if(t.isOrthogonal){if(n>t.firstPickIndex+1&&n<t.lastPickIndex-1){var o=t.i(n-2);if(Math.abs(i.x-a.x)<this.resegmentingDistance&&Math.abs(i.y-a.y)<this.resegmentingDistance&&(ki(this,o,i,a,r,!0)||ki(this,o,i,a,r,!1))){var s=t.points.copy();ki(this,o,i,a,r,!0)?(s.gd(n-2,new ge(o.x,(r.y+o.y)/2)),s.gd(n+1,new ge(r.x,(r.y+o.y)/2))):(s.gd(n-2,new ge((r.x+o.x)/2,o.y)),s.gd(n+1,new ge((r.x+o.x)/2,r.y))),s.mb(n),s.mb(n-1),t.points=s,t.Jb()}else o=t.i(n+2),Math.abs(a.x-r.x)<this.resegmentingDistance&&Math.abs(a.y-r.y)<this.resegmentingDistance&&(ki(this,i,a,r,o,!0)||ki(this,i,a,r,o,!1))&&(s=t.points.copy(),ki(this,i,a,r,o,!0)?(s.gd(n-1,new ge(i.x,(i.y+o.y)/2)),s.gd(n+2,new ge(o.x,(i.y+o.y)/2))):(s.gd(n-1,new ge((i.x+o.x)/2,i.y)),s.gd(n+2,new ge((i.x+o.x)/2,o.y))),s.mb(n+1),s.mb(n),t.points=s,t.Jb())}}else o=ge.alloc(),Kt.Qi(i.x,i.y,r.x,r.y,a.x,a.y,o)&&o.Be(a)<this.resegmentingDistance*this.resegmentingDistance&&(i=t.points.copy(),i.mb(n),t.points=i,t.Jb()),ge.free(o)}e.Xa(),this.transactionResult=this.name,e.aa("LinkReshaped",this.adornedLink,this.ds)}this.stopTool()},Ci.prototype.reshape=function(e){var t=this.adornedLink;t.Bh();var n=this.handle.segmentIndex,i=this.dv(this.handle);if(t.isOrthogonal)if(n===t.firstPickIndex+1)n=t.firstPickIndex+1,i===Ni?(t.M(n,t.i(n-1).x,e.y),t.M(n+1,t.i(n+2).x,e.y)):i===Ti&&(t.M(n,e.x,t.i(n-1).y),t.M(n+1,e.x,t.i(n+2).y));else if(n===t.lastPickIndex-1)n=t.lastPickIndex-1,i===Ni?(t.M(n-1,t.i(n-2).x,e.y),t.M(n,t.i(n+1).x,e.y)):i===Ti&&(t.M(n-1,e.x,t.i(n-2).y),t.M(n,e.x,t.i(n+1).y));else{i=n;var a=t.i(i),r=t.i(i-1),o=t.i(i+1);Kt.w(r.x,a.x)&&Kt.w(a.y,o.y)?(Kt.w(r.x,t.i(i-2).x)&&!Kt.w(r.y,t.i(i-2).y)?(t.m(i,e.x,r.y),n++,i++):t.M(i-1,e.x,r.y),Kt.w(o.y,t.i(i+2).y)&&!Kt.w(o.x,t.i(i+2).x)?t.m(i+1,o.x,e.y):t.M(i+1,o.x,e.y)):Kt.w(r.y,a.y)&&Kt.w(a.x,o.x)?(Kt.w(r.y,t.i(i-2).y)&&!Kt.w(r.x,t.i(i-2).x)?(t.m(i,r.x,e.y),n++,i++):t.M(i-1,r.x,e.y),Kt.w(o.x,t.i(i+2).x)&&!Kt.w(o.y,t.i(i+2).y)?t.m(i+1,e.x,o.y):t.M(i+1,e.x,o.y)):Kt.w(r.x,a.x)&&Kt.w(a.x,o.x)?(Kt.w(r.x,t.i(i-2).x)&&!Kt.w(r.y,t.i(i-2).y)?(t.m(i,e.x,r.y),n++,i++):t.M(i-1,e.x,r.y),Kt.w(o.x,t.i(i+2).x)&&!Kt.w(o.y,t.i(i+2).y)?t.m(i+1,e.x,o.y):t.M(i+1,e.x,o.y)):Kt.w(r.y,a.y)&&Kt.w(a.y,o.y)&&(Kt.w(r.y,t.i(i-2).y)&&!Kt.w(r.x,t.i(i-2).x)?(t.m(i,r.x,e.y),n++,i++):t.M(i-1,r.x,e.y),Kt.w(o.y,t.i(i+2).y)&&!Kt.w(o.x,t.i(i+2).x)?t.m(i+1,o.x,e.y):t.M(i+1,o.x,e.y)),t.M(n,e.x,e.y)}else t.M(n,e.x,e.y),i=t.fromNode,a=t.fromPort,null!==i&&(r=i.findVisibleNode(),null!==r&&r!==i&&(i=r,a=i.port)),1===n&&t.computeSpot(!0,a).jc()&&(r=a.ma(ft,ge.alloc()),i=t.getLinkPointFromPoint(i,a,r,e,!0,ge.alloc()),t.M(0,i.x,i.y),ge.free(r),ge.free(i)),i=t.toNode,a=t.toPort,null!==i&&(r=i.findVisibleNode(),null!==r&&r!==i&&(i=r,a=i.port)),n===t.pointsCount-2&&t.computeSpot(!1,a).jc()&&(n=a.ma(ft,ge.alloc()),e=t.getLinkPointFromPoint(i,a,n,e,!1,ge.alloc()),t.M(t.pointsCount-1,e.x,e.y),ge.free(n),ge.free(e));t.kf()},Ci.prototype.computeReshape=function(e){var t=this.adornedLink,n=this.handle.segmentIndex;switch(this.dv(this.handle)){case Ii:return e;case Ni:return new ge(t.i(n).x,e.y);case Ti:return new ge(e.x,t.i(n).y);default:case Si:return t.i(n)}},p.Object.defineProperties(Ci.prototype,{handleArchetype:{get:function(){return this.u},set:function(e){this.u=e}},midHandleArchetype:{get:function(){return this.K},set:function(e){this.K=e}},handle:{get:function(){return this.l},set:function(e){if(null!==e&&!(e.part instanceof Oc))throw Error("new handle is not in an Adornment: "+e);this.l=e}},adornedLink:{get:function(){return this.Ht}},resegmentingDistance:{get:function(){return this.ba},set:function(e){this.ba=e}},originalPoint:{get:function(){return this.ul}},originalPoints:{get:function(){return this.ds}}}),Ci.prototype.setReshapingBehavior=Ci.prototype.wm,Ci.prototype.getReshapingBehavior=Ci.prototype.dv;var Si=new Y(Ci,"None",0),Ti=new Y(Ci,"Horizontal",1),Ni=new Y(Ci,"Vertical",2),Ii=new Y(Ci,"All",3);function Di(){On.call(this),this.name="Resizing",this.Qf=new Be(1,1).freeze(),this.Pf=new Be(9999,9999).freeze(),this.Bg=new Be(NaN,NaN).freeze(),this.K=!1,this.$d=null;var e=new ou;e.alignmentFocus=ft,e.figure="Rectangle",e.desiredSize=Te,e.fill="lightblue",e.stroke="dodgerblue",e.strokeWidth=1,e.cursor="pointer",this.u=e,this.l=null,this.ul=new ge,this.Gw=new Be,this.Io=new ge,this.Yt=new Be(0,0),this.Xt=new Be(1/0,1/0),this.Wt=new Be(1,1),this.Dw=!0}function Pi(){On.call(this),this.name="Rotating",this.Ma=45,this.La=2,this.Io=new ge,this.$d=null;var e=new ou;e.figure="Ellipse",e.desiredSize=Ne,e.fill="lightblue",e.stroke="dodgerblue",e.strokeWidth=1,e.cursor="pointer",this.u=e,this.l=null,this.Fw=0,this.qu=new ge(NaN,NaN),this.K=0,this.ba=50}function Li(){On.call(this),this.name="ClickSelecting"}function Oi(){On.call(this),this.name="Action",this.uk=null}function Mi(){On.call(this),this.name="ClickCreating",this.$i=null,this.u=!0,this.l=!1,this.xw=new ge(0,0)}function Ei(){On.call(this),this.name="DragSelecting",this.Qk=175,this.u=!1;var e=new lc;e.layerName="Tool",e.selectable=!1;var t=new ou;t.name="SHAPE",t.figure="Rectangle",t.fill=null,t.stroke="magenta",e.add(t),this.l=e}function Ri(){On.call(this),this.name="Panning",this.lu=new ge,this.by=new ge,this.Ag=!1;var e=this;this.Jw=function(){v.document.removeEventListener("scroll",e.Jw,!1),e.stopTool()}}function ji(){this.ba=this.K=this.l=this.u=null}function Bi(e,t,n){this.text=e,this.Zw=t,this.visible=n}function _i(){On.call(this),this.name="ContextMenu",this.u=this.Nt=this.l=null,this.Cw=new ge,this.Ot=null;var e=this;this.Au=function(){e.stopTool()}}function Vi(e){var t=new ji;t.show=function(e,t,n){n.showDefaultContextMenu()},t.hide=function(e,t){t.hideDefaultContextMenu()},Qi=t,e.Au=function(){e.stopTool()},t=w("div");var n=w("div");t.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",n.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var i=w("style");v.document.getElementsByTagName("head")[0].appendChild(i),i.sheet.insertRule(".goCXul { list-style: none; }",0),i.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),i.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),t.addEventListener("contextmenu",Fi,!1),t.addEventListener("selectstart",Fi,!1),n.addEventListener("contextmenu",Fi,!1),t.className="goCXforeground",n.className="goCXbackground",v.document.body&&(v.document.body.appendChild(t),v.document.body.appendChild(n)),Gi=t,Hi=n,$i=!0}function Fi(e){return e.preventDefault(),!1}function Ui(e){var t=e.diagram;if(e.isActive){var n=e.currentContextMenu;if(null!==n){if(!(n instanceof ji)){var i=t.Sb(t.lastInput.documentPoint,null,null);null!==i&&i.qg(n)&&e.standardMouseClick(null,null)}e.stopTool(),e.canStart()&&(t.currentTool=e,e.doMouseUp())}}else e.canStart()&&(qi(e,!0),e.isActive||e.stopTool())}function qi(e,t,n){if(void 0===n&&(n=null),t&&e.standardMouseSelect(),!e.standardMouseClick())if(e.isActive=!0,t=Qi,null===n&&(n=e.findObjectWithContextMenu()),null!==n){var i=n.contextMenu;null!==i?(e.currentObject=n instanceof Yo?n:null,e.showContextMenu(i,e.currentObject)):null!==t&&e.showContextMenu(t,e.currentObject)}else null!==t&&e.showContextMenu(t,null)}function zi(){var e=new ie;return e.add(new Bi("Copy",(function(e){e.commandHandler.copySelection()}),(function(e){return e.commandHandler.canCopySelection()}))),e.add(new Bi("Cut",(function(e){e.commandHandler.cutSelection()}),(function(e){return e.commandHandler.canCutSelection()}))),e.add(new Bi("Delete",(function(e){e.commandHandler.deleteSelection()}),(function(e){return e.commandHandler.canDeleteSelection()}))),e.add(new Bi("Paste",(function(e){e.commandHandler.pasteSelection(e.lastInput.documentPoint)}),(function(e){return e.commandHandler.canPasteSelection()}))),e.add(new Bi("Select All",(function(e){e.commandHandler.selectAll()}),(function(e){return e.commandHandler.canSelectAll()}))),e.add(new Bi("Undo",(function(e){e.commandHandler.undo()}),(function(e){return e.commandHandler.canUndo()}))),e.add(new Bi("Redo",(function(e){e.commandHandler.redo()}),(function(e){return e.commandHandler.canRedo()}))),e.add(new Bi("Scroll To Part",(function(e){e.commandHandler.scrollToPart()}),(function(e){return e.commandHandler.canScrollToPart()}))),e.add(new Bi("Zoom To Fit",(function(e){e.commandHandler.zoomToFit()}),(function(e){return e.commandHandler.canZoomToFit()}))),e.add(new Bi("Reset Zoom",(function(e){e.commandHandler.resetZoom()}),(function(e){return e.commandHandler.canResetZoom()}))),e.add(new Bi("Group Selection",(function(e){e.commandHandler.groupSelection()}),(function(e){return e.commandHandler.canGroupSelection()}))),e.add(new Bi("Ungroup Selection",(function(e){e.commandHandler.ungroupSelection()}),(function(e){return e.commandHandler.canUngroupSelection()}))),e.add(new Bi("Edit Text",(function(e){e.commandHandler.editTextBlock()}),(function(e){return e.commandHandler.canEditTextBlock()}))),e}Ci.className="LinkReshapingTool",Ci.None=Si,Ci.Horizontal=Ti,Ci.Vertical=Ni,Ci.All=Ii,B("linkReshapingTool",(function(){return this.findTool("LinkReshaping")}),(function(e){jn(this,"LinkReshaping",e,this.mouseDownTools)})),f(Di,On),Di.prototype.updateAdornments=function(e){if(!(null===e||e instanceof id)){if(e.isSelected&&!this.diagram.isReadOnly){var t=e.resizeObject,n=e.$j(this.name);if(null!==t&&e.canResize()&&e.actualBounds.o()&&e.isVisible()&&t.actualBounds.o()&&t.rf()&&(null!==n&&n.adornedObject===t||(n=this.makeAdornment(t)),null!==n))return t=t.Ji(),kc(e)&&this.updateResizeHandles(n,t),void e.qh(this.name,n)}e.tf(this.name)}},Di.prototype.makeAdornment=function(e){var t=e.part.resizeAdornmentTemplate;if(null===t){t=new Oc,t.type=Tl.Spot,t.locationSpot=ft;var n=new nd;n.isPanelMain=!0,t.add(n),t.add(this.makeHandle(e,ut)),t.add(this.makeHandle(e,dt)),t.add(this.makeHandle(e,vt)),t.add(this.makeHandle(e,mt)),t.add(this.makeHandle(e,_t)),t.add(this.makeHandle(e,Ft)),t.add(this.makeHandle(e,Ut)),t.add(this.makeHandle(e,Vt))}else if(Ql(t),t=t.copy(),null===t)return null;return t.adornedObject=e,t},Di.prototype.makeHandle=function(e,t){return e=this.handleArchetype,null===e?null:(e=e.copy(),e.alignment=t,e)},Di.prototype.updateResizeHandles=function(e,t){if(null!==e)if(!e.alignment.Kb()&&("pointer"===e.cursor||e.cursor.indexOf("resize")>0))e:{var n=e.alignment;if(n.jc()&&(n=ft),n.x<=0)t=n.y<=0?t+225:n.y>=1?t+135:t+180;else if(n.x>=1)n.y<=0?t+=315:n.y>=1&&(t+=45);else if(n.y<=0)t+=270;else{if(!(n.y>=1))break e;t+=90}t<0?t+=360:t>=360&&(t-=360),e.cursor=t<22.5?"e-resize":t<67.5?"se-resize":t<112.5?"s-resize":t<157.5?"sw-resize":t<202.5?"w-resize":t<247.5?"nw-resize":t<292.5?"n-resize":t<337.5?"ne-resize":"e-resize"}else if(e instanceof Tl)for(e=e.elements;e.next();)this.updateResizeHandles(e.value,t)},Di.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(e.isReadOnly||!e.allowResize||!e.lastInput.left)&&null!==this.findToolHandleAt(e.firstInput.documentPoint,this.name)},Di.prototype.doActivate=function(){var e=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(this.ul.set(this.adornedObject.ma(this.handle.alignment.rv())),this.Io.set(this.adornedObject.part.location),this.Gw.set(this.adornedObject.desiredSize),this.Wt=this.computeCellSize(),this.Yt=this.computeMinSize(),this.Xt=this.computeMaxSize(),e.isMouseCaptured=!0,this.Dw=e.animationManager.isEnabled,e.animationManager.isEnabled=!1,this.Aa(this.name),this.isActive=!0))},Di.prototype.doDeactivate=function(){var e=this.diagram;this.vg(),this.$d=this.handle=null,this.isActive=e.isMouseCaptured=!1,e.animationManager.isEnabled=this.Dw},Di.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},Di.prototype.doMouseMove=function(){var e=this.diagram;if(this.isActive){var t=this.Yt,n=this.Xt,i=this.Wt,a=this.adornedObject.Ws(e.lastInput.documentPoint,ge.alloc()),r=this.computeReshape();t=this.computeResize(a,this.handle.alignment,t,n,i,r),this.resize(t),e.fd(),ge.free(a)}},Di.prototype.doMouseUp=function(){var e=this.diagram;if(this.isActive){var t=this.Yt,n=this.Xt,i=this.Wt,a=this.adornedObject.Ws(e.lastInput.documentPoint,ge.alloc()),r=this.computeReshape();t=this.computeResize(a,this.handle.alignment,t,n,i,r),this.resize(t),ge.free(a),e.Xa(),this.transactionResult=this.name,e.aa("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},Di.prototype.resize=function(e){var t=this.diagram,n=this.adornedObject,i=n.part;n.desiredSize=e.size,i.ac(),e=this.adornedObject.ma(this.handle.alignment.rv()),i instanceof Jc?(n=new ie,n.add(i),t.moveParts(n,this.ul.copy().Xd(e),!0)):i.location=i.location.copy().Xd(e).add(this.ul)},Di.prototype.computeResize=function(e,t,n,i,a,r){t.jc()&&(t=ft);var o=this.adornedObject.naturalBounds,s=o.x,l=o.y,u=o.x+o.width,c=o.y+o.height,d=1;if(!r){d=o.width;var h=o.height;d<=0&&(d=1),h<=0&&(h=1),d=h/d}return h=ge.alloc(),Kt.Tp(e.x,e.y,s,l,a.width,a.height,h),e=o.copy(),t.x<=0?t.y<=0?(e.x=Math.max(h.x,u-i.width),e.x=Math.min(e.x,u-n.width),e.width=Math.max(u-e.x,n.width),e.y=Math.max(h.y,c-i.height),e.y=Math.min(e.y,c-n.height),e.height=Math.max(c-e.y,n.height),r||(e.height/e.width>=1?(e.height=Math.max(Math.min(d*e.width,i.height),n.height),e.width=e.height/d):(e.width=Math.max(Math.min(e.height/d,i.width),n.width),e.height=d*e.width),e.x=u-e.width,e.y=c-e.height)):t.y>=1?(e.x=Math.max(h.x,u-i.width),e.x=Math.min(e.x,u-n.width),e.width=Math.max(u-e.x,n.width),e.height=Math.max(Math.min(h.y-l,i.height),n.height),r||(e.height/e.width>=1?(e.height=Math.max(Math.min(d*e.width,i.height),n.height),e.width=e.height/d):(e.width=Math.max(Math.min(e.height/d,i.width),n.width),e.height=d*e.width),e.x=u-e.width)):(e.x=Math.max(h.x,u-i.width),e.x=Math.min(e.x,u-n.width),e.width=u-e.x,r||(e.height=Math.max(Math.min(d*e.width,i.height),n.height),e.width=e.height/d,e.y=l+.5*(c-l-e.height))):t.x>=1?t.y<=0?(e.width=Math.max(Math.min(h.x-s,i.width),n.width),e.y=Math.max(h.y,c-i.height),e.y=Math.min(e.y,c-n.height),e.height=Math.max(c-e.y,n.height),r||(e.height/e.width>=1?(e.height=Math.max(Math.min(d*e.width,i.height),n.height),e.width=e.height/d):(e.width=Math.max(Math.min(e.height/d,i.width),n.width),e.height=d*e.width),e.y=c-e.height)):t.y>=1?(e.width=Math.max(Math.min(h.x-s,i.width),n.width),e.height=Math.max(Math.min(h.y-l,i.height),n.height),r||(e.height/e.width>=1?(e.height=Math.max(Math.min(d*e.width,i.height),n.height),e.width=e.height/d):(e.width=Math.max(Math.min(e.height/d,i.width),n.width),e.height=d*e.width))):(e.width=Math.max(Math.min(h.x-s,i.width),n.width),r||(e.height=Math.max(Math.min(d*e.width,i.height),n.height),e.width=e.height/d,e.y=l+.5*(c-l-e.height))):t.y<=0?(e.y=Math.max(h.y,c-i.height),e.y=Math.min(e.y,c-n.height),e.height=c-e.y,r||(e.width=Math.max(Math.min(e.height/d,i.width),n.width),e.height=d*e.width,e.x=s+.5*(u-s-e.width))):t.y>=1&&(e.height=Math.max(Math.min(h.y-l,i.height),n.height),r||(e.width=Math.max(Math.min(e.height/d,i.width),n.width),e.height=d*e.width,e.x=s+.5*(u-s-e.width))),ge.free(h),e},Di.prototype.computeReshape=function(){var e=Zr;return this.adornedObject instanceof ou&&(e=lu(this.adornedObject)),!(e===eo||this.diagram.lastInput.shift)},Di.prototype.computeMinSize=function(){var e=this.adornedObject.minSize.copy(),t=this.minSize;return!isNaN(t.width)&&t.width>e.width&&(e.width=t.width),!isNaN(t.height)&&t.height>e.height&&(e.height=t.height),e},Di.prototype.computeMaxSize=function(){var e=this.adornedObject.maxSize.copy(),t=this.maxSize;return!isNaN(t.width)&&t.width<e.width&&(e.width=t.width),!isNaN(t.height)&&t.height<e.height&&(e.height=t.height),e},Di.prototype.computeCellSize=function(){var e=new Be(NaN,NaN),t=this.adornedObject.part;return null!==t&&(t=t.resizeCellSize,!isNaN(t.width)&&t.width>0&&(e.width=t.width),!isNaN(t.height)&&t.height>0&&(e.height=t.height)),t=this.cellSize,isNaN(e.width)&&!isNaN(t.width)&&t.width>0&&(e.width=t.width),isNaN(e.height)&&!isNaN(t.height)&&t.height>0&&(e.height=t.height),t=this.diagram,(isNaN(e.width)||isNaN(e.height))&&t&&(t=t.grid,null!==t&&t.visible&&this.isGridSnapEnabled&&(t=t.gridCellSize,isNaN(e.width)&&!isNaN(t.width)&&t.width>0&&(e.width=t.width),isNaN(e.height)&&!isNaN(t.height)&&t.height>0&&(e.height=t.height))),(isNaN(e.width)||0===e.width||1/0===e.width)&&(e.width=1),(isNaN(e.height)||0===e.height||1/0===e.height)&&(e.height=1),e},p.Object.defineProperties(Di.prototype,{handleArchetype:{get:function(){return this.u},set:function(e){this.u=e}},handle:{get:function(){return this.l},set:function(e){if(null!==e&&!(e.part instanceof Oc))throw Error("new handle is not in an Adornment: "+e);this.l=e}},adornedObject:{get:function(){return this.$d},set:function(e){if(null!==e&&e.part instanceof Oc)throw Error("new handle must not be in an Adornment: "+e);this.$d=e}},minSize:{get:function(){return this.Qf},set:function(e){if(!this.Qf.A(e)){var t=e.width;isNaN(t)&&(t=0),e=e.height,isNaN(e)&&(e=0),this.Qf.h(t,e)}}},maxSize:{get:function(){return this.Pf},set:function(e){if(!this.Pf.A(e)){var t=e.width;isNaN(t)&&(t=1/0),e=e.height,isNaN(e)&&(e=1/0),this.Pf.h(t,e)}}},cellSize:{get:function(){return this.Bg},set:function(e){this.Bg.A(e)||this.Bg.assign(e)}},isGridSnapEnabled:{get:function(){return this.K},set:function(e){this.K=e}},originalDesiredSize:{get:function(){return this.Gw}},originalLocation:{get:function(){return this.Io}}}),Di.className="ResizingTool",B("resizingTool",(function(){return this.findTool("Resizing")}),(function(e){jn(this,"Resizing",e,this.mouseDownTools)})),f(Pi,On),Pi.prototype.updateAdornments=function(e){if(null!==e){if(e.zh()){var t=e.rotateObject;if(t===e||t===e.path||t.isPanelMain)return}if(e.isSelected&&!this.diagram.isReadOnly&&(t=e.rotateObject,null!==t&&e.canRotate()&&e.actualBounds.o()&&e.isVisible()&&t.actualBounds.o()&&t.rf())){var n=e.$j(this.name);if(null!==n&&n.adornedObject===t||(n=this.makeAdornment(t)),null!==n)return n.angle=t.Ji(),null===n.placeholder&&(n.location=this.computeAdornmentLocation(t)),void e.qh(this.name,n)}e.tf(this.name)}},Pi.prototype.makeAdornment=function(e){var t=e.part.rotateAdornmentTemplate;if(null===t){t=new Oc,t.type=Tl.Position,t.locationSpot=ft;var n=this.handleArchetype;null!==n&&t.add(n.copy())}else if(Ql(t),t=t.copy(),null===t)return null;return t.adornedObject=e,t},Pi.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(e.isReadOnly||!e.allowRotate||!e.lastInput.left)&&null!==this.findToolHandleAt(e.firstInput.documentPoint,this.name)},Pi.prototype.doActivate=function(){var e=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(this.Fw=this.adornedObject.angle,this.qu=this.computeRotationPoint(this.adornedObject),this.Io=this.adornedObject.part.location.copy(),e.isMouseCaptured=!0,e.delaysLayout=!0,this.Aa(this.name),this.isActive=!0)},Pi.prototype.computeRotationPoint=function(e){var t=e.part,n=t.locationObject;return t.rotationSpot.gb()?e.ma(t.rotationSpot):e===t||e===n?n.ma(t.locationSpot):e.ma(ft)},Pi.prototype.computeAdornmentLocation=function(e){var t=this.rotationPoint;t.o()||(t=this.computeRotationPoint(e)),t=e.Ws(t);var n=this.handleAngle;n<0?n+=360:n>=360&&(n-=360),n=Math.round(45*Math.round(n/45));var i=this.handleDistance;return 0===n?t.x=e.naturalBounds.width+i:45===n?(t.x=e.naturalBounds.width+i,t.y=e.naturalBounds.height+i):90===n?t.y=e.naturalBounds.height+i:135===n?(t.x=-i,t.y=e.naturalBounds.height+i):180===n?t.x=-i:225===n?(t.x=-i,t.y=-i):270===n?t.y=-i:315===n&&(t.x=e.naturalBounds.width+i,t.y=-i),e.ma(t)},Pi.prototype.doDeactivate=function(){var e=this.diagram;this.vg(),this.$d=this.handle=null,this.qu=new ge(NaN,NaN),this.isActive=e.isMouseCaptured=!1},Pi.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},Pi.prototype.doMouseMove=function(){var e=this.diagram;this.isActive&&(e=this.computeRotate(e.lastInput.documentPoint),this.rotate(e))},Pi.prototype.doMouseUp=function(){var e=this.diagram;if(this.isActive){e.delaysLayout=!1;var t=this.computeRotate(e.lastInput.documentPoint);this.rotate(t),e.Xa(),this.transactionResult=this.name,e.aa("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},Pi.prototype.rotate=function(e){var t=this.adornedObject;if(null!==t){t.angle=e,t=t.part,t.ac();var n=t.locationObject,i=t.rotateObject;(n===i||n.qg(i))&&(n=this.Io.copy(),t.location=n.Xd(this.rotationPoint).rotate(e-this.originalAngle).add(this.rotationPoint))}},Pi.prototype.computeRotate=function(e){e=this.rotationPoint.Wa(e)-this.handleAngle;var t=this.adornedObject.panel;null!==t&&(e-=t.Ji()),e>=360?e-=360:e<0&&(e+=360),t=Math.min(Math.abs(this.snapAngleMultiple),180);var n=Math.min(Math.abs(this.snapAngleEpsilon),t/2);return!this.diagram.lastInput.shift&&t>0&&n>0&&(e%t<n?e=Math.floor(e/t)*t:e%t>t-n&&(e=(Math.floor(e/t)+1)*t)),e>=360?e-=360:e<0&&(e+=360),e},p.Object.defineProperties(Pi.prototype,{handleArchetype:{get:function(){return this.u},set:function(e){this.u=e}},handle:{get:function(){return this.l},set:function(e){if(null!==e&&!(e.part instanceof Oc))throw Error("new handle is not in an Adornment: "+e);this.l=e}},adornedObject:{get:function(){return this.$d},set:function(e){if(null!==e&&e.part instanceof Oc)throw Error("new handle must not be in an Adornment: "+e);this.$d=e}},snapAngleMultiple:{get:function(){return this.Ma},set:function(e){this.Ma=e}},snapAngleEpsilon:{get:function(){return this.La},set:function(e){this.La=e}},originalAngle:{get:function(){return this.Fw}},rotationPoint:{get:function(){return this.qu}},handleAngle:{get:function(){return this.K},set:function(e){this.K=e}},handleDistance:{get:function(){return this.ba},set:function(e){this.ba=e}}}),Pi.className="RotatingTool",B("rotatingTool",(function(){return this.findTool("Rotating")}),(function(e){jn(this,"Rotating",e,this.mouseDownTools)})),f(Li,On),Li.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},Li.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},Li.className="ClickSelectingTool",f(Oi,On),Oi.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram,t=e.lastInput,n=e.Sb(t.documentPoint,(function(e){for(;null!==e.panel&&!e.isActionable;)e=e.panel;return e}));return null!==n&&(!!n.isActionable&&(this.uk=n,e.Jk=e.Sb(t.documentPoint,null,null),!0))},Oi.prototype.doMouseDown=function(){if(this.isActive){var e=this.diagram.lastInput,t=this.uk;null!==t&&(e.targetObject=t,null!==t.actionDown&&t.actionDown(e,t))}else this.canStart()&&this.doActivate()},Oi.prototype.doMouseMove=function(){if(this.isActive){var e=this.diagram.lastInput,t=this.uk;null!==t&&(e.targetObject=t,null!==t.actionMove&&t.actionMove(e,t))}},Oi.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram.lastInput,t=this.uk;if(null===t)return;e.targetObject=t,null!==t.actionUp&&t.actionUp(e,t),this.standardMouseClick((function(e){for(;null!==e.panel&&(!e.isActionable||e!==t);)e=e.panel;return e}),(function(e){return e===t}))}this.stopTool()},Oi.prototype.doCancel=function(){var e=this.diagram.lastInput,t=this.uk;null!==t&&(e.targetObject=t,null!==t.actionCancel&&t.actionCancel(e,t),this.stopTool())},Oi.prototype.doStop=function(){this.uk=null},Oi.className="ActionTool",f(Mi,On),Mi.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===e.lastInput.clickCount&&(this.xw=e.lastInput.viewPoint.copy()),2!==e.lastInput.clickCount||this.isBeyondDragSize(this.xw))return!1}else if(1!==e.lastInput.clickCount)return!1;return e.currentTool===this||null===e.$l(e.lastInput.documentPoint,!0)},Mi.prototype.doMouseUp=function(){var e=this.diagram;this.isActive&&this.insertPart(e.lastInput.documentPoint),this.stopTool()},Mi.prototype.insertPart=function(e){var t=this.diagram,n=this.archetypeNodeData;if(null===n)return null;this.Aa(this.name);var i=null;return n instanceof lc?n.Lb()&&(Ql(n),i=n.copy(),null!==i&&t.add(i)):null!==n&&(n=t.model.copyNodeData(n),N(n)&&(t.model.hf(n),i=t.vc(n))),null!==i&&(n=ge.allocAt(e.x,e.y),this.isGridSnapEnabled&&xr(this.diagram,i,e,n),i.location=n,t.allowSelect&&t.select(i),ge.free(n)),t.Xa(),this.transactionResult=this.name,t.aa("PartCreated",i),this.vg(),i},p.Object.defineProperties(Mi.prototype,{archetypeNodeData:{get:function(){return this.$i},set:function(e){this.$i=e}},isDoubleClick:{get:function(){return this.u},set:function(e){this.u=e}},isGridSnapEnabled:{get:function(){return this.l},set:function(e){this.l=e}}}),Mi.className="ClickCreatingTool",f(Ei,On),Ei.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(!e.allowSelect)return!1;var t=e.lastInput;return!(!t.left||e.currentTool!==this&&(!this.isBeyondDragSize()||t.timestamp-e.firstInput.timestamp<this.delay||null!==e.$l(t.documentPoint,!0)))},Ei.prototype.doActivate=function(){var e=this.diagram;this.isActive=!0,e.isMouseCaptured=!0,e.skipsUndoManager=!0,e.add(this.box),this.doMouseMove()},Ei.prototype.doDeactivate=function(){var e=this.diagram;e.vf(),e.remove(this.box),e.skipsUndoManager=!1,this.isActive=e.isMouseCaptured=!1},Ei.prototype.doMouseMove=function(){var e=this.diagram;if(this.isActive&&null!==this.box){var t=this.computeBoxBounds(),n=this.box.$a("SHAPE");null===n&&(n=this.box.zb());var i=Be.alloc().h(t.width,t.height);t=ge.alloc().h(t.x,t.y),n.desiredSize=i,this.box.position=t,Be.free(i),ge.free(t),(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.Os(e.lastInput.viewPoint)}},Ei.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram;e.remove(this.box);try{e.currentCursor="wait",e.aa("ChangingSelection",e.selection),this.selectInRect(this.computeBoxBounds()),e.aa("ChangedSelection",e.selection)}finally{e.currentCursor=""}}this.stopTool()},Ei.prototype.computeBoxBounds=function(){var e=this.diagram;return new Ue(e.firstInput.documentPoint,e.lastInput.documentPoint)},Ei.prototype.selectInRect=function(e){var t=this.diagram,n=t.lastInput;if(e=t.kx(e,this.isPartialInclusion),Q?n.meta:n.control)if(n.shift)for(e=e.iterator;e.next();)t=e.value,t.isSelected&&(t.isSelected=!1);else for(e=e.iterator;e.next();)t=e.value,t.isSelected=!t.isSelected;else if(n.shift)for(e=e.iterator;e.next();)t=e.value,t.isSelected||(t.isSelected=!0);else{for(n=new ie,t=t.selection.iterator;t.next();){var i=t.value;e.contains(i)||n.add(i)}for(t=n.iterator;t.next();)t.value.isSelected=!1;for(e=e.iterator;e.next();)t=e.value,t.isSelected||(t.isSelected=!0)}},p.Object.defineProperties(Ei.prototype,{delay:{get:function(){return this.Qk},set:function(e){this.Qk=e}},isPartialInclusion:{get:function(){return this.u},set:function(e){this.u=e}},box:{get:function(){return this.l},set:function(e){this.l=e}}}),Ei.className="DragSelectingTool",f(Ri,On),Ri.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(!e.allowHorizontalScroll&&!e.allowVerticalScroll||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize())},Ri.prototype.doActivate=function(){var e=this.diagram;this.Ag?(e.lastInput.bubbles=!0,v.document.addEventListener("scroll",this.Jw,!1)):(e.currentCursor="move",e.isMouseCaptured=!0,this.lu.assign(e.position)),this.isActive=!0},Ri.prototype.doDeactivate=function(){var e=this.diagram;e.currentCursor="",this.isActive=e.isMouseCaptured=!1},Ri.prototype.doCancel=function(){var e=this.diagram;e.position=this.lu,e.isMouseCaptured=!1,this.stopTool()},Ri.prototype.doMouseMove=function(){this.move()},Ri.prototype.doMouseUp=function(){this.move(),this.stopTool()},Ri.prototype.move=function(){var e=this.diagram;if(this.isActive&&e)if(this.Ag)e.lastInput.bubbles=!0;else{var t=e.position,n=e.firstInput.documentPoint,i=e.lastInput.documentPoint,a=t.x+n.x-i.x;n=t.y+n.y-i.y,e.allowHorizontalScroll||(a=t.x),e.allowVerticalScroll||(n=t.y),e.position=this.by.h(a,n)}},p.Object.defineProperties(Ri.prototype,{bubbles:{get:function(){return this.Ag},set:function(e){this.Ag=e}},originalPosition:{get:function(){return this.lu}}}),Ri.className="PanningTool",B("clickCreatingTool",(function(){return this.findTool("ClickCreating")}),(function(e){jn(this,"ClickCreating",e,this.mouseUpTools)})),B("clickSelectingTool",(function(){return this.findTool("ClickSelecting")}),(function(e){jn(this,"ClickSelecting",e,this.mouseUpTools)})),B("panningTool",(function(){return this.findTool("Panning")}),(function(e){jn(this,"Panning",e,this.mouseMoveTools)})),B("dragSelectingTool",(function(){return this.findTool("DragSelecting")}),(function(e){jn(this,"DragSelecting",e,this.mouseMoveTools)})),B("actionTool",(function(){return this.findTool("Action")}),(function(e){jn(this,"Action",e,this.mouseDownTools)})),p.Object.defineProperties(ji.prototype,{mainElement:{get:function(){return this.K},set:function(e){this.K=e}},show:{get:function(){return this.u},set:function(e){this.u!==e&&(this.u=e)}},hide:{get:function(){return this.l},set:function(e){this.l!==e&&(this.l=e)}},valueFunction:{get:function(){return this.ba},set:function(e){this.ba=e}}}),ji.className="HTMLInfo",Bi.className="ContextMenuButtonInfo",f(_i,On),_i.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(this.isBeyondDragSize()||!e.lastInput.right)&&!!(e.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu())},_i.prototype.doStart=function(){this.Cw.set(this.diagram.firstInput.documentPoint)},_i.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},_i.prototype.findObjectWithContextMenu=function(e){void 0===e&&(e=null);var t=this.diagram,n=t.lastInput,i=null;if(e instanceof Pa||(i=e instanceof Yo?e:t.Sb(n.documentPoint,null,(function(e){return!e.layer.isTemporary}))),null!==i){for(e=i;null!==e;){if(null!==e.contextMenu)return e;e=e.panel}if(t.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return i.part}else if(null!==t.contextMenu)return t;return null},_i.prototype.doActivate=function(){},_i.prototype.doMouseDown=function(){if(On.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof Oc){var e=this.diagram.toolManager.findTool("Action");null!==e&&e.canStart()&&(e.doActivate(),e.doMouseDown(),e.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&Ui(this)},_i.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof Oc){var e=this.diagram.toolManager.findTool("Action");null!==e&&e.canStart()&&(e.doActivate(),e.doCancel(),e.doDeactivate())}Ui(this)},_i.prototype.doMouseMove=function(){var e=this.diagram.toolManager.findTool("Action");null!==e&&e.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},_i.prototype.showContextMenu=function(e,t){var n=this.diagram;if(e!==this.currentContextMenu&&this.hideContextMenu(),e instanceof Oc){e.layerName="Tool",e.selectable=!1,e.scale=1/n.scale,e.category=this.name,null!==e.placeholder&&(e.placeholder.scale=n.scale);var i=e.diagram;null!==i&&i!==n&&i.remove(e),n.add(e),null!==t?e.adornedObject=t:e.data=n.model,e.ac(),this.positionContextMenu(e,t)}else e instanceof ji&&e.show(t,n,this);this.currentContextMenu=e},_i.prototype.positionContextMenu=function(e){if(null===e.placeholder){var t=this.diagram,n=t.lastInput.documentPoint.copy(),i=e.measuredBounds,a=t.viewportBounds;t.lastInput.isTouchEvent&&(n.x-=i.width),n.x+i.width>a.right&&(n.x-=i.width+5/t.scale),n.x<a.x&&(n.x=a.x),n.y+i.height>a.bottom&&(n.y-=i.height+5/t.scale),n.y<a.y&&(n.y=a.y),e.position=n}},_i.prototype.hideContextMenu=function(){var e=this.diagram,t=this.currentContextMenu;null!==t&&(t instanceof Oc?(e.remove(t),null!==this.Nt&&this.Nt.tf(t.category),t.data=null,t.adornedObject=null):t instanceof ji&&(null!==t.hide?t.hide(e,this):null!==t.mainElement&&(t.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},_i.prototype.showDefaultContextMenu=function(){var e=this.diagram;null===this.Ot&&(this.Ot=zi()),Gi.innerHTML="",Hi.addEventListener("click",this.Au,!1);var t=this,n=w("ul");n.className="goCXul",Gi.appendChild(n),n.innerHTML="";for(var i=this.Ot.iterator;i.next();){var a=i.value,r=a.visible;if("function"===typeof a.Zw&&("function"!==typeof r||r(e))){r=w("li"),r.className="goCXli";var o=w("a");o.className="goCXa",o.href="#",o.Ux=a.Zw,o.addEventListener("click",(function(n){return this.Ux(e),t.stopTool(),n.preventDefault(),!1}),!1),o.textContent=a.text,r.appendChild(o),n.appendChild(r)}}Gi.style.display="block",Hi.style.display="block"},_i.prototype.hideDefaultContextMenu=function(){null!==this.currentContextMenu&&this.currentContextMenu===Qi&&(Gi.style.display="none",Hi.style.display="none",Hi.removeEventListener("click",this.Au,!1),this.currentContextMenu=null)},p.Object.defineProperties(_i.prototype,{currentContextMenu:{get:function(){return this.l},set:function(e){this.l=e,this.Nt=e instanceof Oc?e.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===$i&&null===Qi&&fo&&Vi(this),Qi},set:function(e){null===e&&($i=!0),Qi=e}},currentObject:{get:function(){return this.u},set:function(e){this.u=e}},mouseDownPoint:{get:function(){return this.Cw}}});var Qi=null,$i=!1,Hi=null,Gi=null;function Yi(){On.call(this),this.name="TextEditing",this.kh=new gu,this.Ma=null,this.La=na,this.vi=null,this.la=aa,this.K=1,this.ba=!0,this.u=null,this.l=new ji,this.Pt=null,Wi(this,this.l)}function Wi(e,t){if(fo){var n=w("textarea");e.Pt=n,n.addEventListener("input",(function(){if(null!==e.textBlock){var t=e.ux(this.value);this.style.width=20+t.measuredBounds.width*this.Wz+"px",this.rows=t.lineCount}}),!1),n.addEventListener("keydown",(function(t){if(null!==e.textBlock){var n=t.which;13===n?(!1===e.textBlock.isMultiline&&t.preventDefault(),e.acceptText(ea)):9===n?(e.acceptText(Zi),t.preventDefault()):27===n&&(e.doCancel(),null!==e.diagram&&e.diagram.doFocus())}}),!1),n.addEventListener("focus",(function(){if(null!==e.currentTextEditor&&e.state!==aa){var t=e.Pt;e.la===ra&&(e.la=oa),"function"===typeof t.select&&e.selectsTextOnActivate&&(t.select(),t.setSelectionRange(0,9999))}}),!1),n.addEventListener("blur",(function(){if(null!==e.currentTextEditor&&e.state!==aa){var t=e.Pt;"function"===typeof t.focus&&t.focus(),"function"===typeof t.select&&e.selectsTextOnActivate&&(t.select(),t.setSelectionRange(0,9999))}}),!1),t.valueFunction=function(){return n.value},t.mainElement=n,t.show=function(e,t,i){if(e instanceof gu&&i instanceof Yi)if(i.state===la)n.style.border="3px solid red",n.focus();else{var a=e.ma(ft),r=t.position,o=t.scale,s=e.Ce()*o;s<i.minimumEditorScale&&(s=i.minimumEditorScale);var l=e.naturalBounds.width*s+6,u=e.naturalBounds.height*s+2,c=(a.x-r.x)*o;a=(a.y-r.y)*o,n.value=e.text,t.div.style.font=e.font,n.style.position="absolute",n.style.zIndex="100",n.style.font="inherit",n.style.fontSize=100*s+"%",n.style.lineHeight="normal",n.style.width=l+"px",n.style.left=(c-l/2|0)-1+"px",n.style.top=(a-u/2|0)-1+"px",n.style.textAlign=e.textAlign,n.style.margin="0",n.style.padding="1px",n.style.border="0",n.style.outline="none",n.style.whiteSpace="pre-wrap",n.style.overflow="hidden",n.rows=e.lineCount,n.Wz=s,n.className="goTXarea",t.div.appendChild(n),n.focus(),i.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}},t.hide=function(e){e.div.removeChild(n)}}}function Ki(e){var t=e.textBlock,n=e.diagram,i=e.currentTextEditor;if(null!==t&&null!==i){var a=t.text,r="";null!==i.valueFunction&&(r=i.valueFunction()),e.isValidText(t,a,r)?(e.Aa(e.name),e.la=ua,e.transactionResult=e.name,t.text=r,null!==t.textEdited&&t.textEdited(t,a,r),null!==n&&n.aa("TextEdited",t,a),e.vg(),e.stopTool(),null!==n&&n.doFocus()):(e.la=la,null!==t.errorFunction&&t.errorFunction(e,a,r),i.show(t,n,e))}}_i.className="ContextMenuTool",B("contextMenuTool",(function(){return this.findTool("ContextMenu")}),(function(e){jn(this,"ContextMenu",e,this.mouseUpTools)})),f(Yi,On),Yi.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(null===e||e.isReadOnly||!e.lastInput.left||this.isBeyondDragSize())return!1;var t=e.Sb(e.lastInput.documentPoint);return!!(null!==t&&t instanceof gu&&t.editable&&t.part.canEdit())&&(t=t.part,!(null===t||this.starting===na&&!t.isSelected||this.starting===ia&&e.lastInput.clickCount<2))},Yi.prototype.doStart=function(){this.isActive||null===this.textBlock||this.doActivate()},Yi.prototype.doActivate=function(){if(!this.isActive){var e=this.diagram;if(null!==e){var t=this.textBlock;if(null===t&&(t=e.Sb(e.lastInput.documentPoint)),null!==t&&t instanceof gu&&(this.textBlock=t,null!==t.part)){this.isActive=!0,this.la=ra;var n=this.defaultTextEditor;null!==t.textEditor&&(n=t.textEditor),this.kh=this.textBlock.copy();var i=new Ue(this.textBlock.ma(ut),this.textBlock.ma(vt));e.Fv(i),n.show(t,e,this),this.currentTextEditor=n}}}},Yi.prototype.doCancel=function(){this.stopTool()},Yi.prototype.doMouseUp=function(){!this.isActive&&this.canStart()&&this.doActivate()},Yi.prototype.doMouseDown=function(){this.isActive&&this.acceptText(Xi)},Yi.prototype.acceptText=function(e){switch(e){case Xi:this.la===ua?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():this.la!==ra&&this.la!==la&&this.la!==oa||(this.la=sa,Ki(this));break;case Ji:case ea:case Zi:ea===e&&!0===this.textBlock.isMultiline||this.la!==ra&&this.la!==la&&this.la!==oa||(this.la=sa,Ki(this))}},Yi.prototype.doDeactivate=function(){var e=this.diagram;null!==e&&(this.la=aa,this.textBlock=null,null!==this.currentTextEditor&&this.currentTextEditor.hide(e,this),this.isActive=!1)},Yi.prototype.isValidText=function(e,t,n){var i=this.textValidation;return!(null!==i&&!i(e,t,n))&&(i=e.textValidation,!(null!==i&&!i(e,t,n)))},Yi.prototype.ux=function(e){var t=this.kh;return t.text=e,t.measure(this.textBlock.jl,1/0),t},p.Object.defineProperties(Yi.prototype,{textBlock:{get:function(){return this.Ma},set:function(e){this.Ma=e}},currentTextEditor:{get:function(){return this.u},set:function(e){this.u=e}},defaultTextEditor:{get:function(){return this.l},set:function(e){this.l=e}},starting:{get:function(){return this.La},set:function(e){this.La=e}},textValidation:{get:function(){return this.vi},set:function(e){this.vi=e}},minimumEditorScale:{get:function(){return this.K},set:function(e){this.K=e}},selectsTextOnActivate:{get:function(){return this.ba},set:function(e){this.ba=e}},state:{get:function(){return this.la},set:function(e){this.la!==e&&(this.la=e)}}}),Yi.prototype.measureTemporaryTextBlock=Yi.prototype.ux;var Ji=new Y(Yi,"LostFocus",0),Xi=new Y(Yi,"MouseDown",1),Zi=new Y(Yi,"Tab",2),ea=new Y(Yi,"Enter",3),ta=new Y(Yi,"SingleClick",0),na=new Y(Yi,"SingleClickSelected",1),ia=new Y(Yi,"DoubleClick",2),aa=new Y(Yi,"StateNone",0),ra=new Y(Yi,"StateActive",1),oa=new Y(Yi,"StateEditing",2),sa=new Y(Yi,"StateValidating",3),la=new Y(Yi,"StateInvalid",4),ua=new Y(Yi,"StateValidated",5);function ca(){ka||(xa(),ka=!0),this.pw=da,this.C=lo,this.rn=this.sn=null,this.Zi=this.tn=this.un=0,this.Ak=this.Yg=this.rb=this.Dr=this.Kf=!1,this.Pg=this.Dc=!0,this.Uq=this.Tq=this.ow=null,this.nw=0,this.Wq=new me,this.Vt=600,this.Wx=new ge(0,0),this.lw=this.kw=this.Mw=!1,this.zk=new re,this.xj=new me,this.Uk=new me,this.$r=new re,this.Vq=null}function da(e,t,n,i){return e/=i/2,e<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}function ha(e){if(e.Dc&&(e.zk.clear(),e.rb))if(e.Ak){if(0===e.Zi){var t=+new Date;e.Zi=t,v.requestAnimationFrame((function(){if(!1!==e.rb&&!e.Kf&&e.Zi===t){var n=e.C;n.De("temporaryPixelRatio")&&Ra(n),Ba(n),e.rb=!1,e.Yg=!1,n.aa("AnimationStarting"),ma(e,t)}}))}}else e.rb=!1,e.Yg=!1}function fa(e){return e instanceof ge||e instanceof Be?e.copy():e}function pa(e,t){return!!e.Kf&&(e=e.xj.J(t),null!==e&&e.pt)}function ma(e,t){function n(){if(!1!==a.Kf&&a.Zi===t){var e=+new Date,r=e>p?u:e-f;ga(a),ya(a,i,h,o,r,u),a.Tq&&a.Tq(),or(i),va(a),e>p?ba(a):v.requestAnimationFrame(n)}}var i=e.C;if(null!==i){var a=e,r=e.Vq||{},o=r.cA||e.pw,s=r.gA||null,l=r.hA||null,u=r.duration||e.Vt,c=e.Wx;for(r=e.xj.iterator;r.next();){var d=r.value.start.position;d instanceof ge&&(d.o()||d.assign(c))}e.ow=o,e.Tq=s,e.Uq=l,e.nw=u,e.Wq=e.xj;var h=e.Wq;for(r=h.iterator;r.next();)s=r.value.end,s["position:placeholder"]&&(l=r.key.findVisibleNode(),l instanceof Jc&&null!==l.placeholder&&(c=l.placeholder,l=c.ma(ut),c=c.padding,l.x+=c.left,l.y+=c.top,s["position:placeholder"]=l));e.Kf=!0,ga(e),ya(e,i,h,o,0,u),or(e.C,!0),va(e);var f=+new Date,p=f+u;a.Zi===t&&v.requestAnimationFrame((function(){n()}))}}function ga(e){if(!e.Dr){var t=e.C;e.Mw=t.skipsUndoManager,e.kw=t.skipsModelSourceBindings,e.lw=t.Ui,t.skipsUndoManager=!0,t.skipsModelSourceBindings=!0,t.Ui=!0,e.Dr=!0}}function va(e){var t=e.C;t.skipsUndoManager=e.Mw,t.skipsModelSourceBindings=e.kw,t.Ui=e.lw,e.Dr=!1}function ya(e,t,n,i,a,r){for(n=n.iterator;n.next();){var o=n.key,s=n.value,l=s.start,u=s.end,c=Ca;for(d in u)"position"===d&&(u["position:placeholder"]||u["position:node"])||null===c.get(d)||c.get(d)(o,l[d],u[d],i,a,r,s)}i=t.jv,t.jv=!0;var d=e.pw;0!==e.un&&0!==e.tn&&(n=e.un,t.Ca=d(a,n,e.tn-n,r)),null!==e.sn&&null!==e.rn&&(n=e.sn,e=e.rn,t.sa=new ge(d(a,n.x,e.x-n.x,r),d(a,n.y,e.y-n.y,r))),t.jv=i}function ba(e){e.Kf=!1,e.Ak=!1,ga(e);for(var t=e.C,n=e.ow,i=e.nw,a=e.Wq,r=e.Uk.iterator;r.next();)t.remove(r.value);for(r=e.$r.iterator;r.next();)r.value.s();for(a=a.iterator,r=Ca;a.next();){var o,s=a.key,l=a.value,u=l.start,c=l.end,d=l.Uu;for(o in c)if(null!==r.get(o)){var h=o;!l.Pu||"position:node"!==h&&"position:placeholder"!==h||(h="position"),r.get(h)(s,u[o],void 0!==d[o]?d[o]:l.Pu?u[o]:c[o],n,i,i)}l.Pu&&void 0!==d.location&&s instanceof lc&&(s.location=d.location),l.pt&&s instanceof lc&&s.Mb(!1)}for(n=e.C.links;n.next();)i=n.value,null!==i.bh&&(i.points=i.bh,i.bh=null);t.gt.clear(),ja(t,!1),t.Xa(),t.R(),t.fd(),ar(t),va(e),e.Uq&&e.Uq(),e.Zi=0,e.Wq.clear(),e.Uq=null,e.Tq=null,e.sn=null,e.rn=null,e.un=0,e.tn=0,e.xj.clear(),e.Uk.count>0&&e.Uk.clear(),e.$r.count>0&&e.$r.clear(),e.Vq=null,t.aa("AnimationFinished"),t.cc()}function Aa(e,t,n){e.rb&&!t.A(n)&&(null===e.sn&&t.o()&&null===e.rn&&(e.sn=t.copy()),e.rn=n.copy(),e.Ak=!0)}function wa(e,t,n){e.rb&&e.C.Oi&&(0===e.un&&0===e.tn&&(e.un=t),e.tn=n,e.Ak=!0)}function xa(){var e=new me;e.add("position",(function(e,t,n,i,a,r){a!==r?e.wt(i(a,t.x,n.x-t.x,r),i(a,t.y,n.y-t.y,r)):e.position=new ge(i(a,t.x,n.x-t.x,r),i(a,t.y,n.y-t.y,r))})),e.add("position:placeholder",(function(e,t,n,i,a,r){a!==r?e.wt(i(a,t.x,n.x-t.x,r),i(a,t.y,n.y-t.y,r)):e.position=new ge(i(a,t.x,n.x-t.x,r),i(a,t.y,n.y-t.y,r))})),e.add("position:node",(function(e,t,n,i,a,r){var o=e.actualBounds,s=n.actualBounds;n=s.x+s.width/2-o.width/2,o=s.y+s.height/2-o.height/2,a!==r?e.wt(i(a,t.x,n-t.x,r),i(a,t.y,o-t.y,r)):e.position=new ge(i(a,t.x,n-t.x,r),i(a,t.y,o-t.y,r))})),e.add("opacity",(function(e,t,n,i,a,r){e.opacity=i(a,t,n-t,r)})),e.add("scale",(function(e,t,n,i,a,r){e.scale=i(a,t,n-t,r)})),e.add("angle",(function(e,t,n,i,a,r){e.angle=i(a,t,n-t,r)})),e.add("visible",(function(e,t,n,i,a,r){e.visible=a!==r?t:n})),Ca=e}Yi.className="TextEditingTool",Yi.LostFocus=Ji,Yi.MouseDown=Xi,Yi.Tab=Zi,Yi.Enter=ea,Yi.SingleClick=ta,Yi.SingleClickSelected=na,Yi.DoubleClick=ia,Yi.StateNone=aa,Yi.StateActive=ra,Yi.StateEditing=oa,Yi.StateValidating=sa,Yi.StateInvalid=la,Yi.StateValidated=ua,B("textEditingTool",(function(){return this.findTool("TextEditing")}),(function(e){jn(this,"TextEditing",e,this.mouseUpTools)})),ca.prototype.hb=function(e){this.C=e},ca.prototype.canStart=function(){return!0},n=ca.prototype,n.Ri=function(e,t){this.Dc&&(void 0!==t&&(this.Vq=t),this.Pg||this.C.Oi)&&(this.zk.add(e),this.canStart(e)&&(this.Kf&&this.vd(),this.Yg=this.rb=!0))},n.zx=function(e,t){this.Dc&&(void 0!==t&&(this.Vq=t),this.Pg||this.C.Oi)&&(this.zk.add(e),this.canStart(e)&&(this.Kf&&this.vd(),this.rb=!0))},n.ye=function(e,t,n,i,a,r){if(!(!this.rb||"position"===t&&n.A(i)||e instanceof lc&&!e.isAnimated)){if(this.zk.contains("Remove")&&e instanceof lc&&e.Lb()){var o=this.C,s=e.key;this.Uk.contains(s)?e=this.Uk.get(s):(e=e.copy(),e.data=null,o.add(e),this.Uk.add(s,e))}if(o=this.xj,o.contains(e)){s=o.J(e),o=s.start;var l=s.end;void 0===o[t]&&(o[t]=fa(n)),a||(s.Uu[t]=fa(i)),l[t]=fa(i)}else s={},l={},s[t]=fa(n),l[t]=fa(i),n=s.position,n instanceof ge&&!n.o()&&this.zk.contains("Expand SubGraph")&&n.assign(l.position),s=new Sa(s,l,a),o.add(e,s);a&&0===t.indexOf("position:")&&e instanceof lc&&(s.Uu.location=fa(e.location)),r&&(s.pt=!0),this.Ak=!0}},n.vd=function(){!0===this.rb&&(this.Yg=this.rb=!1,this.Zi=0,this.Ak&&this.C.cc()),this.Kf&&this.Dc&&ba(this)},n.Kp=function(e,t){if(this.Yg){var n=t.actualBounds,i=null;if(t instanceof Jc&&(i=t.placeholder),null!==i?(n=i.ma(ut),i=i.padding,n.x+=i.left,n.y+=i.top,this.ye(e,"position",n,e.position,!1)):this.ye(e,"position",new ge(n.x+n.width/2,n.y+n.height/2),e.position,!1),this.ye(e,"scale",.01,e.scale,!1),e instanceof Jc)for(e=e.memberParts;e.next();)i=e.value,i instanceof Mc&&this.Kp(i,t)}},n.Jp=function(e,t){if(e.isVisible()&&this.Yg){var n=null;if(t instanceof Jc&&(n=t.placeholder),null!==n?this.ye(e,"position:placeholder",e.position,n,!0):this.ye(e,"position:node",e.position,t,!0),this.ye(e,"scale",e.scale,.01,!0),this.rb&&(n=this.xj,n.contains(e)&&(n.J(e).pt=!0)),e instanceof Jc)for(e=e.memberParts;e.next();)n=e.value,n instanceof Mc&&this.Jp(n,t)}},p.Object.defineProperties(ca.prototype,{animationReasons:{get:function(){return this.zk}},isEnabled:{get:function(){return this.Dc},set:function(e){this.Dc=e}},duration:{get:function(){return this.Vt},set:function(e){e<1&&k(e,">= 1",ca,"duration"),this.Vt=e}},isAnimating:{get:function(){return this.Kf}},isTicking:{get:function(){return this.Dr}},isInitial:{get:function(){return this.Pg},set:function(e){this.Pg=e}}}),ca.prototype.stopAnimation=ca.prototype.vd,ca.prototype.addToAnimation=ca.prototype.ye,ca.prototype.prepareAnimation=ca.prototype.zx,ca.prototype.prepareAutomaticAnimation=ca.prototype.Ri;var Ca=null,ka=!1;function Sa(e,t,n){this.start=e,this.end=t,this.Uu={},this.Pu=n,this.pt=!1}function Ta(){oe(this),this.C=null,this.Fa=new ie,this.Ua="",this.lb=1,this.u=!1,this.Bj=this.K=this.Nh=this.Mh=this.Lh=this.Kh=this.Ih=this.Jh=this.Hh=this.Ph=this.Gh=this.Oh=this.Fh=this.Eh=!0,this.l=!1,this.Jo=[]}function Na(e,t){var n=t.actualBounds,i=t.naturalBounds;if(0!==n.width&&0!==n.height&&!isNaN(n.x)&&!isNaN(n.y)&&t.isVisible()){var a=t.transform;null!==t.areaBackground&&(ns(t,e,t.areaBackground,!0,!0,i,n),e.fillRect(n.x,n.y,n.width,n.height)),null===t.areaBackground&&null===t.background&&(ns(t,e,"rgba(0,0,0,0.4)",!0,!1,i,n),e.fillRect(n.x,n.y,n.width,n.height)),null!==t.background&&(e.transform(a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),ns(t,e,t.background,!0,!1,i,n),e.fillRect(0,0,i.width,i.height),a.ct()||(t=1/(a.m11*a.m22-a.m12*a.m21),e.transform(a.m22*t,-a.m12*t,-a.m21*t,a.m11*t,t*(a.m21*a.dy-a.m22*a.dx),t*(a.m12*a.dx-a.m11*a.dy))))}}function Ia(e,t,n){if(t=Da(e,t,n),n instanceof Jc&&null!==n&&isNaN(n.zOrder)){if(0!==n.memberParts.count){for(var i=-1,a=e.Fa.j,r=a.length,o=0;o<r;o++){var s=a[o];if(s===n&&(t=o,i>=0))break;if(i<0&&s.containingGroup===n&&(i=o,t>=0))break}!(i<0)&&i<t&&(a=e.Fa,a.mb(t),a.Ib(i,n))}n=n.containingGroup,null!==n&&Ia(e,-1,n)}}function Da(e,t,n){var i=n.zOrder;if(isNaN(i))return t;e=e.Fa;var a=e.count;if(a<=1)return t;if(t<0&&(t=e.indexOf(n)),t<0)return-1;for(var r=t-1,o=NaN;r>=0;){if(o=e.N(r).zOrder,!isNaN(o))break;r--}for(var s=t+1,l=NaN;s<a;){if(l=e.N(s).zOrder,!isNaN(l))break;s++}if(!isNaN(o)&&o>i)for(;;){if(-1===r||o<=i){if(r++,r===t)break;return e.mb(t),e.Ib(r,n),r}for(o=NaN;--r>=0&&(o=e.N(r).zOrder,isNaN(o)););}else if(!isNaN(l)&&l<i)for(;;){if(s===a||l>=i){if(s--,s===t)break;return e.mb(t),e.Ib(s,n),s}for(l=NaN;++s<a&&(l=e.N(s).zOrder,isNaN(l)););}return t}function Pa(e){function t(){n.removeEventListener(v.document,"DOMContentLoaded",t,!1),n.setRTL()}arguments.length>1&&x("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Oo||(Mo(),Oo=!0),oe(this),lo=this,G=[],this.ob=!0,this.yk=new ca,this.yk.hb(this),this.Gb=17,this.Tn=!1,this.ru="default",this.Ia=null;var n=this;fo&&(null!==v.document.body?this.setRTL():n.addEventListener(v.document,"DOMContentLoaded",t,!1)),this.Pa=new ie,this.wa=this.xa=0,this.Da=null,this.pu=new me,this.$g=this.Yc=null,this.Dv(),this.dl=null,this.Cv(),this.sa=new ge(NaN,NaN).freeze(),this.Zq=this.Ca=1,this.ur=new ge(NaN,NaN).freeze(),this.vr=NaN,this.Pr=1e-4,this.Nr=100,this.tb=new st,this.Is=new ge(NaN,NaN).freeze(),this.jr=new Ue(NaN,NaN,NaN,NaN).freeze(),this.ri=new tt(0,0,0,0).freeze(),this.Gj=So,this.rs=!1,this.ms=this.hs=null,this.aj=go,this.cj=Mt,this.ai=go,this.On=Mt,this.wr=this.tr=ut,this.nc=!0,this.Pn=!1,this.Dd=new re,this.Wh=new me,this.xn=!0,this.Tm=250,this.Bk=-1,this.Um=new tt(16,16,16,16).freeze(),this.Rk=this.qd=!1,this.Xk=!0,this.Xh=new xn,this.Xh.diagram=this,this.Xe=new xn,this.Xe.diagram=this,this.qj=new xn,this.qj.diagram=this,this.ne=this.zf=null,this.Ml=!1,this.Rt=this.St=null,this.Gq=v.PointerEvent&&(U||q||z)&&v.navigator&&!1!==v.navigator.msPointerEnabled,Ur(this),this.xi=new re,this.Er=!0,this.Ds=No,this.Wb=!1,this.Fs=bo,this.Ma=null,uo.add("Model",Dh),this.ba=this.La=this.Vb=null,this.Sq="",this.qn="auto",this.Rf=this.Sr=this.Tf=this.Uf=this.Wf=this.Bf=this.Ff=this.Af=null,this.pr=!1,this.Cf=this.gg=this.Vf=this.Sf=null,this.ku=!1,this.nu={},this.vl=[null,null],this.K=null,this.Qt=this.wu=this.Ch=this.eh=!1,this.Vc=!0,this.mj=this.Zb=!1,this.$b=null;var i=this;this.wg=function(e){var t=i.partManager;if(e.model===t.diagram.model&&t.diagram.da){t.diagram.da=!1;try{var n=e.change;""===e.modelChange&&n===Tn&&t.updateDataBindings(e.object,e.propertyName)}finally{t.diagram.da=!0}}},this.Cm=function(e){i.partManager.doModelChanged(e)},this.Ow=!0,this.fe=-2,this.Cj=new me,this.mu=new ie,this.Lf=!1,this.Fh=this.Eh=this.yq=this.Dc=!0,this.zq=!1,this.Fq=this.Dq=this.Nh=this.Mh=this.Lh=this.Kh=this.Ih=this.Jh=this.Hh=this.Cq=this.Ph=this.Gh=this.Oh=this.Aq=!0,this.he=this.Kc=!1,this.Eq=this.Bq=this.rr=this.qr=!0,this.qs=this.os=16,this.tu=this.ns=!1,this.fp=this.ps=null,this.uu=this.vu=0,this.eb=new tt(5).freeze(),this.ts=(new re).freeze(),this.Or=999999999,this.sr=(new re).freeze(),this.bi=this.kj=this.Og=!0,this.Zh=this.Ng=!1,this.gc=null,this.zg=!0,this.ge=!1,this.wq=new re,this.zw=new re,this.Ob=null,this.Ho=1,this.Iw=0,this.we={scale:1,position:new ge,bounds:new Ue,qx:!1},this.Nw=new Ue(NaN,NaN,NaN,NaN).freeze(),this.Ep=new Be(NaN,NaN).freeze(),this.vn=new Ue(NaN,NaN,NaN,NaN).freeze(),this.Fr=!1,this.cr=null,_a(this),this.Kr=this.mr=this.Yr=this.rw=this.qw=this.sw=this.Sg=this.Yh=this.Xf=null,Ma(this),this.Eb=null,this.lr=!1,this.Jk=null,this.partManager=new Dh,this.toolManager=new En,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.br=null,this.Lk=new Vo,this.cs=this.bs=null,this.vp=!1,this.commandHandler=Oa(),this.model=df(),this.eh=!0,this.layout=new lh,this.eh=!1,this.uw=this.Ut=null,this.Nb=1,this.jh=null,this.Tr=0,this.Ur=[0,0,0,0,0],this.Vr=0,this.Fd=1,this.kl=0,this.Hr=new ge,this.Bu=500,this.Hq=new ge,this.Qe=!1,this.preventDefault=this.ot=this.km=this.lm=this.jm=this.im=this.jk=this.lk=this.kk=this.hk=this.ik=this.Zv=this.Rv=this.Sv=this.Tv=this.pi=this.$o=this.oi=this.Zo=null,this.u=!1,this.$h=new Eo,this.As=!1,void 0!==e&&jo(this,e),this.ob=!1}function La(e,t){var n=null;null!==e.Eb&&(n=e.Eb.part),e.animationManager.vd();for(var i=[],a=e.Pa.length,r=0;r<a;r++){var o=e.Pa.j[r];if(t)for(var s=o.parts;s.next();){var l=s.value;l!==n&&null===l.data&&i.push(l)}o.clear()}if(e.partManager.clear(),e.Dd.clear(),e.Wh.clear(),e.xi.clear(),e.ts.ha(),e.ts.clear(),e.ts.freeze(),e.sr.ha(),e.sr.clear(),e.sr.freeze(),e.Jk=null,H=[],null!==n&&(e.add(n),e.partManager.parts.remove(n)),t)for(t=0;t<i.length;t++)e.add(i[t])}function Oa(){return null}function Ma(e){e.Xf=new me;var t=new Mc,n=new gu;n.bind(new vf("text","",R)),t.add(n),e.sw=t,e.Xf.add("",t),t=new Mc,n=new gu,n.stroke="brown",n.bind(new vf("text","",R)),t.add(n),e.Xf.add("Comment",t),t=new Mc,t.selectable=!1,t.avoidable=!1,n=new ou,n.figure="Ellipse",n.fill="black",n.stroke=null,n.desiredSize=new Be(3,3).ga(),t.add(n),e.Xf.add("LinkLabel",t),e.Yh=new me,t=new Jc,t.selectionObjectName="GROUPPANEL",t.type=Tl.Vertical,n=new gu,n.font="bold 12pt sans-serif",n.bind(new vf("text","",R)),t.add(n),n=new Tl(Tl.Auto),n.name="GROUPPANEL";var i=new ou;i.figure="Rectangle",i.fill="rgba(128,128,128,0.2)",i.stroke="black",n.add(i),i=new nd,i.padding=new tt(5,5,5,5).ga(),n.add(i),t.add(n),e.qw=t,e.Yh.add("",t),e.Sg=new me,t=new id,n=new ou,n.isPanelMain=!0,t.add(n),n=new ou,n.toArrow="Standard",n.fill="black",n.stroke=null,n.strokeWidth=0,t.add(n),e.rw=t,e.Sg.add("",t),t=new id,n=new ou,n.isPanelMain=!0,n.stroke="brown",t.add(n),e.Sg.add("Comment",t),t=new Oc,t.type=Tl.Auto,n=new ou,n.fill=null,n.stroke="dodgerblue",n.strokeWidth=3,t.add(n),n=new nd,n.margin=new tt(1.5,1.5,1.5,1.5).ga(),t.add(n),e.Yr=t,e.mr=t,t=new Oc,t.type=Tl.Link,n=new ou,n.isPanelMain=!0,n.fill=null,n.stroke="dodgerblue",n.strokeWidth=3,t.add(n),e.Kr=t}function Ea(e){var t=e.Da.Ga;t instanceof HTMLCanvasElement&&(e.Gq?(e.addEventListener(t,"pointerdown",e.im,!1),e.addEventListener(t,"pointermove",e.jm,!1),e.addEventListener(t,"pointerup",e.lm,!1),e.addEventListener(t,"pointerout",e.km,!1)):(e.addEventListener(t,"touchstart",e.Tv,!1),e.addEventListener(t,"touchmove",e.Sv,!1),e.addEventListener(t,"touchend",e.Rv,!1),e.addEventListener(t,"mousemove",e.ik,!1),e.addEventListener(t,"mousedown",e.hk,!1),e.addEventListener(t,"mouseup",e.kk,!1),e.addEventListener(t,"mouseout",e.jk,!1)),e.addEventListener(t,"mouseenter",e.Fy,!1),e.addEventListener(t,"mouseleave",e.Gy,!1),e.addEventListener(t,"wheel",e.lk,!1),e.addEventListener(t,"keydown",e.vz,!1),e.addEventListener(t,"keyup",e.wz,!1),e.addEventListener(t,"blur",e.sy,!1),e.addEventListener(t,"focus",e.ty,!1),e.addEventListener(t,"selectstart",(function(e){return e.preventDefault(),!1}),!1),e.addEventListener(t,"contextmenu",(function(e){return e.preventDefault(),!1}),!1),e.addEventListener(t,"gesturestart",(function(t){e.toolManager.gestureBehavior!==qn&&(e.toolManager.gestureBehavior===Un?t.preventDefault():e.Qe&&e.lastInput.handled||(t.preventDefault(),e.Ho=e.scale,e.currentTool.doCancel()))}),!1),e.addEventListener(t,"gesturechange",(function(t){if(e.toolManager.gestureBehavior!==qn)if(e.toolManager.gestureBehavior===Un)t.preventDefault();else if(!e.Qe||!e.lastInput.handled){t.preventDefault();var n=t.scale;if(null!==e.Ho){var i=e.Da.getBoundingClientRect();if(t=new ge(t.pageX-window.scrollX-e.xa/i.width*i.left,t.pageY-window.scrollY-e.wa/i.height*i.top),n=e.Ho*n,i=e.commandHandler,n!==e.scale&&i.canResetZoom(n)){var a=e.zoomPoint;e.zoomPoint=t,i.resetZoom(n),e.zoomPoint=a}}}}),!1),e.addEventListener(v,"resize",e.Zv,!1))}function Ra(e){e.Tr>30&&(e.jh=1)}function ja(e,t){null!==e.jh&&(e.jh=null,t&&e.ot())}function Ba(e){if(null!==e.Da){var t=e.Ia;if(0!==t.clientWidth&&0!==t.clientHeight){e.setScrollWidth();var n=e.Zh?e.Gb:0,i=e.Ng?e.Gb:0,a=e.Nb;e.Nb=e.computePixelRatio(),e.Nb!==a&&(e.Pn=!0,e.cc()),t.clientWidth===e.xa+n&&t.clientHeight===e.wa+i||(e.kj=!0,e.nc=!0,t=e.layout,null!==t&&t.isViewportSized&&e.autoScale===go&&(e.Rk=!0,t.B()),e.Zb||e.cc())}}}function _a(e){var t=new Ta;t.name="Background",e.Ql(t),t=new Ta,t.name="",e.Ql(t),t=new Ta,t.name="Foreground",e.Ql(t),t=new Ta,t.name="Adornment",t.isTemporary=!0,e.Ql(t),t=new Ta,t.name="Tool",t.isTemporary=!0,t.isBoundsIncluded=!0,e.Ql(t),t=new Ta,t.name="Grid",t.allowSelect=!1,t.pickable=!1,t.isTemporary=!0,e.Rw(t,e.Zl("Background"))}function Va(e){e.Eb=new Tl(Tl.Grid),e.Eb.name="GRID";var t=new ou;t.figure="LineH",t.stroke="lightgray",t.strokeWidth=.5,t.interval=1,e.Eb.add(t),t=new ou,t.figure="LineH",t.stroke="gray",t.strokeWidth=.5,t.interval=5,e.Eb.add(t),t=new ou,t.figure="LineH",t.stroke="gray",t.strokeWidth=1,t.interval=10,e.Eb.add(t),t=new ou,t.figure="LineV",t.stroke="lightgray",t.strokeWidth=.5,t.interval=1,e.Eb.add(t),t=new ou,t.figure="LineV",t.stroke="gray",t.strokeWidth=.5,t.interval=5,e.Eb.add(t),t=new ou,t.figure="LineV",t.stroke="gray",t.strokeWidth=1,t.interval=10,e.Eb.add(t),t=new lc,t.add(e.Eb),t.layerName="Grid",t.zOrder=0,t.isInDocumentBounds=!1,t.isAnimated=!1,t.pickable=!1,t.locationObjectName="GRID",e.add(t),e.partManager.parts.remove(t),e.Eb.visible=!1}function Fa(){this.C.tu?this.C.tu=!1:this.C.isEnabled?this.C.bx(this):vr(this.C)}function Ua(e){this.C.isEnabled?(this.C.vu=e.target.scrollTop,this.C.uu=e.target.scrollLeft):vr(this.C)}function qa(e){if(e.fixedBounds.o()){var t=e.fixedBounds.copy();return t.Lp(e.eb),t}for(var n=!0,i=e.Pa.j,a=i.length,r=0;r<a;r++){var o=i[r];if(o.visible&&(!o.isTemporary||o.isBoundsIncluded)){o=o.Fa.j;for(var s=o.length,l=0;l<s;l++){var u=o[l];u.isInDocumentBounds&&u.isVisible()&&(u=u.actualBounds,u.o()&&(n?(n=!1,t=u.copy()):t.Jc(u)))}}}return n&&(t=new Ue(0,0,0,0)),t.Lp(e.eb),t}function za(e,t){if((t||e.ge)&&!e.ob&&null!==e.Da&&!e.animationManager.isAnimating&&e.documentBounds.o()){e.ob=!0;var n=e.aj;t&&e.ai!==go&&(n=e.ai);var i=n!==go?Qa(e,n):e.scale;n=e.viewportBounds.copy();var a=e.xa/i,r=e.wa/i,o=null,s=e.animationManager;s.rb&&(o=e.sa.copy());var l=e.cj,u=e.On;t&&!l.gb()&&(u.gb()||u.Kb())&&(l=u.Kb()?ft:u),$a(e,e.documentBounds,a,r,l,t),null!==o&&Aa(s,o,e.sa),t=e.scale,e.scale=i,e.ob=!1,i=e.viewportBounds,i.Qa(n)||e.iq(n,i,t,!1)}}function Qa(e,t){var n=e.Zq;if(null===e.Da)return n;e.Og&&jr(e,e.computeBounds());var i=e.documentBounds;if(!i.o())return n;var a=i.width;i=i.height;var r=e.xa,o=e.wa,s=r/a,l=o/i;return t===vo?(t=Math.min(l,s),t>n&&(t=n),t<e.minScale&&(t=e.minScale),t>e.maxScale&&(t=e.maxScale),t):t===yo?(t=l>s?(o-e.Gb)/i:(r-e.Gb)/a,t>n&&(t=n),t<e.minScale&&(t=e.minScale),t>e.maxScale&&(t=e.maxScale),t):e.scale}function $a(e,t,n,i,a,r){e.sa.ha();var o=e.sa,s=o.x,l=o.y;(r||e.scrollMode===So)&&(a.gb()&&(n>t.width&&(s=t.x+(a.x*t.width+a.offsetX)-(a.x*n-a.offsetX)),i>t.height&&(l=t.y+(a.y*t.height+a.offsetY)-(a.y*i-a.offsetY))),a=e.ri,r=n-t.width,n<t.width+a.left+a.right?(s=Math.min(s+n/2,t.right+Math.max(r,a.right)-n/2),s=Math.max(s,t.left-Math.max(r,a.left)+n/2),s-=n/2):s>t.left?s=t.left:s<t.right-n&&(s=t.right-n),n=i-t.height,i<t.height+a.top+a.bottom?(l=Math.min(l+i/2,t.bottom+Math.max(n,a.bottom)-i/2),l=Math.max(l,t.top-Math.max(n,a.top)+i/2),l-=i/2):l>t.top?l=t.top:l<t.bottom-i&&(l=t.bottom-i)),o.x=isFinite(s)?s:-e.eb.left,o.y=isFinite(l)?l:-e.eb.top,null!==e.positionComputation&&(t=e.positionComputation(e,o),o.x=t.x,o.y=t.y),e.sa.freeze()}function Ha(e,t,n,i){for(void 0===n&&(n=null),void 0===i&&(i=null),lr(e),e=e.Pa.iteratorBackwards;e.next();){var a=e.value;if(a.visible&&!a.isTemporary&&(a=a.Sb(t,n,i),null!==a))return a}return null}function Ga(e,t,n,i,a){for(void 0===n&&(n=null),void 0===i&&(i=null),a instanceof ie||a instanceof re||(a=new re),lr(e),e=e.Pa.iteratorBackwards;e.next();){var r=e.value;r.visible&&!r.isTemporary&&r.Fi(t,n,i,a)}return a}function Ya(e,t,n,i,a){var r=null;for(void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!1),a instanceof ie||a instanceof re||(a=new re),lr(e),e=e.Pa.iteratorBackwards;e.next();){var o=e.value;o.visible&&!o.isTemporary&&o.mg(t,r,n,i,a)}return a}function Wa(e,t,n,i,a,r){var o=null;for(void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=!0),!1!==a&&!0!==a&&((a instanceof ie||a instanceof re)&&(r=a),a=!0),r instanceof ie||r instanceof re||(r=new re),lr(e),e=e.Pa.iteratorBackwards;e.next();){var s=e.value;s.visible&&!s.isTemporary&&s.ng(t,n,o,i,a,r)}return r}function Ka(e,t,n){var i=e.Xe;return e.Xe=e.qj,e.qj=i,i.diagram=e,i.event=t,n?nr(e,t,i):(i.viewPoint=e.Xe.viewPoint,i.documentPoint=e.Xe.documentPoint),e=0,t.ctrlKey&&(e+=1),t.altKey&&(e+=2),t.shiftKey&&(e+=4),t.metaKey&&(e+=8),i.modifiers=e,i.button=t.button,void 0===t.buttons||F||(i.buttons=t.buttons),Q&&0===t.button&&t.ctrlKey&&(i.button=2),i.down=!1,i.up=!1,i.clickCount=1,i.delta=0,i.handled=!1,i.bubbles=!1,i.timestamp=t.timeStamp,i.isMultiTouch=!1,i.targetDiagram=Ja(t),i.targetObject=null,i}function Ja(e){var t=e.target.C;if(!t){var n=e.path;n||"function"!==typeof e.composedPath||(n=e.composedPath()),n&&n[0]&&(t=n[0].C)}return t||null}function Xa(e,t,n,i){var a=er(e,t,!0,!1,!0,i);return nr(e,n,a),a.targetDiagram=Ja(t),a.targetObject=null,i||a.clone(e.Xh),a}function Za(e,t,n,i){var a;return i=er(e,t,!1,!1,!1,i),null!==n?((a=v.document.elementFromPoint(n.clientX,n.clientY))&&a.C?(t=n,n=a.C):(t=void 0!==t.targetTouches?t.targetTouches[0]:t,n=e),i.targetDiagram=n,nr(e,t,i)):null!==e.Xe?(i.documentPoint=e.Xe.documentPoint,i.viewPoint=e.Xe.viewPoint,i.targetDiagram=e.Xe.targetDiagram):null!==e.Xh&&(i.documentPoint=e.Xh.documentPoint,i.viewPoint=e.Xh.viewPoint,i.targetDiagram=e.Xh.targetDiagram),i.targetObject=null,i}function er(e,t,n,i,a,r){var o=e.Xe;e.Xe=e.qj,e.qj=o,o.diagram=e,o.clickCount=1;var s=o.delta=0;return t.ctrlKey&&(s+=1),t.altKey&&(s+=2),t.shiftKey&&(s+=4),t.metaKey&&(s+=8),o.modifiers=s,o.button=0,o.buttons=1,o.event=t,o.timestamp=t.timeStamp,e.Gq&&t instanceof v.PointerEvent&&"touch"!==t.pointerType&&(o.button=t.button,void 0===t.buttons||F||(o.buttons=t.buttons),Q&&0===t.button&&t.ctrlKey&&(o.button=2)),o.down=n,o.up=i,o.handled=!1,o.bubbles=a,o.isMultiTouch=r,o}function tr(e,t){return!!e.bubbles||(void 0!==t.stopPropagation&&t.stopPropagation(),!1!==t.cancelable&&t.preventDefault(),t.cancelBubble=!0,!1)}function nr(e,t,n){var i=e.Da,a=e.xa,r=e.wa,o=0,s=0;null!==i&&(i=i.getBoundingClientRect(),o=t.clientX-a/i.width*i.left,s=t.clientY-r/i.height*i.top),n.viewPoint.h(o,s),null!==e.tb?(t=ge.allocAt(o,s),e.tb.Ud(t),n.documentPoint.assign(t),ge.free(t)):n.documentPoint.h(o,s)}function ir(e,t,n,i){if(void 0!==t.targetTouches){if(t.targetTouches.length<2)return;t=t.targetTouches[n]}else{if(null===e.vl[0])return;t=e.vl[n]}n=e.Da,null!==n&&(n=n.getBoundingClientRect(),i.h(t.clientX-e.xa/n.width*n.left,t.clientY-e.wa/n.height*n.top))}function ar(e){e.Zb||lr(e),e.Og&&jr(e,e.computeBounds())}function rr(e,t){e.animationManager.isAnimating||e.ob||!e.kj||vr(e)||(t&&lr(e),za(e,!1))}function or(e,t){if(!e.Zb&&(e.qd=!1,null!==e.Ia||e.Ep.o())){e.Zb=!0;var n=e.animationManager,i=e.mu;if(!n.isTicking&&0!==i.length){for(var a=i.j,r=a.length,o=0;o<r;o++){var s=a[o];ms(s,!1),s.s()}i.clear()}i=e.zw,i.count>0&&(i.each((function(e){e.Yv()})),i.clear()),a=i=!1,n.isAnimating&&(a=!0,i=e.skipsUndoManager,e.skipsUndoManager=!0),n.rb||Ba(e),rr(e,!1),null!==e.Eb&&(e.Eb.visible&&!e.lr&&(Ir(e),e.lr=!0),!e.Eb.visible&&e.lr&&(e.lr=!1)),lr(e),r=!1,e.ge&&!e.zg||(e.ge?Vr(e,!e.Rk):(e.Aa("Initial Layout"),!1===n.isEnabled&&n.vd(),Vr(e,!1)),r=!0),e.Rk=!1,lr(e),e.wu||n.isAnimating||ar(e),rr(e,!0),r&&(e.ge||sr(e),e.aa("LayoutCompleted")),lr(e),r&&!e.ge&&(e.ge=!0,e.Za("Initial Layout"),e.skipsUndoManager||e.undoManager.clear(),A((function(){e.isModified=!1}),1)),e.Ku(),ha(n),t||e.hc(e.Yc),a&&(e.skipsUndoManager=i),e.Zb=!1}}function sr(e){var t=e.Pa.j;if(e.hd(t,t.length,e),e.ai!==go?e.scale=Qa(e,e.ai):e.aj!==go?e.scale=Qa(e,e.aj):(t=e.initialScale,isFinite(t)&&t>0&&(e.scale=t)),t=e.initialPosition,t.o())e.position=t;else{t=ge.alloc(),t.Ti(e.documentBounds,e.initialDocumentSpot);var n=e.viewportBounds;n=Ue.allocAt(0,0,n.width,n.height);var i=ge.alloc();i.Ti(n,e.initialViewportSpot),i.h(t.x-i.x,t.y-i.y),e.position=i,Ue.free(n),ge.free(i),ge.free(t),fr(e),rr(e,!0),za(e,!0)}e.aa("InitialLayoutCompleted"),Ir(e)}function lr(e){if((e.Zb||!e.animationManager.isAnimating)&&0!==e.Dd.count){for(var t=0;t<23;t++){var n=e.Dd.iterator;if(null===n||0===e.Dd.count)break;e.Dd=new re,e.Yv(n,e.Dd)}e.nodes.each((function(e){e instanceof Jc&&0!==(65536&e.S)!==!1&&(e.S=65536^e.S)}))}}function ur(e,t){for(var n=O(),i=O(),a=t.memberParts;a.next();){var r=a.value;r.isVisible()&&(r instanceof Jc?(ps(r)||gs(r)||wc(r))&&ur(e,r):r instanceof id?r.fromNode===t||r.toNode===t?i.push(r):n.push(r):(r.measure(1/0,1/0),r.arrange()))}for(e=n.length,a=0;a<e;a++)r=n[a],r.measure(1/0,1/0),r.arrange();for(M(n),t.measure(1/0,1/0),t.arrange(),e=i.length,t=0;t<e;t++)n=i[t],n.measure(1/0,1/0),n.arrange();M(i)}function cr(e,t,n,i,a,r,o,s,l,u){if(null!==e.Ia){null===e.Da&&x("No canvas specified"),void 0===o&&(o=null),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===u&&(u=!1),mr(e),e.Yc.Rc(!0),pr(e),e.mj=!0;var c=e.Ca;e.Ca=a;var d=e.Pa.j,h=d.length;try{var f=new Ue(r.x,r.y,i.width/a,i.height/a),p=f.copy();p.Lp(n),Ir(e,p),lr(e),e.hd(d,h,e,f);var m=e.Nb;t.setTransform(1,0,0,1,0,0),t.scale(m,m),t.clearRect(0,0,i.width,i.height),null!==s&&""!==s&&(t.fillStyle=s,t.fillRect(0,0,i.width,i.height));var g=st.alloc();if(g.reset(),g.translate(n.left,n.top),g.scale(a),0===r.x&&0===r.y||g.translate(-r.x,-r.y),t.setTransform(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy),st.free(g),dr(e,t),null!==o){var v=new re,y=o.iterator;for(y.reset();y.next();){var b=y.value;!1===u&&"Grid"===b.layer.name||null===b||v.add(b)}var A=function(n){var i=l;if(n.visible&&0!==n.lb&&(void 0===i&&(i=!0),i||!n.isTemporary)){i=n.Fa.j;var a=i.length;if(0!==a){1!==n.lb&&(t.globalAlpha=n.lb),n=n.Jo,n.length=0;for(var r=e.scale,o=0;o<a;o++){var s=i[o];if(kc(s)&&v.contains(s)){if(s instanceof id&&(s.isOrthogonal&&n.push(s),!1===s.Lc))continue;var u=s.actualBounds;u.width*r>1||u.height*r>1?s.hc(t,e):Na(t,s)}}t.globalAlpha=1}}}}else if(!l&&u){var w=e.grid.part,C=w.layer;A=function(n){n===C?w.hc(t,e):n.hc(t,e,l)}}else A=function(n){n.hc(t,e,l)};for(n=0;n<h;n++)A(d[n]);e.mj=!1,e.$h&&Ro(e.$h,e)&&e.cr()}finally{e.Ca=c,e.Yc.Rc(!0),pr(e),e.hd(d,h,e),Ir(e)}}}function dr(e,t){e=e.$g,null!==e&&(void 0!==e.imageSmoothingEnabled&&t.Ix(!!e.imageSmoothingEnabled),e=e.defaultFont,void 0!==e&&null!==e&&(t.font=e))}function hr(e,t){var n,i=e instanceof Tl,a=e instanceof Pa;for(n in t){""===n&&x("Setting properties requires non-empty property names");var r=e,o=n;if(i||a){var s=n.indexOf(".");if(s>0){var l=n.substring(0,s);i?r=e.$a(l):(r=e[l],(void 0===r||null===r)&&(r=e.toolManager[l])),N(r)?o=n.substr(s+1):x("Unable to find object named: "+l+" in "+e.toString()+" when trying to set property: "+n)}}if("_"!==o[0]&&!j(r,o)){if(a&&"ModelChanged"===o){e.Tw(t[o]);continue}if(a&&"Changed"===o){e.rh(t[o]);continue}if(a&&j(e.toolManager,o))r=e.toolManager;else{if(a&&qr(e,o)){e.Nj(o,t[o]);continue}if(e instanceof Hh&&"Changed"===o){e.rh(t[o]);continue}x('Trying to set undefined property "'+o+'" on object: '+r.toString())}}r[o]=t[n],"_"===o[0]&&r instanceof Yo&&r.Qw(o)}}function fr(e){!1===e.kj&&(e.kj=!0)}function pr(e){!1===e.bi&&(e.bi=!0)}function mr(e){!1!==e.Pn&&(e.Pn=!1,gr(e,e.xa,e.wa))}function gr(e,t,n){var i=e.Nb;e.Da.resize(t*i,n*i,t,n)&&(e.nc=!0,e.Yc.Rc(!0))}function vr(e){var t=e.Da;if(null===t)return!0;var n=e.Ia,i=e.xa,a=e.wa,r=e.Nw.copy();if(!r.o())return!0;var o=!1,s=e.Zh?e.Gb:0,l=e.Ng?e.Gb:0,u=n.clientWidth||i+s;n=n.clientHeight||a+l,u===i+s&&n===a+l||(e.Zh=!1,e.Ng=!1,l=s=0,e.xa=u,e.wa=n,o=e.Pn=!0),e.kj=!1;var c=e.documentBounds,d=0,h=0,f=0,p=0;u=r.width,n=r.height;var m=e.ri;e.contentAlignment.gb()?(c.width>u&&(d=m.left,h=m.right),c.height>n&&(f=m.top,p=m.bottom)):(d=m.left,h=m.right,f=m.top,p=m.bottom),m=c.width+d+h;var g=c.height+f+p;d=c.x-d;var v=r.x;h=c.right+h;var y=r.right+s;f=c.y-f;var b=r.y;p=c.bottom+p;var A=r.bottom+l,w="1px",x="1px";c=e.scale;var C=!(m<u+s),k=!(g<n+l);if(e.scrollMode===So&&(C||k)&&(C&&e.hasHorizontalScrollbar&&e.allowHorizontalScroll&&(w=1,d+1<v&&(w=Math.max((v-d)*c+e.xa,w)),h>y+1&&(w=Math.max((h-y)*c+e.xa,w)),u+s+1<m&&(w=Math.max((m-u+s)*c+e.xa,w)),w=w.toString()+"px"),k&&e.hasVerticalScrollbar&&e.allowVerticalScroll&&(x=1,f+1<b&&(x=Math.max((b-f)*c+e.wa,x)),p>A+1&&(x=Math.max((p-A)*c+e.wa,x)),n+l+1<g&&(x=Math.max((g-n+l)*c+e.wa,x)),x=x.toString()+"px")),k="1px"!==w,C="1px"!==x,k&&C||!k&&!C||(C&&(y-=e.Gb),k&&(A-=e.Gb),m<u+s||!e.hasHorizontalScrollbar||!e.allowHorizontalScroll||(s=1,d+1<v&&(s=Math.max((v-d)*c+e.xa,s)),h>y+1&&(s=Math.max((h-y)*c+e.xa,s)),u+1<m&&(s=Math.max((m-u)*c+e.xa,s)),w=s.toString()+"px"),k="1px"!==w,s=e.wa,k!==e.Ng&&(s=k?e.wa-e.Gb:e.wa+e.Gb),g<n+l||!e.hasVerticalScrollbar||!e.allowVerticalScroll||(l=1,f+1<b&&(l=Math.max((b-f)*c+s,l)),p>A+1&&(l=Math.max((p-A)*c+s,l)),n+1<g&&(l=Math.max((g-n)*c+s,l)),x=l.toString()+"px"),C="1px"!==x),e.ns&&k===e.Ng&&C===e.Zh)return i===e.xa&&a===e.wa||e.fd(),!1;if(k!==e.Ng&&(e.wa="1px"===w?e.wa+e.Gb:Math.max(e.wa-e.Gb,1),o=!0),e.Ng=k,e.fp.style.width=w,C!==e.Zh&&(e.xa="1px"===x?e.xa+e.Gb:Math.max(e.xa-e.Gb,1),o=!0,e.Tn&&(l=ge.alloc(),C?(t.style.left=e.Gb+"px",e.position=l.h(e.sa.x+e.Gb/e.scale,e.sa.y)):(t.style.left="0px",e.position=l.h(e.sa.x-e.Gb/e.scale,e.sa.y)),ge.free(l))),e.Zh=C,e.fp.style.height=x,e.tu=!0,o&&(e.Pn=!0),t=e.ps,l=t.scrollLeft,e.hasHorizontalScrollbar&&e.allowHorizontalScroll&&(u+1<m?l=(e.position.x-d)*c:d+1<v?l=t.scrollWidth-t.clientWidth:h>y+1&&(l=e.position.x*c)),e.Tn)switch(e.ru){case"negative":l=-(t.scrollWidth-l-t.clientWidth);break;case"reverse":l=t.scrollWidth-l-t.clientWidth}return t.scrollLeft=l,e.hasVerticalScrollbar&&e.allowVerticalScroll&&(n+1<g?t.scrollTop=(e.position.y-f)*c:f+1<b?t.scrollTop=t.scrollHeight-t.clientHeight:p>A+1&&(t.scrollTop=e.position.y*c)),u=e.xa,n=e.wa,t.style.width=u+(e.Zh?e.Gb:0)+"px",t.style.height=n+(e.Ng?e.Gb:0)+"px",i===u&&a===n&&!e.animationManager.rb||(e.iq(r,e.viewportBounds,c,o),!1)}function yr(e,t,n){var i=t.layer;if(null!==i&&i.diagram===e){t.isSelected=!1,t.isHighlighted=!1;var a=e.animationManager;a.Yg&&t.Lb()&&a.animationReasons.contains("Remove")&&(a.ye(t,"scale",t.scale,.01,!1),a.ye(t,"angle",t.angle,180,!1)),t.B(2),n&&t.Yj(),n=i.xc(-1,t,!1),n>=0&&e.ab(In,"parts",i,t,null,n,null),e=t.layerChanged,null!==e&&e(t,i,null)}}function br(e,t,n,i,a){if(void 0===a&&(a=wr(e)),!t.contains(n)&&(!i||n.canMove()||n.canCopy()))if(n instanceof Mc){if(t.add(n,e.pd(a,n,n.location)),n instanceof Jc)for(var r=n.memberParts;r.next();)br(e,t,r.value,i,a);for(r=n.linksConnected;r.next();){var o=r.value;if(!t.contains(o)){var s=o.fromNode,l=o.toNode;null!==s&&t.contains(s)&&null!==l&&t.contains(l)&&br(e,t,o,i,a)}}if(a.dragsTree)for(n=n.$u();n.next();)br(e,t,n.value,i,a)}else if(n instanceof id)for(t.add(n,e.pd(a,n)),n=n.labelNodes;n.next();)br(e,t,n.value,i,a);else n instanceof Oc||t.add(n,e.pd(a,n,n.location))}function Ar(e,t,n,i,a){if(null!==t&&0!==t.count){var r=ge.alloc(),o=ge.alloc();o.assign(n),isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0),(n=e.vp)||Cr(e,t);for(var s=O(),l=O(),u=t.iterator,c=ge.alloc();u.next();){var d=u.key,h=u.value;if(d.Lb()){var f=Sr(e,d,t);null!==f?s.push(new _o(d,h,f)):a&&!d.canMove()||(f=h.point,r.assign(f),e.computeMove(d,r.add(o),i,c),d.location=c,void 0===h.shifted&&(h.shifted=new ge),h.shifted.assign(c.Xd(f)))}else u.key instanceof id&&l.push(u.na)}for(ge.free(c),a=s.length,u=0;u<a;u++)d=s[u],r.assign(d.info.point),void 0===d.ev.shifted&&(d.ev.shifted=new ge),d.node.location=r.add(d.ev.shifted);for(a=ge.alloc(),u=ge.alloc(),d=l.length,h=0;h<d;h++){var p=l[h];if(f=p.key,f instanceof id)if(f.suspendsRouting){f.bh=null,c=f.fromNode;var m=f.toNode;if(null!==e.draggedLink&&i.dragsLink)if(m=p.value.point,null===f.dragComputation)t.add(f,e.pd(i,f,o)),od(f,o.x-m.x,o.y-m.y);else{p=ge.allocAt(0,0),(c=f.i(0))&&c.o()&&p.assign(c);var g=c=ge.alloc().assign(p).add(o);i.isGridSnapEnabled&&(i.isGridSnapRealtime||e.lastInput.up)&&(g=ge.alloc(),xr(e,f,c,g,i)),c.assign(f.dragComputation(f,c,g)).Xd(p),t.add(f,e.pd(i,f,c)),od(f,c.x-m.x,c.y-m.y),ge.free(p),ge.free(c),g!==c&&ge.free(g)}else null!==c&&(a.assign(c.location),g=t.J(c),null!==g&&a.Xd(g.point)),null!==m&&(u.assign(m.location),g=t.J(m),null!==g&&u.Xd(g.point)),null!==c&&null!==m?a.Qa(u)?(c=p.value.point,m=r,m.assign(a),m.Xd(c),t.add(f,e.pd(i,f,a)),od(f,m.x,m.y)):(f.suspendsRouting=!1,f.Ra()):(p=p.value.point,c=null!==c?a:null!==m?u:o,t.add(f,e.pd(i,f,c)),od(f,c.x-p.x,c.y-p.y))}else null!==f.fromNode&&null!==f.toNode||(c=p.value.point,t.add(f,e.pd(i,f,o)),od(f,o.x-c.x,o.y-c.y))}ge.free(r),ge.free(o),ge.free(a),ge.free(u),M(s),M(l),n||(lr(e),kr(e,t))}}function wr(e){var t=e.toolManager.findTool("Dragging");return null!==t?t.dragOptions:e.Lk}function xr(e,t,n,i,a){if(void 0===a&&(a=wr(e)),i.assign(n),null!==t){var r=e.grid;t=a.gridSnapCellSize,e=t.width,t=t.height;var o=a.gridSnapOrigin,s=o.x;if(o=o.y,a=a.gridSnapCellSpot,null!==r){var l=r.gridCellSize;isNaN(e)&&(e=l.width),isNaN(t)&&(t=l.height),r=r.gridOrigin,isNaN(s)&&(s=r.x),isNaN(o)&&(o=r.y)}r=ge.allocAt(0,0),r.qk(0,0,e,t,a),Kt.Tp(n.x,n.y,s+r.x,o+r.y,e,t,i),ge.free(r)}}function Cr(e,t){if(null!==t)for(e.vp=!0,e=t.iterator;e.next();)t=e.key,t instanceof id&&(t.suspendsRouting=!0)}function kr(e,t){if(null!==t){for(t=t.iterator;t.next();){var n=t.key;n instanceof id&&(n.suspendsRouting=!1,dd(n)&&n.Ra())}e.vp=!1}}function Sr(e,t,n){if(t=t.containingGroup,null!==t){if(e=Sr(e,t,n),null!==e)return e;if(e=n.J(t),null!==e)return e}return null}function Tr(e,t,n){if(null!==t.diagram&&t.diagram!==e&&x("Cannot share a Layer with another Diagram: "+t+" of "+t.diagram),null===n?null!==t.diagram&&x("Cannot add an existing Layer to this Diagram again: "+t):(n.diagram!==e&&x("Existing Layer must be in this Diagram: "+n+" not in "+n.diagram),t===n&&x("Cannot move a Layer before or after itself: "+t)),t.diagram!==e){t=t.name,e=e.Pa,n=e.count;for(var i=0;i<n;i++)e.N(i).name===t&&x("Cannot add Layer with the name '"+t+"'; a Layer with the same name is already present in this Diagram.")}}function Nr(e,t,n){var i=e.animationManager;if(e.ob||e.Zb)e.Ca=n,wa(i,t,e.Ca);else if(e.ob=!0,null===e.Da)e.Ca=n;else{var a=e.viewportBounds.copy(),r=e.xa,o=e.wa;a.width=e.xa/t,a.height=e.wa/t;var s=e.zoomPoint.x,l=e.zoomPoint.y,u=e.contentAlignment;isNaN(s)&&(u.qf()?u.pf(bt)?s=0:u.pf(At)&&(s=r-1):s=u.gb()?u.x*(r-1):r/2),isNaN(l)&&(u.qf()?u.pf(yt)?l=0:u.pf(wt)&&(l=o-1):l=u.gb()?u.y*(o-1):o/2),null!==e.scaleComputation&&(n=e.scaleComputation(e,n)),n<e.minScale&&(n=e.minScale),n>e.maxScale&&(n=e.maxScale),r=ge.allocAt(e.sa.x+s/t-s/n,e.sa.y+l/t-l/n),e.position=r,ge.free(r),e.Ca=n,e.iq(a,e.viewportBounds,t,!1),e.ob=!1,za(e,!1),wa(i,t,e.Ca),e.R(),fr(e)}}function Ir(e,t){void 0===t&&(t=null);var n=e.Eb;if(null!==n&&n.visible){for(var i=Be.alloc(),a=1,r=1,o=n.Y.j,s=o.length,l=0;l<s;l++){var u=o[l],c=u.interval;c<2||(Ll(u.figure)?r=r*c/Kt.lx(r,c):a=a*c/Kt.lx(a,c))}if(o=n.gridCellSize,i.h(r*o.width,a*o.height),null!==t)a=t.width,r=t.height,e=t.x,o=t.y;else{if(t=Ue.alloc(),e=e.viewportBounds,t.h(e.x,e.y,e.width,e.height),!t.o())return void Ue.free(t);a=t.width,r=t.height,e=t.x,o=t.y,Ue.free(t)}n.width=a+2*i.width,n.height=r+2*i.height,t=ge.alloc(),Kt.Tp(e,o,0,0,i.width,i.height,t),t.offset(-i.width,-i.height),Be.free(i),n.part.location=t,ge.free(t)}}function Dr(e){if(e=e.selection,e.count>0){for(var t=e.Na(),n=t.length,i=0;i<n;i++)t[i].isSelected=!1;e.ha(),e.clear(),e.freeze()}}function Pr(e){var t=e.isModified;e.Ow!==t&&(e.Ow=t,e.aa("Modified"))}function Lr(e){return e=uo.get(e),null!==e?new e:new Dh}function Or(e,t){t=t.Y.j;for(var n=t.length,i=0;i<n;i++)Mr(e,t[i])}function Mr(e,t){if(t instanceof zu){var n=t.element;if(null!==n&&n instanceof HTMLImageElement){var i=t.Ig;if(null!==i&&(i.Zk instanceof Event&&null!==t.Cc&&t.Cc(t,i.Zk),!0===i.zr&&(null!==t.df&&t.df(t,i.su),null!==t.diagram&&t.diagram.mu.add(t))),n=n.src,i=e.Cj.J(n),null===i)i=[],i.push(t),e.Cj.add(n,i);else{for(e=0;e<i.length;e++)if(i[e]===t)return;i.push(t)}}}}function Er(e,t){t=t.Y.j;for(var n=t.length,i=0;i<n;i++)Rr(e,t[i])}function Rr(e,t){if(t instanceof zu){var n=t.element;if(null!==n&&n instanceof HTMLImageElement){n=n.src;var i=e.Cj.J(n);if(null!==i)for(var a=0;a<i.length;a++)if(i[a]===t){i.splice(a,1),0===i.length&&(e.Cj.remove(n),Qu(n));break}}}}function jr(e,t){e.Og=!1;var n=e.vn;n.A(t)||(t=t.I(),e.vn=t,za(e,!1),e.aa("DocumentBoundsChanged",null,n.copy()),fr(e))}function Br(e,t){for(var n=e.xi.iterator;n.next();)_r(e,n.value,t);null!==e.layout&&(t?e.layout.isValidLayout=!1:e.layout.B())}function _r(e,t,n){if(null!==t){for(var i=t.rl.iterator;i.next();)_r(e,i.value,n);null!==t.layout&&(n?t.layout.isValidLayout=!1:t.layout.B())}}function Vr(e,t){if(e.zg&&!e.Qt){var n=e.da;e.da=!0;var i=e.undoManager.transactionLevel,a=e.layout;try{0===i&&e.Aa("Layout");var r=e.animationManager;i<=1&&!r.isAnimating&&!r.rb&&(t||r.Ri("Layout")),e.zg=!1;for(var o=e.xi.iterator;o.next();)Fr(e,o.value,t,i);a.isValidLayout||(!t||a.isRealtime||null===a.isRealtime||0===i?(a.doLayout(e),lr(e),a.isValidLayout=!0):e.zg=!0)}finally{0===i&&e.Za("Layout"),e.zg=!a.isValidLayout,e.da=n}}}function Fr(e,t,n,i){if(null!==t){for(var a=t.rl.iterator;a.next();)Fr(e,a.value,n,i);a=t.layout,null===a||a.isValidLayout||(!n||a.isRealtime||0===i?(t.mk=!t.location.o(),a.doLayout(t),t.B(32),ur(e,t),a.isValidLayout=!0):e.zg=!0)}}function Ur(e){function t(e){var t=e.toLowerCase(),a=new ie;n.add(e,a),n.add(t,a),i.add(e,e),i.add(t,e)}var n=new me,i=new me;t("AnimationStarting"),t("AnimationFinished"),t("BackgroundSingleClicked"),t("BackgroundDoubleClicked"),t("BackgroundContextClicked"),t("ClipboardChanged"),t("ClipboardPasted"),t("DocumentBoundsChanged"),t("ExternalObjectsDropped"),t("GainedFocus"),t("InitialLayoutCompleted"),t("LayoutCompleted"),t("LinkDrawn"),t("LinkRelinked"),t("LinkReshaped"),t("LostFocus"),t("Modified"),t("ObjectSingleClicked"),t("ObjectDoubleClicked"),t("ObjectContextClicked"),t("PartCreated"),t("PartResized"),t("PartRotated"),t("SelectionMoved"),t("SelectionCopied"),t("SelectionDeleting"),t("SelectionDeleted"),t("SelectionGrouped"),t("SelectionUngrouped"),t("ChangingSelection"),t("ChangedSelection"),t("SubGraphCollapsed"),t("SubGraphExpanded"),t("TextEdited"),t("TreeCollapsed"),t("TreeExpanded"),t("ViewportBoundsChanged"),t("InvalidateDraw"),e.St=n,e.Rt=i}function qr(e,t){var n=e.Rt.J(t);return null!==n?n:e.Rt.J(t.toLowerCase())}function zr(e,t){var n=e.St.J(t);return null!==n?n:(n=e.St.J(t.toLowerCase()),null!==n?n:(x("Unknown DiagramEvent name: "+t),null))}function Qr(e){if(e.animationManager.isAnimating)return!1;var t=e.currentTool;return t!==e.toolManager.findTool("Dragging")||(!e.vp||t.isComplexRoutingRealtime)}function $r(e,t,n,i){if(null===e.Ob&&(e.Ob=new Qd),e.Ob.at||e.Ob.group!==n||e.Ob.Mx!==i){if(null===n){t=e.computeOccupiedArea(),t.Uc(100,100),e.Ob.initialize(t),t=Ue.alloc();for(var a=e.nodes;a.next();){var r=a.value,o=r.layer;null!==o&&o.visible&&!o.isTemporary&&Hr(e,r,i,t)}Ue.free(t)}else{for(n.memberParts.count>0&&(t=e.computePartsBounds(n.memberParts,!1),t.Uc(20,20),e.Ob.initialize(t)),t=Ue.alloc(),a=n.memberParts;a.next();)r=a.value,r instanceof Mc&&Hr(e,r,i,t);Ue.free(t)}e.Ob.group=n,e.Ob.Mx=i,e.Ob.at=!1}else t&&Yd(e.Ob);return e.Ob}function Hr(e,t,n,i){if(t!==n)if(t.isVisible()&&t.avoidable&&!t.isLinkLabel){var a=t.getAvoidableRect(i),r=e.Ob.Ul;n=e.Ob.Tl,i=a.x+a.width,t=a.y+a.height;for(var o=a.x;o<i;o+=r){for(var s=a.y;s<t;s+=n)Gd(e.Ob,o,s);Gd(e.Ob,o,t)}for(a=a.y;a<t;a+=n)Gd(e.Ob,i,a);Gd(e.Ob,i,t)}else if(t instanceof Jc)for(t=t.memberParts;t.next();)a=t.value,a instanceof Mc&&Hr(e,a,n,i)}function Gr(e,t){null!==e.Ob&&!e.Ob.at&&(void 0===t&&(t=null),null===t||t.avoidable&&!t.isLinkLabel)&&(e.Ob.at=!0)}function Yr(e){-1===e.Bk&&(e.Bk=A((function(){if(-1!==e.Bk&&(e.vf(),null!==e.lastInput.event)){var t=Wr(e,e.Hq);t.Qa(e.position)||(e.position=t,e.lastInput.documentPoint=e.yt(e.Hq),e.doMouseMove(),e.Og=!0,jr(e,e.documentBounds.copy().Jc(e.computeBounds())),e.nc=!0,e.fd(),Yr(e))}}),e.Tm))}function Wr(e,t){var n=e.position,i=e.Um;if(i.top<=0&&i.left<=0&&i.right<=0&&i.bottom<=0)return n;var a=e.viewportBounds,r=e.scale;a=Ue.allocAt(0,0,a.width*r,a.height*r);var o=ge.allocAt(0,0);if(t.x>=a.x&&t.x<a.x+i.left){var s=Math.max(e.scrollHorizontalLineChange,1);s|=0,o.x-=s,t.x<a.x+i.left/2&&(o.x-=s),t.x<a.x+i.left/4&&(o.x-=4*s)}else t.x<=a.x+a.width&&t.x>a.x+a.width-i.right&&(s=Math.max(e.scrollHorizontalLineChange,1),s|=0,o.x+=s,t.x>a.x+a.width-i.right/2&&(o.x+=s),t.x>a.x+a.width-i.right/4&&(o.x+=4*s));return t.y>=a.y&&t.y<a.y+i.top?(e=Math.max(e.scrollVerticalLineChange,1),e|=0,o.y-=e,t.y<a.y+i.top/2&&(o.y-=e),t.y<a.y+i.top/4&&(o.y-=4*e)):t.y<=a.y+a.height&&t.y>a.y+a.height-i.bottom&&(e=Math.max(e.scrollVerticalLineChange,1),e|=0,o.y+=e,t.y>a.y+a.height-i.bottom/2&&(o.y+=e),t.y>a.y+a.height-i.bottom/4&&(o.y+=4*e)),o.Qa(Le)||(n=new ge(n.x+o.x/r,n.y+o.y/r)),Ue.free(a),ge.free(o),n}function Kr(e,t,n){function i(){var e=+new Date;for(r=!0,o.reset();o.next();)if(!o.value[0].nl){r=!1;break}r||e-u>l?t(n,a,s):v.requestAnimationFrame(i)}for(var a=n.callback,r=!0,o=e.Cj.iterator;o.next();)if(!o.value[0].nl){r=!1;break}if("function"!==typeof a||r)return t(n,a,e);var s=e,l=n.callbackTimeout||300,u=+new Date;return v.requestAnimationFrame((function(){i()})),null}function Jr(e,t,n,a){if(e.animationManager.vd(),e.fd(),null===e.Da)return null;"object"!==i(t)&&x("properties argument must be an Object.");var r=t.size||null,o=t.scale||null;void 0!==t.scale&&isNaN(t.scale)&&(o="NaN");var s=t.maxSize;void 0===t.maxSize&&(s="SVG"===n?new Be(1/0,1/0):new Be(2e3,2e3));var l=t.position||null,u=t.parts||null,c=void 0===t.padding?1:t.padding,d=t.background||null,h=t.omitTemporary;void 0===h&&(h=!0);var f=t.document||document,p=t.elementFinished||null,m=t.showTemporary;void 0===m&&(m=!h),t=t.showGrid,void 0===t&&(t=m),null!==r&&isNaN(r.width)&&isNaN(r.height)&&(r=null),"number"===typeof c?c=new tt(c):c instanceof tt||x("MakeImage padding must be a Margin or a number."),c.left=Math.max(c.left,0),c.right=Math.max(c.right,0),c.top=Math.max(c.top,0),c.bottom=Math.max(c.bottom,0),e.Yc.Rc(!0),h=new Rs(null,f);var g=h.context;if(!(r||o||u||l))return h.width=e.xa+Math.ceil(c.left+c.right),h.height=e.wa+Math.ceil(c.top+c.bottom),"SVG"===n?null===a?null:(a.resize(h.width,h.height,h.width,h.height),a.ownerDocument=f,a.Qp=p,cr(e,a.context,c,new Be(h.width,h.height),e.Ca,e.sa,u,d,m,t),a.context):(e.xn=!1,cr(e,g,c,new Be(h.width,h.height),e.Ca,e.sa,u,d,m,t),e.xn=!0,h.context);var v=e.Zq,y=e.documentBounds.copy();if(y.Ov(e.eb),m)for(var b=e.Pa.j,A=b.length,w=0;w<A;w++){var C=b[w];if(C.visible&&C.isTemporary){C=C.Fa.j;for(var k=C.length,S=0;S<k;S++){var T=C[S];T.isInDocumentBounds&&T.isVisible()&&(T=T.actualBounds,T.o()&&y.Jc(T))}}}if(b=new ge(y.x,y.y),null!==u){for(A=!0,w=u.iterator,w.reset();w.next();)if(C=w.value,C instanceof lc&&(k=C.layer,(null===k||k.visible)&&(null===k||m||!k.isTemporary)&&C.isVisible()&&(C=C.actualBounds,C.o())))if(A){A=!1;var N=C.copy()}else N.Jc(C);A&&(N=new Ue(0,0,0,0)),y.width=N.width,y.height=N.height,b.x=N.x,b.y=N.y}return null!==l&&l.o()&&(b=l,o||(o=v)),N=l=0,null!==c&&(l=c.left+c.right,N=c.top+c.bottom),A=w=0,null!==r&&(w=r.width,A=r.height,isFinite(w)&&(w=Math.max(0,w-l)),isFinite(A)&&(A=Math.max(0,A-N))),null!==r&&null!==o?("NaN"===o&&(o=v),r.o()?(r=w,y=A):isNaN(A)?(r=w,y=y.height*o):(r=y.width*o,y=A)):null!==r?r.o()?(o=Math.min(w/y.width,A/y.height),r=w,y=A):isNaN(A)?(o=w/y.width,r=w,y=y.height*o):(o=A/y.height,r=y.width*o,y=A):null!==o?"NaN"===o&&s.o()?(o=Math.min((s.width-l)/y.width,(s.height-N)/y.height),o>v?(o=v,r=y.width,y=y.height):(r=s.width,y=s.height)):(r=y.width*o,y=y.height*o):(o=v,r=y.width,y=y.height),null!==c?(r+=l,y+=N):c=new tt(0),null!==s&&(v=s.width,s=s.height,isNaN(v)&&(v=2e3),isNaN(s)&&(s=2e3),isFinite(v)&&(r=Math.min(r,v)),isFinite(s)&&(y=Math.min(y,s))),h.width=Math.ceil(r),h.height=Math.ceil(y),"SVG"===n?null===a?null:(a.resize(h.width,h.height,h.width,h.height),a.ownerDocument=f,a.Qp=p,cr(e,a.context,c,new Be(Math.ceil(r),Math.ceil(y)),o,b,u,d,m,t),a.context):(e.xn=!1,cr(e,g,c,new Be(Math.ceil(r),Math.ceil(y)),o,b,u,d,m,t),e.xn=!0,h.context)}ca.className="AnimationManager",Sa.className="AnimationStates",n=Ta.prototype,n.hb=function(e){this.C=e},n.toString=function(e){void 0===e&&(e=0);var t='Layer "'+this.name+'"';if(e<=0)return t;for(var n=0,i=0,a=0,r=0,o=0,s=this.Fa.iterator;s.next();){var l=s.value;l instanceof Jc?a++:l instanceof Mc?i++:l instanceof id?r++:l instanceof Oc?o++:n++}if(s="",n>0&&(s+=n+" Parts "),i>0&&(s+=i+" Nodes "),a>0&&(s+=a+" Groups "),r>0&&(s+=r+" Links "),o>0&&(s+=o+" Adornments "),e>1)for(e=this.Fa.iterator;e.next();)n=e.value,s+="\n    "+n.toString(),i=n.data,null!==i&&le(i)&&(s+=" #"+le(i)),n instanceof Mc?s+=" "+R(i):n instanceof id&&(s+=" "+R(n.fromNode)+" "+R(n.toNode));return t+" "+this.Fa.count+": "+s},n.Sb=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!1===this.Bj)return null;var i=!1;null!==this.diagram&&this.diagram.viewportBounds.ea(e)&&(i=!0);for(var a=ge.alloc(),r=this.Fa.j,o=r.length;o--;){var s=r[o];if((!0!==i||!1!==kc(s))&&s.isVisible()&&(a.assign(e),Ae(a,s.rd),s=s.Sb(a,t,n),null!==s&&(null!==t&&(s=t(s)),null!==s&&(null===n||n(s)))))return ge.free(a),s}return ge.free(a),null},n.Fi=function(e,t,n,i){if(void 0===t&&(t=null),void 0===n&&(n=null),i instanceof ie||i instanceof re||(i=new re),!1===this.Bj)return i;var a=!1;null!==this.diagram&&this.diagram.viewportBounds.ea(e)&&(a=!0);for(var r=ge.alloc(),o=this.Fa.j,s=o.length;s--;){var l=o[s];if((!0!==a||!1!==kc(l))&&l.isVisible()){r.assign(e),Ae(r,l.rd);var u=l;l.Fi(r,t,n,i)&&(null!==t&&(u=t(u)),null===u||null!==n&&!n(u)||i.add(u))}}return ge.free(r),i},n.mg=function(e,t,n,i,a){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=!1),a instanceof ie||a instanceof re||(a=new re),!1===this.Bj)return a;var r=!1;null!==this.diagram&&this.diagram.viewportBounds.lf(e)&&(r=!0);for(var o=this.Fa.j,s=o.length;s--;){var l=o[s];if((!0!==r||!1!==kc(l))&&l.isVisible()){var u=l;l.mg(e,t,n,i,a)&&(null!==t&&(u=t(u)),null===u||null!==n&&!n(u)||a.add(u))}}return a},n.ng=function(e,t,n,i,a,r){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===a&&(a=!0),!1!==a&&!0!==a&&((a instanceof ie||a instanceof re)&&(r=a),a=!0),r instanceof ie||r instanceof re||(r=new re),!1===this.Bj)return r;var o=!1;null!==this.diagram&&this.diagram.viewportBounds.ea(e)&&(o=!0);for(var s=ge.alloc(),l=ge.alloc(),u=this.Fa.j,c=u.length;c--;){var d=u[c];if((!0!==o||!1!==kc(d))&&d.isVisible()){s.assign(e),Ae(s,d.rd),l.h(e.x+t,e.y),Ae(l,d.rd);var h=d;d.ng(s,l,n,i,a,r)&&(null!==n&&(h=n(h)),null===h||null!==i&&!i(h)||r.add(h))}}return ge.free(s),ge.free(l),r},n.hd=function(e,t){if(this.visible){var n=void 0===t?e.viewportBounds:t,i=this.Fa.j,a=i.length;e=O(),t=O();for(var r=0;r<a;r++){var o=i[r];o.Bw=r,o instanceof id&&!1===o.Lc||o instanceof Oc&&null!==o.adornedPart||(Ye(o.actualBounds,n,10)?(o.hd(!0),e.push(o)):(o.hd(!1),null!==o.adornments&&o.adornments.count>0&&t.push(o)))}for(n=0;n<e.length;n++)for(i=e[n],uc(i),i=i.adornments;i.next();)a=i.value,a.measure(1/0,1/0),a.arrange(),a.hd(!0);for(n=0;n<t.length;n++)i=t[n],i.updateAdornments(),Ac(i,!0);M(e),M(t)}},n.hc=function(e,t,n){if(this.visible&&0!==this.lb&&(void 0===n&&(n=!0),n||!this.isTemporary)){n=this.Fa.j;var i=n.length;if(0!==i){1!==this.lb&&(e.globalAlpha=this.lb);var a=this.Jo;a.length=0;for(var r=t.scale,o=0;o<i;o++){var s=n[o];if(kc(s)){if(s instanceof id&&(s.isOrthogonal&&a.push(s),!1===s.Lc))continue;var l=s.actualBounds;l.width*r>1||l.height*r>1?s.hc(e,t):Na(e,s)}}e.globalAlpha=1}}},n.g=function(e,t,n,i,a){var r=this.diagram;null!==r&&r.ab(Tn,e,this,t,n,i,a)},n.Ni=function(e,t,n){var i=this.Fa;if(t.fi=this,e>=i.count)e=i.count;else if(i.N(e)===t)return-1;return i.Ib(e,t),t.Yp(n),i=this.diagram,null!==i&&(n?i.R():i.Ni(t)),Ia(this,e,t),e},n.xc=function(e,t,n){if(!n&&t.layer!==this&&null!==t.layer)return t.layer.xc(e,t,n);var i=this.Fa;if(e<0||e>=i.length){if(e=i.indexOf(t),e<0)return-1}else if(i.N(e)!==t&&(e=i.indexOf(t),e<0))return-1;return t.Zp(n),i.mb(e),i=this.diagram,null!==i&&(n?i.R():i.xc(t)),t.fi=null,e},n.clear=function(){for(var e=this.Fa.Na(),t=e.length,n=0;n<t;n++)e[n].hd(!1),this.xc(-1,e[n],!1);this.Jo.length=0},p.Object.defineProperties(Ta.prototype,{parts:{get:function(){return this.Fa.iterator}},partsBackwards:{get:function(){return this.Fa.iteratorBackwards}},diagram:{get:function(){return this.C}},name:{get:function(){return this.Ua},set:function(e){var t=this.Ua;if(t!==e){var n=this.diagram;if(null!==n)for(""===t&&x("Cannot rename default Layer to: "+e),n=n.layers;n.next();)n.value.name===e&&x("Layer.name is already present in this diagram: "+e);for(this.Ua=e,this.g("name",t,e),e=this.Fa.iterator;e.next();)e.value.layerName=this.Ua}}},opacity:{get:function(){return this.lb},set:function(e){var t=this.lb;t!==e&&((e<0||e>1)&&k(e,"0 <= value <= 1",Ta,"opacity"),this.lb=e,this.g("opacity",t,e),e=this.diagram,null!==e&&e.R())}},isTemporary:{get:function(){return this.u},set:function(e){var t=this.u;t!==e&&(this.u=e,this.g("isTemporary",t,e))}},visible:{get:function(){return this.K},set:function(e){var t=this.K;if(t!==e){for(this.K=e,this.g("visible",t,e),t=this.Fa.iterator;t.next();)t.value.Mb(e);e=this.diagram,null!==e&&e.R()}}},pickable:{get:function(){return this.Bj},set:function(e){var t=this.Bj;t!==e&&(this.Bj=e,this.g("pickable",t,e))}},isBoundsIncluded:{get:function(){return this.l},set:function(e){this.l!==e&&(this.l=e,null!==this.diagram&&this.diagram.Xa())}},allowCopy:{get:function(){return this.Eh},set:function(e){var t=this.Eh;t!==e&&(this.Eh=e,this.g("allowCopy",t,e))}},allowDelete:{get:function(){return this.Fh},set:function(e){var t=this.Fh;t!==e&&(this.Fh=e,this.g("allowDelete",t,e))}},allowTextEdit:{get:function(){return this.Oh},set:function(e){var t=this.Oh;t!==e&&(this.Oh=e,this.g("allowTextEdit",t,e))}},allowGroup:{get:function(){return this.Gh},set:function(e){var t=this.Gh;t!==e&&(this.Gh=e,this.g("allowGroup",t,e))}},allowUngroup:{get:function(){return this.Ph},set:function(e){var t=this.Ph;t!==e&&(this.Ph=e,this.g("allowUngroup",t,e))}},allowLink:{get:function(){return this.Hh},set:function(e){var t=this.Hh;t!==e&&(this.Hh=e,this.g("allowLink",t,e))}},allowRelink:{get:function(){return this.Jh},set:function(e){var t=this.Jh;t!==e&&(this.Jh=e,this.g("allowRelink",t,e))}},allowMove:{get:function(){return this.Ih},set:function(e){var t=this.Ih;t!==e&&(this.Ih=e,this.g("allowMove",t,e))}},allowReshape:{get:function(){return this.Kh},set:function(e){var t=this.Kh;t!==e&&(this.Kh=e,this.g("allowReshape",t,e))}},allowResize:{get:function(){return this.Lh},set:function(e){var t=this.Lh;t!==e&&(this.Lh=e,this.g("allowResize",t,e))}},allowRotate:{get:function(){return this.Mh},set:function(e){var t=this.Mh;t!==e&&(this.Mh=e,this.g("allowRotate",t,e))}},allowSelect:{get:function(){return this.Nh},set:function(e){var t=this.Nh;t!==e&&(this.Nh=e,this.g("allowSelect",t,e))}}}),Ta.prototype.findObjectsNear=Ta.prototype.ng,Ta.prototype.findObjectsIn=Ta.prototype.mg,Ta.prototype.findObjectsAt=Ta.prototype.Fi,Ta.prototype.findObjectAt=Ta.prototype.Sb,Ta.className="Layer",Pa.prototype.clear=function(){this.model.clear(),po=null,mo="",La(this,!1),this.vn=new Ue(NaN,NaN,NaN,NaN).freeze(),this.R()},Pa.prototype.reset=function(){this.ob=!0,this.clear(),this.yk=new ca,this.yk.hb(this),this.Pa=new ie,this.Dv(),this.Cv(),this.sa=new ge(NaN,NaN).freeze(),this.Ca=1,this.ur=new ge(NaN,NaN).freeze(),this.vr=NaN,this.Pr=1e-4,this.Nr=100,this.Is=new ge(NaN,NaN).freeze(),this.jr=new Ue(NaN,NaN,NaN,NaN).freeze(),this.ri=new tt(0,0,0,0).freeze(),this.Gj=So,this.rs=!1,this.ms=this.hs=null,this.aj=go,this.cj=Mt,this.ai=go,this.On=Mt,this.wr=this.tr=ut,this.Tm=250,this.Um=new tt(16,16,16,16).freeze(),this.Er=!0,this.Ds=No,this.Fs=bo,this.qn="auto",this.Rf=this.Sr=this.Tf=this.Uf=this.Wf=this.Bf=this.Ff=this.Af=null,this.pr=!1,this.Cf=this.gg=this.Vf=this.Sf=null,this.Lf=!1,this.Fh=this.Eh=this.yq=this.Dc=!0,this.zq=!1,this.Eq=this.Bq=this.rr=this.qr=this.Fq=this.Dq=this.Nh=this.Mh=this.Lh=this.Kh=this.Ih=this.Jh=this.Hh=this.Cq=this.Ph=this.Gh=this.Oh=this.Aq=!0,this.qs=this.os=16,this.eb=new tt(5).freeze(),this.Or=999999999,this.gc=null,this.Fr=!1,this.Nb=1,this.jh=null,this.Tr=0,this.Ur=[0,0,0,0,0],this.Vr=0,Ma(this),this.Eb=null,this.partManager=new Dh,this.toolManager=new En,this.toolManager.initializeStandardTools(),this.cs=this.bs=this.br=null,this.vp=!1,this.Lk.reset(),this.pu=new me,this.pu.clear(),this.currentTool=this.defaultTool=this.toolManager,this.commandHandler=Oa(),this.eh=!0,_a(this),this.layout=new lh,this.eh=!1,this.model=df(),this.model.undoManager=new Pn,this.ge=!1,this.Xk=!0,this.ob=this.qd=!1,this.R(),this.ne=this.zf=null,Ur(this),this.Sq=""},Pa.prototype.setRTL=function(e){e=void 0===e?this.div:e,null===e&&(e=v.document.body);var t=w("div");t.dir="rtl",t.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",t.textContent="A",e.appendChild(t);var n="reverse";t.scrollLeft>0?n="default":(t.scrollLeft=1,0===t.scrollLeft&&(n="negative")),e.removeChild(t),this.ru=n},Pa.prototype.setScrollWidth=function(e){e=void 0===e?this.div:e,null===e&&(e=v.document.body);var t=0;if(fo){var n=ho;t=co,null===n&&(n=ho=w("p"),n.style.width="100%",n.style.height="200px",n.style.boxSizing="content-box",t=co=w("div"),t.style.position="absolute",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.boxSizing="content-box",t.appendChild(n)),t.style.overflow="hidden",e.appendChild(t);var i=n.offsetWidth;t.style.overflow="scroll",n=n.offsetWidth,i===n&&(n=t.clientWidth),e.removeChild(t),t=i-n,0!==t||$||(t=11)}this.Gb=t},Pa.prototype.fb=function(e){e.classType===Pa&&(this.autoScale=e)},Pa.prototype.toString=function(e){void 0===e&&(e=0);var t="";if(this.div&&this.div.id&&(t=this.div.id),t='Diagram "'+t+'"',e<=0)return t;for(var n=this.Pa.iterator;n.next();)t+="\n  "+n.value.toString(e-1);return t},Pa.prototype.addEventListener=function(e,t,n,i){e.addEventListener(t,n,i)},Pa.prototype.removeEventListener=function(e,t,n,i){e.removeEventListener(t,n,i)},Pa.prototype.computePixelRatio=function(){return null!==this.jh?this.jh:v.devicePixelRatio||1},Pa.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},Pa.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},Pa.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},Pa.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},Pa.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},Pa.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},Pa.prototype.doFocus=function(){this.focus()},Pa.prototype.focus=function(){if(this.Da)if(this.scrollsPageOnFocus)this.Da.focus();else{var e=v.scrollX||v.pageXOffset,t=v.scrollY||v.pageYOffset;this.Da.focus(),v.scrollTo(e,t)}},Pa.prototype.ty=function(){this.C.aa("GainedFocus")},Pa.prototype.sy=function(){this.C.aa("LostFocus")},Pa.prototype.bx=function(e){if(null!==this.Da){this.ns=!0;var t=this.documentBounds,n=this.viewportBounds,i=this.ri,a=t.x-i.left,r=t.y-i.top,o=t.width+i.left+i.right,s=t.height+i.top+i.bottom,l=t.right+i.right;i=t.bottom+i.bottom;var u=n.x;t=n.y;var c=n.width,d=n.height,h=n.right,f=n.bottom;n=this.scale;var p=e.scrollLeft;if(this.Tn)switch(this.ru){case"negative":p=p+e.scrollWidth-e.clientWidth;break;case"reverse":p=e.scrollWidth-p-e.clientWidth}var m=p;c<o||d<s?(p=ge.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.uu!==m&&(p.x=m/n+a,this.uu=m),this.allowVerticalScroll&&this.vu!==e.scrollTop&&(p.y=e.scrollTop/n+r,this.vu=e.scrollTop),this.position=p,ge.free(p),this.kj=this.ns=!1):(p=ge.alloc(),e.Yx&&this.allowHorizontalScroll&&(a<u&&(this.position=p.h(m+a,this.position.y)),l>h&&(this.position=p.h(-(this.ps.scrollWidth-this.xa)+m-this.xa/n+l,this.position.y))),e.Zx&&this.allowVerticalScroll&&(r<t&&(this.position=p.h(this.position.x,e.scrollTop+r)),i>f&&(this.position=p.h(this.position.x,-(this.ps.scrollHeight-this.wa)+e.scrollTop-this.wa/n+i))),ge.free(p),pr(this),this.kj=this.ns=!1,t=this.documentBounds,n=this.viewportBounds,l=t.right,h=n.right,i=t.bottom,f=n.bottom,a=t.x,u=n.x,r=t.y,t=n.y,c>=o&&a>=u&&l<=h&&(this.fp.style.width="1px"),d>=s&&r>=t&&i<=f&&(this.fp.style.height="1px"))}},Pa.prototype.computeBounds=function(){return this.Dd.count>0&&lr(this),qa(this)},Pa.prototype.computePartsBounds=function(e,t){void 0===t&&(t=!1);var n=null;if(I(e))for(var i=0;i<e.length;i++){var a=e[i];!t&&a instanceof id||(a.ac(),null===n?n=a.actualBounds.copy():n.Jc(a.actualBounds))}else for(e=e.iterator;e.next();)i=e.value,!t&&i instanceof id||(i.ac(),null===n?n=i.actualBounds.copy():n.Jc(i.actualBounds));return null===n?new Ue(NaN,NaN,0,0):n},Pa.prototype.zoomToFit=function(){var e=this.Gj;this.Gj=So,this.scale=Qa(this,vo),e!==So&&(za(this,!1),$a(this,this.documentBounds,this.xa/this.Ca,this.wa/this.Ca,this.cj,!1)),this.Gj=e},n=Pa.prototype,n.aA=function(e,t){void 0===t&&(t=vo);var n=e.width,i=e.height;if(!(0===n||0===i||isNaN(n)&&isNaN(i))){var a=1;if(t===vo||t===yo)if(isNaN(n))a=this.viewportBounds.height*this.scale/i;else if(isNaN(i))a=this.viewportBounds.width*this.scale/n;else{a=this.xa;var r=this.wa;a=t===yo?r/i>a/n?(r-(this.Ng?this.Gb:0))/i:(a-(this.Zh?this.Gb:0))/n:Math.min(r/i,a/n)}this.scale=a,this.position=new ge(e.x,e.y)}},n.my=function(e,t){this.Og&&jr(this,this.computeBounds());var n=this.documentBounds,i=this.viewportBounds;this.position=new ge(n.x+(e.x*n.width+e.offsetX)-(t.x*i.width-t.offsetX),n.y+(e.y*n.height+e.offsetY)-(t.y*i.height-t.offsetY))},n.$l=function(e,t){if(void 0===t&&(t=!0),t){if(e=Ha(this,e,(function(e){return e.part}),(function(e){return e.canSelect()})),e instanceof lc)return e}else if(e=Ha(this,e,(function(e){return e.part})),e instanceof lc)return e;return null},n.Sb=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),lr(this);for(var i=this.Pa.iteratorBackwards;i.next();){var a=i.value;if(a.visible&&(a=a.Sb(e,t,n),null!==a))return a}return null},n.Py=function(e,t,n){return void 0===t&&(t=!0),Ga(this,e,(function(e){return e.part}),t?function(e){return e instanceof lc&&e.canSelect()}:null,n)},n.Fi=function(e,t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),i instanceof ie||i instanceof re||(i=new re),lr(this);for(var a=this.Pa.iteratorBackwards;a.next();){var r=a.value;r.visible&&r.Fi(e,t,n,i)}return i},n.kx=function(e,t,n,i){return void 0===t&&(t=!1),void 0===n&&(n=!0),Ya(this,e,(function(e){return e instanceof lc&&(!n||e.canSelect())}),t,i)},n.mg=function(e,t,n,i,a){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=!1),a instanceof ie||a instanceof re||(a=new re),lr(this);for(var r=this.Pa.iteratorBackwards;r.next();){var o=r.value;o.visible&&o.mg(e,t,n,i,a)}return a},n.Qy=function(e,t,n,i,a){return void 0===n&&(n=!0),void 0===i&&(i=!0),Wa(this,e,t,(function(e){return e instanceof lc&&(!i||e.canSelect())}),n,a)},n.ng=function(e,t,n,i,a,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===a&&(a=!0),!1!==a&&!0!==a&&((a instanceof ie||a instanceof re)&&(r=a),a=!0),r instanceof ie||r instanceof re||(r=new re),lr(this);for(var o=this.Pa.iteratorBackwards;o.next();){var s=o.value;s.visible&&s.ng(e,t,n,i,a,r)}return r},Pa.prototype.acceptEvent=function(e){return Ka(this,e,e instanceof MouseEvent)},Pa.prototype.vz=function(e){var t=this.C;if(!this.C.isEnabled)return!1;var n=Ka(t,e,!1);switch(n.key=String.fromCharCode(e.which),n.down=!0,e.which){case 8:n.key="Backspace";break;case 33:n.key="PageUp";break;case 34:n.key="PageDown";break;case 35:n.key="End";break;case 36:n.key="Home";break;case 37:n.key="Left";break;case 38:n.key="Up";break;case 39:n.key="Right";break;case 40:n.key="Down";break;case 45:n.key="Insert";break;case 46:n.key="Del";break;case 48:n.key="0";break;case 187:case 61:case 107:n.key="Add";break;case 189:case 173:case 109:n.key="Subtract";break;case 27:n.key="Esc"}return t.doKeyDown(),tr(n,e)},Pa.prototype.wz=function(e){var t=this.C;if(!t.isEnabled)return!1;var n=Ka(t,e,!1);switch(n.key=String.fromCharCode(e.which),n.up=!0,e.which){case 8:n.key="Backspace";break;case 33:n.key="PageUp";break;case 34:n.key="PageDown";break;case 35:n.key="End";break;case 36:n.key="Home";break;case 37:n.key="Left";break;case 38:n.key="Up";break;case 39:n.key="Right";break;case 40:n.key="Down";break;case 45:n.key="Insert";break;case 46:n.key="Del"}return t.doKeyUp(),tr(n,e)},Pa.prototype.Fy=function(e){var t=this.C;if(!t.isEnabled)return!1;var n=Ka(t,e,!0);return null!==t.mouseEnter&&t.mouseEnter(n),tr(n,e)},Pa.prototype.Gy=function(e){var t=this.C;if(!t.isEnabled)return!1;var n=Ka(t,e,!0);return null!==t.mouseLeave&&t.mouseLeave(n),tr(n,e)},Pa.prototype.getMouse=function(e){var t=this.Da;if(null===t)return new ge(0,0);var n=t.getBoundingClientRect();return t=e.clientX-this.xa/n.width*n.left,e=e.clientY-this.wa/n.height*n.top,null!==this.tb?Ae(new ge(t,e),this.tb):new ge(t,e)},n=Pa.prototype,n.Xa=function(){this.Og||(this.Og=!0,this.cc(!0))},n.sf=function(){this.ob||this.Zb||(this.R(),fr(this),pr(this),this.Xa(),this.fd())},n.uz=function(){return this.qd},n.Ay=function(e){void 0===e&&(e=null);var t=this.animationManager,n=t.isEnabled;t.vd(),t.isEnabled=!1,or(this),this.ge=!1,t.isEnabled=n,null!==e&&A(e,1)},n.cc=function(e){if(void 0===e&&(e=!1),!0!==this.qd&&!(this.ob||!1===e&&this.Zb)){this.qd=!0;var t=this;v.requestAnimationFrame((function(){t.qd&&t.fd()}))}},n.fd=function(){this.Xk&&!this.qd||(this.Xk&&(this.Xk=!1),or(this))},n.Yv=function(e,t){for(e.reset();e.next();){var n=e.value;!n.Lb()||n instanceof Jc||(n.Pi()?(n.measure(1/0,1/0),n.arrange()):t.add(n))}for(e.reset();e.next();)n=e.value,n instanceof Jc&&n.isVisible()&&ur(this,n);for(e.reset();e.next();)n=e.value,n instanceof id&&n.isVisible()&&(n.Pi()?(n.measure(1/0,1/0),n.arrange()):t.add(n));for(e.reset();e.next();)n=e.value,n instanceof Oc&&n.isVisible()&&(n.Pi()?(n.measure(1/0,1/0),n.arrange()):t.add(n))},n.hd=function(e,t,n,i){if(this.bi||this.animationManager.isAnimating)for(var a=0;a<t;a++)e[a].hd(n,i)},n.hc=function(e,t){if(void 0===t&&(t=null),null!==this.Ia){null===this.Da&&x("No canvas specified");var n=this.animationManager;if(!n.rb){var i=new Date;if(mr(this),"0"!==this.Ia.style.opacity){var a=e!==this.Yc,r=this.Pa.j,o=r.length,s=this;if(this.hd(r,o,s),a)e.Rc(!0),pr(this);else if(!this.nc&&null===t&&!n.isAnimating)return;o=this.sa;var l=this.Ca,u=Math.round(o.x*l)/l,c=Math.round(o.y*l)/l;for(n=this.tb,n.reset(),1!==l&&n.scale(l),0===o.x&&0===o.y||n.translate(-u,-c),l=this.Nb,e.setTransform(1,0,0,1,0,0),e.scale(l,l),e.clearRect(0,0,this.xa,this.wa),e.setTransform(1,0,0,1,0,0),e.scale(l,l),e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),u=null!==t?function(n){var i=t;if(n.visible&&0!==n.lb){var a=n.Fa.j,r=a.length;if(0!==r){1!==n.lb&&(e.globalAlpha=n.lb),n=n.Jo,n.length=0;for(var o=s.scale,l=0;l<r;l++){var u=a[l];if(kc(u)&&!i.contains(u)){if(u instanceof id&&(u.isOrthogonal&&n.push(u),!1===u.Lc))continue;var c=u.actualBounds;c.width*o>1||c.height*o>1?u.hc(e,s):Na(e,u)}}e.globalAlpha=1}}}:function(t){t.hc(e,s)},dr(this,e),o=r.length,c=0;c<o;c++)e.setTransform(1,0,0,1,0,0),e.scale(l,l),e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),u(r[c]);if(this.$h&&Ro(this.$h,this)&&this.cr(),a?(this.Yc.Rc(!0),pr(this)):this.nc=this.bi=!1,a=+new Date-+i,null===this.jh){for(i=this.Ur,i[this.Vr]=a,this.Vr=(this.Vr+1)%i.length,r=a=0;r<this.Ur.length;r++)a+=this.Ur[r];this.Tr=a/i.length}}}}},n.De=function(e){return this.$g[e]},n.Jx=function(e,t){this.$g[e]=t,this.sf()},n.Dv=function(){this.$g=new J,this.$g.drawShadows=!0,this.$g.textGreeking=!0,this.$g.viewportOptimizations=!($||U||q),this.$g.temporaryPixelRatio=!0,this.$g.pictureRatioOptimization=!0},n.bm=function(e){return this.dl[e]},n.Rz=function(e,t){this.dl[e]=t},n.Cv=function(){this.dl=new J,this.dl.extraTouchArea=10,this.dl.extraTouchThreshold=10,this.dl.hasGestureZoom=!0},n.Mv=function(e){hr(this,e)},n.Ku=function(){if(0===this.undoManager.transactionLevel&&0!==this.Wh.count){for(;this.Wh.count>0;){var e=this.Wh;for(this.Wh=new me,e=e.iterator;e.next();){var t=e.key;t.$p(e.value),t.bc()}}this.R()}},n.R=function(e){if(void 0===e&&(e=null),null===e)this.nc=!0,this.cc();else{var t=this.viewportBounds;null!==e&&e.o()&&t.Ic(e)&&(this.nc=!0,this.cc())}this.aa("InvalidateDraw")},n.ox=function(e,t){if(!0!==this.nc){this.nc=!0;var n=!0===this.De("temporaryPixelRatio");if(!0===this.De("viewportOptimizations")&&this.scrollMode!==To&&this.ri.Di(0,0,0,0)&&t.width===e.width&&t.height===e.height){var i=this.scale,a=Math.max(e.x,t.x),r=Math.max(e.y,t.y);if(i=Ue.allocAt(a,r,Math.max(0,Math.min(e.x+e.width,t.x+t.width)-a)*i,Math.max(0,Math.min(e.y+e.height,t.y+t.height)-r)*i),!this.As&&i.width>0&&i.height>0){if(!(this.Zb||(this.qd=!1,null===this.Ia||(this.Zb=!0,this.Ku(),this.documentBounds.o()||jr(this,this.computeBounds()),a=this.Da,null===a||a instanceof Is)))){var o=this.Nb;r=this.xa*o;var s=this.wa*o,l=this.scale*o,u=Math.round(Math.round(t.x*l)-Math.round(e.x*l));t=Math.round(Math.round(t.y*l)-Math.round(e.y*l)),l=this.Ut,e=this.uw,l.width!==r&&(l.width=r),l.height!==s&&(l.height=s),e.clearRect(0,0,r,s),l=190*o;var c=70*o,d=Math.max(u,0),h=Math.max(t,0),f=Math.floor(r-d),p=Math.floor(s-h);e.drawImage(a.Ga,d,h,f,p,0,0,f,p),Ro(this.$h,this)&&e.clearRect(0,0,l,c),a=O(),e=O(),p=Math.abs(u),f=Math.abs(t);var m=0===d?0:r-p;d=ge.allocAt(m,0),p=ge.allocAt(p+m,s),e.push(new Ue(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y)));var g=this.tb;if(g.reset(),g.scale(o,o),1!==this.Ca&&g.scale(this.Ca),o=this.sa,(0!==o.x||0!==o.y)&&isFinite(o.x)&&isFinite(o.y)&&g.translate(-o.x,-o.y),Ae(d,g),Ae(p,g),a.push(new Ue(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y))),m=0===h?0:s-f,d.h(0,m),p.h(r,f+m),e.push(new Ue(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y))),Ae(d,g),Ae(p,g),a.push(new Ue(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y))),Ro(this.$h,this)&&(r=u>0?0:-u,s=t>0?0:-t,d.h(r,s),p.h(l+r,c+s),e.push(new Ue(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y))),Ae(d,g),Ae(p,g),a.push(new Ue(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y)))),ge.free(d),ge.free(p),rr(this,!1),null===this.Ia&&x("No div specified"),null===this.Da&&x("No canvas specified"),!this.animationManager.rb&&(r=this.Yc,this.nc)){for(mr(this),s=this.Nb,r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,this.xa*s,this.wa*s),r.drawImage(this.Ut.Ga,u>0?0:Math.round(-u),t>0?0:Math.round(-t)),u=this.sa,o=this.Ca,l=Math.round(u.x*o)/o,c=Math.round(u.y*o)/o,t=this.tb,t.reset(),1!==o&&t.scale(o),0===u.x&&0===u.y||t.translate(-l,-c),r.save(),r.beginPath(),u=e.length,o=0;o<u;o++)l=e[o],0!==l.width&&0!==l.height&&r.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));for(r.clip(),r.setTransform(1,0,0,1,0,0),r.scale(s,s),r.transform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),t=this.Pa.j,u=t.length,this.hd(t,u,this),dr(this,r),s=0;s<u;s++)if(h=t[s],o=a,h.visible&&0!==h.lb){for(1!==h.lb&&(r.globalAlpha=h.lb),l=h.Jo,l.length=0,c=this.scale,h=h.Fa.j,d=h.length,f=o.length,p=0;p<d;p++)if(g=h[p],kc(g)){if(g instanceof id&&(g.isOrthogonal&&l.push(g),!1===g.Lc))continue;m=fc(g,g.actualBounds);e:{for(var v=2/c,y=4/c,b=0;b<f;b++){var A=o[b];if(0!==A.width&&0!==A.height&&m.hv(A.x-v,A.y-v,A.width+y,A.height+y)){v=!0;break e}}v=!1}v&&(m.width*c>1||m.height*c>1?g.hc(r,this):Na(r,g))}r.globalAlpha=1}r.restore(),r.Rc(!0),this.$h&&Ro(this.$h,this)&&this.cr(),this.nc=this.bi=!1,this.ot()}M(a),M(e),this.Zb=!1}}else this.fd();Ue.free(i),n&&(Ra(this),this.fd(),ja(this,!0))}else n?(Ra(this),this.fd(),ja(this,!0)):this.fd()}},n.add=function(e){var t=e.diagram;if(t!==this&&(null!==t&&x("Cannot add part "+e.toString()+" to "+this.toString()+". It is already a part of "+t.toString()),t=this.Zl(e.layerName),null===t&&(t=this.Zl("")),null===t&&x('Cannot add a Part when unable find a Layer named "'+e.layerName+'" and there is no default Layer'),e.layer!==t)){var n=t.Ni(99999999,e,e.diagram===this);n>=0&&this.ab(Nn,"parts",t,null,e,null,n),t.isTemporary||this.Xa(),e.B(1),n=e.layerChanged,null!==n&&n(e,null,t)}},n.Ni=function(e){this.partManager.Ni(e);var t=this;Ml(e,(function(e){Or(t,e)})),(e instanceof Oc||e instanceof Jc&&null!==e.placeholder)&&e.s(),null!==e.data&&Ml(e,(function(e){Eh(t.partManager,e)})),!0!==gs(e)&&!0!==wc(e)||this.Dd.add(e),yc(e,!0,this),Dc(e)?(e.actualBounds.o()&&this.R(fc(e,e.actualBounds)),this.Xa()):e.isVisible()&&e.actualBounds.o()&&this.R(fc(e,e.actualBounds)),this.cc()},n.xc=function(e){e.Sj(),this.partManager.xc(e);var t=this;Ml(e,(function(e){Er(t,e)})),null!==e.data&&Ml(e,(function(e){Rh(t.partManager,e)})),this.Dd.remove(e),Dc(e)?(e.actualBounds.o()&&this.R(fc(e,e.actualBounds)),this.Xa()):e.isVisible()&&e.actualBounds.o()&&this.R(fc(e,e.actualBounds)),this.cc()},n.remove=function(e){yr(this,e,!0)},n.rt=function(e,t){if(I(e))for(var n=e.length,i=0;i<n;i++){var a=e[i];t&&!a.canDelete()||this.remove(a)}else for(n=new re,n.addAll(e),e=n.iterator;e.next();)n=e.value,t&&!n.canDelete()||this.remove(n)},n.Xj=function(e,t,n){return this.partManager.Xj(e,t,n)},Pa.prototype.moveParts=function(e,t,n,i){if(void 0===i&&(i=wr(this)),null!==this.toolManager){var a=new me;if(null!==e)if(I(e))for(var r=0;r<e.length;r++)br(this,a,e[r],n,i);else for(e=e.iterator;e.next();)br(this,a,e.value,n,i);else{for(e=this.parts;e.next();)br(this,a,e.value,n,i);for(e=this.nodes;e.next();)br(this,a,e.value,n,i);for(e=this.links;e.next();)br(this,a,e.value,n,i)}Ar(this,a,t,i,n)}},Pa.prototype.computeMove=function(e,t,n,i){if(void 0===i&&(i=new ge),i.assign(t),null===e)return i;var a=t,r=n.isGridSnapEnabled;r&&(n.isGridSnapRealtime||this.lastInput.up)&&(a=ge.alloc(),xr(this,e,t,a,n)),n=null!==e.dragComputation?e.dragComputation(e,t,a):a;var o=e.minLocation,s=o.x;isNaN(s)&&(s=r?Math.round(e.location.x):e.location.x),o=o.y,isNaN(o)&&(o=r?Math.round(e.location.y):e.location.y);var l=e.maxLocation,u=l.x;return isNaN(u)&&(u=r?Math.round(e.location.x):e.location.x),l=l.y,isNaN(l)&&(l=r?Math.round(e.location.y):e.location.y),i.h(Math.max(s,Math.min(n.x,u)),Math.max(o,Math.min(n.y,l))),a!==t&&ge.free(a),i},n=Pa.prototype,n.pd=function(e,t,n){if(void 0===n)return new Bo(Le);var i=e.isGridSnapEnabled;return e.kz||null===t.containingGroup||(i=!1),new Bo(i?new ge(Math.round(n.x),Math.round(n.y)):n.copy())},n.Ql=function(e){Tr(this,e,null),e.hb(this);var t=this.Pa,n=t.count-1;if(!e.isTemporary)for(;n>=0&&t.N(n).isTemporary;)n--;t.Ib(n+1,e),null!==this.$b&&this.ab(Nn,"layers",this,null,e,null,n+1),this.R(),this.Xa()},n.Rw=function(e,t){Tr(this,e,t),e.hb(this);var n=this.Pa,i=n.indexOf(e);i>=0&&(n.remove(e),null!==this.$b&&this.ab(In,"layers",this,e,null,i,null));var a,r=n.count;for(a=0;a<r;a++)if(n.N(a)===t){n.Ib(a,e);break}null!==this.$b&&this.ab(Nn,"layers",this,null,e,null,a),this.R(),i<0&&this.Xa()},n.hy=function(e,t){Tr(this,e,t),e.hb(this);var n=this.Pa,i=n.indexOf(e);i>=0&&(n.remove(e),null!==this.$b&&this.ab(In,"layers",this,e,null,i,null));var a,r=n.count;for(a=0;a<r;a++)if(n.N(a)===t){n.Ib(a+1,e);break}null!==this.$b&&this.ab(Nn,"layers",this,null,e,null,a+1),this.R(),i<0&&this.Xa()},n.Lz=function(e){if(e.diagram!==this&&x("Cannot remove a Layer from another Diagram: "+e+" of "+e.diagram),""!==e.name){var t=this.Pa,n=t.indexOf(e);if(t.remove(e)){for(t=e.Fa.copy().iterator;t.next();){var i=t.value,a=i.layerName;a!==e.name?i.layerName=a:i.layerName=""}null!==this.$b&&this.ab(In,"layers",this,e,null,n,null),this.R(),this.Xa()}}},n.Zl=function(e){for(var t=this.layers;t.next();){var n=t.value;if(n.name===e)return n}return null},n.Tw=function(e){null===this.ne&&(this.ne=new ie),this.ne.add(e),this.model.rh(e)},n.Nz=function(e){null!==this.ne&&(this.ne.remove(e),0===this.ne.count&&(this.ne=null)),this.model.pk(e)},n.rh=function(e){null===this.zf&&(this.zf=new ie),this.zf.add(e)},n.pk=function(e){null!==this.zf&&(this.zf.remove(e),0===this.zf.count&&(this.zf=null))},n.Ks=function(e){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.fv(e),e.change!==Sn&&(this.isModified=!0),null!==this.zf)for(var t=this.zf,n=t.length,i=0;i<n;i++)t.N(i)(e)},n.ab=function(e,t,n,i,a,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var s=new kn;s.diagram=this,s.change=e,s.propertyName=t,s.object=n,s.oldValue=i,s.oldParam=r,s.newValue=a,s.newParam=o,this.Ks(s)},n.g=function(e,t,n,i,a){this.ab(Tn,e,this,t,n,i,a)},n.Rj=function(e,t){if(null!==e&&e.diagram===this){var n=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var i=e.change;if(i===Tn){var a=e.object;if(pf(a,e.propertyName,e.J(t)),a instanceof Yo){var r=a.part;null!==r&&r.Jb()}this.isModified=!0}else if(i===Nn){var o=e.object,s=e.newParam,l=e.newValue;if(o instanceof Tl){if("number"===typeof s&&l instanceof Yo){t?o.xc(s):o.Ib(s,l);var u=o.part;null!==u&&u.Jb()}else if("number"===typeof s&&l instanceof tu)if(t)l.isRow?o.Av(s):o.yv(s);else{var c=l.isRow?o.getRowDefinition(l.index):o.getColumnDefinition(l.index);c.Vl(l)}}else if(o instanceof Ta){var d=!0===e.oldParam;"number"===typeof s&&l instanceof lc&&(t?(l.isSelected=!1,l.isHighlighted=!1,l.Jb(),o.xc(d?s:-1,l,d)):o.Ni(s,l,d))}else o instanceof Pa?"number"===typeof s&&l instanceof Ta&&(t?this.Pa.mb(s):(l.hb(this),this.Pa.Ib(s,l))):x("unknown ChangedEvent.Insert object: "+e.toString());this.isModified=!0}else if(i===In){var h=e.object,f=e.oldParam,p=e.oldValue;if(h instanceof Tl)"number"===typeof f&&p instanceof Yo?t?h.Ib(f,p):h.xc(f):"number"===typeof f&&p instanceof tu&&(t?(c=p.isRow?h.getRowDefinition(p.index):h.getColumnDefinition(p.index),c.Vl(p)):p.isRow?h.Av(f):h.yv(f));else if(h instanceof Ta){var m=!0===e.newParam;"number"===typeof f&&p instanceof lc&&(t?h.Fa.indexOf(p)<0&&h.Ni(f,p,m):(p.isSelected=!1,p.isHighlighted=!1,p.Jb(),h.xc(m?f:-1,p,m)))}else h instanceof Pa?"number"===typeof f&&p instanceof Ta&&(t?(p.hb(this),this.Pa.Ib(f,p)):this.Pa.mb(f)):x("unknown ChangedEvent.Remove object: "+e.toString());this.isModified=!0}else i!==Sn&&x("unknown ChangedEvent: "+e.toString())}finally{this.skipsModelSourceBindings=n}}},n.Aa=function(e){return this.undoManager.Aa(e)},n.Za=function(e){return this.undoManager.Za(e)},n.uf=function(){return this.undoManager.uf()},Pa.prototype.commit=function(e,t){void 0===t&&(t="");var n=this.skipsUndoManager;null===t&&(this.skipsUndoManager=!0,t=""),this.undoManager.Aa(t);var i=!1;try{e(this),i=!0}finally{i?this.undoManager.Za(t):this.undoManager.uf(),this.skipsUndoManager=n}},Pa.prototype.updateAllTargetBindings=function(e){this.partManager.updateAllTargetBindings(e)},n=Pa.prototype,n.tq=function(){this.partManager.tq()},n.iq=function(e,t,n,i){if(!e.A(t)){void 0===i&&(i=!1),i||fr(this),pr(this);var a=this.layout;null===a||!a.isViewportSized||this.autoScale!==go||i||e.width===t.width&&e.height===t.height||a.B(),a=this.currentTool,!0===this.he&&a instanceof En&&(this.lastInput.documentPoint=this.yt(this.lastInput.viewPoint),Rn(a,this)),this.ob||this.ox(e,t),Ir(this),this.we.scale=n,this.we.position.x=e.x,this.we.position.y=e.y,this.we.bounds.assign(e),this.we.qx=i,this.aa("ViewportBoundsChanged",this.we,e),this.isVirtualized&&this.links.each((function(e){e.isAvoiding&&e.actualBounds.Ic(t)&&e.Ra()}))}},n.Ls=function(){var e=this.selection.count>0;e&&this.aa("ChangingSelection",this.selection),Dr(this),e&&this.aa("ChangedSelection",this.selection)},n.select=function(e){null!==e&&e.layer.diagram===this&&(!e.isSelected||this.selection.count>1)&&(this.aa("ChangingSelection",this.selection),Dr(this),e.isSelected=!0,this.aa("ChangedSelection",this.selection))},n.Gv=function(e){if(this.aa("ChangingSelection",this.selection),Dr(this),I(e))for(var t=e.length,n=0;n<t;n++){var i=e[n];i instanceof lc||x("Diagram.selectCollection given something that is not a Part: "+i),i.isSelected=!0}else for(e=e.iterator;e.next();)t=e.value,t instanceof lc||x("Diagram.selectCollection given something that is not a Part: "+t),t.isSelected=!0;this.aa("ChangedSelection",this.selection)},n.Ww=function(){var e=this.highlighteds;if(e.count>0){for(var t=e.Na(),n=t.length,i=0;i<n;i++)t[i].isHighlighted=!1;e.ha(),e.clear(),e.freeze()}},n.mz=function(e){null!==e&&e.layer.diagram===this&&(!e.isHighlighted||this.highlighteds.count>1)&&(this.Ww(),e.isHighlighted=!0)},n.nz=function(e){e=(new re).addAll(e);for(var t=this.highlighteds.copy().lq(e).iterator;t.next();)t.value.isHighlighted=!1;for(e=e.iterator;e.next();)t=e.value,t instanceof lc||x("Diagram.highlightCollection given something that is not a Part: "+t),t.isHighlighted=!0},n.scroll=function(e,t,n){void 0===n&&(n=1);var i="up"===t||"down"===t,a=0;if("pixel"===e)a=n;else if("line"===e)a=n*(i?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===e)e=i?this.viewportBounds.height:this.viewportBounds.width,e*=this.scale,0!==e&&(a=n*Math.max(e-(i?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===e)return a=this.documentBounds,n=this.viewportBounds,i=ge.alloc(),"up"===t?this.position=i.h(n.x,a.y):"left"===t?this.position=i.h(a.x,n.y):"down"===t?this.position=i.h(n.x,a.bottom-n.height):"right"===t&&(this.position=i.h(a.right-n.width,n.y)),void ge.free(i);x("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+e)}a/=this.scale,n=this.position.copy(),"up"===t?n.y=this.position.y-a:"down"===t?n.y=this.position.y+a:"left"===t?n.x=this.position.x-a:"right"===t?n.x=this.position.x+a:x("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+t),this.position=n},n.Fv=function(e){var t=this.viewportBounds;t.lf(e)||(e=e.center,e.x-=t.width/2,e.y-=t.height/2,this.position=e)},n.Ju=function(e){var t=this.viewportBounds;e=e.center,e.x-=t.width/2,e.y-=t.height/2,this.position=e},n.xt=function(e){var t=this.tb;t.reset(),1!==this.Ca&&t.scale(this.Ca);var n=this.sa;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&t.translate(-n.x,-n.y),e.copy().transform(this.tb)},n.Yz=function(e){var t=this.tb,n=e.x,i=e.y,a=n+e.width,r=i+e.height,o=t.m11,s=t.m12,l=t.m21,u=t.m22,c=t.dx,d=t.dy,h=n*o+i*l+c;t=n*s+i*u+d;var f=a*o+i*l+c;return e=a*s+i*u+d,i=n*o+r*l+c,n=n*s+r*u+d,o=a*o+r*l+c,a=a*s+r*u+d,r=Math.min(h,f),h=Math.max(h,f),f=Math.min(t,e),t=Math.max(t,e),r=Math.min(r,i),h=Math.max(h,i),f=Math.min(f,n),t=Math.max(t,n),r=Math.min(r,o),h=Math.max(h,o),f=Math.min(f,a),t=Math.max(t,a),new Ue(r,f,h-r,t-f)},n.yt=function(e){var t=this.tb;t.reset(),1!==this.Ca&&t.scale(this.Ca);var n=this.sa;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&t.translate(-n.x,-n.y),Ae(e.copy(),this.tb)},Pa.prototype.doModelChanged=function(e){if(e.model===this.model){var t=e.change,n=e.propertyName;if(t===Sn&&"S"===n[0])if("StartingFirstTransaction"===n){var i=this;e=this.toolManager,e.mouseDownTools.each((function(e){e.hb(i)})),e.mouseMoveTools.each((function(e){e.hb(i)})),e.mouseUpTools.each((function(e){e.hb(i)})),this.Zb||this.ge||(this.Rk=!0,this.Xk&&(this.qd=!0))}else"StartingUndo"===n||"StartingRedo"===n?(e=this.animationManager,e.isAnimating&&!this.skipsUndoManager&&e.vd(),this.aa("ChangingSelection",this.selection)):"StartedTransaction"===n&&(e=this.animationManager,e.isAnimating&&!this.skipsUndoManager&&e.vd());else if(this.da){this.da=!1;try{if(""===e.modelChange&&t===Sn){"FinishedUndo"!==n&&"FinishedRedo"!==n||(this.aa("ChangedSelection",this.selection),lr(this));var a=this.animationManager;"RolledBackTransaction"===n&&a.vd(),this.Rk=!0,this.fd(),0===this.undoManager.transactionLevel&&ha(a),"CommittedTransaction"===n&&this.undoManager.du&&(this.fe=Math.min(this.fe,this.undoManager.historyIndex-1));var r=e.isTransactionFinished;if(r&&(Pr(this),this.gt.clear()),!this.ku&&r){this.ku=!0;var o=this;A((function(){o.currentTool.standardMouseOver(),o.ku=!1}),10)}}}finally{this.da=!0}}}},Pa.prototype.ud=function(){this.partManager.ud()},Pa.prototype.Jp=function(e,t){this.yk.Jp(e,t)},Pa.prototype.Kp=function(e,t){this.yk.Kp(e,t)},Pa.prototype.findPartForKey=function(e){return this.partManager.findPartForKey(e)},n=Pa.prototype,n.Hb=function(e){return this.partManager.Hb(e)},n.vc=function(e){return this.partManager.vc(e)},n.Ei=function(e){return this.partManager.Ei(e)},n.uc=function(e){return this.partManager.uc(e)},n.Ss=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return this.partManager.Ss.apply(this.partManager,t instanceof Array?t:o(r(t)))},n.Rs=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return this.partManager.Rs.apply(this.partManager,t instanceof Array?t:o(r(t)))},n.Uy=function(){for(var e=new re,t=this.nodes;t.next();){var n=t.value;n.isTopLevel&&e.add(n)}for(t=this.links;t.next();)n=t.value,n.isTopLevel&&e.add(n);return e.iterator},n.Ty=function(){return this.xi.iterator},n.yz=function(e){lr(this),e&&Br(this,!0),this.Rk=!0,or(this)},n.$y=function(){for(var e=new ie,t=this.nodes;t.next();){var n=t.value;n.isTopLevel&&null===n.Hi()&&e.add(n)}return e.iterator},n.Nj=function(e,t){e=zr(this,e),null!==e&&e.add(t)},n.mm=function(e,t){e=zr(this,e),null!==e&&e.remove(t)},n.aa=function(e,t,n){var i=zr(this,e),a=new Cn;if(a.diagram=this,e=qr(this,e),null!==e&&(a.name=e),void 0!==t&&(a.subject=t),void 0!==n&&(a.parameter=n),t=i.length,1===t)i.N(0)(a);else if(0!==t)for(i=i.Na(),n=0;n<t;n++)(0,i[n])(a)},n.ek=function(e,t){return void 0===t&&(t=null),$r(this,!1,null,t).ek(e.x,e.y,e.width,e.height)},Pa.prototype.computeOccupiedArea=function(){return this.isVirtualized?this.viewportBounds.copy():this.Og?qa(this):this.documentBounds.copy()},n=Pa.prototype,n.Os=function(e){this.Hq.assign(e),Wr(this,this.Hq).Qa(this.position)?this.vf():Yr(this)},n.vf=function(){-1!==this.Bk&&(v.clearTimeout(this.Bk),this.Bk=-1)},n.it=function(){return null},n.mv=function(){return null},n.ly=function(e,t){this.pu.add(e,t)},n.Az=function(e){return fo?(void 0===e&&(e=new J),e.returnType="Image",this.sx(e)):null},n.sx=function(e){return void 0===e&&(e=new J),Kr(this,this.Bz,e)},n.Bz=function(e,t,n){var i=Jr(n,e,"canvas",null);if(null===i)return null;n=i.W.canvas;var a=null;if(null!==n)switch(a=e.returnType,a=void 0===a?"string":a.toLowerCase(),a){case"imagedata":a=i.getImageData(0,0,n.width,n.height);break;case"image":i=(e.document||document).createElement("img"),i.src=n.toDataURL(e.type,e.details),a=i;break;case"blob":return"function"!==typeof t&&x('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"===typeof n.toBlob?(n.toBlob(t,e.type,e.details),"toBlob"):"function"===typeof n.msToBlob?(t(n.msToBlob()),"msToBlob"):(t(null),null);default:a=n.toDataURL(e.type,e.details)}return"function"===typeof t?(t(a),null):a},p.Object.defineProperties(Pa.prototype,{div:{get:function(){return this.Ia},set:function(e){if(this.Ia!==e){G=[];var t=this.Ia;null!==t?(t.C=void 0,t.innerHTML="",null!==this.Da&&(t=this.Da.Ga,this.removeEventListener(t,"touchstart",this.Tv,!1),this.removeEventListener(t,"touchmove",this.Sv,!1),this.removeEventListener(t,"touchend",this.Rv,!1),this.Da.ex()),t=this.toolManager,null!==t&&(t.mouseDownTools.each((function(e){e.cancelWaitAfter()})),t.mouseMoveTools.each((function(e){e.cancelWaitAfter()})),t.mouseUpTools.each((function(e){e.cancelWaitAfter()}))),t.cancelWaitAfter(),this.currentTool.doCancel(),this.Yc=this.Da=null,this.removeEventListener(v,"resize",this.Zv,!1),this.removeEventListener(v,"mousemove",this.ik,!0),this.removeEventListener(v,"mousedown",this.hk,!0),this.removeEventListener(v,"mouseup",this.kk,!0),this.removeEventListener(v,"wheel",this.lk,!0),this.removeEventListener(v,"mouseout",this.jk,!0),lo===this&&(lo=null)):this.ge=!1,this.Ia=null,null!==e&&((t=e.C)&&(t.div=null),jo(this,e),this.sf())}}},Vw:{get:function(){return this.Tr}},jv:{get:function(){return this.ob},set:function(e){this.ob=e}},Oi:{get:function(){return this.ge}},draggedLink:{get:function(){return this.br},set:function(e){this.br!==e&&(this.br=e,null!==e&&(this.bs=e.fromPort,this.cs=e.toPort))}},vx:{get:function(){return this.bs},set:function(e){this.bs=e}},wx:{get:function(){return this.cs},set:function(e){this.cs=e}},animationManager:{get:function(){return this.yk}},undoManager:{get:function(){return this.$b.undoManager}},skipsUndoManager:{get:function(){return this.eh},set:function(e){this.eh=e,this.$b.skipsUndoManager=e}},delaysLayout:{get:function(){return this.Qt},set:function(e){this.Qt=e}},validCycle:{get:function(){return this.Fs},set:function(e){var t=this.Fs;t!==e&&(this.Fs=e,this.g("validCycle",t,e))}},layers:{get:function(){return this.Pa.iterator}},isModelReadOnly:{get:function(){var e=this.$b;return null!==e&&e.isReadOnly},set:function(e){var t=this.$b;null!==t&&(t.isReadOnly=e)}},isReadOnly:{get:function(){return this.Lf},set:function(e){var t=this.Lf;t!==e&&(this.Lf=e,this.g("isReadOnly",t,e))}},isEnabled:{get:function(){return this.Dc},set:function(e){var t=this.Dc;t!==e&&(this.Dc=e,this.g("isEnabled",t,e))}},allowClipboard:{get:function(){return this.yq},set:function(e){var t=this.yq;t!==e&&(this.yq=e,this.g("allowClipboard",t,e))}},allowCopy:{get:function(){return this.Eh},set:function(e){var t=this.Eh;t!==e&&(this.Eh=e,this.g("allowCopy",t,e))}},allowDelete:{get:function(){return this.Fh},set:function(e){var t=this.Fh;t!==e&&(this.Fh=e,this.g("allowDelete",t,e))}},allowDragOut:{get:function(){return this.zq},set:function(e){var t=this.zq;t!==e&&(this.zq=e,this.g("allowDragOut",t,e))}},allowDrop:{get:function(){return this.Aq},set:function(e){var t=this.Aq;t!==e&&(this.Aq=e,this.g("allowDrop",t,e))}},allowTextEdit:{get:function(){return this.Oh},set:function(e){var t=this.Oh;t!==e&&(this.Oh=e,this.g("allowTextEdit",t,e))}},allowGroup:{get:function(){return this.Gh},set:function(e){var t=this.Gh;t!==e&&(this.Gh=e,this.g("allowGroup",t,e))}},allowUngroup:{get:function(){return this.Ph},set:function(e){var t=this.Ph;t!==e&&(this.Ph=e,this.g("allowUngroup",t,e))}},allowInsert:{get:function(){return this.Cq},set:function(e){var t=this.Cq;t!==e&&(this.Cq=e,this.g("allowInsert",t,e))}},allowLink:{get:function(){return this.Hh},set:function(e){var t=this.Hh;t!==e&&(this.Hh=e,this.g("allowLink",t,e))}},allowRelink:{get:function(){return this.Jh},set:function(e){var t=this.Jh;t!==e&&(this.Jh=e,this.g("allowRelink",t,e))}},allowMove:{get:function(){return this.Ih},set:function(e){var t=this.Ih;t!==e&&(this.Ih=e,this.g("allowMove",t,e))}},allowReshape:{get:function(){return this.Kh},set:function(e){var t=this.Kh;t!==e&&(this.Kh=e,this.g("allowReshape",t,e))}},allowResize:{get:function(){return this.Lh},set:function(e){var t=this.Lh;t!==e&&(this.Lh=e,this.g("allowResize",t,e))}},allowRotate:{get:function(){return this.Mh},set:function(e){var t=this.Mh;t!==e&&(this.Mh=e,this.g("allowRotate",t,e))}},allowSelect:{get:function(){return this.Nh},set:function(e){var t=this.Nh;t!==e&&(this.Nh=e,this.g("allowSelect",t,e))}},allowUndo:{get:function(){return this.Dq},set:function(e){var t=this.Dq;t!==e&&(this.Dq=e,this.g("allowUndo",t,e))}},allowZoom:{get:function(){return this.Fq},set:function(e){var t=this.Fq;t!==e&&(this.Fq=e,this.g("allowZoom",t,e))}},hasVerticalScrollbar:{get:function(){return this.rr},set:function(e){var t=this.rr;t!==e&&(this.rr=e,fr(this),this.R(),this.g("hasVerticalScrollbar",t,e),za(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.qr},set:function(e){var t=this.qr;t!==e&&(this.qr=e,fr(this),this.R(),this.g("hasHorizontalScrollbar",t,e),za(this,!1))}},allowHorizontalScroll:{get:function(){return this.Bq},set:function(e){var t=this.Bq;t!==e&&(this.Bq=e,this.g("allowHorizontalScroll",t,e),za(this,!1))}},allowVerticalScroll:{get:function(){return this.Eq},set:function(e){var t=this.Eq;t!==e&&(this.Eq=e,this.g("allowVerticalScroll",t,e),za(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.os},set:function(e){var t=this.os;t!==e&&(e<0&&k(e,">= 0",Pa,"scrollHorizontalLineChange"),this.os=e,this.g("scrollHorizontalLineChange",t,e))}},scrollVerticalLineChange:{get:function(){return this.qs},set:function(e){var t=this.qs;t!==e&&(e<0&&k(e,">= 0",Pa,"scrollVerticalLineChange"),this.qs=e,this.g("scrollVerticalLineChange",t,e))}},lastInput:{get:function(){return this.qj},set:function(e){this.qj=e}},firstInput:{get:function(){return this.Xh},set:function(e){this.Xh=e}},currentCursor:{get:function(){return this.Sq},set:function(e){if(""===e&&(e=this.qn),this.Sq!==e){var t=this.Da,n=this.Ia;if(null!==t){this.Sq=e;var i=t.style.cursor;t.style.cursor=e,n.style.cursor=e,t.style.cursor===i&&(t.style.cursor="-webkit-"+e,n.style.cursor="-webkit-"+e,t.style.cursor===i&&(t.style.cursor="-moz-"+e,n.style.cursor="-moz-"+e,t.style.cursor===i&&(t.style.cursor=e,n.style.cursor=e)))}}}},defaultCursor:{get:function(){return this.qn},set:function(e){""===e&&(e="auto");var t=this.qn;t!==e&&(this.qn=e,this.g("defaultCursor",t,e))}},click:{get:function(){return this.Af},set:function(e){var t=this.Af;t!==e&&(this.Af=e,this.g("click",t,e))}},doubleClick:{get:function(){return this.Ff},set:function(e){var t=this.Ff;t!==e&&(this.Ff=e,this.g("doubleClick",t,e))}},contextClick:{get:function(){return this.Bf},set:function(e){var t=this.Bf;t!==e&&(this.Bf=e,this.g("contextClick",t,e))}},mouseOver:{get:function(){return this.Wf},set:function(e){var t=this.Wf;t!==e&&(this.Wf=e,this.g("mouseOver",t,e))}},mouseHover:{get:function(){return this.Uf},set:function(e){var t=this.Uf;t!==e&&(this.Uf=e,this.g("mouseHover",t,e))}},mouseHold:{get:function(){return this.Tf},set:function(e){var t=this.Tf;t!==e&&(this.Tf=e,this.g("mouseHold",t,e))}},mouseDragOver:{get:function(){return this.Sr},set:function(e){var t=this.Sr;t!==e&&(this.Sr=e,this.g("mouseDragOver",t,e))}},mouseDrop:{get:function(){return this.Rf},set:function(e){var t=this.Rf;t!==e&&(this.Rf=e,this.g("mouseDrop",t,e))}},handlesDragDropForTopLevelParts:{get:function(){return this.pr},set:function(e){var t=this.pr;t!==e&&(this.pr=e,this.g("handlesDragDropForTopLevelParts",t,e))}},mouseEnter:{get:function(){return this.Sf},set:function(e){var t=this.Sf;t!==e&&(this.Sf=e,this.g("mouseEnter",t,e))}},mouseLeave:{get:function(){return this.Vf},set:function(e){var t=this.Vf;t!==e&&(this.Vf=e,this.g("mouseLeave",t,e))}},toolTip:{get:function(){return this.gg},set:function(e){var t=this.gg;t!==e&&(this.gg=e,this.g("toolTip",t,e))}},contextMenu:{get:function(){return this.Cf},set:function(e){var t=this.Cf;t!==e&&(this.Cf=e,this.g("contextMenu",t,e))}},commandHandler:{get:function(){return this.K},set:function(e){this.K!==e&&(this.K=e,e.hb(this))}},toolManager:{get:function(){return this.Vb},set:function(e){this.Vb!==e&&(this.Vb=e,e.hb(this))}},defaultTool:{get:function(){return this.La},set:function(e){var t=this.La;t!==e&&(this.La=e,e.hb(this),this.currentTool===t&&(this.currentTool=e))}},currentTool:{get:function(){return this.ba},set:function(e){var t=this.ba;null!==t&&(t.isActive&&t.doDeactivate(),t.cancelWaitAfter(),t.doStop()),null===e&&(e=this.defaultTool),null!==e&&(this.ba=e,e.hb(this),e.doStart())}},selection:{get:function(){return this.ts}},maxSelectionCount:{get:function(){return this.Or},set:function(e){var t=this.Or;if(t!==e)if(e>=0&&!isNaN(e)){if(this.Or=e,this.g("maxSelectionCount",t,e),!this.undoManager.isUndoingRedoing&&(e=this.selection.count-e,e>0)){this.aa("ChangingSelection",this.selection),t=this.selection.Na();for(var n=0;n<e;n++)t[n].isSelected=!1;this.aa("ChangedSelection",this.selection)}}else k(e,">= 0",Pa,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.Yr},set:function(e){var t=this.Yr;t!==e&&(this.Yr=e,this.g("nodeSelectionAdornmentTemplate",t,e))}},groupSelectionAdornmentTemplate:{get:function(){return this.mr},set:function(e){var t=this.mr;t!==e&&(this.mr=e,this.g("groupSelectionAdornmentTemplate",t,e))}},linkSelectionAdornmentTemplate:{get:function(){return this.Kr},set:function(e){var t=this.Kr;t!==e&&(this.Kr=e,this.g("linkSelectionAdornmentTemplate",t,e))}},highlighteds:{get:function(){return this.sr}},isModified:{get:function(){var e=this.undoManager;return e.isEnabled?null!==e.currentTransaction||this.u&&this.fe!==e.historyIndex:this.u},set:function(e){if(this.u!==e){this.u=e;var t=this.undoManager;!e&&t.isEnabled&&(this.fe=t.historyIndex),e||Pr(this)}}},model:{get:function(){return this.$b},set:function(e){var t=this.$b;if(t!==e){this.currentTool.doCancel(),null!==t&&t.undoManager!==e.undoManager&&t.undoManager.isInTransaction&&x("Do not replace a Diagram.model while a transaction is in progress."),La(this,!0),this.ge=!1,this.Xk=!0,this.fe=-2,this.qd=!1;var n=this.Zb;this.Zb=!0,this.animationManager.Ri("Model"),null!==t&&(null!==this.ne&&this.ne.each((function(e){t.pk(e)})),t.pk(this.Cm)),this.$b=e,this.partManager=Lr(this.$b.constructor.type),e.rh(this.wg),this.partManager.addAllModeledParts(),e.pk(this.wg),e.rh(this.Cm),null!==this.ne&&this.ne.each((function(t){e.rh(t)})),this.Zb=n,this.ob||this.R(),null!==t&&e.undoManager.copyProperties(t.undoManager)}}},da:{get:function(){return this.Vc},set:function(e){this.Vc=e}},gt:{get:function(){return this.wq}},skipsModelSourceBindings:{get:function(){return this.Ch},set:function(e){this.Ch=e}},Ui:{get:function(){return this.wu},set:function(e){this.wu=e}},nodeTemplate:{get:function(){return this.Xf.J("")},set:function(e){var t=this.Xf.J("");t!==e&&(this.Xf.add("",e),this.g("nodeTemplate",t,e),this.undoManager.isUndoingRedoing||this.ud())}},nodeTemplateMap:{get:function(){return this.Xf},set:function(e){var t=this.Xf;t!==e&&(this.Xf=e,this.g("nodeTemplateMap",t,e),this.undoManager.isUndoingRedoing||this.ud())}},groupTemplate:{get:function(){return this.Yh.J("")},set:function(e){var t=this.Yh.J("");t!==e&&(this.Yh.add("",e),this.g("groupTemplate",t,e),this.undoManager.isUndoingRedoing||this.ud())}},groupTemplateMap:{get:function(){return this.Yh},set:function(e){var t=this.Yh;t!==e&&(this.Yh=e,this.g("groupTemplateMap",t,e),this.undoManager.isUndoingRedoing||this.ud())}},linkTemplate:{get:function(){return this.Sg.J("")},set:function(e){var t=this.Sg.J("");t!==e&&(this.Sg.add("",e),this.g("linkTemplate",t,e),this.undoManager.isUndoingRedoing||this.ud())}},linkTemplateMap:{get:function(){return this.Sg},set:function(e){var t=this.Sg;t!==e&&(this.Sg=e,this.g("linkTemplateMap",t,e),this.undoManager.isUndoingRedoing||this.ud())}},isMouseOverDiagram:{get:function(){return this.he},set:function(e){this.he=e}},isMouseCaptured:{get:function(){return this.Kc},set:function(e){var t=this.Da;null!==t&&(t=t.Ga,t instanceof SVGElement||(e?(this.lastInput.bubbles=!1,this.Gq?(this.removeEventListener(t,"pointermove",this.jm,!1),this.removeEventListener(t,"pointerdown",this.im,!1),this.removeEventListener(t,"pointerup",this.lm,!1),this.removeEventListener(t,"pointerout",this.km,!1),this.addEventListener(v,"pointermove",this.jm,!0),this.addEventListener(v,"pointerdown",this.im,!0),this.addEventListener(v,"pointerup",this.lm,!0),this.addEventListener(v,"pointerout",this.km,!0)):(this.removeEventListener(t,"mousemove",this.ik,!1),this.removeEventListener(t,"mousedown",this.hk,!1),this.removeEventListener(t,"mouseup",this.kk,!1),this.removeEventListener(t,"mouseout",this.jk,!1),this.addEventListener(v,"mousemove",this.ik,!0),this.addEventListener(v,"mousedown",this.hk,!0),this.addEventListener(v,"mouseup",this.kk,!0),this.addEventListener(v,"mouseout",this.jk,!0)),this.removeEventListener(t,"wheel",this.lk,!1),this.addEventListener(v,"wheel",this.lk,!0),this.addEventListener(v,"selectstart",this.preventDefault,!1)):(this.Gq?(this.removeEventListener(v,"pointermove",this.jm,!0),this.removeEventListener(v,"pointerdown",this.im,!0),this.removeEventListener(v,"pointerup",this.lm,!0),this.removeEventListener(v,"pointerout",this.km,!0),this.addEventListener(t,"pointermove",this.jm,!1),this.addEventListener(t,"pointerdown",this.im,!1),this.addEventListener(t,"pointerup",this.lm,!1),this.addEventListener(t,"pointerout",this.km,!1)):(this.removeEventListener(v,"mousemove",this.ik,!0),this.removeEventListener(v,"mousedown",this.hk,!0),this.removeEventListener(v,"mouseup",this.kk,!0),this.removeEventListener(v,"mouseout",this.jk,!0),this.addEventListener(t,"mousemove",this.ik,!1),this.addEventListener(t,"mousedown",this.hk,!1),this.addEventListener(t,"mouseup",this.kk,!1),this.addEventListener(t,"mouseout",this.jk,!1)),this.removeEventListener(v,"wheel",this.lk,!0),this.removeEventListener(v,"selectstart",this.preventDefault,!1),this.addEventListener(t,"wheel",this.lk,!1)),this.Kc=e))}},position:{get:function(){return this.sa},set:function(e){var t=ge.alloc().assign(this.sa);if(!t.A(e)){var n=this.viewportBounds.copy();this.sa.assign(e),this.ob||null===this.Da&&!this.Ep.o()||(this.ob=!0,e=this.scale,$a(this,this.vn,this.xa/e,this.wa/e,this.cj,!1),this.ob=!1),Aa(this.animationManager,t,this.sa),this.ob||this.iq(n,this.viewportBounds,this.Ca,!1)}ge.free(t)}},initialPosition:{get:function(){return this.ur},set:function(e){this.ur.A(e)||(this.ur=e.I())}},initialScale:{get:function(){return this.vr},set:function(e){this.vr!==e&&(this.vr=e)}},grid:{get:function(){return null===this.Eb&&Va(this),this.Eb},set:function(e){var t=this.Eb;if(t!==e){null===t&&(Va(this),t=this.Eb),e.type!==Tl.Grid&&x("Diagram.grid must be a Panel of type Panel.Grid");var n=t.panel;null!==n&&n.remove(t),this.Eb=e,e.name="GRID",null!==n&&n.add(e),Ir(this),this.R(),this.g("grid",t,e)}}},viewportBounds:{get:function(){var e=this.Nw,t=this.sa,n=this.Ca;return null===this.Da?(this.Ep.o()&&e.h(t.x,t.y,this.xa/n,this.wa/n),e):(e.h(t.x,t.y,Math.max(this.xa,0)/n,Math.max(this.wa,0)/n),e)}},viewSize:{get:function(){return this.Ep},set:function(e){var t=this.viewSize;t.A(e)||(this.Ep=e=e.I(),this.xa=e.width,this.wa=e.height,this.Xa(),this.g("viewSize",t,e))}},fixedBounds:{get:function(){return this.jr},set:function(e){var t=this.jr;t.A(e)||(-1/0!==e.width&&1/0!==e.height&&-1/0!==e.height||x("fixedBounds width/height must not be Infinity"),this.jr=e=e.I(),this.Xa(),this.g("fixedBounds",t,e))}},scrollMargin:{get:function(){return this.ri},set:function(e){"number"===typeof e&&(e=new tt(e));var t=this.ri;t.A(e)||(this.ri=e=e.I(),this.g("scrollMargin",t,e),this.sf())}},scrollMode:{get:function(){return this.Gj},set:function(e){var t=this.Gj;t!==e&&(this.Gj=e,e===So&&za(this,!1),this.g("scrollMode",t,e),this.sf())}},scrollsPageOnFocus:{get:function(){return this.rs},set:function(e){var t=this.rs;t!==e&&(this.rs=e,this.g("scrollsPageOnFocus",t,e))}},positionComputation:{get:function(){return this.hs},set:function(e){var t=this.hs;t!==e&&(this.hs=e,za(this,!1),this.g("positionComputation",t,e))}},scaleComputation:{get:function(){return this.ms},set:function(e){var t=this.ms;t!==e&&(this.ms=e,Nr(this,this.scale,this.scale),this.g("scaleComputation",t,e))}},documentBounds:{get:function(){return this.vn}},isVirtualized:{get:function(){return this.Fr},set:function(e){var t=this.Fr;t!==e&&(this.Fr=e,this.g("isVirtualized",t,e))}},scale:{get:function(){return this.Ca},set:function(e){var t=this.Ca;t!==e&&Nr(this,t,e)}},defaultScale:{get:function(){return this.Zq},set:function(e){this.Zq=e}},autoScale:{get:function(){return this.aj},set:function(e){var t=this.aj;t!==e&&(this.aj=e,this.g("autoScale",t,e),e!==go&&za(this,!1))}},initialAutoScale:{get:function(){return this.ai},set:function(e){var t=this.ai;t!==e&&(this.ai=e,this.g("initialAutoScale",t,e))}},initialViewportSpot:{get:function(){return this.wr},set:function(e){var t=this.wr;t!==e&&(e.gb()||x("initialViewportSpot must be a specific Spot: "+e),this.wr=e,this.g("initialViewportSpot",t,e))}},initialDocumentSpot:{get:function(){return this.tr},set:function(e){var t=this.tr;t!==e&&(e.gb()||x("initialViewportSpot must be a specific Spot: "+e),this.tr=e,this.g("initialDocumentSpot",t,e))}},minScale:{get:function(){return this.Pr},set:function(e){var t=this.Pr;t!==e&&(e>0?(this.Pr=e,this.g("minScale",t,e),e>this.scale&&(this.scale=e)):k(e,"> 0",Pa,"minScale"))}},maxScale:{get:function(){return this.Nr},set:function(e){var t=this.Nr;t!==e&&(e>0?(this.Nr=e,this.g("maxScale",t,e),e<this.scale&&(this.scale=e)):k(e,"> 0",Pa,"maxScale"))}},zoomPoint:{get:function(){return this.Is},set:function(e){this.Is.A(e)||(this.Is=e=e.I())}},contentAlignment:{get:function(){return this.cj},set:function(e){var t=this.cj;t.A(e)||(this.cj=e=e.I(),this.g("contentAlignment",t,e),za(this,!1))}},initialContentAlignment:{get:function(){return this.On},set:function(e){var t=this.On;t.A(e)||(this.On=e=e.I(),this.g("initialContentAlignment",t,e))}},padding:{get:function(){return this.eb},set:function(e){"number"===typeof e&&(e=new tt(e));var t=this.eb;t.A(e)||(this.eb=e=e.I(),this.Xa(),this.g("padding",t,e))}},partManager:{get:function(){return this.Ma},set:function(e){var t=this.Ma;t!==e&&(null!==e.diagram&&x("Cannot share PartManagers between Diagrams: "+e.toString()),null!==t&&t.hb(null),this.Ma=e,e.hb(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.gc},set:function(e){var t=this.gc;t!==e&&(this.gc=e,e.diagram=this,e.group=null,this.zg=!0,this.g("layout",t,e),this.cc())}},isTreePathToChildren:{get:function(){return this.Er},set:function(e){var t=this.Er;if(t!==e&&(this.Er=e,this.g("isTreePathToChildren",t,e),!this.undoManager.isUndoingRedoing))for(e=this.nodes;e.next();)Fc(e.value)}},treeCollapsePolicy:{get:function(){return this.Ds},set:function(e){var t=this.Ds;t!==e&&(e!==No&&e!==Io&&e!==Do&&x("Unknown Diagram.treeCollapsePolicy: "+e),this.Ds=e,this.g("treeCollapsePolicy",t,e))}},Ee:{get:function(){return this.Wb},set:function(e){this.Wb=e}},autoScrollInterval:{get:function(){return this.Tm},set:function(e){var t=this.Tm;t!==e&&(this.Tm=e,this.g("autoScrollInterval",t,e))}},autoScrollRegion:{get:function(){return this.Um},set:function(e){"number"===typeof e&&(e=new tt(e));var t=this.Um;t.A(e)||(this.Um=e=e.I(),this.Xa(),this.g("autoScrollRegion",t,e))}}}),p.Object.defineProperties(Pa,{licenseKey:{get:function(){return Po.Tb()},set:function(e){Po.add(e)}},version:{get:function(){return Lo}}}),Pa.prototype.makeImageData=Pa.prototype.sx,Pa.prototype.makeImage=Pa.prototype.Az,Pa.prototype.addRenderer=Pa.prototype.ly,Pa.prototype.makeSVG=Pa.prototype.mv,Pa.prototype.makeSvg=Pa.prototype.it,Pa.prototype.stopAutoScroll=Pa.prototype.vf,Pa.prototype.doAutoScroll=Pa.prototype.Os,Pa.prototype.isUnoccupied=Pa.prototype.ek,Pa.prototype.raiseDiagramEvent=Pa.prototype.aa,Pa.prototype.removeDiagramListener=Pa.prototype.mm,Pa.prototype.addDiagramListener=Pa.prototype.Nj,Pa.prototype.findTreeRoots=Pa.prototype.$y,Pa.prototype.layoutDiagram=Pa.prototype.yz,Pa.prototype.findTopLevelGroups=Pa.prototype.Ty,Pa.prototype.findTopLevelNodesAndLinks=Pa.prototype.Uy,Pa.prototype.findLinksByExample=Pa.prototype.Rs,Pa.prototype.findNodesByExample=Pa.prototype.Ss,Pa.prototype.findLinkForData=Pa.prototype.uc,Pa.prototype.findNodeForData=Pa.prototype.Ei,Pa.prototype.findPartForData=Pa.prototype.vc,Pa.prototype.findNodeForKey=Pa.prototype.Hb,Pa.prototype.findPartForKey=Pa.prototype.findPartForKey,Pa.prototype.rebuildParts=Pa.prototype.ud,Pa.prototype.transformViewToDoc=Pa.prototype.yt,Pa.prototype.transformRectDocToView=Pa.prototype.Yz,Pa.prototype.transformDocToView=Pa.prototype.xt,Pa.prototype.centerRect=Pa.prototype.Ju,Pa.prototype.scrollToRect=Pa.prototype.Fv,Pa.prototype.scroll=Pa.prototype.scroll,Pa.prototype.highlightCollection=Pa.prototype.nz,Pa.prototype.highlight=Pa.prototype.mz,Pa.prototype.clearHighlighteds=Pa.prototype.Ww,Pa.prototype.selectCollection=Pa.prototype.Gv,Pa.prototype.select=Pa.prototype.select,Pa.prototype.clearSelection=Pa.prototype.Ls,Pa.prototype.updateAllRelationshipsFromData=Pa.prototype.tq,Pa.prototype.updateAllTargetBindings=Pa.prototype.updateAllTargetBindings,Pa.prototype.commit=Pa.prototype.commit,Pa.prototype.rollbackTransaction=Pa.prototype.uf,Pa.prototype.commitTransaction=Pa.prototype.Za,Pa.prototype.startTransaction=Pa.prototype.Aa,Pa.prototype.raiseChanged=Pa.prototype.g,Pa.prototype.raiseChangedEvent=Pa.prototype.ab,Pa.prototype.removeChangedListener=Pa.prototype.pk,Pa.prototype.addChangedListener=Pa.prototype.rh,Pa.prototype.removeModelChangedListener=Pa.prototype.Nz,Pa.prototype.addModelChangedListener=Pa.prototype.Tw,Pa.prototype.findLayer=Pa.prototype.Zl,Pa.prototype.removeLayer=Pa.prototype.Lz,Pa.prototype.addLayerAfter=Pa.prototype.hy,Pa.prototype.addLayerBefore=Pa.prototype.Rw,Pa.prototype.addLayer=Pa.prototype.Ql,Pa.prototype.moveParts=Pa.prototype.moveParts,Pa.prototype.copyParts=Pa.prototype.Xj,Pa.prototype.removeParts=Pa.prototype.rt,Pa.prototype.remove=Pa.prototype.remove,Pa.prototype.add=Pa.prototype.add,Pa.prototype.clearDelayedGeometries=Pa.prototype.Ku,Pa.prototype.setProperties=Pa.prototype.Mv,Pa.prototype.resetInputOptions=Pa.prototype.Cv,Pa.prototype.setInputOption=Pa.prototype.Rz,Pa.prototype.getInputOption=Pa.prototype.bm,Pa.prototype.resetRenderingHints=Pa.prototype.Dv,Pa.prototype.setRenderingHint=Pa.prototype.Jx,Pa.prototype.getRenderingHint=Pa.prototype.De,Pa.prototype.maybeUpdate=Pa.prototype.fd,Pa.prototype.requestUpdate=Pa.prototype.cc,Pa.prototype.delayInitialization=Pa.prototype.Ay,Pa.prototype.isUpdateRequested=Pa.prototype.uz,Pa.prototype.redraw=Pa.prototype.sf,Pa.prototype.invalidateDocumentBounds=Pa.prototype.Xa,Pa.prototype.findObjectsNear=Pa.prototype.ng,Pa.prototype.findPartsNear=Pa.prototype.Qy,Pa.prototype.findObjectsIn=Pa.prototype.mg,Pa.prototype.findPartsIn=Pa.prototype.kx,Pa.prototype.findObjectsAt=Pa.prototype.Fi,Pa.prototype.findPartsAt=Pa.prototype.Py,Pa.prototype.findObjectAt=Pa.prototype.Sb,Pa.prototype.findPartAt=Pa.prototype.$l,Pa.prototype.alignDocument=Pa.prototype.my,Pa.prototype.zoomToRect=Pa.prototype.aA,Pa.prototype.zoomToFit=Pa.prototype.zoomToFit,Pa.prototype.diagramScroll=Pa.prototype.bx,Pa.prototype.focus=Pa.prototype.focus,Pa.prototype.reset=Pa.prototype.reset,Pa.useDOM=function(e){fo=!!e&&void 0!==v.document},Pa.isUsingDOM=function(){return fo};var Xr,Zr,eo,to,no,io,ao,ro,oo,so,lo=null,uo=new me,co=null,ho=null,fo=void 0!==v.document,po=null,mo="",go=new Y(Pa,"None",0),vo=new Y(Pa,"Uniform",1),yo=new Y(Pa,"UniformToFill",2),bo=new Y(Pa,"CycleAll",10),Ao=new Y(Pa,"CycleNotDirected",11),wo=new Y(Pa,"CycleNotDirectedFast",12),xo=new Y(Pa,"CycleNotUndirected",13),Co=new Y(Pa,"CycleDestinationTree",14),ko=new Y(Pa,"CycleSourceTree",15),So=new Y(Pa,"DocumentScroll",1),To=new Y(Pa,"InfiniteScroll",2),No=new Y(Pa,"TreeParentCollapsed",21),Io=new Y(Pa,"AllParentsCollapsed",22),Do=new Y(Pa,"AnyParentsCollapsed",23),Po=new ie,Lo="2.0.9",Oo=!1;function Mo(){if(fo){var e=v.document.createElement("canvas"),t=e.getContext("2d"),n=V("7ca11abfd022028846");t[n]=V("398c3597c01238");for(var i=["5da73c80a36455d4038e4972187c3cae51fd22",y.Dx+"4ae6247590da4bb21c324ba3a84e385776",st.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",Kt.za],a=1;a<5;a++)t[V("7ca11abfd7330390")](V(i[a-1]),10,15*a);for(t[n]=V("39f046ebb36e4b"),n=1;n<5;n++)t[V("7ca11abfd7330390")](V(i[n-1]),10,15*n);e}}function Eo(){this.$x=null,this.l="zz@orderNum","63ad05bbe23a1786468a4c741b6d2"===this._tk?this.Ne=this.l=!0:this.Ne=null}function Ro(e,t){if(t.Yc.setTransform(t.Nb,0,0,t.Nb,0,0),null===e.Ne){t="f";var n=v[V("76a715b2f73f148a")][V("72ba13b5")];if(e.Ne=!0,fo){var i=Pa[V("76a115b6ed251eaf4692")];if(i)for(var a=Po.iterator;a.next();){if(i=a.value,i=V(i).split(V("39e9")),i.length<6)break;var r=V(i[1]).split(".");if("7da71ca0"!==i[4])break;var o=V(y[V("6cae19")]).split(".");if(r[0]>o[0]||r[0]===o[0]&&r[1]>=o[1]){for(r=n[V("76ad18b4f73e")],o=n[V("73a612b6fb191d")](V("35e7"))+2;o<r;o++)t+=n[o];if(r=t[V("73a612b6fb191d")](V(i[2])),r<0&&V(i[2])!==V("7da71ca0ad381e90")&&(r=t[V("73a612b6fb191d")](V("76a715b2ef3e149757"))),r<0&&(r=t[V("73a612b6fb191d")](V("76a715b2ef3e149757"))),e.Ne=!(r>=0&&r<t[V("73a612b6fb191d")](V("35"))),!e.Ne)break;if(r=V(i[2]),"#"!==r[0])break;o=v.document.createElement("div");for(var s=i[0].replace(/[A-Za-z]/g,"");s.length<4;)s+="9";if(s=s.substr(s.length-4),i="",i+=["gsh","gsf"][parseInt(s.substr(0,1),10)%2],i+=["Header","Background","Display","Feedback"][parseInt(s.substr(0,1),10)%4],o[V("79a417a0f0181a8946")]=i,v.document[V("78a712aa")]){if(v.document[V("78a712aa")][V("7bb806b6ed32388c4a875b")](o),s=v.getComputedStyle(o).getPropertyValue(V("78a704b7e62456904c9b12701b6532a8")),v.document[V("78a712aa")][V("68ad1bbcf533388c4a875b")](o),!s)break;if(-1!==s.indexOf(parseInt(r[1]+r[2],16))&&-1!==s.indexOf(parseInt(r[3]+r[4],16))){e.Ne=!1;break}if(F||U||q||z)for(i="."+i,r=0;r<document.styleSheets.length;r++)for(var l in o=document.styleSheets[r].rules||document.styleSheets[r].cssRules,o)if(i===o[l].selectorText){e.Ne=!1;break}}else e.Ne=null,e.Ne=!1}}else{for(l=n[V("76ad18b4f73e")],a=n[V("73a612b6fb191d")](V("35e7"))+2;a<l;a++)t+=n[a];n=t[V("73a612b6fb191d")](V("7da71ca0ad381e90")),e.Ne=!(n>=0&&n<t[V("73a612b6fb191d")](V("35")))}}}return e.Ne>0&&e!==e.$x}function jo(e,t){if(fo){void 0!==t&&null!==t||x("Diagram setup requires an argument DIV."),null!==e.Ia&&x("Diagram has already completed setup."),"string"===typeof t?e.Ia=v.document.getElementById(t):t instanceof HTMLDivElement?e.Ia=t:x("No DIV or DIV id supplied: "+t),null===e.Ia&&x("Invalid DIV id; could not get element with id: "+t),void 0!==e.Ia.C&&x("Invalid div id; div already has a Diagram associated with it."),"static"===v.getComputedStyle(e.Ia,null).position&&(e.Ia.style.position="relative"),e.Ia.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",e.Ia.style["-ms-touch-action"]="none",e.Ia.innerHTML="",e.Ia.C=e;var n=e.As?new Is(e):new Rs(e);if(void 0!==n.style&&(n.style.position="absolute",n.style.top="0px",n.style.left="0px","rtl"===v.getComputedStyle(e.Ia,null).getPropertyValue("direction")&&(e.Tn=!0),n.style.zIndex="2",n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none"),e.Da=n,e.Yc=n.context,t=e.Yc,e.Nb=e.computePixelRatio(),e.xa=e.Ia.clientWidth||1,e.wa=e.Ia.clientHeight||1,gr(e,e.xa,e.wa),e.cr=function(){return!0},e.Ia.insertBefore(n.Ga,e.Ia.firstChild),n=new Rs(null),n.width=1,n.height=1,e.Ut=n,e.uw=n.context,fo){n=w("div");var i=w("div");n.style.position="absolute",n.style.overflow="auto",n.style.width=e.xa+"px",n.style.height=e.wa+"px",n.style.zIndex="1",i.style.position="absolute",i.style.width="1px",i.style.height="1px",e.Ia.appendChild(n),n.appendChild(i),n.onscroll=Fa,n.onmousedown=Ua,n.ontouchstart=Ua,n.C=e,n.Yx=!0,n.Zx=!0,e.ps=n,e.fp=i}e.ot=b((function(){e.jh=null,e.R()}),300),e.Zv=b((function(){Ba(e)}),250),e.preventDefault=function(e){return e.preventDefault(),!1},e.ik=function(t){if(e.isEnabled){e.he=!0;var n=Ka(e,t,!0);e.doMouseMove(),e.currentTool.isBeyondDragSize()&&(e.Fd=0),tr(n,t)}},e.hk=function(t){if(e.isEnabled)if(e.he=!0,e.Qe)t.preventDefault();else{var n=Ka(e,t,!0);n.down=!0,n.clickCount=t.detail,(U||q)&&(t.timeStamp-e.kl<e.Bu&&!e.currentTool.isBeyondDragSize()?e.Fd++:e.Fd=1,e.kl=t.timeStamp,n.clickCount=e.Fd),n.clone(e.firstInput),e.doMouseDown(),1===t.button?t.preventDefault():tr(n,t)}},e.kk=function(t){if(e.isEnabled)if(e.Qe&&2===t.button)t.preventDefault();else if(e.Qe&&0===t.button&&(e.Qe=!1),e.Ml)t.preventDefault();else{e.he=!0;var n=Ka(e,t,!0);n.up=!0,n.clickCount=t.detail,(U||q)&&(n.clickCount=e.Fd),n.bubbles=t.bubbles,n.targetDiagram=Ja(t),e.doMouseUp(),e.vf(),tr(n,t)}},e.lk=function(t){if(e.isEnabled){var n=Ka(e,t,!0);n.bubbles=!0;var i=0,a=0;n.delta=0,void 0!==t.deltaX?(0!==t.deltaX&&(i=t.deltaX>0?1:-1),0!==t.deltaY&&(a=t.deltaY>0?1:-1),n.delta=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-i:-a):void 0!==t.wheelDeltaX?(0!==t.wheelDeltaX&&(i=t.wheelDeltaX>0?-1:1),0!==t.wheelDeltaY&&(a=t.wheelDeltaY>0?-1:1),n.delta=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?-i:-a):void 0!==t.wheelDelta&&0!==t.wheelDelta&&(n.delta=t.wheelDelta>0?1:-1),e.doMouseWheel(),tr(n,t)}},e.jk=function(t){e.isEnabled&&(e.he=!1,Ka(e,t,!0),t=e.currentTool,t.cancelWaitAfter(),t.standardMouseOver())},e.Tv=function(t){if(e.isEnabled){e.Ml=!1,e.Qe=!0;var n=Xa(e,t,t.targetTouches[0],t.touches.length>1),i=null;if(t.targetTouches.length>0?i=t.targetTouches[0]:t.changedTouches.length>0&&(i=t.changedTouches[0]),null!==i){var a=i.screenX;i=i.screenY;var r=e.Hr;t.timeStamp-e.kl<e.Bu&&!(Math.abs(r.x-a)>25||Math.abs(r.y-i)>25)?e.Fd++:e.Fd=1,n.clickCount=e.Fd,e.kl=t.timeStamp,e.Hr.h(a,i)}e.doMouseDown(),tr(n,t)}},e.Sv=function(t){if(e.isEnabled){var n=null;t.targetTouches.length>0?n=t.targetTouches[0]:t.changedTouches.length>0&&(n=t.changedTouches[0]),n=Za(e,t,n,t.touches.length>1),e.doMouseMove(),tr(n,t)}},e.Rv=function(t){if(e.isEnabled)if(e.Ml)t.preventDefault();else if(!(t.touches.length>1)){var n=null,i=null;t.targetTouches.length>0?i=t.targetTouches[0]:t.changedTouches.length>0&&(i=t.changedTouches[0]);var a=er(e,t,!1,!0,!1,!1);null!==i&&(n=v.document.elementFromPoint(i.clientX,i.clientY),null!==n&&n.C instanceof Pa&&n.C!==e&&nr(n.C,i,a),nr(e,i,a),a.clickCount=e.Fd),null===n?a.targetDiagram=Ja(t):n.C?a.targetDiagram=n.C:a.targetDiagram=null,a.targetObject=null,e.doMouseUp(),tr(a,t),e.Qe=!1}},e.im=function(t){if(e.isEnabled){e.he=!0;var n=e.nu;void 0===n[t.pointerId]&&(n[t.pointerId]=t),n=e.vl;var i=!1;if(null!==n[0]&&n[0].pointerId===t.pointerId)n[0]=t;else if(null!==n[1]&&n[1].pointerId===t.pointerId)n[1]=t,i=!0;else if(null===n[0])n[0]=t;else{if(null!==n[1])return void t.preventDefault();n[1]=t,i=!0}"touch"!==t.pointerType&&"pen"!==t.pointerType||(e.Ml=!1,e.Qe=!0),n=Xa(e,t,t,i),i=e.Hr;var a="touch"===t.pointerType||"pen"===t.pointerType?25:10;t.timeStamp-e.kl<e.Bu&&!(Math.abs(i.x-t.screenX)>a||Math.abs(i.y-t.screenY)>a)?e.Fd++:e.Fd=1,n.clickCount=e.Fd,e.kl=t.timeStamp,e.Hr.tg(t.screenX,t.screenY),e.doMouseDown(),1===t.button?t.preventDefault():tr(n,t)}},e.jm=function(t){if(e.isEnabled){e.he=!0;var n=e.vl;if(null!==n[0]&&n[0].pointerId===t.pointerId)n[0]=t;else{if(null!==n[1]&&n[1].pointerId===t.pointerId)return void(n[1]=t);if(null!==n[0])return;n[0]=t}n[0].pointerId===t.pointerId&&(n=Za(e,t,t,null!==n[1]),e.doMouseMove(),tr(n,t))}},e.lm=function(t){if(e.isEnabled){e.he=!0;var n="touch"===t.pointerType||"pen"===t.pointerType,i=e.nu;if(n&&e.Ml)delete i[t.pointerId],t.preventDefault();else if(i=e.vl,null!==i[0]&&i[0].pointerId===t.pointerId){i[0]=null,i=er(e,t,!1,!0,!0,!1);var a=v.document.elementFromPoint(t.clientX,t.clientY);null!==a&&a.C instanceof Pa&&a.C!==e&&nr(a.C,t,i),nr(e,t,i),i.clickCount=e.Fd,null===a?i.targetDiagram=Ja(t):a.C?i.targetDiagram=a.C:i.targetDiagram=null,i.targetObject=null,e.doMouseUp(),tr(i,t),n&&(e.Qe=!1)}else null!==i[1]&&i[1].pointerId===t.pointerId&&(i[1]=null)}},e.km=function(t){if(e.isEnabled){e.he=!1;var n=e.nu;n[t.pointerId]&&delete n[t.pointerId],n=e.vl,null!==n[0]&&n[0].pointerId===t.pointerId&&(n[0]=null),null!==n[1]&&n[1].pointerId===t.pointerId&&(n[1]=null),"touch"!==t.pointerType&&"pen"!==t.pointerType&&(t=e.currentTool,t.cancelWaitAfter(),t.standardMouseOver())}},t.Rc(!0),Ea(e)}}function Bo(e){this.l=void 0===e?new ge:e,this.u=new ge}function _o(e,t,n){this.node=e,this.info=t,this.ev=n}function Vo(){this.reset()}function Fo(e){arguments.length>1&&x("Palette constructor can only take one optional argument, the DIV HTML element or its id."),Pa.call(this,e),this.allowDragOut=!0,this.allowMove=!1,this.isReadOnly=!0,this.contentAlignment=ct,this.layout=new bh}function Uo(e){arguments.length>1&&x("Overview constructor can only take one optional argument, the DIV HTML element or its id."),Pa.call(this,e),this.animationManager.isEnabled=!1,this.ob=!0,this.Yf=null,this.dr=!0,this.Jx("drawShadows",!1);var t=new lc,n=new ou;n.stroke="magenta",n.strokeWidth=2,n.fill="transparent",n.name="BOXSHAPE",t.selectable=!0,t.selectionAdorned=!1,t.selectionObjectName="BOXSHAPE",t.locationObjectName="BOXSHAPE",t.resizeObjectName="BOXSHAPE",t.cursor="move",t.add(n),this.l=t,this.allowDelete=this.allowCopy=!1,this.allowSelect=!0,this.autoScrollRegion=new tt(0,0,0,0),this.yu=new Rs(null),this.ay=this.yu.context,jn(this.toolManager,"Dragging",new Qo,this.toolManager.mouseMoveTools);var i=this;this.click=function(){var e=i.Yf;if(null!==e){var t=e.viewportBounds,n=i.lastInput.documentPoint;e.position=new ge(n.x-t.width/2,n.y-t.height/2)}},this.Gm=function(){i.Xa(),zo(i)},this.Em=function(){null!==i.Yf&&(i.Xa(),i.R())},this.Fm=function(){i.R()},this.Dm=function(){null!==i.Yf&&zo(i)},this.autoScale=vo,this.ob=!1}function qo(e){e.ob||e.Zb||!1!==e.qd||(e.qd=!0,v.requestAnimationFrame((function(){if(e.qd&&!e.Zb&&(e.qd=!1,null!==e.Ia)){if(e.Zb=!0,lr(e),e.documentBounds.o()||jr(e,e.computeBounds()),null===e.Ia&&x("No div specified"),null===e.Da&&x("No canvas specified"),uc(e.box),e.nc){var t=e.Yf;if(null!==t&&!t.animationManager.isAnimating&&!t.animationManager.rb){t=e.Yc;var n=e.yu;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.Da.width,e.Da.height),t.drawImage(n.Ga,0,0),n=e.tb,n.reset(),1!==e.scale&&n.scale(e.scale),0===e.position.x&&0===e.position.y||n.translate(-e.position.x,-e.position.y),t.scale(e.Nb,e.Nb),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),n=e.Pa.j;for(var i=n.length,a=0;a<i;a++)n[a].hc(t,e);e.bi=!1,e.nc=!1}}e.Zb=!1}})))}function zo(e){var t=e.box;if(null!==t){var n=e.Yf;if(null!==n){e.nc=!0,n=n.viewportBounds;var i=t.selectionObject,a=Be.alloc();a.h(n.width,n.height),i.desiredSize=a,Be.free(a),e=2/e.scale,i instanceof ou&&(i.strokeWidth=e),t.location=new ge(n.x-e/2,n.y-e/2),t.isSelected=!0}}}function Qo(){zn.call(this),this.l=null}function $o(){oe(this),this.C=lo,this.Vb=this.K=this.u=!0,this.ba=this.La=this.Wb=this.Ma=!1,this.ji=this.l=null,this.Vc=1.05,this.eu=NaN,this.Aw=null,this.Eu=NaN,this.Du=Xe,this.cg=null,this.Kc=200}function Ho(e,t,n){if(t.isVisible())return n;if(t instanceof Oc)Ho(e,t.adornedPart,n);else if(t instanceof id){var i=t.fromNode;null!==i&&Ho(e,i,n),t=t.toNode,null!==t&&Ho(e,t,n)}else t instanceof Mc&&(i=t.labeledLink,null!==i&&Ho(e,i,n),i=t.og(),null!==i&&(i.isTreeExpanded||i.wasTreeExpanded||n.push(i),Ho(e,i,n))),t=t.containingGroup,null!==t&&(t.isSubGraphExpanded||t.wasSubGraphExpanded||n.push(t),Ho(e,t,n));return n}function Go(e){var t=O();for(e=e.iterator;e.next();){var n=e.value;n instanceof id||t.push(n)}e=new re,n=t.length;for(var i=0;i<n;i++){for(var a=t[i],r=!0,o=0;o<n;o++)if(a.Vd(t[o])){r=!1;break}r&&e.add(a)}return M(t),e}function Yo(){oe(this),this.H=4225027,this.lb=1,this.ag=null,this.Ua="",this.dc=this.ib=null,this.sa=new ge(NaN,NaN).freeze(),this.Nc=Pe,this.Qf=ke,this.Pf=De,this.tb=new st,this.Dh=new st,this.Nf=new st,this.Ca=this.Sk=1,this.zc=0,this.ue=to,this.Tg=at,this.pc=new Ue(NaN,NaN,NaN,NaN).freeze(),this.vb=new Ue(NaN,NaN,NaN,NaN).freeze(),this.qc=new Ue(0,0,NaN,NaN).freeze(),this.P=this.Oo=this.Po=null,this.wk=this.wb=Mt,this.ap=0,this.bp=1,this.Cg=0,this.Zm=1,this.rp=null,this.gp=-1/0,this.yl=0,this.zl=Le,this.Al=Id,this.jn="",this.bb=this.O=null,this.Dk=-1,this.Cl=this.kd=this.Sh=this.Fl=null,this.js=Zr,this.Pm=this.Aj=null}function Wo(e){null===e.O&&(e.O=new Ss)}function Ko(e,t,n){var i=e.Gi();if(null!==i)for(var a=e.bb.iterator;a.next();){var r=a.value,o=null;if(null!==r.sourceName){if(o=yf(r,i,e),null===o)continue;r.uq(e,o,n,null)}else if(r.isToModel){var s=t.diagram;null===s||s.skipsModelSourceBindings||r.uq(e,s.model.modelData,n,i)}else{if(s=i.data,null===s)continue;var l=t.diagram;null===l||l.skipsModelSourceBindings||r.uq(e,s,n,i)}o===e&&(s=i.Qs(r.Xi),null!==s&&r.Xv(s,o,n))}}function Jo(e,t,n,i,a){null!==e.animations&&-1!==e.animations.indexOf(n)&&(t=t.diagram,null===t||t.currentTool.isActive||(t=t.animationManager,!1===t.isEnabled||t.isAnimating||t.isTicking||(t.zx(n),t.ye(e,n,i,a))))}function Xo(e,t,n,i,a){var r=e.pc,o=e.Nf;o.reset(),as(e,o,t,n,i,a),e.Nf=o,r.h(t,n,i,a),o.ct()||o.Uv(r)}function Zo(e,t,n,i){return!1!==e.pickable&&(i.multiply(e.transform),n?e.Ic(t,i):e.uh(t,i))}function es(e,t,n,i,a){if(e.vb.h(t,n,i,a),!e.desiredSize.o()){var r=e.pc;n=e.Tg,t=n.right+n.left;var o=n.top+n.bottom;switch(n=r.width+t,r=r.height+o,i+=t,a+=o,t=os(e,!0),n===i&&r===a&&(t=Zr),t){case Zr:(n>i||r>a)&&(ms(e,!0),e.measure(n>i?i:n,r>a?a:r,0,0));break;case Xr:ms(e,!0),e.measure(i,a,0,0);break;case no:ms(e,!0),e.measure(i,r,0,0);break;case io:ms(e,!0),e.measure(n,a,0,0)}}}function ts(e,t,n){var i=e.vb,a=e.qc;null!==e.dc&&(ns(e,t,e.dc,!0,!0,a,i),e.dc instanceof Vs&&e.dc.type===Zs?(t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.Td(e.dc)):t.fillRect(i.x,i.y,i.width,i.height)),null!==e.ib&&(ns(e,t,e.ib,!0,!1,a,i),e.ib instanceof Vs&&e.ib.type===Zs?(t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.Td(e.ib)):t.fillRect(i.x,i.y,i.width,i.height)),e.Ci(t,n)}function ns(e,t,n,i,a,r,o){if(null!==n){var s=1,l=1;if("string"===typeof n)i?t.fillStyle=n:t.strokeStyle=n;else if(n.type===Js)i?t.fillStyle=n.color:t.strokeStyle=n.color;else{if(s=r.width,l=r.height,a&&(s=o.width,l=o.height),(r=t instanceof js)&&n.ce&&(n.type===el||n.Gk===s&&n.Lt===l))var u=n.ce;else{var c=0,d=0,h=0,f=0,p=0,m=0;if(m=p=0,a&&(p=o.x,m=o.y),c=n.start.x*s+n.start.offsetX,d=n.start.y*l+n.start.offsetY,h=n.end.x*s+n.end.offsetX,f=n.end.y*l+n.end.offsetY,c+=p,h+=p,d+=m,f+=m,n.type===Xs)u=t.createLinearGradient(c,d,h,f);else if(n.type===Zs)m=isNaN(n.endRadius)?Math.max(s,l)/2:n.endRadius,isNaN(n.startRadius)?(p=0,m=Math.max(s,l)/2):p=n.startRadius,u=t.createRadialGradient(c,d,p,h,f,m);else if(n.type===el)try{u=t.createPattern(n.pattern,"repeat")}catch(v){u=null}if(n.type!==el&&(a=n.colorStops,null!==a))for(a=a.iterator;a.next();)u.addColorStop(a.key,a.value);if(r&&(n.ce=u,null!==u&&(n.Gk=s,n.Lt=l),null===u&&n.type===el&&-1!==n.Gk)){n.Gk=-1;var g=e.diagram;null!==g&&-1===n.Gk&&A((function(){g.sf()}),600)}}i?t.fillStyle=u:t.strokeStyle=u}}}function is(e){if(0!==(2048&e.H)===!0){var t=e.tb;if(t.reset(),!e.vb.o()||!e.pc.o())return void hs(e,!1);if(t.translate(e.vb.x-e.pc.x,e.vb.y-e.pc.y),1!==e.scale||0!==e.angle){var n=e.naturalBounds;as(e,t,n.x,n.y,n.width,n.height)}hs(e,!1),fs(e,!0)}0!==(4096&e.H)===!0&&(t=e.panel,null===t?(e.Dh.set(e.tb),e.Sk=e.scale,fs(e,!1)):null!==t.rd&&(n=e.Dh,n.reset(),t.Zd()?n.multiply(t.Dh):null!==t.panel&&n.multiply(t.panel.Dh),n.multiply(e.tb),e.Sk=e.scale*t.Sk,fs(e,!1)))}function as(e,t,n,i,a,r){if(1!==e.scale&&t.scale(e.scale),0!==e.angle){var o=ft;e.sg()&&e.locationSpot.gb()&&(o=e.locationSpot);var s=ge.alloc();if(e instanceof lc&&e.locationObject!==e)for(n=e.locationObject,i=n.naturalBounds,s.qk(i.x,i.y,i.width,i.height,o),n.Nf.ta(s),s.offset(-n.measuredBounds.x,-n.measuredBounds.y),o=n.panel;null!==o&&o!==e;)o.Nf.ta(s),s.offset(-o.measuredBounds.x,-o.measuredBounds.y),o=o.panel;else s.qk(n,i,a,r,o);t.rotate(e.angle,s.x,s.y),ge.free(s)}}function rs(e){if(!1===gs(e)){var t=e.panel;null!==t?t.s():e.sg()&&(t=e.diagram,null!==t&&(t.Dd.add(e),e instanceof Mc&&e.ed(),t.cc())),vs(e,!0)}}function os(e,t){var n=e.stretch,i=e.panel;return null!==i&&i.type===Tl.Table?ss(e,i.getRowDefinition(e.row),i.getColumnDefinition(e.column),t):null!==i&&i.type===Tl.Auto&&i.zb()===e?ls(e,Xr,t):n===to?null!==i?i.type===Tl.Spot&&i.zb()===e?ls(e,Xr,t):(n=i.defaultStretch,ls(e,n===to?Zr:n,t)):ls(e,Zr,t):ls(e,n,t)}function ss(e,t,n,i){var a=e.stretch;if(a!==to)return ls(e,a,i);var r=a=null;switch(t.stretch){case io:r=!0;break;case Xr:r=!0}switch(n.stretch){case no:a=!0;break;case Xr:a=!0}return t=e.panel.defaultStretch,null===a&&(a=t===no||t===Xr),null===r&&(r=t===io||t===Xr),ls(e,!0===a&&!0===r?Xr:!0===a?no:!0===r?io:Zr,i)}function ls(e,t,n){if(n)return t;if(t===Zr)return Zr;if(n=e.desiredSize,n.o())return Zr;if(e=e.angle,!isNaN(n.width))if(90!==e&&270!==e){if(t===no)return Zr;if(t===Xr)return io}else{if(t===io)return Zr;if(t===Xr)return no}if(!isNaN(n.height))if(90!==e&&270!==e){if(t===io)return Zr;if(t===Xr)return no}else{if(t===no)return Zr;if(t===Xr)return io}return t}function us(e,t){e.H=t?512|e.H:-513&e.H}function cs(e){return 0!==(1024&e.H)}function ds(e,t){e.H=t?1024|e.H:-1025&e.H}function hs(e,t){e.H=t?2048|e.H:-2049&e.H}function fs(e,t){e.H=t?4096|e.H:-4097&e.H}function ps(e){return 0!==(8192&e.H)}function ms(e,t){e.H=t?8192|e.H:-8193&e.H}function gs(e){return 0!==(16384&e.H)}function vs(e,t){e.H=t?16384|e.H:-16385&e.H}function ys(e){var t=e.part;if(t instanceof Mc&&(null!==e.portId||e===t.port)){var n=t.diagram;null===n||n.undoManager.isUndoingRedoing||jc(t,e)}}function bs(e){var t=e.diagram;null===t||t.undoManager.isUndoingRedoing||(e instanceof Tl?e instanceof Mc?e.ed():e.ym(e,(function(e){ys(e)})):ys(e))}function As(e,t){for(var n=1;n<arguments.length;++n);n=arguments;var i=null,a=null;if("function"===typeof e)a=e;else if("string"===typeof e){var r=ks.J(e);"function"===typeof r?(n=D(arguments),i=r(n),N(i)||x('GraphObject.make invoked object builder "'+e+'", but it did not return an Object')):a=v.go[e]}if(null===i&&(void 0!==a&&null!==a&&a.constructor||x("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+e),i=new a),a=1,i instanceof Pa&&n.length>1){r=i;var o=n[1];("string"===typeof o||o instanceof HTMLDivElement)&&(jo(r,o),a++)}for(;a<n.length;a++)r=n[a],void 0===r?x("Undefined value at argument "+a+" for object being constructed by GraphObject.make: "+i):ws(i,r);return i}function ws(e,t){if("string"===typeof t)if(e instanceof gu)e.text=t;else if(e instanceof ou)e.figure=t;else if(e instanceof zu)e.source=t;else if(e instanceof Tl)t=eu.J(t),null!==t&&(e.type=t);else if(e instanceof Vs){var n=W(Vs,t);null!==n?e.type=n:x("Unknown Brush type as an argument to GraphObject.make: "+t)}else e instanceof Jt?(t=W(Jt,t),null!==t&&(e.type=t)):e instanceof fn&&(t=W(fn,t),null!==t&&(e.type=t));else if(t instanceof Yo)e instanceof Tl||x("A GraphObject can only be added to a Panel, not to: "+e),e.add(t);else if(t instanceof tu){var a;t.isRow&&"function"===typeof e.getRowDefinition?a=e.getRowDefinition(t.index):t.isRow||"function"!==typeof e.getColumnDefinition||(a=e.getColumnDefinition(t.index)),a instanceof tu?a.Vl(t):x("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+e)}else if(t instanceof Y)"function"===typeof e.fb&&e.fb(t);else if(t instanceof hl)e.type=t;else if(t instanceof vf)e instanceof Yo||e instanceof tu?e.bind(t):x("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+e);else if(t instanceof hn)e instanceof Jt?e.figures.add(t):x("A PathFigure can only be added to a Geometry, not to: "+e);else if(t instanceof fn)e instanceof hn?e.segments.add(t):x("A PathSegment can only be added to a PathFigure, not to: "+e);else if(t instanceof lh)e instanceof Pa||e instanceof Jc?e.layout=t:x("A Layout can only be assigned to a Diagram or a Group, not to: "+e);else if(Array.isArray(t))for(n=0;n<t.length;n++)ws(e,t[n]);else if("object"===i(t)&&null!==t)if(e instanceof Vs){for(var r in n=new J,t)a=parseFloat(r),isNaN(a)?n[r]=t[r]:e.addColorStop(a,t[r]);hr(e,n)}else if(e instanceof tu){for(n in void 0!==t.row?(r=t.row,(void 0===r||null===r||1/0===r||isNaN(r)||r<0)&&x("Must specify non-negative integer row for RowColumnDefinition "+t+", not: "+r),e.isRow=!0,e.index=r):void 0!==t.column&&(r=t.column,(void 0===r||null===r||1/0===r||isNaN(r)||r<0)&&x("Must specify non-negative integer column for RowColumnDefinition "+t+", not: "+r),e.isRow=!1,e.index=r),r=new J,t)"row"!==n&&"column"!==n&&(r[n]=t[n]);hr(e,r)}else hr(e,t);else x('Unknown initializer "'+t+'" for object being constructed by GraphObject.make: '+e)}function xs(e,t){ks.add(e,t)}function Cs(e,t,n){void 0===n&&(n=null);var i=e[1];if("function"===typeof n?n(i):"string"===typeof i)return e.splice(1,1),i;if(void 0===t)throw Error("no "+("function"===typeof n?"satisfactory":"string")+" argument for GraphObject builder "+e[0]);return t}Pa.className="Diagram",Pa.fromDiv=function(e){var t=e;return"string"===typeof e&&(t=v.document.getElementById(e)),t instanceof HTMLDivElement&&t.C instanceof Pa?t.C:null},Pa.inherit=function(e,t){function n(){}if(Object.getPrototypeOf(e).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+e);n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Pa.None=go,Pa.Uniform=vo,Pa.UniformToFill=yo,Pa.CycleAll=bo,Pa.CycleNotDirected=Ao,Pa.CycleNotDirectedFast=wo,Pa.CycleNotUndirected=xo,Pa.CycleDestinationTree=Co,Pa.CycleSourceTree=ko,Pa.DocumentScroll=So,Pa.InfiniteScroll=To,Pa.TreeParentCollapsed=No,Pa.AllParentsCollapsed=Io,Pa.AnyParentsCollapsed=Do,Eo.className="DiagramHelper",p.Object.defineProperties(Bo.prototype,{point:{get:function(){return this.l},set:function(e){this.l=e}},shifted:{get:function(){return this.u},set:function(e){this.u=e}}}),Bo.className="DraggingInfo",_o.className="DraggingNodeInfoPair",Vo.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new Be(NaN,NaN).freeze(),this.gridSnapCellSpot=ut,this.gridSnapOrigin=new ge(NaN,NaN).freeze(),this.kz=this.dragsTree=this.dragsLink=!1},f(Fo,Pa),Fo.className="Palette",f(Uo,Pa),Uo.prototype.computePixelRatio=function(){return 1},Uo.prototype.hc=function(){if(null===this.Ia&&x("No div specified"),null===this.Da&&x("No canvas specified"),!(this.Da instanceof Is)&&(uc(this.box),this.nc)){var e=this.Yf;if(null!==e&&!e.animationManager.isAnimating){mr(this);var t=e.grid;null===t||!t.visible||isNaN(t.width)||isNaN(t.height)||(t=Ue.alloc().assign(this.viewportBounds).Jc(e.viewportBounds),Ir(e,t),Ue.free(t),lr(e));var n=this.Da;t=this.Yc;var i=this.yu,a=this.ay;i.width=n.width,i.height=n.height,t.Rc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.width,n.height),i=this.tb,i.reset(),1!==this.scale&&i.scale(this.scale),0===this.position.x&&0===this.position.y||i.translate(-this.position.x,-this.position.y),t.scale(this.Nb,this.Nb),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),i=this.dr;var r=this.viewportBounds;e=e.Pa.j;for(var o=e.length,s=0;s<o;s++){var l=e[s],u=i;if(l.visible&&0!==l.lb&&(void 0===u&&(u=!0),u||!l.isTemporary)){1!==l.lb&&(t.globalAlpha=l.lb),u=this.scale,l=l.Fa.j;for(var c=l.length,d=0;d<c;d++){var h=l[d],f=h.actualBounds;f.Ic(r)&&(f.width*u>1||f.height*u>1?h.hc(t,this):Na(t,h))}t.globalAlpha=1}}for(a.drawImage(n.Ga,0,0),n=this.Pa.j,a=n.length,i=0;i<a;i++)n[i].hc(t,this);this.nc=this.bi=!1}}},Uo.prototype.computeBounds=function(){var e=this.Yf;if(null===e)return Xe;var t=e.documentBounds.copy();return t.Jc(e.viewportBounds),t},Uo.prototype.ox=function(){!0!==this.nc&&(this.nc=!0,qo(this))},Uo.prototype.iq=function(e,t,n,i){this.ob||(pr(this),this.R(),fr(this),this.Xa(),zo(this),this.we.scale=n,this.we.position.x=e.x,this.we.position.y=e.y,this.we.bounds.assign(e),this.we.qx=i,this.aa("ViewportBoundsChanged",this.we,e))},p.Object.defineProperties(Uo.prototype,{observed:{get:function(){return this.Yf},set:function(e){var t=this.Yf;e instanceof Uo&&x("Overview.observed Diagram may not be an Overview itself: "+e),t!==e&&(null!==t&&(this.remove(this.box),t.mm("ViewportBoundsChanged",this.Gm),t.mm("DocumentBoundsChanged",this.Em),t.mm("InvalidateDraw",this.Fm),t.mm("AnimationFinished",this.Dm)),this.Yf=e,null!==e&&(e.Nj("ViewportBoundsChanged",this.Gm),e.Nj("DocumentBoundsChanged",this.Em),e.Nj("InvalidateDraw",this.Fm),e.Nj("AnimationFinished",this.Dm),this.add(this.box),zo(this)),this.Xa(),this.g("observed",t,e))}},box:{get:function(){return this.l},set:function(e){var t=this.l;t!==e&&(this.l=e,this.remove(t),this.add(this.l),zo(this),this.g("box",t,e))}},drawsTemporaryLayers:{get:function(){return this.dr},set:function(e){this.dr!==e&&(this.dr=e,this.sf())}}}),Uo.className="Overview",f(Qo,zn),Qo.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(null===e||!e.allowMove||!e.allowSelect)return!1;var t=e.observed;if(null===t)return!1;var n=e.lastInput;return!(!n.left||e.currentTool!==this&&(!this.isBeyondDragSize()||n.isTouchEvent&&n.timestamp-e.firstInput.timestamp<this.delay))&&(null===this.findDraggablePart()&&(n=t.viewportBounds,this.l=new ge(n.width/2,n.height/2),e=e.firstInput.documentPoint,t.position=new ge(e.x-this.l.x,e.y-this.l.y)),!0)},Qo.prototype.doActivate=function(){this.l=null,zn.prototype.doActivate.call(this)},Qo.prototype.moveParts=function(){var e=this.diagram,t=e.observed;if(null!==t){var n=e.box;if(null!==n){if(null===this.l){var i=e.firstInput.documentPoint;n=n.location,this.l=new ge(i.x-n.x,i.y-n.y)}e=e.lastInput.documentPoint,t.position=new ge(e.x-this.l.x,e.y-this.l.y)}}},Qo.className="OverviewDraggingTool",$o.prototype.toString=function(){return"CommandHandler"},$o.prototype.hb=function(e){this.C=e},$o.prototype.doKeyDown=function(){var e=this.diagram,t=e.lastInput,n=Q?t.meta:t.control,i=t.shift,a=t.alt,r=t.key;!n||"C"!==r&&"Insert"!==r?n&&"X"===r||i&&"Del"===r?this.canCutSelection()&&this.cutSelection():n&&"V"===r||i&&"Insert"===r?this.canPasteSelection()&&this.pasteSelection():n&&"Y"===r||a&&i&&"Backspace"===r?this.canRedo()&&this.redo():n&&"Z"===r||a&&"Backspace"===r?this.canUndo()&&this.undo():"Del"===r||"Backspace"===r?this.canDeleteSelection()&&this.deleteSelection():n&&"A"===r?this.canSelectAll()&&this.selectAll():"Esc"===r?this.canStopCommand()&&this.stopCommand():"Up"===r?e.allowVerticalScroll&&(n?e.scroll("pixel","up"):e.scroll("line","up")):"Down"===r?e.allowVerticalScroll&&(n?e.scroll("pixel","down"):e.scroll("line","down")):"Left"===r?e.allowHorizontalScroll&&(n?e.scroll("pixel","left"):e.scroll("line","left")):"Right"===r?e.allowHorizontalScroll&&(n?e.scroll("pixel","right"):e.scroll("line","right")):"PageUp"===r?i&&e.allowHorizontalScroll?e.scroll("page","left"):e.allowVerticalScroll&&e.scroll("page","up"):"PageDown"===r?i&&e.allowHorizontalScroll?e.scroll("page","right"):e.allowVerticalScroll&&e.scroll("page","down"):"Home"===r?n&&e.allowVerticalScroll?e.scroll("document","up"):!n&&e.allowHorizontalScroll&&e.scroll("document","left"):"End"===r?n&&e.allowVerticalScroll?e.scroll("document","down"):!n&&e.allowHorizontalScroll&&e.scroll("document","right"):" "===r?this.canScrollToPart()&&this.scrollToPart():"Subtract"===r?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===r?this.canIncreaseZoom()&&this.increaseZoom():n&&"0"===r?this.canResetZoom()&&this.resetZoom():i&&"Z"===r?this.canZoomToFit()&&this.zoomToFit():n&&!i&&"G"===r?this.canGroupSelection()&&this.groupSelection():n&&i&&"G"===r?this.canUngroupSelection()&&this.ungroupSelection():t.event&&113===t.event.which?this.canEditTextBlock()&&this.editTextBlock():t.event&&93===t.event.which?this.canShowContextMenu()&&this.showContextMenu():t.bubbles=!0:this.canCopySelection()&&this.copySelection()},$o.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},$o.prototype.stopCommand=function(){var e=this.diagram,t=e.currentTool;t instanceof En&&e.allowSelect&&e.Ls(),null!==t&&t.doCancel()},$o.prototype.canStopCommand=function(){return!0},$o.prototype.selectAll=function(){var e=this.diagram;e.R();try{e.currentCursor="wait",e.aa("ChangingSelection",e.selection);for(var t=e.parts;t.next();)t.value.isSelected=!0;for(var n=e.nodes;n.next();)n.value.isSelected=!0;for(var i=e.links;i.next();)i.value.isSelected=!0}finally{e.aa("ChangedSelection",e.selection),e.currentCursor=""}},$o.prototype.canSelectAll=function(){return this.diagram.allowSelect},$o.prototype.deleteSelection=function(){var e=this.diagram;try{e.currentCursor="wait",e.Aa("Delete"),e.aa("ChangingSelection",e.selection),e.aa("SelectionDeleting",e.selection);for(var t=new re,n=e.selection.iterator;n.next();)Pc(t,n.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,(function(e){return e.canDelete()}));e.rt(t,!0),e.aa("SelectionDeleted",t)}finally{e.aa("ChangedSelection",e.selection),e.Za("Delete"),e.currentCursor=""}},$o.prototype.canDeleteSelection=function(){var e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||0===e.selection.count)},$o.prototype.copySelection=function(){var e=this.diagram,t=new re;for(e=e.selection.iterator;e.next();)Pc(t,e.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,(function(e){return e.canCopy()}));this.copyToClipboard(t)},$o.prototype.canCopySelection=function(){var e=this.diagram;return!(!e.allowCopy||!e.allowClipboard||0===e.selection.count)},$o.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},$o.prototype.canCutSelection=function(){var e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowCopy||!e.allowDelete||!e.allowClipboard||0===e.selection.count)},$o.prototype.copyToClipboard=function(e){var t=this.diagram,n=null;if(null===e)po=null,mo="";else{n=t.model;var i=!1,a=!1,r=null;try{n.fm()&&(i=n.Wj,n.Wj=this.copiesParentKey),n.ck()&&(a=n.Vj,n.Vj=this.copiesGroupKey),r=t.Xj(e,null,!0)}finally{n.fm()&&(n.Wj=i),n.ck()&&(n.Vj=a),n=new ie,n.addAll(r),po=n,mo=t.model.dataFormat}}t.aa("ClipboardChanged",n)},$o.prototype.pasteFromClipboard=function(){var e=new re,t=po;if(null===t)return e;var n=this.diagram;if(mo!==n.model.dataFormat)return e;var i=n.model,a=!1,r=!1,o=null;try{i.fm()&&(a=i.Wj,i.Wj=this.copiesParentKey),i.ck()&&(r=i.Vj,i.Vj=this.copiesGroupKey),o=n.Xj(t,n,!1)}finally{for(i.fm()&&(i.Wj=a),i.ck()&&(i.Vj=r),t=o.iterator;t.next();)n=t.value,i=t.key,n.location.o()||(i.location.o()?n.location=i.location:!n.position.o()&&i.position.o()&&(n.position=i.position)),e.add(n)}return e},$o.prototype.pasteSelection=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.currentCursor="wait",t.Aa("Paste"),t.aa("ChangingSelection",t.selection);var n=this.pasteFromClipboard();n.count>0&&Dr(t);for(var i=n.iterator;i.next();)i.value.isSelected=!0;if(t.aa("ChangedSelection",t.selection),null!==e){var a=t.computePartsBounds(t.selection);if(a.o()){var r=this.computeEffectiveCollection(t.selection,t.Lk);Ar(t,r,new ge(e.x-a.centerX,e.y-a.centerY),t.Lk,!1)}}t.aa("ClipboardPasted",n)}finally{t.Za("Paste"),t.currentCursor=""}},$o.prototype.canPasteSelection=function(){var e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowClipboard||null===po||0===po.count||mo!==e.model.dataFormat)},$o.prototype.undo=function(){this.diagram.undoManager.undo()},$o.prototype.canUndo=function(){var e=this.diagram;return!e.isReadOnly&&!e.isModelReadOnly&&(e.allowUndo&&e.undoManager.canUndo())},$o.prototype.redo=function(){this.diagram.undoManager.redo()},$o.prototype.canRedo=function(){var e=this.diagram;return!e.isReadOnly&&!e.isModelReadOnly&&(e.allowUndo&&e.undoManager.canRedo())},$o.prototype.decreaseZoom=function(e){void 0===e&&(e=1/this.zoomFactor);var t=this.diagram;t.autoScale===go&&(e=t.scale*e,e<t.minScale||e>t.maxScale||(t.scale=e))},$o.prototype.canDecreaseZoom=function(e){void 0===e&&(e=1/this.zoomFactor);var t=this.diagram;return t.autoScale===go&&(e=t.scale*e,!(e<t.minScale||e>t.maxScale)&&t.allowZoom)},$o.prototype.increaseZoom=function(e){void 0===e&&(e=this.zoomFactor);var t=this.diagram;t.autoScale===go&&(e=t.scale*e,e<t.minScale||e>t.maxScale||(t.scale=e))},$o.prototype.canIncreaseZoom=function(e){void 0===e&&(e=this.zoomFactor);var t=this.diagram;return t.autoScale===go&&(e=t.scale*e,!(e<t.minScale||e>t.maxScale)&&t.allowZoom)},$o.prototype.resetZoom=function(e){void 0===e&&(e=this.defaultScale);var t=this.diagram;e<t.minScale||e>t.maxScale||(t.scale=e)},$o.prototype.canResetZoom=function(e){void 0===e&&(e=this.defaultScale);var t=this.diagram;return!(e<t.minScale||e>t.maxScale)&&t.allowZoom},$o.prototype.zoomToFit=function(){var e=this.diagram,t=e.scale,n=e.position;t===this.Eu&&!isNaN(this.eu)&&e.documentBounds.A(this.Du)?(e.scale=this.eu,e.position=this.Aw,this.Eu=NaN,this.Du=Xe):(this.eu=t,this.Aw=n.copy(),e.zoomToFit(),this.Eu=e.scale,this.Du=e.documentBounds.copy())},$o.prototype.canZoomToFit=function(){return this.diagram.allowZoom},$o.prototype.scrollToPart=function(e){void 0===e&&(e=null);var t=this.diagram;if(null===e){try{null!==this.cg&&(this.cg.next()?e=this.cg.value:this.cg=null)}catch(l){this.cg=null}null===e&&(t.highlighteds.count>0?this.cg=t.highlighteds.iterator:t.selection.count>0&&(this.cg=t.selection.iterator),null!==this.cg&&this.cg.next()&&(e=this.cg.value))}if(null!==e){var n=t.animationManager;n.Ri("Scroll To Part");var i=this.scrollToPartPause;if(i>0){var a=Ho(this,e,[e]),r=function(){t.Aa();for(var e=a.pop();a.length>0&&e instanceof Mc&&e.isTreeExpanded&&(!(e instanceof Jc)||e.isSubGraphExpanded);)e=a.pop();a.length>0?(e instanceof lc&&t.Fv(e.actualBounds),e instanceof Mc&&!e.isTreeExpanded&&(e.isTreeExpanded=!0),e instanceof Jc&&!e.isSubGraphExpanded&&(e.isSubGraphExpanded=!0)):(e instanceof lc&&t.Ju(e.actualBounds),t.mm("LayoutCompleted",o)),t.Za("Scroll To Part")},o=function(){A(r,(n.isEnabled?n.duration:0)+i)};t.Nj("LayoutCompleted",o),r()}else{var s=t.position.copy();t.Ju(e.actualBounds),s.Qa(t.position)&&n.vd()}}},$o.prototype.canScrollToPart=function(e){return void 0===e&&(e=null),(null===e||e instanceof lc)&&(e=this.diagram,(0!==e.selection.count||0!==e.highlighteds.count)&&(e.allowHorizontalScroll&&e.allowVerticalScroll))},$o.prototype.collapseTree=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.Aa("Collapse Tree"),t.animationManager.Ri("Collapse Tree");var n=new ie;if(null!==e&&e.isTreeExpanded)e.collapseTree(),n.add(e);else if(null===e)for(var i=t.selection.iterator;i.next();){var a=i.value;a instanceof Mc&&a.isTreeExpanded&&(a.collapseTree(),n.add(a))}t.aa("TreeCollapsed",n)}finally{t.Za("Collapse Tree")}},$o.prototype.canCollapseTree=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly)return!1;if(null!==e){if(!(e instanceof Mc&&e.isTreeExpanded))return!1;if(e.Up().count>0)return!0}else for(e=t.selection.iterator;e.next();)if(t=e.value,t instanceof Mc&&t.isTreeExpanded&&t.Up().count>0)return!0;return!1},$o.prototype.expandTree=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.Aa("Expand Tree"),t.animationManager.Ri("Expand Tree");var n=new ie;if(null===e||e.isTreeExpanded){if(null===e)for(var i=t.selection.iterator;i.next();){var a=i.value;a instanceof Mc&&!a.isTreeExpanded&&(a.expandTree(),n.add(a))}}else e.expandTree(),n.add(e);t.aa("TreeExpanded",n)}finally{t.Za("Expand Tree")}},$o.prototype.canExpandTree=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly)return!1;if(null!==e){if(!(e instanceof Mc)||e.isTreeExpanded)return!1;if(e.Up().count>0)return!0}else for(e=t.selection.iterator;e.next();)if(t=e.value,t instanceof Mc&&!t.isTreeExpanded&&t.Up().count>0)return!0;return!1},$o.prototype.groupSelection=function(){var e=this.diagram,t=e.model;if(t.dk()){var n=this.archetypeGroupData;if(null!==n){var i=null;try{e.currentCursor="wait",e.Aa("Group"),e.aa("ChangingSelection",e.selection);for(var a=new ie,r=e.selection.iterator;r.next();){var o=r.value;o.Lb()&&o.canGroup()&&a.add(o)}for(var s=new ie,l=a.iterator;l.next();){var u=l.value;r=!1;for(var c=a.iterator;c.next();)if(u.Vd(c.value)){r=!0;break}r||s.add(u)}if(s.count>0){var d=s.first().containingGroup;if(null!==d)for(;null!==d;){a=!1;for(var h=s.iterator;h.next();)if(!h.value.Vd(d)){a=!0;break}if(!a)break;d=d.containingGroup}if(n instanceof Jc)Ql(n),i=n.copy(),null!==i&&e.add(i);else if(t.kv(n)){var f=t.copyNodeData(n);N(f)&&(t.hf(f),i=e.Ei(f))}if(null!==i){null!==d&&this.isValidMember(d,i)&&(i.containingGroup=d);for(var p=s.iterator;p.next();){var m=p.value;this.isValidMember(i,m)&&(m.containingGroup=i)}e.select(i)}}e.aa("ChangedSelection",e.selection),e.aa("SelectionGrouped",i)}finally{e.Za("Group"),e.currentCursor=""}}}},$o.prototype.canGroupSelection=function(){var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowGroup||!e.model.dk()||null===this.archetypeGroupData)return!1;for(e=e.selection.iterator;e.next();){var t=e.value;if(t.Lb()&&t.canGroup())return!0}return!1},$o.prototype.isValidMember=function(e,t){if(null===t||e===t||t instanceof id)return!1;if(null!==e){if(e===t||e.Vd(t))return!1;var n=e.memberValidation;if(null!==n&&!n(e,t)||null===e.data&&null!==t.data||null!==e.data&&null===t.data)return!1}return n=this.memberValidation,null===n||n(e,t)},$o.prototype.ungroupSelection=function(e){void 0===e&&(e=null);var t=this.diagram,n=t.model;if(n.dk())try{t.currentCursor="wait",t.Aa("Ungroup"),t.aa("ChangingSelection",t.selection);var i=new ie;if(null!==e)i.add(e);else for(var a=t.selection.iterator;a.next();){var r=a.value;r instanceof Jc&&r.canUngroup()&&i.add(r)}var o=new ie;if(i.count>0){t.Ls();for(var s=i.iterator;s.next();){var l=s.value;l.expandSubGraph();var u=l.containingGroup,c=null!==u&&null!==u.data?n.pa(u.data):void 0;o.addAll(l.memberParts);for(var d=o.iterator;d.next();){var h=d.value;if(h.isSelected=!0,!(h instanceof id)){var f=h.data;null!==f?n.ut(f,c):h.containingGroup=u}}t.remove(l)}}t.aa("ChangedSelection",t.selection),t.aa("SelectionUngrouped",i,o)}finally{t.Za("Ungroup"),t.currentCursor=""}},$o.prototype.canUngroupSelection=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||!t.allowUngroup||!t.model.dk())return!1;if(null!==e){if(!(e instanceof Jc))return!1;if(e.canUngroup())return!0}else for(e=t.selection.iterator;e.next();)if(t=e.value,t instanceof Jc&&t.canUngroup())return!0;return!1},$o.prototype.addTopLevelParts=function(e,t){var n=!0;for(e=Go(e).iterator;e.next();){var i=e.value;null!==i.containingGroup&&(!t||this.isValidMember(null,i)?i.containingGroup=null:n=!1)}return n},$o.prototype.collapseSubGraph=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.Aa("Collapse SubGraph"),t.animationManager.Ri("Collapse SubGraph");var n=new ie;if(null!==e&&e.isSubGraphExpanded)e.collapseSubGraph(),n.add(e);else if(null===e)for(var i=t.selection.iterator;i.next();){var a=i.value;a instanceof Jc&&a.isSubGraphExpanded&&(a.collapseSubGraph(),n.add(a))}t.aa("SubGraphCollapsed",n)}finally{t.Za("Collapse SubGraph")}},$o.prototype.canCollapseSubGraph=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly)return!1;if(null!==e)return!!(e instanceof Jc&&e.isSubGraphExpanded);for(e=t.selection.iterator;e.next();)if(t=e.value,t instanceof Jc&&t.isSubGraphExpanded)return!0;return!1},$o.prototype.expandSubGraph=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.Aa("Expand SubGraph"),t.animationManager.Ri("Expand SubGraph");var n=new ie;if(null===e||e.isSubGraphExpanded){if(null===e)for(var i=t.selection.iterator;i.next();){var a=i.value;a instanceof Jc&&!a.isSubGraphExpanded&&(a.expandSubGraph(),n.add(a))}}else e.expandSubGraph(),n.add(e);t.aa("SubGraphExpanded",n)}finally{t.Za("Expand SubGraph")}},$o.prototype.canExpandSubGraph=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly)return!1;if(null!==e)return e instanceof Jc&&!e.isSubGraphExpanded;for(e=t.selection.iterator;e.next();)if(t=e.value,t instanceof Jc&&!t.isSubGraphExpanded)return!0;return!1},$o.prototype.editTextBlock=function(e){void 0===e&&(e=null);var t=this.diagram,n=t.toolManager.findTool("TextEditing");if(null!==n){if(null===e){e=null;for(var i=t.selection.iterator;i.next();){var a=i.value;if(a.canEdit()){e=a;break}}if(null===e)return;e=e.Yl((function(e){return e instanceof gu&&e.editable}))}null!==e&&(t.currentTool=null,n.textBlock=e,t.currentTool=n)}},$o.prototype.canEditTextBlock=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowTextEdit||null===t.toolManager.findTool("TextEditing"))return!1;if(null!==e){if(!(e instanceof gu))return!1;if(e=e.part,null!==e&&e.canEdit())return!0}else for(t=t.selection.iterator;t.next();)if(e=t.value,e.canEdit()&&(e=e.Yl((function(e){return e instanceof gu&&e.editable})),null!==e))return!0;return!1},$o.prototype.showContextMenu=function(e){var t=this.diagram,n=t.toolManager.findTool("ContextMenu");if(null!==n&&(void 0===e&&(e=t.selection.count>0?t.selection.first():t),e=n.findObjectWithContextMenu(e),null!==e)){var i=t.lastInput,a=null;e instanceof Yo?a=e.ma(ft):t.isMouseOverDiagram||(a=t.viewportBounds,a=new ge(a.x+a.width/2,a.y+a.height/2)),null!==a&&(i.viewPoint=t.xt(a),i.documentPoint=a,i.left=!1,i.right=!0,i.up=!0),t.currentTool=n,qi(n,!1,e)}},$o.prototype.canShowContextMenu=function(e){var t=this.diagram,n=t.toolManager.findTool("ContextMenu");return null!==n&&(void 0===e&&(e=t.selection.count>0?t.selection.first():t),null!==n.findObjectWithContextMenu(e))},$o.prototype.computeEffectiveCollection=function(e,t){var n=this.diagram,i=n.toolManager.findTool("Dragging"),a=n.currentTool===i;if(void 0===t&&(t=a?i.dragOptions:n.Lk),i=new me,null===e)return i;for(var r=e.iterator;r.next();)br(n,i,r.value,a,t);if(null!==n.draggedLink&&t.dragsLink)return i;for(r=e.iterator;r.next();)e=r.value,e instanceof id&&(t=e.fromNode,null===t||i.contains(t)?(t=e.toNode,null===t||i.contains(t)||i.remove(e)):i.remove(e));return i},p.Object.defineProperties($o.prototype,{diagram:{get:function(){return this.C}},copiesClipboardData:{get:function(){return this.u},set:function(e){this.u=e}},copiesConnectedLinks:{get:function(){return this.K},set:function(e){this.K=e}},deletesConnectedLinks:{get:function(){return this.Vb},set:function(e){this.Vb=e}},copiesTree:{get:function(){return this.Ma},set:function(e){this.Ma=e}},deletesTree:{get:function(){return this.Wb},set:function(e){this.Wb=e}},copiesParentKey:{get:function(){return this.La},set:function(e){this.La=e}},copiesGroupKey:{get:function(){return this.ba},set:function(e){this.ba=e}},archetypeGroupData:{get:function(){return this.l},set:function(e){this.l=e}},memberValidation:{get:function(){return this.ji},set:function(e){this.ji=e}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(e){this.diagram.defaultScale=e}},zoomFactor:{get:function(){return this.Vc},set:function(e){e>1||x("zoomFactor must be larger than 1.0, not: "+e),this.Vc=e}},scrollToPartPause:{get:function(){return this.Kc},set:function(e){this.Kc=e}}}),$o.className="CommandHandler",Oa=function(){return new $o},Yo.prototype.cloneProtected=function(e){e.H=6144|this.H,e.lb=this.lb,e.Ua=this.Ua,e.ib=this.ib,e.dc=this.dc,e.Pm=this.Pm,e.sa.assign(this.sa),e.Nc=this.Nc.I(),e.Qf=this.Qf.I(),e.Pf=this.Pf.I(),e.Nf=this.Nf.copy(),e.Ca=this.Ca,e.zc=this.zc,e.ue=this.ue,e.Tg=this.Tg.I(),e.pc.assign(this.pc),e.vb.assign(this.vb),e.qc.assign(this.qc),e.Oo=this.Oo,null!==this.P&&(e.P=this.P.copy()),e.wb=this.wb.I(),e.wk=this.wk.I(),e.ap=this.ap,e.bp=this.bp,e.Cg=this.Cg,e.Zm=this.Zm,e.rp=this.rp,e.gp=this.gp,e.yl=this.yl,e.zl=this.zl.I(),e.Al=this.Al,e.jn=this.jn,null!==this.O&&(e.O=this.O.copy()),e.bb=this.bb,e.Dk=this.Dk,null!==this.Sh&&(e.Sh=D(this.Sh)),null!==this.kd&&(e.kd=this.kd.copy()),e.Cl=this.Cl},Yo.prototype.Qw=function(e){var t=this.Sh;if(I(t)){for(var n=0;n<t.length;n++)if(t[n]===e)return}else this.Sh=t=[];t.push(e)},Yo.prototype.mf=function(e){e.Po=null,e.Aj=null,e.s()},Yo.prototype.clone=function(){var e=new this.constructor;if(this.cloneProtected(e),null!==this.Sh)for(var t=0;t<this.Sh.length;t++){var n=this.Sh[t];e[n]=this[n]}return e},Yo.prototype.copy=function(){return this.clone()},n=Yo.prototype,n.fb=function(e){e.classType===id?0===e.name.indexOf("Orient")?this.segmentOrientation=e:x("Unknown Link enum value for GraphObject.segmentOrientation property: "+e):e.classType===Yo&&(this.stretch=e)},n.toString=function(){return E(this.constructor)+"#"+le(this)},n.Hc=function(){if(null===this.P){var e=new sh;e.Lg=lt,e.nh=lt,e.Jg=10,e.lh=10,e.Kg=0,e.mh=0,this.P=e}},n.ab=function(e,t,n,i,a,r,o){var s=this.part;if(null!==s&&(s.nk(e,t,n,i,a,r,o),n===this&&e===Tn&&(cs(this)&&Ko(this,s,t),Jo(this,s,t,i,a)),this instanceof Tl&&n===s&&0!==(16777216&s.H)&&null!==s.data))for(e=this.Y.j,n=e.length,i=0;i<n;i++)a=e[i],a instanceof Tl&&Ml(a,(function(e){null!==e.data&&0!==(16777216&e.H)&&e.Ea(t)}))},n.Qs=function(e){return this.Dk===e?this:null},n.g=function(e,t,n){this.ab(Tn,e,this,t,n)},n.jx=function(e,t,n){if(!1===this.pickable)return!1;var i=this.naturalBounds;return t=e.Be(t),n?we(e.x,e.y,0,0,0,i.height)<=t||we(e.x,e.y,0,i.height,i.width,i.height)<=t||we(e.x,e.y,i.width,i.height,i.width,0)<=t||we(e.x,e.y,i.width,0,0,0)<=t:e.cd(0,0)<=t&&e.cd(0,i.height)<=t&&e.cd(i.width,0)<=t&&e.cd(i.width,i.height)<=t},n.Zd=function(){return!0},n.ea=function(e){var t=ge.alloc();t.assign(e),this.transform.ta(t);var n=this.actualBounds;if(!n.o())return ge.free(t),!1;var i=this.diagram;if(null!==i&&i.Qe){var a=i.bm("extraTouchThreshold"),r=i.bm("extraTouchArea"),o=r/2,s=this.naturalBounds;i=this.Ce()*i.scale;var l=1/i;if(s.width*i<a&&s.height*i<a)return e=Ke(n.x-o*l,n.y-o*l,n.width+r*l,n.height+r*l,t.x,t.y),ge.free(t),e}return a=!1,(this instanceof Oc||this instanceof ou?Ke(n.x-5,n.y-5,n.width+10,n.height+10,t.x,t.y):n.ea(t))&&(a=!(this.kd&&!this.kd.ea(t))&&(!(null===this.dc||!n.ea(t))||(!(null===this.ib||!this.qc.ea(e))||this.vh(e)))),ge.free(t),a},n.vh=function(e){var t=this.naturalBounds;return Ke(0,0,t.width,t.height,e.x,e.y)},n.lf=function(e){if(0===this.angle)return this.actualBounds.lf(e);var t=this.naturalBounds;t=Ue.allocAt(0,0,t.width,t.height);var n=this.transform,i=!1,a=ge.allocAt(e.x,e.y);return t.ea(n.Ud(a))&&(a.h(e.x,e.bottom),t.ea(n.Ud(a))&&(a.h(e.right,e.bottom),t.ea(n.Ud(a))&&(a.h(e.right,e.y),t.ea(n.Ud(a))&&(i=!0)))),ge.free(a),Ue.free(t),i},n.uh=function(e,t){if(void 0===t)return e.lf(this.actualBounds);var n=this.naturalBounds,i=!1,a=ge.allocAt(0,0);return e.ea(t.ta(a))&&(a.h(0,n.height),e.ea(t.ta(a))&&(a.h(n.width,n.height),e.ea(t.ta(a))&&(a.h(n.width,0),e.ea(t.ta(a))&&(i=!0)))),ge.free(a),i},n.Ic=function(e,t){if(void 0===t&&(t=this.transform,0===this.angle))return e.Ic(this.actualBounds);var n=this.naturalBounds,i=ge.allocAt(0,0),a=ge.allocAt(0,n.height),r=ge.allocAt(n.width,n.height),o=ge.allocAt(n.width,0),s=!1;if(e.ea(t.ta(i))||e.ea(t.ta(a))||e.ea(t.ta(r))||e.ea(t.ta(o)))s=!0;else{n=Ue.allocAt(0,0,n.width,n.height);var l=ge.allocAt(e.x,e.y);n.ea(t.Ud(l))?s=!0:(l.h(e.x,e.bottom),n.ea(t.Ud(l))?s=!0:(l.h(e.right,e.bottom),n.ea(t.Ud(l))?s=!0:(l.h(e.right,e.y),n.ea(t.Ud(l))&&(s=!0)))),ge.free(l),Ue.free(n),!s&&(Kt.$s(e,i,a)||Kt.$s(e,a,r)||Kt.$s(e,r,o)||Kt.$s(e,o,i))&&(s=!0)}return ge.free(i),ge.free(a),ge.free(r),ge.free(o),s},n.ma=function(e,t){if(void 0===t&&(t=new ge),e instanceof $t){var n=this.naturalBounds;t.h(e.x*n.width+e.offsetX,e.y*n.height+e.offsetY)}else t.set(e);return this.rd.ta(t),t},n.Vp=function(e){void 0===e&&(e=new Ue);var t=this.naturalBounds,n=this.rd,i=ge.allocAt(0,0).transform(n);return e.h(i.x,i.y,0,0),i.h(t.width,0).transform(n),We(e,i.x,i.y,0,0),i.h(t.width,t.height).transform(n),We(e,i.x,i.y,0,0),i.h(0,t.height).transform(n),We(e,i.x,i.y,0,0),ge.free(i),e},n.Ji=function(){var e=this.rd;return 1===e.m11&&0===e.m12?e=0:(e=180*Math.atan2(e.m12,e.m11)/Math.PI,e<0&&(e+=360)),e},n.Ce=function(){if(0!==(4096&this.H)===!1)return this.Sk;var e=this.Ca;return null!==this.panel?e*this.panel.Ce():e},n.Ws=function(e,t){return void 0===t&&(t=new ge),t.assign(e),this.rd.Ud(t),t},n.Tc=function(e,t,n){return this.bk(e.x,e.y,t.x,t.y,n)},n.bk=function(e,t,n,i,a){var r=this.transform,o=1/(r.m11*r.m22-r.m12*r.m21),s=r.m22*o,l=-r.m12*o,u=-r.m21*o,c=r.m11*o,d=o*(r.m21*r.dy-r.m22*r.dx),h=o*(r.m12*r.dx-r.m11*r.dy);return null!==this.areaBackground?(r=this.actualBounds,Kt.Tc(r.left,r.top,r.right,r.bottom,e,t,n,i,a)):(o=e*s+t*u+d,e=e*l+t*c+h,t=n*s+i*u+d,n=n*l+i*c+h,a.h(0,0),i=this.naturalBounds,n=Kt.Tc(0,0,i.width,i.height,o,e,t,n,a),a.transform(r),n)},Yo.prototype.measure=function(e,t,n,i){if(!1!==ps(this)){var a=this.Tg,r=a.right+a.left;a=a.top+a.bottom,e=Math.max(e-r,0),t=Math.max(t-a,0),n=Math.max((n||0)-r,0),i=Math.max((i||0)-a,0),r=this.angle,a=this.desiredSize;var o=0;this instanceof ou&&(o=this.strokeWidth),90===r||270===r?(e=isFinite(a.height)?a.height+o:e,t=isFinite(a.width)?a.width+o:t):(e=isFinite(a.width)?a.width+o:e,t=isFinite(a.height)?a.height+o:t),a=n||0,o=i||0;var s=this instanceof Tl;switch(os(this,!0)){case Zr:o=a=0,s&&(t=e=1/0);break;case Xr:isFinite(e)&&e>n&&(a=e),isFinite(t)&&t>i&&(o=t);break;case no:isFinite(e)&&e>n&&(a=e),o=0,s&&(t=1/0);break;case io:isFinite(t)&&t>i&&(o=t),a=0,s&&(e=1/0)}s=this.maxSize;var l=this.minSize;a>s.width&&l.width<s.width&&(a=s.width),o>s.height&&l.height<s.height&&(o=s.height),n=Math.max(a/this.scale,l.width),i=Math.max(o/this.scale,l.height),s.width<n&&(n=Math.min(l.width,n)),s.height<i&&(i=Math.min(l.height,i)),e=Math.min(s.width,e),t=Math.min(s.height,t),e=Math.max(n,e),t=Math.max(i,t),90!==r&&270!==r||(r=e,e=t,t=r,r=n,n=i,i=r),this.pc.ha(),this.hm(e,t,n,i),this.pc.freeze(),this.pc.o()||x("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.pc.toString()),ms(this,!1)}},Yo.prototype.hm=function(){},Yo.prototype.sg=function(){return!1},Yo.prototype.arrange=function(e,t,n,i,a){this.fl();var r=Ue.alloc();r.assign(this.vb),this.vb.ha(),!1===gs(this)?this.vb.h(e,t,n,i):this.th(e,t,n,i),this.vb.freeze(),this.kd=void 0===a?null:a,n=!1,void 0!==a?n=!0:(a=this.panel,null===a||a.type!==Tl.TableRow&&a.type!==Tl.TableColumn||(a=a.panel),null!==a&&(a=a.qc,i=this.measuredBounds,null!==this.areaBackground&&(i=this.vb),n=t+i.height,i=e+i.width,n=!(e+.05>=0&&i<=a.width+.05&&t+.05>=0&&n<=a.height+.05),this instanceof gu&&(e=this.naturalBounds,this.Mr>e.height||this.metrics.maxLineWidth>e.width))&&(n=!0)),this.H=n?256|this.H:-257&this.H,this.vb.o()||x("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.vb.toString()),this.lt(r,this.vb),vs(this,!1),Ue.free(r)},n=Yo.prototype,n.th=function(){},n.lt=function(e,t){var n=this.part;null!==n&&null!==n.diagram&&(n.selectionObject!==this&&n.resizeObject!==this&&n.rotateObject!==this||Cc(n,!0),this.R(),$e(e,t)||(n.yh(),this.Do(n)))},n.Do=function(e){null!==this.portId&&(Cc(e,!0),e instanceof Mc&&jc(e,this))},n.hc=function(e,t){if(this.visible){var n=this instanceof Tl&&(this.type===Tl.TableRow||this.type===Tl.TableColumn),i=this.vb;if(n||0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)){var a=this.opacity;if(0!==a){var r=1;if(1!==a&&(r=e.globalAlpha,e.globalAlpha=r*a),!this.gx(e,t))if(n)ts(this,e,t);else{this instanceof id&&this.gk(!1),n=this.transform;var o=this.panel;0!==(4096&this.H)===!0&&is(this);var s=this.part,l=!1,u=0;if(s&&t.De("drawShadows")&&(l=s.isShadowed)){var c=s.si;u=Math.max(c.y,c.x)*t.scale*t.Nb}if(!(c=t.mj)){var d=this.naturalBounds;c=this.Dh;var h,f=c.m11,p=c.m21,m=c.dx,g=c.m12,v=c.m22,y=c.dy,b=h=0;c=h*f+b*p+m;var A=h*g+b*v+y;h=d.width+u,b=0;var w=h*f+b*p+m;h=h*g+b*v+y,c=Math.min(c,w),A=Math.min(A,h);var x=Math.max(c,w)-c,C=Math.max(A,h)-A;h=d.width+u,b=d.height+u,w=h*f+b*p+m,h=h*g+b*v+y,c=Math.min(c,w),A=Math.min(A,h),x=Math.max(c+x,w)-c,C=Math.max(A+C,h)-A,h=0,b=d.height+u,w=h*f+b*p+m,h=h*g+b*v+y,c=Math.min(c,w),A=Math.min(A,h),x=Math.max(c+x,w)-c,C=Math.max(A+C,h)-A,u=t.viewportBounds,d=u.x,f=u.y,c=!(c>u.$+d||d>x+c||A>u.Z+f||f>C+A)}if(c){if(c=0!==(256&this.H),e.clipInsteadOfFill&&(c=!1),this instanceof gu&&(e.font=this.font),c){if(A=o.Zd()?o.naturalBounds:o.actualBounds,null!==this.kd?(d=this.kd,x=d.x,C=d.y,u=d.width,d=d.height):(x=Math.max(i.x,A.x),C=Math.max(i.y,A.y),u=Math.min(i.right,A.right)-x,d=Math.min(i.bottom,A.bottom)-C),x>i.width+i.x||i.x>A.width+A.x)return void(1!==a&&(e.globalAlpha=r));e.save(),e.beginPath(),e.rect(x,C,u,d),e.clip()}if(this.sg()){if(!s.isVisible())return void(1!==a&&(e.globalAlpha=r));l&&(A=s.si,e.Nv(A.x*t.scale*t.Nb,A.y*t.scale*t.Nb,s.Od),Es(e),e.shadowColor=s.Ij)}!0===this.shadowVisible?Es(e):!1===this.shadowVisible&&Ms(e),s=this.naturalBounds,null!==this.dc&&(ns(this,e,this.dc,!0,!0,s,i),this.dc instanceof Vs&&this.dc.type===Zs?(e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.Td(this.dc)):e.fillRect(i.x,i.y,i.width,i.height)),e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),l&&(null!==o&&0!==(512&o.H)||null!==o&&(o.type===Tl.Auto||o.type===Tl.Spot)&&o.zb()!==this)&&null===this.shadowVisible&&Ms(e),null!==this.ib&&(u=this.naturalBounds,x=A=0,C=u.width,u=u.height,d=0,this instanceof ou&&(u=this.qa.bounds,A=u.x,x=u.y,C=u.width,u=u.height,d=this.strokeWidth),ns(this,e,this.ib,!0,!1,s,i),this.ib instanceof Vs&&this.ib.type===Zs?(e.beginPath(),e.rect(A-d/2,x-d/2,C+d,u+d),e.Td(this.ib)):e.fillRect(A-d/2,x-d/2,C+d,u+d)),l&&(null!==this.ib||null!==this.dc||null!==o&&0!==(512&o.H)||null!==o&&(o.type===Tl.Auto||o.type===Tl.Spot)&&o.zb()!==this)?(us(this,!0),null===this.shadowVisible&&Ms(e)):us(this,!1),this.Ci(e,t),l&&0!==(512&this.H)===!0&&Es(e),this.sg()&&l&&Ms(e),c?(e.restore(),this instanceof Tl?e.Rc(!0):e.Rc(!1)):n.ct()||(t=1/(n.m11*n.m22-n.m12*n.m21),e.transform(n.m22*t,-n.m12*t,-n.m21*t,n.m11*t,t*(n.m21*n.dy-n.m22*n.dx),t*(n.m12*n.dx-n.m11*n.dy)))}}1!==a&&(e.globalAlpha=r)}}}},n.gx=function(){return!1},n.Ci=function(){},n.qg=function(e){if(e instanceof Tl)e:{if(this!==e&&null!==e)for(var t=this.panel;null!==t;){if(t===e){e=!0;break e}t=t.panel}e=!1}else e=!1;return e},n.rf=function(){if(!this.visible)return!1;var e=this.panel;return null===e||e.rf()},n.rg=function(){for(var e=this instanceof Tl?this:this.panel;null!==e&&e.isEnabled;)e=e.panel;return null===e},n.s=function(e){if(void 0===e&&(e=!1),!0!==ps(this)){ms(this,!0),vs(this,!0);var t=this.panel;null===t||e||t.s()}},n.dm=function(){!0!==ps(this)&&(ms(this,!0),vs(this,!0))},n.fl=function(){0!==(2048&this.H)===!1&&(hs(this,!0),fs(this,!0))},n.iv=function(){fs(this,!0)},n.R=function(){var e=this.part;null!==e&&e.R()},n.Si=function(e){this.ag=e},n.Lv=function(){},n.Kv=function(e){return this.sa=e,rs(this),!0},n.wt=function(e,t){this.sa.h(e,t),this.fl()},n.bind=function(e){e.Qd=this;var t=this.Gi();null!==t&&zl(t)&&x("Cannot add a Binding to a template that has already been copied: "+e),null===this.bb&&(this.bb=new ie),this.bb.add(e)},n.Gi=function(){for(var e=this instanceof Tl?this:this.panel;null!==e;){if(null!==e.Qh)return e;e=e.panel}return null},n.Mv=function(e){hr(this,e)},p.Object.defineProperties(Yo.prototype,{shadowVisible:{get:function(){return this.Cl},set:function(e){var t=this.Cl;t!==e&&(this.Cl=e,this.R(),this.g("shadowVisible",t,e))}},enabledChanged:{get:function(){return null!==this.O?this.O.Bn:null},set:function(e){Wo(this);var t=this.O.Bn;t!==e&&(this.O.Bn=e,this.g("enabledChanged",t,e))}},segmentOrientation:{get:function(){return this.Al},set:function(e){var t=this.Al;t!==e&&(this.Al=e,this.s(),this.g("segmentOrientation",t,e),e===Id&&(this.angle=0))}},segmentIndex:{get:function(){return this.gp},set:function(e){e=Math.round(e);var t=this.gp;t!==e&&(this.gp=e,this.s(),this.g("segmentIndex",t,e))}},segmentFraction:{get:function(){return this.yl},set:function(e){isNaN(e)||e<0?e=0:e>1&&(e=1);var t=this.yl;t!==e&&(this.yl=e,this.s(),this.g("segmentFraction",t,e))}},segmentOffset:{get:function(){return this.zl},set:function(e){var t=this.zl;t.A(e)||(this.zl=e=e.I(),this.s(),this.g("segmentOffset",t,e))}},stretch:{get:function(){return this.ue},set:function(e){var t=this.ue;t!==e&&(this.ue=e,this.s(),this.g("stretch",t,e))}},name:{get:function(){return this.Ua},set:function(e){var t=this.Ua;t!==e&&(this.Ua=e,null!==this.part&&(this.part.vj=null),this.g("name",t,e))}},opacity:{get:function(){return this.lb},set:function(e){var t=this.lb;t!==e&&((e<0||e>1)&&k(e,"0 <= value <= 1",Yo,"opacity"),this.lb=e,this.g("opacity",t,e),e=this.diagram,t=this.part,null!==e&&null!==t&&e.R(fc(t,t.actualBounds)))}},visible:{get:function(){return 0!==(1&this.H)},set:function(e){var t=0!==(1&this.H);t!==e&&(this.H^=1,this.g("visible",t,e),t=this.panel,null!==t?t.s():this.sg()&&this.Mb(e),this.R(),bs(this))}},pickable:{get:function(){return 0!==(2&this.H)},set:function(e){var t=0!==(2&this.H);t!==e&&(this.H^=2,this.g("pickable",t,e))}},fromLinkableDuplicates:{get:function(){return 0!==(4&this.H)},set:function(e){var t=0!==(4&this.H);t!==e&&(this.H^=4,this.g("fromLinkableDuplicates",t,e))}},fromLinkableSelfNode:{get:function(){return 0!==(8&this.H)},set:function(e){var t=0!==(8&this.H);t!==e&&(this.H^=8,this.g("fromLinkableSelfNode",t,e))}},toLinkableDuplicates:{get:function(){return 0!==(16&this.H)},set:function(e){var t=0!==(16&this.H);t!==e&&(this.H^=16,this.g("toLinkableDuplicates",t,e))}},toLinkableSelfNode:{get:function(){return 0!==(32&this.H)},set:function(e){var t=0!==(32&this.H);t!==e&&(this.H^=32,this.g("toLinkableSelfNode",t,e))}},isPanelMain:{get:function(){return 0!==(64&this.H)},set:function(e){var t=0!==(64&this.H);t!==e&&(this.H^=64,this.s(),this.g("isPanelMain",t,e))}},isActionable:{get:function(){return 0!==(128&this.H)},set:function(e){var t=0!==(128&this.H);t!==e&&(this.H^=128,this.g("isActionable",t,e))}},areaBackground:{get:function(){return this.dc},set:function(e){var t=this.dc;t!==e&&(e instanceof Vs&&e.freeze(),this.dc=e,this.R(),this.g("areaBackground",t,e))}},background:{get:function(){return this.ib},set:function(e){var t=this.ib;t!==e&&(e instanceof Vs&&e.freeze(),this.ib=e,this.R(),this.g("background",t,e))}},part:{get:function(){if(this.sg())return this;if(null!==this.Aj)return this.Aj;var e;for(e=this.panel;e;){if(e instanceof lc)return this.Aj=e;e=e.panel}return null}},svg:{get:function(){return this.As},set:function(e){this.As=e}},panel:{get:function(){return this.ag}},layer:{get:function(){var e=this.part;return null!==e?e.layer:null}},diagram:{get:function(){var e=this.part;return null!==e?e.diagram:null}},position:{get:function(){return this.sa},set:function(e){var t=e.x,n=e.y,i=this.sa,a=i.x,r=i.y;(a===t||isNaN(a)&&isNaN(t))&&(r===n||isNaN(r)&&isNaN(n))?this.Lv():(e=e.I(),this.Kv(e,i)&&this.g("position",i,e))}},actualBounds:{get:function(){return this.vb}},scale:{get:function(){return this.Ca},set:function(e){var t=this.Ca;t!==e&&(e<=0&&x("GraphObject.scale for "+this+" must be greater than zero, not: "+e),this.Ca=e,this.s(),this.g("scale",t,e))}},angle:{get:function(){return this.zc},set:function(e){var t=this.zc;t!==e&&(e%=360,e<0&&(e+=360),t!==e&&(this.zc=e,bs(this),this.s(),this.g("angle",t,e)))}},desiredSize:{get:function(){return this.Nc},set:function(e){var t=e.width,n=e.height,i=this.Nc,a=i.width,r=i.height;(a===t||isNaN(a)&&isNaN(t))&&(r===n||isNaN(r)&&isNaN(n))||(this.Nc=e=e.I(),this.s(),this instanceof ou&&this.bc(),this.g("desiredSize",i,e),cs(this)&&(e=this.part,null!==e&&(Ko(this,e,"width"),Ko(this,e,"height"))))}},width:{get:function(){return this.Nc.width},set:function(e){var t=this.Nc.width;t===e||isNaN(t)&&isNaN(e)||(t=this.Nc,this.Nc=e=new Be(e,this.Nc.height).freeze(),this.s(),this instanceof ou&&this.bc(),this.g("desiredSize",t,e),cs(this)&&(e=this.part,null!==e&&Ko(this,e,"width")))}},height:{get:function(){return this.Nc.height},set:function(e){var t=this.Nc.height;t===e||isNaN(t)&&isNaN(e)||(t=this.Nc,this.Nc=e=new Be(this.Nc.width,e).freeze(),this.s(),this instanceof ou&&this.bc(),this.g("desiredSize",t,e),cs(this)&&(e=this.part,null!==e&&Ko(this,e,"height")))}},minSize:{get:function(){return this.Qf},set:function(e){var t=this.Qf;t.A(e)||(e=e.copy(),isNaN(e.width)&&(e.width=0),isNaN(e.height)&&(e.height=0),e.freeze(),this.Qf=e,this.s(),this.g("minSize",t,e))}},maxSize:{get:function(){return this.Pf},set:function(e){var t=this.Pf;t.A(e)||(e=e.copy(),isNaN(e.width)&&(e.width=1/0),isNaN(e.height)&&(e.height=1/0),e.freeze(),this.Pf=e,this.s(),this.g("maxSize",t,e))}},measuredBounds:{get:function(){return this.pc}},naturalBounds:{get:function(){return this.qc}},margin:{get:function(){return this.Tg},set:function(e){"number"===typeof e&&(e=new tt(e));var t=this.Tg;t.A(e)||(this.Tg=e=e.I(),this.s(),this.g("margin",t,e))}},transform:{get:function(){return 0!==(2048&this.H)===!0&&is(this),this.tb}},rd:{get:function(){return 0!==(4096&this.H)===!0&&is(this),this.Dh}},animations:{get:function(){return this.Pm},set:function(e){var t=this.Pm;t!==e&&(this.Pm=e,this.g("animations",t,e))}},alignment:{get:function(){return this.wb},set:function(e){var t=this.wb;t.A(e)||(e.jc()&&!e.Kb()&&x("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+e),this.wb=e=e.I(),rs(this),this.g("alignment",t,e))}},column:{get:function(){return this.Cg},set:function(e){e=Math.round(e);var t=this.Cg;t!==e&&(e<0&&k(e,">= 0",Yo,"column"),this.Cg=e,this.s(),this.g("column",t,e))}},columnSpan:{get:function(){return this.Zm},set:function(e){e=Math.round(e);var t=this.Zm;t!==e&&(e<1&&k(e,">= 1",Yo,"columnSpan"),this.Zm=e,this.s(),this.g("columnSpan",t,e))}},row:{get:function(){return this.ap},set:function(e){e=Math.round(e);var t=this.ap;t!==e&&(e<0&&k(e,">= 0",Yo,"row"),this.ap=e,this.s(),this.g("row",t,e))}},rowSpan:{get:function(){return this.bp},set:function(e){e=Math.round(e);var t=this.bp;t!==e&&(e<1&&k(e,">= 1",Yo,"rowSpan"),this.bp=e,this.s(),this.g("rowSpan",t,e))}},spanAllocation:{get:function(){return this.rp},set:function(e){var t=this.rp;t!==e&&(this.rp=e,this.s(),this.g("spanAllocation",t,e))}},alignmentFocus:{get:function(){return this.wk},set:function(e){var t=this.wk;t.A(e)||(this.wk=e=e.I(),this.s(),this.g("alignmentFocus",t,e))}},portId:{get:function(){return this.Oo},set:function(e){var t=this.Oo;if(t!==e){var n=this.part;null===n||n instanceof Mc||(x("Cannot set portID on a Link: "+e),n=null),null!==t&&null!==n&&zc(n,this),this.Oo=e,null!==e&&null!==n&&(n.xh=!0,qc(n,this)),this.g("portId",t,e)}}},toSpot:{get:function(){return null!==this.P?this.P.nh:lt},set:function(e){this.Hc();var t=this.P.nh;t.A(e)||(e=e.I(),this.P.nh=e,this.g("toSpot",t,e),ys(this))}},toEndSegmentLength:{get:function(){return null!==this.P?this.P.lh:10},set:function(e){this.Hc();var t=this.P.lh;t!==e&&(e<0&&k(e,">= 0",Yo,"toEndSegmentLength"),this.P.lh=e,this.g("toEndSegmentLength",t,e),ys(this))}},toShortLength:{get:function(){return null!==this.P?this.P.mh:0},set:function(e){this.Hc();var t=this.P.mh;t!==e&&(this.P.mh=e,this.g("toShortLength",t,e),ys(this))}},toLinkable:{get:function(){return null!==this.P?this.P.zp:null},set:function(e){this.Hc();var t=this.P.zp;t!==e&&(this.P.zp=e,this.g("toLinkable",t,e))}},toMaxLinks:{get:function(){return null!==this.P?this.P.Ap:1/0},set:function(e){this.Hc();var t=this.P.Ap;t!==e&&(e<0&&k(e,">= 0",Yo,"toMaxLinks"),this.P.Ap=e,this.g("toMaxLinks",t,e))}},fromSpot:{get:function(){return null!==this.P?this.P.Lg:lt},set:function(e){this.Hc();var t=this.P.Lg;t.A(e)||(e=e.I(),this.P.Lg=e,this.g("fromSpot",t,e),ys(this))}},fromEndSegmentLength:{get:function(){return null!==this.P?this.P.Jg:10},set:function(e){this.Hc();var t=this.P.Jg;t!==e&&(e<0&&k(e,">= 0",Yo,"fromEndSegmentLength"),this.P.Jg=e,this.g("fromEndSegmentLength",t,e),ys(this))}},fromShortLength:{get:function(){return null!==this.P?this.P.Kg:0},set:function(e){this.Hc();var t=this.P.Kg;t!==e&&(this.P.Kg=e,this.g("fromShortLength",t,e),ys(this))}},fromLinkable:{get:function(){return null!==this.P?this.P.Dn:null},set:function(e){this.Hc();var t=this.P.Dn;t!==e&&(this.P.Dn=e,this.g("fromLinkable",t,e))}},fromMaxLinks:{get:function(){return null!==this.P?this.P.En:1/0},set:function(e){this.Hc();var t=this.P.En;t!==e&&(e<0&&k(e,">= 0",Yo,"fromMaxLinks"),this.P.En=e,this.g("fromMaxLinks",t,e))}},cursor:{get:function(){return this.jn},set:function(e){var t=this.jn;t!==e&&(this.jn=e,this.g("cursor",t,e))}},click:{get:function(){return null!==this.O?this.O.Af:null},set:function(e){Wo(this);var t=this.O.Af;t!==e&&(this.O.Af=e,this.g("click",t,e))}},doubleClick:{get:function(){return null!==this.O?this.O.Ff:null},set:function(e){Wo(this);var t=this.O.Ff;t!==e&&(this.O.Ff=e,this.g("doubleClick",t,e))}},contextClick:{get:function(){return null!==this.O?this.O.Bf:null},set:function(e){Wo(this);var t=this.O.Bf;t!==e&&(this.O.Bf=e,this.g("contextClick",t,e))}},mouseEnter:{get:function(){return null!==this.O?this.O.Sf:null},set:function(e){Wo(this);var t=this.O.Sf;t!==e&&(this.O.Sf=e,this.g("mouseEnter",t,e))}},mouseLeave:{get:function(){return null!==this.O?this.O.Vf:null},set:function(e){Wo(this);var t=this.O.Vf;t!==e&&(this.O.Vf=e,this.g("mouseLeave",t,e))}},mouseOver:{get:function(){return null!==this.O?this.O.Wf:null},set:function(e){Wo(this);var t=this.O.Wf;t!==e&&(this.O.Wf=e,this.g("mouseOver",t,e))}},mouseHover:{get:function(){return null!==this.O?this.O.Uf:null},set:function(e){Wo(this);var t=this.O.Uf;t!==e&&(this.O.Uf=e,this.g("mouseHover",t,e))}},mouseHold:{get:function(){return null!==this.O?this.O.Tf:null},set:function(e){Wo(this);var t=this.O.Tf;t!==e&&(this.O.Tf=e,this.g("mouseHold",t,e))}},mouseDragEnter:{get:function(){return null!==this.O?this.O.to:null},set:function(e){Wo(this);var t=this.O.to;t!==e&&(this.O.to=e,this.g("mouseDragEnter",t,e))}},mouseDragLeave:{get:function(){return null!==this.O?this.O.uo:null},set:function(e){Wo(this);var t=this.O.uo;t!==e&&(this.O.uo=e,this.g("mouseDragLeave",t,e))}},mouseDrop:{get:function(){return null!==this.O?this.O.Rf:null},set:function(e){Wo(this);var t=this.O.Rf;t!==e&&(this.O.Rf=e,this.g("mouseDrop",t,e))}},actionDown:{get:function(){return null!==this.O?this.O.Im:null},set:function(e){Wo(this);var t=this.O.Im;t!==e&&(this.O.Im=e,this.g("actionDown",t,e))}},actionMove:{get:function(){return null!==this.O?this.O.Jm:null},set:function(e){Wo(this);var t=this.O.Jm;t!==e&&(this.O.Jm=e,this.g("actionMove",t,e))}},actionUp:{get:function(){return null!==this.O?this.O.Km:null},set:function(e){Wo(this);var t=this.O.Km;t!==e&&(this.O.Km=e,this.g("actionUp",t,e))}},actionCancel:{get:function(){return null!==this.O?this.O.Hm:null},set:function(e){Wo(this);var t=this.O.Hm;t!==e&&(this.O.Hm=e,this.g("actionCancel",t,e))}},toolTip:{get:function(){return null!==this.O?this.O.gg:null},set:function(e){Wo(this);var t=this.O.gg;t!==e&&(this.O.gg=e,this.g("toolTip",t,e))}},contextMenu:{get:function(){return null!==this.O?this.O.Cf:null},set:function(e){Wo(this);var t=this.O.Cf;t!==e&&(this.O.Cf=e,this.g("contextMenu",t,e))}}}),Yo.prototype.setProperties=Yo.prototype.Mv,Yo.prototype.findTemplateBinder=Yo.prototype.Gi,Yo.prototype.bind=Yo.prototype.bind,Yo.prototype.isEnabledObject=Yo.prototype.rg,Yo.prototype.isVisibleObject=Yo.prototype.rf,Yo.prototype.isContainedBy=Yo.prototype.qg,Yo.prototype.getNearestIntersectionPoint=Yo.prototype.Tc,Yo.prototype.getLocalPoint=Yo.prototype.Ws,Yo.prototype.getDocumentScale=Yo.prototype.Ce,Yo.prototype.getDocumentAngle=Yo.prototype.Ji,Yo.prototype.getDocumentBounds=Yo.prototype.Vp,Yo.prototype.getDocumentPoint=Yo.prototype.ma,Yo.prototype.intersectsRect=Yo.prototype.Ic,Yo.prototype.containedInRect=Yo.prototype.uh,Yo.prototype.containsRect=Yo.prototype.lf,Yo.prototype.containsPoint=Yo.prototype.ea,Yo.prototype.raiseChanged=Yo.prototype.g,Yo.prototype.raiseChangedEvent=Yo.prototype.ab,Yo.prototype.addCopyProperty=Yo.prototype.Qw;var ks=null;function Ss(){this.Bn=this.Cf=this.gg=this.Hm=this.Km=this.Jm=this.Im=this.Rf=this.uo=this.to=this.Tf=this.Uf=this.Wf=this.Vf=this.Sf=this.Bf=this.Ff=this.Af=null}function Ts(){this.Oa=[1,0,0,1,0,0]}function Ns(e){this.type=e,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.Yw=[],this.pattern=null}function Is(e,t){this.ownerDocument=e=void 0===t?v.document:t,this.Fz="http://www.w3.org/2000/svg",void 0!==e&&(this.Ga=this.ub("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.Ga.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Ga.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.Qp=null,this.context=new Ds(this)}function Ds(e){this.rk=e,this.svg=e.Ga,this.stack=[],this.wc=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.Od=this.np=this.mp=0,this.aq=null,this.path=[],this.cu=!1,this.gh=null,this.hh=0,this.Sd=new Ts,Os(this,1,0,0,1,0,0);var t=ue++,n=this.ub("clipPath",{id:"mainClip"+t});n.appendChild(this.ub("rect",{x:0,y:0,width:e.width,height:e.height})),this.gu=n,this.rk.Ga.appendChild(n),this.wc[0].setAttributeNS(null,"clip-path","url(#mainClip"+t+")"),this.Hz={}}function Ps(e,t,n,i,a){1!==e.globalAlpha&&(n.opacity=e.globalAlpha),"fill"===t?(e.fillStyle instanceof Ns?n.fill=Ls(e,e.fillStyle):(/^rgba\(/.test(e.fillStyle)&&(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(e.fillStyle),n.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",n["fill-opacity"]=t[4]),n.fill=e.fillStyle),n.stroke="none"):"stroke"===t&&(n.fill="none",e.strokeStyle instanceof Ns?n.stroke=Ls(e,e.strokeStyle):(/^rgba\(/.test(e.strokeStyle)&&(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(e.strokeStyle),n.stroke="rgb("+t[1]+","+t[2]+","+t[3]+")",n["stroke-opacity"]=t[4]),n.stroke=e.strokeStyle),n["stroke-width"]=e.lineWidth,n["stroke-linecap"]=e.lineCap,n["stroke-linejoin"]=e.lineJoin,n["stroke-miterlimit"]=e.miterLimit),e=i.Oa,e="matrix("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")",void 0!==a&&(e+=a),n.transform=e}function Ls(e,t){var n="GRAD"+ue++;if("linear"===t.type)var i=e.ub("linearGradient",{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,id:n,gradientUnits:"userSpaceOnUse"});else{if("radial"!==t.type)throw Error("invalid gradient");i=e.ub("radialGradient",{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,r1:t.r1,r2:t.r2,id:n})}var a=t.Yw;t=a.length;for(var r=[],o=0;o<t;o++){var s=a[o],l=s.color;s={offset:s.offset,"stop-color":l},/^rgba\(/.test(l)&&(l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(l),s["stop-color"]="rgb("+l[1]+","+l[2]+","+l[3]+")",s["stop-opacity"]=l[4]),r.push(s)}for(r.sort((function(e,t){return e.offset>t.offset?1:-1})),a=0;a<t;a++)i.appendChild(e.ub("stop",r[a]));return e.svg.appendChild(i),"url(#"+n+")"}function Os(e,t,n,i,a,r,o){var s=new Ts;s.Oa=[t,n,i,a,r,o],t={},Ps(e,"g",t,s),s=e.addElement("g",t),e.wc.push(s)}function Ms(e){e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0}function Es(e){e.shadowOffsetX=e.mp,e.shadowOffsetY=e.np,e.shadowBlur=e.Od}function Rs(e,t){this.ownerDocument=t=void 0===t?v.document:t,this.Qp=null,t=t.createElement("canvas"),t.tabIndex=0,this.Ga=t,this.Ga.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new js(t),t.C=e}function js(e){e.getContext&&e.getContext("2d")||x("Browser does not support HTML Canvas Element"),this.W=e.getContext("2d"),this.It=this.Kt=this.Jt="",this.Ym=!1,this.Od=this.np=this.mp=0}Yo.className="GraphObject",ks=new me,xs("Button",(function(){function e(e,t){return null!==e.diagram.Sb(e.documentPoint,(function(e){for(;null!==e.panel&&!e.isActionable;)e=e.panel;return e}),(function(e){return e===t}))}var t=As(Tl,Tl.Auto,{isActionable:!0,enabledChanged:function(e,t){if(e instanceof Tl){var n=e.$a("ButtonBorder");null!==n&&(n.fill=t?e._buttonFillNormal:e._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},As(ou,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new $t(0,0,2.76142374915397,2.761423749153969),spot2:new $t(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return t.mouseEnter=function(e,t){if(t.rg()&&t instanceof Tl&&(e=t.$a("ButtonBorder"),e instanceof ou)){var n=t._buttonFillOver;t._buttonFillNormal=e.fill,e.fill=n,n=t._buttonStrokeOver,t._buttonStrokeNormal=e.stroke,e.stroke=n}},t.mouseLeave=function(e,t){t.rg()&&t instanceof Tl&&(e=t.$a("ButtonBorder"),e instanceof ou&&(e.fill=t._buttonFillNormal,e.stroke=t._buttonStrokeNormal))},t.actionDown=function(e,t){if(t.rg()&&t instanceof Tl&&null!==t._buttonFillPressed&&0===e.button){var n=t.$a("ButtonBorder");if(n instanceof ou){e=e.diagram;var i=e.skipsUndoManager;e.skipsUndoManager=!0;var a=t._buttonFillPressed;t._buttonFillOver=n.fill,n.fill=a,a=t._buttonStrokePressed,t._buttonStrokeOver=n.stroke,n.stroke=a,e.skipsUndoManager=i}}},t.actionUp=function(t,n){if(n.rg()&&n instanceof Tl&&null!==n._buttonFillPressed&&0===t.button){var i=n.$a("ButtonBorder");if(i instanceof ou){var a=t.diagram,r=a.skipsUndoManager;a.skipsUndoManager=!0,e(t,n)?(i.fill=n._buttonFillOver,i.stroke=n._buttonStrokeOver):(i.fill=n._buttonFillNormal,i.stroke=n._buttonStrokeNormal),a.skipsUndoManager=r}}},t.actionCancel=function(t,n){if(n.rg()&&n instanceof Tl&&null!==n._buttonFillPressed){var i=n.$a("ButtonBorder");if(i instanceof ou){var a=t.diagram,r=a.skipsUndoManager;a.skipsUndoManager=!0,e(t,n)?(i.fill=n._buttonFillOver,i.stroke=n._buttonStrokeOver):(i.fill=n._buttonFillNormal,i.stroke=n._buttonStrokeNormal),a.skipsUndoManager=r}}},t.actionMove=function(t,n){if(n.rg()&&n instanceof Tl&&null!==n._buttonFillPressed){var i=t.diagram;if(0===i.firstInput.button&&(i.currentTool.standardMouseOver(),e(t,n)&&(t=n.$a("ButtonBorder"),t instanceof ou))){var a=i.skipsUndoManager;i.skipsUndoManager=!0;var r=n._buttonFillPressed;t.fill!==r&&(t.fill=r),r=n._buttonStrokePressed,t.stroke!==r&&(t.stroke=r),i.skipsUndoManager=a}}},t})),xs("TreeExpanderButton",(function(){var e=As("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},As(ou,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Ne},new vf("figure","isTreeExpanded",(function(e,t){return t=t.panel,e?t._treeExpandedFigure:t._treeCollapsedFigure})).hq()),{visible:!1},new vf("visible","isTreeLeaf",(function(e){return!e})).hq());return e.click=function(e,t){if(t=t.part,t instanceof Oc&&(t=t.adornedPart),t instanceof Mc){var n=t.diagram;if(null!==n){if(n=n.commandHandler,t.isTreeExpanded){if(!n.canCollapseTree(t))return}else if(!n.canExpandTree(t))return;e.handled=!0,t.isTreeExpanded?n.collapseTree(t):n.expandTree(t)}}},e})),xs("SubGraphExpanderButton",(function(){var e=As("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},As(ou,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Ne},new vf("figure","isSubGraphExpanded",(function(e,t){return t=t.panel,e?t._subGraphExpandedFigure:t._subGraphCollapsedFigure})).hq()));return e.click=function(e,t){if(t=t.part,t instanceof Oc&&(t=t.adornedPart),t instanceof Jc){var n=t.diagram;if(null!==n){if(n=n.commandHandler,t.isSubGraphExpanded){if(!n.canCollapseSubGraph(t))return}else if(!n.canExpandSubGraph(t))return;e.handled=!0,t.isSubGraphExpanded?n.collapseSubGraph(t):n.expandSubGraph(t)}}},e})),xs("ToolTip",(function(){return As(Oc,Tl.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new ge(0,3),shadowBlur:5},As(ou,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new $t(0,0,4,6),spot2:new $t(1,1,-4,-4)}))})),xs("ContextMenu",(function(){return As(Oc,Tl.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new ge(0,3),shadowBlur:5},new vf("background","",(function(e){return null!==e.adornedPart&&null!==e.placeholder?null:"#F5F5F5"})))})),xs("ContextMenuButton",(function(){var e=As("Button");e.stretch=no;var t=e.$a("ButtonBorder");return t instanceof ou&&(t.figure="Rectangle",t.strokeWidth=0,t.spot1=new $t(0,0,2,3),t.spot2=new $t(1,1,-2,-2)),e})),xs("PanelExpanderButton",(function(e){var t=Cs(e,"COLLAPSIBLE"),n=As("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},As(ou,{name:"ButtonIcon",strokeWidth:2},new vf("geometryString","visible",(function(e){return e?n._buttonExpandedFigure:n._buttonCollapsedFigure})).hq(t)));return e=n.$a("ButtonBorder"),e instanceof ou&&(e.stroke=null,e.fill="rgba(0, 0, 0, 0)"),n.click=function(e,n){if(e=n.diagram,null!==e&&!e.isReadOnly){var i=n.Gi();null===i&&(i=n.part),null!==i&&(n=i.$a(t),null!==n&&(e.Aa("Collapse/Expand Panel"),n.visible=!n.visible,e.Za("Collapse/Expand Panel")))}},n})),xs("CheckBoxButton",(function(e){var t=Cs(e);return e=As("Button",{desiredSize:new Be(14,14)},As(ou,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:Xr,geometryStretch:eo,visible:!1},""!==t?new vf("visible",t).tx():[])),e.click=function(e,n){if(n instanceof Tl){var i=e.diagram;if(!(null===i||i.isReadOnly||""!==t&&i.model.isReadOnly)){e.handled=!0;var a=n.$a("ButtonIcon");i.Aa("checkbox"),a.visible=!a.visible,"function"===typeof n._doClick&&n._doClick(e,n),i.Za("checkbox")}}},e})),xs("CheckBox",(function(e){e=Cs(e),e=As("CheckBoxButton",e,{name:"Button",isActionable:!1,margin:new tt(0,1,0,0)});var t=As(Tl,"Horizontal",e,{isActionable:!0,cursor:e.cursor,margin:1,_buttonFillNormal:e._buttonFillNormal,_buttonStrokeNormal:e._buttonStrokeNormal,_buttonFillOver:e._buttonFillOver,_buttonStrokeOver:e._buttonStrokeOver,_buttonFillPressed:e._buttonFillPressed,_buttonStrokePressed:e._buttonStrokePressed,_buttonFillDisabled:e._buttonFillDisabled,mouseEnter:e.mouseEnter,mouseLeave:e.mouseLeave,actionDown:e.actionDown,actionUp:e.actionUp,actionCancel:e.actionCancel,actionMove:e.actionMove,click:e.click,_buttonClick:e.click});return e.mouseEnter=null,e.mouseLeave=null,e.actionDown=null,e.actionUp=null,e.actionCancel=null,e.actionMove=null,e.click=null,t})),Yo.None=Zr=new Y(Yo,"None",0),Yo.Default=to=new Y(Yo,"Default",0),Yo.Vertical=io=new Y(Yo,"Vertical",4),Yo.Horizontal=no=new Y(Yo,"Horizontal",5),Yo.Fill=Xr=new Y(Yo,"Fill",3),Yo.Uniform=eo=new Y(Yo,"Uniform",1),Yo.UniformToFill=ao=new Y(Yo,"UniformToFill",2),Yo.FlipVertical=ro=new Y(Yo,"FlipVertical",1),Yo.FlipHorizontal=oo=new Y(Yo,"FlipHorizontal",2),Yo.FlipBoth=so=new Y(Yo,"FlipBoth",3),Yo.make=As,Yo.getBuilders=function(){var e,t=new me;for(e in ks)if(e!==e.toLowerCase()){var n=ks.J(e);"function"===typeof n&&t.add(e,n)}return t.freeze(),t},Yo.defineBuilder=xs,Yo.takeBuilderArgument=Cs,Ss.prototype.copy=function(){var e=new Ss;return e.Af=this.Af,e.Ff=this.Ff,e.Bf=this.Bf,e.Sf=this.Sf,e.Vf=this.Vf,e.Wf=this.Wf,e.Uf=this.Uf,e.Tf=this.Tf,e.to=this.to,e.uo=this.uo,e.Rf=this.Rf,e.Im=this.Im,e.Jm=this.Jm,e.Km=this.Km,e.Hm=this.Hm,e.gg=this.gg,e.Cf=this.Cf,e.Bn=this.Bn,e},Ss.className="GraphObjectEventHandlers",Ts.prototype.copy=function(){var e=new Ts;return e.Oa[0]=this.Oa[0],e.Oa[1]=this.Oa[1],e.Oa[2]=this.Oa[2],e.Oa[3]=this.Oa[3],e.Oa[4]=this.Oa[4],e.Oa[5]=this.Oa[5],e},Ts.prototype.translate=function(e,t){this.Oa[4]+=this.Oa[0]*e+this.Oa[2]*t,this.Oa[5]+=this.Oa[1]*e+this.Oa[3]*t},Ts.prototype.scale=function(e,t){this.Oa[0]*=e,this.Oa[1]*=e,this.Oa[2]*=t,this.Oa[3]*=t},Ts.className="STransform",Ns.prototype.addColorStop=function(e,t){this.Yw.push({offset:e,color:t})},Ns.className="SGradient",Is.prototype.resize=function(e,t,n,i){return(this.width!==e||this.height!==t)&&(this.style.width=n+"px",this.style.height=i+"px",this.Ga.setAttributeNS(null,"width",n+"px"),this.Ga.setAttributeNS(null,"height",i+"px"),this.Ga.setAttributeNS(null,"viewBox","0 0 "+n+" "+i),this.context.gu.firstElementChild.setAttributeNS(null,"width",n+"px"),this.context.gu.firstElementChild.setAttributeNS(null,"height",i+"px"),!0)},Is.prototype.ub=function(e,t,n){if(e=this.ownerDocument.createElementNS(this.Fz,e),N(t))for(var i in t)e.setAttributeNS("href"===i?"http://www.w3.org/1999/xlink":"",i,t[i]);return void 0!==n&&(e.textContent=n),e},Is.prototype.getBoundingClientRect=function(){return this.Ga.getBoundingClientRect()},Is.prototype.focus=function(){this.Ga.focus()},Is.prototype.ex=function(){this.ownerDocument=null},p.Object.defineProperties(Is.prototype,{width:{get:function(){return this.Ga.width.baseVal.value},set:function(e){this.Ga.width=e}},height:{get:function(){return this.Ga.height.baseVal.value},set:function(e){this.Ga.height=e}},style:{get:function(){return this.Ga.style}}}),Is.className="SVGSurface",n=Ds.prototype,n.reset=function(){this.stack=[],this.wc=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.Od=this.np=this.mp=0,this.aq=null,this.path=[],this.Sd=new Ts,Os(this,1,0,0,1,0,0);var e=ue++,t=this.ub("clipPath",{id:"mainClip"+e});t.appendChild(this.ub("rect",{x:0,y:0,width:this.rk.width,height:this.rk.height})),this.gu=t,this.rk.Ga.appendChild(t),this.wc[0].setAttributeNS(null,"clip-path","url(#mainClip"+e+")")},n.arc=function(e,t,n,i,a,r,o,s){var l=2*Math.PI,u=l-1e-6,c=n*Math.cos(i),d=n*Math.sin(i),h=e+c,f=t+d,p=r?0:1;i=r?i-a:a-i,(Math.abs(o-h)>1e-6||Math.abs(s-f)>1e-6)&&this.path.push(["L",h,+f]),i<0&&(i=i%l+l),i>u?(this.path.push(["A",n,n,0,1,p,e-c,t-d]),this.path.push(["A",n,n,0,1,p,h,f])):i>1e-6&&this.path.push(["A",n,n,0,+(i>=Math.PI),p,e+n*Math.cos(a),t+n*Math.sin(a)])},n.beginPath=function(){this.path=[]},n.bezierCurveTo=function(e,t,n,i,a,r){this.path.push(["C",e,t,n,i,a,r])},n.clearRect=function(){},n.clip=function(){this.addPath("clipPath",this.path,this.Sd),this.addPath("clipPath",this.path,new Ts)},n.closePath=function(){this.path.push(["z"])},n.createLinearGradient=function(e,t,n,i){var a=new Ns("linear");return a.x1=e,a.y1=t,a.x2=n,a.y2=i,a},n.createPattern=function(e){var t="";e instanceof HTMLCanvasElement&&(t=e.toDataURL()),e instanceof HTMLImageElement&&(t=e.src);var n=this.Hz;if(n[t])return"url(#"+n[t]+")";var i="PATTERN"+ue++,a={x:0,y:0,width:e.width,height:e.height,href:t};return e=this.ub("pattern",{width:e.width,height:e.height,id:i,patternUnits:"userSpaceOnUse"}),e.appendChild(this.ub("image",a)),this.svg.appendChild(e),n[t]=i,"url(#"+i+")"},n.createRadialGradient=function(e,t,n,i,a,r){var o=new Ns("radial");return o.x1=e,o.y1=t,o.r1=n,o.x2=i,o.y2=a,o.r2=r,o},n.drawImage=function(e,t,n,i,a,r,o,s,l){var u="";e instanceof HTMLCanvasElement&&(u=e.toDataURL()),e instanceof HTMLImageElement&&(u=e.src);var c=e instanceof HTMLImageElement?e.naturalWidth:e.width,d=e instanceof HTMLImageElement?e.naturalHeight:e.height;void 0===i&&(r=t,o=n,s=i=c,l=a=d),i=i||0,a=a||0,r=r||0,o=o||0,s=s||0,l=l||0,u={x:0,y:0,width:c||i,height:d||a,href:u,preserveAspectRatio:"xMidYMid slice"},Kt.ca(i,s)&&Kt.ca(a,l)||(u.preserveAspectRatio="none"),e="",s/=i,l/=a,0===r&&0===o||(e+=" translate("+r+", "+o+")"),1===s&&1===l||(e+=" scale("+s+", "+l+")"),0===t&&0===n||(e+=" translate("+-t+", "+-n+")"),0===t&&0===n&&i===c&&a===d||(r="CLIP"+ue++,o=this.ub("clipPath",{id:r}),o.appendChild(this.ub("rect",{x:t,y:n,width:i,height:a})),this.svg.appendChild(o),u["clip-path"]="url(#"+r+")"),Ps(this,"image",u,this.Sd,e),this.addElement("image",u)},n.fill=function(){this.addPath("fill",this.path,this.Sd)},n.Td=function(){this.clipInsteadOfFill?this.clip():this.fill()},n.fillRect=function(e,t,n,i){e=[e,t,n,i],e={x:e[0],y:e[1],width:e[2],height:e[3]},Ps(this,"fill",e,this.Sd),this.addElement("rect",e)},n.fillText=function(e,t,n){e=[e,t,n],t=this.textAlign,"left"===t?t="start":"right"===t?t="end":"center"===t&&(t="middle"),t={x:e[1],y:e[2],style:"font: "+this.font,"text-anchor":t},Ps(this,"fill",t,this.Sd),this.addElement("text",t,e[0])},n.lineTo=function(e,t){this.path.push(["L",e,t])},n.moveTo=function(e,t){this.path.push(["M",e,t])},n.quadraticCurveTo=function(e,t,n,i){this.path.push(["Q",e,t,n,i])},n.rect=function(e,t,n,i){this.path.push(["M",e,t],["L",e+n,t],["L",e+n,t+i],["L",e,t+i],["z"])},n.restore=function(){this.Sd=this.stack.pop(),this.path=this.stack.pop();var e=this.stack.pop();this.fillStyle=e.fillStyle,this.font=e.font,this.globalAlpha=e.globalAlpha,this.lineCap=e.lineCap,this.lineDashOffset=e.lineDashOffset,this.lineJoin=e.lineJoin,this.lineWidth=e.lineWidth,this.miterLimit=e.miterLimit,this.shadowBlur=e.shadowBlur,this.shadowColor=e.shadowColor,this.shadowOffsetX=e.shadowOffsetX,this.shadowOffsetY=e.shadowOffsetY,this.strokeStyle=e.strokeStyle,this.textAlign=e.textAlign},n.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var e=[],t=0;t<this.path.length;t++)e.push(this.path[t]);this.stack.push(e),this.stack.push(this.Sd.copy())},n.setTransform=function(e,t,n,i,a,r){1===e&&0===t&&0===n&&1===i&&0===a&&0===r||Os(this,e,t,n,i,a,r)},n.scale=function(e,t){this.Sd.scale(e,t)},n.translate=function(e,t){this.Sd.translate(e,t)},n.transform=function(){},n.stroke=function(){this.addPath("stroke",this.path,this.Sd)},n.Wi=function(){this.clipInsteadOfFill||this.stroke()},n.ub=function(e,t,n){return this.rk.ub(e,t,n)},n.addElement=function(e,t,n){return e=this.ub(e,t,n),this.wc.length>0?this.wc[this.wc.length-1].appendChild(e):this.svg.appendChild(e),this.aq=e},n.addPath=function(e,t,n){for(var i=[],a=0;a<t.length;a++){var r=D(t[a]),o=[r.shift()];if("A"===o[0])o.push(r.shift()+","+r.shift(),r.shift(),r.shift()+","+r.shift(),r.shift()+","+r.shift());else for(;r.length;)o.push(r.shift()+","+r.shift());i.push(o.join(" "))}t={d:i.join(" ")},"stroke"===e&&this.cu&&(t["stroke-dasharray"]=this.gh.toString(),t["stroke-dashoffset"]=this.hh),Ps(this,e,t,n),"clipPath"===e?(e="CLIP"+ue++,n=this.ub("clipPath",{id:e}),n.appendChild(this.ub("path",t)),this.svg.appendChild(n),this.wc.length>0&&this.wc[this.wc.length-1].setAttributeNS(null,"clip-path","url(#"+e+")")):this.addElement("path",t)},n.qq=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var e="SHADOW"+ue++,t=this.addElement("filter",{id:e,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),n=this.ub("feGaussianBlur",{in:"SourceAlpha",result:"blur",jA:this.shadowBlur/2}),i=this.ub("feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),a=this.ub("feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"}),r=this.ub("feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),o=this.ub("feMerge",{});o.appendChild(this.ub("feMergeNode",{in:"offsetBlur"})),o.appendChild(this.ub("feMergeNode",{in:"SourceGraphic"})),t.appendChild(n),t.appendChild(i),t.appendChild(a),t.appendChild(r),t.appendChild(o),this.wc.length>0&&this.wc[this.wc.length-1].setAttributeNS(null,"filter","url(#"+e+")")}},n.Nv=function(e,t,n){this.mp=e,this.np=t,this.Od=n},n.Ps=function(e,t){this.cu=!0,this.gh=e,this.hh=t},n.Ns=function(){this.cu=!1},n.Rc=function(){},n.Ix=function(){},Ds.prototype.rotate=function(){},Ds.prototype.getImageData=function(){return null},Ds.prototype.measureText=function(){return null},Ds.className="SVGContext",Pa.prototype.it=function(e){var t=new Is(this,v.document);void 0===e&&(e=new J);var n=this;return Kr(this,(function(e,i){return e=Jr(n,e,"SVG",t),e=null!==e?e.svg:null,"function"===typeof i?(i(e),null):e}),e)},Pa.prototype.makeSvg=Pa.prototype.it,Pa.prototype.mv=function(e){return this.it(e)},Pa.prototype.makeSVG=Pa.prototype.mv,Yo.prototype.gx=function(e,t){if(!(e instanceof Ds))return!1;if(!this.visible)return!0;var n=null,i=e.aq;if(this instanceof Tl&&(this.type===Tl.TableRow||this.type===Tl.TableColumn))return ts(this,e,t),!0;var a=this.vb;if(0===a.width||0===a.height||isNaN(a.x)||isNaN(a.y))return!0;var r=this.transform,o=this.panel;0!==(4096&this.H)===!0&&is(this);var s=0!==(256&this.H),l=!1;if(this instanceof gu&&(e.font=this.font),s){if(l=o.Zd()?o.naturalBounds:o.actualBounds,null!==this.kd){var u=this.kd,c=u.x,d=u.y,h=u.width;u=u.height}else c=Math.max(a.x,l.x),d=Math.max(a.y,l.y),h=Math.min(a.right,l.right)-c,u=Math.min(a.bottom,l.bottom)-d;if(c>a.width+a.x||a.x>l.width+l.x||d>a.height+a.y||a.y>l.height+l.y)return!0;l=!0,Os(e,1,0,0,1,0,0),e.save(),e.beginPath(),e.rect(c,d,h,u),e.clip()}if(this.sg()&&!this.isVisible())return!0;if(e.Sd.Oa=[1,0,0,1,0,0],this instanceof gu&&this.lineCount>1&&Os(e,1,0,0,1,0,0),c=!1,this.sg()&&this.isShadowed&&t.De("drawShadows")&&(d=this.si,e.Nv(d.x*t.scale*t.Nb,d.y*t.scale*t.Nb,this.Od),Es(e),e.shadowColor=this.Ij),d=!1,this.part&&t.De("drawShadows")&&(d=this.part.isShadowed),!0===this.shadowVisible?(Es(e),!1===c&&d&&(Os(e,1,0,0,1,0,0),e.qq(),c=!0)):!1===this.shadowVisible&&Ms(e),h=this.naturalBounds,null!==this.areaBackground&&(ns(this,e,this.areaBackground,!0,!0,h,a),!1===c&&d&&(Os(e,1,0,0,1,0,0),e.qq(),c=!0),this.areaBackground instanceof Vs&&this.areaBackground.type===Zs?(e.beginPath(),e.rect(a.x,a.y,a.width,a.height),e.Td(this.areaBackground)):e.fillRect(a.x,a.y,a.width,a.height)),this instanceof Tl?Os(e,r.m11,r.m12,r.m21,r.m22,r.dx,r.dy):e.Sd.Oa=[r.m11,r.m12,r.m21,r.m22,r.dx,r.dy],null!==this.background){!1===c&&d&&(Os(e,1,0,0,1,0,0),e.qq(),c=!0);var f=this.naturalBounds;u=r=0;var p=f.width;f=f.height;var m=0;this instanceof ou&&(f=this.geometry.bounds,r=f.x,u=f.y,p=f.width,f=f.height,m=this.strokeWidth),ns(this,e,this.background,!0,!1,h,a),this.background instanceof Vs&&this.background.type===Zs?(e.beginPath(),e.rect(r-m/2,u-m/2,p+m,f+m),e.Td(this.background)):e.fillRect(r-m/2,u-m/2,p+m,f+m)}return d&&(null!==this.background||null!==this.areaBackground||null!==o&&0!==(512&o.H)||null!==o&&(o.type===Tl.Auto||o.type===Tl.Spot)&&o.zb()!==this)?(us(this,!0),null===this.shadowVisible&&Ms(e)):us(this,!1),this.Ci(e,t),d&&0!==(512&this.H)===!0&&Es(e),this.sg()&&d&&Ms(e),s&&(e.restore(),l&&e.wc.pop()),this instanceof Tl&&(n=e.wc.pop()),!0===c&&e.wc.pop(),this instanceof gu&&this.lineCount>1&&(n=e.wc.pop()),null!==e.rk.Qp&&(null===n&&(i===e.aq?(Os(e,1,0,0,1,0,0),n=e.wc.pop()):n=e.aq),e.rk.Qp(this,n)),this.svg=n,!0},Rs.prototype.resize=function(e,t,n,i){return(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.style.width=n+"px",this.style.height=i+"px",!0)},Rs.prototype.toDataURL=function(e,t){return this.Ga.toDataURL(e,t)},Rs.prototype.getBoundingClientRect=function(){return this.Ga.getBoundingClientRect()},Rs.prototype.focus=function(){this.Ga.focus()},Rs.prototype.ex=function(){this.ownerDocument=this.Ga.C=null},p.Object.defineProperties(Rs.prototype,{width:{get:function(){return this.Ga.width},set:function(e){this.Ga.width=e}},height:{get:function(){return this.Ga.height},set:function(e){this.Ga.height=e}},style:{get:function(){return this.Ga.style}}}),Rs.className="CanvasSurface",n=js.prototype,n.Ix=function(e){this.W.imageSmoothingEnabled=e},n.arc=function(e,t,n,i,a,r){this.W.arc(e,t,n,i,a,r)},n.beginPath=function(){this.W.beginPath()},n.bezierCurveTo=function(e,t,n,i,a,r){this.W.bezierCurveTo(e,t,n,i,a,r)},n.clearRect=function(e,t,n,i){this.W.clearRect(e,t,n,i)},n.clip=function(){this.W.clip()},n.closePath=function(){this.W.closePath()},n.createLinearGradient=function(e,t,n,i){return this.W.createLinearGradient(e,t,n,i)},n.createPattern=function(e,t){return this.W.createPattern(e,t)},n.createRadialGradient=function(e,t,n,i,a,r){return this.W.createRadialGradient(e,t,n,i,a,r)},n.drawImage=function(e,t,n,i,a,r,o,s,l){void 0===i?this.W.drawImage(e,t,n):this.W.drawImage(e,t,n,i,a,r,o,s,l)},n.fill=function(){this.W.fill()},n.fillRect=function(e,t,n,i){this.W.fillRect(e,t,n,i)},n.fillText=function(e,t,n){this.W.fillText(e,t,n)},n.getImageData=function(e,t,n,i){return this.W.getImageData(e,t,n,i)},n.lineTo=function(e,t){this.W.lineTo(e,t)},n.measureText=function(e){return this.W.measureText(e)},n.moveTo=function(e,t){this.W.moveTo(e,t)},n.quadraticCurveTo=function(e,t,n,i){this.W.quadraticCurveTo(e,t,n,i)},n.rect=function(e,t,n,i){this.W.rect(e,t,n,i)},n.restore=function(){this.W.restore()},js.prototype.rotate=function(e){this.W.rotate(e)},n=js.prototype,n.save=function(){this.W.save()},n.setTransform=function(e,t,n,i,a,r){this.W.setTransform(e,t,n,i,a,r)},n.scale=function(e,t){this.W.scale(e,t)},n.stroke=function(){this.W.stroke()},n.transform=function(e,t,n,i,a,r){1===e&&0===t&&0===n&&1===i&&0===a&&0===r||this.W.transform(e,t,n,i,a,r)},n.translate=function(e,t){this.W.translate(e,t)},n.Td=function(e){if(e instanceof Vs&&e.type===Zs){var t=e.Gk;e=e.Lt,e>t?(this.scale(t/e,1),this.translate((e-t)/2,0)):t>e&&(this.scale(1,e/t),this.translate(0,(t-e)/2)),this.Ym?this.clip():this.fill(),e>t?(this.translate(-(e-t)/2,0),this.scale(1/(t/e),1)):t>e&&(this.translate(0,-(t-e)/2),this.scale(1,1/(e/t)))}else this.Ym?this.clip():this.fill()},n.Wi=function(){this.Ym||this.stroke()},n.Nv=function(e,t,n){this.mp=e,this.np=t,this.Od=n},n.Ps=function(e,t){var n=this.W;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},n.Ns=function(){var e=this.W;void 0!==e.setLineDash&&(e.setLineDash(Bs),e.lineDashOffset=0)},n.Rc=function(e){e&&(this.Jt=""),this.It=this.Kt=""},p.Object.defineProperties(js.prototype,{fillStyle:{get:function(){return this.W.fillStyle},set:function(e){this.It!==e&&(this.It=this.W.fillStyle=e)}},font:{get:function(){return this.W.font},set:function(e){this.Jt!==e&&(this.Jt=this.W.font=e)}},globalAlpha:{get:function(){return this.W.globalAlpha},set:function(e){this.W.globalAlpha=e}},lineCap:{get:function(){return this.W.lineCap},set:function(e){this.W.lineCap=e}},lineDashOffset:{get:function(){return this.W.lineDashOffset},set:function(e){this.W.lineDashOffset=e}},lineJoin:{get:function(){return this.W.lineJoin},set:function(e){this.W.lineJoin=e}},lineWidth:{get:function(){return this.W.lineWidth},set:function(e){this.W.lineWidth=e}},miterLimit:{get:function(){return this.W.miterLimit},set:function(e){this.W.miterLimit=e}},shadowBlur:{get:function(){return this.W.shadowBlur},set:function(e){this.W.shadowBlur=e}},shadowColor:{get:function(){return this.W.shadowColor},set:function(e){this.W.shadowColor=e}},shadowOffsetX:{get:function(){return this.W.shadowOffsetX},set:function(e){this.W.shadowOffsetX=e}},shadowOffsetY:{get:function(){return this.W.shadowOffsetY},set:function(e){this.W.shadowOffsetY=e}},strokeStyle:{get:function(){return this.W.strokeStyle},set:function(e){this.Kt!==e&&(this.Kt=this.W.strokeStyle=e)}},textAlign:{get:function(){return this.W.textAlign},set:function(e){this.W.textAlign=e}},imageSmoothingEnabled:{get:function(){return this.W.imageSmoothingEnabled},set:function(e){this.W.imageSmoothingEnabled=e}},clipInsteadOfFill:{get:function(){return this.Ym},set:function(e){this.Ym=e}}});var Bs=Object.freeze([]);function _s(){this.ba=this.u=this.K=this.l=0}function Vs(e){dl||(Ks(),dl=!0),oe(this),this.v=!1,void 0===e?(this.va=Js,this.Fk="black"):"string"===typeof e?(this.va=Js,this.Fk=e):(this.va=e,this.Fk="black"),e=this.va,e===Xs?(this.Gl=ct,this.Tk=gt):this.Tk=this.Gl=e===Zs?ft:lt,this.ys=0,this.fr=NaN,this.ce=this.fs=this.be=null,this.Lt=this.Gk=0}function Fs(e,t,n){return t=void 0===t||"number"!==typeof t?.2:t,n=void 0===n?tl:n,$s(e),Qs(t,n)}function Us(e,t,n){return t=void 0===t||"number"!==typeof t?.2:t,n=void 0===n?tl:n,$s(e),Qs(-t,n)}function qs(e,t,n){$s(e),e=sl.l;var i=sl.K,a=sl.u,r=sl.ba;return $s(t),void 0===n&&(n=.5),"rgba("+Math.round((sl.l-e)*n+e)+", "+Math.round((sl.K-i)*n+i)+", "+Math.round((sl.u-a)*n+a)+", "+Math.round((sl.ba-r)*n+r)+")"}function zs(e){return null===e?null:e instanceof Vs?e.px():($s(e),(299*sl.l+587*sl.K+114*sl.u)/1e3<128)}function Qs(e,t){switch(t){case tl:var n=100*Hs(sl.l);t=100*Hs(sl.K);var i=100*Hs(sl.u);return ul.l=.4124564*n+.3575761*t+.1804375*i,ul.K=.2126729*n+.7151522*t+.072175*i,ul.u=.0193339*n+.119192*t+.9503041*i,ul.ba=sl.ba,n=Ys(ul.l/rl[0]),t=Ys(ul.K/rl[1]),i=Ys(ul.u/rl[2]),cl.l=116*t-16,cl.K=500*(n-t),cl.u=200*(t-i),cl.ba=ul.ba,cl.l=Math.min(100,Math.max(0,cl.l+100*e)),e=(cl.l+16)/116,n=e-cl.u/200,ul.l=rl[0]*Ws(cl.K/500+e),ul.K=rl[1]*(cl.l>al*il?Math.pow(e,3):cl.l/al),ul.u=rl[2]*Ws(n),ul.ba=cl.ba,e=-.969266*ul.l+1.8760108*ul.K+.041556*ul.u,n=.0556434*ul.l+-.2040259*ul.K+1.0572252*ul.u,sl.l=255*Gs((3.2404542*ul.l+-1.5371385*ul.K+-.4985314*ul.u)/100),sl.K=255*Gs(e/100),sl.u=255*Gs(n/100),sl.ba=ul.ba,sl.l=Math.round(sl.l),sl.l>255?sl.l=255:sl.l<0&&(sl.l=0),sl.K=Math.round(sl.K),sl.K>255?sl.K=255:sl.K<0&&(sl.K=0),sl.u=Math.round(sl.u),sl.u>255?sl.u=255:sl.u<0&&(sl.u=0),"rgba("+sl.l+", "+sl.K+", "+sl.u+", "+sl.ba+")";case nl:t=sl.l/255,i=sl.K/255;var a=sl.u/255,r=Math.max(t,i,a),o=Math.min(t,i,a),s=r-o;if(o=(r+o)/2,0===s)n=t=0;else{switch(r){case t:n=(i-a)/s%6;break;case i:n=(a-t)/s+2;break;case a:n=(t-i)/s+4}n*=60,n<0&&(n+=360),t=s/(1-Math.abs(2*o-1))}return ll.l=Math.round(n),ll.K=Math.round(100*t),ll.u=Math.round(100*o),ll.ba=sl.ba,ll.u=Math.min(100,Math.max(0,ll.u+100*e)),"hsla("+ll.l+", "+ll.K+"%, "+ll.u+"%, "+ll.ba+")";default:return x("Unknown color space: "+t),"rgba(0, 0, 0, 1)"}}function $s(e){dl||(Ks(),dl=!0);var t=ol;if(null!==t){t.clearRect(0,0,1,1),t.fillStyle="#000000";var n=t.fillStyle;t.fillStyle=e,t.fillStyle!==n?(t.fillRect(0,0,1,1),e=t.getImageData(0,0,1,1).data,sl.l=e[0],sl.K=e[1],sl.u=e[2],sl.ba=e[3]/255):(t.fillStyle="#FFFFFF",t.fillStyle=e,sl.l=0,sl.K=0,sl.u=0,sl.ba=1)}}function Hs(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Gs(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}function Ys(e){return e>il?Math.pow(e,1/3):(al*e+16)/116}function Ws(e){var t=e*e*e;return t>il?t:(116*e-16)/al}function Ks(){ol=fo?new Rs(null).context:null}js.className="CanvasSurfaceContext",_s.className="ColorNumbers",Vs.prototype.copy=function(){var e=new Vs;return e.va=this.va,e.Fk=this.Fk,e.Gl=this.Gl.I(),e.Tk=this.Tk.I(),e.ys=this.ys,e.fr=this.fr,null!==this.be&&(e.be=this.be.copy()),e.fs=this.fs,e},n=Vs.prototype,n.freeze=function(){return this.v=!0,null!==this.be&&this.be.freeze(),this},n.ha=function(){return Object.isFrozen(this)&&x("cannot thaw constant: "+this),this.v=!1,null!==this.be&&this.be.ha(),this},n.fb=function(e){e.classType===Vs&&(this.type=e)},n.toString=function(){var e="Brush(";if(this.type===Js)e+=this.color;else if(e=this.type===Xs?e+"Linear ":this.type===Zs?e+"Radial ":this.type===el?e+"Pattern ":e+"(unknown) ",e+=this.start+" "+this.end,null!==this.colorStops)for(var t=this.colorStops.iterator;t.next();)e+=" "+t.key+":"+t.value;return e+")"},n.addColorStop=function(e,t){return this.v&&C(this),("number"!==typeof e||!isFinite(e)||e>1||e<0)&&k(e,"0 <= loc <= 1",Vs,"addColorStop:loc"),null===this.be&&(this.be=new me),this.be.add(e,t),this.va===Js&&(this.type=Xs),this.ce=null,this},n.zz=function(e,t){if(this.v&&C(this),e=void 0===e||"number"!==typeof e?.2:e,t=void 0===t?tl:t,this.type===Js)$s(this.color),this.color=Qs(e,t);else if((this.type===Xs||this.type===Zs)&&null!==this.colorStops)for(var n=this.colorStops.iterator;n.next();)$s(n.value),this.addColorStop(n.key,Qs(e,t));return this},n.zy=function(e,t){if(this.v&&C(this),e=void 0===e||"number"!==typeof e?.2:e,t=void 0===t?tl:t,this.type===Js)$s(this.color),this.color=Qs(-e,t);else if((this.type===Xs||this.type===Zs)&&null!==this.colorStops)for(var n=this.colorStops.iterator;n.next();)$s(n.value),this.addColorStop(n.key,Qs(-e,t));return this},n.px=function(){if(this.type===Js)return zs(this.color);if((this.type===Xs||this.type===Zs)&&null!==this.colorStops){var e=this.colorStops;if(this.type===Zs)return zs(e.first().value);if(null!==e.get(.5))return zs(e.get(.5));if(2===e.count)return e=e.Na(),zs(qs(e[0].value,e[1].value));for(var t=e.iterator,n=-1,i=-1,a=1,r=1;t.next();){var o=t.key,s=Math.abs(.5-t.key);a>r&&s<a?(n=o,a=s):r>=a&&s<r&&(i=o,r=s)}return n>i&&(n=[i,i=n][0]),t=i-n,zs(qs(e.get(n),e.get(i),1-a/t))}return!1},p.Object.defineProperties(Vs.prototype,{type:{get:function(){return this.va},set:function(e){this.v&&C(this,e),this.va=e,this.start.jc()&&(e===Xs?this.start=ct:e===Zs&&(this.start=ft)),this.end.jc()&&(e===Xs?this.end=gt:e===Zs&&(this.end=ft)),this.ce=null}},color:{get:function(){return this.Fk},set:function(e){this.v&&C(this,e),this.Fk=e,this.ce=null}},start:{get:function(){return this.Gl},set:function(e){this.v&&C(this,e),this.Gl=e.I(),this.ce=null}},end:{get:function(){return this.Tk},set:function(e){this.v&&C(this,e),this.Tk=e.I(),this.ce=null}},startRadius:{get:function(){return this.ys},set:function(e){this.v&&C(this,e),e<0&&k(e,">= zero",Vs,"startRadius"),this.ys=e,this.ce=null}},endRadius:{get:function(){return this.fr},set:function(e){this.v&&C(this,e),e<0&&k(e,">= zero",Vs,"endRadius"),this.fr=e,this.ce=null}},colorStops:{get:function(){return this.be},set:function(e){this.v&&C(this,e),this.be=e,this.ce=null}},pattern:{get:function(){return this.fs},set:function(e){this.v&&C(this,e),this.fs=e,this.ce=null}}}),Vs.prototype.isDark=Vs.prototype.px,Vs.prototype.darkenBy=Vs.prototype.zy,Vs.prototype.lightenBy=Vs.prototype.zz,Vs.prototype.addColorStop=Vs.prototype.addColorStop;var Js,Xs,Zs,el,tl,nl,il=216/24389,al=24389/27,rl=[95.047,100,108.883],ol=null,sl=new _s,ll=new _s,ul=new _s,cl=new _s,dl=!1;function hl(){this.name="Base"}function fl(){this.name="Base",this.name="Position"}function pl(){this.name="Base",this.name="Horizontal"}function ml(){this.name="Base",this.name="Vertical"}function gl(){this.name="Base",this.name="Spot"}function vl(){this.name="Base",this.name="Auto"}function yl(){this.name="Base",this.name="Table"}function bl(){this.name="Base",this.name="TableRow"}function Al(){this.name="Base",this.name="TableColumn"}function wl(){this.name="Base",this.name="Viewbox"}function xl(){this.name="Base",this.name="Grid"}function Cl(){this.name="Base",this.name="Link"}function kl(e,t,n,i){if(!1!==ps(i)){var a=i.strokeWidth;0===a&&e instanceof Oc&&e.type===Tl.Link&&e.adornedObject instanceof ou&&(a=e.adornedObject.strokeWidth),a*=i.Ca,e instanceof id&&null!==e.qa?(e=e.qa.bounds,Xo(i,e.x-a/2,e.y-a/2,e.width+a,e.height+a)):e instanceof Oc&&null!==e.adornedPart.qa?(e=e.adornedPart.qa.bounds,Xo(i,e.x-a/2,e.y-a/2,e.width+a,e.height+a)):Xo(i,-a/2,-a/2,t+a,n+a),ms(i,!1)}}function Sl(){this.name="Base",this.name="Graduated"}function Tl(e){Yo.call(this),this.va=void 0===e?Tl.Position:e,null===this.va&&x("Panel type not specified or PanelLayout not loaded: "+e),this.Y=new ie,this.eb=at,this.va===Tl.Grid&&(this.isAtomic=!0),this.nn=Mt,this.Df=to,this.va===Tl.Table&&Nl(this),this.Fp=eo,this.Ln=Ie,this.Mn=Le,this.In=0,this.Hn=100,this.Kn=10,this.Jn=0,this.Qh=this.jb=this.Mg=this.hj=this.jj=null,this.Zn=NaN,this.je=this.ei=null,this.gl="category",this.Ed=null,this.hg=new Ue(NaN,NaN,NaN,NaN),this.kh=this.cp=this.ti=null,this.yg=""}function Nl(e){e.dj=at,e.Gg=1,e.Vh=null,e.Uh=null,e.Fg=1,e.Eg=null,e.Th=null,e.sb=[],e.nb=[],e.Fj=ru,e.bj=ru,e.wi=0,e.gi=0}function Il(e,t,n,i){for(var a=i.length,r=e.actualBounds,o=e.naturalBounds,s=!0,l=0;l<a;l++){var u=i[l];if(void 0!==u)if(s)s=!1;else if(0!==u.actual){if(n){if(u.position>r.height)continue}else if(u.position>r.width)continue;var c=u.separatorStrokeWidth;isNaN(c)&&(c=n?e.Gg:e.Fg);var d=u.separatorStroke;if(null===d&&(d=n?e.Vh:e.Eg),0!==c&&null!==d){ns(e,t,d,!1,!1,o,r),d=!1;var h=u.separatorDashArray;null===h&&(h=n?e.Uh:e.Th),null!==h&&(d=!0,t.Ps(h,0)),t.beginPath(),h=u.position+c,n?h>r.height&&(c-=h-r.height):h>r.width&&(c-=h-r.width),u=u.position+c/2,t.lineWidth=c,c=e.eb,n?(u+=c.top,h=r.width-c.right,t.moveTo(c.left,u),t.lineTo(h,u)):(u+=c.left,h=r.height-c.bottom,t.moveTo(u,c.top),t.lineTo(u,h)),t.stroke(),d&&t.Ns()}}}}function Dl(e,t,n,i,a){for(var r=i.length,o=e.actualBounds,s=e.naturalBounds,l=0;l<r;l++){var u=i[l];if(void 0!==u&&null!==u.background&&u.coversSeparators!==a&&0!==u.actual){var c=n?o.height:o.width;if(!(u.position>c)){var d=u.tc(),h=u.separatorStrokeWidth;isNaN(h)&&(h=n?e.Gg:e.Fg);var f=u.separatorStroke;null===f&&(f=n?e.Vh:e.Eg),null===f&&(h=0),d-=h,h=u.position+h,d+=u.actual,h+d>c&&(d=c-h),d<=0||(c=e.eb,ns(e,t,u.background,!0,!1,s,o),n?t.fillRect(c.left,h+c.top,o.width-(c.left+c.right),d):t.fillRect(h+c.left,c.top,d,o.height-(c.top+c.bottom)))}}}}function Pl(e,t,n){if(e%t!==0)return!1;t=n.length;for(var i=0;i<t;i++)if(e%n[i]===0)return!1;return!0}function Ll(e){return"LineV"===e||"BarV"===e}function Ol(e){return null!==e.part?e.part.locationObject:null}function Ml(e,t){El(e,e,t)}function El(e,t,n){n(t),t=t.Y.j;for(var i=t.length,a=0;a<i;a++){var r=t[a];r instanceof Tl&&El(e,r,n)}}function Rl(e,t){jl(e,e,t)}function jl(e,t,n){if(n(t),t instanceof Tl){t=t.Y.j;for(var i=t.length,a=0;a<i;a++)jl(e,t[a],n)}}function Bl(e,t,n){if(n(t))return t;if(t instanceof Tl){t=t.Y.j;for(var i=t.length,a=0;a<i;a++){var r=Bl(e,t[a],n);if(null!==r)return r}}return null}function _l(e){e=e.Y.j;for(var t=e.length,n=0,i=0;i<t;i++){var a=e[i];if(a instanceof Tl)n=Math.max(n,_l(a));else if(a instanceof ou){e:{switch(a.Vk){case"None":case"Square":case"Ellipse":case"Circle":case"LineH":case"LineV":case"FramedRectangle":case"RoundedRectangle":case"Line1":case"Line2":case"Border":case"Cube1":case"Cube2":case"Junction":case"Cylinder1":case"Cylinder2":case"Cylinder3":case"Cylinder4":case"PlusLine":case"XLine":case"ThinCross":case"ThickCross":a=0;break e}a=a.ih/2*a.Jj*a.Ce()}n=Math.max(n,a)}}return n}function Vl(e,t,n,i){for(var a=e.Y.j,r=a.length;r--;){var o=a[r];if(o.visible){var s=o.actualBounds,l=e.naturalBounds;s.x>l.width||s.y>l.height||s.x+s.width<0||s.y+s.height<0||(o instanceof Tl&&Vl(o,t,n,i),null!==t&&(o=t(o)),null===o||null!==n&&!n(o)||i.add(o))}}}function Fl(e){var t=null;return e instanceof ou&&(t=e.spot1,t===Mt&&(t=null),e=e.geometry,null!==e&&null===t&&(t=e.spot1)),null===t&&(t=ut),t}function Ul(e){var t=null;return e instanceof ou&&(t=e.spot2,t===Mt&&(t=null),e=e.geometry,null!==e&&null===t&&(t=e.spot2)),null===t&&(t=vt),t}function ql(e,t){e.H=t?16777216|e.H:-16777217&e.H}function zl(e){return e=e.Qh,null!==e&&e.v}function Ql(e){var t=e.Qh;if(null===t)null!==e.data&&x("Template cannot have .data be non-null: "+e),e.Qh=t=new ie;else if(t.v)return;var n=new ie;ql(e,!1),e.ym(e,(function(e,i){var a=i.bb;if(null!==a)for(ds(i,!1),a=a.iterator;a.next();){var r=a.value;r.mode===Af&&ds(i,!0);var o=r.sourceName;null!==o&&("/"===o&&ql(e,!0),o=yf(r,e,i),null!==o&&(n.add(o),null===o.Fl&&(o.Fl=new ie),o.Fl.add(r))),t.add(r)}if(i instanceof Tl&&i.type===Tl.Table){if(i.sb.length>0)for(e=i.sb,a=e.length,r=0;r<a;r++)if(o=e[r],void 0!==o&&null!==o.bb)for(var s=o.bb.iterator;s.next();){var l=s.value;l.Qd=o,l.wp=2,l.Nl=o.index,t.add(l)}if(i.nb.length>0)for(i=i.nb,e=i.length,a=0;a<e;a++)if(r=i[a],void 0!==r&&null!==r.bb)for(o=r.bb.iterator;o.next();)s=o.value,s.Qd=r,s.wp=1,s.Nl=r.index,t.add(s)}}));for(var i=n.iterator;i.next();){var a=i.value;if(null!==a.Fl){ds(a,!0);for(var r=a.Fl.iterator;r.next();){var o=r.value;null===a.bb&&(a.bb=new ie),a.bb.add(o)}}a.Fl=null}for(i=t.iterator;i.next();)if(a=i.value,r=a.Qd,null!==r){a.Qd=null;var s=a.targetProperty,l=s.indexOf(".");l>0&&r instanceof Tl&&(o=s.substring(0,l),s=s.substr(l+1),l=r.$a(o),null!==l?(r=l,a.targetProperty=s):S('Warning: unable to find GraphObject named "'+o+'" for Binding: '+a.toString())),r instanceof tu?(o=le(r.panel),a.Xi=void 0===o?-1:o,r.panel.Dk=a.Xi):r instanceof Yo?(o=le(r),a.Xi=void 0===o?-1:o,r.Dk=a.Xi):x("Unknown type of binding target: "+r)}t.freeze(),e instanceof lc&&e.Lb()&&e.ac()}function $l(e,t){e=e.Y.j;for(var n=e.length,i=t.length,a=0,r=null;a<n&&(r=e[a],!(r instanceof Tl&&null!==r.data));)a++,r=e[a];if(n-a!==i)return!0;if(null===r)return i>0;for(var o=0;a<n&&o<i;){if(r=e[a],!(r instanceof Tl)||r.data!==t[o])return!0;a++,o++}return!1}function Hl(e){if(e.type===Tl.Spot||e.type===Tl.Auto)return Math.min(e.Y.length,1);if(e.type===Tl.Link){e=e.Y;for(var t=e.length,n=0;n<t;n++){var i=e.N(n);if(!(i instanceof ou&&i.isPanelMain))break}return n}return e.type===Tl.Table&&e.Y.length>0&&(e=e.Y.N(0),e.isPanelMain&&e instanceof Tl&&(e.type===Tl.TableRow||e.type===Tl.TableColumn))?1:0}function Gl(e,t,n){if(!(void 0===t||null===t||n<0)){var a=Wl(e,t),r=e.itemTemplateMap,o=null;null!==r&&(o=r.J(a)),null===o&&(Xl||(Xl=!0,S('No item template Panel found for category "'+a+'" on '+e),S("  Using default item template."),a=new Tl,r=new gu,r.bind(new vf("text","",R)),a.add(r),Zl=a),o=Zl),a=o,null!==a&&(Ql(a),a=a.copy(),0!==(16777216&a.H)&&(r=e.Gi(),null!==r&&ql(r,!0)),"object"===i(t)&&(null===e.Ed&&(e.Ed=new me),e.Ed.add(t,a)),r=n+Hl(e),e.Ib(r,a),a.jb=t,Yl(e,r,n),a.jb=null,a.data=t)}}function Yl(e,t,n){for(e=e.Y;t<e.length;){var i=e.N(t);if(i instanceof Tl){var a=t,r=n;i.type===Tl.TableRow?i.row=a:i.type===Tl.TableColumn&&(i.column=a),i.itemIndex=r}t++,n++}}function Wl(e,t){if(null===t)return"";if(e=e.gl,"function"===typeof e)e=e(t);else{if("string"!==typeof e||"object"!==i(t))return"";if(""===e)return"";e=ff(t,e)}return void 0===e?"":"string"===typeof e?e:(x("Panel.getCategoryForItemData found a non-string category for "+t+": "+e),"")}function Kl(e,t,n){var i=t.enabledChanged;if(null!==i&&i(t,n),t instanceof Tl){t=t.Y.j,i=t.length;for(var a=0;a<i;a++){var r=t[a];n&&r instanceof Tl&&!r.isEnabled||Kl(e,r,n)}}}function Jl(e,t){eu.add(e,t)}Vs.className="Brush",Vs.Solid=Js=new Y(Vs,"Solid",0),Vs.Linear=Xs=new Y(Vs,"Linear",1),Vs.Radial=Zs=new Y(Vs,"Radial",2),Vs.Pattern=el=new Y(Vs,"Pattern",4),Vs.Lab=tl=new Y(Vs,"Lab",5),Vs.HSL=nl=new Y(Vs,"HSL",6),Vs.randomColor=function(e,t){void 0===e&&(e=128),void 0===t&&(t=Math.max(e,255));var n=Math.abs(t-e);t=Math.floor(e+Math.random()*n).toString(16);var i=Math.floor(e+Math.random()*n).toString(16);return e=Math.floor(e+Math.random()*n).toString(16),t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),e.length<2&&(e="0"+e),"#"+t+i+e},Vs.isValidColor=function(e){if("black"===e)return!0;if(""===e)return!1;dl||(Ks(),dl=!0);var t=ol;if(null===t)return!0;t.fillStyle="#000000";var n=t.fillStyle;return t.fillStyle=e,t.fillStyle!==n||(t.fillStyle="#FFFFFF",n=t.fillStyle,t.fillStyle=e,t.fillStyle!==n)},Vs.lighten=function(e){return Fs(e)},Vs.lightenBy=Fs,Vs.darken=function(e){return Us(e)},Vs.darkenBy=Us,Vs.mix=qs,Vs.isDark=zs,hl.prototype.measure=function(){},hl.prototype.Cz=function(e,t,n,i,a){e.measure(t,n,i,a)},hl.prototype.arrange=function(){},hl.prototype.oy=function(e,t,n,i,a,r){e.arrange(t,n,i,a,r)},p.Object.defineProperties(hl.prototype,{classType:{get:function(){return Tl}}}),hl.prototype.arrangeElement=hl.prototype.oy,hl.prototype.measureElement=hl.prototype.Cz,hl.className="PanelLayout",f(fl,hl),fl.prototype.measure=function(e,t,n,i,a,r,o){var s=i.length;e=Ol(e);for(var l=0;l<s;l++){var u=i[l];if(u.visible||u===e){var c=u.margin,d=c.right+c.left;c=c.top+c.bottom,u.measure(t,n,r,o);var h=u.measuredBounds;d=Math.max(h.width+d,0),c=Math.max(h.height+c,0),h=u.position.x;var f=u.position.y;isFinite(h)||(h=0),isFinite(f)||(f=0),u instanceof ou&&u.isGeometryPositioned&&(u=u.strokeWidth/2,h-=u,f-=u),We(a,h,f,d,c)}}},fl.prototype.arrange=function(e,t,n){var i=t.length,a=e.padding;for(e=n.x-a.left,n=n.y-a.top,a=0;a<i;a++){var r=t[a],o=r.measuredBounds,s=r.margin,l=r.position.x,u=r.position.y;if(l=isNaN(l)?-e:l-e,u=isNaN(u)?-n:u-n,r instanceof ou&&r.isGeometryPositioned){var c=r.strokeWidth/2;l-=c,u-=c}r.visible&&r.arrange(l+s.left,u+s.top,o.width,o.height)}},f(pl,hl),pl.prototype.measure=function(e,t,n,i,a,r,o){var s=i.length;t=O(),r=Ol(e);for(var l=0;l<s;l++){var u=i[l];if(u.visible||u===r){var c=os(u,!1);if(c!==Zr&&c!==no)t.push(u);else{u.measure(1/0,n,0,o),c=u.margin,u=u.measuredBounds;var d=Math.max(u.height+c.top+c.bottom,0);a.width+=Math.max(u.width+c.right+c.left,0),a.height=Math.max(a.height,d)}}}for(i=t.length,e.desiredSize.height?n=Math.min(e.desiredSize.height,e.maxSize.height):0!==a.height&&(n=Math.min(a.height,e.maxSize.height)),e=0;e<i;e++)l=t[e],(l.visible||l===r)&&(c=l.margin,s=c.right+c.left,c=c.top+c.bottom,l.measure(1/0,n,0,o),l=l.measuredBounds,c=Math.max(l.height+c,0),a.width+=Math.max(l.width+s,0),a.height=Math.max(a.height,c));M(t)},pl.prototype.arrange=function(e,t,n){for(var i=t.length,a=e.padding,r=a.top,o=e.isOpposite,s=o?n.width:a.left,l=0;l<i;l++){var u=r,c=t[l];if(c.visible){var d=c.measuredBounds,h=c.margin,f=h.top+h.bottom,p=r+a.bottom,m=d.height,g=os(c,!1);(isNaN(c.desiredSize.height)&&g===Xr||g===io)&&(m=Math.max(n.height-f-p,0)),f=m+f+p,p=c.alignment,p.Kb()&&(p=e.defaultAlignment),p.gb()||(p=ft),o&&(s-=d.width+h.left+h.right),c.arrange(s+p.offsetX+h.left,u+p.offsetY+h.top+(n.height*p.y-f*p.y),d.width,m),o||(s+=d.width+h.left+h.right)}}},f(ml,hl),ml.prototype.measure=function(e,t,n,i,a,r){var o=i.length;n=O();for(var s=Ol(e),l=0;l<o;l++){var u=i[l];if(u.visible||u===s){var c=os(u,!1);if(c!==Zr&&c!==io)n.push(u);else{var d=u.margin;c=d.right+d.left,d=d.top+d.bottom,u.measure(t,1/0,r,0),u=u.measuredBounds,qe(a,Math.max(a.width,Math.max(u.width+c,0)),a.height+Math.max(u.height+d,0))}}}if(i=n.length,0!==i){for(e.desiredSize.width?t=Math.min(e.desiredSize.width,e.maxSize.width):0!==a.width&&(t=Math.min(a.width,e.maxSize.width)),e=0;e<i;e++)l=n[e],(l.visible||l===s)&&(u=l.margin,o=u.right+u.left,u=u.top+u.bottom,l.measure(t,1/0,r,0),l=l.measuredBounds,u=Math.max(l.height+u,0),a.width=Math.max(a.width,Math.max(l.width+o,0)),a.height+=u);M(n)}},ml.prototype.arrange=function(e,t,n){for(var i=t.length,a=e.padding,r=a.left,o=e.isOpposite,s=o?n.height:a.top,l=0;l<i;l++){var u=r,c=t[l];if(c.visible){var d=c.measuredBounds,h=c.margin,f=h.left+h.right,p=r+a.right,m=d.width,g=os(c,!1);(isNaN(c.desiredSize.width)&&g===Xr||g===no)&&(m=Math.max(n.width-f-p,0)),f=m+f+p,p=c.alignment,p.Kb()&&(p=e.defaultAlignment),p.gb()||(p=ft),o&&(s-=d.height+h.bottom+h.top),c.arrange(u+p.offsetX+h.left+(n.width*p.x-f*p.x),s+p.offsetY+h.top,m,d.height),o||(s+=d.height+h.bottom+h.top)}}},f(gl,hl),gl.prototype.measure=function(e,t,n,i,a,r,o){var s=i.length,l=e.zb(),u=l.margin,c=u.right+u.left,d=u.top+u.bottom;l.measure(t,n,r,o);var h=l.measuredBounds;r=h.width,o=h.height;for(var f=Math.max(r+c,0),p=Math.max(o+d,0),m=e.isClipping,g=Ue.allocAt(-u.left,-u.top,f,p),v=!0,y=Ol(e),b=0;b<s;b++){var A=i[b];if(A!==l&&(A.visible||A===y)){switch(u=A.margin,f=u.right+u.left,p=u.top+u.bottom,h=os(A,!1),h){case Xr:t=r,n=o;break;case no:t=r;break;case io:n=o}A.measure(t,n,0,0),h=A.measuredBounds,f=Math.max(h.width+f,0),p=Math.max(h.height+p,0);var w=A.alignment;w.Kb()&&(w=e.defaultAlignment),w.gb()||(w=ft);var x=A.alignmentFocus;x.Kb()&&(x=ft);var C=null;if(A instanceof Tl&&""!==A.yg&&(A.arrange(0,0,h.width,h.height),C=A.$a(A.yg),C===A&&(C=null)),null!==C){for(u=C.naturalBounds,h=C.margin,u=ge.allocAt(x.x*u.width-x.offsetX-h.left,x.y*u.height-x.offsetY-h.top);C!==A;)C.transform.ta(u),C=C.panel;A=w.x*r+w.offsetX-u.x,h=w.y*o+w.offsetY-u.y,ge.free(u)}else A=w.x*r+w.offsetX-(x.x*h.width+x.offsetX)-u.left,h=w.y*o+w.offsetY-(x.y*h.height+x.offsetY)-u.top;v?(v=!1,a.h(A,h,f,p)):We(a,A,h,f,p)}}switch(v?a.assign(g):m?a.gv(g.x,g.y,g.width,g.height):We(a,g.x,g.y,g.width,g.height),Ue.free(g),h=l.stretch,h===to&&(h=os(l,!1)),h){case Zr:return;case Xr:if(!isFinite(t)&&!isFinite(n))return;break;case no:if(!isFinite(t))return;break;case io:if(!isFinite(n))return}for(h=l.measuredBounds,r=h.width,o=h.height,f=Math.max(r+c,0),p=Math.max(o+d,0),u=l.margin,g=Ue.allocAt(-u.left,-u.top,f,p),t=0;t<s;t++)n=i[t],n===l||!n.visible&&n!==y||(u=n.margin,f=u.right+u.left,p=u.top+u.bottom,h=n.measuredBounds,f=Math.max(h.width+f,0),p=Math.max(h.height+p,0),c=n.alignment,c.Kb()&&(c=e.defaultAlignment),c.gb()||(c=ft),n=n.alignmentFocus,n.Kb()&&(n=ft),v?(v=!1,a.h(c.x*r+c.offsetX-(n.x*h.width+n.offsetX)-u.left,c.y*o+c.offsetY-(n.y*h.height+n.offsetY)-u.top,f,p)):We(a,c.x*r+c.offsetX-(n.x*h.width+n.offsetX)-u.left,c.y*o+c.offsetY-(n.y*h.height+n.offsetY)-u.top,f,p));v?a.assign(g):m?a.gv(g.x,g.y,g.width,g.height):We(a,g.x,g.y,g.width,g.height),Ue.free(g)},gl.prototype.arrange=function(e,t,n){var i=t.length,a=e.zb(),r=a.measuredBounds,o=r.width;r=r.height;var s=e.padding,l=s.left;s=s.top;var u=l-n.x,c=s-n.y;a.arrange(u,c,o,r);for(var d=0;d<i;d++){var h=t[d];if(h!==a){var f=h.measuredBounds,p=f.width;f=f.height,c=h.alignment,c.Kb()&&(c=e.defaultAlignment),c.gb()||(c=ft);var m=h.alignmentFocus;if(m.Kb()&&(m=ft),u=null,h instanceof Tl&&""!==h.yg&&(u=h.$a(h.yg),u===h&&(u=null)),null!==u){var g=u.naturalBounds;for(m=ge.allocAt(m.x*g.width-m.offsetX,m.y*g.height-m.offsetY);u!==h;)u.transform.ta(m),u=u.panel;u=c.x*o+c.offsetX-m.x,c=c.y*r+c.offsetY-m.y,ge.free(m)}else u=c.x*o+c.offsetX-(m.x*p+m.offsetX),c=c.y*r+c.offsetY-(m.y*f+m.offsetY);u-=n.x,c-=n.y,h.visible&&h.arrange(l+u,s+c,p,f)}}},f(vl,hl),vl.prototype.measure=function(e,t,n,i,a,r,o){var s=i.length,l=e.zb(),u=l.margin,c=t,d=n,h=u.right+u.left,f=u.top+u.bottom;l.measure(t,n,r,o),u=l.measuredBounds;var p=0,m=null;l instanceof ou&&(m=l,p=m.strokeWidth*m.scale);var g=Math.max(u.width+h,0);u=Math.max(u.height+f,0);var v=Fl(l),y=v.x*g+v.offsetX;v=v.y*u+v.offsetY;var b=Ul(l),A=b.x*g+b.offsetX;for(b=b.y*u+b.offsetY,isFinite(t)&&(c=Math.max(Math.abs(y-A)-p,0)),isFinite(n)&&(d=Math.max(Math.abs(v-b)-p,0)),p=Be.alloc(),p.h(0,0),e=Ol(e),b=0;b<s;b++)v=i[b],v===l||!v.visible&&v!==e||(u=v.margin,g=u.right+u.left,y=u.top+u.bottom,v.measure(c,d,0,0),u=v.measuredBounds,g=Math.max(u.width+g,0),u=Math.max(u.height+y,0),p.h(Math.max(g,p.width),Math.max(u,p.height)));if(1===s)a.width=g,a.height=u,Be.free(p);else{switch(v=Fl(l),b=Ul(l),s=i=0,b.x!==v.x&&b.y!==v.y&&(i=p.width/Math.abs(b.x-v.x),s=p.height/Math.abs(b.y-v.y)),Be.free(p),p=0,null!==m&&(p=m.strokeWidth*m.scale,lu(m)===eo&&(i=s=Math.max(i,s))),i+=Math.abs(v.offsetX)+Math.abs(b.offsetX)+p,s+=Math.abs(v.offsetY)+Math.abs(b.offsetY)+p,m=l.stretch,m===to&&(m=os(l,!1)),m){case Zr:o=r=0;break;case Xr:isFinite(t)&&(i=t),isFinite(n)&&(s=n);break;case no:isFinite(t)&&(i=t),o=0;break;case io:r=0,isFinite(n)&&(s=n)}l.dm(),l.measure(i,s,r,o),a.width=l.measuredBounds.width+h,a.height=l.measuredBounds.height+f}},vl.prototype.arrange=function(e,t){var n=t.length,i=e.zb(),a=i.measuredBounds,r=Ue.alloc();r.h(0,0,1,1);var o=i.margin,s=o.left;o=o.top;var l=e.padding,u=l.left;l=l.top,i.arrange(u+s,l+o,a.width,a.height);var c=Fl(i),d=Ul(i),h=c.y*a.height+c.offsetY,f=d.x*a.width+d.offsetX;for(d=d.y*a.height+d.offsetY,r.x=c.x*a.width+c.offsetX,r.y=h,We(r,f,d,0,0),r.x+=s+u,r.y+=o+l,a=0;a<n;a++)s=t[a],s!==i&&(u=s.measuredBounds,o=s.margin,l=Math.max(u.width+o.right+o.left,0),c=Math.max(u.height+o.top+o.bottom,0),h=s.alignment,h.Kb()&&(h=e.defaultAlignment),h.gb()||(h=ft),l=r.width*h.x+h.offsetX-l*h.x+o.left+r.x,o=r.height*h.y+h.offsetY-c*h.y+o.top+r.y,s.visible&&(Ke(r.x,r.y,r.width,r.height,l,o,u.width,u.height)?s.arrange(l,o,u.width,u.height):s.arrange(l,o,u.width,u.height,new Ue(r.x,r.y,r.width,r.height))));Ue.free(r)},f(yl,hl),yl.prototype.measure=function(e,t,n,i,a,r,o){for(var s=i.length,l=O(),u=O(),c=0;c<s;c++){var d=i[c],h=d instanceof Tl?d:null;if(null===h||h.type!==Tl.TableRow&&h.type!==Tl.TableColumn||!d.visible)l.push(d);else{u.push(h);for(var f=h.Y.j,p=f.length,m=0;m<p;m++){var g=f[m];h.type===Tl.TableRow?g.row=d.row:h.type===Tl.TableColumn&&(g.column=d.column),l.push(g)}}}s=l.length,0===s&&(e.getRowDefinition(0),e.getColumnDefinition(0));for(var v=[],y=0;y<s;y++){var b=l[y];ms(b,!0),vs(b,!0),v[b.row]||(v[b.row]=[]),v[b.row][b.column]||(v[b.row][b.column]=[]),v[b.row][b.column].push(b)}M(l);var A=O(),w=O(),x=O(),C={count:0},k={count:0},S=t,T=n,N=e.sb;s=N.length;for(var I=0;I<s;I++){var D=N[I];void 0!==D&&(D.actual=0)}N=e.nb,s=N.length;for(var P=0;P<s;P++)D=N[P],void 0!==D&&(D.actual=0);for(var L=v.length,E=0,R=0;R<L;R++)v[R]&&(E=Math.max(E,v[R].length));var j=Math.min(e.topIndex,L-1),B=Math.min(e.leftIndex,E-1),_=0;L=v.length;for(var V=Ol(e),F=0;F<L;F++)if(v[F]){E=v[F].length;for(var U=e.getRowDefinition(F),q=U.actual=0;q<E;q++)if(v[F][q]){var z=e.getColumnDefinition(q);void 0===A[q]&&(z.actual=0,A[q]=!0);for(var Q=v[F][q],$=Q.length,H=0;H<$;H++){var G=Q[H];if(G.visible||G===V){var Y=G.rowSpan>1||G.columnSpan>1;Y&&(F<j||q<B||w.push(G));var W=G.margin,K=W.right+W.left,J=W.top+W.bottom,X=ss(G,U,z,!1),Z=G.desiredSize,ee=!isNaN(Z.height),te=!isNaN(Z.width)&&ee;if(Y||X===Zr||te||F<j||q<B||(void 0!==C[q]||X!==Xr&&X!==no||(C[q]=-1,C.count++),void 0!==k[F]||X!==Xr&&X!==io||(k[F]=-1,k.count++),x.push(G)),G.measure(1/0,1/0,0,0),!(F<j||q<B)){var ne=G.measuredBounds,ie=Math.max(ne.width+K,0),ae=Math.max(ne.height+J,0);if(1===G.rowSpan&&(X===Zr||X===no)){D=e.getRowDefinition(F);var re=D.tc();_=Math.max(ae-D.actual,0),_+re>T&&(_=Math.max(T-re,0));var oe=0===D.actual;D.actual=D.actual+_,T=Math.max(T-(_+(oe?re:0)),0)}if(1===G.columnSpan&&(X===Zr||X===io)){D=e.getColumnDefinition(q);var se=D.tc();_=Math.max(ie-D.actual,0),_+se>S&&(_=Math.max(S-se,0));var le=0===D.actual;D.actual=D.actual+_,S=Math.max(S-(_+(le?se:0)),0)}Y&&G.dm()}}}}}M(A);var ue=0,ce=0;s=e.columnCount;for(var de=0;de<s;de++){var he=e.nb[de];void 0!==he&&(ue+=he.ka,0!==he.ka&&(ue+=he.tc()))}s=e.rowCount;for(var fe=0;fe<s;fe++){var pe=e.sb[fe];void 0!==pe&&(ce+=pe.ka,0!==pe.ka&&(ce+=pe.tc()))}S=Math.max(t-ue,0);var me=T=Math.max(n-ce,0),ge=S;s=x.length;for(var ve=0;ve<s;ve++){var ye=x[ve],be=e.getRowDefinition(ye.row),Ae=e.getColumnDefinition(ye.column),we=ye.measuredBounds,xe=ye.margin,Ce=xe.right+xe.left,ke=xe.top+xe.bottom;C[ye.column]=0===Ae.actual&&void 0!==C[ye.column]?Math.max(we.width+Ce,C[ye.column]):null,k[ye.row]=0===be.actual&&void 0!==k[ye.row]?Math.max(we.height+ke,k[ye.row]):null}var Se,Te=0,Ne=0;for(Se in k)"count"!==Se&&(Te+=k[Se]);for(Se in C)"count"!==Se&&(Ne+=C[Se]);for(var Ie=Be.alloc(),De=0;De<s;De++){var Pe=x[De];if(Pe.visible||Pe===V){var Le=e.getRowDefinition(Pe.row),Oe=e.getColumnDefinition(Pe.column),Me=0;isFinite(Oe.width)?Me=Oe.width:(Me=isFinite(S)&&null!==C[Pe.column]?0===Ne?Oe.actual+S:C[Pe.column]/Ne*ge:null!==C[Pe.column]?S:Oe.actual||S,Me=Math.max(0,Me-Oe.tc()));var Ee=0;switch(isFinite(Le.height)?Ee=Le.height:(Ee=isFinite(T)&&null!==k[Pe.row]?0===Te?Le.actual+T:k[Pe.row]/Te*me:null!==k[Pe.row]?T:Le.actual||T,Ee=Math.max(0,Ee-Le.tc())),Ie.h(Math.max(Oe.minimum,Math.min(Me,Oe.maximum)),Math.max(Le.minimum,Math.min(Ee,Le.maximum))),X=ss(Pe,Le,Oe,!1),X){case no:Ie.height=Math.max(Ie.height,Le.actual+T);break;case io:Ie.width=Math.max(Ie.width,Oe.actual+S)}var Re=Pe.margin,je=Re.right+Re.left,_e=Re.top+Re.bottom;Pe.dm(),Pe.measure(Ie.width,Ie.height,Oe.minimum,Le.minimum);var Ve=Pe.measuredBounds,Fe=Math.max(Ve.width+je,0),Ue=Math.max(Ve.height+_e,0);isFinite(S)&&(Fe=Math.min(Fe,Ie.width)),isFinite(T)&&(Ue=Math.min(Ue,Ie.height));var qe=0;qe=Le.actual,Le.actual=Math.max(Le.actual,Ue),_=Le.actual-qe,T=Math.max(T-_,0),qe=Oe.actual,Oe.actual=Math.max(Oe.actual,Fe),_=Oe.actual-qe,S=Math.max(S-_,0)}}M(x);var ze=Be.alloc(),Qe=O(),$e=O();if(s=w.length,0!==s)for(var He=0;He<L;He++)if(v[He]){E=v[He].length;var Ge=e.getRowDefinition(He);Qe[He]=Ge.actual;for(var Ye=0;Ye<E;Ye++)if(v[He][Ye]){var We=e.getColumnDefinition(Ye);$e[Ye]=We.actual}}for(var Ke=0;Ke<s;Ke++){var Je=w[Ke];if(Je.visible||Je===V){var Xe=e.getRowDefinition(Je.row),Ze=e.getColumnDefinition(Je.column);switch(Ie.h(Math.max(Ze.minimum,Math.min(t,Ze.maximum)),Math.max(Xe.minimum,Math.min(n,Xe.maximum))),X=ss(Je,Xe,Ze,!1),X){case Xr:0!==$e[Ze.index]&&(Ie.width=Math.min(Ie.width,$e[Ze.index])),0!==Qe[Xe.index]&&(Ie.height=Math.min(Ie.height,Qe[Xe.index]));break;case no:0!==$e[Ze.index]&&(Ie.width=Math.min(Ie.width,$e[Ze.index]));break;case io:0!==Qe[Xe.index]&&(Ie.height=Math.min(Ie.height,Qe[Xe.index]))}isFinite(Ze.width)&&(Ie.width=Ze.width),isFinite(Xe.height)&&(Ie.height=Xe.height),ze.h(0,0);for(var et=1;et<Je.rowSpan&&!(Je.row+et>=e.rowCount);et++)D=e.getRowDefinition(Je.row+et),_=0,_=X===Xr||X===io?Math.max(D.minimum,0===Qe[Je.row+et]?D.maximum:Math.min(Qe[Je.row+et],D.maximum)):Math.max(D.minimum,isNaN(D.Pc)?D.maximum:Math.min(D.Pc,D.maximum)),ze.height+=_;for(var tt=1;tt<Je.columnSpan&&!(Je.column+tt>=e.columnCount);tt++)D=e.getColumnDefinition(Je.column+tt),_=0,_=X===Xr||X===no?Math.max(D.minimum,0===$e[Je.column+tt]?D.maximum:Math.min($e[Je.column+tt],D.maximum)):Math.max(D.minimum,isNaN(D.Pc)?D.maximum:Math.min(D.Pc,D.maximum)),ze.width+=_;Ie.width+=ze.width,Ie.height+=ze.height;var nt=Je.margin,it=nt.right+nt.left,at=nt.top+nt.bottom;Je.measure(Ie.width,Ie.height,r,o);for(var rt=Je.measuredBounds,ot=Math.max(rt.width+it,0),st=Math.max(rt.height+at,0),lt=0,ut=0;ut<Je.rowSpan&&!(Je.row+ut>=e.rowCount);ut++)D=e.getRowDefinition(Je.row+ut),lt+=D.total||0;if(lt<st){var ct=st-lt,dt=st-lt;if(null!==Je.spanAllocation)for(var ht=Je.spanAllocation,ft=0;ft<Je.rowSpan&&!(ct<=0)&&!(Je.row+ft>=e.rowCount);ft++){D=e.getRowDefinition(Je.row+ft);var pt=D.ka||0,mt=ht(Je,D,dt);D.actual=Math.min(D.maximum,pt+mt),D.ka!==pt&&(ct-=D.ka-pt)}for(;ct>0;){var gt=D.ka||0;if(isNaN(D.height)&&D.maximum>gt&&(D.actual=Math.min(D.maximum,gt+ct),D.ka!==gt&&(ct-=D.ka-gt)),0===D.index)break;D=e.getRowDefinition(D.index-1)}}for(var vt=0,yt=0;yt<Je.columnSpan&&!(Je.column+yt>=e.columnCount);yt++)D=e.getColumnDefinition(Je.column+yt),vt+=D.total||0;if(vt<ot){var bt=ot-vt,At=ot-vt;if(null!==Je.spanAllocation)for(var wt=Je.spanAllocation,xt=0;xt<Je.columnSpan&&!(bt<=0)&&!(Je.column+xt>=e.columnCount);xt++){D=e.getColumnDefinition(Je.column+xt);var Ct=D.ka||0,kt=wt(Je,D,At);D.actual=Math.min(D.maximum,Ct+kt),D.ka!==Ct&&(bt-=D.ka-Ct)}for(;bt>0;){var St=D.ka||0;if(isNaN(D.width)&&D.maximum>St&&(D.actual=Math.min(D.maximum,St+bt),D.ka!==St&&(bt-=D.ka-St)),0===D.index)break;D=e.getColumnDefinition(D.index-1)}}}}M(w),Be.free(ze),Be.free(Ie),void 0!==Qe&&M(Qe),void 0!==$e&&M($e);var Tt=0,Nt=0,It=e.desiredSize,Dt=e.maxSize;X=os(e,!0);var Pt=ce=ue=0,Lt=0;s=e.columnCount;for(var Ot=0;Ot<s;Ot++)void 0!==e.nb[Ot]&&(D=e.getColumnDefinition(Ot),isFinite(D.width)?(Pt+=D.width,Pt+=D.tc()):nu(D)===au?(Pt+=D.ka,Pt+=D.tc()):0!==D.ka&&(ue+=D.ka,ue+=D.tc()));Tt=isFinite(It.width)?Math.min(It.width,Dt.width):X!==Zr&&isFinite(t)?t:ue,Tt=Math.max(Tt,e.minSize.width),Tt=Math.max(Tt-Pt,0);for(var Mt=0===ue?1:Math.max(Tt/ue,1),Et=0;Et<s;Et++)void 0!==e.nb[Et]&&(D=e.getColumnDefinition(Et),isFinite(D.width)||nu(D)===au||(D.actual=D.ka*Mt),D.position=a.width,0!==D.ka&&(a.width+=D.ka,a.width+=D.tc()));s=e.rowCount;for(var Rt=0;Rt<s;Rt++)void 0!==e.sb[Rt]&&(D=e.getRowDefinition(Rt),isFinite(D.height)?(Lt+=D.height,Lt+=D.tc()):nu(D)===au?(Lt+=D.ka,Lt+=D.tc()):0!==D.ka&&(ce+=D.ka,0!==D.ka&&(ce+=D.tc())));Nt=isFinite(It.height)?Math.min(It.height,Dt.height):X!==Zr&&isFinite(n)?n:ce,Nt=Math.max(Nt,e.minSize.height),Nt=Math.max(Nt-Lt,0);for(var jt=0===ce?1:Math.max(Nt/ce,1),Bt=0;Bt<s;Bt++)void 0!==e.sb[Bt]&&(D=e.getRowDefinition(Bt),isFinite(D.height)||nu(D)===au||(D.actual=D.ka*jt),D.position=a.height,0!==D.ka&&(a.height+=D.ka,0!==D.ka&&(a.height+=D.tc())));s=u.length;for(var _t=0;_t<s;_t++){var Vt=u[_t],Ft=0,Ut=0;Vt.type===Tl.TableRow?(Ft=a.width,D=e.getRowDefinition(Vt.row),Ut=D.actual):(D=e.getColumnDefinition(Vt.column),Ft=D.actual,Ut=a.height),Vt.measuredBounds.h(0,0,Ft,Ut),ms(Vt,!1),v[Vt.row]||(v[Vt.row]=[]),v[Vt.row][Vt.column]||(v[Vt.row][Vt.column]=[]),v[Vt.row][Vt.column].push(Vt)}M(u),e.cp=v},yl.prototype.arrange=function(e,t,n){var i=t.length,a=e.padding,r=a.left;a=a.top;for(var o,s,l=e.cp,u=l.length,c=0,d=0;d<u;d++)l[d]&&(c=Math.max(c,l[d].length));for(d=Math.min(e.topIndex,u-1);d!==u&&(void 0===e.sb[d]||0===e.sb[d].ka);)d++;for(d=Math.min(d,u-1),d=-e.sb[d].position,o=Math.min(e.leftIndex,c-1);o!==c&&(void 0===e.nb[o]||0===e.nb[o].ka);)o++;o=Math.min(o,c-1);for(var h=-e.nb[o].position,f=Be.alloc(),p=0;p<u;p++)if(l[p]){c=l[p].length;var m=e.getRowDefinition(p);s=m.position+d+a,0!==m.ka&&(s+=m.Nu());for(var g=0;g<c;g++)if(l[p][g]){var v=e.getColumnDefinition(g);o=v.position+h+r,0!==v.ka&&(o+=v.Nu());for(var y=l[p][g],b=y.length,A=0;A<b;A++){var w=y[A],x=w.measuredBounds,C=w instanceof Tl?w:null;if(null===C||C.type!==Tl.TableRow&&C.type!==Tl.TableColumn){f.h(0,0);for(var k=1;k<w.rowSpan&&!(p+k>=e.rowCount);k++)C=e.getRowDefinition(p+k),f.height+=C.total;for(k=1;k<w.columnSpan&&!(g+k>=e.columnCount);k++)C=e.getColumnDefinition(g+k),f.width+=C.total;var S=v.ka+f.width,T=m.ka+f.height;k=o,C=s;var N=S,I=T,D=o,P=s,L=S,O=T;o+S>n.width&&(L=Math.max(n.width-o,0)),s+T>n.height&&(O=Math.max(n.height-s,0));var M=w.alignment;if(M.Kb()){M=e.defaultAlignment,M.gb()||(M=ft);var E=M.x,R=M.y,j=M.offsetX;M=M.offsetY;var B=v.alignment,_=m.alignment;B.gb()&&(E=B.x,j=B.offsetX),_.gb()&&(R=_.y,M=_.offsetY)}else E=M.x,R=M.y,j=M.offsetX,M=M.offsetY;(isNaN(E)||isNaN(R))&&(R=E=.5,M=j=0),B=x.width,_=x.height;var V=w.margin,F=V.left+V.right,U=V.top+V.bottom,q=ss(w,m,v,!1);!isNaN(w.desiredSize.width)||q!==Xr&&q!==no||(B=Math.max(S-F,0)),!isNaN(w.desiredSize.height)||q!==Xr&&q!==io||(_=Math.max(T-U,0)),S=w.maxSize,T=w.minSize,B=Math.min(S.width,B),_=Math.min(S.height,_),B=Math.max(T.width,B),_=Math.max(T.height,_),S=_+U,k+=N*E-(B+F)*E+j+V.left,C+=I*R-S*R+M+V.top,w.visible&&(Ke(D,P,L,O,k,C,x.width,x.height)?w.arrange(k,C,B,_):w.arrange(k,C,B,_,new Ue(D,P,L,O)))}else w.fl(),w.actualBounds.ha(),N=w.actualBounds,k=Ue.allocAt(N.x,N.y,N.width,N.height),N.x=C.type===Tl.TableRow?r:o,N.y=C.type===Tl.TableColumn?a:s,N.width=x.width,N.height=x.height,w.actualBounds.freeze(),vs(w,!1),$e(k,N)||(x=w.part,null!==x&&(x.yh(),w.Do(x))),Ue.free(k)}}}for(Be.free(f),e=0;e<i;e++)n=t[e],r=n instanceof Tl?n:null,null===r||r.type!==Tl.TableRow&&r.type!==Tl.TableColumn||(r=n.actualBounds,n.naturalBounds.ha(),n.naturalBounds.h(0,0,r.width,r.height),n.naturalBounds.freeze())},f(bl,hl),bl.prototype.measure=function(){},bl.prototype.arrange=function(){},f(Al,hl),Al.prototype.measure=function(){},Al.prototype.arrange=function(){},f(wl,hl),wl.prototype.measure=function(e,t,n,i,a,r,o){i.length>1&&x("Viewbox Panel cannot contain more than one GraphObject."),i=i[0],i.Ca=1,i.dm(),i.measure(1/0,1/0,r,o);var s=i.measuredBounds,l=i.margin,u=l.right+l.left;if(l=l.top+l.bottom,isFinite(t)||isFinite(n)){var c=i.scale,d=s.width;s=s.height;var h=Math.max(t-u,0),f=Math.max(n-l,0),p=1;e.viewboxStretch===eo?0!==d&&0!==s&&(p=Math.min(h/d,f/s)):0!==d&&0!==s&&(p=Math.max(h/d,f/s)),0===p&&(p=1e-4),i.Ca*=p,c!==i.scale&&(ms(i,!0),i.measure(1/0,1/0,r,o))}s=i.measuredBounds,a.width=isFinite(t)?t:Math.max(s.width+u,0),a.height=isFinite(n)?n:Math.max(s.height+l,0)},wl.prototype.arrange=function(e,t,n){t=t[0];var i=t.measuredBounds,a=t.margin,r=Math.max(i.width+(a.right+a.left),0);a=Math.max(i.height+(a.top+a.bottom),0);var o=t.alignment;o.Kb()&&(o=e.defaultAlignment),o.gb()||(o=ft),t.arrange(n.width*o.x-r*o.x+o.offsetX,n.height*o.y-a*o.y+o.offsetY,i.width,i.height)},f(xl,hl),xl.prototype.measure=function(){},xl.prototype.arrange=function(){},f(Cl,hl),Cl.prototype.measure=function(e,t,n,i,a){if(n=i.length,e instanceof Oc||e instanceof id){var r=null,o=null,s=null;if(e instanceof id&&(o=r=e),e instanceof Oc&&(s=e,r=s.adornedPart),r instanceof id){var l=r;if(0===n)qe(e.naturalBounds,0,0),e.measuredBounds.h(0,0,0,0);else{var u=e instanceof Oc?null:r.path,c=r.routeBounds;t=e.hg,t.h(0,0,c.width,c.height);var d=l.points;r=r.pointsCount,null!==s?s.gk(!1):null!==o&&o.gk(!1);var h=c.width,f=c.height;e.location.h(c.x,c.y),e.l.length=0,null!==u&&(kl(e,h,f,u),s=u.measuredBounds,t.Jc(s),e.l.push(s)),s=st.alloc();for(var p=ge.alloc(),m=ge.alloc(),g=0;g<n;g++){var v=i[g];if(v!==u)if(v.isPanelMain&&v instanceof ou){kl(e,h,f,v);var y=v.measuredBounds;t.Jc(y),e.l.push(y)}else if(r<2)v.measure(1/0,1/0,0,0),y=v.measuredBounds,t.Jc(y),e.l.push(y);else{var b=v.segmentIndex;y=v.segmentFraction;var A=v.alignmentFocus;A.jc()&&(A=ft);var w=v.segmentOrientation,x=v.segmentOffset;if(b<-r||b>=r){y=l.midPoint;var C=l.midAngle;if(w!==Id){var k=l.computeAngle(v,w,C);v.zc=k}k=y.x-c.x;var S=y.y-c.y}else{if(k=0,b>=0){S=d.N(b);var T=b<r-1?d.N(b+1):S}else k=r+b,S=d.N(k),T=k>0?d.N(k-1):S;if(S.Qa(T)){b>=0?(C=b>0?d.N(b-1):S,k=b<r-2?d.N(b+2):T):(C=k<r-1?d.N(k+1):S,k=k>1?d.N(k-2):T);var N=C.Be(S),I=T.Be(k);C=N>I+10?b>=0?C.Wa(S):S.Wa(C):I>N+10?b>=0?T.Wa(k):k.Wa(T):b>=0?C.Wa(k):k.Wa(C)}else C=b>=0?S.Wa(T):T.Wa(S);w!==Id&&(k=l.computeAngle(v,w,C),v.zc=k),k=S.x+(T.x-S.x)*y-c.x,S=S.y+(T.y-S.y)*y-c.y}v.measure(1/0,1/0,0,0),y=v.measuredBounds,I=v.naturalBounds,N=0,v instanceof ou&&(N=v.strokeWidth),T=I.width+N,I=I.height+N,s.reset(),s.translate(-y.x,-y.y),s.scale(v.scale,v.scale),s.rotate(w===Id?v.angle:C,T/2,I/2),w!==jd&&w!==Fd||s.rotate(90,T/2,I/2),w!==Bd&&w!==Ud||s.rotate(-90,T/2,I/2),w===qd&&(C>45&&C<135||C>225&&C<315)&&s.rotate(-C,T/2,I/2),w=new Ue(0,0,T,I),p.Ti(w,A),s.ta(p),A=-p.x+N/2*v.scale,v=-p.y+N/2*v.scale,m.assign(x),isNaN(m.x)&&(m.x=b>=0?T/2+3:-(T/2+3)),isNaN(m.y)&&(m.y=-(I/2+3)),m.rotate(C),k+=m.x,S+=m.y,w.set(y),w.h(k+A,S+v,y.width,y.height),e.l.push(w),t.Jc(w)}}if(null!==o)for(i=o.labelNodes;i.next();)i.value.measure(1/0,1/0);e.hg=t,e=e.location,e.h(e.x+t.x,e.y+t.y),qe(a,t.width||0,t.height||0),st.free(s),ge.free(p),ge.free(m)}}}},Cl.prototype.arrange=function(e,t){var n=t.length;if(e instanceof Oc||e instanceof id){var i=null,a=null,r=null;e instanceof id&&(a=i=e),e instanceof Oc&&(r=e,i=r.adornedPart);var o=e instanceof Oc?null:i.path;if(0!==e.l.length){var s=e.l,l=0;if(null!==o&&l<e.l.length){var u=s[l];l++,o.arrange(u.x-e.hg.x,u.y-e.hg.y,u.width,u.height)}for(u=0;u<n;u++){var c=t[u];if(c!==o&&l<e.l.length){var d=s[l];l++,c.arrange(d.x-e.hg.x,d.y-e.hg.y,d.width,d.height)}}}if(t=i.points,n=t.count,n>=2&&e instanceof id)for(i=e.labelNodes;i.next();){d=e,o=i.value,s=o.segmentIndex;var h=o.segmentFraction;u=o.alignmentFocus;var f=o.segmentOrientation;if(l=o.segmentOffset,s<-n||s>=n){var p=d.midPoint;c=d.midAngle,f!==Id&&(d=d.computeAngle(o,f,c),o.angle=d),d=p.x;var m=p.y}else{var g=0;if(s>=0?(m=t.j[s],p=s<n-1?t.j[s+1]:m):(g=n+s,m=t.j[g],p=g>0?t.j[g-1]:m),m.Qa(p)){s>=0?(c=s>0?t.j[s-1]:m,g=s<n-2?t.j[s+2]:p):(c=g<n-1?t.j[g+1]:m,g=g>1?t.j[g-2]:p);var v=c.Be(m),y=p.Be(g);c=v>y+10?s>=0?c.Wa(m):m.Wa(c):y>v+10?s>=0?p.Wa(g):g.Wa(p):s>=0?c.Wa(g):g.Wa(c)}else c=s>=0?m.Wa(p):p.Wa(m);f!==Id&&(d=d.computeAngle(o,f,c),o.angle=d),d=m.x+(p.x-m.x)*h,m=m.y+(p.y-m.y)*h}u.et()?o.location=new ge(d,m):(u.jc()&&(u=ft),p=st.alloc(),p.reset(),p.scale(o.scale,o.scale),p.rotate(o.angle,0,0),h=o.naturalBounds,h=Ue.allocAt(0,0,h.width,h.height),f=ge.alloc(),f.Ti(h,u),p.ta(f),u=-f.x,g=-f.y,l=l.copy(),isNaN(l.x)&&(l.x=s>=0?f.x+3:-(f.x+3)),isNaN(l.y)&&(l.y=-(f.y+3)),l.rotate(c),d+=l.x,m+=l.y,p.Uv(h),u+=h.x,g+=h.y,s=ge.allocAt(d+u,m+g),o.move(s),ge.free(s),ge.free(f),Ue.free(h),st.free(p))}null!==r?r.gk(!1):null!==a&&a.gk(!1)}},f(Sl,hl),Sl.prototype.measure=function(e,t,n,i,a,r,o){var s=e.zb();e.hj=[];var l=s.margin,u=l.right+l.left,c=l.top+l.bottom;s.measure(t,n,r,o);var d=s.measuredBounds,h=new Ue(-l.left,-l.top,Math.max(d.width+u,0),Math.max(d.height+c,0));e.hj.push(h),a.assign(h);for(var f=s.geometry,p=s.strokeWidth,m=f.flattenedSegments,g=f.flattenedLengths,v=f.flattenedTotalLength,y=m.length,b=0,A=0,w=O(),x=0;x<y;x++){var C=m[x],k=[];A=b=0;for(var S=C.length,T=0;T<S;T+=2){var N=C[T],I=C[T+1];if(0!==T){var D=180*Math.atan2(I-A,N-b)/Math.PI;D<0&&(D+=360),k.push(D)}b=N,A=I}w.push(k)}if(null===e.Mg){for(var P=[],L=e.Y.j,E=L.length,R=0;R<E;R++){var j=L[R],B=[];if(P.push(B),j.visible)for(var _=j.interval,V=0;V<E;V++){var F=L[V];if(F.visible&&j!==F&&!(j instanceof ou&&!(F instanceof ou)||j instanceof gu&&!(F instanceof gu))){var U=F.interval;U>_&&B.push(U)}}}e.Mg=P}var q=e.Mg,z=e.Y.j,Q=z.length,$=0,H=0,G=v;e.jj=[];for(var Y,W=0;W<Q;W++){var K=z[W];if(Y=[],K.visible&&K!==s){var J=K.interval,X=e.graduatedTickUnit;if(!(X*J*v/e.graduatedRange<2)){var Z=g[0][0],ee=0,te=0;H=v*K.graduatedStart-1e-4,G=v*K.graduatedEnd+1e-4;var ne=X*J,ie=e.graduatedTickBase;if(ie<e.graduatedMin){var ae=(e.graduatedMin-ie)/ne;ae=ae%1===0?ae:Math.floor(ae+1),ie+=ae*ne}else ie>e.graduatedMin+ne&&(ie-=Math.floor((ie-e.graduatedMin)/ne)*ne);for(var re=q[W];ie<=e.graduatedMax;){e:{for(var oe=re.length,se=0;se<oe;se++)if(Kt.ca((ie-e.graduatedTickBase)%(re[se]*e.graduatedTickUnit),0)){var le=!1;break e}le=!0}if(le&&(null===K.graduatedSkip||!K.graduatedSkip(ie))&&($=(ie-e.graduatedMin)*v/e.graduatedRange,$>v&&($=v),H<=$&&$<=G)){for(var ue=w[ee][te],ce=g[ee][te];ee<g.length;){for(;$>Z&&te<g[ee].length-1;)te++,ue=w[ee][te],ce=g[ee][te],Z+=ce;if($<=Z)break;ee++,te=0,ue=w[ee][te],ce=g[ee][te],Z+=ce}var de=m[ee],he=de[2*te],fe=de[2*te+1],pe=($-(Z-ce))/ce,me=new ge(he+(de[2*te+2]-he)*pe+p/2-f.bounds.x,fe+(de[2*te+3]-fe)*pe+p/2-f.bounds.y);me.scale(s.scale,s.scale);var ve=ue,ye=w[ee];if(pe<1e-4?te>0?ve=ye[te-1]:Kt.ca(de[0],de[de.length-2])&&Kt.ca(de[1],de[de.length-1])&&(ve=ye[ye.length-1]):pe>.9999&&(te+1<ye.length?ve=ye[te+1]:Kt.ca(de[0],de[de.length-2])&&Kt.ca(de[1],de[de.length-1])&&(ve=ye[0])),ue!==ve&&(Math.abs(ue-ve)>180&&(ue<ve?ue+=360:ve+=360),ue=(ue+ve)/2%360),K instanceof gu){var be="";null!==K.graduatedFunction?(be=K.graduatedFunction(ie),be=null!==be&&void 0!==be?be.toString():""):be=(+ie.toFixed(2)).toString(),""!==be&&Y.push([me,ue,be])}else Y.push([me,ue])}ie+=ne}}}e.jj.push(Y)}M(w);for(var Ae=e.jj,we=i.length,xe=0;xe<we;xe++){var Ce=i[xe],ke=Ae[xe];if(Ce.visible&&Ce!==s&&0!==ke.length){if(Ce instanceof ou){var Se=e,Te=a,Ne=Ce.alignmentFocus;Ne.jc()&&(Ne=ct);var Ie=Ce.angle;Ce.zc=0,Ce.measure(1/0,1/0,0,0),Ce.zc=Ie;var De=Ce.measuredBounds,Pe=De.width,Le=De.height,Oe=Ue.allocAt(0,0,Pe,Le),Me=ge.alloc();Me.Ti(Oe,Ne),Ue.free(Oe);for(var Ee=-Me.x,Re=-Me.y,je=new Ue,Be=ke.length,_e=0;_e<Be;_e++)for(var Ve=ke[_e],Fe=Ve[0].x,qe=Ve[0].y,ze=Ve[1],Qe=0;Qe<4;Qe++){switch(Qe){case 0:Me.h(Ee,Re);break;case 1:Me.h(Ee+Pe,Re);break;case 2:Me.h(Ee,Re+Le);break;case 3:Me.h(Ee+Pe,Re+Le)}Me.rotate(ze+Ce.angle),Me.offset(Fe,qe),0===_e&&0===Qe?je.h(Me.x,Me.y,0,0):je.Ie(Me),Me.offset(-Fe,-qe),Me.rotate(-ze-Ce.angle)}ge.free(Me),Se.hj.push(je),We(Te,je.x,je.y,je.width,je.height)}else if(Ce instanceof gu){var $e=e,He=a;null===$e.kh&&($e.kh=new gu);var Ge=$e.kh;vu(Ge,Ce);var Ye=Ce.alignmentFocus;Ye.jc()&&(Ye=ct);for(var Ke=Ce.segmentOrientation,Je=Ce.segmentOffset,Xe=null,Ze=0,et=0,tt=0,nt=0,it=ke.length,at=0;at<it;at++){var rt=ke[at];Ze=rt[0].x,et=rt[0].y,tt=rt[1],Ke!==Id&&(nt=id.computeAngle(Ke,tt),Ge.zc=nt),Ge.text=rt[2],Ge.measure(1/0,1/0,0,0);var ot=Ge.measuredBounds,lt=Ge.naturalBounds,ut=lt.width,dt=lt.height,ht=st.alloc();ht.reset(),ht.translate(-ot.x,-ot.y),ht.scale(Ge.scale,Ge.scale),ht.rotate(Ke===Id?Ge.angle:tt,ut/2,dt/2),Ke!==jd&&Ke!==Fd||ht.rotate(90,ut/2,dt/2),Ke!==Bd&&Ke!==Ud||ht.rotate(-90,ut/2,dt/2),Ke===qd&&(tt>45&&tt<135||tt>225&&tt<315)&&ht.rotate(-tt,ut/2,dt/2);var ft=Ue.allocAt(0,0,ut,dt),pt=ge.alloc();pt.Ti(ft,Ye),ht.ta(pt);var mt=-pt.x,gt=-pt.y,vt=ge.alloc();vt.assign(Je),isNaN(vt.x)&&(vt.x=ut/2+3),isNaN(vt.y)&&(vt.y=-(dt/2+3)),vt.rotate(tt),Ze+=vt.x+mt,et+=vt.y+gt;var yt=new Ue(Ze,et,ot.width,ot.height),bt=new Ue(ot.x,ot.y,ot.width,ot.height),At=new Ue(lt.x,lt.y,lt.width,lt.height),wt=new qu;wt.Vl(Ge.metrics),rt.push(nt),rt.push(Ge.lineCount),rt.push(wt),rt.push(yt),rt.push(bt),rt.push(At),0===at?Xe=yt.copy():Xe.Jc(yt),ge.free(vt),ge.free(pt),Ue.free(ft),st.free(ht)}$e.hj.push(Xe),We(He,Xe.x,Xe.y,Xe.width,Xe.height)}ms(Ce,!1)}}},Sl.prototype.arrange=function(e,t,n){if(null!==e.hj){var i=e.zb(),a=e.jj,r=e.hj,o=0,s=r[o];o++,i.arrange(s.x-n.x,s.y-n.y,s.width,s.height);for(var l=t.length,u=0;u<l;u++){var c=t[u];s=a[u],c.visible&&c!==i&&0!==s.length&&(s=r[o],o++,c.arrange(s.x-n.x,s.y-n.y,s.width,s.height))}e.hj=null}},f(Tl,Yo),Tl.prototype.cloneProtected=function(e){if(Yo.prototype.cloneProtected.call(this,e),e.va=this.va,e.eb=this.eb.I(),e.nn=this.nn.I(),e.Df=this.Df,e.va===Tl.Table){e.dj=this.dj.I(),e.Gg=this.Gg,e.Vh=this.Vh,e.Uh=this.Uh,e.Fg=this.Fg,e.Eg=this.Eg,e.Th=this.Th;var t=[];if(this.sb.length>0)for(var n=this.sb,i=n.length,a=0;a<i;a++)if(void 0!==n[a]){var r=n[a].copy();r.Si(e),t[a]=r}if(e.sb=t,t=[],this.nb.length>0)for(n=this.nb,i=n.length,a=0;a<i;a++)void 0!==n[a]&&(r=n[a].copy(),r.Si(e),t[a]=r);e.nb=t,e.Fj=this.Fj,e.bj=this.bj,e.wi=this.wi,e.gi=this.gi}e.Fp=this.Fp,e.Ln=this.Ln.I(),e.Mn=this.Mn.I(),e.In=this.In,e.Hn=this.Hn,e.Kn=this.Kn,e.Jn=this.Jn,e.jj=this.jj,e.Mg=this.Mg,e.jb=this.jb,e.Qh=this.Qh,e.Zn=this.Zn,e.ei=this.ei,e.je=this.je,e.gl=this.gl,e.hg.assign(this.hg),e.yg=this.yg,null!==this.cp&&(e.cp=this.cp)},Tl.prototype.mf=function(e){Yo.prototype.mf.call(this,e),e.Y=this.Y;for(var t=e.Y.j,n=t.length,i=0;i<n;i++)t[i].ag=e;e.ti=null},Tl.prototype.copy=function(){var e=Yo.prototype.copy.call(this);if(null!==e){for(var t=this.Y.j,n=t.length,i=0;i<n;i++){var a=t[i].copy();a.Si(e),a.Aj=null;var r=e.Y,o=r.count;if(r.Ib(o,a),r=e.part,null!==r){r.vj=null,null!==a.portId&&r instanceof Mc&&(r.xh=!0);var s=e.diagram;null!==s&&s.undoManager.isUndoingRedoing||r.ab(Nn,"elements",e,null,a,null,o)}}return e}return null},n=Tl.prototype,n.toString=function(){return"Panel("+this.type+")#"+le(this)},n.Do=function(e){Yo.prototype.Do.call(this,e);for(var t=this.Y.j,n=t.length,i=0;i<n;i++)t[i].Do(e)},n.Ci=function(e,t){if(this.va===Tl.Grid){t=this.Ce()*t.scale,t<=0&&(t=1);var n=this.gridCellSize,i=n.width;n=n.height;var a=this.naturalBounds,r=this.actualBounds,o=a.width,s=a.height,l=Math.ceil(o/i),u=Math.ceil(s/n),c=this.gridOrigin;e.save(),e.beginPath(),e.rect(0,0,o,s),e.clip();for(var d=[],h=this.Y.j,f=h.length,p=0;p<f;p++){var m=h[p],g=[];if(d.push(g),m.visible){m=Ll(m.figure);for(var v=p+1;v<f;v++){var y=h[v];y.visible&&Ll(y.figure)===m&&(y=y.interval,y>=2&&g.push(y))}}}for(h=this.Y.j,f=h.length,p=0;p<f;p++){var b=h[p];if(b.visible&&(g=b.interval,!(i*g*t<2))){if(m=b.opacity,v=1,1!==m){if(0===m)continue;v=e.globalAlpha,e.globalAlpha=v*m}y=d[p];var A=!1,w=b.strokeDashArray;if(null!==w&&(A=!0,e.Ps(w,b.strokeDashOffset)),"LineV"===b.figure&&null!==b.stroke){for(e.lineWidth=b.strokeWidth,ns(this,e,b.stroke,!1,!1,a,r),e.beginPath(),w=b=Math.floor(-c.x/i);w<=b+l;w++){var x=w*i+c.x;x>=0&&x<=o&&Pl(w,g,y)&&(e.moveTo(x,0),e.lineTo(x,s))}e.stroke()}else if("LineH"===b.figure&&null!==b.stroke){for(e.lineWidth=b.strokeWidth,ns(this,e,b.stroke,!1,!1,a,r),e.beginPath(),w=b=Math.floor(-c.y/n);w<=b+u;w++)x=w*n+c.y,x>=0&&x<=s&&Pl(w,g,y)&&(e.moveTo(0,x),e.lineTo(o,x));e.stroke()}else if("BarV"===b.figure&&null!==b.fill)for(ns(this,e,b.fill,!0,!1,a,r),b=b.width,isNaN(b)&&(b=i),x=w=Math.floor(-c.x/i);x<=w+l;x++){var C=x*i+c.x;C>=0&&C<=o&&Pl(x,g,y)&&e.fillRect(C,0,b,s)}else if("BarH"===b.figure&&null!==b.fill)for(ns(this,e,b.fill,!0,!1,a,r),b=b.height,isNaN(b)&&(b=n),x=w=Math.floor(-c.y/n);x<=w+u;x++)C=x*n+c.y,C>=0&&C<=s&&Pl(x,g,y)&&e.fillRect(0,C,o,b);A&&e.Ns(),1!==m&&(e.globalAlpha=v)}}e.restore(),e.Rc(!1)}else if(this.va===Tl.Graduated){for(i=t.mj,t.mj=!0,a=this.naturalBounds,n=a.width,a=a.height,e.save(),e.beginPath(),e.rect(-1,-1,n+1,a+1),e.clip(),n=this.zb(),n.hc(e,t),a=this.Ce()*t.scale,a<=0&&(a=1),r=n.actualBounds,o=this.Y.j,s=this.jj,l=o.length,u=0;u<l;u++)if(h=o[u],c=s[u],d=c.length,h.visible&&h!==n&&0!==c.length)if(h instanceof ou){if(!(this.graduatedTickUnit*h.interval*a<2))for(f=h.measuredBounds,p=h.strokeWidth*h.scale,g=h.alignmentFocus,g.jc()&&(g=ct),m=0;m<d;m++)v=c[m][0],y=c[m][1],A=g,b=h.tb,b.reset(),b.translate(v.x+r.x,v.y+r.y),b.rotate(y+h.angle,0,0),b.translate(-f.width*A.x+A.offsetX+p/2,-f.height*A.y+A.offsetY+p/2),b.scale(h.scale,h.scale),hs(h,!1),h.Dh.set(h.tb),h.Sk=h.scale,fs(h,!1),h.hc(e,t),h.tb.reset()}else if(h instanceof gu)for(null===this.kh&&(this.kh=new gu),f=this.kh,vu(f,h),h=0;h<d;h++)m=c[h],m.length>3&&(p=m[6],f.Pb=m[2],f.zc=m[3],f.oc=m[4],f.nd=m[5],f.qc=m[8],f.arrange(p.x,p.y,p.width,p.height),p=m[6],f.arrange(p.x,p.y,p.width,p.height),g=m[7],m=m[8],v=f.tb,v.reset(),v.translate(p.x+r.x,p.y+r.y),v.translate(-g.x,-g.y),as(f,v,m.x,m.y,m.width,m.height),hs(f,!1),f.Dh.set(f.tb),f.Sk=f.scale,fs(f,!1),f.hc(e,t));t.mj=i,e.restore(),e.Rc(!0)}else{for(this.va===Tl.Table&&(e.lineCap="butt",Dl(this,e,!0,this.sb,!0),Dl(this,e,!1,this.nb,!0),Il(this,e,!0,this.sb),Il(this,e,!1,this.nb),Dl(this,e,!0,this.sb,!1),Dl(this,e,!1,this.nb,!1)),(i=this.isClipping)&&e.save(),n=this.zb(),a=this.Y.j,r=a.length,o=0;o<r;o++)s=a[o],i&&s===n&&(e.clipInsteadOfFill=!0),s.hc(e,t),i&&s===n&&(e.clipInsteadOfFill=!1);i&&(e.restore(),e.Rc(!0))}},n.bk=function(e,t,n,i,a){var r=this.Zd(),o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),l=o.m22*s,u=-o.m12*s,c=-o.m21*s,d=o.m11*s,h=s*(o.m21*o.dy-o.m22*o.dx),f=s*(o.m12*o.dx-o.m11*o.dy);if(null!==this.areaBackground)return o=this.actualBounds,Kt.Tc(o.left,o.top,o.right,o.bottom,e,t,n,i,a);if(null!==this.background)return r=e*l+t*c+h,s=e*u+t*d+f,e=n*l+i*c+h,l=n*u+i*d+f,a.h(0,0),n=this.naturalBounds,r=Kt.Tc(0,0,n.width,n.height,r,s,e,l,a),a.transform(o),r;r||(l=1,c=u=0,d=1,f=h=0),s=e*l+t*c+h,e=e*u+t*d+f,l=n*l+i*c+h,n=n*u+i*d+f,a.h(l,n),i=(l-s)*(l-s)+(n-e)*(n-e),u=!1,d=this.Y.j,f=d.length,c=ge.alloc(),h=null,t=1/0;var p=null;this.isClipping&&(p=ge.alloc(),h=this.zb(),(u=h.bk(s,e,l,n,p))&&(t=(s-p.x)*(s-p.x)+(e-p.y)*(e-p.y)));for(var m=0;m<f;m++){var g=d[m];g.visible&&g!==h&&g.bk(s,e,l,n,c)&&(u=!0,g=(s-c.x)*(s-c.x)+(e-c.y)*(e-c.y),g<i&&(i=g,a.set(c)))}return this.isClipping&&(t>i&&a.set(p),ge.free(p)),ge.free(c),r&&a.transform(o),u},n.s=function(e){Yo.prototype.s.call(this,e),e=null,this.va!==Tl.Auto&&this.va!==Tl.Link||(e=this.zb());for(var t=this.Y.j,n=t.length,i=0;i<n;i++){var a=t[i];if((a===e||a.isPanelMain)&&a.s(!0),!a.desiredSize.o()){var r=os(a,!1);(a instanceof nd||a instanceof Tl||a instanceof gu||r!==Zr)&&a.s(!0)}}},n.dm=function(){if(!1===ps(this)){ms(this,!0),vs(this,!0);for(var e=this.Y.j,t=e.length,n=0;n<t;n++)e[n].dm()}},n.fl=function(){if(0!==(2048&this.H)===!1){hs(this,!0),fs(this,!0);for(var e=this.Y.j,t=e.length,n=0;n<t;n++)e[n].iv()}},n.iv=function(){fs(this,!0);for(var e=this.Y.j,t=e.length,n=0;n<t;n++)e[n].iv()},n.hm=function(e,t,n,i){var a=this.hg;a.h(0,0,0,0);var r=this.desiredSize,o=this.minSize;void 0===n&&(n=o.width,i=o.height),n=Math.max(n,o.width),i=Math.max(i,o.height);var s=this.maxSize;isNaN(r.width)||(e=Math.min(r.width,s.width)),isNaN(r.height)||(t=Math.min(r.height,s.height)),e=Math.max(n,e),t=Math.max(i,t);var l=this.eb;e=Math.max(e-l.left-l.right,0),t=Math.max(t-l.top-l.bottom,0);var u=this.Y.j;0!==u.length&&this.va.measure(this,e,t,u,a,n,i),e=a.width+l.left+l.right,l=a.height+l.top+l.bottom,isFinite(r.width)&&(e=r.width),isFinite(r.height)&&(l=r.height),e=Math.min(s.width,e),l=Math.min(s.height,l),e=Math.max(o.width,e),l=Math.max(o.height,l),e=Math.max(n,e),l=Math.max(i,l),qe(a,e,l),qe(this.naturalBounds,e,l),Xo(this,0,0,e,l)},n.zb=function(){if(null===this.ti){var e=this.Y.j,t=e.length;if(0===t)return null;for(var n=0;n<t;n++){var i=e[n];if(!0===i.isPanelMain)return this.ti=i}this.ti=e[0]}return this.ti},n.th=function(e,t,n,i){var a=this.Y.j;if(this.actualBounds.h(e,t,n,i),0!==a.length){if(!this.desiredSize.o()){e=os(this,!0);var r=this.measuredBounds;t=r.width,r=r.height;var o=this.Tg,s=o.left+o.right;switch(o=o.top+o.bottom,t===n&&r===i&&(e=Zr),e){case Zr:(t>n||r>i)&&(this.s(),this.measure(t>n?n:t,r>i?i:r,0,0));break;case Xr:this.s(!0),this.measure(n+s,i+o,0,0);break;case no:this.s(!0),this.measure(n+s,r+o,0,0);break;case io:this.s(!0),this.measure(t+s,i+o,0,0)}}this.va.arrange(this,a,this.hg)}},n.vh=function(e){var t=this.naturalBounds,n=Ol(this);if(Ke(0,0,t.width,t.height,e.x,e.y)){t=this.Y.j;for(var i=t.length,a=ge.allocAt(0,0);i--;){var r=t[i];if((r.visible||r===n)&&(Ae(a.set(e),r.transform),r.ea(a)))return ge.free(a),!0}return ge.free(a),null!==this.ib||null!==this.dc}return!1},n.Qs=function(e){if(this.Dk===e)return this;for(var t=this.Y.j,n=t.length,i=0;i<n;i++){var a=t[i].Qs(e);if(null!==a)return a}return null},n.ym=function(e,t){if(t(this,e),e instanceof Tl){e=e.Y.j;for(var n=e.length,i=0;i<n;i++)this.ym(e[i],t)}},n.Yl=function(e){return Bl(this,this,e)},n.$a=function(e){if(this.name===e)return this;var t=this.Y.j,n=t.length;null===this.ei&&null===this.je||(n=Hl(this));for(var i=0;i<n;i++){var a=t[i];if(a instanceof Tl){var r=a.$a(e);if(null!==r)return r}if(a.name===e)return a}return null},n.Zd=function(){return!(this.type===Tl.TableRow||this.type===Tl.TableColumn)},n.Sb=function(e,t,n){if(!1===this.pickable)return null;if(void 0===t&&(t=null),void 0===n&&(n=null),gs(this))return null;var i=this.naturalBounds,a=1/this.Ce(),r=this.Zd(),o=r?e:Ae(ge.allocAt(e.x,e.y),this.transform),s=this.diagram,l=10,u=5;if(null!==s&&(l=s.bm("extraTouchArea"),u=l/2),Ke(-u*a,-u*a,i.width+l*a,i.height+l*a,o.x,o.y)){if(!this.isAtomic){a=this.Y.j;var c=a.length;if(s=ge.alloc(),u=(l=this.isClipping)?this.zb():null,l&&(u.Zd()?Ae(s.set(e),u.transform):s.set(e),!u.ea(s)))return ge.free(s),r||ge.free(o),null;for(var d=Ol(this);c--;){var h=a[c];if((h.visible||h===d)&&(h.Zd()?Ae(s.set(e),h.transform):s.set(e),!l||h!==u)){var f=null;if(h instanceof Tl?f=h.Sb(s,t,n):!0===h.pickable&&h.ea(s)&&(f=h),null!==f&&(null!==t&&(f=t(f)),null!==f&&(null===n||n(f))))return ge.free(s),r||ge.free(o),f}}ge.free(s)}return null===this.background&&null===this.areaBackground?(r||ge.free(o),null):(e=Ke(0,0,i.width,i.height,o.x,o.y)?this:null,r||ge.free(o),e)}return r||ge.free(o),null},n.Fi=function(e,t,n,i){if(!1===this.pickable)return!1;void 0===t&&(t=null),void 0===n&&(n=null);var a=this.naturalBounds,r=this.Zd(),o=r?e:Ae(ge.allocAt(e.x,e.y),this.transform);if(a=Ke(0,0,a.width,a.height,o.x,o.y),this.type===Tl.TableRow||this.type===Tl.TableColumn||a){if(!this.isAtomic){for(var s=this.Y.j,l=s.length,u=ge.alloc(),c=Ol(this);l--;){var d=s[l];if(d.visible||d===c){d.Zd()?Ae(u.set(e),d.transform):u.set(e);var h=d;d=d instanceof Tl?d:null,(null!==d?d.Fi(u,t,n,i):h.ea(u))&&!1!==h.pickable&&(null!==t&&(h=t(h)),null===h||null!==n&&!n(h)||i.add(h))}}ge.free(u)}return r||ge.free(o),a&&(null!==this.background||null!==this.areaBackground)}return r||ge.free(o),!1},n.mg=function(e,t,n,i,a,r){if(!1===this.pickable)return!1;void 0===t&&(t=null),void 0===n&&(n=null);var o=r;if(void 0===r&&(o=st.alloc(),o.reset()),o.multiply(this.transform),this.uh(e,o))return Vl(this,t,n,a),void 0===r&&st.free(o),!0;if(this.Ic(e,o)){if(!this.isAtomic)for(var s=Ol(this),l=this.Y.j,u=l.length;u--;){var c=l[u];if(c.visible||c===s){var d=c.actualBounds,h=this.naturalBounds;d.x>h.width||d.y>h.height||d.x+d.width<0||d.y+d.height<0||(d=c,c=c instanceof Tl?c:null,h=st.alloc(),h.set(o),(null!==c?c.mg(e,t,n,i,a,h):Zo(d,e,i,h))&&(null!==t&&(d=t(d)),null===d||null!==n&&!n(d)||a.add(d)),st.free(h))}}return void 0===r&&st.free(o),i}return void 0===r&&st.free(o),!1},n.ng=function(e,t,n,i,a,r){if(!1===this.pickable)return!1;void 0===n&&(n=null),void 0===i&&(i=null);var o=this.naturalBounds,s=this.Zd(),l=s?e:Ae(ge.allocAt(e.x,e.y),this.transform),u=s?t:Ae(ge.allocAt(t.x,t.y),this.transform),c=l.Be(u),d=l.x>0&&l.x<o.width&&l.y>0&&l.y<o.height||we(l.x,l.y,0,0,0,o.height)<=c||we(l.x,l.y,0,o.height,o.width,o.height)<=c||we(l.x,l.y,o.width,o.height,o.width,0)<=c||we(l.x,l.y,o.width,0,0,0)<=c;if(o=l.cd(0,0)<=c&&l.cd(0,o.height)<=c&&l.cd(o.width,0)<=c&&l.cd(o.width,o.height)<=c,s||(ge.free(l),ge.free(u)),d){if(!this.isAtomic){l=ge.alloc(),u=ge.alloc(),c=Ol(this);for(var h=this.Y.j,f=h.length;f--;){var p=h[f];if(p.visible||p===c){var m=p.actualBounds,g=this.naturalBounds;s&&(m.x>g.width||m.y>g.height||m.x+m.width<0||m.y+m.height<0)||(p.Zd()?(m=p.transform,Ae(l.set(e),m),Ae(u.set(t),m)):(l.set(e),u.set(t)),m=p,p=p instanceof Tl?p:null,(null!==p?p.ng(l,u,n,i,a,r):m.jx(l,u,a))&&(null!==n&&(m=n(m)),null===m||null!==i&&!i(m)||r.add(m)))}}ge.free(l),ge.free(u)}return a?d:o}return!1},n.add=function(e){this.Ib(this.Y.count,e)},n.N=function(e){return this.Y.N(e)},n.Ib=function(e,t){t instanceof lc&&x("Cannot add a Part to a Panel: "+t+"; use a Panel instead"),(this===t||this.qg(t))&&(this===t&&x("Cannot make a Panel contain itself: "+this.toString()),x("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+t.toString()));var n=t.panel;if(null!==n&&n!==this&&x("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+t.toString()+", already contained by "+n.toString()+", cannot be shared by this Panel: "+this.toString()),this.va!==Tl.Grid||t instanceof ou||x("Can only add Shapes to a Grid Panel, not: "+t),this.va!==Tl.Graduated||t instanceof ou||t instanceof gu||x("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+t),t.Si(this),t.Aj=null,null!==this.itemArray){var a=t.data;null!==a&&"object"===i(a)&&(null===this.Ed&&(this.Ed=new me),this.Ed.add(a,t))}var r=this.Y;if(a=-1,n===this){for(var o=-1,s=this.Y.j,l=s.length,u=0;u<l;u++)if(s[u]===t){o=u;break}if(-1!==o){if(o===e||o+1>=r.count&&e>=r.count)return;r.mb(o),a=o}else x("element "+t.toString()+" has panel "+n.toString()+" but is not contained by it.")}(e<0||e>r.count)&&(e=r.count),r.Ib(e,t),(0===e||t.isPanelMain)&&(this.ti=null),ps(this)||this.s(),t.s(!1),(null!==t.portId||t instanceof Tl&&!0===t.xh)&&(this.xh=!0),this.Mg=null,n=this.part,null!==n&&(n.vj=null,n.Ug=NaN,this.xh&&n instanceof Mc&&(n.xh=!0),n.xh&&n instanceof Mc&&(n.rc=null),r=this.diagram,null!==r&&r.undoManager.isUndoingRedoing||(-1!==a&&n.ab(In,"elements",this,t,null,a,null),n.ab(Nn,"elements",this,null,t,null,e),this.rg()||Kl(this,t,!1)))},n.remove=function(e){for(var t=this.Y.j,n=t.length,i=-1,a=0;a<n;a++)if(t[a]===e){i=a;break}-1!==i&&this.xc(i,!0)},n.mb=function(e){e>=0&&this.xc(e,!0)},n.xc=function(e,t){var n=this.Y,a=n.N(e);if(a.Aj=null,a.Si(null),null!==this.Ed){var r=a.data;"object"===i(r)&&this.Ed.remove(r)}n.mb(e),ms(this,!1),this.s(),this.ti===a&&(this.ti=null),this.Mg=null;var o=this.part;null!==o&&(o.vj=null,o.Ug=NaN,o.Jb(),o instanceof Mc&&(a instanceof Tl?a.ym(a,(function(e,n){zc(o,n,t)})):zc(o,a,t)),n=this.diagram,null!==n&&n.undoManager.isUndoingRedoing||o.ab(In,"elements",this,a,null,e,null))},Tl.prototype.getRowDefinition=function(e){e<0&&k(e,">= 0",Tl,"getRowDefinition:idx"),e=Math.round(e);var t=this.sb;if(void 0===t)return null;if(void 0===t[e]){var n=new tu;n.Si(this),n.isRow=!0,n.index=e,t[e]=n}return t[e]},Tl.prototype.Av=function(e){e<0&&k(e,">= 0",Tl,"removeRowDefinition:idx"),e=Math.round(e);var t=this.sb;void 0!==t&&(this.ab(In,"coldefs",this,t[e],null,e,null),t[e]&&delete t[e],this.s())},Tl.prototype.getColumnDefinition=function(e){e<0&&k(e,">= 0",Tl,"getColumnDefinition:idx"),e=Math.round(e);var t=this.nb;if(void 0===t)return null;if(void 0===t[e]){var n=new tu;n.Si(this),n.isRow=!1,n.index=e,t[e]=n}return t[e]},n=Tl.prototype,n.yv=function(e){e<0&&k(e,">= 0",Tl,"removeColumnDefinition:idx"),e=Math.round(e);var t=this.nb;void 0!==t&&(this.ab(In,"coldefs",this,t[e],null,e,null),t[e]&&delete t[e],this.s())},n.Ry=function(e){if(e<0||this.type!==Tl.Table)return-1;for(var t=0,n=this.sb,i=n.length,a=this.wi;a<i;a++){var r=n[a];if(void 0!==r&&(t+=r.total,e<t))break}return a},n.Jy=function(e){if(e<0||this.type!==Tl.Table)return-1;for(var t=0,n=this.nb,i=n.length,a=this.gi;a<i;a++){var r=n[a];if(void 0!==r&&(t+=r.total,e<t))break}return a},n.iz=function(e,t){if(void 0===t&&(t=new ge(NaN,NaN)),this.type!==Tl.Graduated)return t.h(NaN,NaN),t;e=Math.min(Math.max(e,this.graduatedMin),this.graduatedMax);var n=this.zb();return n.geometry.cv((e-this.graduatedMin)/this.graduatedRange,t),n.transform.ta(t)},n.jz=function(e){if(this.type!==Tl.Graduated)return NaN;var t=this.zb();return t.transform.Ud(e),t.geometry.mx(e)*this.graduatedRange+this.graduatedMin},n.xy=function(){var e=this.copy();return Rl(e,(function(e){e instanceof Tl&&(e.Qh=null,e.jb=null);var t=e.bb;null!==t&&(e.bb=null,t.each((function(t){e.bind(t.copy())})))})),e},n.Ea=function(e){var t=this.Qh;if(null!==t)for(void 0===e&&(e=""),t=t.iterator;t.next();){var n=t.value,i=n.sourceProperty;if((""===e||""===i||i===e)&&(i=n.targetProperty,null!==n.converter||""!==i)){i=this.data;var a=n.sourceName;if(null!==a)i=""===a||"/"===a||"."===a||".."===a?this:this.$a(a);else{var r=this.diagram;null!==r&&n.isToModel&&(i=r.model.modelData)}if(null!==i){r=this;var o=n.Xi;if(-1!==o){if(r=this.Qs(o),null===r)continue}else null!==n.Qd&&(r=n.Qd);if("/"===a?i=r.part:"."===a?i=r:".."===a&&(i=r.panel),a=n.wp,0!==a){if(!(r instanceof Tl))continue;1===a?r=r.getColumnDefinition(n.Nl):2===a&&(r=r.getRowDefinition(n.Nl))}void 0!==r&&n.Xv(r,i)}}}},n.nt=function(){for(var e=Hl(this);this.Y.length>e;)this.xc(this.Y.length-1,!1);if(e=this.itemArray,null!==e)for(var t=e.length,n=0;n<t;n++)Gl(this,e[n],n)},n.ix=function(e){return void 0===e||null===e||null===this.Ed?null:this.Ed.J(e)},p.Object.defineProperties(Tl.prototype,{type:{get:function(){return this.va},set:function(e){var t=this.va;t!==e&&(this.va=e,this.va===Tl.Grid?this.isAtomic=!0:this.va===Tl.Table&&Nl(this),this.s(),this.g("type",t,e))}},elements:{get:function(){return this.Y.iterator}},naturalBounds:{get:function(){return this.qc}},padding:{get:function(){return this.eb},set:function(e){"number"===typeof e?(e<0&&k(e,">= 0",Tl,"padding"),e=new tt(e)):(e.left<0&&k(e.left,">= 0",Tl,"padding:value.left"),e.right<0&&k(e.right,">= 0",Tl,"padding:value.right"),e.top<0&&k(e.top,">= 0",Tl,"padding:value.top"),e.bottom<0&&k(e.bottom,">= 0",Tl,"padding:value.bottom"));var t=this.eb;t.A(e)||(this.eb=e=e.I(),this.s(),this.g("padding",t,e))}},defaultAlignment:{get:function(){return this.nn},set:function(e){var t=this.nn;t.A(e)||(this.nn=e=e.I(),this.s(),this.g("defaultAlignment",t,e))}},defaultStretch:{get:function(){return this.Df},set:function(e){var t=this.Df;t!==e&&(this.Df=e,this.s(),this.g("defaultStretch",t,e))}},defaultSeparatorPadding:{get:function(){return void 0===this.dj?at:this.dj},set:function(e){if(void 0!==this.dj){"number"===typeof e&&(e=new tt(e));var t=this.dj;t.A(e)||(this.dj=e=e.I(),this.s(),this.g("defaultSeparatorPadding",t,e))}}},defaultRowSeparatorStroke:{get:function(){return void 0===this.Vh?null:this.Vh},set:function(e){var t=this.Vh;t!==e&&(null===e||"string"===typeof e||e instanceof Vs)&&(e instanceof Vs&&e.freeze(),this.Vh=e,this.R(),this.g("defaultRowSeparatorStroke",t,e))}},defaultRowSeparatorStrokeWidth:{get:function(){return void 0===this.Gg?1:this.Gg},set:function(e){if(void 0!==this.Gg){var t=this.Gg;t!==e&&isFinite(e)&&e>=0&&(this.Gg=e,this.s(),this.g("defaultRowSeparatorStrokeWidth",t,e))}}},defaultRowSeparatorDashArray:{get:function(){return void 0===this.Uh?null:this.Uh},set:function(e){if(void 0!==this.Uh){var t=this.Uh;if(t!==e){if(null!==e){for(var n=e.length,i=0,a=0;a<n;a++){var r=e[a];"number"===typeof r&&r>=0&&isFinite(r)||x("defaultRowSeparatorDashArray value "+r+" at index "+a+" must be a positive number or zero."),i+=r}if(0===i){if(null===t)return;e=null}}this.Uh=e,this.R(),this.g("defaultRowSeparatorDashArray",t,e)}}}},defaultColumnSeparatorStroke:{get:function(){return void 0===this.Eg?null:this.Eg},set:function(e){if(void 0!==this.Eg){var t=this.Eg;t!==e&&(null===e||"string"===typeof e||e instanceof Vs)&&(e instanceof Vs&&e.freeze(),this.Eg=e,this.R(),this.g("defaultColumnSeparatorStroke",t,e))}}},defaultColumnSeparatorStrokeWidth:{get:function(){return void 0===this.Fg?1:this.Fg},set:function(e){if(void 0!==this.Fg){var t=this.Fg;t!==e&&isFinite(e)&&e>=0&&(this.Fg=e,this.s(),this.g("defaultColumnSeparatorStrokeWidth",t,e))}}},defaultColumnSeparatorDashArray:{get:function(){return void 0===this.Th?null:this.Th},set:function(e){if(void 0!==this.Th){var t=this.Th;if(t!==e){if(null!==e){for(var n=e.length,i=0,a=0;a<n;a++){var r=e[a];"number"===typeof r&&r>=0&&isFinite(r)||x("defaultColumnSeparatorDashArray value "+r+" at index "+a+" must be a positive number or zero."),i+=r}if(0===i){if(null===t)return;e=null}}this.Th=e,this.R(),this.g("defaultColumnSeparatorDashArray",t,e)}}}},viewboxStretch:{get:function(){return this.Fp},set:function(e){var t=this.Fp;t!==e&&(this.Fp=e,this.s(),this.g("viewboxStretch",t,e))}},gridCellSize:{get:function(){return this.Ln},set:function(e){var t=this.Ln;if(!t.A(e)){e.o()&&0!==e.width&&0!==e.height||x("Invalid Panel.gridCellSize: "+e),this.Ln=e.I();var n=this.diagram;null!==n&&this===n.grid&&Ir(n),this.R(),this.g("gridCellSize",t,e)}}},gridOrigin:{get:function(){return this.Mn},set:function(e){var t=this.Mn;if(!t.A(e)){e.o()||x("Invalid Panel.gridOrigin: "+e),this.Mn=e.I();var n=this.diagram;null!==n&&this===n.grid&&Ir(n),this.R(),this.g("gridOrigin",t,e)}}},graduatedMin:{get:function(){return this.In},set:function(e){var t=this.In;t!==e&&(this.In=e,this.s(),this.g("graduatedMin",t,e),cs(this)&&(e=this.part,null!==e&&Ko(this,e,"graduatedRange")))}},graduatedMax:{get:function(){return this.Hn},set:function(e){var t=this.Hn;t!==e&&(this.Hn=e,this.s(),this.g("graduatedMax",t,e),cs(this)&&(e=this.part,null!==e&&Ko(this,e,"graduatedRange")))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return this.Kn},set:function(e){var t=this.Kn;t!==e&&e>0&&(this.Kn=e,this.s(),this.g("graduatedTickUnit",t,e))}},graduatedTickBase:{get:function(){return this.Jn},set:function(e){var t=this.Jn;t!==e&&(this.Jn=e,this.s(),this.g("graduatedTickBase",t,e))}},xh:{get:function(){return 0!==(8388608&this.H)},set:function(e){0!==(8388608&this.H)!==e&&(this.H^=8388608)}},rowCount:{get:function(){return void 0===this.sb?0:this.sb.length}},columnCount:{get:function(){return void 0===this.nb?0:this.nb.length}},rowSizing:{get:function(){return void 0===this.Fj?ru:this.Fj},set:function(e){if(void 0!==this.Fj){var t=this.Fj;t!==e&&(this.Fj=e,this.s(),this.g("rowSizing",t,e))}}},columnSizing:{get:function(){return void 0===this.bj?ru:this.bj},set:function(e){if(void 0!==this.bj){var t=this.bj;t!==e&&(this.bj=e,this.s(),this.g("columnSizing",t,e))}}},topIndex:{get:function(){return void 0===this.wi?0:this.wi},set:function(e){if(void 0!==this.wi){var t=this.wi;t!==e&&((!isFinite(e)||e<0)&&x("Panel.topIndex must be greater than zero and a real number, not: "+e),this.wi=e,this.s(),this.g("topIndex",t,e))}}},leftIndex:{get:function(){return void 0===this.gi?0:this.gi},set:function(e){if(void 0!==this.gi){var t=this.gi;t!==e&&((!isFinite(e)||e<0)&&x("Panel.leftIndex must be greater than zero and a real number, not: "+e),this.gi=e,this.s(),this.g("leftIndex",t,e))}}},data:{get:function(){return this.jb},set:function(e){var t=this.jb;if(t!==e){var n=this instanceof lc&&!(this instanceof Oc);Ql(this),this.jb=e;var i=this.diagram;null!==i&&(n?(n=i.partManager,this instanceof id?(null!==t&&n.Dg.remove(t),null!==e&&n.Dg.add(e,this)):this instanceof lc&&(null!==t&&n.Me.remove(t),null!==e&&n.Me.add(e,this))):(n=this.panel,null!==n&&null!==n.Ed&&(null!==t&&n.Ed.remove(t),null!==e&&n.Ed.add(e,this)))),this.g("data",t,e),null!==i&&i.undoManager.isUndoingRedoing||null!==e&&this.Ea()}}},itemIndex:{get:function(){return this.Zn},set:function(e){var t=this.Zn;t!==e&&(this.Zn=e,this.g("itemIndex",t,e))}},itemArray:{get:function(){return this.ei},set:function(e){var t=this.ei;if(t!==e||null!==e&&$l(this,e)){var n=this.diagram;t!==e&&(null!==n&&null!==t&&Rh(n.partManager,this),this.ei=e,null!==n&&null!==e&&Eh(n.partManager,this)),this.g("itemArray",t,e),null!==n&&n.undoManager.isUndoingRedoing||this.nt()}}},itemTemplate:{get:function(){return null===this.je?null:this.je.J("")},set:function(e){if(null===this.je){if(null===e)return;this.je=new me}var t=this.je.J("");t!==e&&((e instanceof lc||e.isPanelMain)&&x("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+e),this.je.add("",e),this.g("itemTemplate",t,e),e=this.diagram,null!==e&&e.undoManager.isUndoingRedoing||this.nt())}},itemTemplateMap:{get:function(){return this.je},set:function(e){var t=this.je;if(t!==e){for(var n=e.iterator;n.next(););this.je=e,this.g("itemTemplateMap",t,e),e=this.diagram,null!==e&&e.undoManager.isUndoingRedoing||this.nt()}}},itemCategoryProperty:{get:function(){return this.gl},set:function(e){var t=this.gl;t!==e&&(this.gl=e,this.g("itemCategoryProperty",t,e))}},isAtomic:{get:function(){return 0!==(1048576&this.H)},set:function(e){var t=0!==(1048576&this.H);t!==e&&(this.H^=1048576,this.g("isAtomic",t,e))}},isClipping:{get:function(){return 0!==(2097152&this.H)},set:function(e){var t=0!==(2097152&this.H);t!==e&&(this.H^=2097152,this.s(),this.g("isClipping",t,e))}},isOpposite:{get:function(){return 0!==(33554432&this.H)},set:function(e){var t=0!==(33554432&this.H);t!==e&&(this.H^=33554432,this.s(),this.g("isOpposite",t,e))}},isEnabled:{get:function(){return 0!==(4194304&this.H)},set:function(e){var t=0!==(4194304&this.H);if(t!==e){var n=null===this.panel||this.panel.rg();this.H^=4194304,this.g("isEnabled",t,e),t=this.diagram,null!==t&&t.undoManager.isUndoingRedoing||n&&Kl(this,this,e)}}},alignmentFocusName:{get:function(){return this.yg},set:function(e){var t=this.yg;t!==e&&(this.yg=e,this.s(),this.g("alignmentFocusName",t,e))}}}),p.Object.defineProperties(Tl,{Position:{get:function(){return eu.J("Position")}},Horizontal:{get:function(){return eu.J("Horizontal")}},Vertical:{get:function(){return eu.J("Vertical")}},Spot:{get:function(){return eu.J("Spot")}},Auto:{get:function(){return eu.J("Auto")}},Table:{get:function(){return eu.J("Table")}},Viewbox:{get:function(){return eu.J("Viewbox")}},TableRow:{get:function(){return eu.J("TableRow")}},TableColumn:{get:function(){return eu.J("TableColumn")}},Link:{get:function(){return eu.J("Link")}},Grid:{get:function(){return eu.J("Grid")}},Graduated:{get:function(){return eu.J("Graduated")}}}),Tl.prototype.findItemPanelForData=Tl.prototype.ix,Tl.prototype.rebuildItemElements=Tl.prototype.nt,Tl.prototype.updateTargetBindings=Tl.prototype.Ea,Tl.prototype.copyTemplate=Tl.prototype.xy,Tl.prototype.graduatedValueForPoint=Tl.prototype.jz,Tl.prototype.graduatedPointForValue=Tl.prototype.iz,Tl.prototype.findColumnForLocalX=Tl.prototype.Jy,Tl.prototype.findRowForLocalY=Tl.prototype.Ry,Tl.prototype.removeColumnDefinition=Tl.prototype.yv,Tl.prototype.removeRowDefinition=Tl.prototype.Av,Tl.prototype.removeAt=Tl.prototype.mb,Tl.prototype.remove=Tl.prototype.remove,Tl.prototype.insertAt=Tl.prototype.Ib,Tl.prototype.elt=Tl.prototype.N,Tl.prototype.add=Tl.prototype.add,Tl.prototype.findObject=Tl.prototype.$a,Tl.prototype.findInVisualTree=Tl.prototype.Yl,Tl.prototype.walkVisualTreeFrom=Tl.prototype.ym,Tl.prototype.findMainElement=Tl.prototype.zb;var Xl=!1,Zl=null,eu=new me;function tu(){oe(this),this.ag=null,this.Br=!0,this.Sa=0,this.Pc=NaN,this.Wg=0,this.Vg=1/0,this.wb=Mt,this.sa=this.ka=0,this.bb=null,this.op=iu,this.ue=to,this.kp=this.dg=null,this.lp=NaN,this.ib=this.Hj=null,this.hn=!1}function nu(e){if(e.sizing===iu){var t=e.ag;return e.isRow?t.rowSizing:t.columnSizing}return e.sizing}Tl.className="Panel",Tl.definePanelLayout=Jl,Jl("Position",new fl),Jl("Vertical",new ml),Jl("Auto",new vl),Jl("Link",new Cl),Jl("Grid",new xl),tu.prototype.copy=function(){var e=new tu;return e.Br=this.Br,e.Sa=this.Sa,e.Pc=this.Pc,e.Wg=this.Wg,e.Vg=this.Vg,e.wb=this.wb,e.ka=this.ka,e.sa=this.sa,e.ue=this.ue,e.op=this.op,null===this.dg?e.dg=null:e.dg=this.dg.I(),e.kp=this.kp,e.lp=this.lp,e.Hj=null,null!==this.Hj&&(e.separatorDashArray=D(this.separatorDashArray)),e.ib=this.ib,e.hn=this.hn,e.bb=this.bb,e},n=tu.prototype,n.Vl=function(e){e.isRow?this.height=e.height:this.width=e.width,this.minimum=e.minimum,this.maximum=e.maximum,this.alignment=e.alignment,this.stretch=e.stretch,this.sizing=e.sizing,this.dg=null===e.separatorPadding?null:e.separatorPadding.I(),this.separatorStroke=e.separatorStroke,this.separatorStrokeWidth=e.separatorStrokeWidth,this.Hj=null,e.separatorDashArray&&(this.Hj=D(e.separatorDashArray)),this.background=e.background,this.coversSeparators=e.coversSeparators,this.bb=e.bb},n.fb=function(e){e.classType===tu&&(this.sizing=e)},n.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+le(this)},n.Si=function(e){this.ag=e},n.Nu=function(){var e=0,t=0,n=this.ag,i=this.isRow;if(null!==n&&n.type===Tl.Table)for(var a=i?n.sb.length:n.nb.length,r=0;r<a;r++){var o=i?n.sb[r]:n.nb[r];if(void 0!==o){t=o.index;break}}if(this.index!==t&&(t=this.separatorStroke,null===t&&null!==n&&(t=this.isRow?n.defaultRowSeparatorStroke:n.defaultColumnSeparatorStroke),null!==t&&(e=this.separatorStrokeWidth,isNaN(e)&&(e=null!==n?this.isRow?n.defaultRowSeparatorStrokeWidth:n.defaultColumnSeparatorStrokeWidth:0))),t=this.dg,null===t){if(null===n)return e;t=n.defaultSeparatorPadding}return e+(this.isRow?t.top:t.left)},n.tc=function(){var e=0,t=this.ag,n=0,i=this.isRow;if(null!==t&&t.type===Tl.Table)for(var a=i?t.sb.length:t.nb.length,r=0;r<a;r++){var o=i?t.sb[r]:t.nb[r];if(void 0!==o){n=o.index;break}}if(this.index!==n&&(n=this.separatorStroke,null===n&&null!==t&&(n=i?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),null!==n&&(e=this.separatorStrokeWidth,isNaN(e)&&(e=null!==t?i?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth:0))),i=this.dg,null===i){if(null===t)return e;i=t.defaultSeparatorPadding}return e+(this.isRow?i.top+i.bottom:i.left+i.right)},n.yb=function(e,t,n){var i=this.ag;if(null!==i&&(i.ab(Tn,e,this,t,n,void 0,void 0),null!==this.bb&&(t=i.diagram,null!==t&&!t.skipsModelSourceBindings&&(i=i.Gi(),null!==i&&(t=i.data,null!==t)))))for(n=this.bb.iterator;n.next();)n.value.uq(this,t,e,i)},n.bind=function(e){e.Qd=this;var t=this.panel;if(null!==t){var n=t.Gi();null!==n&&zl(n)&&x("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+e+" on "+t)}null===this.bb&&(this.bb=new ie),this.bb.add(e)},p.Object.defineProperties(tu.prototype,{panel:{get:function(){return this.ag}},isRow:{get:function(){return this.Br},set:function(e){this.Br=e}},index:{get:function(){return this.Sa},set:function(e){this.Sa=e}},height:{get:function(){return this.Pc},set:function(e){var t=this.Pc;t!==e&&(e<0&&k(e,">= 0",tu,"height"),this.Pc=e,this.actual=this.ka,null!==this.panel&&this.panel.s(),this.yb("height",t,e))}},width:{get:function(){return this.Pc},set:function(e){var t=this.Pc;t!==e&&(e<0&&k(e,">= 0",tu,"width"),this.Pc=e,this.actual=this.ka,null!==this.panel&&this.panel.s(),this.yb("width",t,e))}},minimum:{get:function(){return this.Wg},set:function(e){var t=this.Wg;t!==e&&((e<0||!isFinite(e))&&k(e,">= 0",tu,"minimum"),this.Wg=e,this.actual=this.ka,null!==this.panel&&this.panel.s(),this.yb("minimum",t,e))}},maximum:{get:function(){return this.Vg},set:function(e){var t=this.Vg;t!==e&&(e<0&&k(e,">= 0",tu,"maximum"),this.Vg=e,this.actual=this.ka,null!==this.panel&&this.panel.s(),this.yb("maximum",t,e))}},alignment:{get:function(){return this.wb},set:function(e){var t=this.wb;t.A(e)||(this.wb=e.I(),null!==this.panel&&this.panel.s(),this.yb("alignment",t,e))}},stretch:{get:function(){return this.ue},set:function(e){var t=this.ue;t!==e&&(this.ue=e,null!==this.panel&&this.panel.s(),this.yb("stretch",t,e))}},separatorPadding:{get:function(){return this.dg},set:function(e){"number"===typeof e&&(e=new tt(e));var t=this.dg;null!==e&&null!==t&&t.A(e)||(null!==e&&(e=e.I()),this.dg=e,null!==this.panel&&this.panel.s(),this.yb("separatorPadding",t,e))}},separatorStroke:{get:function(){return this.kp},set:function(e){var t=this.kp;t!==e&&(null===e||"string"===typeof e||e instanceof Vs)&&(e instanceof Vs&&e.freeze(),this.kp=e,null!==this.panel&&this.panel.s(),this.yb("separatorStroke",t,e))}},separatorStrokeWidth:{get:function(){return this.lp},set:function(e){var t=this.lp;t!==e&&(this.lp=e,null!==this.panel&&this.panel.s(),this.yb("separatorStrokeWidth",t,e))}},separatorDashArray:{get:function(){return this.Hj},set:function(e){var t=this.Hj;if(t!==e){if(null!==e){for(var n=e.length,i=0,a=0;a<n;a++){var r=e[a];"number"===typeof r&&r>=0&&isFinite(r)||x("separatorDashArray value "+r+" at index "+a+" must be a positive number or zero."),i+=r}if(0===i){if(null===t)return;e=null}}this.Hj=e,null!==this.panel&&this.panel.R(),this.yb("separatorDashArray",t,e)}}},background:{get:function(){return this.ib},set:function(e){var t=this.ib;t!==e&&(null===e||"string"===typeof e||e instanceof Vs)&&(e instanceof Vs&&e.freeze(),this.ib=e,null!==this.panel&&this.panel.R(),this.yb("background",t,e))}},coversSeparators:{get:function(){return this.hn},set:function(e){var t=this.hn;t!==e&&(this.hn=e,null!==this.panel&&this.panel.R(),this.yb("coversSeparators",t,e))}},sizing:{get:function(){return this.op},set:function(e){var t=this.op;t!==e&&(this.op=e,null!==this.panel&&this.panel.s(),this.yb("sizing",t,e))}},actual:{get:function(){return this.ka},set:function(e){this.ka=isNaN(this.Pc)?Math.max(Math.min(this.Vg,e),this.Wg):Math.max(Math.min(this.Vg,this.Pc),this.Wg)}},total:{get:function(){return this.ka+this.tc()},set:function(e){this.ka=isNaN(this.Pc)?Math.max(Math.min(this.Vg,e),this.Wg):Math.max(Math.min(this.Vg,this.Pc),this.Wg),this.ka=Math.max(0,this.ka-this.tc())}},position:{get:function(){return this.sa},set:function(e){this.sa=e}}}),tu.prototype.bind=tu.prototype.bind,tu.prototype.computeEffectiveSpacing=tu.prototype.tc,tu.prototype.computeEffectiveSpacingTop=tu.prototype.Nu;var iu=new Y(tu,"Default",0),au=new Y(tu,"None",1),ru=new Y(tu,"ProportionalExtra",2);function ou(){Yo.call(this),this.Pd=this.qa=null,this.Vk="None",this.Gn=to,this.Gc=this.Wk="black",this.ih=1,this.Il="butt",this.Jl="miter",this.Jj=10,this.gh=null,this.hh=0,this.cf=this.bf=Mt,this.Lo=this.Ko=NaN,this.Rn=!1,this.No=null,this.Yk=this.Pl="None",this.Cd=1,this.Bd=0,this.zd=1,this.Ad=null}function su(e,t,n,i){var a=n.length;if(!(a<4)){var r=i.measuredBounds,o=Math.max(1,r.width);r=r.height;for(var s,l,u,c,d,h,f=n[0],p=n[1],m=0,g=O(),v=2;v<a;v+=2)s=n[v],l=n[v+1],u=s-f,f=l-p,0===u&&(u=.001),c=f/u,d=Math.atan2(f,u),h=Math.sqrt(u*u+f*f),g.push([u,d,c,h]),m+=h,f=s,p=l;f=n[0],p=n[1],u=i.measuredBounds.width,i instanceof ou&&(u-=i.strokeWidth),u<1&&(u=1),a=n=u,s=o/2,l=0!==s,v=0,h=g[v],u=h[0],d=h[1],c=h[2],h=h[3];for(var y=0;m>=.1;){if(0===y&&(l?(a=n,a-=s,m-=s,l=!1):a=n,0===a&&(a=1)),a>m)return void M(g);a>h?(y=a-h,a=h):y=0;var b=Math.sqrt(a*a/(1+c*c));if(u<0&&(b=-b),f+=b,p+=c*b,e.translate(f,p),e.rotate(d),e.translate(-o/2,-r/2),0===y&&i.Ci(e,t),e.translate(o/2,r/2),e.rotate(-d),e.translate(-f,-p),m-=a,h-=a,0!==y){if(v++,v===g.length)return void M(g);h=g[v],u=h[0],d=h[1],c=h[2],h=h[3],a=y}}M(g)}}function lu(e){var t=e.geometryStretch;return null!==e.Pd?t===to?Xr:t:t===to?mu[e.figure].defaultStretch:t}function uu(e,t,n,i,a){return e=n.x-e,t=n.y-t,t=e*e+t*t,t<i?(a.x=n.x,a.y=n.y,t):i}function cu(e,t,n,i,a,r,o,s,l){var u=!1,c=(a-o)*(t-i)-(r-s)*(e-n);return 0!==c&&(l.x=((a*s-r*o)*(e-n)-(a-o)*(e*i-t*n))/c,l.y=((a*s-r*o)*(t-i)-(r-s)*(e*i-t*n))/c,(e>n?e-n:n-e)<(t>i?t-i:i-t)?(e=t<i?t:i,t=t<i?i:t,(l.y>e||Kt.ca(l.y,e))&&(l.y<t||Kt.ca(l.y,t))&&(u=!0)):(t=e<n?e:n,e=e<n?n:e,(l.x>t||Kt.ca(l.x,t))&&(l.x<e||Kt.ca(l.x,e))&&(u=!0)),u)}function du(e,t,n,i){if(!e.Tc(t,n,i))return!1;e=t.x,t=t.y;var a=n.x,r=n.y;return n=i.x,i=i.y,e===a?(t<r?(e=t,t=r):e=r,i>=e&&i<=t):(e<a?(i=e,e=a):i=a,n>=i&&n<=e)}function hu(e){var t=e.diagram;null!==t&&t.undoManager.isUndoingRedoing||(e.segmentOrientation=Rd,"None"!==e.Pl?(e.segmentIndex=-1,e.alignmentFocus=Ft):"None"!==e.Yk&&(e.segmentIndex=0,e.alignmentFocus=new $t(1-Ft.x,Ft.y)))}function fu(e){var t=pu[e];if(void 0===t){var n=e.toLowerCase();if("none"===n)return"None";if(t=pu[n],void 0===t){var i,a=null;for(i in Kt.Bm)if(i.toLowerCase()===n){a=i;break}if(null!==a)return e=en(Kt.Bm[a],!1),pu[a]=e,n!==a&&(pu[n]=a),a}}return"string"===typeof t?t:t instanceof Jt?e:null}tu.className="RowColumnDefinition",tu.Default=iu,tu.None=au,tu.ProportionalExtra=ru,f(ou,Yo),ou.prototype.cloneProtected=function(e){Yo.prototype.cloneProtected.call(this,e),e.qa=this.qa,e.Vk=this.Vk,e.Gn=this.Gn,e.Pd=this.Pd,e.Wk=this.Wk,e.Gc=this.Gc,e.ih=this.ih,e.Il=this.Il,e.Jl=this.Jl,e.Jj=this.Jj,null!==this.gh&&(e.gh=D(this.gh)),e.hh=this.hh,e.bf=this.bf.I(),e.cf=this.cf.I(),e.Ko=this.Ko,e.Lo=this.Lo,e.Rn=this.Rn,e.No=this.No,e.Pl=this.Pl,e.Yk=this.Yk,e.Cd=this.Cd,e.Bd=this.Bd,e.zd=this.zd,e.Ad=this.Ad},n=ou.prototype,n.fb=function(e){e===Zr||e===eo||e===ao||e===to?this.geometryStretch=e:Yo.prototype.fb.call(this,e)},n.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+le(this)},n.Ci=function(e,t){var n=this.Gc,i=this.Wk;if(null!==n||null!==i){var a=this.actualBounds,r=this.naturalBounds;null!==i&&ns(this,e,i,!0,!1,r,a),null!==n&&ns(this,e,n,!1,!1,r,a),a=this.part,r=this.ih,0===r&&null!==a&&(r=a instanceof Oc&&a.type===Tl.Link&&"Selection"===a.category&&a.adornedObject instanceof ou&&a.adornedPart.zb()===a.adornedObject?a.adornedObject.strokeWidth:0),e.lineWidth=r,e.lineJoin=this.Jl,e.lineCap=this.Il,e.miterLimit=this.Jj;var o=!1;a&&t.De("drawShadows")&&(o=a.isShadowed);var s=!0;null!==n&&null===i&&(s=!1),a=!1;var l=this.strokeDashArray;null!==l&&(a=!0,e.Ps(l,this.hh));var u=this.qa;if(null!==u){if(u.type===ln)e.beginPath(),e.moveTo(u.startX,u.startY),e.lineTo(u.endX,u.endY),null!==i&&e.Td(i),0!==r&&null!==n&&e.Wi();else if(u.type===un){var c=u.startX,d=u.startY,h=u.endX,f=u.endY;l=Math.min(c,h),u=Math.min(d,f),c=Math.abs(h-c),d=Math.abs(f-d),null!==i&&(e.beginPath(),e.rect(l,u,c,d),e.Td(i)),null!==n&&(h=i=n=0,s&&o&&(n=e.shadowOffsetX,i=e.shadowOffsetY,h=e.shadowBlur,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0),0!==r&&(e.beginPath(),e.rect(l,u,c,d),e.Wi()),s&&o&&(e.shadowOffsetX=n,e.shadowOffsetY=i,e.shadowBlur=h))}else if(u.type===cn)d=u.startX,l=u.startY,h=u.endX,f=u.endY,u=Math.abs(h-d)/2,c=Math.abs(f-l)/2,d=Math.min(d,h)+u,l=Math.min(l,f)+c,e.beginPath(),e.moveTo(d,l-c),e.bezierCurveTo(d+Kt.xg*u,l-c,d+u,l-Kt.xg*c,d+u,l),e.bezierCurveTo(d+u,l+Kt.xg*c,d+Kt.xg*u,l+c,d,l+c),e.bezierCurveTo(d-Kt.xg*u,l+c,d-u,l+Kt.xg*c,d-u,l),e.bezierCurveTo(d-u,l-Kt.xg*c,d-Kt.xg*u,l-c,d,l-c),e.closePath(),null!==i&&e.Td(i),0!==r&&null!==n&&(s&&o?(r=e.shadowOffsetX,o=e.shadowOffsetY,n=e.shadowBlur,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0,e.Wi(),e.shadowOffsetX=r,e.shadowOffsetY=o,e.shadowBlur=n):e.Wi());else if(u.type===dn)for(l=u.figures,u=l.length,c=0;c<u;c++){d=l.j[c],e.beginPath(),e.moveTo(d.startX,d.startY),h=d.segments.j,f=h.length;for(var p=null,m=0;m<f;m++){var g=h[m];switch(g.type){case gn:e.moveTo(g.endX,g.endY);break;case vn:e.lineTo(g.endX,g.endY);break;case yn:e.bezierCurveTo(g.point1X,g.point1Y,g.point2X,g.point2Y,g.endX,g.endY);break;case bn:e.quadraticCurveTo(g.point1X,g.point1Y,g.endX,g.endY);break;case An:if(g.radiusX===g.radiusY){var v=Math.PI/180;e.arc(g.point1X,g.point1Y,g.radiusX,g.startAngle*v,(g.startAngle+g.sweepAngle)*v,g.sweepAngle<0,null!==p?p.endX:d.startX,null!==p?p.endY:d.startY)}else if(p=pn(g,d),v=p.length,0===v)e.lineTo(g.centerX,g.centerY);else for(var y=0;y<v;y++){var b=p[y];0===y&&e.lineTo(b[0],b[1]),e.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7])}break;case wn:if(y=v=0,null!==p&&p.type===An){if(p=pn(p,d),b=p.length,0===b){e.lineTo(g.centerX,g.centerY);break}p=p[b-1]||null,null!==p&&(v=p[6],y=p[7])}else v=null!==p?p.endX:d.startX,y=null!==p?p.endY:d.startY;if(p=mn(g,d,v,y),v=p.length,0===v){e.lineTo(g.centerX,g.centerY);break}for(y=0;y<v;y++)b=p[y],e.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7]);break;default:x("Segment not of valid type: "+g.type)}g.isClosed&&e.closePath(),p=g}o?(m=f=h=0,d.isShadowed?(!0===d.isFilled&&null!==i?(e.Td(i),s=!0):s=!1,0!==r&&null!==n&&(s&&(h=e.shadowOffsetX,f=e.shadowOffsetY,m=e.shadowBlur,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0),e.Wi(),s&&(e.shadowOffsetX=h,e.shadowOffsetY=f,e.shadowBlur=m))):(s&&(h=e.shadowOffsetX,f=e.shadowOffsetY,m=e.shadowBlur,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0),!0===d.isFilled&&null!==i&&e.Td(i),0!==r&&null!==n&&e.Wi(),s&&(e.shadowOffsetX=h,e.shadowOffsetY=f,e.shadowBlur=m))):(!0===d.isFilled&&null!==i&&e.Td(i),0!==r&&null!==n&&e.Wi())}if(a&&e.Ns(),null!==this.pathPattern){if(a=this.pathPattern,a.measure(1/0,1/0),r=a.measuredBounds,a.arrange(0,0,r.width,r.height),o=this.geometry,e.save(),e.beginPath(),r=O(),o.type===ln)r.push(o.startX),r.push(o.startY),r.push(o.endX),r.push(o.endY),su(e,t,r,a);else if(o.type===dn)for(o=o.figures.iterator;o.next();){for(n=o.value,r.length=0,r.push(n.startX),r.push(n.startY),i=n.startX,s=n.startY,l=i,u=s,c=n.segments.j,d=c.length,h=0;h<d;h++){switch(f=c[h],f.type){case gn:su(e,t,r,a),r.length=0,r.push(f.endX),r.push(f.endY),i=f.endX,s=f.endY,l=i,u=s;break;case vn:r.push(f.endX),r.push(f.endY),i=f.endX,s=f.endY;break;case yn:Kt.ze(i,s,f.point1X,f.point1Y,f.point2X,f.point2Y,f.endX,f.endY,.5,r),i=f.endX,s=f.endY;break;case bn:Kt.jq(i,s,f.point1X,f.point1Y,f.endX,f.endY,.5,r),i=f.endX,s=f.endY;break;case An:if(m=pn(f,n),g=m.length,0===g){r.push(f.centerX),r.push(f.centerY),i=f.centerX,s=f.centerY;break}for(p=0;p<g;p++)v=m[p],Kt.ze(i,s,v[2],v[3],v[4],v[5],v[6],v[7],.5,r),i=v[6],s=v[7];break;case wn:if(m=mn(f,n,i,s),g=m.length,0===g){r.push(f.centerX),r.push(f.centerY),i=f.centerX,s=f.centerY;break}for(p=0;p<g;p++)v=m[p],Kt.ze(i,s,v[2],v[3],v[4],v[5],v[6],v[7],.5,r),i=v[6],s=v[7];break;default:x("Segment not of valid type: "+f.type)}f.isClosed&&(r.push(l),r.push(u),su(e,t,r,a))}su(e,t,r,a)}else if(o.type===un)r.push(o.startX),r.push(o.startY),r.push(o.endX),r.push(o.startY),r.push(o.endX),r.push(o.endY),r.push(o.startX),r.push(o.endY),r.push(o.startX),r.push(o.startY),su(e,t,r,a);else if(o.type===cn){if(s=new hn,s.startX=o.endX,s.startY=(o.startY+o.endY)/2,i=new fn(An),i.startAngle=0,i.sweepAngle=360,i.centerX=(o.startX+o.endX)/2,i.centerY=(o.startY+o.endY)/2,i.radiusX=Math.abs(o.startX-o.endX)/2,i.radiusY=Math.abs(o.startY-o.endY)/2,s.add(i),o=pn(i,s),n=o.length,0===n)r.push(i.centerX),r.push(i.centerY);else for(i=s.startX,s=s.startY,l=0;l<n;l++)u=o[l],Kt.ze(i,s,u[2],u[3],u[4],u[5],u[6],u[7],.5,r),i=u[6],s=u[7];su(e,t,r,a)}M(r),e.restore(),e.Rc(!1)}}}},n.ma=function(e,t){if(void 0===t&&(t=new ge),e instanceof $t){e.jc()&&x("getDocumentPoint Spot must be a real, specific Spot, not: "+e.toString());var n=this.naturalBounds,i=this.strokeWidth;t.h(e.x*(n.width+i)-i/2+n.x+e.offsetX,e.y*(n.height+i)-i/2+n.y+e.offsetY)}else t.set(e);return this.rd.ta(t),t},n.Vp=function(e){void 0===e&&(e=new Ue);var t=this.naturalBounds,n=this.rd;t=Ue.allocAt(t.x,t.y,t.width,t.height);var i=this.strokeWidth;return t.Uc(i/2,i/2),i=ge.allocAt(t.x,t.y).transform(n),e.h(i.x,i.y,0,0),i.h(t.right,t.y).transform(n),We(e,i.x,i.y,0,0),i.h(t.right,t.bottom).transform(n),We(e,i.x,i.y,0,0),i.h(t.x,t.bottom).transform(n),We(e,i.x,i.y,0,0),Ue.free(t),ge.free(i),e},n.vh=function(e,t){var n=this.geometry;if(null===n||null===this.fill&&null===this.stroke)return!1;var i=n.bounds,a=this.strokeWidth/2;n.type!==ln||t||(a+=2);var r=Ue.alloc();if(r.assign(i),r.Uc(a+2,a+2),!r.ea(e))return Ue.free(r),!1;if(i=a+1e-4,n.type===ln)return null!==this.stroke&&(i=(n.endX-n.startX)*(e.x-n.startX)+(n.endY-n.startY)*(e.y-n.startY),!((n.startX-n.endX)*(e.x-n.endX)+(n.startY-n.endY)*(e.y-n.endY)<0||i<0)&&(Ue.free(r),Kt.Ub(n.startX,n.startY,n.endX,n.endY,a,e.x,e.y)));if(n.type===un){t=n.startX;var o=n.startY,s=n.endX;if(n=n.endY,r.x=Math.min(t,s),r.y=Math.min(o,n),r.width=Math.abs(s-t),r.height=Math.abs(n-o),null===this.fill){if(r.Uc(-i,-i),r.ea(e))return Ue.free(r),!1;r.Uc(i,i)}return null!==this.stroke&&r.Uc(a,a),e=r.ea(e),Ue.free(r),e}if(n.type===cn){o=n.startX,a=n.startY,s=n.endX;var l=n.endY;if(n=Math.min(o,s),t=Math.min(a,l),o=Math.abs(s-o)/2,a=Math.abs(l-a)/2,n=e.x-(n+o),t=e.y-(t+a),null===this.fill){if(o-=i,a-=i,o<=0||a<=0||n*n/(o*o)+t*t/(a*a)<=1)return Ue.free(r),!1;o+=i,a+=i}return null!==this.stroke&&(o+=i,a+=i),Ue.free(r),!(o<=0||a<=0)&&n*n/(o*o)+t*t/(a*a)<=1}return n.type===dn?(Ue.free(r),null===this.fill?rn(n,e.x,e.y,a):n.ea(e,a,this.strokeWidth>1,t)):(x("Unknown Geometry type: "+n.type),!1)},n.hm=function(e,t,n,i){var a=this.desiredSize,r=this.ih;if(e=Math.max(e,0),t=Math.max(t,0),null!==this.Pd)var o=this.geometry.bounds;else{var s=this.figure,l=mu[s];if(void 0===l){var u=Kt.Je[s];"string"===typeof u&&(u=Kt.Je[u]),"function"===typeof u?(l=u(null,100,100),mu[s]=l):x("Unsupported Figure: "+s)}o=l.bounds}s=o.width,l=o.height,u=o.width;var c=o.height;switch(os(this,!0)){case Zr:i=n=0;break;case Xr:u=Math.max(e-r,0),c=Math.max(t-r,0);break;case no:u=Math.max(e-r,0),i=0;break;case io:n=0,c=Math.max(t-r,0)}switch(isFinite(a.width)&&(u=a.width),isFinite(a.height)&&(c=a.height),a=this.maxSize,o=this.minSize,n=Math.max(n-r,o.width),i=Math.max(i-r,o.height),u=Math.min(a.width,u),c=Math.min(a.height,c),u=isFinite(u)?Math.max(n,u):Math.max(s,n),c=isFinite(c)?Math.max(i,c):Math.max(l,i),n=lu(this),n){case Zr:break;case Xr:s=u,l=c;break;case eo:n=Math.min(u/s,c/l),isFinite(n)||(n=1),s*=n,l*=n;break;default:x(n+" is not a valid geometryStretch.")}null!==this.Pd?(s=Math.max(s,.01),l=Math.max(l,.01),o=null!==this.Pd?this.Pd:this.qa,a=s,i=l,n=o.copy(),o=o.bounds,a/=o.width,i/=o.height,isFinite(a)||(a=1),isFinite(i)||(i=1),1===a&&1===i||n.scale(a,i),this.qa=n):null!==this.qa&&Kt.ca(this.qa.el,e-r)&&Kt.ca(this.qa.cl,t-r)||(this.qa=ou.makeGeometry(this,s,l)),o=this.qa.bounds,1/0===e||1/0===t?Xo(this,o.x-r/2,o.y-r/2,0===e&&0===s?0:o.width+r,0===t&&0===l?0:o.height+r):Xo(this,-r/2,-r/2,u+r,c+r)},n.th=function(e,t,n,i){es(this,e,t,n,i)},n.Tc=function(e,t,n){return this.bk(e.x,e.y,t.x,t.y,n)},n.bk=function(e,t,n,i,a){var r=this.transform,o=1/(r.m11*r.m22-r.m12*r.m21),s=r.m22*o,l=-r.m12*o,u=-r.m21*o,c=r.m11*o,d=o*(r.m21*r.dy-r.m22*r.dx),h=o*(r.m12*r.dx-r.m11*r.dy);if(r=e*s+t*u+d,o=e*l+t*c+h,s=n*s+i*u+d,l=n*l+i*c+h,d=this.ih/2,u=this.qa,null===u&&(this.measure(1/0,1/0),u=this.qa),h=u.bounds,c=!1,u.type===ln)if(this.strokeWidth<=1.5)c=Kt.Fe(u.startX,u.startY,u.endX,u.endY,r,o,s,l,a);else{if(u.startX===u.endX?(i=d,c=0):(t=(u.endY-u.startY)/(u.endX-u.startX),c=d/Math.sqrt(1+t*t),i=c*t),t=O(),e=new ge,Kt.Fe(u.startX+i,u.startY+c,u.endX+i,u.endY+c,r,o,s,l,e)&&t.push(e),e=new ge,Kt.Fe(u.startX-i,u.startY-c,u.endX-i,u.endY-c,r,o,s,l,e)&&t.push(e),e=new ge,Kt.Fe(u.startX+i,u.startY+c,u.startX-i,u.startY-c,r,o,s,l,e)&&t.push(e),e=new ge,Kt.Fe(u.endX+i,u.endY+c,u.endX-i,u.endY-c,r,o,s,l,e)&&t.push(e),s=t.length,0===s)return M(t),!1;for(c=!0,l=1/0,i=0;i<s;i++)e=t[i],n=(e.x-r)*(e.x-r)+(e.y-o)*(e.y-o),n<l&&(l=n,a.x=e.x,a.y=e.y);M(t)}else if(u.type===un)c=Kt.Tc(h.x-d,h.y-d,h.x+h.width+d,h.y+h.height+d,r,o,s,l,a);else if(u.type===cn){t=Ue.allocAt(h.x,h.y,h.width,h.height).Uc(d,d);e:if(0===t.width)c=Kt.Fe(t.x,t.y,t.x,t.y+t.height,r,o,s,l,a);else if(0===t.height)c=Kt.Fe(t.x,t.y,t.x+t.width,t.y,r,o,s,l,a);else{if(e=t.width/2,u=t.height/2,i=t.x+e,c=t.y+u,n=9999,r!==s&&(n=(o-l)/(r-s)),Math.abs(n)<9999){if(l=o-c-n*(r-i),e*e*n*n+u*u-l*l<0){a.x=NaN,a.y=NaN,c=!1;break e}d=Math.sqrt(e*e*n*n+u*u-l*l),s=(-e*e*n*l+e*u*d)/(u*u+e*e*n*n)+i,e=(-e*e*n*l-e*u*d)/(u*u+e*e*n*n)+i,u=n*(s-i)+l+c,l=n*(e-i)+l+c,Math.abs((r-s)*(r-s))+Math.abs((o-u)*(o-u))<Math.abs((r-e)*(r-e))+Math.abs((o-l)*(o-l))?(a.x=s,a.y=u):(a.x=e,a.y=l)}else{if(s=u*u,l=r-i,s-=s/(e*e)*l*l,s<0){a.x=NaN,a.y=NaN,c=!1;break e}l=Math.sqrt(s),s=c+l,l=c-l,Math.abs(s-o)<Math.abs(l-o)?(a.x=r,a.y=s):(a.x=r,a.y=l)}c=!0}Ue.free(t)}else if(u.type===dn){h=ge.alloc();var f=s-r,p=l-o,m=f*f+p*p;a.x=s,a.y=l;for(var g=0;g<u.figures.count;g++){var v=u.figures.j[g],y=v.segments;f=v.startX,p=v.startY;for(var b=f,A=p,w=0;w<y.count;w++){var C=y.j[w],k=C.type,S=C.endX,T=C.endY,N=!1;switch(k){case gn:b=S,A=T;break;case vn:N=cu(f,p,S,T,r,o,s,l,h);break;case yn:N=Kt.Mp(f,p,C.point1X,C.point1Y,C.point2X,C.point2Y,S,T,r,o,s,l,.6,h);break;case bn:N=Kt.Mp(f,p,(f+2*C.point1X)/3,(p+2*C.point1Y)/3,(2*C.point1X+S)/3,(2*C.point1X+S)/3,S,T,r,o,s,l,.6,h);break;case An:case wn:k=C.type===An?pn(C,v):mn(C,v,f,p);var I=k.length;if(0===I){N=cu(f,p,C.centerX,C.centerY,r,o,s,l,h);break}for(T=null,S=0;S<I;S++){if(T=k[S],0===S&&cu(f,p,T[0],T[1],r,o,s,l,h)){var D=uu(r,o,h,m,a);D<m&&(m=D,c=!0)}Kt.Mp(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],r,o,s,l,.6,h)&&(D=uu(r,o,h,m,a),D<m&&(m=D,c=!0))}S=T[6],T=T[7];break;default:x("Unknown Segment type: "+k)}f=S,p=T,N&&(N=uu(r,o,h,m,a),N<m&&(m=N,c=!0)),C.isClosed&&(S=b,T=A,cu(f,p,S,T,r,o,s,l,h)&&(C=uu(r,o,h,m,a),C<m&&(m=C,c=!0)))}}r=n-e,o=i-t,s=Math.sqrt(r*r+o*o),0!==s&&(r/=s,o/=s),a.x-=r*d,a.y-=o*d,ge.free(h)}else x("Unknown Geometry type: "+u.type);return!!c&&(this.transform.ta(a),!0)},n.uh=function(e,t){if(void 0===t)return e.lf(this.actualBounds);var n=this.qa;null===n&&(this.measure(1/0,1/0),n=this.qa),n=n.bounds;var i=this.strokeWidth/2,a=!1,r=ge.alloc();return r.h(n.x-i,n.y-i),e.ea(t.ta(r))&&(r.h(n.x-i,n.bottom+i),e.ea(t.ta(r))&&(r.h(n.right+i,n.bottom+i),e.ea(t.ta(r))&&(r.h(n.right+i,n.y-i),e.ea(t.ta(r))&&(a=!0)))),ge.free(r),a},n.Ic=function(e,t){if(this.uh(e,t)||void 0===t&&(t=this.transform,e.lf(this.actualBounds)))return!0;var n=st.alloc();n.set(t),n.bt();var i=e.left,a=e.right,r=e.top;e=e.bottom;var o=ge.alloc();if(o.h(i,r),n.ta(o),this.vh(o,!0))return ge.free(o),!0;if(o.h(a,r),n.ta(o),this.vh(o,!0))return ge.free(o),!0;if(o.h(i,e),n.ta(o),this.vh(o,!0))return ge.free(o),!0;if(o.h(a,e),n.ta(o),this.vh(o,!0))return ge.free(o),!0;var s=ge.alloc(),l=ge.alloc();return n.set(t),n.nv(this.transform),n.bt(),s.x=a,s.y=r,s.transform(n),o.x=i,o.y=r,o.transform(n),t=!1,du(this,o,s,l)?t=!0:(o.x=a,o.y=e,o.transform(n),du(this,o,s,l)?t=!0:(s.x=i,s.y=e,s.transform(n),du(this,o,s,l)?t=!0:(o.x=i,o.y=r,o.transform(n),du(this,o,s,l)&&(t=!0)))),ge.free(o),st.free(n),ge.free(s),ge.free(l),t},n.jx=function(e,t,n){function i(e,t){for(var n=e.length,i=0;i<n;i+=2)if(t.cd(e[i],e[i+1])>a)return!0;return!1}if(n&&null!==this.fill&&this.vh(e,!0))return!0;var a=e.Be(t),r=a;if(this.strokeWidth>1.5&&(a=this.strokeWidth/2+Math.sqrt(a),a*=a),t=this.qa,null===t&&(this.measure(1/0,1/0),t=this.qa,null===t))return!1;if(!n){var o=t.bounds,s=o.x,l=o.y,u=o.x+o.width;if(o=o.y+o.height,xe(e.x,e.y,s,l)<=a&&xe(e.x,e.y,u,l)<=a&&xe(e.x,e.y,s,o)<=a&&xe(e.x,e.y,u,o)<=a)return!0}if(s=t.startX,l=t.startY,u=t.endX,o=t.endY,t.type===ln){if(n=(s-u)*(e.x-u)+(l-o)*(e.y-o),we(e.x,e.y,s,l,u,o)<=((u-s)*(e.x-s)+(o-l)*(e.y-l)>=0&&n>=0?a:r))return!0}else{if(t.type===un)return t=!1,n&&(t=we(e.x,e.y,s,l,s,o)<=a||we(e.x,e.y,s,l,u,l)<=a||we(e.x,e.y,u,l,u,o)<=a||we(e.x,e.y,s,o,u,o)<=a),t;if(t.type===cn){t=e.x-(s+u)/2,r=e.y-(l+o)/2;var c=Math.abs(u-s)/2,d=Math.abs(o-l)/2;if(0===c||0===d)return we(e.x,e.y,s,l,u,o)<=a;if(!n)return!(xe(t,r,-c,0)>=a||xe(t,r,0,-d)>=a||xe(t,r,0,d)>=a||xe(t,r,c,0)>=a);if(e=Kt.Dy(c,d,t,r),e*e<=a)return!0}else if(t.type===dn){if(u=t.bounds,r=u.x,s=u.y,l=u.x+u.width,u=u.y+u.height,e.x>l&&e.x<r&&e.y>u&&e.y<s&&we(e.x,e.y,r,s,r,u)>a&&we(e.x,e.y,r,s,l,s)>a&&we(e.x,e.y,l,u,r,u)>a&&we(e.x,e.y,l,u,l,s)>a)return!1;if(r=Math.sqrt(a),!n){for(n=t.figures,t=0;t<n.count;t++){if(r=n.j[t],o=r.startX,c=r.startY,e.cd(o,c)>a)return!1;for(s=r.segments.j,l=s.length,u=0;u<l;u++)switch(d=s[u],d.type){case gn:case vn:if(o=d.endX,c=d.endY,e.cd(o,c)>a)return!1;break;case yn:var h=O();if(Kt.ze(o,c,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.8,h),o=i(h,e),M(h),o)return!1;if(o=d.endX,c=d.endY,e.cd(o,c)>a)return!1;break;case bn:if(h=O(),Kt.jq(o,c,d.point1X,d.point1Y,d.endX,d.endY,.8,h),o=i(h,e),M(h),o)return!1;if(o=d.endX,c=d.endY,e.cd(o,c)>a)return!1;break;case An:case wn:h=d.type===An?pn(d,r):mn(d,r,o,c);var f=h.length;if(0===f){if(o=d.centerX,c=d.centerY,e.cd(o,c)>a)return!1;break}d=null;for(var p=O(),m=0;m<f;m++)if(d=h[m],p.length=0,Kt.ze(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.8,p),i(p,e))return M(p),!1;M(p),null!==d&&(o=d[6],c=d[7]);break;default:x("Unknown Segment type: "+d.type)}}return!0}if(null===this.fill?rn(t,e.x,e.y,r):t.ea(e,r,!0))return!0}}return!1},n.bc=function(){this.qa=null},ou.makeGeometry=function(e,t,n){if("None"!==e.toArrow)var i=pu[e.toArrow];else"None"!==e.fromArrow?i=pu[e.fromArrow]:(i=Kt.Je[e.figure],"string"===typeof i&&(i=Kt.Je[i]),void 0===i&&x("Unknown Shape.figure: "+e.figure),i=i(e,t,n),i.el=t,i.cl=n);if(null===i){var a=Kt.Je.Rectangle;"function"===typeof a&&(i=a(e,t,n))}return i},p.Object.defineProperties(ou.prototype,{geometry:{get:function(){return null!==this.qa?this.qa:this.Pd},set:function(e){var t=this.qa;if(t!==e){this.Pd=this.qa=null!==e?e.freeze():null;var n=this.part;null!==n&&(n.Ug=NaN),this.s(),this.g("geometry",t,e),cs(this)&&(e=this.part,null!==e&&Ko(this,e,"geometryString"))}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(e){e=en(e);var t=e.normalize();this.geometry=e,this.position=e=ge.allocAt(-t.x,-t.y),ge.free(e)}},isGeometryPositioned:{get:function(){return this.Rn},set:function(e){var t=this.Rn;t!==e&&(this.Rn=e,this.s(),this.g("isGeometryPositioned",t,e))}},fill:{get:function(){return this.Wk},set:function(e){var t=this.Wk;t!==e&&(e instanceof Vs&&e.freeze(),this.Wk=e,this.R(),this.g("fill",t,e))}},stroke:{get:function(){return this.Gc},set:function(e){var t=this.Gc;t!==e&&(e instanceof Vs&&e.freeze(),this.Gc=e,this.R(),this.g("stroke",t,e))}},strokeWidth:{get:function(){return this.ih},set:function(e){var t=this.ih;if(t!==e)if(e>=0){this.ih=e,this.s();var n=this.part;null!==n&&(n.Ug=NaN),this.g("strokeWidth",t,e)}else k(e,"value >= 0",ou,"strokeWidth:value")}},strokeCap:{get:function(){return this.Il},set:function(e){var t=this.Il;t!==e&&("string"!==typeof e||"butt"!==e&&"round"!==e&&"square"!==e?k(e,'"butt", "round", or "square"',ou,"strokeCap"):(this.Il=e,this.R(),this.g("strokeCap",t,e)))}},strokeJoin:{get:function(){return this.Jl},set:function(e){var t=this.Jl;t!==e&&("string"!==typeof e||"miter"!==e&&"bevel"!==e&&"round"!==e?k(e,'"miter", "bevel", or "round"',ou,"strokeJoin"):(this.Jl=e,this.R(),this.g("strokeJoin",t,e)))}},strokeMiterLimit:{get:function(){return this.Jj},set:function(e){var t=this.Jj;if(t!==e&&e>=1){this.Jj=e,this.R();var n=this.part;null!==n&&(n.Ug=NaN),this.g("strokeMiterLimit",t,e)}}},strokeDashArray:{get:function(){return this.gh},set:function(e){var t=this.gh;if(t!==e){if(null!==e){for(var n=e.length,i=0,a=0;a<n;a++){var r=e[a];r>=0&&isFinite(r)||x("strokeDashArray:value "+r+" at index "+a+" must be a positive number or zero."),i+=r}if(0===i){if(null===t)return;e=null}}this.gh=e,this.R(),this.g("strokeDashArray",t,e)}}},strokeDashOffset:{get:function(){return this.hh},set:function(e){var t=this.hh;t!==e&&e>=0&&(this.hh=e,this.R(),this.g("strokeDashOffset",t,e))}},figure:{get:function(){return this.Vk},set:function(e){var t=this.Vk;if(t!==e){var n=Kt.Je[e];"function"===typeof n?n=e:(n=Kt.Je[e.toLowerCase()])||x("Unknown Shape.figure: "+e),t!==n&&(e=this.part,null!==e&&(e.Ug=NaN),this.Vk=n,this.Pd=null,this.bc(),this.s(),this.g("figure",t,n))}}},toArrow:{get:function(){return this.Pl},set:function(e){var t=this.Pl;if(!0===e?e="Standard":!1===e&&(e=""),t!==e){var n=fu(e);null===n?x("Unknown Shape.toArrow: "+e):t!==n&&(this.Pl=n,this.Pd=null,this.bc(),this.s(),hu(this),this.g("toArrow",t,n))}}},fromArrow:{get:function(){return this.Yk},set:function(e){var t=this.Yk;if(!0===e?e="Standard":!1===e&&(e=""),t!==e){var n=fu(e);null===n?x("Unknown Shape.fromArrow: "+e):t!==n&&(this.Yk=n,this.Pd=null,this.bc(),this.s(),hu(this),this.g("fromArrow",t,n))}}},spot1:{get:function(){return this.bf},set:function(e){var t=this.bf;t.A(e)||(this.bf=e=e.I(),this.s(),this.g("spot1",t,e))}},spot2:{get:function(){return this.cf},set:function(e){var t=this.cf;t.A(e)||(this.cf=e=e.I(),this.s(),this.g("spot2",t,e))}},parameter1:{get:function(){return this.Ko},set:function(e){var t=this.Ko;t!==e&&(this.Ko=e,this.bc(),this.s(),this.g("parameter1",t,e))}},parameter2:{get:function(){return this.Lo},set:function(e){var t=this.Lo;t!==e&&(this.Lo=e,this.bc(),this.s(),this.g("parameter2",t,e))}},naturalBounds:{get:function(){if(null!==this.qa)return this.qc.assign(this.qa.bounds),this.qc;var e=this.desiredSize;return new Ue(0,0,e.width,e.height)}},pathPattern:{get:function(){return this.No},set:function(e){var t=this.No;t!==e&&(this.No=e,this.R(),this.g("pathPattern",t,e))}},geometryStretch:{get:function(){return this.Gn},set:function(e){var t=this.Gn;t!==e&&(this.Gn=e,this.g("geometryStretch",t,e))}},interval:{get:function(){return this.Cd},set:function(e){var t=this.Cd;if(e=Math.floor(e),t!==e&&e>=0){this.Cd=e;var n=this.diagram;null!==n&&this.panel===n.grid&&Ir(n),this.s(),n=this.panel,null!==n&&(n.Mg=null),this.g("interval",t,e)}}},graduatedStart:{get:function(){return this.Bd},set:function(e){var t=this.Bd;t!==e&&(e<0?e=0:e>1&&(e=1),this.Bd=e,this.s(),this.g("graduatedStart",t,e))}},graduatedEnd:{get:function(){return this.zd},set:function(e){var t=this.zd;t!==e&&(e<0?e=0:e>1&&(e=1),this.zd=e,this.s(),this.g("graduatedEnd",t,e))}},graduatedSkip:{get:function(){return this.Ad},set:function(e){var t=this.Ad;t!==e&&(this.Ad=e,this.s(),this.g("graduatedSkip",t,e))}}}),ou.prototype.intersectsRect=ou.prototype.Ic,ou.prototype.containedInRect=ou.prototype.uh,ou.prototype.getNearestIntersectionPoint=ou.prototype.Tc,ou.prototype.getDocumentBounds=ou.prototype.Vp,ou.prototype.getDocumentPoint=ou.prototype.ma;var pu=new J,mu=new J;function gu(){Yo.call(this),Uu||(ku(),Uu=!0),this.Pb="",this.Gc="black",this.ee="13px sans-serif",this.ui="start",this.yd=Zr,this.zi=jt,this.nj=!0,this.ci=this.di=!1,this.Zf=Lu,this.jg=Du,this.Mr=this.oc=0,this.hu=this.iu=null,this.nd=new qu,this.An=!1,this.Cc=this.Xm=this.xp=this.vi=this.yp=null,this.af=this.$e=0,this.me=1/0,this.jl=0,this.Cd=1,this.Bd=0,this.zd=1,this.Ad=this.ij=null}function vu(e,t){e.H=6144|t.H,e.lb=t.opacity,e.ib=t.background,e.dc=t.areaBackground,e.Nc=t.desiredSize.I(),e.Qf=t.minSize.I(),e.Pf=t.maxSize.I(),e.Nf=t.Nf.copy(),e.Ca=t.scale,e.zc=t.angle,e.ue=t.stretch,e.Tg=t.margin.I(),e.wb=t.alignment.I(),e.wk=t.alignmentFocus.I(),e.yl=t.segmentFraction,e.zl=t.segmentOffset.I(),e.Al=t.segmentOrientation,null!==t.kd&&(e.kd=t.kd.copy()),e.Cl=t.shadowVisible,t instanceof gu&&(e.Pb=t.Pb,e.Gc=t.Gc,e.ee=t.ee,e.ui=t.ui,e.yd=t.yd,e.zi=t.zi,e.nj=t.nj,e.di=t.di,e.ci=t.ci,e.Zf=t.Zf,e.jg=t.jg,e.nd.Hf=null,e.$e=t.$e,e.af=t.af,e.me=t.me,e.jl=t.jl,e.Cd=t.Cd,e.Bd=t.Bd,e.zd=t.zd,e.ij=t.ij,e.Ad=t.Ad)}function yu(e,t,n,i,a){t=t.trim();var r=0,o=e.ee,s=e.$e+e.af;s=Math.max(0,wu(e)+s);var l=e.Zf===Ou?xu(o):0;if(e.oc>=e.me)null!==a&&a.h(0,s);else{var u=t;if(e.jg===Nu)if(n.ig=1,o=Au(t),0===l||o<=i)n.Ec=Math.max(n.Ec,o),n.Wc.push(n.Ec),n.Ac.push(t),null!==a&&a.h(o,s);else{for(r=bu(e,u),u=u.substr(r.length),t=bu(e,u),o=Au(r+t);t.length>0&&o<=i;)r+=t,u=u.substr(t.length),t=bu(e,u),o=Au((r+t).trim());for(r+=t.trim(),i=Math.max(1,i-l);Au(r)>i&&r.length>1;)r=r.substr(0,r.length-1);r+=_u,t=Au(r),n.Wc.push(t),n.Ec=t,n.Ac.push(r),null!==a&&a.h(t,s)}else{for(l=0,0===u.length&&(l=1,n.Wc.push(0),n.Ac.push(u));u.length>0;){var c=bu(e,u);for(u=u.substr(c.length);Au(c)>i;){var d=1;for(o=Au(c.substr(0,d)),t=0;o<=i;)d++,t=o,o=Au(c.substr(0,d));if(1===d?(n.Wc[e.oc+l]=o,r=Math.max(r,o)):(n.Wc[e.oc+l]=t,r=Math.max(r,t)),d--,d<1&&(d=1),n.Ac[e.oc+l]=c.substr(0,d),l++,c=c.substr(d),e.oc+l>e.me)break}for(t=bu(e,u),o=Au(c+t);t.length>0&&o<=i;)c+=t,u=u.substr(t.length),t=bu(e,u),o=Au((c+t).trim());if(c=c.trim(),""!==c&&("­"===c[c.length-1]&&(c=c.substring(0,c.length-1)+"‐"),0===t.length?(n.Wc.push(o),r=Math.max(r,o)):(t=Au(c),n.Wc.push(t),r=Math.max(r,t)),n.Ac.push(c),l++,e.oc+l>e.me))break}n.ig=Math.min(e.me,l),n.Ec=Math.max(n.Ec,r),null!==a&&a.h(n.Ec,s*n.ig)}}}function bu(e,t){if(e.jg===Pu)return t.substr(0,1);e=t.length;for(var n=0,i=Mu;n<e&&!i.test(t.charAt(n));)n++;for(;n<e&&i.test(t.charAt(n));)n++;return n>=e?t:t.substr(0,n)}function Au(e){return null===Fu?8*e.length:Fu.measureText(e).width}function wu(e){if(null!==e.nd.Hf)return e.nd.Hf;var t=e.ee;if(null===Fu){var n=16;return e.nd.Hf=n}return void 0!==Eu[t]&&Ru<5e3?n=Eu[t]:(n=1.3*Fu.measureText("M").width,Eu[t]=n,Ru++),e.nd.Hf=n}function xu(e){if(null===Fu)return 6;if(void 0!==ju[e]&&Bu<5e3)var t=ju[e];else t=Fu.measureText(_u).width,ju[e]=t,Bu++;return t}function Cu(e,t,n){var i=e.Pb.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),a=e.$e+e.af;if(a=Math.max(0,wu(e)+a),0===i.length)return n.Ec=0,e.oc=1,a;if(!e.isMultiline){var r=i.indexOf("\n",0);r>=0&&(i=i.substr(0,r))}r=0;for(var o,s=e.oc=0,l=!1;!l;){if(o=i.indexOf("\n",s),-1===o&&(o=i.length,l=!0),s<=o){if(s=i.substr(s,o-s),e.jg!==Nu){n.ig=0;var u=Be.alloc();yu(e,s,n,t,u),r+=u.height,Be.free(u),e.oc+=n.ig}else yu(e,s,n,t,null),r+=a,e.oc++;e.oc===e.me&&(l=!0)}s=o+1}return e.Mr=r}function ku(){Mu=/[ \u200b\u00ad]/,Eu=new J,ju=new J,Fu=fo?new Rs(null).context:null}ou.className="Shape",ou.getFigureGenerators=function(){var e,t=new me;for(e in Kt.Je)e!==e.toLowerCase()&&t.add(e,Kt.Je[e]);return t.freeze(),t},ou.defineFigureGenerator=function(e,t){var n=e.toLowerCase(),i=Kt.Je;i[e]=t,i[n]=e},ou.getArrowheadGeometries=function(){var e=new me;for(i in Kt.Bm)if(void 0===pu[i]){var t=en(Kt.Bm[i],!1);pu[i]=t,t=i.toLowerCase(),t!==i&&(pu[t]=i)}for(var n in pu)if(n!==n.toLowerCase()){var i=pu[n];i instanceof Jt&&e.add(n,i)}return e.freeze(),e},ou.defineArrowheadGeometry=function(e,t){var n=null;n="string"===typeof t?en(t,!1):t,t=e.toLowerCase(),"none"!==t&&e!==t||x("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+e);var i=pu;i[e]=n,i[t]=e},f(gu,Yo),gu.prototype.cloneProtected=function(e){Yo.prototype.cloneProtected.call(this,e),e.Pb=this.Pb,e.Gc=this.Gc,e.ee=this.ee,e.ui=this.ui,e.yd=this.yd,e.zi=this.zi,e.nj=this.nj,e.di=this.di,e.ci=this.ci,e.Zf=this.Zf,e.jg=this.jg,e.oc=this.oc,e.Mr=this.Mr,e.iu=this.iu,e.hu=this.hu,e.nd.Vl(this.nd),e.An=this.An,e.yp=this.yp,e.vi=this.vi,e.xp=this.xp,e.Xm=this.Xm,e.Cc=this.Cc,e.$e=this.$e,e.af=this.af,e.me=this.me,e.jl=this.jl,e.Cd=this.Cd,e.Bd=this.Bd,e.zd=this.zd,e.ij=this.ij,e.Ad=this.Ad},n=gu.prototype,n.fb=function(e){e.classType===gu?this.wrap=e:Yo.prototype.fb.call(this,e)},n.toString=function(){return this.Pb.length>22?'TextBlock("'+this.Pb.substring(0,20)+'"...)':'TextBlock("'+this.Pb+'")'},n.s=function(){Yo.prototype.s.call(this),this.hu=this.iu=null},n.Ci=function(e,t){if(null!==this.Gc&&0!==this.Pb.length&&null!==this.ee){var n=this.naturalBounds,i=this.actualBounds,a=n.width,r=n.height,o=wu(this),s=e.textAlign=this.ui,l=t.Tn;"start"===s?s=l?"right":"left":"end"===s&&(s=l?"left":"right"),l=this.di;var u=this.ci;ns(this,e,this.Gc,!0,!1,n,i),(l||u)&&ns(this,e,this.Gc,!1,!1,n,i),i=0,n=!1;var c=ge.allocAt(0,0);this.rd.ta(c);var d=ge.allocAt(0,o);this.rd.ta(d);var h=c.Be(d);switch(ge.free(c),ge.free(d),c=t.scale,h*c*c<8&&(n=!0),t.Yc!==e&&(n=!1),!1===t.De("textGreeking")&&(n=!1),t=this.$e,h=this.af,this.flip){case oo:e.translate(a,0),e.scale(-1,1);break;case ro:e.translate(0,r),e.scale(1,-1);break;case so:e.translate(a,r),e.scale(-1,-1)}c=this.oc,d=(t+o+h)*c,r>d&&(i=this.zi,i=i.y*r-i.y*d+i.offsetY),d=this.nd;for(var f=0;f<c;f++){var p=d.Wc[f];p>a&&(p=a),i+=t;var m=d.Ac[f],g=e,v=i,y=s,b=0;if(n)"left"===y?b=0:"right"===y?b=a-p:"center"===y&&(b=(a-p)/2),g.fillRect(0+b,v+.25*o,p,1);else{"left"===y?b=0:"right"===y?b=a:"center"===y&&(b=a/2);var A=null!==Su?Su(this,o):.75*o;g.fillText(m,0+b,v+A),m=o/20|0,0===m&&(m=1),"right"===y?b-=p:"center"===y&&(b-=p/2),l&&(y=null!==Tu?Tu(this,o):.8*o,g.beginPath(),g.lineWidth=m,g.moveTo(0+b,v+y),g.lineTo(0+b+p,v+y),g.stroke()),u&&(g.beginPath(),g.lineWidth=m,v=v+o-o/2.2|0,m%2!==0&&(v+=.5),g.moveTo(0+b,v),g.lineTo(0+b+p,v),g.stroke())}i+=o+h}switch(this.flip){case oo:e.scale(-1,1),e.translate(-a,0);break;case ro:e.scale(1,-1),e.translate(0,-r);break;case so:e.scale(-1,-1),e.translate(-a,-r)}}},n.hm=function(e,t,n,i){this.jl=e;var a,r=this.ee;if(null!==Fu&&Vu!==r&&(Vu=Fu.font=r),r=this.nd,r.reset(),isNaN(this.desiredSize.width)){var o=this.Pb.replace(/\r\n/g,"\n").replace(/\r/g,"\n");if(0===o.length)o=0;else if(this.isMultiline){for(var s=a=0,l=!1;!l;){var u=o.indexOf("\n",s);-1===u&&(u=o.length,l=!0),a=Math.max(a,Au(o.substr(s,u-s).trim())),s=u+1}o=a}else a=o.indexOf("\n",0),a>=0&&(o=o.substr(0,a)),o=Au(o);o=Math.min(o,e/this.scale),o=Math.max(8,o)}else o=this.desiredSize.width;if(null!==this.panel&&(o=Math.min(o,this.panel.maxSize.width)),a=Cu(this,o,r),a=isNaN(this.desiredSize.height)?Math.min(a,t/this.scale):this.desiredSize.height,s=a,0!==r.Ec&&1!==r.Ac.length&&this.Zf===Ou&&(t=this.ee,t=this.Zf===Ou?xu(t):0,l=this.$e+this.af,l=Math.max(0,wu(this)+l),s=Math.min(this.maxLines-1,Math.max(Math.floor(s/l+.01)-1,0)),!(s+1>=r.Ac.length))){for(l=r.Ac[s],t=Math.max(1,e-t);Au(l)>t&&l.length>1;)l=l.substr(0,l.length-1);l+=_u,t=Au(l),r.Ac[s]=l,r.Ac=r.Ac.slice(0,s+1),r.Wc[s]=t,r.Wc=r.Wc.slice(0,s+1),r.ig=r.Ac.length,r.Ec=Math.max(r.Ec,t),this.oc=r.ig}(this.wrap===Iu||isNaN(this.desiredSize.width))&&(o=isNaN(e)?r.Ec:Math.min(e,r.Ec),isNaN(this.desiredSize.width)&&(o=Math.max(8,o))),o=Math.max(n,o),a=Math.max(i,a),qe(this.qc,o,a),Xo(this,0,0,o,a)},n.th=function(e,t,n,i){es(this,e,t,n,i)},p.Object.defineProperties(gu.prototype,{font:{get:function(){return this.ee},set:function(e){var t=this.ee;t!==e&&(this.ee=e,this.nd.Hf=null,this.s(),this.g("font",t,e))}},text:{get:function(){return this.Pb},set:function(e){var t=this.Pb;e=null!==e&&void 0!==e?e.toString():"",t!==e&&(this.Pb=e,this.s(),this.g("text",t,e))}},textAlign:{get:function(){return this.ui},set:function(e){var t=this.ui;t===e||"start"!==e&&"end"!==e&&"left"!==e&&"right"!==e&&"center"!==e||(this.ui=e,this.R(),this.g("textAlign",t,e))}},flip:{get:function(){return this.yd},set:function(e){var t=this.yd;t!==e&&(this.yd=e,this.R(),this.g("flip",t,e))}},verticalAlignment:{get:function(){return this.zi},set:function(e){var t=this.zi;t.A(e)||(this.zi=e=e.I(),rs(this),this.g("verticalAlignment",t,e))}},naturalBounds:{get:function(){if(!this.qc.o()){var e=Be.alloc();yu(this,this.Pb,this.nd,999999,e);var t=e.width;Be.free(e),e=Cu(this,t,this.nd);var n=this.desiredSize;isNaN(n.width)||(t=n.width),isNaN(n.height)||(e=n.height),qe(this.qc,t,e)}return this.qc}},isMultiline:{get:function(){return this.nj},set:function(e){var t=this.nj;t!==e&&(this.nj=e,this.s(),this.g("isMultiline",t,e))}},isUnderline:{get:function(){return this.di},set:function(e){var t=this.di;t!==e&&(this.di=e,this.R(),this.g("isUnderline",t,e))}},isStrikethrough:{get:function(){return this.ci},set:function(e){var t=this.ci;t!==e&&(this.ci=e,this.R(),this.g("isStrikethrough",t,e))}},wrap:{get:function(){return this.jg},set:function(e){var t=this.jg;t!==e&&(this.jg=e,this.s(),this.g("wrap",t,e))}},overflow:{get:function(){return this.Zf},set:function(e){var t=this.Zf;t!==e&&(this.Zf=e,this.s(),this.g("overflow",t,e))}},stroke:{get:function(){return this.Gc},set:function(e){var t=this.Gc;t!==e&&(e instanceof Vs&&e.freeze(),this.Gc=e,this.R(),this.g("stroke",t,e))}},lineCount:{get:function(){return this.oc}},editable:{get:function(){return this.An},set:function(e){var t=this.An;t!==e&&(this.An=e,this.g("editable",t,e))}},textEditor:{get:function(){return this.yp},set:function(e){var t=this.yp;t!==e&&(this.yp=e,this.g("textEditor",t,e))}},errorFunction:{get:function(){return this.Cc},set:function(e){var t=this.Cc;t!==e&&(this.Cc=e,this.g("errorFunction",t,e))}},interval:{get:function(){return this.Cd},set:function(e){var t=this.Cd;if(e=Math.floor(e),t!==e&&e>=0){this.Cd=e,this.s();var n=this.panel;null!==n&&(n.Mg=null),this.g("interval",t,e)}}},graduatedStart:{get:function(){return this.Bd},set:function(e){var t=this.Bd;t!==e&&(e<0?e=0:e>1&&(e=1),this.Bd=e,this.s(),this.g("graduatedStart",t,e))}},graduatedEnd:{get:function(){return this.zd},set:function(e){var t=this.zd;t!==e&&(e<0?e=0:e>1&&(e=1),this.zd=e,this.s(),this.g("graduatedEnd",t,e))}},graduatedFunction:{get:function(){return this.ij},set:function(e){var t=this.ij;t!==e&&(this.ij=e,this.s(),this.g("graduatedFunction",t,e))}},graduatedSkip:{get:function(){return this.Ad},set:function(e){var t=this.Ad;t!==e&&(this.Ad=e,this.s(),this.g("graduatedSkip",t,e))}},textValidation:{get:function(){return this.vi},set:function(e){var t=this.vi;t!==e&&(this.vi=e,this.g("textValidation",t,e))}},textEdited:{get:function(){return this.xp},set:function(e){var t=this.xp;t!==e&&(this.xp=e,this.g("textEdited",t,e))}},spacingAbove:{get:function(){return this.$e},set:function(e){var t=this.$e;t!==e&&(this.$e=e,this.g("spacingAbove",t,e))}},spacingBelow:{get:function(){return this.af},set:function(e){var t=this.af;t!==e&&(this.af=e,this.g("spacingBelow",t,e))}},maxLines:{get:function(){return this.me},set:function(e){var t=this.me;t!==e&&(e=Math.floor(e),e<=0&&k(e,"> 0",gu,"maxLines"),this.me=e,this.g("maxLines",t,e),this.s())}},metrics:{get:function(){return this.nd}},choices:{get:function(){return this.Xm},set:function(e){var t=this.Xm;t!==e&&(this.Xm=e,this.g("choices",t,e))}}});var Su=null,Tu=null,Nu=new Y(gu,"None",0),Iu=new Y(gu,"WrapFit",1),Du=new Y(gu,"WrapDesiredSize",2),Pu=new Y(gu,"WrapBreakAll",3),Lu=new Y(gu,"OverflowClip",0),Ou=new Y(gu,"OverflowEllipsis",1),Mu=null,Eu=null,Ru=0,ju=null,Bu=0,_u="...",Vu="",Fu=null,Uu=!1;function qu(){this.Ec=this.ig=0,this.Wc=[],this.Ac=[],this.Hf=null}function zu(){Yo.call(this),this.Ig=null,this.qp="",this.fh=Ze,this.al=Xr,this.df=this.Cc=null,this.$k=ft,this.yd=Zr,this.Ll=null,this.bu=!1,this.ir=!0,this.nl=!1,this.Dl=null}function Qu(e){void 0===e&&(e=""),""!==e?Gu[e]&&(delete Gu[e],Yu--):(Gu=new J,Yu=0)}function $u(e,t){e.zr=!0,e.Zk=!1;for(var n,i=_(),a=i.length,r=0;r<a;r++){var o=i[r],s=o.Cj.J(e.src);if(null!==s)for(var l=s.length,u=0;u<l;u++)n=s[u],o.mu.add(n),o.cc(),null===e.su&&(e.su=t,null!==n.df&&n.df(n,t))}}function Hu(e,t){e.Zk=t;for(var n,i=_(),a=i.length,r=0;r<a;r++)if(n=i[r].Cj.J(e.src),null!==n){for(var o=n.length,s=O(),l=0;l<o;l++)s.push(n[l]);for(l=0;l<o;l++)n=s[l],null!==n.Cc&&n.Cc(n,t);M(s)}}gu.className="TextBlock",gu.getEllipsis=function(){return _u},gu.setEllipsis=function(e){_u=e,ju=new J,Bu=0},gu.getBaseline=function(){return Su},gu.setBaseline=function(e){Su=e,e=_();for(var t=e.length,n=0;n<t;n++)e[n].sf()},gu.getUnderline=function(){return Tu},gu.setUnderline=function(e){Tu=e,e=_();for(var t=e.length,n=0;n<t;n++)e[n].sf()},gu.isValidFont=function(e){if(Uu||(ku(),Uu=!0),null===Fu)return!0;var t=Fu.font;if(e===t||"10px sans-serif"===e)return!0;Fu.font="10px sans-serif",Fu.font=e;var n=Fu.font;if("10px sans-serif"!==n)return Fu.font=t,!0;Fu.font="19px serif";var i=Fu.font;return Fu.font=e,n=Fu.font,Fu.font=t,n!==i},gu.None=Nu,gu.WrapFit=Iu,gu.WrapDesiredSize=Du,gu.WrapBreakAll=Pu,gu.OverflowClip=Lu,gu.OverflowEllipsis=Ou,qu.prototype.reset=function(){this.Ec=this.ig=0,this.Hf=null,this.Wc=[],this.Ac=[]},qu.prototype.Vl=function(e){this.ig=e.ig,this.Hf=e.Hf,this.Ec=e.Ec,this.Wc=D(e.Wc),this.Ac=D(e.Ac)},p.Object.defineProperties(qu.prototype,{arrSize:{get:function(){return this.Wc}},arrText:{get:function(){return this.Ac}},maxLineWidth:{get:function(){return this.Ec}},fontHeight:{get:function(){return this.Hf}}}),qu.className="TextBlockMetrics",f(zu,Yo),zu.prototype.cloneProtected=function(e){Yo.prototype.cloneProtected.call(this,e),e.element=this.Ig,e.qp=this.qp,e.fh=this.fh.I(),e.al=this.al,e.yd=this.yd,e.Cc=this.Cc,e.df=this.df,e.$k=this.$k.I(),e.ir=this.ir,e.Dl=this.Dl},n=zu.prototype,n.fb=function(e){e===Zr||e===eo||e===ao?this.imageStretch=e:Yo.prototype.fb.call(this,e)},n.toString=function(){return"Picture("+this.source+")#"+le(this)},n.Kz=function(){if(""!==this.source){Qu(this.source);var e=this.source;this.source="",this.source=e}},n.sf=function(){this.R()},n.Ci=function(e,t){var n=this.Ig;if(null!==n){var i=n.src;if(null!==i&&""!==i||x('Element has no source ("src") attribute: '+n),!(n.Zk instanceof Event)){i=this.naturalBounds;var a=0,r=0,o=this.bu,s=o?+n.width:n.naturalWidth;if(o=o?+n.height:n.naturalHeight,void 0===s&&n.videoWidth&&(s=n.videoWidth),void 0===o&&n.videoHeight&&(o=n.videoHeight),s=s||i.width,o=o||i.height,0!==s&&0!==o){var l=s,u=o;this.sourceRect.o()&&(a=this.fh.x,r=this.fh.y,s=this.fh.width,o=this.fh.height);var c=s,d=o,h=this.al,f=this.$k;switch(h){case Zr:if(this.sourceRect.o())break;c>=i.width&&(a=a+f.offsetX+(c*f.x-i.width*f.x)),d>=i.height&&(r=r+f.offsetY+(d*f.y-i.height*f.y)),s=Math.min(i.width,c),o=Math.min(i.height,d);break;case Xr:c=i.width,d=i.height;break;case eo:case ao:h===eo?(h=Math.min(i.height/d,i.width/c),c*=h,d*=h):h===ao&&(h=Math.max(i.height/d,i.width/c),c*=h,d*=h,c>=i.width&&(a=(a+f.offsetX+(c*f.x-i.width*f.x)/c)*s),d>=i.height&&(r=(r+f.offsetY+(d*f.y-i.height*f.y)/d)*o),s*=1/(c/i.width),o*=1/(d/i.height),c=i.width,d=i.height)}h=this.Ce()*t.scale;var p=s*o/(c*h*d*h),m=n.__goCache;h=null;var g=Wu;if(n.zr&&void 0!==m&&p>g*g)for(null===m.Bi&&(Ju(m,4,l,u,n),Ju(m,16,l,u,n)),l=m.Bi,u=l.length,h=l[0],g=0;g<u;g++){if(!(l[g].ratio*l[g].ratio<p))break;h=l[g]}if(!t.xn){if(null===this.Ll)if(null===this.Ig)this.Ll=!1;else{l=new Rs(null).context,l.drawImage(this.Ig,0,0);try{l.getImageData(0,0,1,1).data[3]&&(this.Ll=!1),this.Ll=!1}catch(v){this.Ll=!0}}if(this.Ll)return}switch(l=0,c<i.width&&(l=f.offsetX+(i.width*f.x-c*f.x)),u=0,d<i.height&&(u=f.offsetY+(i.height*f.y-d*f.y)),this.flip){case oo:e.translate(Math.min(i.width,c),0),e.scale(-1,1);break;case ro:e.translate(0,Math.min(i.height,d)),e.scale(1,-1);break;case so:e.translate(Math.min(i.width,c),Math.min(i.height,d)),e.scale(-1,-1)}if(t.De("pictureRatioOptimization")&&!t.mj&&void 0!==m&&null!==h&&1!==h.ratio){e.save(),t=h.ratio;try{e.drawImage(h.source,a/t,r/t,Math.min(h.source.width,s/t),Math.min(h.source.height,o/t),l,u,Math.min(i.width,c),Math.min(i.height,d))}catch(v){this.ir=!1}e.restore()}else try{e.drawImage(n,a,r,s,o,l,u,Math.min(i.width,c),Math.min(i.height,d))}catch(v){this.ir=!1}switch(this.flip){case oo:e.scale(-1,1),e.translate(-Math.min(i.width,c),0);break;case ro:e.scale(1,-1),e.translate(0,-Math.min(i.height,d));break;case so:e.scale(-1,-1),e.translate(-Math.min(i.width,c),-Math.min(i.height,d))}}}}},n.hm=function(e,t,n,i){var a=this.desiredSize,r=os(this,!0),o=this.Ig,s=this.bu;(s||!this.nl&&o&&o.complete)&&(this.nl=!0),null===o&&(isFinite(a.width)||(e=0),isFinite(a.height)||(t=0)),isFinite(a.width)||r===Xr||r===no?(isFinite(e)||(e=this.sourceRect.o()?this.sourceRect.width:s?+o.width:o.naturalWidth),n=0):null!==o&&!1!==this.nl&&(e=this.sourceRect.o()?this.sourceRect.width:s?+o.width:o.naturalWidth),isFinite(a.height)||r===Xr||r===io?(isFinite(t)||(t=this.sourceRect.o()?this.sourceRect.height:s?+o.height:o.naturalHeight),i=0):null!==o&&!1!==this.nl&&(t=this.sourceRect.o()?this.sourceRect.height:s?+o.height:o.naturalHeight),isFinite(a.width)&&(e=a.width),isFinite(a.height)&&(t=a.height),a=this.maxSize,r=this.minSize,n=Math.max(n,r.width),i=Math.max(i,r.height),e=Math.min(a.width,e),t=Math.min(a.height,t),e=Math.max(n,e),t=Math.max(i,t),null===o||o.complete||(isFinite(e)||(e=0),isFinite(t)||(t=0)),qe(this.qc,e,t),Xo(this,0,0,e,t)},n.th=function(e,t,n,i){es(this,e,t,n,i)},p.Object.defineProperties(zu.prototype,{element:{get:function(){return this.Ig},set:function(e){var t=this.Ig;if(t!==e){if(null===e||e instanceof HTMLImageElement||e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||x("Picture.element must be an instance of Image, Canvas, or Video, not: "+e),this.bu=e instanceof HTMLCanvasElement,this.Ig=e,null!==e)if(e instanceof HTMLCanvasElement||!0===e.complete)e.Zk instanceof Event&&null!==this.Cc&&this.Cc(this,e.Zk),!0===e.zr&&null!==this.df&&this.df(this,e.su),e.zr=!0,this.desiredSize.o()||(ms(this,!1),this.s());else{var n=this;e.yw||(e.addEventListener("load",(function(t){$u(e,t),n.desiredSize.o()||(ms(n,!1),n.s())})),e.addEventListener("error",(function(t){Hu(e,t)})),e.yw=!0)}this.g("element",t,e),this.R()}}},source:{get:function(){return this.qp},set:function(e){var t=this.qp;if(t!==e){this.qp=e;var n=Gu,i=this.diagram,a=null;if(void 0!==n[e])a=n[e];else{Yu>30&&(Qu(),n=Gu),a=w("img");var r=this;a.addEventListener("load",(function(e){$u(a,e),r.desiredSize.o()||(ms(r,!1),r.s())})),a.addEventListener("error",(function(e){Hu(a,e)})),a.yw=!0;var o=this.Dl;null!==o&&(a.crossOrigin=o(this)),a.src=e,n[a.src]=a,Yu++}null!==i&&Rr(i,this),this.element=a,null!==i&&Mr(i,this),void 0===a.__goCache&&(a.__goCache=new Ku),this.s(),this.R(),this.g("source",t,e)}}},sourceCrossOrigin:{get:function(){return this.Dl},set:function(e){if(this.Dl!==e&&(this.Dl=e,null!==this.element)){var t=this.element.src;null===e&&"string"===typeof t?this.element.crossOrigin=null:null!==e&&(this.element.crossOrigin=e(this)),this.element.src=t}}},sourceRect:{get:function(){return this.fh},set:function(e){var t=this.fh;t.A(e)||(this.fh=e=e.I(),this.R(),this.g("sourceRect",t,e))}},imageStretch:{get:function(){return this.al},set:function(e){var t=this.al;t!==e&&(this.al=e,this.R(),this.g("imageStretch",t,e))}},flip:{get:function(){return this.yd},set:function(e){var t=this.yd;t!==e&&(this.yd=e,this.R(),this.g("flip",t,e))}},imageAlignment:{get:function(){return this.$k},set:function(e){var t=this.$k;t.A(e)||(this.$k=e=e.I(),this.s(),this.g("imageAlignment",t,e))}},errorFunction:{get:function(){return this.Cc},set:function(e){var t=this.Cc;t!==e&&(this.Cc=e,this.g("errorFunction",t,e))}},successFunction:{get:function(){return this.df},set:function(e){var t=this.df;t!==e&&(this.df=e,this.g("successFunction",t,e))}},naturalBounds:{get:function(){return this.qc}}}),zu.prototype.redraw=zu.prototype.sf,zu.prototype.reloadSource=zu.prototype.Kz;var Gu=null,Yu=0,Wu=4;function Ku(){this.Bi=null}function Ju(e,t,n,i,a){null===e.Bi&&(e.Bi=[]);var r=new Rs(null),o=r.context,s=1/t;r.width=n/t,r.height=i/t,t=new Xu(r.Ga,t),n=1,e.Bi.length>0&&(n=e.Bi[e.Bi.length-1],a=n.source,n=n.ratio),o.setTransform(s*n,0,0,s*n,0,0),o.drawImage(a,0,0),e.Bi.push(t)}function Xu(e,t){this.source=e,this.ratio=t}function Zu(){this.Us=new Jt,this.ec=null}function ec(e,t,n,i,a){e.ec=new hn,e.ec.startX=t,e.ec.startY=n,e.ec.isFilled=i,e.Us.figures.add(e.ec),void 0!==a&&(e.ec.isShadowed=a)}function tc(e){var t=e.ec.segments.length;t>0&&e.ec.segments.N(t-1).close()}function nc(e,t,n,i,a,r,o){var s;void 0===s&&(s=!1);var l=new fn(yn);l.point1X=t,l.point1Y=n,l.point2X=i,l.point2Y=a,l.endX=r,l.endY=o,s&&l.close(),e.ec.segments.add(l)}function ic(e,t,n,i,a){var r;void 0===r&&(r=!1);var o=new fn(bn);o.point1X=t,o.point1Y=n,o.endX=i,o.endY=a,r&&o.close(),e.ec.segments.add(o)}function ac(e,t,n,i,a,r,o,s){var l;void 0===l&&(l=!1),t=new fn(wn,o,s,t,n,i,a,r),l&&t.close(),e.ec.segments.add(t)}function rc(e){var t=oc;return null!==t?(oc=null,t.reset(e),t):(t=new Zu,t.reset(e),t)}zu.className="Picture",Gu=new J,zu.clearCache=Qu,Ku.className="PictureCacheArray",Xu.className="PictureCacheInstance",n=Zu.prototype,n.reset=function(e){null!==e?(e.ha(),this.Us=e,e.figures.clear()):this.Us=new Jt,this.ec=null},n.qq=function(e){this.ec.isShadowed=e},n.moveTo=function(e,t,n){void 0===n&&(n=!1);var i=new fn(gn);i.endX=e,i.endY=t,n&&i.close(),this.ec.segments.add(i)},n.lineTo=function(e,t,n){void 0===n&&(n=!1);var i=new fn(vn);i.endX=e,i.endY=t,n&&i.close(),this.ec.segments.add(i)},n.arcTo=function(e,t,n,i,a,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var s=new fn(An);s.startAngle=e,s.sweepAngle=t,s.centerX=n,s.centerY=i,s.radiusX=a,s.radiusY=0!==r?r:a,o&&s.close(),this.ec.segments.add(s)};var oc=null;function sc(e,t){var n=e.toLowerCase(),i=Kt.Je;i[e]=t,i[n]=e}function lc(e){Tl.call(this,e),this.D=2408959,this.Rg=this.yf="",this.Wo=this.To=this.hp=this.ao=null,this.jp="",this.wf=this.Nn=this.ip=this.dh=null,this.Vo="",this.Uo=Pe,this.Pb=this.Xo="",this.fi=this.$m=this.Rh=null,this.Of=new ge(NaN,NaN).freeze(),this.io="",this.Ve=null,this.jo=ut,this.Yo=Mt,this.ro=Oe,this.ko=Me,this.wn=null,this.bo=127,this.si=Ee,this.Ij="gray",this.Od=4,this.Bw=-1,this.Ip=NaN,this.Vx=new Ue,this.vj=null,this.Ug=NaN}function uc(e){0!==(16384&e.D)!==!1&&(e.updateAdornments(),Ac(e,!1))}function cc(e,t){t.toolManager.mouseDownTools.each((function(t){t.isEnabled&&t.updateAdornments(e)})),t.toolManager.updateAdornments(e)}function dc(e){if(!1===wc(e)){xc(e,!0),e.fl();var t=e.diagram;null!==t&&(t.Dd.add(e),t.cc())}}function hc(e){if(e.D|=2097152,!1!==wc(e)){var t=e.position,n=e.location;n.o()&&t.o()||mc(e,t,n),n=e.vb;var i=Ue.alloc().assign(n);n.ha(),n.x=t.x,n.y=t.y,n.freeze(),e.lt(i,n),Ue.free(i),xc(e,!1)}}function fc(e,t){var n=e.Vx;isNaN(e.Ug)&&(e.Ug=_l(e));var i=e.Ug,a=2*i;if(!e.isShadowed)return n.h(t.x-1-i,t.y-1-i,t.width+2+a,t.height+2+a),n;i=t.x,a=t.y;var r=t.width;t=t.height;var o=e.shadowBlur;return e=e.shadowOffset,r+=o,t+=o,i-=o/2,a-=o/2,e.x>0?r+=e.x:(i+=e.x,r-=e.x),e.y>0?t+=e.y:(a+=e.y,t-=e.y),n.h(i-1,a-1,r+2,t+2),n}function pc(e,t,n,i){null===t||e instanceof Oc||(t=t.animationManager,t.Yg&&t.ye(e,"position",i.copy(),n.copy(),!1))}function mc(e,t,n){var i=ge.alloc(),a=e.locationSpot,r=e.locationObject;a.jc()&&x("determineOffset: Part's locationSpot must be real: "+a.toString());var o=r.naturalBounds,s=r instanceof ou?r.strokeWidth:0;if(i.qk(0,0,o.width+s,o.height+s,a),r!==e)for(i.offset(-s/2,-s/2),r.transform.ta(i),a=r.panel;null!==a&&a!==e;)a.transform.ta(i),a=a.panel;e.Nf.ta(i),i.offset(-e.pc.x,-e.pc.y),a=e.diagram,r=n.o(),o=t.o(),r&&o?0!==(2097152&e.D)?gc(e,t,n,a,i):vc(e,t,n,a,i):r?gc(e,t,n,a,i):o&&vc(e,t,n,a,i),e.D|=2097152,ge.free(i),e.fl()}function gc(e,t,n,i,a){var r=t.x,o=t.y;t.h(n.x-a.x,n.y-a.y),null!==i&&(n=i.animationManager,(a=n.isAnimating)||!n.Yg||e instanceof Oc||n.ye(e,"position",new ge(r,o),t,!1),a||t.x===r&&t.y===o||(n=i.skipsUndoManager,i.skipsUndoManager=!0,e.g("position",new ge(r,o),t),i.skipsUndoManager=n))}function vc(e,t,n,i,a){var r=n.copy();n.h(t.x+a.x,t.y+a.y),n.A(r)||null===i||(t=i.skipsUndoManager,i.skipsUndoManager=!0,e.g("location",r,n),i.skipsUndoManager=t)}function yc(e,t,n){Cc(e,!1),e instanceof Mc&&Gr(n,e),e.layer.isTemporary||t||n.Xa(),t=e.vb;var i=n.viewportBounds;i.o()?kc(e)?(Ye(t,i,10)||e.hd(!1),e.updateAdornments()):t.Ic(i)?(e.hd(!0),e.updateAdornments()):e.Jb():n.bi=!0}function bc(e,t,n,i){t.constructor===e.constructor||Lc||(Lc=!0,S('Should not change the class of the Part when changing category from "'+n+'" to "'+i+'"'),S("  Old class: "+E(e.constructor)+", new class: "+E(t.constructor)+", part: "+e.toString())),e.Sj();var a=e.data;n=e.layerName;var r=e.isSelected,o=e.isHighlighted,s=!0,l=!0,u=!1;e instanceof Mc&&(s=e.isTreeLeaf,l=e.isTreeExpanded,u=e.wasTreeExpanded),t.mf(e),t.cloneProtected(e),e.yf=i,e.s(),e.R(),t=e.diagram,i=!0,null!==t&&(i=t.skipsUndoManager,t.skipsUndoManager=!0),e.jb=a,e.D=r?4096|e.D:-4097&e.D,e.D=o?524288|e.D:-524289&e.D,e instanceof Mc&&(e.S=s?4|e.S:-5&e.S,e.S=l?1|e.S:-2&e.S,e.S=u?2|e.S:-3&e.S),null!==a&&e.Ea(),a=e.layerName,a!==n&&(e.Rg=n,e.layerName=a),null!==t&&(t.skipsUndoManager=i),e.Lb()&&e.B(64)}function Ac(e,t){e.D=t?16384|e.D:-16385&e.D}function wc(e){return 0!==(32768&e.D)}function xc(e,t){e.D=t?32768|e.D:-32769&e.D}function Cc(e,t){e.D=t?65536|e.D:-65537&e.D}function kc(e){return 0!==(131072&e.D)}function Sc(e,t){e.D=t?1048576|e.D:-1048577&e.D}function Tc(e,t){var n=t.containingGroup;return null!==n?1+Tc(e,n):t instanceof Mc&&(t=t.labeledLink,null!==t)?Tc(e,t):0}function Nc(e,t){var n=t.containingGroup;return null!==n||t instanceof Mc&&(n=t.labeledLink,null!==n)?Nc(e,n):t}function Ic(e,t,n){if(t===n||null===n)return!1;var i=t.containingGroup;return!(null===i||i!==n&&!Ic(e,i,n))||t instanceof Mc&&(t=t.labeledLink,null!==t)&&Ic(e,t,n)}function Dc(e){return!!e.isVisible()&&(e=e.layer,null===e||!e.isTemporary)}function Pc(e,t,n,i,a,r){if(void 0===r&&(r=null),!(e.contains(t)||null!==r&&!r(t)||t instanceof Oc))if(e.add(t),t instanceof Mc){if(n&&t instanceof Jc)for(var o=t.memberParts;o.next();)Pc(e,o.value,n,i,a,r);if(!1!==a)for(o=t.linksConnected;o.next();){var s=o.value;if(!e.contains(s)){var l=s.fromNode,u=s.toNode;l=null===l||e.contains(l),u=null===u||e.contains(u),(a?l&&u:l||u)&&Pc(e,s,n,i,a,r)}}if(i>1)for(t=t.$u();t.next();)Pc(e,t.value,n,i-1,a,r)}else if(t instanceof id)for(t=t.labelNodes;t.next();)Pc(e,t.value,n,i,a,r)}Zu.className="StreamGeometryContext",sc("Rectangle",(function(e,t,n){return e=new Jt(un),e.startX=0,e.startY=0,e.endX=t,e.endY=n,e})),sc("Square",(function(e,t,n){return e=new Jt(un),e.startX=0,e.startY=0,e.endX=t,e.endY=n,e.defaultStretch=eo,e})),sc("RoundedRectangle",(function(e,t,n){var i=e?e.parameter1:NaN;return(isNaN(i)||i<=0)&&(i=5),i=Math.min(i,t/3),i=Math.min(i,n/3),e=i*Kt.xg,t=(new Jt).add(new hn(i,0,!0).add(new fn(vn,t-i,0)).add(new fn(yn,t,i,t-e,0,t,e)).add(new fn(vn,t,n-i)).add(new fn(yn,t-i,n,t,n-e,t-e,n)).add(new fn(vn,i,n)).add(new fn(yn,0,n-i,e,n,0,n-e)).add(new fn(vn,0,i)).add(new fn(yn,i,0,0,e,e,0).close())),e>1&&(t.spot1=new $t(0,0,e,e),t.spot2=new $t(1,1,-e,-e)),t})),sc("Border","RoundedRectangle"),sc("Ellipse",(function(e,t,n){return e=new Jt(cn),e.startX=0,e.startY=0,e.endX=t,e.endY=n,e.spot1=qt,e.spot2=zt,e})),sc("Circle",(function(e,t,n){return e=new Jt(cn),e.startX=0,e.startY=0,e.endX=t,e.endY=n,e.spot1=qt,e.spot2=zt,e.defaultStretch=eo,e})),sc("TriangleRight",(function(e,t,n){return(new Jt).add(new hn(0,0).add(new fn(vn,t,.5*n)).add(new fn(vn,0,n).close())).xm(0,.25,.5,.75)})),sc("TriangleDown",(function(e,t,n){return(new Jt).add(new hn(0,0).add(new fn(vn,t,0)).add(new fn(vn,.5*t,n).close())).xm(.25,0,.75,.5)})),sc("TriangleLeft",(function(e,t,n){return(new Jt).add(new hn(t,n).add(new fn(vn,0,.5*n)).add(new fn(vn,t,0).close())).xm(.5,.25,1,.75)})),sc("TriangleUp",(function(e,t,n){return(new Jt).add(new hn(t,n).add(new fn(vn,0,n)).add(new fn(vn,.5*t,0).close())).xm(.25,.5,.75,1)})),sc("Triangle","TriangleUp"),sc("Diamond",(function(e,t,n){return(new Jt).add(new hn(.5*t,0).add(new fn(vn,0,.5*n)).add(new fn(vn,.5*t,n)).add(new fn(vn,t,.5*n).close())).xm(.25,.25,.75,.75)})),sc("LineH",(function(e,t,n){return e=new Jt(ln),e.startX=0,e.startY=n/2,e.endX=t,e.endY=n/2,e})),sc("LineV",(function(e,t,n){return e=new Jt(ln),e.startX=t/2,e.startY=0,e.endX=t/2,e.endY=n,e})),sc("None","Rectangle"),sc("BarH","Rectangle"),sc("BarV","Rectangle"),sc("MinusLine","LineH"),sc("PlusLine",(function(e,t,n){return(new Jt).add(new hn(0,n/2,!1).add(new fn(vn,t,n/2)).add(new fn(gn,t/2,0)).add(new fn(vn,t/2,n)))})),sc("XLine",(function(e,t,n){return(new Jt).add(new hn(0,n,!1).add(new fn(vn,t,0)).add(new fn(gn,0,0)).add(new fn(vn,t,n)))})),Kt.Bm={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},f(lc,Tl),lc.prototype.cloneProtected=function(e){Tl.prototype.cloneProtected.call(this,e),e.D=-4097&this.D|49152,e.yf=this.yf,e.Rg=this.Rg,e.ao=this.ao,e.hp=this.hp,e.To=this.To,e.Wo=this.Wo,e.jp=this.jp,e.ip=this.ip,e.Nn=this.Nn,e.wf=null,e.Vo=this.Vo,e.Uo=this.Uo.I(),e.Xo=this.Xo,e.Yo=this.Yo.I(),e.Pb=this.Pb,e.$m=this.$m,e.Of.assign(this.Of),e.io=this.io,e.jo=this.jo.I(),e.ro=this.ro.I(),e.ko=this.ko.I(),e.wn=this.wn,e.bo=this.bo,e.si=this.si.I(),e.Ij=this.Ij,e.Od=this.Od,e.Ip=this.Ip},lc.prototype.mf=function(e){Tl.prototype.mf.call(this,e),e.yh(),e.dh=null,e.Ve=null,e.vj=null},lc.prototype.toString=function(){var e=E(this.constructor)+"#"+le(this);return null!==this.data&&(e+="("+R(this.data)+")"),e},lc.prototype.nk=function(e,t,n,i,a,r,o){var s=this.diagram;null!==s&&(e===Nn&&"elements"===t?a instanceof Tl?Ml(a,(function(e){Eh(s.partManager,e),Or(s,e)})):Mr(s,a):e===In&&"elements"===t&&(a instanceof Tl?Ml(a,(function(e){Rh(s.partManager,e),Er(s,e)})):Rr(s,a)),s.ab(e,t,n,i,a,r,o))},lc.prototype.Ea=function(e){if(Tl.prototype.Ea.call(this,e),null!==this.data){e=this.Y.j;for(var t=e.length,n=0;n<t;n++){var i=e[n];i instanceof Tl&&Ml(i,(function(e){null!==e.data&&e.Ea()}))}}},lc.prototype.updateRelationshipsFromData=function(){null!==this.data&&this.diagram.partManager.updateRelationshipsFromData(this)},lc.prototype.$j=function(e){var t=this.wf;return null===t?null:t.J(e)},lc.prototype.qh=function(e,t){if(null!==t){var n=null,i=this.wf;if(null!==i&&(n=i.J(e)),n!==t){if(null!==n){var a=n.diagram;null!==a&&a.remove(n)}null===i&&(this.wf=i=new me),t.yf!==e&&(t.category=e),i.add(e,t),e=this.diagram,null!==e&&(e.add(t),e=t.adornedObject,null!==e&&(e=e.Gi(),null!==e&&(t.data=e.data)))}}},lc.prototype.tf=function(e){var t=this.wf;if(null!==t){var n=t.J(e);if(null!==n){var i=n.diagram;null!==i&&i.remove(n)}t.remove(e),0===t.count&&(this.wf=null)}},lc.prototype.Sj=function(){var e=this.wf;if(null!==e){var t=O();for(e=e.iterator;e.next();)t.push(e.key);e=t.length;for(var n=0;n<e;n++)this.tf(t[n]);M(t)}},lc.prototype.updateAdornments=function(){var e=this.diagram;if(null!==e){for(var t=this.adornments;t.next();){var n=t.value;n.s(),n.placeholder&&n.placeholder.s()}e:{if(this.isSelected&&this.selectionAdorned&&(t=this.selectionObject,null!==t&&this.actualBounds.o()&&this.isVisible()&&t.rf()&&t.actualBounds.o())){if(n=this.$j("Selection"),null===n){if(n=this.selectionAdornmentTemplate,null===n&&(n=this.zh()?e.linkSelectionAdornmentTemplate:this instanceof Jc?e.groupSelectionAdornmentTemplate:e.nodeSelectionAdornmentTemplate),!(n instanceof Oc))break e;Ql(n),n=n.copy(),null!==n&&(this.zh()&&this.selectionObject===this.path&&(n.type=Tl.Link),n.adornedObject=t)}if(null!==n){if(null!==n.placeholder){var i=t.Ce(),a=0;t instanceof ou&&(a=t.strokeWidth);var r=Be.alloc();r.h((t.naturalBounds.width+a)*i,(t.naturalBounds.height+a)*i),Be.free(r)}n.type===Tl.Link?n.s():(t=ge.alloc(),ge.free(t)),this.qh("Selection",n);break e}}this.tf("Selection")}for(cc(this,e),t=this.adornments;t.next();)t.value.Ea()}},lc.prototype.Jb=function(){var e=this.diagram;null!==e&&(pr(e),0!==(16384&this.D)!==!0&&(Ac(this,!0),e.cc()))},lc.prototype.move=function(e,t){!0===t?this.location=e:this.position=e},lc.prototype.moveTo=function(e,t,n){e=ge.allocAt(e,t),this.move(e,n),ge.free(e)},lc.prototype.isVisible=function(){if(!this.visible)return!1;var e=this.layer;return!(null!==e&&!e.visible)&&(e=this.diagram,!(null===e||!pa(e.animationManager,this))||(e=this.containingGroup,!!(null===e||e.isSubGraphExpanded&&e.isVisible())))},n=lc.prototype,n.Mb=function(e){var t=this.diagram;e?(this.B(4),this.Jb(),null!==t&&t.Dd.add(this)):(this.B(8),this.Sj()),this.yh(),null!==t&&(t.Xa(),t.R())},n.$a=function(e){if(this.name===e)return this;var t=this.vj;if(null===t&&(this.vj=t=new me),null!==t.J(e))return t.J(e);var n=Tl.prototype.$a.call(this,e);return null!==n?(t.set(e,n),n):(t.set(e,null),null)},n.nf=function(e,t,n){void 0===n&&(n=new ge),t=t.jc()?ft:t;var i=e.naturalBounds;if(n.h(i.width*t.x+t.offsetX,i.height*t.y+t.offsetY),null===e||e===this)return n;for(e.transform.ta(n),e=e.panel;null!==e&&e!==this;)e.transform.ta(n),e=e.panel;return this.Nf.ta(n),n.offset(-this.pc.x,-this.pc.y),n},n.Vp=function(e){return void 0===e&&(e=new Ue),e.assign(this.actualBounds)},n.ac=function(){!0===ps(this)&&(this instanceof Jc&&this.memberParts.each((function(e){e.ac()})),this.measure(1/0,1/0)),this.arrange()},lc.prototype.arrange=function(){if(!1===gs(this))hc(this);else{var e=this.vb,t=Ue.alloc();t.assign(e),e.ha();var n=kc(this);this.th(0,0,this.pc.width,this.pc.height);var i=this.position;mc(this,i,this.location),e.x=i.x,e.y=i.y,e.freeze(),this.lt(t,e),vs(this,!1),t.A(e)?this.hd(n):!this.Lb()||Kt.w(t.width,e.width)&&Kt.w(t.height,e.height)||this.Bw>=0&&this.B(16),Ue.free(t),xc(this,!1)}},n=lc.prototype,n.lt=function(e,t){var n=this.diagram;if(null!==n){var i=!1;if(!1===n.Og&&e.o()){var a=Ue.alloc();a.assign(n.documentBounds),a.Ov(n.padding),e.x>a.x&&e.y>a.y&&e.right<a.right&&e.bottom<a.bottom&&t.x>a.x&&t.y>a.y&&t.right<a.right&&t.bottom<a.bottom&&(i=!0),Ue.free(a)}0!==(65536&this.D)!==!0&&e.A(t)||yc(this,i,n),n.R(),$e(e,t)||(this instanceof Mc&&!n.undoManager.isUndoingRedoing&&this.ed(),this.yh())}},n.Kv=function(e,t){if(this.zh()||!e.o())return!1;var n=this.diagram;if(null!==n&&(pc(this,n,e,t),!0===n.undoManager.isUndoingRedoing))return!0;if(this.sa=e,this.D&=-2097153,n=this.Of,n.o()){var i=n.copy();n.h(n.x+(e.x-t.x),n.y+(e.y-t.y)),this.g("location",i,n)}return!1===wc(this)&&!1===gs(this)&&(dc(this),hc(this)),!0},n.wt=function(e,t){var n=this.Of,i=this.sa;wc(this)||gs(this)?n.h(NaN,NaN):n.h(n.x+e-i.x,n.y+t-i.y),i.h(e,t),dc(this)},n.Lv=function(){this.D&=-2097153,dc(this)},n.Pi=function(){return!0},n.Lb=function(){return!0},n.zh=function(){return!1},n.sg=function(){return!0},lc.prototype.canCopy=function(){if(!this.copyable)return!1;var e=this.layer;return null===e||!!e.allowCopy&&(e=e.diagram,null===e||!!e.allowCopy)},lc.prototype.canDelete=function(){if(!this.deletable)return!1;var e=this.layer;return null===e||!!e.allowDelete&&(e=e.diagram,null===e||!!e.allowDelete)},lc.prototype.canEdit=function(){if(!this.textEditable)return!1;var e=this.layer;return null===e||!!e.allowTextEdit&&(e=e.diagram,null===e||!!e.allowTextEdit)},lc.prototype.canGroup=function(){if(!this.groupable)return!1;var e=this.layer;return null===e||!!e.allowGroup&&(e=e.diagram,null===e||!!e.allowGroup)},lc.prototype.canMove=function(){if(!this.movable)return!1;var e=this.layer;return null===e||!!e.allowMove&&(e=e.diagram,null===e||!!e.allowMove)},lc.prototype.canReshape=function(){if(!this.reshapable)return!1;var e=this.layer;return null===e||!!e.allowReshape&&(e=e.diagram,null===e||!!e.allowReshape)},lc.prototype.canResize=function(){if(!this.resizable)return!1;var e=this.layer;return null===e||!!e.allowResize&&(e=e.diagram,null===e||!!e.allowResize)},lc.prototype.canRotate=function(){if(!this.rotatable)return!1;var e=this.layer;return null===e||!!e.allowRotate&&(e=e.diagram,null===e||!!e.allowRotate)},lc.prototype.canSelect=function(){if(!this.selectable)return!1;var e=this.layer;return null===e||!!e.allowSelect&&(e=e.diagram,null===e||!!e.allowSelect)},n=lc.prototype,n.hd=function(e){this.D=e?131072|this.D:-131073&this.D},n.yh=function(){var e=this.containingGroup;null!==e&&(e.s(),null!==e.placeholder&&e.placeholder.s(),e.ed())},n.R=function(){var e=this.diagram;null!==e&&!gs(this)&&!wc(this)&&this.isVisible()&&this.vb.o()&&e.R(fc(this,this.vb))},n.s=function(){Tl.prototype.s.call(this);var e=this.diagram;null!==e&&(e.Dd.add(this),this instanceof Mc&&null!==this.labeledLink&&rs(this.labeledLink),e.cc(!0))},n.Yp=function(e){e||(e=this.Rh,null!==e&&Xc(e,this))},n.Zp=function(e){e||(e=this.Rh,null!==e&&Zc(e,this))},n.Yj=function(){var e=this.data;if(null!==e){var t=this.diagram;null!==t&&(t=t.model,null!==t&&t.om(e))}},n.Sy=function(){return Tc(this,this)},n.Vy=function(){return Nc(this,this)},n.Vd=function(e){return e instanceof Jc&&Ic(this,this,e)},n.hx=function(e){if(null===e)return null;if(this===e)return this.containingGroup;for(var t=this;null!==t;){if(t instanceof Jc&&Sc(t,!0),t instanceof Mc){var n=t.labeledLink;null!==n&&(t=n)}t=t.containingGroup}for(n=null,t=e;null!==t;){if(0!==(1048576&t.D)){n=t;break}t instanceof Mc&&(e=t.labeledLink,null!==e&&(t=e)),t=t.containingGroup}for(t=this;null!==t;)t instanceof Jc&&Sc(t,!1),t instanceof Mc&&(e=t.labeledLink,null!==e&&(t=e)),t=t.containingGroup;return n},lc.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var e=this.layer;return!(null!==e&&e.isTemporary||this instanceof Mc&&this.isLinkLabel)},lc.prototype.B=function(e){if(void 0===e&&(e=16777215),this.isLayoutPositioned&&0!==(e&this.layoutConditions)){var t=this.layer;null!==t&&t.isTemporary||this instanceof Mc&&this.isLinkLabel?t=!1:(t=this.diagram,t=null===t||!t.undoManager.isUndoingRedoing)}else t=!1;if(t)if(t=this.Rh,null!==t){var n=t.layout;null!==n?n.B():t.B(e)}else e=this.diagram,null!==e&&(e=e.layout,null!==e&&e.B())},p.Object.defineProperties(lc.prototype,{key:{get:function(){var e=this.diagram;if(null!==e)return e.model.pa(this.data)}},adornments:{get:function(){return null===this.wf?Z:this.wf.iteratorValues}},layer:{get:function(){return this.fi}},diagram:{get:function(){var e=this.fi;return null!==e?e.diagram:null}},layerName:{get:function(){return this.Rg},set:function(e){var t=this.Rg;if(t!==e){var n=this.diagram;if((null===n||null!==n.Zl(e)&&!n.partManager.addsToTemporaryLayer)&&(this.Rg=e,null!==n&&n.Xa(),this.g("layerName",t,e),t=this.layer,null!==t&&t.name!==e&&(n=t.diagram,null!==n&&(e=n.Zl(e),null!==e&&e!==t)))){var i=t.xc(-1,this,!0);if(i>=0&&n.ab(In,"parts",t,this,null,i,!0),i=e.Ni(99999999,this,!0),t.visible!==e.visible&&this.Mb(e.visible),i>=0&&n.ab(Nn,"parts",e,null,this,!0,i),i=this.layerChanged,null!==i){var a=n.da;n.da=!0,i(this,t,e),n.da=a}}}}},layerChanged:{get:function(){return this.ao},set:function(e){var t=this.ao;t!==e&&(this.ao=e,this.g("layerChanged",t,e))}},zOrder:{get:function(){return this.Ip},set:function(e){var t=this.Ip;if(t!==e){this.Ip=e;var n=this.layer;null!==n&&Ia(n,-1,this),this.g("zOrder",t,e),e=this.diagram,null!==e&&e.R()}}},locationObject:{get:function(){if(null===this.Ve){var e=this.locationObjectName;""!==e?(e=this.$a(e),this.Ve=null!==e?e:this):this instanceof Oc&&this.type!==Tl.Link&&null!==this.placeholder?this.Ve=this.placeholder:this.Ve=this}return this.Ve.visible?this.Ve:this}},minLocation:{get:function(){return this.ro},set:function(e){var t=this.ro;t.A(e)||(this.ro=e=e.I(),this.g("minLocation",t,e))}},maxLocation:{get:function(){return this.ko},set:function(e){var t=this.ko;t.A(e)||(this.ko=e=e.I(),this.g("maxLocation",t,e))}},locationObjectName:{get:function(){return this.io},set:function(e){var t=this.io;t!==e&&(this.io=e,this.Ve=null,this.s(),this.g("locationObjectName",t,e))}},locationSpot:{get:function(){return this.jo},set:function(e){var t=this.jo;t.A(e)||(this.jo=e=e.I(),this.s(),this.g("locationSpot",t,e))}},location:{get:function(){return this.Of},set:function(e){var t=e.x,n=e.y,i=this.Of,a=i.x,r=i.y;(a===t||isNaN(a)&&isNaN(t))&&(r===n||isNaN(r)&&isNaN(n))||(e=e.I(),t=e,this.zh()?t=!1:(this.Of=t,this.D|=2097152,!1===gs(this)&&(dc(this),n=this.sa,n.o()&&(a=n.copy(),n.h(n.x+(t.x-i.x),n.y+(t.y-i.y)),pc(this,this.diagram,n,a),this.g("position",a,n))),t=!0),t&&this.g("location",i,e))}},category:{get:function(){return this.yf},set:function(e){var t=this.yf;if(t!==e){var n=this.diagram,i=this.data,a=null;if(null!==n&&null!==i&&!(this instanceof Oc)){var r=n.model.undoManager;r.isEnabled&&!r.isUndoingRedoing&&(a=this.clone(),a.Y.addAll(this.Y))}this.yf=e,this.g("category",t,e),null===n||null===i||this instanceof Oc?this instanceof Oc&&(a=this.adornedPart,null!==a&&(e=a.wf,null!==e&&e.remove(t),a.qh(this.category,this))):(r=n.model,r.undoManager.isUndoingRedoing||(this.zh()?(n.partManager.setLinkCategoryForData(i,e),n=n.partManager.findLinkTemplateForCategory(e),null!==n&&(Ql(n),n=n.copy(),null!==n&&bc(this,n,t,e))):(null!==r&&r.pq(i,e),n=Lh(n.partManager,i,e),null!==n&&(Ql(n),n=n.copy(),null===n||n instanceof id||(i=this.location.copy(),bc(this,n,t,e),this.location.o()||(this.location=i)))),null!==a&&(t=this.clone(),t.Y.addAll(this.Y),this.g("self",a,t))))}}},self:{get:function(){return this},set:function(e){bc(this,e,this.category,e.category)}},copyable:{get:function(){return 0!==(1&this.D)},set:function(e){var t=0!==(1&this.D);t!==e&&(this.D^=1,this.g("copyable",t,e))}},deletable:{get:function(){return 0!==(2&this.D)},set:function(e){var t=0!==(2&this.D);t!==e&&(this.D^=2,this.g("deletable",t,e))}},textEditable:{get:function(){return 0!==(4&this.D)},set:function(e){var t=0!==(4&this.D);t!==e&&(this.D^=4,this.g("textEditable",t,e),this.Jb())}},groupable:{get:function(){return 0!==(8&this.D)},set:function(e){var t=0!==(8&this.D);t!==e&&(this.D^=8,this.g("groupable",t,e))}},movable:{get:function(){return 0!==(16&this.D)},set:function(e){var t=0!==(16&this.D);t!==e&&(this.D^=16,this.g("movable",t,e))}},selectionAdorned:{get:function(){return 0!==(32&this.D)},set:function(e){var t=0!==(32&this.D);t!==e&&(this.D^=32,this.g("selectionAdorned",t,e),this.Jb())}},isInDocumentBounds:{get:function(){return 0!==(64&this.D)},set:function(e){var t=0!==(64&this.D);if(t!==e){this.D^=64;var n=this.diagram;null!==n&&n.Xa(),this.g("isInDocumentBounds",t,e)}}},isLayoutPositioned:{get:function(){return 0!==(128&this.D)},set:function(e){var t=0!==(128&this.D);t!==e&&(this.D^=128,this.g("isLayoutPositioned",t,e),this.B(e?4:8))}},selectable:{get:function(){return 0!==(256&this.D)},set:function(e){var t=0!==(256&this.D);t!==e&&(this.D^=256,this.g("selectable",t,e),this.Jb())}},reshapable:{get:function(){return 0!==(512&this.D)},set:function(e){var t=0!==(512&this.D);t!==e&&(this.D^=512,this.g("reshapable",t,e),this.Jb())}},resizable:{get:function(){return 0!==(1024&this.D)},set:function(e){var t=0!==(1024&this.D);t!==e&&(this.D^=1024,this.g("resizable",t,e),this.Jb())}},rotatable:{get:function(){return 0!==(2048&this.D)},set:function(e){var t=0!==(2048&this.D);t!==e&&(this.D^=2048,this.g("rotatable",t,e),this.Jb())}},isSelected:{get:function(){return 0!==(4096&this.D)},set:function(e){var t=0!==(4096&this.D);if(t!==e){var n=this.diagram;if(!e||this.canSelect()&&!(null!==n&&n.selection.count>=n.maxSelectionCount)){this.D^=4096;var i=!1;if(null!==n){i=n.skipsUndoManager,n.skipsUndoManager=!0;var a=n.selection;a.ha(),e?a.add(this):a.remove(this),a.freeze()}this.g("isSelected",t,e),this.Jb(),e=this.selectionChanged,null!==e&&e(this),null!==n&&(n.cc(),n.skipsUndoManager=i)}}}},isHighlighted:{get:function(){return 0!==(524288&this.D)},set:function(e){var t=0!==(524288&this.D);if(t!==e){this.D^=524288;var n=this.diagram;null!==n&&(n=n.highlighteds,n.ha(),e?n.add(this):n.remove(this),n.freeze()),this.g("isHighlighted",t,e),this.R(),e=this.highlightedChanged,null!==e&&e(this)}}},isShadowed:{get:function(){return 0!==(8192&this.D)},set:function(e){var t=0!==(8192&this.D);t!==e&&(this.D^=8192,this.g("isShadowed",t,e),this.R())}},isAnimated:{get:function(){return 0!==(262144&this.D)},set:function(e){var t=0!==(262144&this.D);t!==e&&(this.D^=262144,this.g("isAnimated",t,e))}},highlightedChanged:{get:function(){return this.Nn},set:function(e){var t=this.Nn;t!==e&&(this.Nn=e,this.g("highlightedChanged",t,e))}},selectionObjectName:{get:function(){return this.jp},set:function(e){var t=this.jp;t!==e&&(this.jp=e,this.dh=null,this.g("selectionObjectName",t,e))}},selectionAdornmentTemplate:{get:function(){return this.hp},set:function(e){var t=this.hp;t!==e&&(this.hp=e,this.g("selectionAdornmentTemplate",t,e))}},selectionObject:{get:function(){if(null===this.dh){var e=this.selectionObjectName;null!==e&&""!==e?(e=this.$a(e),this.dh=null!==e?e:this):this instanceof id?(e=this.path,this.dh=null!==e?e:this):this.dh=this}return this.dh}},selectionChanged:{get:function(){return this.ip},set:function(e){var t=this.ip;t!==e&&(this.ip=e,this.g("selectionChanged",t,e))}},resizeAdornmentTemplate:{get:function(){return this.To},set:function(e){var t=this.To;t!==e&&(this.To=e,this.g("resizeAdornmentTemplate",t,e))}},resizeObjectName:{get:function(){return this.Vo},set:function(e){var t=this.Vo;t!==e&&(this.Vo=e,this.g("resizeObjectName",t,e))}},resizeObject:{get:function(){var e=this.resizeObjectName;return""!==e&&(e=this.$a(e),null!==e)?e:this}},resizeCellSize:{get:function(){return this.Uo},set:function(e){var t=this.Uo;t.A(e)||(this.Uo=e=e.I(),this.g("resizeCellSize",t,e))}},rotateAdornmentTemplate:{get:function(){return this.Wo},set:function(e){var t=this.Wo;t!==e&&(this.Wo=e,this.g("rotateAdornmentTemplate",t,e))}},rotateObjectName:{get:function(){return this.Xo},set:function(e){var t=this.Xo;t!==e&&(this.Xo=e,this.g("rotateObjectName",t,e))}},rotateObject:{get:function(){var e=this.rotateObjectName;return""!==e&&(e=this.$a(e),null!==e)?e:this}},rotationSpot:{get:function(){return this.Yo},set:function(e){var t=this.Yo;t.A(e)||(this.Yo=e=e.I(),this.g("rotationSpot",t,e))}},text:{get:function(){return this.Pb},set:function(e){var t=this.Pb;t!==e&&(this.Pb=e,this.g("text",t,e))}},containingGroup:{get:function(){return this.Rh},set:function(e){if(this.Lb()){var t=this.Rh;if(t!==e){null===e||this!==e&&!e.Vd(this)||(this===e&&x("Cannot make a Group a member of itself: "+this.toString()),x("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+e.toString())),this.B(2);var n=this.diagram;if(null!==t?Zc(t,this):this instanceof Jc&&null!==n&&n.xi.remove(this),this.Rh=e,null!==e?Xc(e,this):this instanceof Jc&&null!==n&&n.xi.add(this),this.B(1),null!==n){var i=this.data,a=n.model;if(null!==i&&a.dk()){var r=a.pa(null!==e?e.data:null);a.ut(i,r)}}if(i=this.containingGroupChanged,null!==i&&(a=!0,null!==n&&(a=n.da,n.da=!0),i(this,t,e),null!==n&&(n.da=a)),this instanceof Jc)for(n=new re,Pc(n,this,!0,0,!0),n=n.iterator;n.next();)if(i=n.value,i instanceof Mc)for(i=i.linksConnected;i.next();)ad(i.value);if(this instanceof Mc){for(n=this.linksConnected;n.next();)ad(n.value);n=this.labeledLink,null!==n&&ad(n)}this.g("containingGroup",t,e),null!==e&&(t=e.layer,null!==t&&Ia(t,-1,e))}}else x("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return this.$m},set:function(e){var t=this.$m;t!==e&&(this.$m=e,this.g("containingGroupChanged",t,e))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof Mc&&null!==this.labeledLink)}},layoutConditions:{get:function(){return this.bo},set:function(e){var t=this.bo;t!==e&&(this.bo=e,this.g("layoutConditions",t,e))}},dragComputation:{get:function(){return this.wn},set:function(e){var t=this.wn;t!==e&&(this.wn=e,this.g("dragComputation",t,e))}},shadowOffset:{get:function(){return this.si},set:function(e){var t=this.si;t.A(e)||(this.si=e=e.I(),this.R(),this.g("shadowOffset",t,e))}},shadowColor:{get:function(){return this.Ij},set:function(e){var t=this.Ij;t!==e&&(this.Ij=e,this.R(),this.g("shadowColor",t,e))}},shadowBlur:{get:function(){return this.Od},set:function(e){var t=this.Od;t!==e&&(this.Od=e,this.R(),this.g("shadowBlur",t,e))}}}),lc.prototype.invalidateLayout=lc.prototype.B,lc.prototype.findCommonContainingGroup=lc.prototype.hx,lc.prototype.isMemberOf=lc.prototype.Vd,lc.prototype.findTopLevelPart=lc.prototype.Vy,lc.prototype.findSubGraphLevel=lc.prototype.Sy,lc.prototype.ensureBounds=lc.prototype.ac,lc.prototype.getDocumentBounds=lc.prototype.Vp,lc.prototype.getRelativePoint=lc.prototype.nf,lc.prototype.findObject=lc.prototype.$a,lc.prototype.moveTo=lc.prototype.moveTo,lc.prototype.invalidateAdornments=lc.prototype.Jb,lc.prototype.clearAdornments=lc.prototype.Sj,lc.prototype.removeAdornment=lc.prototype.tf,lc.prototype.addAdornment=lc.prototype.qh,lc.prototype.findAdornment=lc.prototype.$j,lc.prototype.updateTargetBindings=lc.prototype.Ea;var Lc=!1;function Oc(e){lc.call(this,e),this.D&=-257,this.Rg="Adornment",this.$d=null,this.Ew=0,this.Pw=!1,this.l=[],this.Va=null}function Mc(e){lc.call(this,e),this.S=13,this.Ya=new ie,this.Cp=this.hl=this.ii=this.eo=this.co=null,this.Ck=rt,this.rc=this.Le=null,this.Qo=Wc,this.oh=!1}function Ec(e,t){null!==t&&(null===e.Le&&(e.Le=new re),e.Le.add(t))}function Rc(e,t,n,i){if(null===t||null===e.Le)return null;for(var a=e.Le.iterator;a.next();){var r=a.value;if(r.jt===e&&r.ov===t&&r.xx===n&&r.yx===i||r.jt===t&&r.ov===e&&r.xx===i&&r.yx===n)return r}return null}function jc(e,t){for(var n=e.linksConnected;n.next();){var i=n.value;i.fromPort!==t&&i.toPort!==t||(Bc(e,i.fromPort),Bc(e,i.toPort),i.Ra())}}function Bc(e,t){null!==t&&(t=t.Po,null!==t&&t.cm(),e=e.containingGroup,null===e||e.isSubGraphExpanded||Bc(e,e.port))}function _c(e,t,n){Bc(e,n);var i=e.Ya.contains(t);if(i||e.Ya.add(t),!i||t.fromNode===t.toNode){var a=e.linkConnected;if(null!==a){var r=!0,o=e.diagram;null!==o&&(r=o.da,o.da=!0),a(e,t,n),null!==o&&(o.da=r)}}!i&&t.isTreeLink&&(n=t.fromNode,t=t.toNode,null!==n&&null!==t&&n!==t&&(i=!0,e=e.diagram,null!==e&&(i=e.isTreePathToChildren),a=i?t:n,r=i?n:t,a.oh||(a.oh=r),!r.isTreeLeaf||null!==e&&e.undoManager.isUndoingRedoing||(i?n===r&&(r.isTreeLeaf=!1):t===r&&(r.isTreeLeaf=!1))))}function Vc(e,t,n){Bc(e,n);var i=e.Ya.remove(t),a=null;if(i||t.toNode===t.fromNode){var r=e.linkDisconnected;if(a=e.diagram,null!==r){var o=!0;null!==a&&(o=a.da,a.da=!0),r(e,t,n),null!==a&&(a.da=o)}}i&&t.isTreeLink&&(n=!0,null!==a&&(n=a.isTreePathToChildren),e=n?t.toNode:t.fromNode,t=n?t.fromNode:t.toNode,null!==e&&(e.oh=!1),null===t||t.isTreeLeaf||(0===t.Ya.count?(t.oh=null,null!==a&&a.undoManager.isUndoingRedoing||(t.isTreeLeaf=!0)):Fc(t)))}function Fc(e){if(e.oh=!1,0!==e.Ya.count){var t=!0,n=e.diagram;if(null===n||!n.undoManager.isUndoingRedoing){for(null!==n&&(t=n.isTreePathToChildren),n=e.Ya.iterator;n.next();){var i=n.value;if(i.isTreeLink)if(t){if(i.fromNode===e)return void(e.isTreeLeaf=!1)}else if(i.toNode===e)return void(e.isTreeLeaf=!1)}e.isTreeLeaf=!0}}}function Uc(e){null===e.rc?e.rc=new me:e.rc.clear(),e.ym(e,(function(e,t){qc(e,t)})),0===e.rc.count&&e.rc.add("",e)}function qc(e,t){var n=t.portId;null!==n&&null!==e.rc&&e.rc.add(n,t)}function zc(e,t,n){var i=t.portId;if(null!==i&&(null!==e.rc&&e.rc.remove(i),t=e.diagram,null!==t&&n)){for(n=null,e=e.Wu(i);e.next();)i=e.value,null===n&&(n=O()),n.push(i);if(null!==n){for(e=0;e<n.length;e++)t.remove(n[e]);M(n)}}}function Qc(e,t){return t=t.og(),null===t?0:1+Qc(e,t)}function $c(e,t,n,i,a,r,o){if(i>1)for(var s=n?e.Sp():e.sd();s.next();){var l=s.value;l.isTreeLink&&(l=l.Xs(e),null===l||l===e||t.contains(l)||(t.add(l),$c(l,t,n,i-1,a,r,o)))}else Hc(e,t,n,a,r,o)}function Hc(e,t,n,i,a,r){for(var o=a===e||e.isTreeExpanded,s=n?e.Sp():e.sd();s.next();){var l=s.value;if(l.isTreeLink&&(l=l.Xs(e),null!==l&&l!==e)){var u=t.contains(l);u||t.add(l),o&&(r&&i.Jp(l,a),l.yh(),l.Mb(!1)),l.isTreeExpanded&&(l.wasTreeExpanded=l.isTreeExpanded,u||Hc(l,t,n,i,a,r))}}e.isTreeExpanded=!1}function Gc(e,t,n,i,a,r,o){for(var s=r!==e&&e.isTreeExpanded,l=n?e.Sp():e.sd();l.next();){var u=l.value;u.isTreeLink&&(s||u.Lc||u.Ra(),u=u.Xs(e),null!==u&&u!==e&&!t.contains(u)&&(t.add(u),s||(u.Mb(!0),u.yh(),o&&a.Kp(u,r)),i>2||u.wasTreeExpanded))&&(u.wasTreeExpanded=!1,Gc(u,t,n,i-1,a,r,o))}e.isTreeExpanded=!0}lc.className="Part",lc.LayoutNone=0,lc.LayoutAdded=1,lc.LayoutRemoved=2,lc.LayoutShown=4,lc.LayoutHidden=8,lc.LayoutNodeSized=16,lc.LayoutGroupLayout=32,lc.LayoutNodeReplaced=64,lc.LayoutStandard=127,lc.LayoutAll=16777215,f(Oc,lc),Oc.prototype.toString=function(){var e=this.adornedPart;return"Adornment("+this.category+")"+(null!==e?e.toString():"")},Oc.prototype.updateRelationshipsFromData=function(){},Oc.prototype.gk=function(e){var t=this.adornedObject.part;if(t instanceof id&&this.adornedObject instanceof ou){var n=t.path;t.gk(e),e=n.geometry,t=this.Y.j,n=t.length;for(var i=0;i<n;i++){var a=t[i];a.isPanelMain&&a instanceof ou&&(a.qa=e)}}},Oc.prototype.Pi=function(){var e=this.$d;return null===e||(e=e.part,null===e||!gs(e))},Oc.prototype.Lb=function(){return!1},Oc.prototype.nk=function(e,t,n,i,a,r,o){if(e===Nn&&"elements"===t){if(a instanceof nd)null===this.Va&&(this.Va=a);else if(a instanceof Tl){var s=a.Yl((function(e){return e instanceof nd}));s instanceof nd&&null===this.Va&&(this.Va=s)}}else e===In&&"elements"===t&&null!==this.Va&&(i===this.Va||i instanceof Tl&&this.Va.qg(i))&&(this.Va=null);lc.prototype.nk.call(this,e,t,n,i,a,r,o)},Oc.prototype.updateAdornments=function(){},Oc.prototype.Yj=function(){},p.Object.defineProperties(Oc.prototype,{placeholder:{get:function(){return this.Va}},adornedObject:{get:function(){return this.$d},set:function(e){var t=this.adornedPart,n=null;null!==e&&(n=e.part),null===t||null!==e&&t===n||t.tf(this.category),this.$d=e,null!==n&&n.qh(this.category,this)}},adornedPart:{get:function(){var e=this.$d;return null!==e?e.part:null}},containingGroup:{get:function(){return null}}}),Oc.className="Adornment",f(Mc,lc),Mc.prototype.cloneProtected=function(e){lc.prototype.cloneProtected.call(this,e),e.S=this.S,e.S=-17&this.S,e.co=this.co,e.eo=this.eo,e.ii=this.ii,e.Cp=this.Cp,e.Ck=this.Ck.I(),e.Qo=this.Qo},n=Mc.prototype,n.mf=function(e){lc.prototype.mf.call(this,e),e.ed(),e.Le=this.Le,e.rc=null},n.qz=function(e,t,n){void 0!==t&&null!==t||(t=""),void 0!==n&&null!==n||(n=""),e=Rc(this,e,t,n),null!==e&&e.cm()},n.nk=function(e,t,n,i,a,r,o){(e===Nn&&"elements"===t||e===In&&"elements"===t)&&(this.rc=null),lc.prototype.nk.call(this,e,t,n,i,a,r,o)},n.ed=function(e){void 0===e&&(e=null);for(var t=this.linksConnected;t.next();){var n=t.value;null!==e&&e.contains(n)||(Bc(this,n.fromPort),Bc(this,n.toPort),n.Ra())}},n.Pi=function(){return!0},Mc.prototype.getAvoidableRect=function(e){return e.set(this.actualBounds),e.Lp(this.Ck),e},Mc.prototype.findVisibleNode=function(){for(var e=this;null!==e&&!e.isVisible();)e=e.containingGroup;return e},Mc.prototype.isVisible=function(){if(!lc.prototype.isVisible.call(this))return!1;var e=!0,t=No,n=this.diagram;if(null!==n){if(pa(n.animationManager,this))return!0;e=n.isTreePathToChildren,t=n.treeCollapsePolicy}if(t===No){if(e=this.og(),null!==e&&!e.isTreeExpanded)return!1}else if(t===Io){if(e=e?this.Yu():this.Zu(),e.count>0&&e.all((function(e){return!e.isTreeExpanded})))return!1}else if(t===Do&&(e=e?this.Yu():this.Zu(),e.count>0&&e.any((function(e){return!e.isTreeExpanded}))))return!1;return e=this.labeledLink,null===e||e.isVisible()},n=Mc.prototype,n.Mb=function(e){lc.prototype.Mb.call(this,e);for(var t=this.linksConnected;t.next();)t.value.Mb(e)},n.Wu=function(e){if(void 0===e&&(e=null),null===e)return this.Ya.iterator;var t=new te(this.Ya),n=this;return t.predicate=function(t){return t.fromNode===n&&t.fromPortId===e||t.toNode===n&&t.toPortId===e},t},n.Sp=function(e){void 0===e&&(e=null);var t=new te(this.Ya),n=this;return t.predicate=function(t){return t.fromNode===n&&(null===e||t.fromPortId===e)},t},n.sd=function(e){void 0===e&&(e=null);var t=new te(this.Ya),n=this;return t.predicate=function(t){return t.toNode===n&&(null===e||t.toPortId===e)},t},n.Xu=function(e){void 0===e&&(e=null);for(var t=null,n=null,i=this.Ya.iterator;i.next();){var a=i.value;a.fromNode===this?null!==e&&a.fromPortId!==e||(a=a.toNode,null!==t?t.add(a):null!==n&&n!==a?(t=new re,t.add(n),t.add(a)):n=a):a.toNode!==this||null!==e&&a.toPortId!==e||(a=a.fromNode,null!==t?t.add(a):null!==n&&n!==a?(t=new re,t.add(n),t.add(a)):n=a)}return null!==t?t.iterator:null!==n?new ee(n):Z},n.Zu=function(e){void 0===e&&(e=null);for(var t=null,n=null,i=this.Ya.iterator;i.next();){var a=i.value;a.fromNode!==this||null!==e&&a.fromPortId!==e||(a=a.toNode,null!==t?t.add(a):null!==n&&n!==a?(t=new re,t.add(n),t.add(a)):n=a)}return null!==t?t.iterator:null!==n?new ee(n):Z},n.Yu=function(e){void 0===e&&(e=null);for(var t=null,n=null,i=this.Ya.iterator;i.next();){var a=i.value;a.toNode!==this||null!==e&&a.toPortId!==e||(a=a.fromNode,null!==t?t.add(a):null!==n&&n!==a?(t=new re,t.add(n),t.add(a)):n=a)}return null!==t?t.iterator:null!==n?new ee(n):Z},n.Ny=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=new te(this.Ya),a=this;return i.predicate=function(i){return!(i.fromNode!==a||i.toNode!==e||null!==t&&i.fromPortId!==t||null!==n&&i.toPortId!==n)||!(i.fromNode!==e||i.toNode!==a||null!==n&&i.fromPortId!==n||null!==t&&i.toPortId!==t)},i},n.Oy=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=new te(this.Ya),a=this;return i.predicate=function(i){return!(i.fromNode!==a||i.toNode!==e||null!==t&&i.fromPortId!==t||null!==n&&i.toPortId!==n)},i},Mc.prototype.updateRelationshipsFromData=function(){var e=this.diagram;null!==e&&e.partManager.updateRelationshipsFromData(this)},n=Mc.prototype,n.Yp=function(e){lc.prototype.Yp.call(this,e),e||(Fc(this),e=this.hl,null!==e&&rd(e,this))},n.Zp=function(e){lc.prototype.Zp.call(this,e),e||(e=this.hl,null!==e&&null!==e.$c&&(e.$c.remove(this),e.s()))},n.Yj=function(){if(this.Ya.count>0){var e=this.diagram;if(null!==e)for(var t=null===e.commandHandler||e.commandHandler.deletesConnectedLinks,n=this.Ya.copy().iterator;n.next();){var i=n.value;t?e.remove(i):(i.fromNode===this&&(i.fromNode=null),i.toNode===this&&(i.toNode=null))}}this.labeledLink=null,lc.prototype.Yj.call(this)},n.Ts=function(e){if(null===this.rc){if(""===e&&!1===this.xh)return this;Uc(this)}var t=this.rc.J(e);return null!==t||""!==e&&(t=this.rc.J(""),null!==t)?t:this},n.sz=function(e){if(null===e||e===this)return!1;var t=!0,n=this.diagram;if(null!==n&&(t=n.isTreePathToChildren),n=this,t)for(;n!==e;){t=null;for(var i=n.Ya.iterator;i.next();){var a=i.value;if(a.isTreeLink&&(t=a.fromNode,t!==n&&t!==this))break}if(t===this||null===t||t===n)return!1;n=t}else for(;n!==e;){for(t=null,i=n.Ya.iterator;i.next()&&(a=i.value,!a.isTreeLink||(t=a.toNode,t===n||t===this)););if(t===this||null===t||t===n)return!1;n=t}return!0},n.Zy=function(){var e=!0,t=this.diagram;if(null!==t&&(e=t.isTreePathToChildren),t=this,e)for(;;){e=null;for(var n=t.Ya.iterator;n.next();){var i=n.value;if(i.isTreeLink&&(e=i.fromNode,e!==t&&e!==this))break}if(e===this)return this;if(null===e||e===t)return t;t=e}else for(;;){for(e=null,n=t.Ya.iterator;n.next()&&(i=n.value,!i.isTreeLink||(e=i.toNode,e===t||e===this)););if(e===this)return this;if(null===e||e===t)return t;t=e}},n.Ky=function(e){if(null===e)return null;if(this===e)return this;for(var t=this;null!==t;)Sc(t,!0),t=t.og();var n=null;for(t=e;null!==t;){if(0!==(1048576&t.D)){n=t;break}t=t.og()}for(t=this;null!==t;)Sc(t,!1),t=t.og();return n},n.Hi=function(){var e=!0,t=this.diagram;if(null!==t&&(e=t.isTreePathToChildren),t=this.Ya.iterator,e){for(;t.next();)if(e=t.value,e.isTreeLink&&e.fromNode!==this)return e}else for(;t.next();)if(e=t.value,e.isTreeLink&&e.toNode!==this)return e;return null},n.og=function(){var e=this.oh;if(null===e)return null;if(e instanceof Mc)return e;var t=!0;if(e=this.diagram,null!==e&&(t=e.isTreePathToChildren),e=this.Ya.iterator,t){for(;e.next();)if(t=e.value,t.isTreeLink&&(t=t.fromNode,t!==this))return this.oh=t}else for(;e.next();)if(t=e.value,t.isTreeLink&&(t=t.toNode,t!==this))return this.oh=t;return this.oh=null},n.Xy=function(){function e(t,n){if(null!==t){n.add(t);var i=t.Hi();null!==i&&(n.add(i),e(t.og(),n))}}var t=new re;return e(this,t),t},n.Wy=function(){return Qc(this,this)},n.Up=function(){var e=!0,t=this.diagram;null!==t&&(e=t.isTreePathToChildren),t=new te(this.Ya);var n=this;return t.predicate=e?function(e){return!(!e.isTreeLink||e.fromNode!==n)}:function(e){return!(!e.isTreeLink||e.toNode!==n)},t},n.$u=function(){var e=!0,t=this.diagram;null!==t&&(e=t.isTreePathToChildren);var n=t=null,i=this.Ya.iterator;if(e)for(;i.next();)e=i.value,e.isTreeLink&&e.fromNode===this&&(e=e.toNode,null!==t?t.add(e):null!==n&&n!==e?(t=new ie,t.add(n),t.add(e)):n=e);else for(;i.next();)e=i.value,e.isTreeLink&&e.toNode===this&&(e=e.fromNode,null!==t?t.add(e):null!==n&&n!==e?(t=new ie,t.add(n),t.add(e)):n=e);return null!==t?t.iterator:null!==n?new ee(n):Z},n.Yy=function(e){void 0===e&&(e=1/0);var t=new re;return Pc(t,this,!1,e,!0),t},Mc.prototype.collapseTree=function(e){void 0===e&&(e=1),e<1&&(e=1);var t=this.diagram;if(null!==t&&!t.Ee){t.Ee=!0;var n=new re;n.add(this),$c(this,n,t.isTreePathToChildren,e,t,this,t.treeCollapsePolicy===No),t.Ee=!1}},Mc.prototype.expandTree=function(e){void 0===e&&(e=2),e<2&&(e=2);var t=this.diagram;if(null!==t&&!t.Ee){t.Ee=!0;var n=new re;n.add(this),Gc(this,n,t.isTreePathToChildren,e,t,this,t.treeCollapsePolicy===No),t.Ee=!1}},p.Object.defineProperties(Mc.prototype,{portSpreading:{get:function(){return this.Qo},set:function(e){var t=this.Qo;t!==e&&(this.Qo=e,this.g("portSpreading",t,e),e=this.diagram,null!==e&&e.undoManager.isUndoingRedoing||this.ed())}},avoidable:{get:function(){return 0!==(8&this.S)},set:function(e){var t=0!==(8&this.S);if(t!==e){this.S^=8;var n=this.diagram;null!==n&&Gr(n,this),this.g("avoidable",t,e)}}},avoidableMargin:{get:function(){return this.Ck},set:function(e){"number"===typeof e&&(e=new tt(e));var t=this.Ck;if(!t.A(e)){this.Ck=e=e.I();var n=this.diagram;null!==n&&Gr(n,this),this.g("avoidableMargin",t,e)}}},linksConnected:{get:function(){return this.Ya.iterator}},linkConnected:{get:function(){return this.co},set:function(e){var t=this.co;t!==e&&(this.co=e,this.g("linkConnected",t,e))}},linkDisconnected:{get:function(){return this.eo},set:function(e){var t=this.eo;t!==e&&(this.eo=e,this.g("linkDisconnected",t,e))}},linkValidation:{get:function(){return this.ii},set:function(e){var t=this.ii;t!==e&&(this.ii=e,this.g("linkValidation",t,e))}},isLinkLabel:{get:function(){return null!==this.hl}},labeledLink:{get:function(){return this.hl},set:function(e){var t=this.hl;if(t!==e){var n=this.diagram,i=this.data;if(null!==t){if(null!==t.$c&&(t.$c.remove(this),t.s()),null!==n&&null!==i&&!n.undoManager.isUndoingRedoing){var a=t.data,r=n.model;if(null!==a&&r.em()){var o=r.pa(i);void 0!==o&&r.Ax(a,o)}}this.containingGroup=null}this.hl=e,null!==e&&(rd(e,this),null===n||null===i||n.undoManager.isUndoingRedoing||(a=e.data,n=n.model,null!==a&&n.em()&&(i=n.pa(i),void 0!==i&&n.Gu(a,i))),this.containingGroup=e.containingGroup),rs(this),this.g("labeledLink",t,e)}}},port:{get:function(){return this.Ts("")}},ports:{get:function(){return null===this.rc&&Uc(this),this.rc.iteratorValues}},isTreeExpanded:{get:function(){return 0!==(1&this.S)},set:function(e){var t=0!==(1&this.S);if(t!==e){this.S^=1;var n=this.diagram;if(this.g("isTreeExpanded",t,e),t=this.treeExpandedChanged,null!==t){var i=!0;null!==n&&(i=n.da,n.da=!0),t(this),null!==n&&(n.da=i)}null!==n&&n.undoManager.isUndoingRedoing?this.Mb(e):e?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!==(2&this.S)},set:function(e){var t=0!==(2&this.S);t!==e&&(this.S^=2,this.g("wasTreeExpanded",t,e))}},treeExpandedChanged:{get:function(){return this.Cp},set:function(e){var t=this.Cp;t!==e&&(this.Cp=e,this.g("treeExpandedChanged",t,e))}},isTreeLeaf:{get:function(){return 0!==(4&this.S)},set:function(e){var t=0!==(4&this.S);t!==e&&(this.S^=4,this.g("isTreeLeaf",t,e))}}}),Mc.prototype.expandTree=Mc.prototype.expandTree,Mc.prototype.collapseTree=Mc.prototype.collapseTree,Mc.prototype.findTreeParts=Mc.prototype.Yy,Mc.prototype.findTreeChildrenNodes=Mc.prototype.$u,Mc.prototype.findTreeChildrenLinks=Mc.prototype.Up,Mc.prototype.findTreeLevel=Mc.prototype.Wy,Mc.prototype.findTreeParentChain=Mc.prototype.Xy,Mc.prototype.findTreeParentNode=Mc.prototype.og,Mc.prototype.findTreeParentLink=Mc.prototype.Hi,Mc.prototype.findCommonTreeParent=Mc.prototype.Ky,Mc.prototype.findTreeRoot=Mc.prototype.Zy,Mc.prototype.isInTreeOf=Mc.prototype.sz,Mc.prototype.findPort=Mc.prototype.Ts,Mc.prototype.findLinksTo=Mc.prototype.Oy,Mc.prototype.findLinksBetween=Mc.prototype.Ny,Mc.prototype.findNodesInto=Mc.prototype.Yu,Mc.prototype.findNodesOutOf=Mc.prototype.Zu,Mc.prototype.findNodesConnected=Mc.prototype.Xu,Mc.prototype.findLinksInto=Mc.prototype.sd,Mc.prototype.findLinksOutOf=Mc.prototype.Sp,Mc.prototype.findLinksConnected=Mc.prototype.Wu,Mc.prototype.invalidateConnectedLinks=Mc.prototype.ed,Mc.prototype.invalidateLinkBundle=Mc.prototype.qz;var Yc=new Y(Mc,"SpreadingNone",10),Wc=new Y(Mc,"SpreadingEvenly",11),Kc=new Y(Mc,"SpreadingPacked",12);function Jc(e){Mc.call(this,e),this.S|=4608,this.oo=new re,this.rl=new re,this.Va=this.tp=this.ji=this.po=this.no=null,this.gc=new lh,this.gc.group=this}function Xc(e,t){if(e.oo.add(t)){t instanceof Jc&&e.rl.add(t);var n=e.memberAdded;if(null!==n){var i=!0,a=e.diagram;null!==a&&(i=a.da,a.da=!0),n(e,t),null!==a&&(a.da=i)}e.isVisible()&&e.isSubGraphExpanded||t.Mb(!1)}t instanceof id&&!e.computesBoundsIncludingLinks||(t=e.Va,null===t&&(t=e),t.s())}function Zc(e,t){if(e.oo.remove(t)){t instanceof Jc&&e.rl.remove(t);var n=e.memberRemoved;if(null!==n){var i=!0,a=e.diagram;null!==a&&(i=a.da,a.da=!0),n(e,t),null!==a&&(a.da=i)}e.isVisible()&&e.isSubGraphExpanded||t.Mb(!0)}t instanceof id&&!e.computesBoundsIncludingLinks||(t=e.Va,null===t&&(t=e),t.s())}function ed(e,t,n,i){for(var a=e.memberParts;a.next();){var r=a.value;if(r.Mb(!1),r instanceof Jc&&r.isSubGraphExpanded&&(r.wasSubGraphExpanded=r.isSubGraphExpanded,ed(r,t,n,i)),r instanceof Mc)r.ed(t),n.Jp(r,i);else if(r instanceof id)for(r=r.labelNodes;r.next();)r.value.ed(t)}e.isSubGraphExpanded=!1}function td(e,t,n,i){for(var a=e.memberParts;a.next();){var r=a.value;if(r.Mb(!0),r instanceof Jc&&r.wasSubGraphExpanded&&(r.wasSubGraphExpanded=!1,td(r,t,n,i)),r instanceof Mc)r.ed(t),n.Kp(r,i);else if(r instanceof id)for(r=r.labelNodes;r.next();)r.value.ed(t)}e.isSubGraphExpanded=!0}function nd(){Yo.call(this),this.eb=at,this.ep=new Ue(NaN,NaN,NaN,NaN)}function id(){lc.call(this,Tl.Link),this.Ta=8,this.Oe=null,this.Pe="",this.ef=this.Fn=null,this.ff="",this.Bp=null,this.Lm=Id,this.gn=0,this.kn=Id,this.ln=NaN,this.Ej=kd,this.pp=.5,this.$c=null,this.xb=(new ie).freeze(),this.bh=this.Xg=null,this.xl=new Ue,this.qa=new Jt,this.Qn=!0,this.K=this.u=this.xf=this.Gf=null,this.l=[],this.zu=new ge,this.kr=this.Lw=this.Kw=null,this.au=NaN,this.P=null}function ad(e){var t=e.fromNode,n=e.toNode,i=null;if(i=null!==t?null!==n?t.hx(n):t.containingGroup:null!==n?n.containingGroup:null,t=i,n=e.Rh,n!==t){null!==n&&Zc(n,e),e.Rh=t,null!==t&&Xc(t,e);var a=e.containingGroupChanged;if(null!==a){var r=!0,o=e.diagram;null!==o&&(r=o.da,o.da=!0),a(e,n,t),null!==o&&(o.da=r)}!e.Lc||e.Kw!==n&&e.Lw!==n||e.Ra()}if(e.isLabeledLink)for(e=e.labelNodes;e.next();)e.value.containingGroup=i}function rd(e,t){null===e.$c&&(e.$c=new re),e.$c.add(t),e.s()}function od(e,t,n){if(0!==t||0!==n){for(var i=e.Lc,a=new ie,r=e.xb.iterator;r.next();){var o=r.value;a.add(new ge(o.x+t,o.y+n).freeze())}a.freeze(),r=e.xb,e.xb=a,isNaN(t)||isNaN(n)||e.diagram.animationManager.rb?e.s():(e.Of.h(e.Of.x+t,e.Of.y+n),e.sa.h(e.sa.x+t,e.sa.y+n),rs(e)),i&&sd(e),t=e.diagram,null!==t&&t.animationManager.rb&&(e.bh=a),e.g("points",r,a)}}function sd(e){0===e.xb.count?e.Lc=!1:(e.Lc=!0,e.kr=null,e.au=NaN,e.defaultFromPoint=e.i(0),e.defaultToPoint=e.i(e.pointsCount-1),Ad(e,!1))}function ld(e,t){return Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?(t.x>=e.x?t.x=e.x+9e9:t.x=e.x-9e9,t.y=e.y):(t.y>=e.y?t.y=e.y+9e9:t.y=e.y-9e9,t.x=e.x),t}function ud(e,t){var n=t.Po;return null===n&&(n=new ih,n.port=t,n.node=t.part,t.Po=n),rh(n,e)}function cd(e){return e===lt||.5===e.x&&.5===e.y}function dd(e){if(null===e.diagram||!e.isAvoiding||!Qr(e.diagram))return!1;var t=e.points.j,n=t.length;if(n<4)return!1;e=$r(e.diagram,!0,e.containingGroup,null);for(var i=1;i<n-2;i++){var a=t[i],r=t[i+1];if(!e.ek(Math.min(a.x,r.x),Math.min(a.y,r.y),Math.abs(a.x-r.x),Math.abs(a.y-r.y)))return!0}return!1}function hd(e,t,n,i,a,r){var o=t.Ul,s=t.Tl,l=Hd(t,n,i),u=n,c=i;for(0===a?u+=o:90===a?c+=s:180===a?u-=o:c-=s;l>eh&&Hd(t,u,c)===l-1;)n=u,i=c,0===a?u+=o:90===a?c+=s:180===a?u-=o:c-=s,--l;r?l>eh&&(180===a||0===a?n=Math.floor(n/o)*o+o/2:90!==a&&270!==a||(i=Math.floor(i/s)*s+s/2)):(n=Math.floor(n/o)*o+o/2,i=Math.floor(i/s)*s+s/2),l>eh&&(r=a,u=n,c=i,0===a?(r=90,c+=s):90===a?(r=180,u-=o):180===a?(r=270,c-=s):270===a&&(r=0,u+=o),Hd(t,u,c)===l-1?hd(e,t,u,c,r,!1):(u=n,c=i,0===a?(r=270,c-=s):90===a?(r=0,u+=o):180===a?(r=90,c+=s):270===a&&(r=180,u-=o),Hd(t,u,c)===l-1&&hd(e,t,u,c,r,!1))),e.jf(n,i)}function fd(e,t,n,i){return e=n-e,isNaN(e)||1/0===e||-1/0===e?NaN:(e<0&&(e=-e),t=i-t,isNaN(t)||1/0===t||-1/0===t?NaN:(t<0&&(t=-t),Kt.ca(e,0)?t:Kt.ca(t,0)?e:Math.sqrt(e*e+t*t)))}function pd(e,t,n,i){var a=e.pointsCount;if(a<2)return t;if(n){var r=e.i(1);if(n=r.x-i.x,r=r.y-i.y,i=fd(t.x,t.y,n,r),0===i)return t;a=2===a?.5*i:i,e=e.computeShortLength(!0),e>a&&(e=a),a=e*(r-t.y)/i,t.x+=e*(n-t.x)/i,t.y+=a}else{if(r=e.i(a-2),n=r.x-i.x,r=r.y-i.y,i=fd(t.x,t.y,n,r),0===i)return t;a=2===a?.5*i:i,e=e.computeShortLength(!1),e>a&&(e=a),a=e*(t.y-r)/i,t.x-=e*(t.x-n)/i,t.y-=a}return t}function md(e,t,n,i){for(var a=e.pointsCount,r=t;Kt.ca(t.x,r.x)&&Kt.ca(t.y,r.y);){if(n>=a)return a-1;r=e.i(n++)}if(!Kt.ca(t.x,r.x)&&!Kt.ca(t.y,r.y))return n-1;for(var o=r;Kt.ca(t.x,r.x)&&Kt.ca(r.x,o.x)&&(!i||(t.y>=r.y?r.y>=o.y:r.y<=o.y))||Kt.ca(t.y,r.y)&&Kt.ca(r.y,o.y)&&(!i||(t.x>=r.x?r.x>=o.x:r.x<=o.x));){if(n>=a)return a-1;o=e.i(n++)}return n-2}function gd(e,t,n,i,a,r,o){if(!o&&bd(e)){o=[];var s=0;if(e.isVisible()&&(s=vd(e,a,r,o)),s>0)if(Kt.w(a.y,r.y))if(a.x<r.x)for(var l=0;l<s;){var u=Math.max(a.x,Math.min(o[l++]-5,r.x-10));t.lineTo(u+n,r.y+i);for(var c=u+n,d=Math.min(u+10,r.x);l<s;){if(u=o[l],!(u<d+10))break;l++,d=Math.min(u+5,r.x)}u=r.y-10+i,d+=n;var h=r.y+i;e.curve===Pd?ec(t,d,h,!1):nc(t,c,u,d,u,d,h)}else for(--s;s>=0;){for(l=Math.min(a.x,Math.max(o[s--]+5,r.x+10)),t.lineTo(l+n,r.y+i),c=l+n,u=Math.max(l-10,r.x);s>=0;){if(l=o[s],!(l>u-10))break;s--,u=Math.max(l-5,r.x)}l=r.y-10+i,u+=n,d=r.y+i,e.curve===Pd?ec(t,u,d,!1):nc(t,c,l,u,l,u,d)}else if(Kt.w(a.x,r.x))if(a.y<r.y)for(l=0;l<s;){for(u=Math.max(a.y,Math.min(o[l++]-5,r.y-10)),t.lineTo(r.x+n,u+i),c=u+i,u=Math.min(u+10,r.y);l<s;){if(d=o[l],!(d<u+10))break;l++,u=Math.min(d+5,r.y)}d=r.x-10+n,h=r.x+n,u+=i,e.curve===Pd?ec(t,h,u,!1):nc(t,d,c,d,u,h,u)}else for(--s;s>=0;){for(l=Math.min(a.y,Math.max(o[s--]+5,r.y+10)),t.lineTo(r.x+n,l+i),c=l+i,l=Math.max(l-10,r.y);s>=0;){if(u=o[s],!(u>l-10))break;s--,l=Math.max(u-5,r.y)}u=r.x-10+n,d=r.x+n,l+=i,e.curve===Pd?ec(t,d,l,!1):nc(t,u,c,u,l,d,l)}}t.lineTo(r.x+n,r.y+i)}function vd(e,t,n,i){var a=e.diagram;if(null===a||t.A(n))return 0;for(a=a.layers;a.next();){var r=a.value;if(null!==r&&r.visible){r=r.Fa.j;for(var o=r.length,s=0;s<o;s++){var l=r[s];if(l instanceof id){if(l===e)return i.length>0&&i.sort((function(e,t){return e-t})),i.length;if(l.isVisible()&&bd(l)){var u=l.routeBounds;u.o()&&e.routeBounds.Ic(u)&&!e.usesSamePort(l)&&(u=l.path,null!==u&&u.rf()&&yd(t,n,i,l))}}}}}return i.length>0&&i.sort((function(e,t){return e-t})),i.length}function yd(e,t,n,i){for(var a=Kt.w(e.y,t.y),r=i.pointsCount,o=i.i(0),s=ge.alloc(),l=1;l<r;l++){var u=i.i(l);if(l<r-1){var c=i.i(l+1);if(o.y===u.y&&u.y===c.y){if(u.x>o.x&&c.x>=u.x||u.x<o.x&&c.x<=u.x)continue}else if(o.x===u.x&&u.x===c.x&&(u.y>o.y&&c.y>=u.y||u.y<o.y&&c.y<=u.y))continue}e:{c=e.x;var d=e.y,h=t.x,f=t.y,p=o.x;o=o.y;var m=u.x,g=u.y;if(Kt.w(c,h)){if(!Kt.w(d,f)&&Kt.w(o,g)&&Math.min(d,f)<o&&Math.max(d,f)>o&&Math.min(p,m)<c&&Math.max(p,m)>c&&!Kt.w(p,m)){s.x=c,s.y=o,c=!0;break e}}else if(Kt.w(d,f)&&Kt.w(p,m)&&Math.min(c,h)<p&&Math.max(c,h)>p&&Math.min(o,g)<d&&Math.max(o,g)>d&&!Kt.w(o,g)){s.x=p,s.y=d,c=!0;break e}s.x=0,s.y=0,c=!1}c&&(a?n.push(s.x):n.push(s.y)),o=u}ge.free(s)}function bd(e){return e=e.curve,e===Ld||e===Pd}function Ad(e,t){(t||bd(e))&&(t=e.diagram,null===t||t.Ui||t.Wh.contains(e)||0===e.xl.width&&0===e.xl.height||t.Wh.add(e,e.xl))}function wd(e,t,n){if(null!==t&&null!==t.qa&&bd(t)){var i=t.routeBounds;i.o()&&(e.routeBounds.Ic(i)||n.Ic(i))&&(e.usesSamePort(t)||t.bc())}}function xd(e){var t=e.Oe;if(null!==t){var n=e.ef;if(null!==n){for(var i=e.Pe,a=e.ff,r=e=null,o=t.Ya.j,s=o.length,l=0;l<s;l++){var u=o[l];(u.Oe===t&&u.Pe===i&&u.ef===n&&u.ff===a||u.Oe===n&&u.Pe===a&&u.ef===t&&u.ff===i)&&(null===r?r=u:(null===e&&(e=[],e.push(r)),e.push(u)))}if(null!==e){for(r=Rc(t,n,i,a),null===r&&(r=new zd(t,i,n,a),Ec(t,r),Ec(n,r)),r.links=e,t=0;t<e.length;t++)e[t].xf=r;r.cm()}}}}function Cd(e){var t=e.xf;null!==t&&(e.xf=null,e=t.links.indexOf(e),e>=0&&(L(t.links,e),t.cm()))}Mc.className="Node",Mc.SpreadingNone=Yc,Mc.SpreadingEvenly=Wc,Mc.SpreadingPacked=Kc,f(Jc,Mc),Jc.prototype.cloneProtected=function(e){Mc.prototype.cloneProtected.call(this,e),this.S=-32769&this.S,e.no=this.no,e.po=this.po,e.ji=this.ji,e.tp=this.tp;var t=e.Yl((function(e){return e instanceof nd}));e.Va=t instanceof nd?t:null,null!==this.gc?(e.gc=this.gc.copy(),e.gc.group=e):(null!==e.gc&&(e.gc.group=null),e.gc=null)},n=Jc.prototype,n.mf=function(e){Mc.prototype.mf.call(this,e);var t=e.ak();for(e=e.memberParts;e.next();){var n=e.value;if(n.s(),n.B(8),n.Sj(),n instanceof Mc)n.ed(t);else if(n instanceof id)for(n=n.labelNodes;n.next();)n.value.ed(t)}},n.nk=function(e,t,n,i,a,r,o){if(e===Nn&&"elements"===t){if(a instanceof nd)null===this.Va?this.Va=a:this.Va!==a&&x("Cannot insert a second Placeholder into the visual tree of a Group.");else if(a instanceof Tl){var s=a.Yl((function(e){return e instanceof nd}));s instanceof nd&&(null===this.Va?this.Va=s:this.Va!==s&&x("Cannot insert a second Placeholder into the visual tree of a Group."))}}else e===In&&"elements"===t&&null!==this.Va&&(i===this.Va||i instanceof Tl&&this.Va.qg(i))&&(this.Va=null);Mc.prototype.nk.call(this,e,t,n,i,a,r,o)},n.th=function(e,t,n,i){this.Ve=this.Va,Mc.prototype.th.call(this,e,t,n,i)},n.Pi=function(){if(!Mc.prototype.Pi.call(this))return!1;for(var e=this.memberParts;e.next();){var t=e.value;if(t instanceof Mc){if(t.isVisible()&&gs(t))return!1}else if(t instanceof id&&t.isVisible()&&gs(t)&&t.fromNode!==this&&t.toNode!==this)return!1}return!0},n.Yj=function(){if(this.oo.count>0){var e=this.diagram;if(null!==e)for(var t=this.oo.copy().iterator;t.next();)e.remove(t.value)}Mc.prototype.Yj.call(this)},Jc.prototype.canAddMembers=function(e){var t=this.diagram;if(null===t)return!1;for(t=t.commandHandler,e=Go(e).iterator;e.next();)if(!t.isValidMember(this,e.value))return!1;return!0},Jc.prototype.addMembers=function(e,t){var n=this.diagram;if(null===n)return!1;n=n.commandHandler;var i=!0;for(e=Go(e).iterator;e.next();){var a=e.value;!t||n.isValidMember(this,a)?a.containingGroup=this:i=!1}return i},Jc.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var e=this.layer;return!(null!==e&&!e.allowUngroup)&&(e=e.diagram,!(null!==e&&!e.allowUngroup))},n=Jc.prototype,n.ed=function(e){void 0===e&&(e=null);var t=0!==(65536&this.S);if(Mc.prototype.ed.call(this,e),!t)for(0!==(65536&this.S)!==!0&&(this.S=65536^this.S),t=this.Vu();t.next();){var n=t.value;if(null===e||!e.contains(n)){var i=n.fromNode;null!==i&&i!==this&&i.Vd(this)&&!i.isVisible()?(Bc(i,n.fromPort),Bc(i,n.toPort),n.Ra()):(i=n.toNode,null!==i&&i!==this&&i.Vd(this)&&!i.isVisible()&&(Bc(i,n.fromPort),Bc(i,n.toPort),n.Ra()))}}},n.Vu=function(){var e=this.ak();e.add(this);for(var t=new re,n=e.iterator;n.next();){var i=n.value;if(i instanceof Mc)for(i=i.linksConnected;i.next();){var a=i.value;e.contains(a)||t.add(a)}}return t.iterator},n.My=function(){var e=this.ak();e.add(this);for(var t=new re,n=e.iterator;n.next();){var i=n.value;if(i instanceof Mc)for(i=i.linksConnected;i.next();){var a=i.value,r=a.fromNode;e.contains(r)&&r!==this||t.add(r),a=a.toNode,e.contains(a)&&a!==this||t.add(a)}}return t.iterator},n.Ly=function(){function e(t,n){null!==t&&(n.add(t),e(t.containingGroup,n))}var t=new re;return e(this,t),t},n.ak=function(){var e=new re;return Pc(e,this,!0,0,!0),e.remove(this),e},n.Mb=function(e){Mc.prototype.Mb.call(this,e);for(var t=this.memberParts;t.next();)t.value.Mb(e)},Jc.prototype.collapseSubGraph=function(){var e=this.diagram;if(null!==e&&!e.Ee){e.Ee=!0;var t=this.ak();ed(this,t,e,this),e.Ee=!1}},Jc.prototype.expandSubGraph=function(){var e=this.diagram;if(null!==e&&!e.Ee){e.Ee=!0;var t=this.ak();td(this,t,e,this),e.Ee=!1}},Jc.prototype.move=function(e,t){void 0===t&&(t=!1);var n=t?this.location:this.position,i=n.x;isNaN(i)&&(i=0),n=n.y,isNaN(n)&&(n=0),i=e.x-i,n=e.y-n;var a=ge.allocAt(i,n);for(Mc.prototype.move.call(this,e,t),e=new re,t=this.ak().iterator;t.next();){var r=t.value;r instanceof id&&(r.suspendsRouting&&e.add(r),r.Lc||r.fromNode!==this&&r.toNode!==this)&&(r.suspendsRouting=!0)}for(t.reset();t.next();)if(r=t.value,!(r.zh()||r instanceof Mc&&r.isLinkLabel)){var o=r.position,s=r.location;o.o()?(a.x=o.x+i,a.y=o.y+n,r.position=a):s.o()&&(a.x=s.x+i,a.y=s.y+n,r.location=a)}for(t.reset();t.next();)r=t.value,r instanceof id&&(r.suspendsRouting=e.contains(r),r.Lc||r.fromNode!==this&&r.toNode!==this)&&(o=r.position,a.x=o.x+i,a.y=o.y+n,a.o()?r.move(a):r.Ra(),dd(r)&&r.Ra());ge.free(a)},p.Object.defineProperties(Jc.prototype,{placeholder:{get:function(){return this.Va}},computesBoundsAfterDrag:{get:function(){return 0!==(2048&this.S)},set:function(e){var t=0!==(2048&this.S);t!==e&&(this.S^=2048,this.g("computesBoundsAfterDrag",t,e))}},computesBoundsIncludingLinks:{get:function(){return 0!==(4096&this.S)},set:function(e){var t=0!==(4096&this.S);t!==e&&(this.S^=4096,this.g("computesBoundsIncludingLinks",t,e))}},computesBoundsIncludingLocation:{get:function(){return 0!==(8192&this.S)},set:function(e){var t=0!==(8192&this.S);t!==e&&(this.S^=8192,this.g("computesBoundsIncludingLocation",t,e))}},handlesDragDropForMembers:{get:function(){return 0!==(16384&this.S)},set:function(e){var t=0!==(16384&this.S);t!==e&&(this.S^=16384,this.g("handlesDragDropForMembers",t,e))}},memberParts:{get:function(){return this.oo.iterator}},layout:{get:function(){return this.gc},set:function(e){var t=this.gc;if(t!==e){null!==t&&(t.diagram=null,t.group=null),this.gc=e;var n=this.diagram;null!==e&&(e.diagram=n,e.group=this),null!==n&&(n.zg=!0),this.g("layout",t,e),null!==n&&n.cc()}}},memberAdded:{get:function(){return this.no},set:function(e){var t=this.no;t!==e&&(this.no=e,this.g("memberAdded",t,e))}},memberRemoved:{get:function(){return this.po},set:function(e){var t=this.po;t!==e&&(this.po=e,this.g("memberRemoved",t,e))}},memberValidation:{get:function(){return this.ji},set:function(e){var t=this.ji;t!==e&&(this.ji=e,this.g("memberValidation",t,e))}},ungroupable:{get:function(){return 0!==(256&this.S)},set:function(e){var t=0!==(256&this.S);t!==e&&(this.S^=256,this.g("ungroupable",t,e))}},isSubGraphExpanded:{get:function(){return 0!==(512&this.S)},set:function(e){var t=0!==(512&this.S);if(t!==e){this.S^=512;var n=this.diagram;if(this.g("isSubGraphExpanded",t,e),t=this.subGraphExpandedChanged,null!==t){var i=!0;null!==n&&(i=n.da,n.da=!0),t(this),null!==n&&(n.da=i)}null!==n&&n.undoManager.isUndoingRedoing?(null!==this.Va&&this.Va.s(),this.memberParts.each((function(e){e.updateAdornments()}))):e?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!==(1024&this.S)},set:function(e){var t=0!==(1024&this.S);t!==e&&(this.S^=1024,this.g("wasSubGraphExpanded",t,e))}},subGraphExpandedChanged:{get:function(){return this.tp},set:function(e){var t=this.tp;t!==e&&(this.tp=e,this.g("subGraphExpandedChanged",t,e))}},mk:{get:function(){return 0!==(32768&this.S)},set:function(e){0!==(32768&this.S)!==e&&(this.S^=32768)}}}),Jc.prototype.expandSubGraph=Jc.prototype.expandSubGraph,Jc.prototype.collapseSubGraph=Jc.prototype.collapseSubGraph,Jc.prototype.findSubGraphParts=Jc.prototype.ak,Jc.prototype.findContainingGroupChain=Jc.prototype.Ly,Jc.prototype.findExternalNodesConnected=Jc.prototype.My,Jc.prototype.findExternalLinksConnected=Jc.prototype.Vu,Jc.className="Group",f(nd,Yo),nd.prototype.cloneProtected=function(e){Yo.prototype.cloneProtected.call(this,e),e.eb=this.eb.I(),e.ep=this.ep.copy()},nd.prototype.vh=function(e){if(null===this.background&&null===this.areaBackground)return!1;var t=this.naturalBounds;return Ke(0,0,t.width,t.height,e.x,e.y)},nd.prototype.hm=function(){var e=this.part;if(null!==e&&(e instanceof Jc||e instanceof Oc)||x("Placeholder is not inside a Group or Adornment."),e instanceof Jc){var t=this.computeBorder(this.ep),n=this.minSize,i=this.qc;for(qe(i,(isFinite(n.width)?Math.max(n.width,t.width):t.width)||0,(isFinite(n.height)?Math.max(n.height,t.height):t.height)||0),Xo(this,0,0,i.width,i.height),n=e.memberParts,i=!1;n.next();)if(n.value.isVisible()){i=!0;break}n=e.diagram,(i=!i||null===n)||(i=n.animationManager,i.Kf?(i=i.xj.J(e),i=null!==i&&(i.start.position||i.start.location)):i=!1),i||isNaN(t.x)||isNaN(t.y)?null!==n&&n.animationManager.isAnimating&&n.animationManager.$r.add(this):(n=ge.alloc(),n.Ti(t,e.locationSpot),n.A(e.location)||(e.location=new ge(n.x,n.y)),ge.free(n))}else{t=this.qc,n=this.eb,i=n.left+n.right;var a=n.top+n.bottom,r=e.adornedObject;e.angle=r.Ji();var o=0;r instanceof ou&&(o=r.strokeWidth);var s=r.Ce(),l=r.naturalBounds,u=(l.width+o)*s;o=(l.height+o)*s,e.type!==Tl.Link&&(r=r.ma("Selection"===e.category?ut:e.locationSpot,ge.alloc()),e.location=r,ge.free(r)),isNaN(u)||isNaN(o)?(e=e.adornedObject,u=e.ma(ut,ge.alloc()),r=Ue.allocAt(u.x,u.y,0,0),r.Ie(e.ma(vt,u)),r.Ie(e.ma(dt,u)),r.Ie(e.ma(mt,u)),qe(t,r.width+i||0,r.height+a||0),Xo(this,-n.left,-n.top,t.width,t.height),ge.free(u),Ue.free(r)):(qe(t,u+i||0,o+a||0),Xo(this,-n.left,-n.top,t.width,t.height))}},nd.prototype.th=function(e,t,n,i){this.actualBounds.h(e,t,n,i)},nd.prototype.computeBorder=function(e){var t=this.part,n=t.diagram;if(null!==n&&t instanceof Jc&&!t.layer.isTemporary&&t.computesBoundsAfterDrag&&this.ep.o()){var i=n.toolManager.findTool("Dragging");if(i===n.currentTool&&(n=i.computeBorder(t,this.ep,e),null!==n))return n}n=Ue.alloc(),i=this.computeMemberBounds(n);var a=this.eb;return t instanceof Jc&&!t.isSubGraphExpanded?e.h(i.x-a.left,i.y-a.top,0,0):e.h(i.x-a.left,i.y-a.top,Math.max(i.width+a.left+a.right,0),Math.max(i.height+a.top+a.bottom,0)),Ue.free(n),t instanceof Jc&&t.computesBoundsIncludingLocation&&t.location.o()&&e.Ie(t.location),e},nd.prototype.computeMemberBounds=function(e){if(!(this.part instanceof Jc))return e.h(0,0,0,0),e;for(var t=this.part,n=1/0,i=1/0,a=-1/0,r=-1/0,o=t.memberParts;o.next();){var s=o.value;if(s.isVisible()){if(s instanceof id){if(!t.computesBoundsIncludingLinks)continue;if(ps(s))continue;if(s.fromNode===t||s.toNode===t)continue}s=s.actualBounds,s.left<n&&(n=s.left),s.top<i&&(i=s.top),s.right>a&&(a=s.right),s.bottom>r&&(r=s.bottom)}}return isFinite(n)&&isFinite(i)?e.h(n,i,a-n,r-i):(t=t.location,e.h(t.x,t.y,0,0)),e},p.Object.defineProperties(nd.prototype,{padding:{get:function(){return this.eb},set:function(e){"number"===typeof e&&(e=new tt(e));var t=this.eb;t.A(e)||(this.eb=e=e.I(),this.g("padding",t,e))}}}),nd.className="Placeholder",f(id,lc),id.prototype.cloneProtected=function(e){lc.prototype.cloneProtected.call(this,e),e.Ta=-113&this.Ta,e.Pe=this.Pe,e.Fn=this.Fn,e.ff=this.ff,e.Bp=this.Bp,e.Lm=this.Lm,e.gn=this.gn,e.kn=this.kn,e.ln=this.ln,e.Ej=this.Ej,e.pp=this.pp,null!==this.P&&(e.P=this.P.copy())},n=id.prototype,n.mf=function(e){lc.prototype.mf.call(this,e),this.Pe=e.Pe,this.ff=e.ff,e.Xg=null,e.Ra(),e.xf=this.xf;var t=e.fromPort;null!==t&&Bc(e.fromNode,t),t=e.toPort,null!==t&&Bc(e.toNode,t)},n.fb=function(e){e.classType===id?2===(2&e.value)?this.routing=e:e===Dd||e===Pd||e===Ld?this.curve=e:e===Od||e===Md||e===Ed?this.adjusting=e:e!==kd&&e!==Id&&x("Unknown Link enum value for a Link property: "+e):lc.prototype.fb.call(this,e)},n.Hc=function(){null===this.P&&(this.P=new sh)},n.Pi=function(){var e=this.fromNode;if(null!==e){var t=e.findVisibleNode();if(null!==t&&(e=t),gs(e)||wc(e))return!1}return e=this.toNode,null===e||(t=e.findVisibleNode(),null!==t&&(e=t),!gs(e)&&!wc(e))},n.Kv=function(){return!1},n.Lv=function(){},n.Lb=function(){return!1},id.prototype.computeAngle=function(e,t,n){return id.computeAngle(t,n)},id.computeAngle=function(e,t){switch(e){default:case Id:e=0;break;case Rd:e=t;break;case jd:e=t+90;break;case Bd:e=t-90;break;case _d:e=t+180;break;case Vd:e=Kt.gq(t),e>90&&e<270&&(e-=180);break;case Fd:e=Kt.gq(t+90),e>90&&e<270&&(e-=180);break;case Ud:e=Kt.gq(t-90),e>90&&e<270&&(e-=180);break;case qd:if(e=Kt.gq(t),e>45&&e<135||e>225&&e<315)return 0;e>90&&e<270&&(e-=180)}return Kt.gq(e)},n=id.prototype,n.yh=function(){var e=this.containingGroup;null!==e&&this.fromNode!==e&&this.toNode!==e&&e.computesBoundsIncludingLinks&&lc.prototype.yh.call(this)},n.Xs=function(e){var t=this.fromNode;return e===t?this.toNode:t},n.ez=function(e){var t=this.fromPort;return e===t?this.toPort:t},n.Yp=function(e){if(lc.prototype.Yp.call(this,e),bd(this)&&this.$p(this.actualBounds),!e){e=this.Oe;var t=null;null!==e&&(t=this.fromPort,_c(e,this,t));var n=this.ef;if(null!==n){var i=this.toPort;n===e&&i===t||_c(n,this,i)}xd(this)}},n.Zp=function(e){if(lc.prototype.Zp.call(this,e),bd(this)&&this.$p(this.actualBounds),!e){e=this.Oe;var t=null;null!==e&&(t=this.fromPort,Vc(e,this,t));var n=this.ef;if(null!==n){var i=this.toPort;n===e&&i===t||Vc(n,this,i)}Cd(this)}},n.Yj=function(){if(this.Lc=!0,null!==this.$c){var e=this.diagram;if(null!==e)for(var t=this.$c.copy().iterator;t.next();)e.remove(t.value)}null!==this.data&&(e=this.diagram,null!==e&&e.partManager.removeDataForLink(this))},id.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var e=this.diagram;null!==e&&e.partManager.updateRelationshipsFromData(this)}},id.prototype.move=function(e,t){var n=t?this.location:this.position,i=n.x;isNaN(i)&&(i=0);var a=n.y;for(isNaN(a)&&(a=0),i=e.x-i,a=e.y-a,!0===t?lc.prototype.move.call(this,e,!1):(e=ge.allocAt(n.x+i,n.y+a),lc.prototype.move.call(this,e,!1),ge.free(e)),od(this,i,a),e=this.labelNodes;e.next();)t=e.value,n=t.position,t.moveTo(n.x+i,n.y+a)},id.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var e=this.layer;return null===e||!!e.allowRelink&&(e=e.diagram,!(null!==e&&!e.allowRelink))},id.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var e=this.layer;return null===e||!!e.allowRelink&&(e=e.diagram,!(null!==e&&!e.allowRelink))},id.prototype.computeMidPoint=function(e){var t=this.pointsCount;if(0===t)return e.assign(Re),e;if(1===t)return e.assign(this.i(0)),e;if(2===t){var n=this.i(0),i=this.i(1);return e.h((n.x+i.x)/2,(n.y+i.y)/2),e}if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===Dd))return this.qa.cv(.5,e),e.add(this.i(0)),n=this.qa.figures.first(),e.offset(-n.startX,-n.startY),e;if(this.computeCurve()===Dd){if(3===t)return this.i(1);if(i=(t-1)/3|0,n=3*(i/2|0),i%2===1){i=this.i(n);var a=this.i(n+1),r=this.i(n+2);n=this.i(n+3),Kt.qy(i.x,i.y,a.x,a.y,r.x,r.y,n.x,n.y,e)}else e.assign(this.i(n));return e}var o=this.flattenedLengths;for(n=this.flattenedTotalLength,a=r=i=0;i<n/2&&r<t;){if(a=o[r],i+a>n/2)break;i+=a,r++}return t=this.i(r),r=this.i(r+1),Math.abs(t.x-r.x)<1?t.y>r.y?e.h(t.x,t.y-(n/2-i)):e.h(t.x,t.y+(n/2-i)):Math.abs(t.y-r.y)<1?t.x>r.x?e.h(t.x-(n/2-i),t.y):e.h(t.x+(n/2-i),t.y):(n=(n/2-i)/a,e.h(t.x+n*(r.x-t.x),t.y+n*(r.y-t.y))),e},id.prototype.computeMidAngle=function(){var e=this.pointsCount;if(e<2)return NaN;if(2===e)return this.i(0).Wa(this.i(1));if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===Dd)){e:{e=this.qa;var t=.5;if(t<0?t=0:t>1&&(t=1),e.type===ln)e=180*Math.atan2(e.endY-e.startY,e.endX-e.startX)/Math.PI;else{var n=e.flattenedSegments,i=e.flattenedLengths,a=n.length;t=e.flattenedTotalLength*t;for(var r=0,o=0;o<a;o++){var s=i[o],l=s.length;for(e=0;e<l;e++){var u=s[e];if(r+u>=t){t=n[o],n=t[2*e],i=t[2*e+1],a=t[2*e+2],e=t[2*e+3],e=Math.abs(a-n)<1&&Math.abs(e-i)<1?0:Math.abs(a-n)<1?e-i>=0?90:270:Math.abs(e-i)<1?a-n>=0?0:180:180*Math.atan2(e-i,a-n)/Math.PI;break e}r+=u}}e=NaN}}return e}if(this.computeCurve()===Dd&&e>=4){if(i=(e-1)/3|0,n=3*(i/2|0),i%2===1)return n=Math.floor(n),e=this.i(n),i=this.i(n+1),a=this.i(n+2),n=this.i(n+3),Kt.py(e.x,e.y,i.x,i.y,a.x,a.y,n.x,n.y);if(n>0&&n+1<e)return this.i(n-1).Wa(this.i(n+1))}for(i=this.flattenedLengths,a=this.flattenedTotalLength,n=t=0;t<a/2&&n<e;){if(r=i[n],t+r>a/2)break;t+=r,n++}if(i=this.i(n),a=this.i(n+1),Math.abs(i.x-a.x)<1&&Math.abs(i.y-a.y)<1){if(n>0&&n+2<e)return this.i(n-1).Wa(this.i(n+2))}else{if(Math.abs(i.x-a.x)<1)return i.y>a.y?270:90;if(Math.abs(i.y-a.y)<1)return i.x>a.x?180:0}return i.Wa(a)},n=id.prototype,n.i=function(e){return this.xb.j[e]},n.jd=function(e,t){this.xb.gd(e,t)},n.M=function(e,t,n){this.xb.gd(e,new ge(t,n))},n.oz=function(e,t){this.xb.Ib(e,t)},n.m=function(e,t,n){this.xb.Ib(e,new ge(t,n))},n.xe=function(e){this.xb.add(e)},n.jf=function(e,t){this.xb.add(new ge(e,t))},n.zv=function(e){this.xb.mb(e)},n.Tj=function(){this.xb.clear()},n.Bh=function(){null===this.Xg&&(this.Xg=this.xb,this.xb=this.xb.copy())},n.kf=function(){if(null!==this.Xg){for(var e=this.Xg,t=this.xb,n=1/0,i=1/0,a=e.j,r=a.length,o=0;o<r;o++){var s=a[o];n=Math.min(s.x,n),i=Math.min(s.y,i)}s=o=1/0;for(var l=t.j,u=l.length,c=0;c<u;c++){var d=l[c];o=Math.min(d.x,o),s=Math.min(d.y,s),d.freeze()}if(t.freeze(),u===r){for(r=0;r<u;r++)if(c=a[r],d=l[r],c.x-n!==d.x-o||c.y-i!==d.y-s){this.s(),this.bc();break}}else this.s(),this.bc();this.Xg=null,n=this.diagram,null!==n&&n.animationManager.rb&&(this.bh=t),sd(this),this.g("points",e,t)}},n.Cx=function(){null!==this.Xg&&(this.xb=this.Xg,this.Xg=null)},n.Ra=function(){if(!this.suspendsRouting){var e=this.diagram;if(e){if(e.gt.contains(this)||e.undoManager.isUndoingRedoing)return;if(e=e.animationManager,e.isTicking&&!e.isAnimating)return;null!==this.bh&&!e.isTicking&&e.isAnimating&&(this.bh=null)}e=this.path,null!==e&&(this.Lc=!1,this.s(),e.s())}},n.Yi=function(){if(!this.Lc&&!this.Ou){var e=!0;try{this.Ou=!0,this.Bh(),e=this.computePoints()}finally{this.Ou=!1,e?this.kf():this.Cx()}}},id.prototype.computePoints=function(){var e=this.diagram;if(null===e)return!1;var t=this.fromNode,n=null;if(null===t?(e.oi||(e.Zo=new ou,e.Zo.desiredSize=ke,e.Zo.strokeWidth=0,e.oi=new Mc,e.oi.add(e.Zo),e.oi.ac()),this.defaultFromPoint&&(e.oi.position=e.oi.location=this.defaultFromPoint,e.oi.ac(),t=e.oi,n=e.Zo)):n=this.fromPort,null!==n&&!t.isVisible()){var i=t.findVisibleNode();null!==i&&i!==t?(t=i,n=i.port):t=i}if(this.Kw=t,null===t||!t.location.o())return!1;for(;!(null===n||n.actualBounds.o()&&n.rf());)n=n.panel;if(null===n)return!1;var a=this.toNode,r=null;if(null===a?(e.pi||(e.$o=new ou,e.$o.desiredSize=ke,e.$o.strokeWidth=0,e.pi=new Mc,e.pi.add(e.$o),e.pi.ac()),this.defaultToPoint&&(e.pi.position=e.pi.location=this.defaultToPoint,e.pi.ac(),a=e.pi,r=e.$o)):r=this.toPort,null===r||a.isVisible()||(e=a.findVisibleNode(),null!==e&&e!==a?(a=e,r=e.port):a=e),this.Lw=a,null===a||!a.location.o())return!1;for(;!(null===r||r.actualBounds.o()&&r.rf());)r=r.panel;if(null===r)return!1;var o=this.pointsCount;i=this.computeSpot(!0,n),e=this.computeSpot(!1,r);var s=cd(i),l=cd(e),u=n===r&&null!==n,c=this.isOrthogonal,d=this.curve===Dd;this.Gf=!(!u||c)&&(d=!0);var h=this.adjusting===Id||u;if(!c&&!u&&s&&l){if(s=!1,!h&&o>=3&&(h=this.getLinkPoint(t,n,i,!0,!1,a,r),l=this.getLinkPoint(a,r,e,!1,!1,t,n),s=this.adjustPoints(0,h,o-1,l))&&(h=this.getLinkPoint(t,n,i,!0,!1,a,r),l=this.getLinkPoint(a,r,e,!1,!1,t,n),this.adjustPoints(0,h,o-1,l)),!s)if(this.Tj(),d){o=this.getLinkPoint(t,n,i,!0,!1,a,r),h=this.getLinkPoint(a,r,e,!1,!1,t,n),s=h.x-o.x,l=h.y-o.y,u=this.computeCurviness(),d=c=0;var f=o.x+s/3,p=o.y+l/3,m=f,g=p;Kt.w(l,0)?g=s>0?g-u:g+u:(c=-s/l,d=Math.sqrt(u*u/(c*c+1)),u<0&&(d=-d),m=(l<0?-1:1)*d+f,g=c*(m-f)+p),f=o.x+2*s/3,p=o.y+2*l/3;var v=f,y=p;Kt.w(l,0)?y=s>0?y-u:y+u:(v=(l<0?-1:1)*d+f,y=c*(v-f)+p),this.Tj(),this.xe(o),this.jf(m,g),this.jf(v,y),this.xe(h),this.jd(0,this.getLinkPoint(t,n,i,!0,!1,a,r)),this.jd(3,this.getLinkPoint(a,r,e,!1,!1,t,n))}else i=this.getLinkPoint(t,n,i,!0,!1,a,r),e=this.getLinkPoint(a,r,e,!1,!1,t,n),this.hasCurviness()?(h=e.x-i.x,a=e.y-i.y,r=this.computeCurviness(),t=i.x+h/2,n=i.y+a/2,o=t,s=n,Kt.w(a,0)?s=h>0?s-r:s+r:(h=-h/a,o=Math.sqrt(r*r/(h*h+1)),r<0&&(o=-o),o=(a<0?-1:1)*o+t,s=h*(o-t)+n),this.xe(i),this.jf(o,s)):this.xe(i),this.xe(e)}else{d=this.isAvoiding,h&&(c&&d||u)&&this.Tj();var b=u?this.computeCurviness():0;d=this.getLinkPoint(t,n,i,!0,c,a,r),f=m=p=0,(c||!s||u)&&(g=this.computeEndSegmentLength(t,n,i,!0),f=this.getLinkDirection(t,n,d,i,!0,c,a,r),u&&(s||i.A(e)||!c&&i.x+e.x===1&&i.y+e.y===1)&&(f-=c?90:30,b<0&&(f-=180)),f<0?f+=360:f>=360&&(f-=360),u&&(g+=Math.abs(b)*(c?1:2)),0===f?p=g:90===f?m=g:180===f?p=-g:270===f?m=-g:(p=g*Math.cos(f*Math.PI/180),m=g*Math.sin(f*Math.PI/180)),i.jc()&&u&&(g=n.ma(ft,ge.alloc()),v=ge.allocAt(g.x+1e3*p,g.y+1e3*m),this.getLinkPointFromPoint(t,n,g,v,!0,d),ge.free(g),ge.free(v))),g=this.getLinkPoint(a,r,e,!1,c,t,n);var A=y=v=0;if(c||!l||u){var w=this.computeEndSegmentLength(a,r,e,!1);A=this.getLinkDirection(a,r,g,e,!1,c,t,n),u&&(l||i.A(e)||!c&&i.x+e.x===1&&i.y+e.y===1)&&(A+=c?0:30,b<0&&(A+=180)),A<0?A+=360:A>=360&&(A-=360),u&&(w+=Math.abs(b)*(c?1:2)),0===A?v=w:90===A?y=w:180===A?v=-w:270===A?y=-w:(v=w*Math.cos(A*Math.PI/180),y=w*Math.sin(A*Math.PI/180)),e.jc()&&u&&(e=r.ma(ft,ge.alloc()),i=ge.allocAt(e.x+1e3*v,e.y+1e3*y),this.getLinkPointFromPoint(a,r,e,i,!1,g),ge.free(e),ge.free(i))}e=d,(c||!s||u)&&(e=new ge(d.x+p,d.y+m)),i=g,(c||!l||u)&&(i=new ge(g.x+v,g.y+y)),!h&&!c&&s&&o>3&&this.adjustPoints(0,d,o-2,i)?this.jd(o-1,g):!h&&!c&&l&&o>3&&this.adjustPoints(1,e,o-1,g)?this.jd(0,d):!h&&(c?o>=6:o>4)&&this.adjustPoints(1,e,o-2,i)?(this.jd(0,d),this.jd(o-1,g)):(this.Tj(),this.xe(d),(c||!s||u)&&this.xe(e),c&&this.addOrthoPoints(e,f,i,A,t,a),(c||!l||u)&&this.xe(i),this.xe(g))}return!0},id.prototype.getLinkPointFromPoint=function(e,t,n,i,a,r){if(void 0===r&&(r=new ge),null===e||null===t)return r.assign(n),r;if(e.isVisible()||(a=e.findVisibleNode(),null!==a&&a!==e&&(t=a.port)),e=null,a=t.panel,null===a||a.Zd()||(a=a.panel),null===a){a=i.x,i=i.y;var o=n.x;n=n.y}else{e=a.rd,a=1/(e.m11*e.m22-e.m12*e.m21),o=e.m22*a;var s=-e.m12*a,l=-e.m21*a,u=e.m11*a,c=a*(e.m21*e.dy-e.m22*e.dx),d=a*(e.m12*e.dx-e.m11*e.dy);a=i.x*o+i.y*l+c,i=i.x*s+i.y*u+d,o=n.x*o+n.y*l+c,n=n.x*s+n.y*u+d}return t.bk(a,i,o,n,r),null!==e&&r.transform(e),r},id.prototype.getLinkPoint=function(e,t,n,i,a,r,o,s){if(void 0===s&&(s=new ge),n.gb()&&!cd(n))return t.ma(n,s),s;if(n.qf()){var l=ud(this,t);if(null!==l){if(s.assign(l.cq),a&&this.routing===Nd){var u=ud(this,o);if(null!==u&&l.Wl<u.Wl){l=ge.alloc(),u=ge.alloc();var c=new Ue(t.ma(ut,l),t.ma(vt,u)),d=this.computeSpot(!i,o);e=this.getLinkPoint(r,o,d,!i,a,e,t,u),(n.pf(bt)||n.pf(At))&&e.y>=c.y&&e.y<=c.y+c.height?s.y=e.y:(n.pf(yt)||n.pf(wt))&&e.x>=c.x&&e.x<=c.x+c.width&&(s.x=e.x),ge.free(l),ge.free(u)}}return s}}return n=t.ma(.5===n.x&&.5===n.y?n:ft,ge.alloc()),this.pointsCount>(a?6:2)?(o=i?this.i(1):this.i(this.pointsCount-2),a&&(o=ld(n,o.copy()))):(l=this.computeSpot(!i,o),r=ge.alloc(),o=o.ma(.5===l.x&&.5===l.y?l:ft,r),a&&(o=ld(n,o)),ge.free(r)),this.getLinkPointFromPoint(e,t,n,o,i,s),ge.free(n),s},id.prototype.getLinkDirection=function(e,t,n,i,a,r,o,s){e:if(i.gb())var l=i.x>i.y?i.x>1-i.y?0:i.x<1-i.y?270:315:i.x<i.y?i.x>1-i.y?90:i.x<1-i.y?180:135:i.x<.5?225:i.x>.5?45:0;else{if(i.qf()&&(l=ud(this,t),null!==l))switch(l.yc){case 1:l=270;break e;case 2:l=180;break e;default:case 4:l=0;break e;case 8:l=90;break e}l=t.ma(ft,ge.alloc()),this.pointsCount>(r?6:2)?(s=a?this.i(1):this.i(this.pointsCount-2),s=r?ld(l,s.copy()):n):(n=ge.alloc(),s=s.ma(ft,n),ge.free(n)),n=Math.abs(s.x-l.x)>Math.abs(s.y-l.y)?s.x>=l.x?0:180:s.y>=l.y?90:270,ge.free(l),l=n}return i.jc()&&o.Vd(e)&&(l+=180,l>=360&&(l-=360)),cd(i)?l:(e=t.Ji(),0===e||(e>=45&&e<135?l+=90:e>=135&&e<225?l+=180:e>=225&&e<315&&(l+=270),l>=360&&(l-=360)),l)},id.prototype.computeEndSegmentLength=function(e,t,n,i){return null!==t&&n.qf()&&(e=ud(this,t),null!==e)?e.Tu:(e=i?this.fromEndSegmentLength:this.toEndSegmentLength,null!==t&&isNaN(e)&&(e=i?t.fromEndSegmentLength:t.toEndSegmentLength),isNaN(e)&&(e=10),e)},id.prototype.computeSpot=function(e,t){return void 0===t&&(t=null),e?(e=t||this.fromPort,null===e?e=ft:(t=this.fromSpot,t.Kb()&&(t=e.fromSpot),e=t===Mt?lt:t)):(e=t||this.toPort,null===e?e=ft:(t=this.toSpot,t.Kb()&&(t=e.toSpot),e=t===Mt?lt:t)),e},id.prototype.computeOtherPoint=function(e,t){return e=t.ma(ft),t=t.Po,t=null!==t?rh(t,this):null,null!==t&&(e=t.cq),e},id.prototype.computeShortLength=function(e){if(e){if(e=this.fromShortLength,isNaN(e)){var t=this.fromPort;null!==t&&(e=t.fromShortLength)}return isNaN(e)?0:e}return e=this.toShortLength,isNaN(e)&&(t=this.toPort,null!==t&&(e=t.toShortLength)),isNaN(e)?0:e},id.prototype.mg=function(e,t,n,i,a,r){if(!1===this.pickable)return!1;void 0===t&&(t=null),void 0===n&&(n=null);var o=r;if(void 0===r&&(o=st.alloc(),o.reset()),o.multiply(this.transform),this.uh(e,o))return Vl(this,t,n,a),void 0===r&&st.free(o),!0;if(this.Ic(e,o)){var s=!1;if(!this.isAtomic)for(var l=this.Y.j,u=l.length;u--;){var c=l[u];if(c.visible||c===this.locationObject){var d=c.actualBounds,h=this.naturalBounds;if(!(d.x>h.width||d.y>h.height||d.x+d.width<0||d.y+d.height<0)){if(d=st.alloc(),d.set(o),c instanceof Tl)s=c.mg(e,t,n,i,a,d);else if(this.path===c){if(c instanceof ou)if(s=e,h=i,!1===c.pickable)s=!1;else if(d.multiply(c.transform),h)e:{var f=s,p=d;if(c.uh(f,p))s=!0;else{if(void 0===p&&(p=c.transform,f.lf(c.actualBounds))){s=!0;break e}s=f.left,h=f.right;var m=f.top;f=f.bottom;var g=ge.alloc(),v=ge.alloc(),y=ge.alloc(),b=st.alloc();b.set(p),b.nv(c.transform),b.bt(),v.x=h,v.y=m,v.transform(b),g.x=s,g.y=m,g.transform(b),p=!1,du(c,g,v,y)?p=!0:(g.x=h,g.y=f,g.transform(b),du(c,g,v,y)?p=!0:(v.x=s,v.y=f,v.transform(b),du(c,g,v,y)?p=!0:(g.x=s,g.y=m,g.transform(b),du(c,g,v,y)&&(p=!0)))),st.free(b),ge.free(g),ge.free(v),ge.free(y),s=p}}else s=c.uh(s,d)}else s=Zo(c,e,i,d);s&&(h=c,null!==t&&(h=t(c)),h&&(null===n||n(h))&&a.add(h)),st.free(d)}}}return void 0===r&&st.free(o),s||null!==this.background||null!==this.areaBackground}return void 0===r&&st.free(o),!1},id.prototype.computeCurve=function(){if(null===this.Gf){var e=this.fromPort,t=this.isOrthogonal;this.Gf=null!==e&&e===this.toPort&&!t}return this.Gf?Dd:this.curve},id.prototype.computeCorner=function(){if(this.curve===Dd)return 0;var e=this.corner;return(isNaN(e)||e<0)&&(e=10),e},id.prototype.findMidLabel=function(){for(var e=this.path,t=this.Y.j,n=t.length,i=0;i<n;i++){var a=t[i];if(a!==e&&!a.isPanelMain&&(-1/0===a.segmentIndex||isNaN(a.segmentIndex)))return a}for(e=this.labelNodes;e.next();)if(t=e.value,-1/0===t.segmentIndex||isNaN(t.segmentIndex))return t;return null},id.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var e=Math.max(14,this.computeThickness()),t=this.fromPort,n=this.toPort;if(null!==t&&null!==n){var i=this.findMidLabel();if(null!==i){var a=i.naturalBounds,r=i.margin,o=isNaN(a.width)?30:a.width*i.scale+r.left+r.right;a=isNaN(a.height)?14:a.height*i.scale+r.top+r.bottom,i=i.segmentOrientation,i===Rd||i===Vd||i===_d?e=Math.max(e,a):i===Bd||i===Ud||i===jd||i===Fd?e=Math.max(e,o):(t=t.ma(ft).Wa(n.ma(ft))/180*Math.PI,e=Math.max(e,Math.abs(Math.sin(t)*o)+Math.abs(Math.cos(t)*a)+1)),this.curve===Dd&&(e*=1.333)}}return e},id.prototype.arrangeBundledLinks=function(e,t){if(t)for(t=0;t<e.length;t++){var n=e[t];n.adjusting===Id&&n.Ra()}},id.prototype.computeCurviness=function(){var e=this.curviness;if(isNaN(e)){e=16;var t=this.xf;if(null!==t){for(var n=O(),i=0,a=t.links,r=0;r<a.length;r++){var o=a[r].computeSpacing();n.push(o),i+=o}for(i=-i/2,r=0;r<a.length;r++){if(a[r]===this){e=i+n[r]/2;break}i+=n[r]}t.jt===this.fromNode&&(e=-e),M(n)}}return e},id.prototype.computeThickness=function(){if(!this.isVisible())return 0;var e=this.path;return null!==e?Math.max(e.strokeWidth,1):1},id.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.xf},id.prototype.adjustPoints=function(e,t,n,i){var a=this.adjusting;if(this.isOrthogonal){if(a===Md)return!1;a===Ed&&(a=Od)}switch(a){case Md:var r=this.i(e),o=this.i(n);if(!r.Qa(t)||!o.Qa(i)){a=r.x,r=r.y;var s=o.x-a,l=o.y-r,u=Math.sqrt(s*s+l*l);if(!Kt.ca(u,0)){if(Kt.ca(s,0))var c=l<0?-Math.PI/2:Math.PI/2;else c=Math.atan(l/Math.abs(s)),s<0&&(c=Math.PI-c);o=t.x;var d=t.y;s=i.x-o;var h=i.y-d;for(l=Math.sqrt(s*s+h*h),Kt.ca(s,0)?h=h<0?-Math.PI/2:Math.PI/2:(h=Math.atan(h/Math.abs(s)),s<0&&(h=Math.PI-h)),u=l/u,c=h-c,this.jd(e,t),e+=1;e<n;e++)t=this.i(e),s=t.x-a,l=t.y-r,t=Math.sqrt(s*s+l*l),Kt.ca(t,0)||(Kt.ca(s,0)?l=l<0?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(s)),s<0&&(l=Math.PI-l)),s=l+c,t*=u,this.M(e,o+t*Math.cos(s),d+t*Math.sin(s)));this.jd(n,i)}}return!0;case Ed:if(r=this.i(e),d=this.i(n),!r.Qa(t)||!d.Qa(i)){a=r.x,r=r.y,o=d.x,d=d.y,u=(o-a)*(o-a)+(d-r)*(d-r),s=t.x,c=t.y,l=i.x,h=i.y;var f=1;if(l-s!==0){var p=(h-c)/(l-s);f=Math.sqrt(1+1/(p*p))}else p=9e9;for(this.jd(e,t),e+=1;e<n;e++){t=this.i(e);var m=t.x,g=t.y,v=.5;0!==u&&(v=((a-m)*(a-o)+(r-g)*(r-d))/u);var y=a+v*(o-a),b=r+v*(d-r);t=Math.sqrt((m-y)*(m-y)+(g-b)*(g-b)),g<p*(m-y)+b&&(t=-t),p>0&&(t=-t),m=s+v*(l-s),v=c+v*(h-c),0!==p?(t=m+t/f,this.M(e,t,v-(t-m)/p)):this.M(e,m,v+t)}this.jd(n,i)}return!0;case Od:return this.isOrthogonal&&(a=this.i(e),r=this.i(e+1),o=this.i(e+2),s=r.x,c=r.y,d=s,u=c,Kt.w(a.y,r.y)?Kt.w(r.x,o.x)?c=t.y:Kt.w(r.y,o.y)&&(s=t.x):Kt.w(a.x,r.x)&&(Kt.w(r.y,o.y)?s=t.x:Kt.w(r.x,o.x)&&(c=t.y)),this.M(e+1,s,c),a=this.i(n),r=this.i(n-1),o=this.i(n-2),s=r.x,c=r.y,l=s,h=c,Kt.w(a.y,r.y)?Kt.w(r.x,o.x)?c=i.y:Kt.w(r.y,o.y)&&(s=i.x):Kt.w(a.x,r.x)&&(Kt.w(r.y,o.y)?s=i.x:Kt.w(r.x,o.x)&&(c=i.y)),this.M(n-1,s,c),dd(this))?(this.M(e+1,d,u),this.M(n-1,l,h),n=!1):(this.jd(e,t),this.jd(n,i),n=!0),n;default:return!1}},id.prototype.addOrthoPoints=function(e,t,n,i,a,r){t=t>=-45&&t<45?0:t>=45&&t<135?90:t>=135&&t<225?180:270,i=i>=-45&&i<45?0:i>=45&&i<135?90:i>=135&&i<225?180:270;var o=a.actualBounds.copy(),s=r.actualBounds.copy();if(o.o()&&s.o()){if(o.Uc(8,8),s.Uc(8,8),o.Ie(e),s.Ie(n),0===t)if(n.x>e.x||270===i&&n.y<e.y&&s.right>e.x||90===i&&n.y>e.y&&s.right>e.x){var l=new ge(n.x,e.y),u=new ge(n.x,(e.y+n.y)/2);180===i?(l.x=this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!1),u.x=l.x,u.y=n.y):270===i&&n.y<e.y||90===i&&n.y>e.y?(l.x=e.x<s.left?this.computeMidOrthoPosition(e.x,e.y,s.left,n.y,!1):e.x<s.right&&(270===i&&e.y<s.top||90===i&&e.y>s.bottom)?this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!1):s.right,u.x=l.x,u.y=n.y):0===i&&e.x<s.left&&e.y>s.top&&e.y<s.bottom&&(l.x=e.x,l.y=e.y<n.y?Math.min(n.y,s.top):Math.max(n.y,s.bottom),u.y=l.y)}else l=new ge(e.x,n.y),u=new ge((e.x+n.x)/2,n.y),(180===i||90===i&&n.y<o.top||270===i&&n.y>o.bottom)&&(180===i&&(s.ea(e)||o.ea(n))?l.y=this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!0):n.y<e.y&&(180===i||90===i)?l.y=this.computeMidOrthoPosition(e.x,o.top,n.x,Math.max(n.y,s.bottom),!0):n.y>e.y&&(180===i||270===i)&&(l.y=this.computeMidOrthoPosition(e.x,o.bottom,n.x,Math.min(n.y,s.top),!0)),u.x=n.x,u.y=l.y),l.y>o.top&&l.y<o.bottom&&(n.x>=o.left&&n.x<=e.x||e.x<=s.right&&e.x>=n.x?90!==i&&270!==i||(l=new ge(Math.max((e.x+n.x)/2,e.x),e.y),u=new ge(l.x,n.y)):(l.y=270===i||(0===i||180===i)&&n.y<e.y?Math.min(n.y,0===i?o.top:Math.min(o.top,s.top)):Math.max(n.y,0===i?o.bottom:Math.max(o.bottom,s.bottom)),u.x=n.x,u.y=l.y));else 180===t?n.x<e.x||270===i&&n.y<e.y&&s.left<e.x||90===i&&n.y>e.y&&s.left<e.x?(l=new ge(n.x,e.y),u=new ge(n.x,(e.y+n.y)/2),0===i?(l.x=this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!1),u.x=l.x,u.y=n.y):270===i&&n.y<e.y||90===i&&n.y>e.y?(l.x=e.x>s.right?this.computeMidOrthoPosition(e.x,e.y,s.right,n.y,!1):e.x>s.left&&(270===i&&e.y<s.top||90===i&&e.y>s.bottom)?this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!1):s.left,u.x=l.x,u.y=n.y):180===i&&e.x>s.right&&e.y>s.top&&e.y<s.bottom&&(l.x=e.x,l.y=e.y<n.y?Math.min(n.y,s.top):Math.max(n.y,s.bottom),u.y=l.y)):(l=new ge(e.x,n.y),u=new ge((e.x+n.x)/2,n.y),(0===i||90===i&&n.y<o.top||270===i&&n.y>o.bottom)&&(0===i&&(s.ea(e)||o.ea(n))?l.y=this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!0):n.y<e.y&&(0===i||90===i)?l.y=this.computeMidOrthoPosition(e.x,o.top,n.x,Math.max(n.y,s.bottom),!0):n.y>e.y&&(0===i||270===i)&&(l.y=this.computeMidOrthoPosition(e.x,o.bottom,n.x,Math.min(n.y,s.top),!0)),u.x=n.x,u.y=l.y),l.y>o.top&&l.y<o.bottom&&(n.x<=o.right&&n.x>=e.x||e.x>=s.left&&e.x<=n.x?90!==i&&270!==i||(l=new ge(Math.min((e.x+n.x)/2,e.x),e.y),u=new ge(l.x,n.y)):(l.y=270===i||(0===i||180===i)&&n.y<e.y?Math.min(n.y,180===i?o.top:Math.min(o.top,s.top)):Math.max(n.y,180===i?o.bottom:Math.max(o.bottom,s.bottom)),u.x=n.x,u.y=l.y))):90===t?n.y>e.y||180===i&&n.x<e.x&&s.bottom>e.y||0===i&&n.x>e.x&&s.bottom>e.y?(l=new ge(e.x,n.y),u=new ge((e.x+n.x)/2,n.y),270===i?(l.y=this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!0),u.x=n.x,u.y=l.y):180===i&&n.x<e.x||0===i&&n.x>e.x?(l.y=e.y<s.top?this.computeMidOrthoPosition(e.x,e.y,n.x,s.top,!0):e.y<s.bottom&&(180===i&&e.x<s.left||0===i&&e.x>s.right)?this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!0):s.bottom,u.x=n.x,u.y=l.y):90===i&&e.y<s.top&&e.x>s.left&&e.x<s.right&&(l.x=e.x<n.x?Math.min(n.x,s.left):Math.max(n.x,s.right),l.y=e.y,u.x=l.x)):(l=new ge(n.x,e.y),u=new ge(n.x,(e.y+n.y)/2),(270===i||0===i&&n.x<o.left||180===i&&n.x>o.right)&&(270===i&&(s.ea(e)||o.ea(n))?l.x=this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!1):n.x<e.x&&(270===i||0===i)?l.x=this.computeMidOrthoPosition(o.left,e.y,Math.max(n.x,s.right),n.y,!1):n.x>e.x&&(270===i||180===i)&&(l.x=this.computeMidOrthoPosition(o.right,e.y,Math.min(n.x,s.left),n.y,!1)),u.x=l.x,u.y=n.y),l.x>o.left&&l.x<o.right&&(n.y>=o.top&&n.y<=e.y||e.y<=s.bottom&&e.y>=n.y?0!==i&&180!==i||(l=new ge(e.x,Math.max((e.y+n.y)/2,e.y)),u=new ge(n.x,l.y)):(l.x=180===i||(90===i||270===i)&&n.x<e.x?Math.min(n.x,90===i?o.left:Math.min(o.left,s.left)):Math.max(n.x,90===i?o.right:Math.max(o.right,s.right)),u.x=l.x,u.y=n.y))):n.y<e.y||180===i&&n.x<e.x&&s.top<e.y||0===i&&n.x>e.x&&s.top<e.y?(l=new ge(e.x,n.y),u=new ge((e.x+n.x)/2,n.y),90===i?(l.y=this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!0),u.x=n.x,u.y=l.y):180===i&&n.x<e.x||0===i&&n.x>=e.x?(l.y=e.y>s.bottom?this.computeMidOrthoPosition(e.x,e.y,n.x,s.bottom,!0):e.y>s.top&&(180===i&&e.x<s.left||0===i&&e.x>s.right)?this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!0):s.top,u.x=n.x,u.y=l.y):270===i&&e.y>s.bottom&&e.x>s.left&&e.x<s.right&&(l.x=e.x<n.x?Math.min(n.x,s.left):Math.max(n.x,s.right),l.y=e.y,u.x=l.x)):(l=new ge(n.x,e.y),u=new ge(n.x,(e.y+n.y)/2),(90===i||0===i&&n.x<o.left||180===i&&n.x>o.right)&&(90===i&&(s.ea(e)||o.ea(n))?l.x=this.computeMidOrthoPosition(e.x,e.y,n.x,n.y,!1):n.x<e.x&&(90===i||0===i)?l.x=this.computeMidOrthoPosition(o.left,e.y,Math.max(n.x,s.right),n.y,!1):n.x>e.x&&(90===i||180===i)&&(l.x=this.computeMidOrthoPosition(o.right,e.y,Math.min(n.x,s.left),n.y,!1)),u.x=l.x,u.y=n.y),l.x>o.left&&l.x<o.right&&(n.y<=o.bottom&&n.y>=e.y||e.y>=s.top&&e.y<=n.y?0!==i&&180!==i||(l=new ge(e.x,Math.min((e.y+n.y)/2,e.y)),u=new ge(n.x,l.y)):(l.x=180===i||(90===i||270===i)&&n.x<e.x?Math.min(n.x,270===i?o.left:Math.min(o.left,s.left)):Math.max(n.x,270===i?o.right:Math.max(o.right,s.right)),u.x=l.x,u.y=n.y)));var c=l,d=u,h=n;if(this.isAvoiding){var f=this.diagram;if(null===f||!Qr(f)||o.ea(h)&&!r.Vd(a)||s.ea(e)&&!a.Vd(r)||a===r||this.layer.isTemporary)t=!1;else{var p=$r(f,!0,this.containingGroup,null);if(p.ek(Math.min(e.x,c.x),Math.min(e.y,c.y),Math.abs(e.x-c.x),Math.abs(e.y-c.y))&&p.ek(Math.min(c.x,d.x),Math.min(c.y,d.y),Math.abs(c.x-d.x),Math.abs(c.y-d.y))&&p.ek(Math.min(d.x,h.x),Math.min(d.y,h.y),Math.abs(d.x-h.x),Math.abs(d.y-h.y)))t=!1;else{a=e,r=h;var m=n=null;if(f.isVirtualized){f=p.bounds.copy(),f.Uc(-p.Ul,-p.Tl);var g=ge.alloc();$d(p,e.x,e.y)||(Kt.Tc(f.x,f.y,f.x+f.width,f.y+f.height,e.x,e.y,c.x,c.y,g)?(n=e=g.copy(),t=g.Wa(c)):Kt.Tc(f.x,f.y,f.x+f.width,f.y+f.height,c.x,c.y,d.x,d.y,g)?(n=e=g.copy(),t=g.Wa(d)):Kt.Tc(f.x,f.y,f.x+f.width,f.y+f.height,d.x,d.y,h.x,h.y,g)&&(n=e=g.copy(),t=g.Wa(h))),$d(p,h.x,h.y)||(Kt.Tc(f.x,f.y,f.x+f.width,f.y+f.height,h.x,h.y,d.x,d.y,g)?(m=h=g.copy(),i=d.Wa(g)):Kt.Tc(f.x,f.y,f.x+f.width,f.y+f.height,d.x,d.y,c.x,c.y,g)?(m=h=g.copy(),i=c.Wa(g)):Kt.Tc(f.x,f.y,f.x+f.width,f.y+f.height,c.x,c.y,e.x,e.y,g)&&(m=h=g.copy(),i=e.Wa(g))),ge.free(g)}o=o.copy().Jc(s),s=p.Tz,o.Uc(p.Ul*s,p.Tl*s),Xd(p,e,t,h,i,o),s=Hd(p,h.x,h.y),!p.abort&&s>=th&&(Yd(p),s=p.xz,o.Uc(p.Ul*s,p.Tl*s),Xd(p,e,t,h,i,o),s=Hd(p,h.x,h.y)),!p.abort&&s>=th&&p.Zz&&(Yd(p),Xd(p,e,t,h,i,p.bounds),s=Hd(p,h.x,h.y)),!p.abort&&s<th&&Hd(p,h.x,h.y)!==Zd?(hd(this,p,h.x,h.y,i,!0),o=this.i(2),this.pointsCount<4?(0===t||180===t?(o.x=e.x,o.y=h.y):(o.x=h.x,o.y=e.y),this.M(2,o.x,o.y),this.m(3,o.x,o.y)):(h=this.i(3),0===t||180===t?Kt.w(o.x,h.x)?(o=0===t?Math.max(o.x,e.x):Math.min(o.x,e.x),this.M(2,o,e.y),this.M(3,o,h.y)):Kt.w(o.y,h.y)?(Math.abs(e.y-o.y)<=p.Tl/2&&(this.M(2,o.x,e.y),this.M(3,h.x,e.y)),this.m(2,o.x,e.y)):this.M(2,e.x,o.y):90!==t&&270!==t||(Kt.w(o.y,h.y)?(o=90===t?Math.max(o.y,e.y):Math.min(o.y,e.y),this.M(2,e.x,o),this.M(3,h.x,o)):Kt.w(o.x,h.x)?(Math.abs(e.x-o.x)<=p.Ul/2&&(this.M(2,e.x,o.y),this.M(3,e.x,h.y)),this.m(2,e.x,o.y)):this.M(2,o.x,e.y))),null!==n&&(e=this.i(1),h=this.i(2),e.x!==h.x&&e.y!==h.y?0===t||180===t?this.m(2,e.x,h.y):this.m(2,h.x,e.y):0===t||180===t?this.m(2,a.x,n.y):this.m(2,n.x,a.y)),null!==m&&(0===i||180===i?this.jf(r.x,m.y):this.jf(m.x,r.y)),t=!0):t=!1}}}else t=!1;t||(this.xe(l),this.xe(u))}},id.prototype.computeMidOrthoPosition=function(e,t,n,i,a){var r=0;return this.hasCurviness()&&(r=this.computeCurviness()),a?(t+i)/2+r:(e+n)/2+r},id.prototype.Iy=function(e){var t=e.x;e=e.y;for(var n=this.i(0),i=this.i(1),a=we(t,e,n.x,n.y,i.x,i.y),r=0,o=1;o<this.pointsCount-1;o++){n=this.i(o+1);var s=we(t,e,i.x,i.y,n.x,n.y);i=n,s<a&&(r=o,a=s)}return r},id.prototype.bc=function(){this.Qn=!0},id.prototype.gk=function(e){if(!e){if(!1===this.Lc)return;if(e=this.zb(),!this.Qn&&(null===e||null!==e.geometry))return}if(this.qa=this.makeGeometry(),e=this.path,null!==e){e.qa=this.qa;for(var t=this.Y.j,n=t.length,i=0;i<n;i++){var a=t[i];a!==e&&a.isPanelMain&&a instanceof ou&&(a.qa=this.qa)}}},id.prototype.makeGeometry=function(){var e=this.qa,t=this.pointsCount;if(t<2)return e.type=ln,this.Qn=!1,e;var n=!1,i=this.diagram;null!==i&&bd(this)&&i.Wh.contains(this)&&(0!==this.xl.width||0!==this.xl.height)&&(n=!0);var a=this.i(0).copy(),r=a.copy();i=this.xb.j;var o=this.computeCurve();if(o===Dd&&t>=3&&!Kt.ca(this.smoothness,0))if(3===t){var s=this.i(1);i=Math.min(a.x,s.x);var l=Math.min(a.y,s.y);s=this.i(2),i=Math.min(i,s.x),l=Math.min(l,s.y)}else{if(this.isOrthogonal)for(l=0;l<t;l++)s=i[l],r.x=Math.min(s.x,r.x),r.y=Math.min(s.y,r.y);else for(i=3;i<t;i+=3)i+3>=t&&(i=t-1),l=this.i(i),r.x=Math.min(l.x,r.x),r.y=Math.min(l.y,r.y);i=r.x,l=r.y}else{for(l=0;l<t;l++)s=i[l],r.x=Math.min(s.x,r.x),r.y=Math.min(s.y,r.y);i=r.x,l=r.y}if(i-=this.zu.x,l-=this.zu.y,a.x-=i,a.y-=l,2!==t||bd(this)){if(e.type=dn,s=rc(e),0!==this.computeShortLength(!0)&&(a=pd(this,a,!0,r)),ec(s,a.x,a.y,!1),o===Dd&&t>=3&&!Kt.ca(this.smoothness,0))if(3===t)n=this.i(1),t=n.x-i,n=n.y-l,a=this.i(2).copy(),a.x-=i,a.y-=l,0!==this.computeShortLength(!1)&&(a=pd(this,a,!1,r)),nc(s,t,n,t,n,a.x,a.y);else if(this.isOrthogonal){r=new ge(i,l),a=this.i(1).copy(),o=new ge(i,l),t=new ge(i,l),n=this.i(0);for(var u,c=this.smoothness/3,d=1;d<this.pointsCount-1;d++){u=this.i(d);var h=n,f=u,p=this.i(md(this,u,d,!1));if((!Kt.ca(h.x,f.x)||!Kt.ca(f.x,p.x))&&(!Kt.ca(h.y,f.y)||!Kt.ca(f.y,p.y))){var m=c;isNaN(m)&&(m=this.smoothness/3);var g=h.x;h=h.y;var v=f.x;f=f.y;var y=p.x;p=p.y;var b=m*fd(g,h,v,f);m*=fd(v,f,y,p),Kt.ca(h,f)&&Kt.ca(v,y)&&(v>g?p>f?(o.x=v-b,o.y=f-b,t.x=v+m,t.y=f+m):(o.x=v-b,o.y=f+b,t.x=v+m,t.y=f-m):p>f?(o.x=v+b,o.y=f-b,t.x=v-m,t.y=f+m):(o.x=v+b,o.y=f+b,t.x=v-m,t.y=f-m)),Kt.ca(g,v)&&Kt.ca(f,p)&&(f>h?(y>v?(o.x=v-b,o.y=f-b,t.x=v+m):(o.x=v+b,o.y=f-b,t.x=v-m),t.y=f+m):(y>v?(o.x=v-b,o.y=f+b,t.x=v+m):(o.x=v+b,o.y=f+b,t.x=v-m),t.y=f-m)),(Kt.ca(g,v)&&Kt.ca(v,y)||Kt.ca(h,f)&&Kt.ca(f,p))&&(g=.5*(g+y),h=.5*(h+p),o.x=g,o.y=h,t.x=g,t.y=h),(1===d||2===d&&Kt.ca(n.x,this.i(0).x)&&Kt.ca(n.y,this.i(0).y))&&(a.x=.5*(n.x+u.x),a.y=.5*(n.y+u.y)),nc(s,a.x-i,a.y-l,o.x-i,o.y-l,u.x-i,u.y-l),r.set(o),a.set(t),n=u}}r=n.x,n=n.y,a=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(a=pd(this,a.copy(),!1,Le)),r=.5*(r+a.x),n=.5*(n+a.y),nc(s,t.x-i,t.y-l,r-i,n-l,a.x-i,a.y-l)}else for(n=3;n<t;n+=3)r=this.i(n-2),n+3>=t&&(n=t-1),a=this.i(n-1),o=this.i(n),n===t-1&&0!==this.computeShortLength(!1)&&(o=pd(this,o.copy(),!1,Le)),nc(s,r.x-i,r.y-l,a.x-i,a.y-l,o.x-i,o.y-l);else{for(r=ge.alloc(),r.assign(this.i(0)),o=1,a=0;o<t;){if(o=md(this,r,o,o>1),c=this.i(o),o>=t-1){if(r.A(c)){if(0===a)for(o=1;o<t;)c=this.i(o++),gd(this,s,-i,-l,r,c,n),r.assign(c)}else 0!==this.computeShortLength(!1)&&(c=pd(this,c.copy(),!1,Le)),gd(this,s,-i,-l,r,c,n);break}a=md(this,c,o+1,o<t-3),o=-i,u=-l,d=this.i(a),g=n,Kt.w(r.y,c.y)&&Kt.w(c.x,d.x)?(h=this.computeCorner(),h=Math.min(h,Math.abs(c.x-r.x)/2),h=m=Math.min(h,Math.abs(d.y-c.y)/2),Kt.w(h,0)?(gd(this,s,o,u,r,c,g),r.assign(c)):(v=c.x,f=c.y,y=v,p=f,v=c.x>r.x?c.x-h:c.x+h,p=d.y>c.y?c.y+m:c.y-m,gd(this,s,o,u,r,new ge(v,f),g),ic(s,c.x+o,c.y+u,y+o,p+u),r.h(y,p))):Kt.w(r.x,c.x)&&Kt.w(c.y,d.y)?(h=this.computeCorner(),h=Math.min(h,Math.abs(c.y-r.y)/2),h=m=Math.min(h,Math.abs(d.x-c.x)/2),Kt.w(m,0)?(gd(this,s,o,u,r,c,g),r.assign(c)):(v=c.x,f=c.y,y=v,p=f,f=c.y>r.y?c.y-h:c.y+h,y=d.x>c.x?c.x+m:c.x-m,gd(this,s,o,u,r,new ge(v,f),g),ic(s,c.x+o,c.y+u,y+o,p+u),r.h(y,p))):(gd(this,s,o,u,r,c,g),r.assign(c)),o=a}ge.free(r)}oc=s}else s=this.i(1).copy(),s.x-=i,s.y-=l,0!==this.computeShortLength(!0)&&(a=pd(this,a,!0,r)),0!==this.computeShortLength(!1)&&(s=pd(this,s,!1,r)),e.type=ln,e.startX=a.x,e.startY=a.y,e.endX=s.x,e.endY=s.y;return this.Qn=!1,e},id.prototype.$p=function(e){var t=this.layer;if(null!==t&&t.visible&&!t.isTemporary){var n=t.diagram;if(null!==n&&!n.animationManager.isAnimating){var i=!1;for(n=n.layers;n.next();){var a=n.value;if(a.visible)if(a===t){i=!0;var r=!1;a=a.Fa.j;for(var o=a.length,s=0;s<o;s++){var l=a[s];l instanceof id&&(l===this?r=!0:r&&wd(this,l,e))}}else if(i)for(r=a.Fa.j,a=r.length,o=0;o<a;o++)s=r[o],s instanceof id&&wd(this,s,e)}}}},id.prototype.usesSamePort=function(e){var t=this.pointsCount,n=e.pointsCount;if(t>0&&n>0){var i=this.i(0),a=e.i(0);if(i.Qa(a))return!0;if(t=this.i(t-1),e=e.i(n-1),t.Qa(e)||i.Qa(e)||t.Qa(a))return!0}else if(this.fromNode===e.fromNode||this.toNode===e.toNode||this.fromNode===e.toNode||this.toNode===e.fromNode)return!0;return!1},id.prototype.isVisible=function(){if(!lc.prototype.isVisible.call(this))return!1;var e=this.containingGroup,t=!0,n=this.diagram;if(null!==n&&(t=n.isTreePathToChildren),n=this.fromNode,null!==n){if(this.isTreeLink&&t&&!n.isTreeExpanded)return!1;if(n===e)return!0;for(var i=n;null!==i;){if(i.labeledLink===this)return!0;i=i.containingGroup}if(n=n.findVisibleNode(),null===n||n===e)return!1}if(n=this.toNode,null!==n){if(this.isTreeLink&&!t&&!n.isTreeExpanded)return!1;if(n===e)return!0;for(t=n;null!==t;){if(t.labeledLink===this)return!0;t=t.containingGroup}if(t=n.findVisibleNode(),null===t||t===e)return!1}return!0},id.prototype.Mb=function(e){if(lc.prototype.Mb.call(this,e),null!==this.xf&&this.xf.cm(),null!==this.$c)for(var t=this.$c.iterator;t.next();)t.value.Mb(e)},id.prototype.zh=function(){return!0},p.Object.defineProperties(id.prototype,{fromNode:{get:function(){return this.Oe},set:function(e){var t=this.Oe;if(t!==e){var n=this.fromPort;null!==t&&(this.ef!==t&&Vc(t,this,n),Cd(this),this.B(2)),this.Oe=e,null!==e&&this.Mb(e.isVisible()),this.Gf=null,this.Ra();var i=this.diagram;null!==i&&i.partManager.setFromNodeForLink(this,e,t);var a=this.fromPort,r=this.fromPortChanged;if(null!==r){var o=!0;null!==i&&(o=i.da,i.da=!0),r(this,n,a),null!==i&&(i.da=o)}null!==e&&(this.ef!==e&&_c(e,this,a),xd(this),this.B(1)),this.g("fromNode",t,e),ad(this)}}},fromPortId:{get:function(){return this.Pe},set:function(e){var t=this.Pe;if(t!==e){var n=this.fromPort;null!==n&&Bc(this.fromNode,n),Cd(this),this.Pe=e;var i=this.fromPort;null!==i&&Bc(this.fromNode,i);var a=this.diagram;if(null!==a){var r=this.data,o=a.model;null!==r&&o.em()&&o.Hx(r,e)}n!==i&&(this.Gf=null,this.Ra(),r=this.fromPortChanged,null!==r&&(o=!0,null!==a&&(o=a.da,a.da=!0),r(this,n,i),null!==a&&(a.da=o))),xd(this),this.g("fromPortId",t,e)}}},fromPort:{get:function(){var e=this.Oe;return null===e?null:e.Ts(this.Pe)}},fromPortChanged:{get:function(){return this.Fn},set:function(e){var t=this.Fn;t!==e&&(this.Fn=e,this.g("fromPortChanged",t,e))}},toNode:{get:function(){return this.ef},set:function(e){var t=this.ef;if(t!==e){var n=this.toPort;null!==t&&(this.Oe!==t&&Vc(t,this,n),Cd(this),this.B(2)),this.ef=e,null!==e&&this.Mb(e.isVisible()),this.Gf=null,this.Ra();var i=this.diagram;null!==i&&i.partManager.setToNodeForLink(this,e,t);var a=this.toPort,r=this.toPortChanged;if(null!==r){var o=!0;null!==i&&(o=i.da,i.da=!0),r(this,n,a),null!==i&&(i.da=o)}null!==e&&(this.Oe!==e&&_c(e,this,a),xd(this),this.B(1)),this.g("toNode",t,e),ad(this)}}},toPortId:{get:function(){return this.ff},set:function(e){var t=this.ff;if(t!==e){var n=this.toPort;null!==n&&Bc(this.toNode,n),Cd(this),this.ff=e;var i=this.toPort;null!==i&&Bc(this.toNode,i);var a=this.diagram;if(null!==a){var r=this.data,o=a.model;null!==r&&o.em()&&o.Lx(r,e)}n!==i&&(this.Gf=null,this.Ra(),r=this.toPortChanged,null!==r&&(o=!0,null!==a&&(o=a.da,a.da=!0),r(this,n,i),null!==a&&(a.da=o))),xd(this),this.g("toPortId",t,e)}}},toPort:{get:function(){var e=this.ef;return null===e?null:e.Ts(this.ff)}},toPortChanged:{get:function(){return this.Bp},set:function(e){var t=this.Bp;t!==e&&(this.Bp=e,this.g("toPortChanged",t,e))}},fromSpot:{get:function(){return null!==this.P?this.P.Lg:Mt},set:function(e){this.Hc();var t=this.P.Lg;t.A(e)||(e=e.I(),this.P.Lg=e,this.g("fromSpot",t,e),this.Ra())}},fromEndSegmentLength:{get:function(){return null!==this.P?this.P.Jg:NaN},set:function(e){this.Hc();var t=this.P.Jg;t!==e&&(e<0&&k(e,">= 0",id,"fromEndSegmentLength"),this.P.Jg=e,this.g("fromEndSegmentLength",t,e),this.Ra())}},fromShortLength:{get:function(){return null!==this.P?this.P.Kg:NaN},set:function(e){this.Hc();var t=this.P.Kg;t!==e&&(this.P.Kg=e,this.g("fromShortLength",t,e),this.Ra(),this.bc())}},toSpot:{get:function(){return null!==this.P?this.P.nh:Mt},set:function(e){this.Hc();var t=this.P.nh;t.A(e)||(e=e.I(),this.P.nh=e,this.g("toSpot",t,e),this.Ra())}},toEndSegmentLength:{get:function(){return null!==this.P?this.P.lh:NaN},set:function(e){this.Hc();var t=this.P.lh;t!==e&&(e<0&&k(e,">= 0",id,"toEndSegmentLength"),this.P.lh=e,this.g("toEndSegmentLength",t,e),this.Ra())}},toShortLength:{get:function(){return null!==this.P?this.P.mh:NaN},set:function(e){this.Hc();var t=this.P.mh;t!==e&&(this.P.mh=e,this.g("toShortLength",t,e),this.Ra(),this.bc())}},isLabeledLink:{get:function(){return null!==this.$c&&this.$c.count>0}},labelNodes:{get:function(){return null===this.$c?Z:this.$c.iterator}},relinkableFrom:{get:function(){return 0!==(1&this.Ta)},set:function(e){var t=0!==(1&this.Ta);t!==e&&(this.Ta^=1,this.g("relinkableFrom",t,e),this.Jb())}},relinkableTo:{get:function(){return 0!==(2&this.Ta)},set:function(e){var t=0!==(2&this.Ta);t!==e&&(this.Ta^=2,this.g("relinkableTo",t,e),this.Jb())}},resegmentable:{get:function(){return 0!==(4&this.Ta)},set:function(e){var t=0!==(4&this.Ta);t!==e&&(this.Ta^=4,this.g("resegmentable",t,e),this.Jb())}},isTreeLink:{get:function(){return 0!==(8&this.Ta)},set:function(e){var t=0!==(8&this.Ta);t!==e&&(this.Ta^=8,this.g("isTreeLink",t,e),null!==this.fromNode&&Fc(this.fromNode),null!==this.toNode&&Fc(this.toNode))}},path:{get:function(){var e=this.zb();return e instanceof ou?e:null}},routeBounds:{get:function(){this.Yi();var e=this.xl,t=1/0,n=1/0,i=this.pointsCount;if(0===i)e.h(NaN,NaN,0,0);else{if(1===i)i=this.i(0),t=Math.min(i.x,t),n=Math.min(i.y,n),e.h(i.x,i.y,0,0);else if(2===i){i=this.i(0);var a=this.i(1);t=Math.min(i.x,a.x),n=Math.min(i.y,a.y),e.h(i.x,i.y,0,0),e.Ie(a)}else if(this.computeCurve()===Dd&&i>=3&&!this.isOrthogonal)if(a=this.i(0),t=a.x,n=a.y,e.h(t,n,0,0),3===i){i=this.i(1),t=Math.min(i.x,t),n=Math.min(i.y,n);var r=this.i(2);t=Math.min(r.x,t),n=Math.min(r.y,n),Kt.Sl(a.x,a.y,i.x,i.y,i.x,i.y,r.x,r.y,.5,e)}else for(r=3;r<i;r+=3){var o=this.i(r-2);r+3>=i&&(r=i-1);var s=this.i(r-1),l=this.i(r);Kt.Sl(a.x,a.y,o.x,o.y,s.x,s.y,l.x,l.y,.5,e),t=Math.min(l.x,t),n=Math.min(l.y,n),a=l}else for(a=this.i(0),r=this.i(1),t=Math.min(a.x,r.x),n=Math.min(a.y,r.y),e.h(a.x,a.y,0,0),e.Ie(r),a=2;a<i;a++)r=this.i(a),t=Math.min(r.x,t),n=Math.min(r.y,n),e.Ie(r);this.zu.h(t-e.x,n-e.y)}return e}},midPoint:{get:function(){return this.Yi(),this.computeMidPoint(new ge)}},midAngle:{get:function(){return this.Yi(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.kr){this.Lc||sd(this);for(var e=this.kr=[],t=this.pointsCount,n=0;n<t-1;n++){var i=this.i(n),a=this.i(n+1);Kt.ca(i.x,a.x)?(i=a.y-i.y,i<0&&(i=-i)):Kt.ca(i.y,a.y)?(i=a.x-i.x,i<0&&(i=-i)):i=Math.sqrt(i.Be(a)),e.push(i)}}return this.kr}},flattenedTotalLength:{get:function(){var e=this.au;if(isNaN(e)){for(var t=this.flattenedLengths,n=t.length,i=e=0;i<n;i++)e+=t[i];this.au=e}return e}},points:{get:function(){return this.xb},set:function(e){var t=this.xb;if(t!==e){var n=null;if(Array.isArray(e)){var i=e.length%2===0;if(i)for(var a=0;a<e.length;a++)if("number"!==typeof e[a]||isNaN(e[a])){i=!1;break}if(i)for(n=new ie,i=0;i<e.length/2;i++)a=new ge(e[2*i],e[2*i+1]).freeze(),n.add(a);else{for(i=!0,a=0;a<e.length;a++){var r=e[a];if(!N(r)||"number"!==typeof r.x||isNaN(r.x)||"number"!==typeof r.y||isNaN(r.y)){i=!1;break}}if(i)for(n=new ie,i=0;i<e.length;i++)a=e[i],n.add(new ge(a.x,a.y).freeze())}}else if(e instanceof ie)for(n=e.copy(),e=n.iterator;e.next();)e.value.freeze();else x("Link.points value is not an instance of List or Array: "+e);n.freeze(),this.xb=n,this.bc(),this.s(),sd(this),e=this.diagram,null!==e&&(e.Oi||e.undoManager.isUndoingRedoing||e.gt.add(this),e.animationManager.rb&&(this.bh=n)),this.g("points",t,n)}}},pointsCount:{get:function(){return this.xb.count}},Lc:{get:function(){return 0!==(16&this.Ta)},set:function(e){0!==(16&this.Ta)!==e&&(this.Ta^=16)}},suspendsRouting:{get:function(){return 0!==(32&this.Ta)},set:function(e){0!==(32&this.Ta)!==e&&(this.Ta^=32)}},Ou:{get:function(){return 0!==(64&this.Ta)},set:function(e){0!==(64&this.Ta)!==e&&(this.Ta^=64)}},defaultFromPoint:{get:function(){return this.u},set:function(e){this.u=e.copy()}},defaultToPoint:{get:function(){return this.K},set:function(e){this.K=e.copy()}},isOrthogonal:{get:function(){return 2===(2&this.Ej.value)}},isAvoiding:{get:function(){return 4===(4&this.Ej.value)}},geometry:{get:function(){return this.Qn&&(this.Yi(),this.qa=this.makeGeometry()),this.qa}},firstPickIndex:{get:function(){return this.pointsCount<=2?0:this.isOrthogonal||!cd(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var e=this.pointsCount;return 0===e?0:e<=2?e-1:this.isOrthogonal||!cd(this.computeSpot(!1))?e-2:e-1}},adjusting:{get:function(){return this.Lm},set:function(e){var t=this.Lm;t!==e&&(this.Lm=e,this.g("adjusting",t,e))}},corner:{get:function(){return this.gn},set:function(e){var t=this.gn;t!==e&&(this.gn=e,this.bc(),this.g("corner",t,e))}},curve:{get:function(){return this.kn},set:function(e){var t=this.kn;t!==e&&(this.kn=e,this.Ra(),this.bc(),Ad(this,t===Pd||t===Ld||e===Pd||e===Ld),this.g("curve",t,e))}},curviness:{get:function(){return this.ln},set:function(e){var t=this.ln;t!==e&&(this.ln=e,this.Ra(),this.bc(),this.g("curviness",t,e))}},routing:{get:function(){return this.Ej},set:function(e){var t=this.Ej;t!==e&&(this.Ej=e,this.Gf=null,this.Ra(),Ad(this,2===(2&t.value)||2===(2&e.value)),this.g("routing",t,e))}},smoothness:{get:function(){return this.pp},set:function(e){var t=this.pp;t!==e&&(this.pp=e,this.bc(),this.g("smoothness",t,e))}},key:{get:function(){var e=this.diagram;if(null!==e&&e.model.em())return e.model.ic(this.data)}}}),id.prototype.invalidateOtherJumpOvers=id.prototype.$p,id.prototype.findClosestSegment=id.prototype.Iy,id.prototype.updateRoute=id.prototype.Yi,id.prototype.invalidateRoute=id.prototype.Ra,id.prototype.rollbackRoute=id.prototype.Cx,id.prototype.commitRoute=id.prototype.kf,id.prototype.startRoute=id.prototype.Bh,id.prototype.clearPoints=id.prototype.Tj,id.prototype.removePoint=id.prototype.zv,id.prototype.addPointAt=id.prototype.jf,id.prototype.addPoint=id.prototype.xe,id.prototype.insertPointAt=id.prototype.m,id.prototype.insertPoint=id.prototype.oz,id.prototype.setPointAt=id.prototype.M,id.prototype.setPoint=id.prototype.jd,id.prototype.getPoint=id.prototype.i,id.prototype.getOtherPort=id.prototype.ez,id.prototype.getOtherNode=id.prototype.Xs;var kd=new Y(id,"Normal",1),Sd=new Y(id,"Orthogonal",2),Td=new Y(id,"AvoidsNodes",6),Nd=new Y(id,"AvoidsNodesStraight",7),Id=new Y(id,"None",0),Dd=new Y(id,"Bezier",9),Pd=new Y(id,"JumpGap",10),Ld=new Y(id,"JumpOver",11),Od=new Y(id,"End",17),Md=new Y(id,"Scale",18),Ed=new Y(id,"Stretch",19),Rd=new Y(id,"OrientAlong",21),jd=new Y(id,"OrientPlus90",22),Bd=new Y(id,"OrientMinus90",23),_d=new Y(id,"OrientOpposite",24),Vd=new Y(id,"OrientUpright",25),Fd=new Y(id,"OrientPlus90Upright",26),Ud=new Y(id,"OrientMinus90Upright",27),qd=new Y(id,"OrientUpright45",28);function zd(e,t,n,i){oe(this),this.ie=this.xr=!1,this.jt=e,this.xx=t,this.ov=n,this.yx=i,this.links=[]}function Qd(){oe(this),this.Mx=this.group=null,this.at=!0,this.abort=!1,this.Kd=this.Jd=1,this.mo=this.lo=-1,this.lc=this.kc=8,this.Bb=[[]],this.Mj=this.Lj=0,this.Zz=!1,this.Tz=22,this.xz=111}function $d(e,t,n){return e.Jd<=t&&t<=e.lo&&e.Kd<=n&&n<=e.mo}function Hd(e,t,n){return $d(e,t,n)?(t-=e.Jd,t/=e.kc,n-=e.Kd,n/=e.lc,e.Bb[0|t][0|n]):nh}function Gd(e,t,n){$d(e,t,n)&&(t-=e.Jd,t/=e.kc,n-=e.Kd,n/=e.lc,e.Bb[0|t][0|n]=Zd)}function Yd(e){if(null!==e.Bb)for(var t=0;t<=e.Lj;t++)for(var n=0;n<=e.Mj;n++)e.Bb[t][n]>=eh&&(e.Bb[t][n]=nh)}function Wd(e,t,n,i,a,r,o,s,l){if(!(t<r||t>o||n<s||n>l)){var u=0|t,c=0|n,d=e.Bb[u][c];if(d>=eh&&d<th)for(a?c+=i:u+=i,d+=1;r<=u&&u<=o&&s<=c&&c<=l&&!(d>=e.Bb[u][c]);)e.Bb[u][c]=d,d+=1,a?c+=i:u+=i;if(u=a?c:u,a)if(i>0)for(n+=i;n<u;n+=i)Wd(e,t,n,1,!a,r,o,s,l),Wd(e,t,n,-1,!a,r,o,s,l);else for(n+=i;n>u;n+=i)Wd(e,t,n,1,!a,r,o,s,l),Wd(e,t,n,-1,!a,r,o,s,l);else if(i>0)for(t+=i;t<u;t+=i)Wd(e,t,n,1,!a,r,o,s,l),Wd(e,t,n,-1,!a,r,o,s,l);else for(t+=i;t>u;t+=i)Wd(e,t,n,1,!a,r,o,s,l),Wd(e,t,n,-1,!a,r,o,s,l)}}function Kd(e,t,n,i,a,r,o,s,l){t|=0,n|=0;var u=Zd,c=eh;for(e.Bb[t][n]=c;u===Zd&&t>r&&t<o&&n>s&&n<l;)c+=1,e.Bb[t][n]=c,a?n+=i:t+=i,u=e.Bb[t][n]}function Jd(e,t,n,i,a,r,o,s,l){t|=0,n|=0;var u=Zd,c=th;for(e.Bb[t][n]=c;u===Zd&&t>r&&t<o&&n>s&&n<l;)e.Bb[t][n]=c,a?n+=i:t+=i,u=e.Bb[t][n]}function Xd(e,t,n,i,a,r){if(null!==e.Bb){e.abort=!1;var o=t.x,s=t.y;if($d(e,o,s)&&(o-=e.Jd,o/=e.kc,s-=e.Kd,s/=e.lc,t=i.x,i=i.y,$d(e,t,i)))if(t-=e.Jd,t/=e.kc,i-=e.Kd,i/=e.lc,Math.abs(o-t)<=1&&Math.abs(s-i)<=1)e.abort=!0;else{var l=r.x,u=r.y,c=r.x+r.width,d=r.y+r.height;l-=e.Jd,l/=e.kc,u-=e.Kd,u/=e.lc,c-=e.Jd,c/=e.kc,d-=e.Kd,d/=e.lc,r=Math.max(0,Math.min(e.Lj,0|l)),c=Math.min(e.Lj,Math.max(0,0|c)),u=Math.max(0,Math.min(e.Mj,0|u)),d=Math.min(e.Mj,Math.max(0,0|d)),o|=0,s|=0,t|=0,i|=0,l=0===n||90===n?1:-1,n=90===n||270===n,e.Bb[o][s]===Zd?(Kd(e,o,s,l,n,r,c,u,d),Kd(e,o,s,1,!n,r,c,u,d),Kd(e,o,s,-1,!n,r,c,u,d)):Kd(e,o,s,l,n,o,s,o,s),e.Bb[t][i]===Zd?(Jd(e,t,i,0===a||90===a?1:-1,90===a||270===a,r,c,u,d),Jd(e,t,i,1,!(90===a||270===a),r,c,u,d),Jd(e,t,i,-1,!(90===a||270===a),r,c,u,d)):Jd(e,t,i,l,n,t,i,t,i),e.abort||(Wd(e,o,s,1,!1,r,c,u,d),Wd(e,o,s,-1,!1,r,c,u,d),Wd(e,o,s,1,!0,r,c,u,d),Wd(e,o,s,-1,!0,r,c,u,d))}}}id.className="Link",id.Normal=kd,id.Orthogonal=Sd,id.AvoidsNodes=Td,id.AvoidsNodesStraight=Nd,id.None=Id,id.Bezier=Dd,id.JumpGap=Pd,id.JumpOver=Ld,id.End=Od,id.Scale=Md,id.Stretch=Ed,id.OrientAlong=Rd,id.OrientPlus90=jd,id.OrientMinus90=Bd,id.OrientOpposite=_d,id.OrientUpright=Vd,id.OrientPlus90Upright=Fd,id.OrientMinus90Upright=Ud,id.OrientUpright45=qd,zd.prototype.cm=function(){if(!this.xr){var e=this.links;e.length>0&&(e=e[0].diagram,null!==e&&(e.zw.add(this),this.ie=e.undoManager.isUndoingRedoing))}this.xr=!0},zd.prototype.Yv=function(){if(this.xr){this.xr=!1;var e=this.links;if(e.length>0){var t=e[0],n=t.diagram;n=null===n||n.Oi&&!this.ie,this.ie=!1,t.arrangeBundledLinks(e,n),1===e.length&&(t.xf=null,e.length=0)}0===e.length&&(e=this.jt,null!==this&&null!==e.Le&&e.Le.remove(this),e=this.ov,null!==this&&null!==e.Le&&e.Le.remove(this))}},zd.className="LinkBundle",Qd.prototype.initialize=function(e){if(!(e.width<=0||e.height<=0)){var t=e.y,n=e.x+e.width,i=e.y+e.height;if(this.Jd=Math.floor((e.x-this.kc)/this.kc)*this.kc,this.Kd=Math.floor((t-this.lc)/this.lc)*this.lc,this.lo=Math.ceil((n+2*this.kc)/this.kc)*this.kc,this.mo=Math.ceil((i+2*this.lc)/this.lc)*this.lc,e=1+(0|Math.ceil((this.lo-this.Jd)/this.kc)),t=1+(0|Math.ceil((this.mo-this.Kd)/this.lc)),null===this.Bb||this.Lj<e-1||this.Mj<t-1){for(n=[],i=0;i<=e;i++)n[i]=[];this.Bb=n,this.Lj=e-1,this.Mj=t-1}if(e=nh,null!==this.Bb)for(t=0;t<=this.Lj;t++)for(n=0;n<=this.Mj;n++)this.Bb[t][n]=e}},Qd.prototype.ek=function(e,t,n,i){if(e>this.lo||e+n<this.Jd||t>this.mo||t+i<this.Kd)return!0;e=(e-this.Jd)/this.kc|0,t=(t-this.Kd)/this.lc|0,n=Math.max(0,n)/this.kc+1|0;var a=Math.max(0,i)/this.lc+1|0;if(e<0&&(n+=e,e=0),t<0&&(a+=t,t=0),n<0||a<0)return!0;for(i=0|Math.min(e+n-1,this.Lj),n=0|Math.min(t+a-1,this.Mj);e<=i;e++)for(a=t;a<=n;a++)if(this.Bb[e][a]===Zd)return!1;return!0},p.Object.defineProperties(Qd.prototype,{bounds:{get:function(){return new Ue(this.Jd,this.Kd,this.lo-this.Jd,this.mo-this.Kd)}},Ul:{get:function(){return this.kc},set:function(e){e>0&&e!==this.kc&&(this.kc=e,this.initialize(this.bounds))}},Tl:{get:function(){return this.lc},set:function(e){e>0&&e!==this.lc&&(this.lc=e,this.initialize(this.bounds))}}});var Zd=0,eh=1,th=999999,nh=th+1;function ih(){oe(this),this.port=this.node=null,this.Wd=[],this.fq=!1}function ah(e,t,n,i){switch(t=t.offsetY,t){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(t){case 9:return n>180?270:90;case 6:return n>90&&n<=270?180:0}switch(e=180*Math.atan2(e.height,e.width)/Math.PI,t){case 3:return n>e&&n<=180+e?180:270;case 5:return n>180-e&&n<=360-e?270:0;case 12:return n>e&&n<=180+e?90:0;case 10:return n>180-e&&n<=360-e?180:90;case 7:return n>90&&n<=180+e?180:n>180+e&&n<=360-e?270:0;case 13:return n>180&&n<=360-e?270:n>e&&n<=180?90:0;case 14:return n>e&&n<=180-e?90:n>180-e&&n<=270?180:0;case 11:return n>180-e&&n<=180+e?180:n>180+e?270:90}return i&&15!==t&&(n-=15,n<0&&(n+=360)),n>e&&n<180-e?90:n>=180-e&&n<=180+e?180:n>180+e&&n<360-e?270:0}function rh(e,t){var n=e.Wd;if(0===n.length){e:if(!e.fq){n=e.fq,e.fq=!0;var i=null,a=e.node;if(a=a instanceof Jc?a:null,null===a||a.isSubGraphExpanded)var r=e.node.Wu(e.port.portId);else{if(!a.actualBounds.o()){e.fq=n;break e}i=a,r=i.Vu()}var o=e.Wd.length=0,s=e.port.ma(ut,ge.alloc()),l=e.port.ma(vt,ge.alloc());for(a=Ue.allocAt(s.x,s.y,0,0),a.Ie(l),ge.free(s),ge.free(l),s=ge.allocAt(a.x+a.width/2,a.y+a.height/2),l=e.port.Ji(),r=r.iterator;r.next();){var u=r.value;if(u.isVisible()&&u.fromPort!==u.toPort){var c=u.fromPort===e.port||null!==u.fromNode&&u.fromNode.Vd(i),d=u.computeSpot(c,e.port);if(d.qf()&&(c=c?u.toPort:u.fromPort,null!==c)){var h=c.part;if(null!==h){var f=h.findVisibleNode();null!==f&&f!==h&&(h=f,c=h.port),c=u.computeOtherPoint(h,c),h=s.Wa(c),h-=l,h<0&&(h+=360),d=ah(a,d,h,u.isOrthogonal),0===d?(d=4,h>180&&(h-=360)):d=90===d?8:180===d?2:1,f=e.Wd[o],void 0===f?(f=new oh(u,h,d),e.Wd[o]=f):(f.link=u,f.angle=h,f.yc=d),f.sv.set(c),o++}}}}for(ge.free(s),e.Wd.sort(ih.prototype.l),l=e.Wd.length,i=-1,o=s=0;o<l;o++)r=e.Wd[o],void 0!==r&&(r.yc!==i&&(i=r.yc,s=0),r.Xp=s,s++);for(i=-1,s=0,o=l-1;o>=0;o--)l=e.Wd[o],void 0!==l&&(l.yc!==i&&(i=l.yc,s=l.Xp+1),l.Wl=s);if(o=e.Wd,d=e.port,i=e.node.portSpreading,s=ge.alloc(),l=ge.alloc(),r=ge.alloc(),u=ge.alloc(),d.ma(ut,s),d.ma(dt,l),d.ma(vt,r),d.ma(mt,u),f=h=c=d=0,i===Kc)for(var p=0;p<o.length;p++){var m=o[p];if(null!==m){var g=m.link.computeThickness();switch(m.yc){case 8:h+=g;break;case 2:f+=g;break;case 1:d+=g;break;default:case 4:c+=g}}}var v=p=0,y=1,b=m=0;for(g=0;g<o.length;g++){var A=o[g];if(null!==A){if(p!==A.yc){switch(p=A.yc,p){case 8:var w=r;v=u;break;case 2:w=u,v=s;break;case 1:w=s,v=l;break;default:case 4:w=l,v=r}switch(m=v.x-w.x,b=v.y-w.y,p){case 8:h>Math.abs(m)?(y=Math.abs(m)/h,h=Math.abs(m)):y=1;break;case 2:f>Math.abs(b)?(y=Math.abs(b)/f,f=Math.abs(b)):y=1;break;case 1:d>Math.abs(m)?(y=Math.abs(m)/d,d=Math.abs(m)):y=1;break;default:case 4:c>Math.abs(b)?(y=Math.abs(b)/c,c=Math.abs(b)):y=1}v=0}var x=A.cq;if(i===Kc){switch(A=A.link.computeThickness(),A*=y,x.set(w),p){case 8:x.x=w.x+m/2+h/2-v-A/2;break;case 2:x.y=w.y+b/2+f/2-v-A/2;break;case 1:x.x=w.x+m/2-d/2+v+A/2;break;default:case 4:x.y=w.y+b/2-c/2+v+A/2}v+=A}else{var C=.5;i===Wc&&(C=(A.Xp+1)/(A.Wl+1)),x.x=w.x+m*C,x.y=w.y+b*C}}}for(ge.free(s),ge.free(l),ge.free(r),ge.free(u),w=e.Wd,o=0;o<w.length;o++)i=w[o],null!==i&&(i.Tu=e.computeEndSegmentLength(i));e.fq=n,Ue.free(a)}n=e.Wd}for(e=0;e<n.length;e++)if(a=n[e],null!==a&&a.link===t)return a;return null}function oh(e,t,n){this.link=e,this.angle=t,this.yc=n,this.sv=new ge,this.Wl=this.Xp=0,this.cq=new ge,this.Tu=0}function sh(){this.nh=this.Lg=Mt,this.mh=this.Kg=this.lh=this.Jg=NaN,this.zp=this.Dn=null,this.Ap=this.En=1/0}function lh(){oe(this),this.K=this.C=null,this.Pg=this.Sn=!0,this.Yn=!1,this.Qm=new ge(0,0).freeze(),this.Vn=!0,this.Un=null,this.tw="",this.u=null,this.Xn=!1,this.l=null}function uh(e,t,n,i,a,r,o,s){for(n=n.iterator;n.next();){var l=n.value;i&&!l.isTopLevel||null!==a&&!a(l)||!l.canLayout()||(r&&l instanceof Mc?l.isLinkLabel||(l instanceof Jc&&null===l.layout?uh(e,t,l.memberParts,!1,a,r,o,s):(ch(l),t.add(l))):o&&l instanceof id?t.add(l):!s||!l.Lb()||l instanceof Mc||(ch(l),t.add(l)))}}function ch(e){var t=e.actualBounds;(0===t.width||0===t.height||isNaN(t.width)||isNaN(t.height))&&e.ac()}function dh(e){oe(this),this.gc=e,this.gf=new re,this.de=new re,this.kt=new me,this.ft=new me}function hh(e,t){if(null===t)return!1;var n=e.gf.remove(t);return n&&e.kt.remove(t.node),n}function fh(e,t){null!==t&&e.de.remove(t)&&e.ft.remove(t.link)}function ph(e){for(var t=O(),n=e.de.iterator;n.next();){var i=n.value;null!==i.fromVertex&&null!==i.toVertex||t.push(i)}for(n=t.length,i=0;i<n;i++)e.Zj(t[i]);M(t)}function mh(e,t,n){if(null!==n&&n.network!==t){hh(e,n),t.sh(n);for(var i=n.sourceEdges;i.next();){var a=i.value;a.network!==t&&(fh(e,a),t.Oj(a),mh(e,t,a.fromVertex))}for(i=n.destinationEdges;i.next();)n=i.value,n.network!==t&&(fh(e,n),t.Oj(n),mh(e,t,n.toVertex))}}function gh(e){oe(this),this.Vc=e,this.l=new Ue(0,0,10,10).freeze(),this.u=new ge(5,5).freeze(),this.ki=this.jb=null,this.ug=new ie,this.lg=new ie}function vh(e,t){return e=e.ki,t=t.ki,e?t?(e=e.text,t=t.text,e<t?-1:e>t?1:0):1:null!==t?-1:0}function yh(e){oe(this),this.Wb=e,this.fg=this.If=this.ml=this.jb=null}function bh(){lh.call(this),this.isViewportSized=!0,this.Gp=this.Hp=NaN,this.Bg=new Be(NaN,NaN).freeze(),this.Ze=new Be(10,10).freeze(),this.wb=xh,this.Ab=Ch,this.Qc=Nh,this.Mc=Ah}function Ah(e,t){return e=e.text,t=t.text,e<t?-1:e>t?1:0}Qd.className="PositionArray",ih.prototype.toString=function(){for(var e=this.Wd,t=this.node.toString()+" "+e.length.toString()+":",n=0;n<e.length;n++){var i=e[n];null!==i&&(t+="\n  "+i.toString())}return t},ih.prototype.cm=function(){this.Wd.length=0},ih.prototype.l=function(e,t){return e===t?0:null===e?-1:null===t?1:e.yc<t.yc?-1:e.yc>t.yc?1:e.angle<t.angle?-1:e.angle>t.angle?1:0},ih.prototype.computeEndSegmentLength=function(e){var t=e.link,n=t.computeEndSegmentLength(this.node,this.port,lt,t.fromPort===this.port),i=e.Xp;if(i<0)return n;var a=e.Wl;if(a<=1||!t.isOrthogonal)return n;t=e.sv;var r=e.cq;return 2!==e.yc&&8!==e.yc||(i=a-1-i),((e=2===e.yc||4===e.yc)?t.y<r.y:t.x<r.x)?n+8*i:(e?t.y===r.y:t.x===r.x)?n:n+8*(a-1-i)},ih.className="Knot",oh.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.yc.toString()+":"+this.Xp.toString()+"/"+this.Wl.toString()+" "+this.cq.toString()+" "+this.Tu.toString()+" "+this.sv.toString()},oh.className="LinkInfo",sh.prototype.copy=function(){var e=new sh;return e.Lg=this.Lg.I(),e.nh=this.nh.I(),e.Jg=this.Jg,e.lh=this.lh,e.Kg=this.Kg,e.mh=this.mh,e.Dn=this.Dn,e.zp=this.zp,e.En=this.En,e.Ap=this.Ap,e},sh.className="LinkSettings",lh.prototype.cloneProtected=function(e){e.Sn=this.Sn,e.Pg=this.Pg,e.Yn=this.Yn,e.Qm.assign(this.Qm),e.Vn=this.Vn,e.Un=this.Un,e.tw=this.tw,e.Xn=!0},lh.prototype.copy=function(){var e=new this.constructor;return this.cloneProtected(e),e},lh.prototype.fb=function(){},lh.prototype.toString=function(){var e=E(this.constructor);return e+="(",null!==this.group&&(e+=" in "+this.group),null!==this.diagram&&(e+=" for "+this.diagram),e+")"},lh.prototype.B=function(){if(this.isValidLayout){var e=this.diagram;if(null!==e&&!e.undoManager.isUndoingRedoing){var t=e.animationManager;!t.isTicking&&(t.isAnimating&&t.vd(),this.isOngoing&&e.Oi||this.isInitial&&!e.Oi)&&(this.isValidLayout=!1,e.cc())}}},lh.prototype.createNetwork=function(){return new dh(this)},lh.prototype.makeNetwork=function(e){var t=this.createNetwork();return e instanceof Pa?(t.kg(e.nodes,!0),t.kg(e.links,!0)):e instanceof Jc?t.kg(e.memberParts):t.kg(e.iterator),t},lh.prototype.updateParts=function(){var e=this.diagram;if(null===e&&null!==this.network)for(var t=this.network.vertexes.iterator;t.next();){var n=t.value.node;if(null!==n&&(e=n.diagram,null!==e))break}this.isValidLayout=!0;try{null!==e&&e.Aa("Layout"),this.commitLayout()}finally{null!==e&&e.Za("Layout")}},lh.prototype.commitLayout=function(){if(null!==this.network){for(var e=this.network.vertexes.iterator;e.next();)e.value.commit();if(this.isRouting)for(e=this.network.edges.iterator;e.next();)e.value.commit()}},lh.prototype.doLayout=function(e){var t=new re;e instanceof Pa?(uh(this,t,e.nodes,!0,this.mk,!0,!1,!0),uh(this,t,e.parts,!0,this.mk,!0,!1,!0)):e instanceof Jc?uh(this,t,e.memberParts,!1,this.mk,!0,!1,!0):t.addAll(e.iterator);var n=t.count;if(n>0){e=this.diagram,null!==e&&e.Aa("Layout"),n=Math.ceil(Math.sqrt(n)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var i=this.arrangementOrigin.x,a=i,r=this.arrangementOrigin.y,o=0,s=0;for(t=t.iterator;t.next();){var l=t.value;ch(l);var u=l.measuredBounds,c=u.width;u=u.height,l.moveTo(a,r),l instanceof Jc&&(l.mk=!1),a+=Math.max(c,50)+20,s=Math.max(s,Math.max(u,50)),o>=n-1?(o=0,a=i,r+=s+20,s=0):o++}null!==e&&e.Za("Layout")}this.isValidLayout=!0},lh.prototype.mk=function(e){return!(e.location.o()&&!(e instanceof Jc&&e.mk))},lh.prototype.Li=function(e,t){var n=this.boundsComputation;return null!==n?(t||(t=new Ue),n(e,this,t)):t?(t.set(e.actualBounds),t):e.actualBounds},lh.prototype.Xw=function(e){var t=new re;return e instanceof Pa?(uh(this,t,e.nodes,!0,null,!0,!0,!0),uh(this,t,e.links,!0,null,!0,!0,!0),uh(this,t,e.parts,!0,null,!0,!0,!0)):uh(this,t,e instanceof Jc?e.memberParts:e.iterator,!1,null,!0,!0,!0),t},lh.prototype.initialOrigin=function(e){var t=this.group;if(null!==t){var n=t.position.copy();return(isNaN(n.x)||isNaN(n.y))&&n.set(e),t=t.placeholder,null!==t&&(n=t.ma(ut),(isNaN(n.x)||isNaN(n.y))&&n.set(e),e=t.padding,n.x+=e.left,n.y+=e.top),n}return e},p.Object.defineProperties(lh.prototype,{diagram:{get:function(){return this.C},set:function(e){this.C=e}},group:{get:function(){return this.K},set:function(e){this.K!==e&&(this.K=e,null!==e&&(this.C=e.diagram))}},isOngoing:{get:function(){return this.Sn},set:function(e){this.Sn!==e&&(this.Sn=e)}},isInitial:{get:function(){return this.Pg},set:function(e){this.Pg=e,e||(this.Xn=!0)}},isViewportSized:{get:function(){return this.Yn},set:function(e){this.Yn!==e&&(this.Yn=e)&&this.B()}},isRouting:{get:function(){return this.Vn},set:function(e){this.Vn!==e&&(this.Vn=e)}},isRealtime:{get:function(){return this.Un},set:function(e){this.Un!==e&&(this.Un=e)}},isValidLayout:{get:function(){return this.Xn},set:function(e){this.Xn!==e&&(this.Xn=e,e||(e=this.diagram,null!==e&&(e.zg=!0)))}},network:{get:function(){return this.l},set:function(e){this.l!==e&&(this.l=e,null!==e&&(e.layout=this))}},boundsComputation:{get:function(){return this.u},set:function(e){this.u!==e&&(this.u=e,this.B())}},arrangementOrigin:{get:function(){return this.Qm},set:function(e){this.Qm.A(e)||(this.Qm.assign(e),this.B())}}}),lh.prototype.collectParts=lh.prototype.Xw,lh.prototype.getLayoutBounds=lh.prototype.Li,lh.prototype.invalidateLayout=lh.prototype.B,lh.className="Layout",dh.prototype.clear=function(){if(this.gf)for(var e=this.gf.iterator;e.next();)e.value.clear();if(this.de)for(e=this.de.iterator;e.next();)e.value.clear();this.gf=new re,this.de=new re,this.kt=new me,this.ft=new me},dh.prototype.toString=function(e){void 0===e&&(e=0);var t="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(e<=0)return t;if(t+=" vertexes: "+this.gf.count+" edges: "+this.de.count,e>1){for(var n=this.gf.iterator;n.next();)t+="\n    "+n.value.toString(e-1);for(n=this.de.iterator;n.next();)t+="\n    "+n.value.toString(e-1)}return t},dh.prototype.createVertex=function(){return new gh(this)},dh.prototype.createEdge=function(){return new yh(this)},dh.prototype.kg=function(e,t,n){if(null!==e){for(void 0===t&&(t=!1),void 0===n&&(n=null),null===n&&(n=function(e){if(e instanceof Mc)return!e.isLinkLabel;if(e instanceof id){var t=e.fromNode;return null!==t&&!t.isLinkLabel&&(e=e.toNode,null!==e&&!e.isLinkLabel)}return!1}),e=e.iterator;e.next();){var i=e.value;if(i instanceof Mc&&(!t||i.isTopLevel)&&i.canLayout()&&n(i))if(i instanceof Jc&&null===i.layout)this.kg(i.memberParts,!1);else if(null===this.Ii(i)){var a=this.createVertex();a.node=i,this.sh(a)}}for(e.reset();e.next();)if(i=e.value,i instanceof id&&(!t||i.isTopLevel)&&i.canLayout()&&n(i)&&null===this.Rp(i)){var r=i.fromNode;a=i.toNode,null!==r&&null!==a&&r!==a&&(r=this.findGroupVertex(r),a=this.findGroupVertex(a),null!==r&&null!==a&&this.fk(r,a,i))}}},dh.prototype.findGroupVertex=function(e){if(null===e)return null;var t=e.findVisibleNode();if(null===t)return null;if(e=this.Ii(t),null!==e)return e;for(t=t.containingGroup;null!==t;){if(e=this.Ii(t),null!==e)return e;t=t.containingGroup}return null},n=dh.prototype,n.sh=function(e){if(null!==e){this.gf.add(e);var t=e.node;null!==t&&this.kt.add(t,e),e.network=this}},n.Rl=function(e){if(null===e)return null;var t=this.Ii(e);return null===t&&(t=this.createVertex(),t.node=e,this.sh(t)),t},n.Su=function(e){if(null!==e&&hh(this,e)){for(var t=e.ug,n=t.count-1;n>=0;n--){var i=t.N(n);this.Zj(i)}for(t=e.lg,e=t.count-1;e>=0;e--)n=t.N(e),this.Zj(n)}},n.Cy=function(e){null!==e&&(e=this.Ii(e),null!==e&&this.Su(e))},n.Ii=function(e){return null===e?null:this.kt.J(e)},n.Oj=function(e){if(null!==e){this.de.add(e);var t=e.link;null!==t&&null===this.Rp(t)&&this.ft.add(t,e),t=e.toVertex,null!==t&&t.Hu(e),t=e.fromVertex,null!==t&&t.Fu(e),e.network=this}},n.iy=function(e){if(null===e)return null;var t=e.fromNode,n=e.toNode,i=this.Rp(e);return null===i?(i=this.createEdge(),i.link=e,null!==t&&(i.fromVertex=this.Rl(t)),null!==n&&(i.toVertex=this.Rl(n)),this.Oj(i)):(i.fromVertex=null!==t?this.Rl(t):null,i.toVertex=null!==n?this.Rl(n):null),i},n.Zj=function(e){if(null!==e){var t=e.toVertex;null!==t&&t.Ru(e),t=e.fromVertex,null!==t&&t.Qu(e),fh(this,e)}},n.By=function(e){null!==e&&(e=this.Rp(e),null!==e&&this.Zj(e))},n.Rp=function(e){return null===e?null:this.ft.J(e)},n.fk=function(e,t,n){if(null===e||null===t)return null;if(e.network===this&&t.network===this){var i=this.createEdge();return i.link=n,i.fromVertex=e,i.toVertex=t,this.Oj(i),i}return null},n.sm=function(e){if(null!==e){var t=e.fromVertex,n=e.toVertex;null!==t&&null!==n&&(t.Qu(e),n.Ru(e),e.sm(),t.Hu(e),n.Fu(e))}},n.Pp=function(){for(var e=O(),t=this.de.iterator;t.next();){var n=t.value;n.fromVertex===n.toVertex&&e.push(n)}for(t=e.length,n=0;n<t;n++)this.Zj(e[n]);M(e)},dh.prototype.deleteArtificialVertexes=function(){for(var e=O(),t=this.gf.iterator;t.next();){var n=t.value;null===n.node&&e.push(n)}for(n=e.length,t=0;t<n;t++)this.Su(e[t]);for(t=O(),n=this.de.iterator;n.next();){var i=n.value;null===i.link&&t.push(i)}for(n=t.length,i=0;i<n;i++)this.Zj(t[i]);M(e),M(t)},dh.prototype.Nx=function(){this.deleteArtificialVertexes(),ph(this),this.Pp();for(var e=new ie,t=!0;t;){t=!1;for(var n=this.gf.iterator;n.next();){var i=n.value;if(i.ug.count>0||i.lg.count>0){t=this.layout.createNetwork(),e.add(t),mh(this,t,i),t=!0;break}}}return e.sort((function(e,t){return null===e||null===t||e===t?0:t.vertexes.count-e.vertexes.count})),e},dh.prototype.Hy=function(){for(var e=new re,t=this.gf.iterator;t.next();)e.add(t.value.node);for(t=this.de.iterator;t.next();)e.add(t.value.link);return e},p.Object.defineProperties(dh.prototype,{layout:{get:function(){return this.gc},set:function(e){null!==e&&(this.gc=e)}},vertexes:{get:function(){return this.gf}},edges:{get:function(){return this.de}}}),dh.prototype.findAllParts=dh.prototype.Hy,dh.prototype.splitIntoSubNetworks=dh.prototype.Nx,dh.prototype.deleteSelfEdges=dh.prototype.Pp,dh.prototype.reverseEdge=dh.prototype.sm,dh.prototype.linkVertexes=dh.prototype.fk,dh.prototype.findEdge=dh.prototype.Rp,dh.prototype.deleteLink=dh.prototype.By,dh.prototype.deleteEdge=dh.prototype.Zj,dh.prototype.addLink=dh.prototype.iy,dh.prototype.addEdge=dh.prototype.Oj,dh.prototype.findVertex=dh.prototype.Ii,dh.prototype.deleteNode=dh.prototype.Cy,dh.prototype.deleteVertex=dh.prototype.Su,dh.prototype.addNode=dh.prototype.Rl,dh.prototype.addVertex=dh.prototype.sh,dh.prototype.addParts=dh.prototype.kg,dh.className="LayoutNetwork",gh.prototype.clear=function(){this.ki=this.jb=null,this.ug=new ie,this.lg=new ie},gh.prototype.toString=function(e){void 0===e&&(e=0);var t="LayoutVertex#"+le(this);if(e>0&&(t+=null!==this.node?"("+this.node.toString()+")":"",e>1)){e="";for(var n=!0,i=this.ug.iterator;i.next();){var a=i.value;n?n=!1:e+=",",e+=a.toString(0)}for(a="",n=!0,i=this.lg.iterator;i.next();){var r=i.value;n?n=!1:a+=",",a+=r.toString(0)}t+=" sources: "+e+" destinations: "+a}return t},gh.prototype.commit=function(){var e=this.jb;if(null!==e){var t=this.bounds,n=e.bounds;N(n)?(n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height):e.bounds=t.copy()}else if(e=this.node,null!==e){if(t=this.bounds,!(e instanceof Jc)){n=Ue.alloc();var i=this.network.layout.Li(e,n),a=e.locationObject.ma(ft);if(i.o()&&a.o())return e.moveTo(t.x+this.focusX-(a.x-i.x),t.y+this.focusY-(a.y-i.y)),void Ue.free(n);Ue.free(n)}e.moveTo(t.x,t.y)}},gh.prototype.Hu=function(e){null!==e&&(this.ug.contains(e)||this.ug.add(e))},gh.prototype.Ru=function(e){null!==e&&this.ug.remove(e)},gh.prototype.Fu=function(e){null!==e&&(this.lg.contains(e)||this.lg.add(e))},gh.prototype.Qu=function(e){null!==e&&this.lg.remove(e)},p.Object.defineProperties(gh.prototype,{sourceEdgesArrayAccess:{get:function(){return this.ug._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.lg._dataArray}},data:{get:function(){return this.jb},set:function(e){if(this.jb=e,null!==e){var t=e.bounds;e=t.x;var n=t.y,i=t.width;t=t.height,this.u.h(i/2,t/2),this.l.h(e,n,i,t)}}},node:{get:function(){return this.ki},set:function(e){if(this.ki!==e){this.ki=e,e.ac();var t=this.network.layout,n=Ue.alloc(),i=t.Li(e,n);t=i.x;var a=i.y,r=i.width;if(i=i.height,isNaN(t)&&(t=0),isNaN(a)&&(a=0),this.l.h(t,a,r,i),Ue.free(n),!(e instanceof Jc)&&(e=e.locationObject.ma(ft),e.o()))return void this.u.h(e.x-t,e.y-a);this.u.h(r/2,i/2)}}},bounds:{get:function(){return this.l},set:function(e){this.l.A(e)||this.l.assign(e)}},focus:{get:function(){return this.u},set:function(e){this.u.A(e)||this.u.assign(e)}},centerX:{get:function(){return this.l.x+this.u.x},set:function(e){var t=this.l;t.x+this.u.x!==e&&(t.ha(),t.x=e-this.u.x,t.freeze())}},centerY:{get:function(){return this.l.y+this.u.y},set:function(e){var t=this.l;t.y+this.u.y!==e&&(t.ha(),t.y=e-this.u.y,t.freeze())}},focusX:{get:function(){return this.u.x},set:function(e){var t=this.u;t.x!==e&&(t.ha(),t.x=e,t.freeze())}},focusY:{get:function(){return this.u.y},set:function(e){var t=this.u;t.y!==e&&(t.ha(),t.y=e,t.freeze())}},x:{get:function(){return this.l.x},set:function(e){var t=this.l;t.x!==e&&(t.ha(),t.x=e,t.freeze())}},y:{get:function(){return this.l.y},set:function(e){var t=this.l;t.y!==e&&(t.ha(),t.y=e,t.freeze())}},width:{get:function(){return this.l.width},set:function(e){var t=this.l;t.width!==e&&(t.ha(),t.width=e,t.freeze())}},height:{get:function(){return this.l.height},set:function(e){var t=this.l;t.height!==e&&(t.ha(),t.height=e,t.freeze())}},network:{get:function(){return this.Vc},set:function(e){this.Vc=e}},sourceVertexes:{get:function(){for(var e=new re,t=this.sourceEdges;t.next();)e.add(t.value.fromVertex);return e.iterator}},destinationVertexes:{get:function(){for(var e=new re,t=this.destinationEdges;t.next();)e.add(t.value.toVertex);return e.iterator}},vertexes:{get:function(){for(var e=new re,t=this.sourceEdges;t.next();)e.add(t.value.fromVertex);for(t=this.destinationEdges;t.next();)e.add(t.value.toVertex);return e.iterator}},sourceEdges:{get:function(){return this.ug.iterator}},destinationEdges:{get:function(){return this.lg.iterator}},edges:{get:function(){for(var e=new ie,t=this.sourceEdges;t.next();)e.add(t.value);for(t=this.destinationEdges;t.next();)e.add(t.value);return e.iterator}},edgesCount:{get:function(){return this.ug.count+this.lg.count}}}),gh.prototype.deleteDestinationEdge=gh.prototype.Qu,gh.prototype.addDestinationEdge=gh.prototype.Fu,gh.prototype.deleteSourceEdge=gh.prototype.Ru,gh.prototype.addSourceEdge=gh.prototype.Hu,gh.className="LayoutVertex",gh.standardComparer=vh,gh.smartComparer=function(e,t){if(null!==e){if(null!==t){e=e.ki;var n=t.ki;if(null!==e){if(null!==n){for(t=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=n.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=0;n<t.length;n++)if(""!==e[n]&&void 0!==e[n]){var i=parseFloat(t[n]),a=parseFloat(e[n]);if(isNaN(i)){if(!isNaN(a))return 1;if(0!==t[n].localeCompare(e[n]))return t[n].localeCompare(e[n])}else{if(isNaN(a))return-1;if(i-a!==0)return i-a}}else if(""!==t[n])return 1;return""!==e[n]&&void 0!==e[n]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==t?-1:0},yh.prototype.clear=function(){this.fg=this.If=this.ml=this.jb=null},yh.prototype.toString=function(e){void 0===e&&(e=0);var t="LayoutEdge#"+le(this);return e>0&&(t+=null!==this.ml?"("+this.ml.toString()+")":"",e>1&&(t+=" "+(this.If?this.If.toString():"null")+" --\x3e "+(this.fg?this.fg.toString():"null"))),t},yh.prototype.sm=function(){var e=this.If;this.If=this.fg,this.fg=e},yh.prototype.commit=function(){},yh.prototype.nx=function(e){return this.fg===e?this.If:this.If===e?this.fg:null},p.Object.defineProperties(yh.prototype,{network:{get:function(){return this.Wb},set:function(e){this.Wb=e}},data:{get:function(){return this.jb},set:function(e){this.jb!==e&&(this.jb=e)}},link:{get:function(){return this.ml},set:function(e){this.ml!==e&&(this.ml=e)}},fromVertex:{get:function(){return this.If},set:function(e){this.If!==e&&(this.If=e)}},toVertex:{get:function(){return this.fg},set:function(e){this.fg!==e&&(this.fg=e)}}}),yh.prototype.getOtherVertex=yh.prototype.nx,yh.className="LayoutEdge",f(bh,lh),bh.prototype.cloneProtected=function(e){lh.prototype.cloneProtected.call(this,e),e.Hp=this.Hp,e.Gp=this.Gp,e.Bg.assign(this.Bg),e.Ze.assign(this.Ze),e.wb=this.wb,e.Ab=this.Ab,e.Qc=this.Qc,e.Mc=this.Mc},bh.prototype.fb=function(e){e.classType===bh?e===Nh||e===Ih||e===Sh||e===Th?this.sorting=e:e===Ch||e===kh?this.arrangement=e:e===xh||e===wh?this.alignment=e:x("Unknown enum value: "+e):lh.prototype.fb.call(this,e)},bh.prototype.doLayout=function(e){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var t=this.Xw(e);e=this.diagram;for(var n=t.copy().iterator;n.next();){var i=n.value;if(!i.zh()||null===i.fromNode&&null===i.toNode){if(i.ac(),i instanceof Jc)for(i=i.memberParts;i.next();)t.remove(i.value)}else t.remove(i)}var a=t.Na();if(0!==a.length){switch(this.sorting){case Th:a.reverse();break;case Nh:a.sort(this.comparer);break;case Ih:a.sort(this.comparer),a.reverse()}var r=this.wrappingColumn;isNaN(r)&&(r=0);var o=this.wrappingWidth;switch(isNaN(o)&&null!==e?(t=e.padding,o=Math.max(e.viewportBounds.width-t.left-t.right,0)):o=Math.max(this.wrappingWidth,0),r<=0&&o<=0&&(r=1),t=this.spacing.width,isFinite(t)||(t=0),n=this.spacing.height,isFinite(n)||(n=0),null!==e&&e.Aa("Layout"),i=[],this.alignment){case wh:var s=t,l=n,u=Ue.alloc(),c=Math.max(this.cellSize.width,1);if(!isFinite(c))for(var d=c=0;d<a.length;d++){var h=this.Li(a[d],u);c=Math.max(c,h.width)}if(c=Math.max(c+s,1),d=Math.max(this.cellSize.height,1),!isFinite(d))for(h=d=0;h<a.length;h++){var f=this.Li(a[h],u);d=Math.max(d,f.height)}d=Math.max(d+l,1),h=this.arrangement;for(var p=f=this.arrangementOrigin.x,m=this.arrangementOrigin.y,g=0,v=0,y=0;y<a.length;y++){var b=a[y],A=this.Li(b,u),w=Math.ceil((A.width+s)/c)*c,x=Math.ceil((A.height+l)/d)*d;switch(h){case kh:var C=Math.abs(p-A.width);break;default:C=p+A.width}switch((r>0&&g>r-1||o>0&&g>0&&C-f>o)&&(i.push(new Ue(0,m,o+s,v)),g=0,p=f,m+=v,v=0),v=Math.max(v,x),h){case kh:A=-A.width;break;default:A=0}switch(b.moveTo(p+A,m),h){case kh:p-=w;break;default:p+=w}g++}i.push(new Ue(0,m,o+s,v)),Ue.free(u);break;case xh:for(l=o,c=r,d=t,h=n,o=Ue.alloc(),f=Math.max(this.cellSize.width,1),r=m=u=0,s=ge.alloc(),p=0;p<a.length;p++)v=a[p],g=this.Li(v,o),v=v.nf(v.locationObject,v.locationSpot,s),u=Math.max(u,v.x),m=Math.max(m,g.width-v.x),r=Math.max(r,v.y);switch(p=this.arrangement,p){case kh:u+=d;break;default:m+=d}f=isFinite(f)?Math.max(f+d,1):Math.max(u+m,1);var k=v=this.arrangementOrigin.x;for(y=this.arrangementOrigin.y,m=0,l>=u&&(l-=u),u=b=0,w=Math.max(this.cellSize.height,1),A=r=0,x=!0,g=ge.alloc(),C=0;C<a.length;C++){var S=a[C],T=this.Li(S,o),N=S.nf(S.locationObject,S.locationSpot,s);if(m>0)switch(p){case kh:k=(k-v-(T.width-N.x))/f,k=Kt.ca(Math.round(k),k)?Math.round(k):Math.floor(k),k=k*f+v;break;default:k=(k-v+N.x)/f,k=Kt.ca(Math.round(k),k)?Math.round(k):Math.ceil(k),k=k*f+v}else switch(p){case kh:b=k+N.x+T.width;break;default:b=k-N.x}switch(p){case kh:var I=-(k+N.x)+b;break;default:I=k+T.width-N.x-b}if(c>0&&m>c-1||l>0&&m>0&&I>l){for(i.push(new Ue(0,x?y-r:y,l+d,A+r+h)),k=0;k<m&&C!==m;k++){I=a[C-m+k];var D=I.nf(I.locationObject,I.locationSpot,g);I.moveTo(I.position.x,I.position.y+r-D.y)}A+=h,y=x?y+A:y+(A+r),m=A=r=0,k=v,x=!1}switch(k===v&&(u=p===kh?Math.max(u,T.width-N.x):Math.min(u,-N.x)),r=Math.max(r,N.y),A=Math.max(A,T.height-N.y),isFinite(w)&&(A=Math.max(A,Math.max(T.height,w)-N.y)),x?S.moveTo(k-N.x,y-N.y):S.moveTo(k-N.x,y),p){case kh:k-=N.x+d;break;default:k+=T.width-N.x+d}m++}if(i.push(new Ue(0,y,l+d,(x?A:A+r)+h)),a.length!==m)for(l=0;l<m;l++)c=a[a.length-m+l],d=c.nf(c.locationObject,c.locationSpot,s),c.moveTo(c.position.x,c.position.y+r-d.y);if(ge.free(s),ge.free(g),p===kh)for(a=0;a<i.length;a++)r=i[a],r.width+=u,r.x-=u;else for(a=0;a<i.length;a++)r=i[a],r.x>u&&(r.width+=r.x-u,r.x=u);Ue.free(o)}for(s=r=o=a=0;s<i.length;s++)l=i[s],a=Math.min(a,l.x),o=Math.min(o,l.y),r=Math.max(r,l.x+l.width);this.arrangement===kh?this.commitLayers(i,new ge(a+t/2-(r+a),o-n/2)):this.commitLayers(i,new ge(a-t/2,o-n/2)),null!==e&&e.Za("Layout"),this.isValidLayout=!0}},bh.prototype.commitLayers=function(){},p.Object.defineProperties(bh.prototype,{wrappingWidth:{get:function(){return this.Hp},set:function(e){this.Hp!==e&&(e>0||isNaN(e))&&(this.Hp=e,this.isViewportSized=isNaN(e),this.B())}},wrappingColumn:{get:function(){return this.Gp},set:function(e){this.Gp!==e&&(e>0||isNaN(e))&&(this.Gp=e,this.B())}},cellSize:{get:function(){return this.Bg},set:function(e){this.Bg.A(e)||(this.Bg.assign(e),this.B())}},spacing:{get:function(){return this.Ze},set:function(e){this.Ze.A(e)||(this.Ze.assign(e),this.B())}},alignment:{get:function(){return this.wb},set:function(e){this.wb===e||e!==xh&&e!==wh||(this.wb=e,this.B())}},arrangement:{get:function(){return this.Ab},set:function(e){this.Ab===e||e!==Ch&&e!==kh||(this.Ab=e,this.B())}},sorting:{get:function(){return this.Qc},set:function(e){this.Qc===e||e!==Sh&&e!==Th&&e!==Nh&&e!==Ih||(this.Qc=e,this.B())}},comparer:{get:function(){return this.Mc},set:function(e){this.Mc!==e&&(this.Mc=e,this.B())}}});var wh=new Y(bh,"Position",0),xh=new Y(bh,"Location",1),Ch=new Y(bh,"LeftToRight",2),kh=new Y(bh,"RightToLeft",3),Sh=new Y(bh,"Forward",4),Th=new Y(bh,"Reverse",5),Nh=new Y(bh,"Ascending",6),Ih=new Y(bh,"Descending",7);function Dh(){this.Co=new re,this.ho=new re,this.Fa=new re,this.Me=new me,this.Dg=new me,this.oj=new me,this.C=null,this.xq=!1}function Ph(e,t,n){if(void 0!==t&&null!==t&&!e.diagram.undoManager.isUndoingRedoing&&!e.Me.contains(t)){void 0===n&&(n=!0);e:{if(void 0!==t&&null!==t&&!e.C.undoManager.isUndoingRedoing&&!e.Me.contains(t)){var i=e.Vs(t),a=Lh(e,t,i);if(null!==a&&(Ql(a),a=a.copy(),null!==a)){var r=e.diagram.skipsModelSourceBindings;e.diagram.skipsModelSourceBindings=!0,a.yf=i,a.jb=t,e.xq&&(a.Rg="Tool"),e.diagram.add(a),a.jb=null,a.data=t,e.diagram.skipsModelSourceBindings=r,i=a;break e}}i=null}null!==i&&n&&e.resolveReferencesForData(t)}}function Lh(e,t,n){e=e.C;var i=e.model;return i.dk()&&i.kv(t)?(t=e.groupTemplateMap.J(n),null===t&&(t=e.groupTemplateMap.J(""),null===t&&(_h||(_h=!0,S('No Group template found for category "'+n+'"'),S("  Using default group template")),t=e.qw))):(t=e.nodeTemplateMap.J(n),null===t&&(t=e.nodeTemplateMap.J(""),null===t&&(Bh||(Bh=!0,S('No Node template found for category "'+n+'"'),S("  Using default node template")),t=e.sw))),t}function Oh(e,t,n){for(var i in n){var a=t[i],r=n[i];if(I(r)){if(!I(a)||a.length<r.length)return!1;for(var o=0;o<a.length;o++){var s=r[o];if(void 0!==s&&!Mh(e,a[o],s))return!1}}else if(!Mh(e,a,r))return!1}return!0}function Mh(e,t,n){if("function"===typeof n){if(!n(t))return!1}else if(n instanceof RegExp){if(!t||!n.test(t.toString()))return!1}else if(N(t)&&N(n)){if(!Oh(e,t,n))return!1}else if(t!==n)return!1;return!0}function Eh(e,t){var n=t.ei;if(I(n)){var i=e.oj.J(n);if(null===i)i=[],i.push(t),e.oj.add(n,i);else{for(e=0;e<i.length;e++)if(i[e]===t)return;i.push(t)}}}function Rh(e,t){var n=t.ei;if(I(n)){var i=e.oj.J(n);if(null!==i)for(var a=0;a<i.length;a++)if(i[a]===t){i.splice(a,1),0===i.length&&e.oj.remove(n);break}}}function jh(e,t,n,i,a){if(null===t||a&&!t.canCopy())return null;if(i.contains(t))return i.J(t);var r=e.copyPartData(t,n);if(!(r instanceof lc))return null;if(r.isSelected=!1,r.isHighlighted=!1,i.add(t,r),t instanceof Mc){for(var o=t.linksConnected;o.next();){var s=o.value;if(s.fromNode===t){var l=i.J(s);null!==l&&(l.fromNode=r)}s.toNode===t&&(s=i.J(s),null!==s&&(s.toNode=r))}if(t instanceof Jc&&r instanceof Jc)for(t=t.memberParts;t.next();)o=jh(e,t.value,n,i,a),o instanceof id||null===o||(o.containingGroup=r)}else if(t instanceof id&&r instanceof id)for(o=t.fromNode,null!==o&&(o=i.J(o),null!==o&&(r.fromNode=o)),o=t.toNode,null!==o&&(o=i.J(o),null!==o&&(r.toNode=o)),t=t.labelNodes;t.next();)o=jh(e,t.value,n,i,a),null!==o&&o instanceof Mc&&(o.labeledLink=r);return r}bh.className="GridLayout",bh.standardComparer=Ah,bh.smartComparer=function(e,t){if(null!==e){if(null!==t){e=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),t=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/);for(var n=0;n<e.length;n++)if(""!==t[n]&&void 0!==t[n]){var i=parseFloat(e[n]),a=parseFloat(t[n]);if(isNaN(i)){if(!isNaN(a))return 1;if(0!==e[n].localeCompare(t[n]))return e[n].localeCompare(t[n])}else{if(isNaN(a))return-1;if(i-a!==0)return i-a}}else if(""!==e[n])return 1;return""!==t[n]&&void 0!==t[n]?-1:0}return 1}return null!==t?-1:0},bh.Position=wh,bh.Location=xh,bh.LeftToRight=Ch,bh.RightToLeft=kh,bh.Forward=Sh,bh.Reverse=Th,bh.Ascending=Nh,bh.Descending=Ih,n=Dh.prototype,n.clear=function(){this.Co.clear(),this.ho.clear(),this.Fa.clear(),this.Me.clear(),this.Dg.clear(),this.oj.clear()},n.hb=function(e){this.C=e},n.Ni=function(e){if(e instanceof Mc){if(this.Co.add(e),e instanceof Jc){var t=e.containingGroup;null===t?this.C.xi.add(e):t.rl.add(e),t=e.layout,null!==t&&(t.diagram=this.C)}}else e instanceof id?this.ho.add(e):e instanceof Oc||this.Fa.add(e);t=e.data,null===t||e instanceof Oc||(e instanceof id?this.Dg.add(t,e):this.Me.add(t,e))},n.xc=function(e){if(e.Sj(),e instanceof Mc){if(this.Co.remove(e),e instanceof Jc){var t=e.containingGroup;null===t?this.C.xi.remove(e):t.rl.remove(e),t=e.layout,null!==t&&(t.diagram=null)}}else e instanceof id?this.ho.remove(e):e instanceof Oc||this.Fa.remove(e);t=e.data,null===t||e instanceof Oc||(e instanceof id?this.Dg.remove(t):this.Me.remove(t))},n.ud=function(){for(var e=this.C.nodeTemplateMap.iterator;e.next();){var t=e.value,n=e.key;(!t.Lb()||t instanceof Jc)&&x('Invalid node template in Diagram.nodeTemplateMap: template for "'+n+'" must be a Node or a simple Part, not a Group or Link: '+t)}for(e=this.C.groupTemplateMap.iterator;e.next();)t=e.value,n=e.key,t instanceof Jc||x('Invalid group template in Diagram.groupTemplateMap: template for "'+n+'" must be a Group, not a normal Node or Link: '+t);for(e=this.C.linkTemplateMap.iterator;e.next();)t=e.value,n=e.key,t instanceof id||x('Invalid link template in Diagram.linkTemplateMap: template for "'+n+'" must be a Link, not a normal Node or simple Part: '+t);for(e=O(),t=this.C.selection.iterator;t.next();)(n=t.value.data)&&e.push(n);for(t=O(),n=this.C.highlighteds.iterator;n.next();){var i=n.value.data;i&&t.push(i)}for(n=O(),i=this.nodes.iterator;i.next();){var a=i.value;null!==a.data&&(n.push(a.data),n.push(a.location))}for(i=this.links.iterator;i.next();)a=i.value,null!==a.data&&(n.push(a.data),n.push(a.location));for(i=this.parts.iterator;i.next();)a=i.value,null!==a.data&&(n.push(a.data),n.push(a.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),i=0;i<e.length;i++)a=this.vc(e[i]),null!==a&&(a.isSelected=!0);for(i=0;i<t.length;i++)a=this.vc(t[i]),null!==a&&(a.isHighlighted=!0);for(i=0;i<n.length;i+=2)a=this.vc(n[i]),null!==a&&(a.location=n[i+1]);M(e),M(t),M(n)},Dh.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},Dh.prototype.addModeledParts=function(e,t){var n=this,i=this.diagram.model;e.forEach((function(e){i.Qb(e)&&Ph(n,e,!1)})),e.forEach((function(e){i.Qb(e)&&n.resolveReferencesForData(e)})),!1!==t&&Br(this.diagram,!1)},Dh.prototype.insertLink=function(){return null},Dh.prototype.resolveReferencesForData=function(){},Dh.prototype.Vs=function(e){return this.C.model.Vs(e)},Dh.prototype.getLinkCategoryForData=function(){return""},Dh.prototype.setLinkCategoryForData=function(){},Dh.prototype.setFromNodeForLink=function(){},Dh.prototype.setToNodeForLink=function(){},Dh.prototype.findLinkTemplateForCategory=function(e){var t=this.C.linkTemplateMap.J(e);return null===t&&(t=this.C.linkTemplateMap.J(""),null===t&&(Vh||(Vh=!0,S('No Link template found for category "'+e+'"'),S("  Using default link template")),t=this.C.rw)),t},Dh.prototype.removeAllModeledParts=function(){this.qt(this.diagram.model.nodeDataArray)},Dh.prototype.qt=function(e){var t=this;e.forEach((function(e){t.mq(e)}))},Dh.prototype.mq=function(e){e=this.vc(e),null!==e&&(yr(this.diagram,e,!1),this.unresolveReferencesForPart(e))},Dh.prototype.unresolveReferencesForPart=function(){},Dh.prototype.removeDataForLink=function(){},Dh.prototype.findPartForKey=function(e){return null===e||void 0===e?null:(e=this.C.model.Rb(e),null!==e?this.Me.J(e):null)},n=Dh.prototype,n.Hb=function(e){return null===e||void 0===e?null:(e=this.C.model.Rb(e),null===e?null:(e=this.Me.J(e),e instanceof Mc?e:null))},n.vc=function(e){if(null===e)return null;var t=this.Me.J(e);return null!==t?t:t=this.Dg.J(e)},n.Ei=function(e){return null===e?null:(e=this.Me.J(e),e instanceof Mc?e:null)},n.uc=function(e){return null===e?null:this.Dg.J(e)},n.Ss=function(e){for(var t=0;t<arguments.length;++t);t=new re;for(var n=this.Co.iterator;n.next();){var i=n.value,a=i.data;if(null!==a)for(var r=0;r<arguments.length;r++){var o=arguments[r];if(N(o)&&Oh(this,a,o)){t.add(i);break}}}return t.iterator},n.Rs=function(e){for(var t=0;t<arguments.length;++t);t=new re;for(var n=this.ho.iterator;n.next();){var i=n.value,a=i.data;if(null!==a)for(var r=0;r<arguments.length;r++){var o=arguments[r];if(N(o)&&Oh(this,a,o)){t.add(i);break}}}return t.iterator},Dh.prototype.doModelChanged=function(e){if(this.C){var t=this.C;if(e.model===t.model){var n=e.change;if(t.doModelChanged(e),t.da){t.da=!1;try{var i=e.modelChange;if(""!==i)if(n===Tn){if("nodeCategory"===i){var a=this.vc(e.object),r=e.newValue;null!==a&&"string"===typeof r&&(a.category=r)}else"nodeDataArray"===i&&(this.qt(e.oldValue),this.addModeledParts(e.newValue));t.isModified=!0}else if(n===Nn){var o=e.newValue;"nodeDataArray"===i&&N(o)&&Ph(this,o),t.isModified=!0}else if(n===In){var s=e.oldValue;"nodeDataArray"===i&&N(s)&&this.mq(s),t.isModified=!0}else n===Sn&&("SourceChanged"===i?null!==e.object?this.updateDataBindings(e.object,e.propertyName):(this.tq(),this.updateAllTargetBindings()):"ModelDisplaced"===i&&this.ud());else if(n===Tn){var l=e.propertyName,u=e.object;u===t.model?"nodeKeyProperty"!==l&&"nodeCategoryProperty"!==l||t.undoManager.isUndoingRedoing||this.ud():this.updateDataBindings(u,l),t.isModified=!0}else if(n===Nn||n===In){var c=e.change===Nn,d=c?e.newParam:e.oldParam,h=c?e.newValue:e.oldValue,f=this.oj.J(e.object);if(Array.isArray(f))for(e=0;e<f.length;e++){var p=f[e];if(c)Gl(p,h,d);else if(!(d<0)){var m=d+Hl(p);p.xc(m,!0),Yl(p,m,d)}}t.isModified=!0}}finally{t.da=!0}}}}},Dh.prototype.updateAllTargetBindings=function(e){void 0===e&&(e="");for(var t=this.parts.iterator;t.next();)t.value.Ea(e);for(t=this.nodes.iterator;t.next();)t.value.Ea(e);for(t=this.links.iterator;t.next();)t.value.Ea(e)},Dh.prototype.tq=function(){for(var e=this.C.model,t=new re,n=e.nodeDataArray,i=0;i<n.length;i++)t.add(n[i]);var a=[];for(this.nodes.each((function(e){null===e.data||t.contains(e.data)||a.push(e.data)})),this.parts.each((function(e){null===e.data||t.contains(e.data)||a.push(e.data)})),a.forEach((function(t){of(e,t,!1)})),i=0;i<n.length;i++){var r=n[i];null===this.vc(r)&&rf(e,r,!1)}for(this.refreshDataBoundLinks(),n=this.parts.iterator;n.next();)n.value.updateRelationshipsFromData();for(n=this.nodes.iterator;n.next();)n.value.updateRelationshipsFromData();for(n=this.links.iterator;n.next();)n.value.updateRelationshipsFromData()},Dh.prototype.refreshDataBoundLinks=function(){},Dh.prototype.updateRelationshipsFromData=function(){},Dh.prototype.updateDataBindings=function(e,t){if("string"===typeof t){var n=this.vc(e);if(null!==n)n.Ea(t);else{n=null;for(var i=this.oj.iterator;i.next();){for(var a=i.value,r=0;r<a.length;r++){var o=a[r].ix(e);null!==o&&(null===n&&(n=O()),n.push(o))}if(null!==n)break}if(null!==n){for(i=0;i<n.length;i++)n[i].Ea(t);M(n)}}e===this.diagram.model.modelData&&this.updateAllTargetBindings(t)}},Dh.prototype.Xj=function(e,t,n){var i=new me;if(I(e))for(var a=0;a<e.length;a++)jh(this,e[a],t,i,n);else for(e=e.iterator;e.next();)jh(this,e.value,t,i,n);if(null!==t){n=t.model,e=t.toolManager.findTool("Dragging"),e=null!==e?e.dragOptions.dragsLink:t.Lk.dragsLink,a=new re;for(var r=new me,o=i.iterator;o.next();){var s=o.value;if(s instanceof id)e||null!==s.fromNode&&null!==s.toNode||a.add(s);else if(s instanceof Mc&&null!==s.data&&n.fm()){var l=s;s=o.key;var u=s.og();null!==u&&(u=i.J(u),null!==u?(n.He(l.data,n.pa(u.data)),l=t.uc(l.data),s=s.Hi(),null!==s&&null!==l&&r.add(s,l)):n.He(l.data,void 0))}}if(a.count>0&&t.rt(a,!1),r.count>0)for(n=r.iterator;n.next();)i.add(n.key,n.value)}if(null!==t&&null!==this.C&&(t=t.model,n=t.afterCopyFunction,null!==n)){var c=new me;i.each((function(e){null!==e.key.data&&c.add(e.key.data,e.value.data)})),n(c,t,this.C.model)}for(t=i.iterator;t.next();)t.value.Ea();return i},Dh.prototype.copyPartData=function(e,t){var n=null,i=e.data;if(null!==i&&null!==t){var a=t.model;e instanceof id||(i=a.copyNodeData(i),N(i)&&(a.hf(i),n=t.vc(i)))}else Ql(e),n=e.copy(),null!==n&&(a=this.C,null!==t?t.add(n):null!==i&&null!==a&&null!==a.commandHandler&&a.commandHandler.copiesClipboardData&&(t=a.model,a=null,n instanceof id||(a=t.copyNodeData(i)),N(a)&&(n.data=a)));return n},p.Object.defineProperties(Dh.prototype,{nodes:{get:function(){return this.Co}},links:{get:function(){return this.ho}},parts:{get:function(){return this.Fa}},diagram:{get:function(){return this.C}},addsToTemporaryLayer:{get:function(){return this.xq},set:function(e){this.xq=e}}}),Dh.prototype.updateAllRelationshipsFromData=Dh.prototype.tq,Dh.prototype.findLinksByExample=Dh.prototype.Rs,Dh.prototype.findNodesByExample=Dh.prototype.Ss,Dh.prototype.findLinkForData=Dh.prototype.uc,Dh.prototype.findNodeForData=Dh.prototype.Ei,Dh.prototype.findPartForData=Dh.prototype.vc,Dh.prototype.findNodeForKey=Dh.prototype.Hb,Dh.prototype.removeModeledPart=Dh.prototype.mq,Dh.prototype.removeModeledParts=Dh.prototype.qt,Dh.prototype.rebuildParts=Dh.prototype.ud;var Bh=!1,_h=!1,Vh=!1;function Fh(e){Dh.apply(this,arguments)}function Uh(e,t){t.forEach((function(t){qh(e,t)})),Br(e.diagram,!1)}function qh(e,t){if(void 0!==t&&null!==t&&!e.diagram.undoManager.isUndoingRedoing&&!e.Dg.contains(t)){var n=e.getLinkCategoryForData(t),i=e.findLinkTemplateForCategory(n);if(null!==i){Ql(i);var a=i.copy();if(null!==a){i=e.diagram.skipsModelSourceBindings,e.diagram.skipsModelSourceBindings=!0,a.yf=n,a.jb=t,n=e.diagram.model;var r=kf(n,t,!0);""!==r&&(a.fromPortId=r),r=xf(n,t,!0),void 0!==r&&(r=e.Hb(r),r instanceof Mc&&(a.fromNode=r)),r=kf(n,t,!1),""!==r&&(a.toPortId=r),r=xf(n,t,!1),void 0!==r&&(r=e.Hb(r),r instanceof Mc&&(a.toNode=r)),n=n.pg(t),Array.isArray(n)&&n.forEach((function(t){t=e.Hb(t),null!==t&&(t.labeledLink=a)})),e.xq&&(a.Rg="Tool"),e.diagram.add(a),a.jb=null,a.data=t,e.diagram.skipsModelSourceBindings=i}}}}function zh(e,t){t.forEach((function(t){e.mq(t)}))}function Qh(){Dh.apply(this,arguments),this.ah=null}function $h(e,t,n){if(null!==t&&null!==n){var i=e.diagram.toolManager.findTool("Linking"),a=t,r=n;if(e.diagram.isTreePathToChildren){for(t=r.linksConnected;t.next();)if(t.value.toNode===r)return}else for(a=n,r=t,t=a.linksConnected;t.next();)if(t.value.fromNode===a)return;if((null===i||!pi(i,a,r,null,!0))&&(i=e.getLinkCategoryForData(n.data),t=e.findLinkTemplateForCategory(i),null!==t&&(Ql(t),t=t.copy(),null!==t))){var o=e.diagram.skipsModelSourceBindings;e.diagram.skipsModelSourceBindings=!0,t.yf=i,t.jb=n.data,t.fromNode=a,t.toNode=r,e.diagram.add(t),t.jb=null,t.data=n.data,e.diagram.skipsModelSourceBindings=o}}}function Hh(e){this.Et=',\n  "insertedNodeKeys": ',this.gw=',\n  "modifiedNodeData": ',this.Gt=',\n  "removedNodeKeys": ',oe(this),this.mn=this.Ua="",this.Lf=!1,this.l={},this.Fc=[],this.cb=new me,this.li="key",this.Ik=this.ol=null,this.bn=this.cn=!1,this.en=!0,this.Mm=null,this.wj="category",this.Ef=new me,this.fu=new ie,this.eh=!1,this.u=null,this.undoManager=new Pn,void 0!==e&&(this.nodeDataArray=e)}function Gh(e){return',\n  "modelData": '+ef(e,e.modelData)}function Yh(e,t){t=t.modelData,N(t)&&(e.pm(t),e.modelData=t)}function Wh(e,t,n,a){if(t===n)return!0;if(i(t)!==i(n)||"function"===typeof t||"function"===typeof n)return!1;if(Array.isArray(t)&&Array.isArray(n)){if(a.J(t)===n)return!0;if(a.add(t,n),t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!Wh(e,t[r],n[r],a))return!1;return!0}if(N(t)&&N(n)){if(a.J(t)===n)return!0;for(var o in a.add(t,n),t){var s=t[o];if(!Xh(o,s)){var l=n[o];if(void 0===l||!Wh(e,s,l,a))return!1}}for(r in n)if(o=n[r],!Xh(r,o)&&(s=t[r],void 0===s||!Wh(e,s,o,a)))return!1;return!0}return!1}function Kh(e,t,n){e[n]!==t[n]&&x("Model.computeJsonDifference: Model."+n+' is not the same in both models: "'+e[n]+'" and "'+t[n]+'"')}function Jh(e,t,n){void 0===n&&(n=!1);var i=t.length;if(i<=0)return"[]";var a=new K;a.add("[ "),n&&i>1&&a.add("\n");for(var r=0;r<i;r++){var o=t[r];void 0!==o&&(r>0&&(a.add(","),n&&a.add("\n")),a.add(e.zm(o)))}return n&&i>1&&a.add("\n"),a.add(" ]"),a.toString()}function Xh(e,t){return void 0===t||"__gohashid"===e||"_"===e[0]||"function"===typeof t}function Zh(e){return isNaN(e)?"NaN":1/0===e?"9e9999":-1/0===e?"-9e9999":e}function ef(e,t){var n=t;if(n instanceof ge)t={class:"go.Point",x:Zh(n.x),y:Zh(n.y)};else if(n instanceof Be)t={class:"go.Size",width:Zh(n.width),height:Zh(n.height)};else if(n instanceof Ue)t={class:"go.Rect",x:Zh(n.x),y:Zh(n.y),width:Zh(n.width),height:Zh(n.height)};else if(n instanceof tt)t={class:"go.Margin",top:Zh(n.top),right:Zh(n.right),bottom:Zh(n.bottom),left:Zh(n.left)};else if(n instanceof $t)t=n.gb()?{class:"go.Spot",x:Zh(n.x),y:Zh(n.y),offsetX:Zh(n.offsetX),offsetY:Zh(n.offsetY)}:{class:"go.Spot",enum:n.toString()};else if(n instanceof Vs){if(t={class:"go.Brush",type:n.type.name},n.type===Js?t.color=n.color:n.type!==Xs&&n.type!==Zs||(t.start=n.start,t.end=n.end,n.type===Zs&&(0!==n.startRadius&&(t.startRadius=Zh(n.startRadius)),isNaN(n.endRadius)||(t.endRadius=Zh(n.endRadius)))),null!==n.colorStops){var i={};for(n=n.colorStops.iterator;n.next();)i[n.key]=n.value;t.colorStops=i}}else n instanceof Jt?(t={class:"go.Geometry",type:n.type.name},0!==n.startX&&(t.startX=Zh(n.startX)),0!==n.startY&&(t.startY=Zh(n.startY)),0!==n.endX&&(t.endX=Zh(n.endX)),0!==n.endY&&(t.endY=Zh(n.endY)),n.spot1.A(ut)||(t.spot1=n.spot1),n.spot2.A(vt)||(t.spot2=n.spot2),n.type===dn&&(t.path=Zt(n))):n instanceof Y&&(t={class:"go.EnumValue",classType:hf(e,n.classType),name:n.name});for(var a in i="{",n=!0,t){var r=ff(t,a);if(!Xh(a,r))if(n?n=!1:i+=", ",i+='"'+a+'":',"points"===a&&r instanceof ie){var o="[";for(r=r.iterator;r.next();){var s=r.value;o.length>1&&(o+=","),o+=e.zm(s.x),o+=",",o+=e.zm(s.y)}o+="]",i+=o}else i+=e.zm(r)}return i+"}"}function tf(e){return"number"===typeof e?e:"NaN"===e?NaN:"9e9999"===e?1/0:"-9e9999"===e?-1/0:parseFloat(e)}function nf(e,t,n,i,a,r,o,s,l){void 0===s&&(s=null),void 0===l&&(l=null);var u=new kn;u.model=e,u.change=n,u.modelChange=t,u.propertyName=i,u.object=a,u.oldValue=r,u.oldParam=s,u.newValue=o,u.newParam=l,e.Ks(u)}function af(e){return"number"===typeof e||"string"===typeof e}function rf(e,t,n){var i=e.pa(t);void 0!==i&&e.cb.J(i)===t||(e.ht(t),i=e.pa(t),void 0===i?x("Model.makeNodeDataKeyUnique failed on "+t+".  Data not added to Model."):(e.cb.add(i,t),i=null,n&&(i=e.Fc.length,P(e.Fc,i,t)),nf(e,"nodeDataArray",Nn,"nodeDataArray",e,null,t,null,i),e.rm(t),e.qm(t)))}function of(e,t,n){var i=e.pa(t);if(void 0!==i&&e.cb.remove(i),i=null,n){e:if(n=e.Fc,Array.isArray(n))i=n.indexOf(t);else{i=n.length;for(var a=0;a<i;a++)if(n[a]===t){i=a;break e}i=-1}if(i<0)return;L(e.Fc,i)}nf(e,"nodeDataArray",In,"nodeDataArray",e,t,null,i,null),e.sq(t)}function sf(e,t,n){if(void 0!==t){var i=e.Ef.J(t);null===i&&(i=new re,e.Ef.add(t,i)),i.add(n)}}function lf(e,t,n){if(void 0!==t){var i=e.Ef.J(t);i instanceof re&&(void 0===n||null===n?e.Ef.remove(t):(i.remove(n),0===i.count&&e.Ef.remove(t)))}}function uf(e,t){return void 0===t?null:(e=e.Ef.J(t),e instanceof re?e:null)}function cf(e,t,n){if(e.copiesArrays&&Array.isArray(t)){var i=[];for(n=0;n<t.length;n++){var a=cf(e,t[n],e.copiesArrayObjects);i.push(a)}return oe(i),i}if(n&&N(t)){for(i in n=(n=t.constructor)?new n:{},a=e.copiesKey||"string"!==typeof e.nodeKeyProperty?null:e.nodeKeyProperty,t)if("__gohashid"===i)n.__gohashid=void 0;else if(i===a)n[a]=void 0;else{var r=ff(t,i),o=hf(e,r);"GraphObject"===o||"Diagram"===o||"Layer"===o||"RowColumnDefinition"===o||"AnimationManager"===o||"Tool"===o||"CommandHandler"===o||"Layout"===o||"InputEvent"===o||"DiagramEvent"===o||r instanceof Hh||r instanceof Pn||r instanceof Dn||r instanceof kn||(r=cf(e,r,!1)),pf(n,i,r)}return oe(n),n}return t instanceof ge||t instanceof Be||t instanceof Ue||t instanceof $t||t instanceof tt?t.copy():t}function df(){return new Hh}function hf(e,t){if("function"===typeof t){if(t.className)return t.className;if(t.name)return t.name}else if("object"===i(t)&&null!==t&&t.constructor)return hf(e,t.constructor);return i(t)}function ff(e,t){if(!e||!t)return null;try{if("function"===typeof t)var n=t(e);else"function"===typeof e.getAttribute?(n=e.getAttribute(t),null===n&&(n=void 0)):n=e[t]}catch(i){}return n}function pf(e,t,n){if(e&&t)try{"function"===typeof t?t(e,n):"function"===typeof e.setAttribute?e.setAttribute(t,n):e[t]=n}catch(i){}}Dh.className="PartManager",f(Fh,Dh),Fh.prototype.addAllModeledParts=function(){var e=this.diagram.model;this.addModeledParts(e.nodeDataArray),Uh(this,e.linkDataArray)},Fh.prototype.addModeledParts=function(e){for(Dh.prototype.addModeledParts.call(this,e,!1),e=this.links.iterator;e.next();)ad(e.value);Br(this.diagram,!1)},Fh.prototype.removeAllModeledParts=function(){var e=this.diagram.model;zh(this,e.linkDataArray),this.qt(e.nodeDataArray)},Fh.prototype.getLinkCategoryForData=function(e){return this.diagram.model.av(e)},Fh.prototype.setLinkCategoryForData=function(e,t){return this.diagram.model.tt(e,t)},Fh.prototype.setFromNodeForLink=function(e,t){var n=this.diagram.model;n.Gx(e.data,n.pa(null!==t?t.data:null))},Fh.prototype.setToNodeForLink=function(e,t){var n=this.diagram.model;n.Kx(e.data,n.pa(null!==t?t.data:null))},Fh.prototype.removeDataForLink=function(e){this.diagram.model.nm(e.data)},Fh.prototype.findPartForKey=function(e){var t=Dh.prototype.findPartForKey.call(this,e);return null===t&&(e=this.diagram.model.wh(e),null!==e)?this.Dg.J(e):t},Fh.prototype.doModelChanged=function(e){var t=this;if(Dh.prototype.doModelChanged.call(this,e),this.diagram){var n=this.diagram;if(e.model===n.model){var a=e.change;if(n.da){n.da=!1;try{var r=e.modelChange;if(""!==r){if(a===Tn){if("linkFromKey"===r){var o=this.uc(e.object);if(null!==o){var s=this.Hb(e.newValue);o.fromNode=s}}else if("linkToKey"===r){var l=this.uc(e.object);if(null!==l){var u=this.Hb(e.newValue);l.toNode=u}}else if("linkFromPortId"===r){var c=this.uc(e.object);if(null!==c){var d=e.newValue;"string"===typeof d&&(c.fromPortId=d)}}else if("linkToPortId"===r){var h=this.uc(e.object);if(null!==h){var f=e.newValue;"string"===typeof f&&(h.toPortId=f)}}else if("nodeGroupKey"===r){var p=this.vc(e.object);if(null!==p){var m=e.newValue;if(void 0!==m){var g=this.Hb(m);p.containingGroup=g instanceof Jc?g:null}else p.containingGroup=null}}else if("linkLabelKeys"===r){var v=this.uc(e.object);if(null!==v){var y=e.oldValue,b=e.newValue;Array.isArray(y)&&y.forEach((function(e){e=t.Hb(e),null!==e&&(e.labeledLink=null)})),Array.isArray(b)&&b.forEach((function(e){e=t.Hb(e),null!==e&&(e.labeledLink=v)}))}}else if("linkCategory"===r){var A=this.uc(e.object),w=e.newValue;null!==A&&"string"===typeof w&&(A.category=w)}else"linkDataArray"===r&&(zh(this,e.oldValue),Uh(this,e.newValue));n.isModified=!0}else if(a===Nn){var x=e.newValue;if("linkDataArray"===r&&"object"===i(x)&&null!==x)qh(this,x);else if("linkLabelKeys"===r&&af(x)){var C=this.uc(e.object),k=this.Hb(x);null!==C&&null!==k&&(k.labeledLink=C)}n.isModified=!0}else if(a===In){var S=e.oldValue;if("linkDataArray"===r&&"object"===i(S)&&null!==S)this.mq(S);else if("linkLabelKeys"===r&&af(S)){var T=this.Hb(S);null!==T&&(T.labeledLink=null)}n.isModified=!0}}else if(a===Tn){var N=e.propertyName,I=e.object;I===n.model?"linkFromKeyProperty"!==N&&"linkToKeyProperty"!==N&&"linkFromPortIdProperty"!==N&&"linkToPortIdProperty"!==N&&"linkLabelKeysProperty"!==N&&"nodeIsGroupProperty"!==N&&"nodeGroupKeyProperty"!==N&&"linkCategoryProperty"!==N||n.undoManager.isUndoingRedoing||this.ud():this.updateDataBindings(I,N),n.isModified=!0}}finally{n.da=!0}}}}},Fh.prototype.refreshDataBoundLinks=function(){var e=this,t=this.diagram.model,n=new re,i=t.linkDataArray;i.forEach((function(e){n.add(e)}));var a=[];this.links.each((function(e){null===e.data||n.contains(e.data)||a.push(e.data)})),a.forEach((function(e){Nf(t,e,!1)})),i.forEach((function(n){null===e.uc(n)&&Tf(t,n,!1)}))},Fh.prototype.updateRelationshipsFromData=function(e){var t=e.data;if(null!==t){var n=e.diagram;if(null!==n){var i=n.model;if(e instanceof id){var a=xf(i,t,!0);if(a=n.Hb(a),e.fromNode=a,a=xf(i,t,!1),a=n.Hb(a),e.toNode=a,t=i.pg(t),t.length>0||e.labelNodes.count>0){if(1===t.length&&1===e.labelNodes.count){a=t[0];var r=e.labelNodes.first();if(i.pa(r.data)===a)return}a=(new re).addAll(t);var o=new re;e.labelNodes.each((function(e){null!==e.data&&(e=i.pa(e.data),void 0!==e&&o.add(e))})),t=o.copy(),t.lq(a),a=a.copy(),a.lq(o),(t.count>0||a.count>0)&&(t.each((function(t){t=n.Hb(t),null!==t&&t.labeledLink===e&&(t.labeledLink=null)})),a.each((function(t){t=n.Hb(t),null!==t&&t.labeledLink!==e&&(t.labeledLink=e)})))}}else!(e instanceof Oc)&&(t=i.Ki(t),t=n.findPartForKey(t),null===t||t instanceof Jc)&&(e.containingGroup=t)}}},Fh.prototype.resolveReferencesForData=function(e){var t=this.diagram.model,n=t.pa(e);if(void 0!==n){var i=uf(t,n),a=this.vc(e);if(null!==i&&null!==a){i=i.iterator;for(var r={};i.next();){var o=i.value;t.Qb(o)?a instanceof Jc&&t.Ki(o)===n&&(o=this.vc(o),null!==o&&(o.containingGroup=a)):(r.link=this.uc(o),null!==r.link&&a instanceof Mc&&(xf(t,o,!0)===n&&(r.link.fromNode=a),xf(t,o,!1)===n&&(r.link.toNode=a),o=t.pg(o),Array.isArray(o)&&o.some(function(e){return function(t){return t===n&&(a.labeledLink=e.link,!0)}}(r)))),r={link:r.link}}lf(t,n)}e=t.Ki(e),void 0!==e&&(e=this.Hb(e),e instanceof Jc&&(a.containingGroup=e))}},Fh.prototype.unresolveReferencesForPart=function(e){var t=this.diagram.model;if(e instanceof Mc){var n=t.pa(e.data);if(void 0!==n){for(var i=e.linksConnected;i.next();)sf(t,n,i.value.data);if(e.isLinkLabel&&(i=e.labeledLink,null!==i&&sf(t,n,i.data)),e instanceof Jc)for(e=e.memberParts;e.next();)i=e.value.data,t.Qb(i)&&sf(t,n,i)}}},Fh.prototype.copyPartData=function(e,t){var n=Dh.prototype.copyPartData.call(this,e,t);if(e instanceof id)if(e=e.data,null!==e&&null!==t){var a=t.model;e=a.Op(e),"object"===i(e)&&null!==e&&(a.Ai(e),n=t.uc(e))}else null!==n&&(t=this.diagram,null!==e&&null!==t&&null!==t.commandHandler&&t.commandHandler.copiesClipboardData&&(t=t.model.Op(e),"object"===i(t)&&null!==t&&(n.data=t)));return n},Fh.prototype.insertLink=function(e,t,n,a){var r=this.diagram,o=r.model,s=r.toolManager.findTool("Linking"),l="";if(null!==e&&(null===t&&(t=e),l=t.portId,null===l&&(l="")),t="",null!==n&&(null===a&&(a=n),t=a.portId,null===t&&(t="")),a=s.archetypeLinkData,a instanceof id){if(Ql(a),o=a.copy(),null!==o)return o.fromNode=e,o.fromPortId=l,o.toNode=n,o.toPortId=t,r.add(o),e=s.archetypeLabelNodeData,e instanceof Mc&&(Ql(e),e=e.copy(),null!==e&&(e.labeledLink=o,r.add(e))),o}else if(null!==a&&(a=o.Op(a),"object"===i(a)&&null!==a))return null!==e&&Cf(o,a,o.pa(e.data),!0),Sf(o,a,l,!0),null!==n&&Cf(o,a,o.pa(n.data),!1),Sf(o,a,t,!1),o.Ai(a),e=s.archetypeLabelNodeData,null===e||e instanceof Mc||(e=o.copyNodeData(e),"object"===i(e)&&null!==e&&(o.hf(e),e=o.pa(e),void 0!==e&&o.Gu(a,e))),r.uc(a);return null},Fh.prototype.findPartForKey=Fh.prototype.findPartForKey,Fh.prototype.removeAllModeledParts=Fh.prototype.removeAllModeledParts,Fh.prototype.addModeledParts=Fh.prototype.addModeledParts,Fh.prototype.addAllModeledParts=Fh.prototype.addAllModeledParts,Fh.className="GraphLinksPartManager",f(Qh,Dh),Qh.prototype.getLinkCategoryForData=function(e){return this.diagram.model.bv(e)},Qh.prototype.setLinkCategoryForData=function(e,t){this.diagram.model.Iv(e,t)},Qh.prototype.setFromNodeForLink=function(e,t,n){var i=this.diagram.model;if(void 0===n&&(n=null),t=null!==t?t.data:null,this.diagram.isTreePathToChildren)i.He(e.data,i.pa(t));else{var a=this.ah;this.ah=e,null!==n&&i.He(n.data,void 0),i.He(t,i.pa(null!==e.toNode?e.toNode.data:null)),this.ah=a}},Qh.prototype.setToNodeForLink=function(e,t,n){var i=this.diagram.model;if(void 0===n&&(n=null),t=null!==t?t.data:null,this.diagram.isTreePathToChildren){var a=this.ah;this.ah=e,null!==n&&i.He(n.data,void 0),i.He(t,i.pa(null!==e.fromNode?e.fromNode.data:null)),this.ah=a}else i.He(e.data,i.pa(t))},Qh.prototype.removeDataForLink=function(e){this.diagram.model.He(e.data,void 0)},Qh.prototype.doModelChanged=function(e){if(Dh.prototype.doModelChanged.call(this,e),this.diagram){var t=this.diagram;if(e.model===t.model){var n=e.change;if(t.da){t.da=!1;try{var i=e.modelChange;if(""!==i){if(n===Tn){if("nodeParentKey"===i){var a=e.object,r=this.Hb(e.newValue),o=this.Ei(a);if(null!==this.ah)null!==r&&(this.ah.data=a,this.ah.category=this.getLinkCategoryForData(a));else if(null!==o){var s=o.Hi();null!==s?null===r?t.remove(s):t.isTreePathToChildren?s.fromNode=r:s.toNode=r:$h(this,r,o)}}else if("parentLinkCategory"===i){var l=this.Ei(e.object),u=e.newValue;if(null!==l&&"string"===typeof u){var c=l.Hi();null!==c&&(c.category=u)}}t.isModified=!0}}else if(n===Tn){var d=e.propertyName,h=e.object;h===t.model?"nodeParentKeyProperty"===d&&(t.undoManager.isUndoingRedoing||this.ud()):this.updateDataBindings(h,d),t.isModified=!0}}finally{t.da=!0}}}}},Qh.prototype.updateRelationshipsFromData=function(e){var t=e.data;if(null!==t){var n=e.diagram;if(null!==n){var i=n.model;e instanceof Mc&&(t=i.Mi(t),t=n.Hb(t),i=e.og(),t!==i&&(i=e.Hi(),null!==t?null!==i?n.isTreePathToChildren?i.fromNode=t:i.toNode=t:$h(this,t,e):null!==i&&yr(n,i,!1)))}}},Qh.prototype.updateDataBindings=function(e,t){Dh.prototype.updateDataBindings.call(this,e,t),"string"===typeof t&&null!==this.vc(e)&&(e=this.uc(e),null!==e&&e.Ea(t))},Qh.prototype.resolveReferencesForData=function(e){var t=this.diagram.model,n=t.pa(e);if(void 0!==n){var i=uf(t,n),a=this.vc(e);if(null!==i&&null!==a){for(i=i.iterator;i.next();){var r=i.value;t.Qb(r)&&a instanceof Mc&&t.Mi(r)===n&&$h(this,a,this.Ei(r))}lf(t,n)}e=t.Mi(e),void 0!==e&&a instanceof Mc&&(e=this.Hb(e),$h(this,e,a))}},Qh.prototype.unresolveReferencesForPart=function(e){var t=this.diagram.model;if(e instanceof Mc){var n=t.pa(e.data),i=this.uc(e.data);if(null!==i){i.isSelected=!1,i.isHighlighted=!1;var a=i.layer;if(null!==a){var r=a.xc(-1,i,!1);r>=0&&this.diagram.ab(In,"parts",a,i,null,r,null),r=i.layerChanged,null!==r&&r(i,a,null)}}for(i=this.diagram.isTreePathToChildren,e=e.linksConnected;e.next();)a=e.value,a=(i?a.toNode:a.fromNode).data,t.Qb(a)&&sf(t,n,a)}},Qh.prototype.insertLink=function(e,t,n){t=this.diagram.model;var i=e,a=n;return this.diagram.isTreePathToChildren||(i=n,a=e),null!==i&&null!==a?(t.He(a.data,t.pa(i.data)),a.Hi()):null},Qh.className="TreePartManager",Hh.prototype.cloneProtected=function(e){e.Ua=this.Ua,e.mn=this.mn,e.Lf=this.Lf,e.li=this.li,e.ol=this.ol,e.Ik=this.Ik,e.cn=this.cn,e.bn=this.bn,e.en=this.en,e.Mm=this.Mm,e.wj=this.wj},Hh.prototype.copy=function(){var e=new this.constructor;return this.cloneProtected(e),e},n=Hh.prototype,n.clear=function(){this.Fc=[],this.cb.clear(),this.Ef.clear(),this.undoManager.clear()},n.toString=function(e){if(void 0===e&&(e=0),e>1)return this.rq();var t=(""!==this.name?this.name:"")+" Model";if(e>0){t+="\n node data:",e=this.nodeDataArray;for(var n=e.length,i=0;i<n;i++){var a=e[i];t+=" "+this.pa(a)+":"+R(a)}}return t},n.sk=function(){var e="";return""!==this.name&&(e+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(e+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(e+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"===typeof this.nodeKeyProperty&&(e+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(e+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(e+=',\n  "copiesArrayObjects": true'),this.copiesKey||(e+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"===typeof this.nodeCategoryProperty&&(e+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),e},n.kq=function(e){e.name&&(this.name=e.name),e.dataFormat&&(this.dataFormat=e.dataFormat),e.isReadOnly&&(this.isReadOnly=!0),e.nodeKeyProperty&&(this.nodeKeyProperty=e.nodeKeyProperty),e.copiesArrays&&(this.copiesArrays=!0),e.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===e.copiesKey&&(this.copiesKey=!1),e.nodeCategoryProperty&&(this.nodeCategoryProperty=e.nodeCategoryProperty)},n.$v=function(){var e,t=this.modelData,n=!1;for(e in t)if(!Xh(e,t[e])){n=!0;break}return t="",n&&(t=Gh(this)),t+',\n  "nodeDataArray": '+Jh(this,this.nodeDataArray,!0)},n.wv=function(e){Yh(this,e),e=e.nodeDataArray,I(e)&&(this.pm(e),this.nodeDataArray=e)},n.vq=function(e){Kh(this,e,"nodeKeyProperty");for(var t=new re,n=new re,i=(new re).addAll(this.cb.iteratorKeys),a=new me,r=e.nodeDataArray,o=r.length,s=0;s<o;s++){var l=r[s],u=e.pa(l);if(void 0!==u){i.remove(u);var c=this.Rb(u);null===c?(t.add(u),n.add(l)):Wh(this,c,l,a)||n.add(l)}else this.ht(l),u=this.pa(l),t.add(u),n.add(l)}return r="",Wh(this,this.modelData,e.modelData,a)||(r+=Gh(this)),t.count>0&&(r+=this.Et+Jh(this,t.Na(),!0)),n.count>0&&(r+=this.gw+Jh(this,n.Na(),!0)),i.count>0&&(r+=this.Gt+Jh(this,i.Na(),!0)),r},n.uy=function(e,t){return void 0===t&&(t=hf(this,this)),'{ "class": '+this.quote(t)+', "incremental": 1'+this.sk()+this.vq(e)+"}"},n.zt=function(e,t){var n=this,i=!1,a=new re,r=new re,o=new re;e.changes.each((function(e){e.model===n&&("nodeDataArray"===e.modelChange?e.change===Nn?a.add(e.newValue):e.change===In&&o.add(e.oldValue):n.Qb(e.object)?r.add(e.object):n.modelData===e.object&&e.change===Tn&&(i=!0))}));var s=new re;a.each((function(e){s.add(n.pa(e)),t||r.add(e)}));var l=new re;return o.each((function(e){l.add(n.pa(e)),t&&r.add(e)})),e="",i&&(e+=Gh(this)),s.count>0&&(e+=(t?this.Gt:this.Et)+Jh(this,s.Na(),!0)),r.count>0&&(e+=this.gw+Jh(this,r.Na(),!0)),l.count>0&&(e+=(t?this.Et:this.Gt)+Jh(this,l.Na(),!0)),e},n.vv=function(e){Yh(this,e);var t=e.insertedNodeKeys,n=e.modifiedNodeData,i=new me;if(Array.isArray(n))for(var a=0;a<n.length;a++){var r=n[a],o=this.pa(r);void 0!==o&&null!==o&&i.set(o,r)}if(Array.isArray(t))for(a=t.length,r=0;r<a;r++){o=t[r];var s=this.Rb(o);null===s&&(s=(s=i.get(o))?s:this.copyNodeData({}),this.vm(s,o),this.hf(s))}if(Array.isArray(n))for(t=n.length,i=0;i<t;i++)if(a=n[i],r=this.pa(a),r=this.Rb(r),null!==r)for(var l in a)"__gohashid"===l||l===this.nodeKeyProperty||this.ck()&&l===this.nodeIsGroupProperty||this.setDataProperty(r,l,a[l]);if(e=e.removedNodeKeys,Array.isArray(e))for(n=e.length,l=0;l<n;l++)t=this.Rb(e[l]),null!==t&&this.om(t)},n.Ox=function(e,t){e.change!==Sn&&x("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+e.toString());var n=e.object;return e.isTransactionFinished&&n instanceof Dn?(void 0===t&&(t=hf(this,this)),"2"===t?'{ "incremental": 2'+this.zt(n,"FinishedUndo"===e.propertyName)+"}":'{ "class": '+this.quote(t)+', "incremental": 1'+this.sk()+this.zt(n,"FinishedUndo"===e.propertyName)+"}"):'{ "incremental": 0 }'},n.Xz=function(e,t){return this.Ox(e,t)},n.rq=function(e){return void 0===e&&(e=hf(this,this)),'{ "class": '+this.quote(e)+this.sk()+this.$v()+"}"},n.toJSON=function(e){return this.rq(e)},n.Uw=function(e){var t=null;if("string"===typeof e)try{t=v.JSON.parse(e)}catch(a){}else"object"===i(e)?t=e:x("Unable to modify a Model from: "+e);var n=t.incremental;"number"!==typeof n&&x("Unable to apply non-incremental changes to Model: "+e),0!==n&&(this.Aa("applyIncrementalJson"),this.vv(t),this.Za("applyIncrementalJson"))},n.ny=function(e){return this.Uw(e)},Hh.constructGraphLinksModel=function(){return new Hh},n=Hh.prototype,n.pm=function(e){if(I(e))for(var t=e.length,n=0;n<t;n++){var a=e[n];if(N(a)){var r=n;a=this.pm(a),Array.isArray(e)?e[r]=a:x("Cannot replace an object in an HTMLCollection or NodeList at "+r)}}else if(N(e)){for(n in e)if(r=e[n],N(r)&&(r=this.pm(r),e[n]=r,"points"===n&&Array.isArray(r))){a=r.length%2===0;for(var o=0;o<r.length;o++)if("number"!==typeof r[o]){a=!1;break}if(a){for(a=new ie,o=0;o<r.length/2;o++)a.add(new ge(r[2*o],r[2*o+1]));a.freeze(),e[n]=a}}if("object"===i(e)){if(n=e,r=e["class"],"NaN"===r)n=NaN;else if("Date"===r)n=new Date(e.value);else if("go.Point"===r)n=new ge(tf(e.x),tf(e.y));else if("go.Size"===r)n=new Be(tf(e.width),tf(e.height));else if("go.Rect"===r)n=new Ue(tf(e.x),tf(e.y),tf(e.width),tf(e.height));else if("go.Margin"===r)n=new tt(tf(e.top),tf(e.right),tf(e.bottom),tf(e.left));else if("go.Spot"===r)n="string"===typeof e["enum"]?Gt(e["enum"]):new $t(tf(e.x),tf(e.y),tf(e.offsetX),tf(e.offsetY));else if("go.Brush"===r){if(n=new Vs,n.type=W(Vs,e.type),"string"===typeof e.color&&(n.color=e.color),e.start instanceof $t&&(n.start=e.start),e.end instanceof $t&&(n.end=e.end),"number"===typeof e.startRadius&&(n.startRadius=tf(e.startRadius)),"number"===typeof e.endRadius&&(n.endRadius=tf(e.endRadius)),e=e.colorStops,N(e))for(t in e)n.addColorStop(parseFloat(t),e[t])}else"go.Geometry"===r?(t=null,t="string"===typeof e.path?en(e.path):new Jt,t.type=W(Jt,e.type),"number"===typeof e.startX&&(t.startX=tf(e.startX)),"number"===typeof e.startY&&(t.startY=tf(e.startY)),"number"===typeof e.endX&&(t.endX=tf(e.endX)),"number"===typeof e.endY&&(t.endY=tf(e.endY)),e.spot1 instanceof $t&&(t.spot1=e.spot1),e.spot2 instanceof $t&&(t.spot2=e.spot2),n=t):"go.EnumValue"===r&&(t=e.classType,0===t.indexOf("go.")&&(t=t.substr(3)),n=W(gf[t]?gf[t]:null,e.name));e=n}}return e},n.quote=function(e){for(var t="",n=e.length,i=0;i<n;i++){var a=e[i];if('"'===a||"\\"===a)t+="\\"+a;else if("\b"===a)t+="\\b";else if("\f"===a)t+="\\f";else if("\n"===a)t+="\\n";else if("\r"===a)t+="\\r";else if("\t"===a)t+="\\t";else{var r=e.charCodeAt(i);t=r<16?t+"\\u000"+e.charCodeAt(i).toString(16):r<32?t+"\\u00"+e.charCodeAt(i).toString(16):8232===r?t+"\\u2028":8233===r?t+"\\u2029":t+a}}return'"'+t+'"'},n.zm=function(e){return void 0===e?"undefined":null===e?"null":!0===e?"true":!1===e?"false":"string"===typeof e?this.quote(e):"number"===typeof e?1/0===e?"9e9999":-1/0===e?"-9e9999":isNaN(e)?'{"class":"NaN"}':e.toString():e instanceof Date?'{"class":"Date", "value":"'+e.toJSON()+'"}':e instanceof Number?this.zm(e.valueOf()):I(e)?Jh(this,e):N(e)?ef(this,e):"function"===typeof e?"null":e.toString()},n.rh=function(e){this.fu.add(e)},n.pk=function(e){this.fu.remove(e)},n.Ks=function(e){this.skipsUndoManager||this.undoManager.fv(e);for(var t=this.fu,n=t.length,i=0;i<n;i++)t.N(i)(e)},n.ab=function(e,t,n,i,a,r,o){nf(this,"",e,t,n,i,a,r,o)},n.g=function(e,t,n,i,a){nf(this,"",Tn,e,this,t,n,i,a)},n.mt=function(e,t,n,i,a,r){nf(this,"",Tn,t,e,n,i,a,r)},n.Rj=function(e,t){if(null!==e&&e.model===this)if(e.change===Tn)pf(e.object,e.propertyName,e.J(t));else if(e.change===Nn){var n=e.newParam;if("nodeDataArray"===e.modelChange){if(e=e.newValue,N(e)&&"number"===typeof n){var i=this.pa(e);t?(this.Fc[n]===e&&L(this.Fc,n),void 0!==i&&this.cb.remove(i)):(this.Fc[n]!==e&&P(this.Fc,n,e),void 0!==i&&this.cb.add(i,e))}}else""===e.modelChange?((i=e.object)&&!I(i)&&e.propertyName&&(i=ff(e.object,e.propertyName)),I(i)&&"number"===typeof n&&(e=e.newValue,t?L(i,n):P(i,n,e))):x("unknown ChangedEvent.Insert modelChange: "+e.toString())}else e.change===In?(n=e.oldParam,"nodeDataArray"===e.modelChange?(e=e.oldValue,N(e)&&"number"===typeof n&&(i=this.pa(e),t?(this.Fc[n]!==e&&P(this.Fc,n,e),void 0!==i&&this.cb.add(i,e)):(this.Fc[n]===e&&L(this.Fc,n),void 0!==i&&this.cb.remove(i)))):""===e.modelChange?((i=e.object)&&!I(i)&&e.propertyName&&(i=ff(e.object,e.propertyName)),I(i)&&"number"===typeof n&&(e=e.oldValue,t?P(i,n,e):L(i,n))):x("unknown ChangedEvent.Remove modelChange: "+e.toString())):e.change!==Sn&&x("unknown ChangedEvent: "+e.toString())},n.Aa=function(e){return this.undoManager.Aa(e)},n.Za=function(e){return this.undoManager.Za(e)},n.uf=function(){return this.undoManager.uf()},Hh.prototype.commit=function(e,t){void 0===t&&(t="");var n=this.skipsUndoManager;null===t&&(this.skipsUndoManager=!0,t=""),this.undoManager.Aa(t);var i=!1;try{e(this),i=!0}finally{i?this.undoManager.Za(t):this.undoManager.uf(),this.skipsUndoManager=n}},n=Hh.prototype,n.Ea=function(e,t){void 0===t&&(t=""),nf(this,"SourceChanged",Sn,t,e,null,null)},n.pa=function(e){if(null!==e){var t=this.li;if(""!==t&&(t=ff(e,t),void 0!==t)){if(af(t))return t;x("Key value for node data "+e+" is not a number or a string: "+t)}}},n.vm=function(e,t){if(null!==e){var n=this.li;if(""!==n)if(this.Qb(e)){var i=ff(e,n);i!==t&&null===this.Rb(t)&&(pf(e,n,t),void 0!==i&&this.cb.remove(i),this.cb.add(t,e),nf(this,"nodeKey",Tn,n,e,i,t),"string"===typeof n&&this.Ea(e,n),this.nq(i,t))}else pf(e,n,t)}},n.Qb=function(e){var t=this.pa(e);return void 0!==t&&this.cb.J(t)===e},n.Rb=function(e){return null===e&&x("Model.findNodeDataForKey:key must not be null"),void 0!==e&&af(e)?this.cb.J(e):null},n.ht=function(e){if(null!==e){var t=this.li;if(""!==t){var n=this.pa(e);if(void 0===n||this.cb.contains(n)){var i=this.ol;if(null!==i&&(n=i(this,e),void 0!==n&&null!==n&&!this.cb.contains(n)))return void pf(e,t,n);if("string"===typeof n){for(i=2;this.cb.contains(n+i);)i++;pf(e,t,n+i)}else if(void 0===n||"number"===typeof n){for(n=-this.cb.count-1;this.cb.contains(n);)n--;pf(e,t,n)}}}}},n.hf=function(e){null!==e&&(se(e),this.Qb(e)||rf(this,e,!0))},n.ky=function(e){if(I(e))for(var t=e.length,n=0;n<t;n++)this.hf(e[n]);else for(e=e.iterator;e.next();)this.hf(e.value)},n.om=function(e){null!==e&&of(this,e,!0)},n.Oz=function(e){if(I(e))for(var t=e.length,n=0;n<t;n++)this.om(e[n]);else for(e=e.iterator;e.next();)this.om(e.value)},n.Ez=function(e){if(I(e)){for(var t=new re(this.cb.iteratorKeys),n=new re,i=e.length,a=0;a<i;a++){var r=e[a],o=this.pa(r);if(void 0!==o){n.add(o);var s=this.Rb(o);null!==s?this.Qj(s,r):(s={},this.vm(s,o),this.Qj(s,r),this.hf(s))}else this.hf(r),n.add(this.pa(r))}for(e=t.iterator;e.next();)t=e.value,n.contains(t)||(t=this.Rb(t))&&this.om(t)}},n.nq=function(e,t){void 0!==t&&(e=uf(this,e),e instanceof re&&this.Ef.add(t,e))},n.Wv=function(){},n.rm=function(){},n.qm=function(){},n.sq=function(){},n.Lu=function(e){void 0===e?this.Ef.clear():this.Ef.remove(e)},Hh.prototype.copyNodeData=function(e){if(null===e)return null;var t=this.Ik;return e=null!==t?t(e,this):cf(this,e,!0),N(e)&&oe(e),e},Hh.prototype.setDataProperty=function(e,t,n){if(this.Qb(e)){if(t===this.nodeKeyProperty)this.vm(e,n);else if(t===this.nodeCategoryProperty)return void this.pq(e,n)}else!mf&&e instanceof Yo&&(mf=!0,S('Model.setDataProperty is modifying a GraphObject, "'+e.toString()+'"'),S("  Is that really your intent?"));var i=ff(e,t);i!==n&&(pf(e,t,n),this.mt(e,t,i,n))},n=Hh.prototype,n.set=function(e,t,n){this.setDataProperty(e,t,n)},n.Qj=function(e,t){if(t){var n,i=this.Qb(e);for(n in t)"__gohashid"===n||i&&n===this.nodeKeyProperty||this.setDataProperty(e,n,t[n])}},n.gy=function(e,t){this.Ys(e,-1,t)},n.Ys=function(e,t,n){t<0&&(t=e.length),P(e,t,n),nf(this,"",Nn,"",e,null,n,null,t)},n.xv=function(e,t){void 0===t&&(t=-1),e===this.Fc&&x("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===t&&(t=e.length-1);var n=e[t];L(e,t),nf(this,"",In,"",e,n,null,t,null)},n.Vs=function(e){if(null===e)return"";var t=this.wj;return""===t?"":(t=ff(e,t),void 0===t?"":"string"===typeof t?t:(x("getCategoryForNodeData found a non-string category for "+e+": "+t),""))},n.pq=function(e,t){if(null!==e){var n=this.wj;if(""!==n)if(this.Qb(e)){var i=ff(e,n);void 0===i&&(i=""),i!==t&&(pf(e,n,t),nf(this,"nodeCategory",Tn,n,e,i,t))}else pf(e,n,t)}},n.fm=function(){return!1},n.ck=function(){return!1},n.em=function(){return!1},n.dt=function(){return!1},n.dk=function(){return!1},p.Object.defineProperties(Hh.prototype,{name:{get:function(){return this.Ua},set:function(e){var t=this.Ua;t!==e&&(this.Ua=e,this.g("name",t,e))}},dataFormat:{get:function(){return this.mn},set:function(e){var t=this.mn;t!==e&&(this.mn=e,this.g("dataFormat",t,e))}},isReadOnly:{get:function(){return this.Lf},set:function(e){var t=this.Lf;t!==e&&(this.Lf=e,this.g("isReadOnly",t,e))}},modelData:{get:function(){return this.l},set:function(e){var t=this.l;t!==e&&(this.l=e,this.g("modelData",t,e),this.Ea(e))}},undoManager:{get:function(){return this.u},set:function(e){var t=this.u;t!==e&&(null!==t&&t.Bx(this),this.u=e,null!==e&&e.Sw(this))}},skipsUndoManager:{get:function(){return this.eh},set:function(e){this.eh=e}},nodeKeyProperty:{get:function(){return this.li},set:function(e){var t=this.li;t!==e&&(""===e&&x("Model.nodeKeyProperty may not be the empty string"),this.cb.count>0&&x("Cannot set Model.nodeKeyProperty when there is existing node data"),this.li=e,this.g("nodeKeyProperty",t,e))}},makeUniqueKeyFunction:{get:function(){return this.ol},set:function(e){var t=this.ol;t!==e&&(this.ol=e,this.g("makeUniqueKeyFunction",t,e))}},nodeDataArray:{get:function(){return this.Fc},set:function(e){var t=this.Fc;if(t!==e){this.cb.clear(),this.Wv();for(var n=e.length,i=0;i<n;i++){var a=e[i];if(!N(a))return void x("Model.nodeDataArray must only contain Objects, not: "+a);se(a)}for(this.Fc=e,i=new ie,a=0;a<n;a++){var r=e[a],o=this.pa(r);void 0===o||null!==this.cb.J(o)?i.add(r):this.cb.add(o,r)}for(i=i.iterator;i.next();)a=i.value,this.ht(a),r=this.pa(a),void 0!==r&&this.cb.add(r,a);for(nf(this,"nodeDataArray",Tn,"nodeDataArray",this,t,e),t=0;t<n;t++)i=e[t],this.rm(i),this.qm(i);this.Lu(),Array.isArray(e)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.Ik},set:function(e){var t=this.Ik;t!==e&&(this.Ik=e,this.g("copyNodeDataFunction",t,e))}},copiesArrays:{get:function(){return this.cn},set:function(e){var t=this.cn;t!==e&&(this.cn=e,this.g("copiesArrays",t,e))}},copiesArrayObjects:{get:function(){return this.bn},set:function(e){var t=this.bn;t!==e&&(this.bn=e,this.g("copiesArrayObjects",t,e))}},copiesKey:{get:function(){return this.en},set:function(e){var t=this.en;t!==e&&(this.en=e,this.g("copiesKey",t,e))}},afterCopyFunction:{get:function(){return this.Mm},set:function(e){var t=this.Mm;t!==e&&(this.Mm=e,this.g("afterCopyFunction",t,e))}},nodeCategoryProperty:{get:function(){return this.wj},set:function(e){var t=this.wj;t!==e&&(this.wj=e,this.g("nodeCategoryProperty",t,e))}}}),p.Object.defineProperties(Hh,{type:{get:function(){return"Model"}}}),Hh.prototype.setCategoryForNodeData=Hh.prototype.pq,Hh.prototype.getCategoryForNodeData=Hh.prototype.Vs,Hh.prototype.removeArrayItem=Hh.prototype.xv,Hh.prototype.insertArrayItem=Hh.prototype.Ys,Hh.prototype.addArrayItem=Hh.prototype.gy,Hh.prototype.assignAllDataProperties=Hh.prototype.Qj,Hh.prototype.set=Hh.prototype.set,Hh.prototype.clearUnresolvedReferences=Hh.prototype.Lu,Hh.prototype.mergeNodeDataArray=Hh.prototype.Ez,Hh.prototype.removeNodeDataCollection=Hh.prototype.Oz,Hh.prototype.removeNodeData=Hh.prototype.om,Hh.prototype.addNodeDataCollection=Hh.prototype.ky,Hh.prototype.addNodeData=Hh.prototype.hf,Hh.prototype.makeNodeDataKeyUnique=Hh.prototype.ht,Hh.prototype.findNodeDataForKey=Hh.prototype.Rb,Hh.prototype.containsNodeData=Hh.prototype.Qb,Hh.prototype.setKeyForNodeData=Hh.prototype.vm,Hh.prototype.getKeyForNodeData=Hh.prototype.pa,Hh.prototype.updateTargetBindings=Hh.prototype.Ea,Hh.prototype.commit=Hh.prototype.commit,Hh.prototype.rollbackTransaction=Hh.prototype.uf,Hh.prototype.commitTransaction=Hh.prototype.Za,Hh.prototype.startTransaction=Hh.prototype.Aa,Hh.prototype.raiseDataChanged=Hh.prototype.mt,Hh.prototype.raiseChanged=Hh.prototype.g,Hh.prototype.raiseChangedEvent=Hh.prototype.ab,Hh.prototype.removeChangedListener=Hh.prototype.pk,Hh.prototype.addChangedListener=Hh.prototype.rh,Hh.prototype.writeJsonValue=Hh.prototype.zm,Hh.prototype.replaceJsonObjects=Hh.prototype.pm,Hh.prototype.applyIncrementalJSON=Hh.prototype.ny,Hh.prototype.applyIncrementalJson=Hh.prototype.Uw,Hh.prototype.toJSON=Hh.prototype.toJSON,Hh.prototype.toJson=Hh.prototype.rq,Hh.prototype.toIncrementalJSON=Hh.prototype.Xz,Hh.prototype.toIncrementalJson=Hh.prototype.Ox,Hh.prototype.computeJsonDifference=Hh.prototype.uy,Hh.prototype.clear=Hh.prototype.clear;var mf=!1,gf={};function vf(e,t,n){oe(this),this.v=!1,void 0===e&&(e=""),void 0===t&&(t=e),void 0===n&&(n=null),this.l=-1,this.Qd=null,this.Ol=e,this.Nl=this.wp=0,this.ws=null,this.Wn=!1,this.El=t,this.an=n,this.so=bf,this.Vm=null,this.Zt=new re}function yf(e,t,n){return e=e.sourceName,null===e||""===e?t:"/"===e?n.part:"."===e?n:".."===e?n.panel:t.$a(e)}Hh.className="Model",Hh.fromJSON=Hh.fromJson=function(e,t){void 0===t&&(t=null);var n=null;if("string"===typeof e)try{n=v.JSON.parse(e)}catch(o){}else"object"===i(e)?n=e:x("Unable to construct a Model from: "+e);if(null===t){e=null;var a=n["class"];if("string"===typeof a)try{var r=null;0===a.indexOf("go.")?(a=a.substr(3),r=gf[a]?gf[a]:null):(r=gf[a]?gf[a]:null,void 0===r&&(r=v[a])),"function"===typeof r&&(e=new r)}catch(o){}null===e||e instanceof Hh?t=e:x("Unable to construct a Model of declared class: "+n["class"])}return null===t&&(t=Hh.constructGraphLinksModel()),t.kq(n),t.wv(n),t},Hh.safePropertyValue=ff,Hh.safePropertySet=pf,gf.Brush=Vs,gf.ChangedEvent=kn,gf.Geometry=Jt,gf.GraphObject=Yo,gf.Margin=tt,gf.Panel=Tl,gf.Point=ge,gf.Rect=Ue,gf.Size=Be,gf.Spot=$t,gf.Transaction=Dn,gf.UndoManager=Pn,vf.prototype.copy=function(){var e=new vf;return e.Ol=this.Ol,e.wp=this.wp,e.Nl=this.Nl,e.ws=this.ws,e.Wn=this.Wn,e.El=this.El,e.an=this.an,e.so=this.so,e.Vm=this.Vm,e},n=vf.prototype,n.fb=function(e){e.classType===vf&&(this.mode=e)},n.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.Xi?" "+this.Xi:"")+" "+this.mode.name+")"},n.freeze=function(){return this.v=!0,this},n.ha=function(){return this.v=!1,this},n.tx=function(e){return void 0===e&&(e=null),this.mode=Af,this.backConverter=e,this},n.hq=function(e){return void 0===e&&(e=""),this.sourceName=e,this.isToModel=!1,this},n.Gz=function(){return this.sourceName=null,this.isToModel=!0,this},n.Xv=function(e,t,n){var i=this.El;if(void 0===n||""===i||i===n){n=this.Ol;var a=this.an;if(null===a&&""===n)S("Binding error: target property is the empty string: "+this.toString());else{var r=t;if(""!==i&&(r=ff(t,i)),void 0!==r)if(null===a)""!==n&&pf(e,n,r);else try{if(""!==n){var o=a(r,e);pf(e,n,o)}else a(r,e)}catch(s){}}}},n.uq=function(e,t,n,i){if(this.so===Af){var a=this.Ol;if(void 0===n||a===n){n=this.El;var r=this.Vm,o=e;if(""!==a&&(o=ff(e,a)),void 0!==o&&!this.Zt.contains(e))try{this.Zt.add(e);var s=null!==i?i.diagram:null,l=null!==s?s.model:null;if(null===r){if(""!==n)null!==l?l.setDataProperty(t,n,o):pf(t,n,o);else if(null!==l&&null!==i&&i.itemIndex>=0&&null!==i.panel&&Array.isArray(i.panel.itemArray)){var u=i.itemIndex,c=i.panel.itemArray;l.xv(c,u),l.Ys(c,u,o)}}else try{if(""!==n){var d=r(o,t,l);null!==l?l.setDataProperty(t,n,d):pf(t,n,d)}else{var h=r(o,t,l);if(void 0!==h&&null!==l&&null!==i&&i.itemIndex>=0&&null!==i.panel&&Array.isArray(i.panel.itemArray)){var f=i.itemIndex,p=i.panel.itemArray;l.xv(p,f),l.Ys(p,f,h)}}}catch(m){}}finally{this.Zt.remove(e)}}}},p.Object.defineProperties(vf.prototype,{Xi:{get:function(){return this.l},set:function(e){this.v&&C(this),this.l=e}},targetProperty:{get:function(){return this.Ol},set:function(e){this.v&&C(this),this.Ol=e}},sourceName:{get:function(){return this.ws},set:function(e){this.v&&C(this),this.ws=e,null!==e&&(this.Wn=!1)}},isToModel:{get:function(){return this.Wn},set:function(e){this.v&&C(this),this.Wn=e}},sourceProperty:{get:function(){return this.El},set:function(e){this.v&&C(this),this.El=e}},converter:{get:function(){return this.an},set:function(e){this.v&&C(this),this.an=e}},backConverter:{get:function(){return this.Vm},set:function(e){this.v&&C(this),this.Vm=e}},mode:{get:function(){return this.so},set:function(e){this.v&&C(this),this.so=e}}}),vf.prototype.updateSource=vf.prototype.uq,vf.prototype.updateTarget=vf.prototype.Xv,vf.prototype.ofModel=vf.prototype.Gz,vf.prototype.ofObject=vf.prototype.hq,vf.prototype.makeTwoWay=vf.prototype.tx;var bf=new Y(vf,"OneWay",1),Af=new Y(vf,"TwoWay",2);function wf(e,t){Hh.call(this),this.Dt=',\n  "insertedLinkKeys": ',this.fw=',\n  "modifiedLinkData": ',this.Ft=',\n  "removedLinkKeys": ',this.Oc=[],this.Mf=new re,this.qb=new me,this.hi="",this.$i=this.Hk=this.pl=null,this.Te="from",this.Ue="to",this.tj=this.sj="",this.rj="category",this.Hd="",this.tl="isGroup",this.qe="group",this.dn=!1,void 0!==e&&(this.nodeDataArray=e),void 0!==t&&(this.linkDataArray=t)}function xf(e,t,n){if(null!==t&&(e=n?e.Te:e.Ue,""!==e&&(e=ff(t,e),void 0!==e))){if(af(e))return e;x((n?"FromKey":"ToKey")+" value for link data "+t+" is not a number or a string: "+e)}}function Cf(e,t,n,i){if(null===n&&(n=void 0),null!==t){var a=i?e.Te:e.Ue;if(""!==a)if(n=e.gm(n),e.Ae(t)){var r=ff(t,a);r!==n&&(lf(e,r,t),pf(t,a,n),null===e.Rb(n)&&sf(e,n,t),nf(e,i?"linkFromKey":"linkToKey",Tn,a,t,r,n),"string"===typeof a&&e.Ea(t,a))}else pf(t,a,n)}}function kf(e,t,n){return null===t?"":(e=n?e.sj:e.tj,""===e?"":(t=ff(t,e),void 0===t?"":t))}function Sf(e,t,n,i){if(null!==t){var a=i?e.sj:e.tj;if(""!==a)if(e.Ae(t)){var r=ff(t,a);void 0===r&&(r=""),r!==n&&(pf(t,a,n),nf(e,i?"linkFromPortId":"linkToPortId",Tn,a,t,r,n),"string"===typeof a&&e.Ea(t,a))}else pf(t,a,n)}}function Tf(e,t,n){if(""!==e.linkKeyProperty){var i=e.ic(t);if(void 0!==i&&e.qb.J(i)===t)return;if(e.eq(t),i=e.ic(t),void 0===i)return void x("GraphLinksModel.makeLinkDataKeyUnique failed on "+t+". Data not added to model.");e.qb.add(i,t)}e.Mf.add(t),i=null,n&&(i=e.Oc.length,e.Oc.splice(i,0,t)),nf(e,"linkDataArray",Nn,"linkDataArray",e,null,t,null,i),If(e,t)}function Nf(e,t,n){e.Mf.remove(t);var i=e.ic(t);if(void 0!==i&&e.qb.remove(i),i=null,n){if(i=e.Oc.indexOf(t),i<0)return;e.Oc.splice(i,1)}if(nf(e,"linkDataArray",In,"linkDataArray",e,t,null,i,null),n=xf(e,t,!0),lf(e,n,t),n=xf(e,t,!1),lf(e,n,t),i=e.pg(t),Array.isArray(i))for(var a=i.length,r=0;r<a;r++)n=i[r],lf(e,n,t)}function If(e,t){var n=xf(e,t,!0);n=e.gm(n),null===e.Rb(n)&&sf(e,n,t),n=xf(e,t,!1),n=e.gm(n),null===e.Rb(n)&&sf(e,n,t);var i=e.pg(t);if(Array.isArray(i))for(var a=i.length,r=0;r<a;r++)n=i[r],null===e.Rb(n)&&sf(e,n,t)}vf.className="Binding",vf.parseEnum=function(e,t){return function(n){return n=W(e,n),null===n?t:n}},vf.toString=R,vf.OneWay=bf,vf.TwoWay=Af,f(wf,Hh),wf.constructGraphLinksModel=Hh.constructGraphLinksModel,wf.prototype.cloneProtected=function(e){Hh.prototype.cloneProtected.call(this,e),e.hi=this.hi,e.pl=this.pl,e.Hk=this.Hk,e.Te=this.Te,e.Ue=this.Ue,e.sj=this.sj,e.tj=this.tj,e.rj=this.rj,e.Hd=this.Hd,e.tl=this.tl,e.qe=this.qe,e.dn=this.dn},n=wf.prototype,n.clear=function(){Hh.prototype.clear.call(this),this.Oc=[],this.qb.clear(),this.Mf.clear()},n.toString=function(e){if(void 0===e&&(e=0),e>=2)return this.rq();var t=(""!==this.name?this.name:"")+" GraphLinksModel";if(e>0){t+="\n node data:",e=this.nodeDataArray;var n,i=e.length;for(n=0;n<i;n++){var a=e[n];t+=" "+this.pa(a)+":"+R(a)}for(t+="\n link data:",e=this.linkDataArray,i=e.length,n=0;n<i;n++)a=e[n],t+=" "+xf(this,a,!0)+"--\x3e"+xf(this,a,!1)}return t},n.sk=function(){var e=Hh.prototype.sk.call(this),t="";return"category"!==this.linkCategoryProperty&&"string"===typeof this.linkCategoryProperty&&(t+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"===typeof this.linkKeyProperty&&(t+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"===typeof this.linkFromKeyProperty&&(t+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"===typeof this.linkToKeyProperty&&(t+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"===typeof this.linkFromPortIdProperty&&(t+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"===typeof this.linkToPortIdProperty&&(t+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"===typeof this.linkLabelKeysProperty&&(t+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"===typeof this.nodeIsGroupProperty&&(t+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"===typeof this.nodeGroupKeyProperty&&(t+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),e+t},n.kq=function(e){Hh.prototype.kq.call(this,e),e.linkKeyProperty&&(this.linkKeyProperty=e.linkKeyProperty),e.linkFromKeyProperty&&(this.linkFromKeyProperty=e.linkFromKeyProperty),e.linkToKeyProperty&&(this.linkToKeyProperty=e.linkToKeyProperty),e.linkFromPortIdProperty&&(this.linkFromPortIdProperty=e.linkFromPortIdProperty),e.linkToPortIdProperty&&(this.linkToPortIdProperty=e.linkToPortIdProperty),e.linkCategoryProperty&&(this.linkCategoryProperty=e.linkCategoryProperty),e.linkLabelKeysProperty&&(this.linkLabelKeysProperty=e.linkLabelKeysProperty),e.nodeIsGroupProperty&&(this.nodeIsGroupProperty=e.nodeIsGroupProperty),e.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=e.nodeGroupKeyProperty)},n.$v=function(){var e=Hh.prototype.$v.call(this),t=',\n  "linkDataArray": '+Jh(this,this.linkDataArray,!0);return e+t},n.wv=function(e){Hh.prototype.wv.call(this,e),e=e.linkDataArray,Array.isArray(e)&&(this.pm(e),this.linkDataArray=e)},n.vq=function(e){if(!(e instanceof wf))return x("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";var t=Hh.prototype.vq.call(this,e);Kh(this,e,"linkKeyProperty"),Kh(this,e,"linkFromKeyProperty"),Kh(this,e,"linkToKeyProperty"),Kh(this,e,"linkLabelKeysProperty"),Kh(this,e,"nodeIsGroupProperty"),Kh(this,e,"nodeGroupKeyProperty");for(var n=new re,i=new re,a=(new re).addAll(this.qb.iteratorKeys),r=new me,o=e.linkDataArray,s=o.length,l=0;l<s;l++){var u=o[l],c=e.ic(u);if(void 0!==c){a.remove(c);var d=this.wh(c);null===d?(n.add(c),i.add(u)):Wh(this,d,u,r)||i.add(u)}else this.eq(u),c=this.ic(u),n.add(c),i.add(u)}return e=t,n.count>0&&(e+=this.Dt+Jh(this,n.Na(),!0)),i.count>0&&(e+=this.fw+Jh(this,i.Na(),!0)),a.count>0&&(e+=this.Ft+Jh(this,a.Na(),!0)),e},n.zt=function(e,t){var n=Hh.prototype.zt.call(this,e,t),i=this,a=new re,r=new re,o=new re;e.changes.each((function(e){e.model===i&&("linkDataArray"===e.modelChange?e.change===Nn?a.add(e.newValue):e.change===In&&o.add(e.oldValue):i.Ae(e.object)&&r.add(e.object))}));var s=new re;a.each((function(e){s.add(i.ic(e)),t||r.add(e)}));var l=new re;return o.each((function(e){l.add(i.ic(e)),t&&r.add(e)})),e=n,s.count>0&&(e+=(t?this.Ft:this.Dt)+Jh(this,s.Na(),!0)),r.count>0&&(e+=this.fw+Jh(this,r.Na(),!0)),l.count>0&&(e+=(t?this.Dt:this.Ft)+Jh(this,l.Na(),!0)),e},n.vv=function(e){Hh.prototype.vv.call(this,e);var t=e.insertedLinkKeys;if(Array.isArray(t))for(var n=t.length,i=0;i<n;i++){var a=t[i],r=this.wh(a);null===r&&(r=this.Op({}),this.vt(r,a),this.Ai(r))}if(t=e.modifiedLinkData,Array.isArray(t))for(n=t.length,i=0;i<n;i++)if(a=t[i],r=this.ic(a),r=this.wh(r),null!==r)for(var o in a)"__gohashid"!==o&&o!==this.linkKeyProperty&&this.setDataProperty(r,o,a[o]);if(e=e.removedLinkKeys,Array.isArray(e))for(o=e.length,t=0;t<o;t++)n=this.wh(e[t]),null!==n&&this.nm(n)},n.Rj=function(e,t){if(e.change===Nn){var n=e.newParam;if("linkDataArray"===e.modelChange){if(e=e.newValue,N(e)&&"number"===typeof n){var i=this.ic(e);t?(this.Mf.remove(e),this.Oc[n]===e&&this.Oc.splice(n,1),void 0!==i&&this.qb.remove(i)):(this.Mf.add(e),this.Oc[n]!==e&&this.Oc.splice(n,0,e),void 0!==i&&this.qb.add(i,e))}return}if("linkLabelKeys"===e.modelChange)return i=this.pg(e.object),void(Array.isArray(i)&&"number"===typeof n&&(t?(n=i.indexOf(e.newValue),n>=0&&i.splice(n,1)):i.indexOf(e.newValue)<0&&i.splice(n,0,e.newValue)))}else if(e.change===In){if(n=e.oldParam,"linkDataArray"===e.modelChange)return e=e.oldValue,void(N(e)&&"number"===typeof n&&(i=this.ic(e),t?(this.Mf.add(e),this.Oc[n]!==e&&this.Oc.splice(n,0,e),void 0!==i&&this.qb.add(i,e)):(this.Mf.remove(e),this.Oc[n]===e&&this.Oc.splice(n,1),void 0!==i&&this.qb.remove(i))));if("linkLabelKeys"===e.modelChange)return i=this.pg(e.object),void(Array.isArray(i)&&"number"===typeof n&&(t?i.indexOf(e.newValue)<0&&i.splice(n,0,e.newValue):(n=i.indexOf(e.newValue),n>=0&&i.splice(n,1))))}Hh.prototype.Rj.call(this,e,t)},n.gm=function(e){if(void 0!==e){var t=this.$i;if(null!==t){var n=this.Rb(e);null===n&&(n=this.copyNodeData(t),pf(n,this.nodeKeyProperty,e),this.hf(n))}return e}},n.bz=function(e){return xf(this,e,!0)},n.Gx=function(e,t){Cf(this,e,t,!0)},n.gz=function(e){return xf(this,e,!1)},n.Kx=function(e,t){Cf(this,e,t,!1)},n.cz=function(e){return kf(this,e,!0)},n.Hx=function(e,t){Sf(this,e,t,!0)},n.hz=function(e){return kf(this,e,!1)},n.Lx=function(e,t){Sf(this,e,t,!1)},n.pg=function(e){if(null===e)return Df;var t=this.Hd;return""===t?Df:(e=ff(e,t),void 0===e?Df:e)},n.Hv=function(e,t){if(null!==e){var n=this.Hd;if(""!==n)if(this.Ae(e)){var i=ff(e,n);if(void 0===i&&(i=Df),i!==t){if(Array.isArray(i))for(var a=i.length,r=0;r<a;r++)lf(this,i[r],e);for(pf(e,n,t),a=t.length,r=0;r<a;r++){var o=t[r];null===this.Rb(o)&&sf(this,o,e)}nf(this,"linkLabelKeys",Tn,n,e,i,t),"string"===typeof n&&this.Ea(e,n)}}else pf(e,n,t)}},n.Gu=function(e,t){if(null!==t&&void 0!==t&&null!==e){var n=this.Hd;if(""!==n){var i=ff(e,n);if(void 0===i)n=[],n.push(t),this.Hv(e,n);else if(Array.isArray(i)){var a=i.indexOf(t);a>=0||(a=i.length,i.push(t),this.Ae(e)&&(null===this.Rb(t)&&sf(this,t,e),nf(this,"linkLabelKeys",Nn,n,e,null,t,null,a)))}else x(n+" property is not an Array; cannot addLabelKeyForLinkData: "+e)}}},n.Ax=function(e,t){if(null!==t&&void 0!==t&&null!==e){var n=this.Hd;if(""!==n){var i=ff(e,n);if(Array.isArray(i)){var a=i.indexOf(t);a<0||(i.splice(a,1),this.Ae(e)&&(lf(this,t,e),nf(this,"linkLabelKeys",In,n,e,t,null,a,null)))}else void 0!==i&&x(n+" property is not an Array; cannot removeLabelKeyforLinkData: "+e)}}},n.ic=function(e){if(null!==e){var t=this.hi;if(""!==t&&(t=ff(e,t),void 0!==t)){if(af(t))return t;x("Key value for link data "+e+" is not a number or a string: "+t)}}},n.vt=function(e,t){if(null!==e){var n=this.hi;if(""!==n)if(this.Ae(e)){var i=ff(e,n);i!==t&&null===this.wh(t)&&(pf(e,n,t),void 0!==i&&this.qb.remove(i),this.qb.add(t,e),nf(this,"linkKey",Tn,n,e,i,t),"string"===typeof n&&this.Ea(e,n))}else pf(e,n,t)}},n.wh=function(e){return null===e&&x("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==e&&af(e)?this.qb.J(e):null},n.eq=function(e){if(null!==e){var t=this.hi;if(""!==t){var n=this.ic(e);if(void 0===n||this.qb.contains(n)){var i=this.pl;if(null!==i&&(n=i(this,e),void 0!==n&&null!==n&&!this.qb.contains(n)))return void pf(e,t,n);if("string"===typeof n){for(i=2;this.qb.contains(n+i);)i++;pf(e,t,n+i)}else if(void 0===n||"number"===typeof n){for(n=-this.qb.count-1;this.qb.contains(n);)n--;pf(e,t,n)}}}}},n.Ae=function(e){return null!==e&&this.Mf.contains(e)},n.Ai=function(e){null!==e&&(se(e),this.Ae(e)||Tf(this,e,!0))},n.jy=function(e){if(Array.isArray(e))for(var t=e.length,n=0;n<t;n++)this.Ai(e[n]);else for(e=e.iterator;e.next();)this.Ai(e.value)},n.nm=function(e){null!==e&&Nf(this,e,!0)},n.Mz=function(e){if(Array.isArray(e))for(var t=e.length,n=0;n<t;n++)this.nm(e[n]);else for(e=e.iterator;e.next();)this.nm(e.value)},n.Dz=function(e){if(I(e)){for(var t=new re(this.qb.iteratorKeys),n=new re,i=e.length,a=0;a<i;a++){var r=e[a],o=this.ic(r);if(void 0!==o){n.add(o);var s=this.wh(o);null!==s?this.Qj(s,r):(s={},this.vt(s,o),this.Qj(s,r),this.Ai(s))}else this.Ai(r),n.add(this.ic(r))}for(e=t.iterator;e.next();)t=e.value,n.contains(t)||(t=this.wh(t))&&this.nm(t)}},n.Op=function(e){if(null===e)return null;var t=this.Hk;return e=null!==t?t(e,this):cf(this,e,!0),N(e)&&(oe(e),""!==this.Te&&pf(e,this.Te,void 0),""!==this.Ue&&pf(e,this.Ue,void 0),""!==this.Hd&&pf(e,this.Hd,[])),e},n.kv=function(e){if(null===e)return!1;var t=this.tl;return""!==t&&!!ff(e,t)},n.Ki=function(e){if(null!==e){var t=this.qe;if(""!==t&&(t=ff(e,t),void 0!==t)){if(af(t))return t;x("GroupKey value for node data "+e+" is not a number or a string: "+t)}}},n.ut=function(e,t){if(null===t&&(t=void 0),null!==e){var n=this.qe;if(""!==n)if(this.Qb(e)){var i=ff(e,n);i!==t&&(lf(this,i,e),pf(e,n,t),null===this.Rb(t)&&sf(this,t,e),nf(this,"nodeGroupKey",Tn,n,e,i,t),"string"===typeof n&&this.Ea(e,n))}else pf(e,n,t)}},wf.prototype.copyNodeData=function(e){return null===e?null:(e=Hh.prototype.copyNodeData.call(this,e),this.Vj||""===this.qe||void 0===ff(e,this.qe)||pf(e,this.qe,void 0),e)},wf.prototype.setDataProperty=function(e,t,n){if(this.Qb(e))if(t===this.nodeKeyProperty)this.vm(e,n);else{if(t===this.nodeCategoryProperty)return void this.pq(e,n);if(t===this.nodeGroupKeyProperty)return void this.ut(e,n)}else if(this.Ae(e)){if(t===this.linkFromKeyProperty)return void Cf(this,e,n,!0);if(t===this.linkToKeyProperty)return void Cf(this,e,n,!1);if(t===this.linkFromPortIdProperty)return void Sf(this,e,n,!0);if(t===this.linkToPortIdProperty)return void Sf(this,e,n,!1);if(t===this.linkKeyProperty)return void this.vt(e,n);if(t===this.linkCategoryProperty)return void this.tt(e,n);if(t===this.linkLabelKeysProperty)return void this.Hv(e,n)}var i=ff(e,t);i!==n&&(pf(e,t,n),this.mt(e,t,i,n))},n=wf.prototype,n.Qj=function(e,t){if(t){var n,i=this.Qb(e),a=this.Ae(e);for(n in t)"__gohashid"===n||i&&n===this.nodeKeyProperty||a&&n===this.linkKeyProperty||this.setDataProperty(e,n,t[n])}},n.nq=function(e,t){Hh.prototype.nq.call(this,e,t);for(var n=this.cb.iterator;n.next();)this.Bv(n.value,e,t);for(n=this.Mf.iterator;n.next();){var i=n.value,a=e,r=t;if(xf(this,i,!0)===a){var o=this.Te;pf(i,o,r),nf(this,"linkFromKey",Tn,o,i,a,r),"string"===typeof o&&this.Ea(i,o)}if(xf(this,i,!1)===a&&(o=this.Ue,pf(i,o,r),nf(this,"linkToKey",Tn,o,i,a,r),"string"===typeof o&&this.Ea(i,o)),o=this.pg(i),Array.isArray(o))for(var s=o.length,l=this.Hd,u=0;u<s;u++)o[u]===a&&(o[u]=r,nf(this,"linkLabelKeys",Nn,l,i,a,r,u,u))}},n.Bv=function(e,t,n){if(this.Ki(e)===t){var i=this.qe;pf(e,i,n),nf(this,"nodeGroupKey",Tn,i,e,t,n),"string"===typeof i&&this.Ea(e,i)}},n.Wv=function(){Hh.prototype.Wv.call(this);for(var e=this.linkDataArray,t=e.length,n=0;n<t;n++)If(this,e[n])},n.rm=function(e){Hh.prototype.rm.call(this,e),e=this.pa(e);var t=uf(this,e);if(null!==t){var n=O();for(t=t.iterator;t.next();){var i=t.value;if(this.Qb(i)){if(this.Ki(i)===e){var a=this.qe;nf(this,"nodeGroupKey",Tn,a,i,e,e),"string"===typeof a&&this.Ea(i,a),n.push(i)}}else if(xf(this,i,!0)===e&&(a=this.Te,nf(this,"linkFromKey",Tn,a,i,e,e),"string"===typeof a&&this.Ea(i,a),n.push(i)),xf(this,i,!1)===e&&(a=this.Ue,nf(this,"linkToKey",Tn,a,i,e,e),"string"===typeof a&&this.Ea(i,a),n.push(i)),a=this.pg(i),Array.isArray(a))for(var r=a.length,o=this.Hd,s=0;s<r;s++)a[s]===e&&(nf(this,"linkLabelKeys",Nn,o,i,e,e,s,s),n.push(i))}for(t=0;t<n.length;t++)lf(this,e,n[t]);M(n)}},n.qm=function(e){Hh.prototype.qm.call(this,e);var t=this.Ki(e);null===this.Rb(t)&&sf(this,t,e)},n.sq=function(e){Hh.prototype.sq.call(this,e);var t=this.Ki(e);lf(this,t,e)},n.av=function(e){if(null===e)return"";var t=this.rj;return""===t?"":(t=ff(e,t),void 0===t?"":"string"===typeof t?t:(x("getCategoryForLinkData found a non-string category for "+e+": "+t),""))},wf.prototype.getLinkCategoryForData=function(e){return this.av(e)},wf.prototype.tt=function(e,t){if(null!==e){var n=this.rj;if(""!==n)if(this.Ae(e)){var i=ff(e,n);void 0===i&&(i=""),i!==t&&(pf(e,n,t),nf(this,"linkCategory",Tn,n,e,i,t),"string"===typeof n&&this.Ea(e,n))}else pf(e,n,t)}},wf.prototype.setLinkCategoryForData=function(e,t){this.tt(e,t)},wf.prototype.ck=function(){return!0},wf.prototype.em=function(){return!0},wf.prototype.dt=function(){return!0},wf.prototype.dk=function(){return!0},p.Object.defineProperties(wf.prototype,{archetypeNodeData:{get:function(){return this.$i},set:function(e){var t=this.$i;t!==e&&(this.$i=e,this.g("archetypeNodeData",t,e))}},linkFromKeyProperty:{get:function(){return this.Te},set:function(e){var t=this.Te;t!==e&&(this.Te=e,this.g("linkFromKeyProperty",t,e))}},linkToKeyProperty:{get:function(){return this.Ue},set:function(e){var t=this.Ue;t!==e&&(this.Ue=e,this.g("linkToKeyProperty",t,e))}},linkFromPortIdProperty:{get:function(){return this.sj},set:function(e){var t=this.sj;t!==e&&(this.sj=e,this.g("linkFromPortIdProperty",t,e))}},linkToPortIdProperty:{get:function(){return this.tj},set:function(e){var t=this.tj;t!==e&&(this.tj=e,this.g("linkToPortIdProperty",t,e))}},linkLabelKeysProperty:{get:function(){return this.Hd},set:function(e){var t=this.Hd;t!==e&&(this.Hd=e,this.g("linkLabelKeysProperty",t,e))}},linkDataArray:{get:function(){return this.Oc},set:function(e){var t=this.Oc;if(t!==e){this.qb.clear();for(var n=e.length,i=0;i<n;i++){var a=e[i];if(!N(a))return void x("GraphLinksModel.linkDataArray must only contain Objects, not: "+a);se(a)}if(this.Oc=e,""!==this.linkKeyProperty){for(i=new ie,a=0;a<n;a++){var r=e[a],o=this.ic(r);void 0===o||null!==this.qb.J(o)?i.add(r):this.qb.add(o,r)}for(i=i.iterator;i.next();)a=i.value,this.eq(a),r=this.ic(a),void 0!==r&&this.qb.add(r,a)}for(i=new re,a=0;a<n;a++)i.add(e[a]);for(this.Mf=i,nf(this,"linkDataArray",Tn,"linkDataArray",this,t,e),t=0;t<n;t++)If(this,e[t])}}},linkKeyProperty:{get:function(){return this.hi},set:function(e){var t=this.hi;if(t!==e){this.hi=e,this.qb.clear();for(var n=this.linkDataArray.length,i=0;i<n;i++){var a=this.linkDataArray[i],r=this.ic(a);void 0===r&&(this.eq(a),r=this.ic(a)),void 0!==r&&this.qb.add(r,a)}this.g("linkKeyProperty",t,e)}}},makeUniqueLinkKeyFunction:{get:function(){return this.pl},set:function(e){var t=this.pl;t!==e&&(this.pl=e,this.g("makeUniqueLinkKeyFunction",t,e))}},copyLinkDataFunction:{get:function(){return this.Hk},set:function(e){var t=this.Hk;t!==e&&(this.Hk=e,this.g("copyLinkDataFunction",t,e))}},nodeIsGroupProperty:{get:function(){return this.tl},set:function(e){var t=this.tl;t!==e&&(this.tl=e,this.g("nodeIsGroupProperty",t,e))}},nodeGroupKeyProperty:{get:function(){return this.qe},set:function(e){var t=this.qe;t!==e&&(this.qe=e,this.g("nodeGroupKeyProperty",t,e))}},Vj:{get:function(){return this.dn},set:function(e){this.dn!==e&&(this.dn=e)}},linkCategoryProperty:{get:function(){return this.rj},set:function(e){var t=this.rj;t!==e&&(this.rj=e,this.g("linkCategoryProperty",t,e))}}}),p.Object.defineProperties(wf,{type:{get:function(){return"GraphLinksModel"}}}),wf.prototype.setCategoryForLinkData=wf.prototype.tt,wf.prototype.getCategoryForLinkData=wf.prototype.av,wf.prototype.assignAllDataProperties=wf.prototype.Qj,wf.prototype.setGroupKeyForNodeData=wf.prototype.ut,wf.prototype.getGroupKeyForNodeData=wf.prototype.Ki,wf.prototype.isGroupForNodeData=wf.prototype.kv,wf.prototype.copyLinkData=wf.prototype.Op,wf.prototype.mergeLinkDataArray=wf.prototype.Dz,wf.prototype.removeLinkDataCollection=wf.prototype.Mz,wf.prototype.removeLinkData=wf.prototype.nm,wf.prototype.addLinkDataCollection=wf.prototype.jy,wf.prototype.addLinkData=wf.prototype.Ai,wf.prototype.containsLinkData=wf.prototype.Ae,wf.prototype.makeLinkDataKeyUnique=wf.prototype.eq,wf.prototype.findLinkDataForKey=wf.prototype.wh,wf.prototype.setKeyForLinkData=wf.prototype.vt,wf.prototype.getKeyForLinkData=wf.prototype.ic,wf.prototype.removeLabelKeyForLinkData=wf.prototype.Ax,wf.prototype.addLabelKeyForLinkData=wf.prototype.Gu,wf.prototype.setLabelKeysForLinkData=wf.prototype.Hv,wf.prototype.getLabelKeysForLinkData=wf.prototype.pg,wf.prototype.setToPortIdForLinkData=wf.prototype.Lx,wf.prototype.getToPortIdForLinkData=wf.prototype.hz,wf.prototype.setFromPortIdForLinkData=wf.prototype.Hx,wf.prototype.getFromPortIdForLinkData=wf.prototype.cz,wf.prototype.setToKeyForLinkData=wf.prototype.Kx,wf.prototype.getToKeyForLinkData=wf.prototype.gz,wf.prototype.setFromKeyForLinkData=wf.prototype.Gx,wf.prototype.getFromKeyForLinkData=wf.prototype.bz,wf.prototype.clear=wf.prototype.clear;var Df=Object.freeze([]);function Pf(e){Hh.call(this),this.re="parent",this.fn=!1,this.zj="parentLinkCategory",void 0!==e&&(this.nodeDataArray=e)}function Lf(){lh.call(this),this.ww=this.zn=this.Yb=0,this.er=360,this.vw=zf,this.fj=0,this.hw=new ge,this.Rq=this.Rd=0,this.Gs=new ap,this.Mt=this.yj=0,this.Xx=600,this.Ro=NaN,this.Sm=1,this.sp=0,this.Kl=360,this.Ab=zf,this.L=Gf,this.Qc=tp,this.Mc=vh,this.Ze=6,this.Bo=np}function Of(e,t,n,i,a){var r=e.er,o=e.Yb;e=e.Rd,i=i*Math.PI/180,n=n*Math.PI/180;for(var s=t.length,l=0;l<s;l++){var u=i+(a===Gf?l*n/(r>=360?s:s-1):-l*n/s),c=t.N(l),d=o*Math.tan(u)/e;d=Math.sqrt((o*o+e*e*d*d)/(1+d*d)),c.centerX=d*Math.cos(u),c.centerY=d*Math.sin(u),c.actualAngle=180*u/Math.PI}}function Mf(e,t,n,i){var a=e.Yb,r=e.Rd,o=e.fj;n=n*Math.PI/180;for(var s=t.length,l=0;l<s;l++){var u=t.N(l),c=t.N(l===s-1?0:l+1),d=r*Math.sin(n);u.centerX=a*Math.cos(n),u.centerY=d,u.actualAngle=180*n/Math.PI,isNaN(u.diameter)&&sp(u,0),isNaN(c.diameter)&&sp(c,0),u=qf(e,a,r,i===Gf?n:-n,(u.diameter+c.diameter)/2+o),n+=i===Gf?u:-u}}function Ef(e,t,n,i){var a=e.Yb,r=e.Rd,o=e.Rq;n=n*Math.PI/180;for(var s=t.length,l=0;l<s;l++){var u=t.N(l);u.centerX=a*Math.cos(n),u.centerY=r*Math.sin(n),u.actualAngle=180*n/Math.PI,u=qf(e,a,r,i===Gf?n:-n,o),n+=i===Gf?u:-u}}function Rf(e,t,n,i,a){var r=e.er;if(e.yj=0,e.Gs=new ap,n<360){for(r=i+(a===Gf?r:-r);r<0;)r+=360;r%=360,r>180&&(r-=360),r*=Math.PI/180,e.Mt=r,Bf(e,t,n,i,a)}else jf(e,t,n,i,a);e.Gs.commit(t)}function jf(e,t,n,i,a){var r=e.Yb,o=e.fj,s=e.zn,l=r*Math.cos(i*Math.PI/180),u=e.Rd*Math.sin(i*Math.PI/180),c=t.Na();if(3===c.length)c[0].centerX=r,c[0].centerY=0,c[1].centerX=c[0].centerX-c[0].width/2-c[1].width/2-o,c[1].y=c[0].y,c[2].centerX=(c[0].centerX+c[1].centerX)/2,c[2].y=c[0].y-c[2].height-o;else if(4===c.length)c[0].centerX=r,c[0].centerY=0,c[2].centerX=-c[0].centerX,c[2].centerY=c[0].centerY,c[1].centerX=0,c[1].y=Math.min(c[0].y,c[2].y)-c[1].height-o,c[3].centerX=0,c[3].y=Math.max(c[0].y+c[0].height+o,c[2].y+c[2].height+o);else{r=ge.alloc();for(var d=0;d<c.length;d++){if(c[d].centerX=l,c[d].centerY=u,d>=c.length-1)break;_f(e,l,u,c,d,a,r)||Vf(e,l,u,c,d,a,r),l=r.x,u=r.y}if(ge.free(r),e.yj++,!(e.yj>23)){l=c[0].centerX,u=c[0].centerY,r=c[c.length-1].centerX,d=c[c.length-1].centerY;var h=Math.abs(l-r)-((c[0].width+c[c.length-1].width)/2+o),f=Math.abs(u-d)-((c[0].height+c[c.length-1].height)/2+o);o=0,Math.abs(f)<1?Math.abs(l-r)<(c[0].width+c[c.length-1].width)/2&&(o=0):o=f>0?f:Math.abs(h)<1?0:h,l=Math.abs(r)>Math.abs(d)?r>0!==u>d:d>0!==l<r,(l=a===Gf?l:!l)&&(o=-Math.abs(o),o=Math.min(o,-c[c.length-1].width),o=Math.min(o,-c[c.length-1].height)),e.Gs.compare(o,c),Math.abs(o)>1&&(e.Yb=e.yj<8?e.Yb-o/(2*Math.PI):c.length<5&&o>10?e.Yb/2:e.Yb-(o>0?1.7:-2.3),e.Rd=e.Yb*s,jf(e,t,n,i,a))}}}function Bf(e,t,n,i,a){for(var r=e.Yb,o=e.Rd,s=e.zn,l=r*Math.cos(i*Math.PI/180),u=o*Math.sin(i*Math.PI/180),c=ge.alloc(),d=t.Na(),h=0;h<d.length;h++){if(d[h].centerX=l,d[h].centerY=u,h>=d.length-1)break;_f(e,l,u,d,h,a,c)||Vf(e,l,u,d,h,a,c),l=c.x,u=c.y}if(ge.free(c),e.yj++,!(e.yj>23)){if(l=Math.atan2(u,l),l=a===Gf?e.Mt-l:l-e.Mt,l=Math.abs(l)<Math.abs(l-2*Math.PI)?l:l-2*Math.PI,r=l*(r+o)/2,o=e.Gs,Math.abs(r)<Math.abs(o.am))for(o.am=r,o.tk=[],o.Am=[],l=0;l<d.length;l++)o.tk[l]=d[l].bounds.x,o.Am[l]=d[l].bounds.y;Math.abs(r)>1&&(e.Yb=e.yj<8?e.Yb-r/(2*Math.PI):e.Yb-(r>0?1.7:-2.3),e.Rd=e.Yb*s,Bf(e,t,n,i,a))}}function _f(e,t,n,i,a,r,o){var s=e.Yb,l=e.Rd,u=0;e=(i[a].width+i[a+1].width)/2+e.fj;var c=!1;if(n>=0!==(r===Gf)){if(r=t+e,r>s){if(r=t-e,r<-s)return o.x=r,o.y=u,!1;c=!0}}else if(r=t-e,r<-s){if(r=t+e,r>s)return o.x=r,o.y=u,!1;c=!0}return u=Math.sqrt(1-Math.min(1,r*r/(s*s)))*l,n<0!==c&&(u=-u),Math.abs(n-u)>(i[a].height+i[a+1].height)/2?(o.x=r,o.y=u,!1):(o.x=r,o.y=u,!0)}function Vf(e,t,n,i,a,r,o){var s=e.Yb,l=e.Rd,u=0;if(e=(i[a].height+i[a+1].height)/2+e.fj,i=!1,t>=0!==(r===Gf)){if(r=n-e,r<-l){if(r=n+e,r>l)return o.x=u,void(o.y=r);i=!0}}else if(r=n+e,r>l){if(r=n-e,r<-l)return o.x=u,void(o.y=r);i=!0}u=Math.sqrt(1-Math.min(1,r*r/(l*l)))*s,t<0!==i&&(u=-u),o.x=u,o.y=r}function Ff(e,t,n,i,a){var r=e.Xx;if(Math.abs(e.zn-1)<.001)return void 0!==i&&void 0!==a?a*t:2*Math.PI*t;e=t>n?Math.sqrt(t*t-n*n)/t:Math.sqrt(n*n-t*t)/n;for(var o=0,s=void 0!==i&&void 0!==a?a/(r+1):Math.PI/(2*(r+1)),l=0,u=0;u<=r;u++){l=void 0!==i&&void 0!==a?i+u*a/r:u*Math.PI/(2*r);var c=Math.sin(l);o+=Math.sqrt(1-e*e*c*c)*s}return void 0!==i&&void 0!==a?(t>n?t:n)*o:4*(t>n?t:n)*o}function Uf(e,t,n,i,a){return t/(void 0!==i&&void 0!==a?Ff(e,1,n,i,a):Ff(e,1,n))}function qf(e,t,n,i,a){if(Math.abs(e.zn-1)<.001)return a/t;var r=t>n?Math.sqrt(t*t-n*n)/t:Math.sqrt(n*n-t*t)/n,o=0;e=2*Math.PI/(700*e.network.vertexes.count),t>n&&(i+=Math.PI/2);for(var s=0;;s++){var l=Math.sin(i+s*e);if(o+=(t>n?t:n)*Math.sqrt(1-r*r*l*l)*e,o>=a)return s*e}}wf.className="GraphLinksModel",gf.GraphLinksModel=wf,Hh.constructGraphLinksModel=Hh.constructGraphLinksModel=function(){return new wf},Hh.initDiagramModel=df=function(){return new wf},f(Pf,Hh),Pf.constructGraphLinksModel=Hh.constructGraphLinksModel,Pf.prototype.cloneProtected=function(e){Hh.prototype.cloneProtected.call(this,e),e.re=this.re,e.fn=this.fn,e.zj=this.zj},n=Pf.prototype,n.toString=function(e){if(void 0===e&&(e=0),e>=2)return this.rq();var t=(""!==this.name?this.name:"")+" TreeModel";if(e>0){t+="\n node data:",e=this.nodeDataArray;for(var n=e.length,i=0;i<n;i++){var a=e[i];t+=" "+this.pa(a)+":"+R(a)}}return t},n.sk=function(){var e=Hh.prototype.sk.call(this),t="";return"parent"!==this.nodeParentKeyProperty&&"string"===typeof this.nodeParentKeyProperty&&(t+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),e+t},n.kq=function(e){Hh.prototype.kq.call(this,e),e.nodeParentKeyProperty&&(this.nodeParentKeyProperty=e.nodeParentKeyProperty)},n.vq=function(e){return Kh(this,e,"nodeParentKeyProperty"),Hh.prototype.vq.call(this,e)},n.gm=function(e){return e},n.Mi=function(e){if(null!==e){var t=this.re;if(""!==t&&(t=ff(e,t),void 0!==t)){if(af(t))return t;x("ParentKey value for node data "+e+" is not a number or a string: "+t)}}},n.He=function(e,t){if(null===t&&(t=void 0),null!==e){var n=this.re;if(""!==n)if(t=this.gm(t),this.Qb(e)){var i=ff(e,n);i!==t&&(lf(this,i,e),pf(e,n,t),null===this.Rb(t)&&sf(this,t,e),nf(this,"nodeParentKey",Tn,n,e,i,t),"string"===typeof n&&this.Ea(e,n))}else pf(e,n,t)}},n.bv=function(e){if(null===e)return"";var t=this.zj;return""===t?"":(t=ff(e,t),void 0===t?"":"string"===typeof t?t:(x("getParentLinkCategoryForNodeData found a non-string category for "+e+": "+t),""))},Pf.prototype.getLinkCategoryForData=function(e){return this.bv(e)},Pf.prototype.Iv=function(e,t){if(null!==e){var n=this.zj;if(""!==n)if(this.Qb(e)){var i=ff(e,n);void 0===i&&(i=""),i!==t&&(pf(e,n,t),nf(this,"parentLinkCategory",Tn,n,e,i,t),"string"===typeof n&&this.Ea(e,n))}else pf(e,n,t)}},Pf.prototype.setLinkCategoryForData=function(e,t){this.Iv(e,t)},Pf.prototype.copyNodeData=function(e){return null===e?null:(e=Hh.prototype.copyNodeData.call(this,e),this.Wj||""===this.re||void 0===ff(e,this.re)||pf(e,this.re,void 0),e)},Pf.prototype.setDataProperty=function(e,t,n){if(this.Qb(e))if(t===this.nodeKeyProperty)this.vm(e,n);else{if(t===this.nodeCategoryProperty)return void this.pq(e,n);if(t===this.nodeParentKeyProperty)return void this.He(e,n)}var i=ff(e,t);i!==n&&(pf(e,t,n),this.mt(e,t,i,n))},n=Pf.prototype,n.nq=function(e,t){Hh.prototype.nq.call(this,e,t);for(var n=this.cb.iterator;n.next();)this.Bv(n.value,e,t)},n.Bv=function(e,t,n){if(this.Mi(e)===t){var i=this.re;pf(e,i,n),nf(this,"nodeParentKey",Tn,i,e,t,n),"string"===typeof i&&this.Ea(e,i)}},n.rm=function(e){Hh.prototype.rm.call(this,e),e=this.pa(e);var t=uf(this,e);if(null!==t){var n=O();for(t=t.iterator;t.next();){var i=t.value;if(this.Qb(i)&&this.Mi(i)===e){var a=this.re;nf(this,"nodeParentKey",Tn,a,i,e,e),"string"===typeof a&&this.Ea(i,a),n.push(i)}}for(t=0;t<n.length;t++)lf(this,e,n[t]);M(n)}},n.qm=function(e){Hh.prototype.qm.call(this,e);var t=this.Mi(e);t=this.gm(t),null===this.Rb(t)&&sf(this,t,e)},n.sq=function(e){Hh.prototype.sq.call(this,e);var t=this.Mi(e);lf(this,t,e)},n.fm=function(){return!0},n.dt=function(){return!0},p.Object.defineProperties(Pf.prototype,{nodeParentKeyProperty:{get:function(){return this.re},set:function(e){var t=this.re;t!==e&&(this.re=e,this.g("nodeParentKeyProperty",t,e))}},Wj:{get:function(){return this.fn},set:function(e){this.fn!==e&&(this.fn=e)}},parentLinkCategoryProperty:{get:function(){return this.zj},set:function(e){var t=this.zj;t!==e&&(this.zj=e,this.g("parentLinkCategoryProperty",t,e))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(e){this.parentLinkCategoryProperty=e}}}),p.Object.defineProperties(Pf,{type:{get:function(){return"TreeModel"}}}),Pf.prototype.setParentLinkCategoryForNodeData=Pf.prototype.Iv,Pf.prototype.getParentLinkCategoryForNodeData=Pf.prototype.bv,Pf.prototype.setParentKeyForNodeData=Pf.prototype.He,Pf.prototype.getParentKeyForNodeData=Pf.prototype.Mi,Pf.className="TreeModel",gf.TreeModel=Pf,f(Lf,lh),Lf.prototype.cloneProtected=function(e){lh.prototype.cloneProtected.call(this,e),e.Ro=this.Ro,e.Sm=this.Sm,e.sp=this.sp,e.Kl=this.Kl,e.Ab=this.Ab,e.L=this.L,e.Qc=this.Qc,e.Mc=this.Mc,e.Ze=this.Ze,e.Bo=this.Bo},Lf.prototype.fb=function(e){e.classType===Lf?e===Zf||e===ep||e===Jf||e===Xf||e===tp?this.sorting=e:e===Wf||e===Kf||e===Gf||e===Yf?this.direction=e:e===$f||e===Qf||e===zf||e===Hf?this.arrangement=e:e!==ip&&e!==np||(this.nodeDiameterFormula=e):lh.prototype.fb.call(this,e)},Lf.prototype.createNetwork=function(){return new rp(this)},Lf.prototype.doLayout=function(e){if(null===this.network&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),e=this.network.vertexes,e.count<=1)1===e.count&&(e=e.first(),e.centerX=0,e.centerY=0);else{var t=new ie;t.addAll(e.iterator),e=new ie;var n,i,a=new ie,r=this.sort(t),o=this.Rq,s=this.arrangement,l=this.nodeDiameterFormula,u=this.radius;(!isFinite(u)||u<=0)&&(u=NaN);var c=this.aspectRatio;(!isFinite(c)||c<=0)&&(c=1);var d=this.startAngle;isFinite(d)||(d=0);var h=this.sweepAngle;if((!isFinite(h)||h>360||h<1)&&(h=360),t=this.spacing,isFinite(t)||(t=NaN),s===Hf&&l===ip?s=zf:s===Hf&&l!==ip&&(s=this.arrangement),(this.direction===Wf||this.direction===Kf)&&this.sorting!==tp){for(l=0;!(l>=r.length);l+=2){if(e.add(r.N(l)),l+1>=r.length)break;a.add(r.N(l+1))}this.direction===Wf?(this.arrangement===Hf&&e.reverse(),r=new ie,r.addAll(e),r.addAll(a)):(this.arrangement===Hf&&a.reverse(),r=new ie,r.addAll(a),r.addAll(e))}l=r.length;for(var f=i=n=0;f<r.length;f++){var p=d+h*i*(this.direction===Gf?1:-1)/l,m=r.N(f).diameter;isNaN(m)&&(m=sp(r.N(f),p)),h<360&&(0===f||f===r.length-1)&&(m/=2),n+=m,i++}if(isNaN(u)||s===Hf){if(isNaN(t)&&(t=6),s!==zf&&s!==Hf){for(i=-1/0,o=0;o<l;o++)f=r.N(o),n=r.N(o===l-1?0:o+1),isNaN(f.diameter)&&sp(f,0),isNaN(n.diameter)&&sp(n,0),i=Math.max(i,(f.diameter+n.diameter)/2);o=i+t,u=s===$f?(i+t)/(2*Math.PI/l):Uf(this,o*(h>=360?l:l-1),c,d*Math.PI/180,h*Math.PI/180)}else u=Uf(this,n+(h>=360?l:l-1)*(s!==Hf?t:1.6*t),c,d*Math.PI/180,h*Math.PI/180);i=u*c}else if(i=u*c,f=Ff(this,u,i,d*Math.PI/180,h*Math.PI/180),isNaN(t))s!==zf&&s!==Hf||(t=(f-n)/(h>=360?l:l-1));else if(s===zf||s===Hf)f=(f-n)/(h>=360?l:l-1),f<t?(u=Uf(this,n+t*(h>=360?l:l-1),c,d*Math.PI/180,h*Math.PI/180),i=u*c):t=f;else{for(o=-1/0,n=0;n<l;n++)p=r.N(n),m=r.N(n===l-1?0:n+1),isNaN(p.diameter)&&sp(p,0),isNaN(m.diameter)&&sp(m,0),o=Math.max(o,(p.diameter+m.diameter)/2);o+=t,n=Uf(this,o*(h>=360?l:l-1),c,d*Math.PI/180,h*Math.PI/180),n>u?(u=n,i=u*c):o=f/(h>=360?l:l-1)}if(this.vw=s,this.Yb=u,this.zn=c,this.ww=d,this.er=h,this.fj=t,this.Rd=i,this.Rq=o,t=r,r=this.vw,s=this.Yb,u=this.ww,c=this.er,d=this.fj,h=this.Rd,l=this.Rq,this.direction!==Wf&&this.direction!==Kf||r!==Hf)if(this.direction===Wf||this.direction===Kf){switch(o=0,r){case Qf:o=180*qf(this,s,h,u,l)/Math.PI;break;case zf:l=t=0,o=e.first(),null!==o&&(t=sp(o,Math.PI/2)),o=a.first(),null!==o&&(l=sp(o,Math.PI/2)),o=180*qf(this,s,h,u,d+(t+l)/2)/Math.PI;break;case $f:o=c/t.length}if(this.direction===Wf){switch(r){case Qf:Ef(this,e,u,Yf);break;case zf:Mf(this,e,u,Yf);break;case $f:Of(this,e,c/2,u,Yf)}switch(r){case Qf:Ef(this,a,u+o,Gf);break;case zf:Mf(this,a,u+o,Gf);break;case $f:Of(this,a,c/2,u+o,Gf)}}else{switch(r){case Qf:Ef(this,a,u,Yf);break;case zf:Mf(this,a,u,Yf);break;case $f:Of(this,a,c/2,u,Yf)}switch(r){case Qf:Ef(this,e,u+o,Gf);break;case zf:Mf(this,e,u+o,Gf);break;case $f:Of(this,e,c/2,u+o,Gf)}}}else switch(r){case Qf:Ef(this,t,u,this.direction);break;case zf:Mf(this,t,u,this.direction);break;case $f:Of(this,t,c,u,this.direction);break;case Hf:Rf(this,t,c,u,this.direction)}else Rf(this,t,c,u-c/2,Gf)}this.updateParts(),this.network=null,this.isValidLayout=!0},Lf.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},Lf.prototype.commitNodes=function(){var e=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,t=e?this.group.location.copy():null,n=this.actualCenter;e?n=new ge(0,0):(n.x=this.arrangementOrigin.x+this.Yb,n.y=this.arrangementOrigin.y+this.Rd);for(var i=this.network.vertexes.iterator;i.next();){var a=i.value;a.x+=n.x,a.y+=n.y,a.commit()}e&&(this.group.ac(),e=this.group.position.copy(),n=this.group.location.copy(),t=t.Xd(n.Xd(e)),this.group.move(t),this.hw=t.Xd(e))},Lf.prototype.commitLinks=function(){for(var e=this.network.edges.iterator;e.next();)e.value.commit()},Lf.prototype.sort=function(e){switch(this.sorting){case Jf:break;case Xf:e.reverse();break;case Zf:e.sort(this.comparer);break;case ep:e.sort(this.comparer),e.reverse();break;case tp:for(var t=[],n=0;n<e.length;n++)t.push(0);n=new ie;for(var i=0;i<e.length;i++){var a=-1,r=-1;if(0===i)for(var o=0;o<e.length;o++){var s=e.N(o).edgesCount;s>a&&(a=s,r=o)}else for(o=0;o<e.length;o++)s=t[o],s>a&&(a=s,r=o);for(n.add(e.N(r)),t[r]=-1,r=e.N(r),o=r.sourceEdges;o.next();)a=e.indexOf(o.value.fromVertex),a<0||t[a]>=0&&t[a]++;for(r=r.destinationEdges;r.next();)a=e.indexOf(r.value.toVertex),a<0||t[a]>=0&&t[a]++}for(e=[],t=0;t<n.length;t++){for(a=n.N(t),e[t]=[],r=a.destinationEdges;r.next();)i=n.indexOf(r.value.toVertex),i!==t&&e[t].indexOf(i)<0&&e[t].push(i);for(a=a.sourceEdges;a.next();)i=n.indexOf(a.value.fromVertex),i!==t&&e[t].indexOf(i)<0&&e[t].push(i)}for(r=[],t=0;t<e.length;t++)r[t]=0;t=[],o=[],s=[],a=[],i=new ie;for(var l=0,u=0;u<e.length;u++){var c=e[u].length;if(1===c)a.push(u);else if(0===c)i.add(n.N(u));else{if(0===l)t.push(u);else{for(var d=c=1/0,h=-1,f=[],p=0;p<t.length;p++)e[t[p]].indexOf(t[p===t.length-1?0:p+1])<0&&f.push(p===t.length-1?0:p+1);if(0===f.length)for(p=0;p<t.length;p++)f.push(p);for(p=0;p<f.length;p++){for(var m=f[p],g=e[u],v=0,y=0;y<o.length;y++){var b=r[o[y]],A=r[s[y]];if(b<A){var w=b;b=A}else w=A;if(w<m&&m<=b)for(A=0;A<g.length;A++){var C=g[A];t.indexOf(C)<0||w<r[C]&&r[C]<b||w===r[C]||b===r[C]||v++}else for(A=0;A<g.length;A++)C=g[A],t.indexOf(C)<0||w<r[C]&&r[C]<b&&w!==r[C]&&b!==r[C]&&v++}for(g=v,y=v=0;y<e[u].length;y++)w=t.indexOf(e[u][y]),w>=0&&(w=Math.abs(m-(w>=m?w+1:w)),v+=w<t.length+1-w?w:t.length+1-w);for(y=0;y<o.length;y++)w=r[o[y]],b=r[s[y]],w>=m&&w++,b>=m&&b++,w>b&&(A=b,b=w,w=A),b-w<(t.length+2)/2===(w<m&&m<=b)&&v++;(g<c||g===c&&v<d)&&(c=g,d=v,h=m)}for(t.splice(h,0,u),c=0;c<t.length;c++)r[t[c]]=c;for(c=0;c<e[u].length;c++)d=e[u][c],t.indexOf(d)>=0&&(o.push(u),s.push(d))}l++}}for(o=t.length;;){for(r=!0,s=0;s<a.length;s++)if(l=a[s],u=e[l][0],c=t.indexOf(u),c>=0){for(h=d=0;h<e[u].length;h++)f=t.indexOf(e[u][h]),f<0||f===c||(p=f>c?f-c:c-f,d+=f<c!==p>o-p?1:-1);t.splice(d<0?c:c+1,0,l),a.splice(s,1),s--}else r=!1;if(r)break;t.push(a[0]),a.splice(0,1)}for(e=0;e<t.length;e++)i.add(n.N(t[e]));return i;default:x("Invalid sorting type.")}return e},p.Object.defineProperties(Lf.prototype,{radius:{get:function(){return this.Ro},set:function(e){this.Ro!==e&&(e>0||isNaN(e))&&(this.Ro=e,this.B())}},aspectRatio:{get:function(){return this.Sm},set:function(e){this.Sm!==e&&e>0&&(this.Sm=e,this.B())}},startAngle:{get:function(){return this.sp},set:function(e){this.sp!==e&&(this.sp=e,this.B())}},sweepAngle:{get:function(){return this.Kl},set:function(e){this.Kl!==e&&(this.Kl=e>0&&e<=360?e:360,this.B())}},arrangement:{get:function(){return this.Ab},set:function(e){this.Ab===e||e!==Hf&&e!==zf&&e!==Qf&&e!==$f||(this.Ab=e,this.B())}},direction:{get:function(){return this.L},set:function(e){this.L===e||e!==Gf&&e!==Yf&&e!==Wf&&e!==Kf||(this.L=e,this.B())}},sorting:{get:function(){return this.Qc},set:function(e){this.Qc===e||e!==Jf&&e!==Xf&&e!==Zf&&!ep&&e!==tp||(this.Qc=e,this.B())}},comparer:{get:function(){return this.Mc},set:function(e){this.Mc!==e&&(this.Mc=e,this.B())}},spacing:{get:function(){return this.Ze},set:function(e){this.Ze!==e&&(this.Ze=e,this.B())}},nodeDiameterFormula:{get:function(){return this.Bo},set:function(e){this.Bo===e||e!==np&&e!==ip||(this.Bo=e,this.B())}},actualXRadius:{get:function(){return this.Yb}},actualYRadius:{get:function(){return this.Rd}},actualSpacing:{get:function(){return this.fj}},actualCenter:{get:function(){return this.hw}}});var zf=new Y(Lf,"ConstantSpacing",0),Qf=new Y(Lf,"ConstantDistance",1),$f=new Y(Lf,"ConstantAngle",2),Hf=new Y(Lf,"Packed",3),Gf=new Y(Lf,"Clockwise",4),Yf=new Y(Lf,"Counterclockwise",5),Wf=new Y(Lf,"BidirectionalLeft",6),Kf=new Y(Lf,"BidirectionalRight",7),Jf=new Y(Lf,"Forwards",8),Xf=new Y(Lf,"Reverse",9),Zf=new Y(Lf,"Ascending",10),ep=new Y(Lf,"Descending",11),tp=new Y(Lf,"Optimized",12),np=new Y(Lf,"Pythagorean",13),ip=new Y(Lf,"Circular",14);function ap(){this.am=-1/0,this.Am=this.tk=null}function rp(e){dh.call(this,e)}function op(e){gh.call(this,e),this.K=this.ej=NaN}function sp(e,t){var n=e.network;if(null===n)return NaN;if(n=n.layout,null===n)return NaN;if(n.arrangement===Hf)if(n.nodeDiameterFormula===ip)e.ej=Math.max(e.width,e.height);else{if(n=Math.abs(Math.sin(t)),t=Math.abs(Math.cos(t)),0===n)return e.width;if(0===t)return e.height;e.ej=Math.min(e.height/n,e.width/t)}else e.ej=n.nodeDiameterFormula===ip?Math.max(e.width,e.height):Math.sqrt(e.width*e.width+e.height*e.height);return e.ej}function lp(e){yh.call(this,e)}function up(){lh.call(this),this.ph=null,this.$n=0,this.wd=new Be(100,100).freeze(),this.Rm=!1,this.Ye=!0,this.Xc=!1,this.ql=100,this.Cn=1,this.Jf=1e3,this.vo=10,this.So=Math,this.Pk=.05,this.Ok=50,this.Mk=150,this.Nk=0,this.pn=10,this.on=5}function cp(e,t,n){if(dp(e,t)){var i=e.Jf;e.Jf*=1+1/(t+1);var a=hp(e,t),r=Math.max(0,Math.max(Math.min(e.network.vertexes.count,n*(t+1)/11),10));for(e.maxIterations+=r,cp(e,t+1,n),vp(e,r),fp(e,a),t=a.vertexes.Na(),t.sort((function(e,t){return null===e||null===t||e===t?0:t.td-e.td})),n=0;n<t.length;n++)pp(e,t[n]);e.Jf=i}}function dp(e,t){if(t>10||e.network.vertexes.count<3)return!1;for(e.ph=e.network.vertexes.Na(),e=e.ph,e.sort((function(e,t){return null===e||null===t||e===t?0:t.td-e.td})),t=e.length-1;t>=0&&e[t].td<=1;)t--;return e.length-t>1}function hp(e,t){for(var n=e.network,i=new Ap(e),a=0;a<e.ph.length;a++){var r=e.ph[a];if(!(r.td>1))break;i.sh(r);var o=new bp;o.Bt=r.td,o.Ct=r.width,o.At=r.height,o.aw=r.focus.x,o.bw=r.focus.y,null===r.Ge&&(r.Ge=new ie),r.Ge.add(o),r.Ev=r.Ge.count-1}for(r=n.edges.iterator;r.next();){var s=r.value;a=s.fromVertex,o=s.toVertex,a.network===i&&o.network===i?i.Oj(s):a.network===i?(s=a.Uj,null===s&&(s=new ie,a.Uj=s),s.add(o),a.td--,a.Ah+=o.Ah):o.network===i&&(s=o.Uj,null===s&&(s=new ie,o.Uj=s),s.add(a),o.td--,o.Ah+=a.Ah)}for(a=i.edges.iterator;a.next();)r=a.value,r.length*=Math.max(1,Kt.sqrt((r.fromVertex.Ah+r.toVertex.Ah)/(4*t+1)));for(t=i.vertexes.iterator;t.next();){a=t.value;var l=a.Uj;if(null!==l&&l.count>0&&(o=a.Ge.N(a.Ge.count-1).Bt-a.td,!(o<=0))){for(var u=s=0,c=l.count-o;c<l.count;c++){var d=l.N(c),h=null;for(r=d.edges.iterator;r.next();){var f=r.value;if(f.nx(d)===a){h=f;break}}null!==h&&(u+=h.length,s+=d.width*d.height)}r=a.centerX,l=a.centerY,c=a.width,d=a.height,h=a.focus,f=c*d,f<1&&(f=1),s=Kt.sqrt((s+f+u*u*4/(o*o))/f),o=(s-1)*c/2,s=(s-1)*d/2,a.bounds=new Ue(r-h.x-o,l-h.y-s,c+2*o,d+2*s),a.focus=new ge(h.x+o,h.y+s)}}return e.network=i,n}function fp(e,t){for(var n=e.network.vertexes.iterator;n.next();){var i=n.value;if(i.network=t,null!==i.Ge){var a=i.Ge.N(i.Ev);i.td=a.Bt;var r=a.aw,o=a.bw;i.bounds=new Ue(i.centerX-r,i.centerY-o,a.Ct,a.At),i.focus=new ge(r,o),i.Ev--}}for(n=e.network.edges.iterator;n.next();)n.value.network=t;e.network=t}function pp(e,t){var n=t.Uj;if(null!==n&&0!==n.count){var i=t.centerX,a=t.centerY,r=t.width,o=t.height;null!==t.Ge&&t.Ge.count>0&&(o=t.Ge.N(0),r=o.Ct,o=o.At),r=Kt.sqrt(r*r+o*o)/2;for(var s=!1,l=o=0,u=0,c=t.vertexes.iterator;c.next();){var d=c.value;d.td<=1?l++:(s=!0,u++,o+=Math.atan2(t.centerY-d.centerY,t.centerX-d.centerX))}if(0!==l)for(u>0&&(o/=u),u=t=0,t=s?2*Math.PI/(l+1):2*Math.PI/l,l%2===0&&(u=t/2),n.count>1&&n.sort((function(e,t){return null===e||null===t||e===t?0:t.width*t.height-e.width*e.height})),s=l%2===0?0:1,n=n.iterator;n.next();)if(l=n.value,!(l.td>1||e.isFixed(l))){for(c=null,d=l.edges.iterator;d.next();){c=d.value;break}d=l.width;var h=l.height;d=Kt.sqrt(d*d+h*h)/2,c=r+c.length+d,d=o+(t*(s/2>>1)+u)*(s%2===0?1:-1),l.centerX=i+c*Math.cos(d),l.centerY=a+c*Math.sin(d),s++}}}function mp(e,t,n,i,a,r,o){var s=9e19,l=-1,u=0;e:for(;u<t;u++){var c=e[u],d=c.x-n,h=c.y-i;if(d=d*d+h*h,d<s){for(h=u-1;h>=0;h--)if(e[h].y>c.y&&e[h].x-c.x<a+o.width)continue e;for(h=u+1;h<t;h++)if(e[h].x>c.x&&e[h].y-c.y<r+o.height)continue e;l=u,s=d}}return l}function gp(e,t){var n=e.bounds,i=n.x;e=n.y;var a=n.width;n=n.height;var r=t.bounds,o=r.x;t=r.y;var s=r.width;return r=r.height,i+a<o?e>t+r?(n=i+a-o,e=e-t-r,Kt.sqrt(n*n+e*e)):e+n<t?(i=i+a-o,e=e+n-t,Kt.sqrt(i*i+e*e)):o-(i+a):i>o+s?e>t+r?(n=i-o-s,e=e-t-r,Kt.sqrt(n*n+e*e)):e+n<t?(i=i-o-s,e=e+n-t,Kt.sqrt(i*i+e*e)):i-(o+s):e>t+r?e-(t+r):e+n<t?t-(e+n):.1}function vp(e,t){for(e.ph=null,t=e.$n+t;e.$n<t&&(e.$n++,yp(e)););e.ph=null}function yp(e){null===e.ph&&(e.ph=e.network.vertexes.Na());var t=e.ph;if(t.length<=0)return!1;var n=t[0];n.forceX=0,n.forceY=0;for(var i=n.centerX,a=i,r=n=n.centerY,o=1;o<t.length;o++){var s=t[o];s.forceX=0,s.forceY=0;var l=s.centerX;s=s.centerY,i=Math.min(i,l),a=Math.max(a,l),n=Math.min(n,s),r=Math.max(r,s)}(a=a-i>r-n)?t.sort((function(e,t){return null===e||null===t||e===t?0:e.centerX-t.centerX})):t.sort((function(e,t){return null===e||null===t||e===t?0:e.centerY-t.centerY})),n=e.Jf;var u=i=s=0;for(r=0;r<t.length;r++){o=t[r],i=o.bounds,s=o.focus,l=i.x+s.x;var c=i.y+s.y;i=o.charge*e.electricalFieldX(l,c),u=o.charge*e.electricalFieldY(l,c),i+=o.mass*e.gravitationalFieldX(l,c),u+=o.mass*e.gravitationalFieldY(l,c),o.forceX+=i,o.forceY+=u;for(var d=r+1;d<t.length;d++){var h=t[d];if(h!==o){i=h.bounds,s=h.focus,u=i.x+s.x;var f=i.y+s.y;if(l-u>n||u-l>n){if(a)break}else if(c-f>n||f-c>n){if(!a)break}else{var p=gp(o,h);p<1?(i=e.randomNumberGenerator,null===i&&(e.randomNumberGenerator=i=new Cp),p=i.random(),s=i.random(),l>u?(i=Math.abs(h.bounds.right-o.bounds.x),i=(1+i)*p):l<u?(i=Math.abs(h.bounds.x-o.bounds.right),i=-(1+i)*p):(i=Math.max(h.width,o.width),i=(1+i)*p-i/2),c>f?(u=Math.abs(h.bounds.bottom-o.bounds.y),u=(1+u)*s):l<u?(u=Math.abs(h.bounds.y-o.bounds.bottom),u=-(1+u)*s):(u=Math.max(h.height,o.height),u=(1+u)*s-u/2)):(s=-o.charge*h.charge/(p*p),i=(u-l)/p*s,u=(f-c)/p*s),o.forceX+=i,o.forceY+=u,h.forceX-=i,h.forceY-=u}}}}for(a=e.network.edges.iterator;a.next();)s=a.value,n=s.fromVertex,r=s.toVertex,o=n.bounds,l=n.focus,i=o.x+l.x,o=o.y+l.y,c=r.bounds,d=r.focus,l=c.x+d.x,c=c.y+d.y,d=gp(n,r),d<1?(d=e.randomNumberGenerator,null===d&&(e.randomNumberGenerator=d=new Cp),s=d.random(),d=d.random(),i=(i>l?1:-1)*(1+(r.width>n.width?r.width:n.width))*s,u=(o>c?1:-1)*(1+(r.height>n.height?r.height:n.height))*d):(s=s.stiffness*(d-s.length),i=(l-i)/d*s,u=(c-o)/d*s),n.forceX+=i,n.forceY+=u,r.forceX-=i,r.forceY-=u;for(i=0,a=e.moveLimit,n=0;n<t.length;n++)r=t[n],e.isFixed(r)?e.moveFixedVertex(r):(o=r.forceX,l=r.forceY,o<-a?o=-a:o>a&&(o=a),l<-a?l=-a:l>a&&(l=a),r.centerX+=o,r.centerY+=l,i=Math.max(i,o*o+l*l));return i>e.epsilonDistance*e.epsilonDistance}function bp(){this.bw=this.aw=this.At=this.Ct=this.Bt=0}function Ap(e){dh.call(this,e)}function wp(e){gh.call(this,e),this.Ma=!1,this.Vb=this.K=NaN,this.Ah=this.td=this.La=this.ba=0,this.Ge=this.Uj=null,this.Ev=0}function xp(e){yh.call(this,e),this.l=this.u=NaN}function Cp(){var e=0;void 0===e&&(e=42),this.seed=e,this.Px=48271,this.Rx=2147483647,this.Q=44488.07041494893,this.Tx=3399,this.Qx=1/2147483647,this.random()}function kp(){lh.call(this),this.Xb=this.ke=25,this.L=0,this.Kk=im,this.ll=om,this.bl=um,this.pj=4,this.vk=fm,this.$f=7,this.Ye=!0,this.fo=4,this.Ha=this.Lr=this.ya=-1,this.od=this.qo=0,this.Ka=this.ld=this.md=this.Gd=this.fc=null,this.xo=0,this.wo=this.uj=null,this.Ld=0,this.yo=null,this.jw=new ge,this.oe=[],this.oe.length=100}function Sp(e){var t=e.fromVertex.node;return e=e.toVertex.node,null===t&&null===e?8:null===t||null===e?4:1}function Tp(e){null===e.uj&&(e.uj=[]);for(var t=0,n=e.network.vertexes.iterator;n.next();){var i=n.value;e.uj[t]=i.layer,t++,e.uj[t]=i.column,t++,e.uj[t]=i.index,t++}return e.uj}function Np(e,t){var n=0;for(e=e.network.vertexes.iterator;e.next();){var i=e.value;i.layer=t[n],n++,i.column=t[n],n++,i.index=t[n],n++}}function Ip(e,t,n){var i=tm(e,t),a=e.fc[t];(null===e.wo||e.wo.length<a*a)&&(e.wo=[]);for(var r=e.wo,o=0;o<a;o++){var s,l=0,u=i[o],c=u.near;if(null!==c&&c.layer===u.layer)if(u=c.index,u>o)for(var d=o+1;d<u;d++){var h=i[d];h.near===c&&h.Pj===c.Pj||l++}else for(d=o-1;d>u;d--)h=i[d],h.near===c&&h.Pj===c.Pj||l++;if(n>=0)for(u=i[o].sourceEdgesArrayAccess,c=0;c<u.length;c++){var f=u[c];if(f.valid&&f.fromVertex.layer!==t)for(h=f.fromVertex.index,d=f.portToPos,f=f.portFromPos,s=c+1;s<u.length;s++){var p=u[s];if(p.valid&&p.fromVertex.layer!==t){var m=p.fromVertex.index,g=p.portToPos;p=p.portFromPos,d<g&&(h>m||h===m&&f>p)&&l++,g<d&&(m>h||m===h&&p>f)&&l++}}}if(n<=0)for(u=i[o].destinationEdgesArrayAccess,c=0;c<u.length;c++)if(f=u[c],f.valid&&f.toVertex.layer!==t)for(h=f.toVertex.index,d=f.portToPos,f=f.portFromPos,s=c+1;s<u.length;s++)p=u[s],p.valid&&p.toVertex.layer!==t&&(m=p.toVertex.index,g=p.portToPos,p=p.portFromPos,f<p&&(h>m||h===m&&d>g)&&l++,p<f&&(m>h||m===h&&g>d)&&l++);for(r[o*a+o]=l,u=o+1;u<a;u++){var v=0,y=0;if(n>=0){l=i[o].sourceEdgesArrayAccess;var b=i[u].sourceEdgesArrayAccess;for(c=0;c<l.length;c++)if(f=l[c],f.valid&&f.fromVertex.layer!==t)for(h=f.fromVertex.index,f=f.portFromPos,s=0;s<b.length;s++)p=b[s],p.valid&&p.fromVertex.layer!==t&&(m=p.fromVertex.index,p=p.portFromPos,(h<m||h===m&&f<p)&&y++,(m<h||m===h&&p<f)&&v++)}if(n<=0)for(l=i[o].destinationEdgesArrayAccess,b=i[u].destinationEdgesArrayAccess,c=0;c<l.length;c++)if(f=l[c],f.valid&&f.toVertex.layer!==t)for(h=f.toVertex.index,d=f.portToPos,s=0;s<b.length;s++)p=b[s],p.valid&&p.toVertex.layer!==t&&(m=p.toVertex.index,g=p.portToPos,(h<m||h===m&&d<g)&&y++,(m<h||m===h&&g<d)&&v++);r[o*a+u]=v,r[u*a+o]=y}}return nm(e,t,i),r}function Dp(e){for(var t=0,n=0;n<=e.ya;n++){for(var i=e,a=n,r=tm(i,a),o=i.fc[a],s=0,l=0;l<o;l++){var u=r[l].destinationEdgesArrayAccess;if(null!==u)for(var c=0;c<u.length;c++){var d=u[c];if(d.valid&&d.toVertex.layer!==a){var h=d.fromVertex.column+d.portFromColOffset,f=d.toVertex.column+d.portToColOffset;s+=(Math.abs(h-f)+1)*Sp(d)}}}nm(i,a,r),t+=s}return t}function Pp(e,t,n){for(var i=tm(e,t),a=e.fc[t],r=[],o=0;o<a;o++){var s=i[o],l=null;n<=0&&(l=s.sourceEdgesArrayAccess);var u=null;n>=0&&(u=s.destinationEdgesArrayAccess);var c=0,d=0,h=s.near;if(null!==h&&h.layer===s.layer&&(c+=h.column-1,d++),null!==l)for(h=0;h<l.length;h++){s=l[h];var f=s.fromVertex;s.valid&&!s.rev&&f.layer!==t&&(c+=f.column,d++)}if(null!==u)for(l=0;l<u.length;l++)s=u[l],h=s.toVertex,s.valid&&!s.rev&&h.layer!==t&&(c+=h.column,d++);r[o]=0===d?-1:c/d}return nm(e,t,i),r}function Lp(e,t,n){for(var i=tm(e,t),a=e.fc[t],r=[],o=0;o<a;o++){var s=i[o],l=null;n<=0&&(l=s.sourceEdgesArrayAccess);var u=null;n>=0&&(u=s.destinationEdgesArrayAccess);var c=0,d=[],h=s.near;if(null!==h&&h.layer===s.layer&&(d[c]=h.column-1,c++),s=void 0,null!==l)for(h=0;h<l.length;h++){s=l[h];var f=s.fromVertex;s.valid&&!s.rev&&f.layer!==t&&(d[c]=f.column+s.portFromColOffset,c++)}if(null!==u)for(l=0;l<u.length;l++)s=u[l],h=s.toVertex,s.valid&&!s.rev&&h.layer!==t&&(d[c]=h.column+s.portToColOffset,c++);0===c?r[o]=-1:(d.sort((function(e,t){return e-t})),u=c>>1,r[o]=0!==(1&c)?d[u]:d[u-1]+d[u]>>1)}return nm(e,t,i),r}function Op(e,t,n,i,a,r){if(t.component===i){if(t.component=n,a)for(var o=t.destinationEdges;o.next();){var s=o.value,l=s.toVertex,u=t.layer-l.layer;s=e.linkMinLength(s),u===s&&Op(e,l,n,i,a,r)}if(r)for(o=t.sourceEdges;o.next();)s=o.value,l=s.fromVertex,u=l.layer-t.layer,s=e.linkMinLength(s),u===s&&Op(e,l,n,i,a,r)}}function Mp(e,t,n,i,a,r){if(t.component===i){if(t.component=n,a)for(var o=t.destinationEdges;o.next();)Mp(e,o.value.toVertex,n,i,a,r);if(r)for(t=t.sourceEdges;t.next();)Mp(e,t.value.fromVertex,n,i,a,r)}}function Ep(e){for(e=e.vertexes.iterator;e.next();){var t=e.value;if(t.valid)return t}return null}function Rp(e){for(e=e.vertexes.iterator;e.next();){var t=e.value;if(t.valid){for(var n=!0,i=t.destinationEdges;i.next();)if(i.value.toVertex.valid){n=!1;break}if(n)return t}}return null}function jp(e){for(e=e.vertexes.iterator;e.next();){var t=e.value;if(t.valid){for(var n=!0,i=t.sourceEdges;i.next();)if(i.value.fromVertex.valid){n=!1;break}if(n)return t}}return null}function Bp(e,t){t.Xl=e.xo,e.xo++;for(var n=t.destinationEdges;n.next();){var i=n.value,a=i.toVertex;-1===a.Xl&&(i.forest=!0,Bp(e,a))}t.finish=e.xo,e.xo++}function _p(e){for(var t=e.network.vertexes.iterator;t.next();){var n=Vp(e,t.value);e.ya=Math.max(n,e.ya)}}function Vp(e,t){var n=0;if(-1===t.layer){for(var i=t.destinationEdges;i.next();){var a=i.value,r=a.toVertex;a=e.linkMinLength(a),n=Math.max(n,Vp(e,r)+a)}t.layer=n}else n=t.layer;return n}function Fp(e,t){var n=0;if(-1===t.layer){for(var i=t.sourceEdges;i.next();){var a=i.value,r=a.fromVertex;a=e.linkMinLength(a),n=Math.max(n,Fp(e,r)+a)}t.layer=n}else n=t.layer;return n}function Up(e,t){if(!t.valid){t.valid=!0;for(var n=t.destinationEdges;n.next();)Up(e,n.value.toVertex);for(n=e.network.vertexes.iterator;n.next();)n.value.component=-1;for(var i=t.sourceEdgesArrayAccess,a=i.length,r=0;r<a;r++){var o=i[r],s=o.fromVertex,l=o.toVertex;o=e.linkMinLength(o),s.layer-l.layer>o&&Op(e,s,0,-1,!0,!1)}for(Op(e,t,1,-1,!0,!0);0!==t.component;){for(r=0,i=1/0,s=0,l=null,o=e.network.vertexes.iterator;o.next();){var u=o.value;if(1===u.component){var c=0,d=!1,h=u.sourceEdgesArrayAccess;a=h.length;for(var f=0;f<a;f++){var p=h[f],m=p.fromVertex;c+=1,1!==m.component&&(r+=1,m=m.layer-u.layer,p=e.linkMinLength(p),i=Math.min(i,m-p))}for(h=u.destinationEdgesArrayAccess,a=h.length,f=0;f<a;f++)p=h[f].toVertex,--c,1!==p.component?--r:d=!0;(null===l||c<s)&&!d&&(l=u,s=c)}}if(r>0){for(n.reset();n.next();)a=n.value,1===a.component&&(a.layer+=i);t.component=0}else l.component=0}for(n=e.network.vertexes.iterator;n.next();)n.value.component=-1;for(Op(e,t,1,-1,!0,!1);0!==t.component;){for(i=0,a=1/0,r=0,s=null,l=e.network.vertexes.iterator;l.next();)if(o=l.value,1===o.component){for(u=0,c=!1,h=o.sourceEdgesArrayAccess,d=h.length,f=0;f<d;f++)p=h[f].fromVertex,u+=1,1!==p.component?i+=1:c=!0;for(h=o.destinationEdgesArrayAccess,d=h.length,f=0;f<d;f++)p=h[f],m=p.toVertex,--u,1!==m.component&&(--i,m=o.layer-m.layer,p=e.linkMinLength(p),a=Math.min(a,m-p));(null===s||u>r)&&!c&&(s=o,r=u)}if(i<0){for(n.reset();n.next();)i=n.value,1===i.component&&(i.layer-=a);t.component=0}else s.component=0}}}function qp(e,t,n){return 90===e.L?n&&!t.rev||!n&&t.rev?270:90:180===e.L?n&&!t.rev||!n&&t.rev?0:180:270===e.L?n&&!t.rev||!n&&t.rev?90:270:n&&!t.rev||!n&&t.rev?180:0}function zp(e,t){var n=t.layer;for(t.index=e.fc[n],e.fc[n]++,t=t.destinationEdgesArrayAccess,n=!0;n;){n=!1;for(var i=0;i<t.length-1;i++){var a=t[i],r=t[i+1];a.portFromColOffset>r.portFromColOffset&&(n=!0,t[i]=r,t[i+1]=a)}}for(n=0;n<t.length;n++)i=t[n],i.valid&&(i=i.toVertex,-1===i.index&&zp(e,i))}function Qp(e,t){var n=t.layer;t.index=e.fc[n],e.fc[n]++,t=t.sourceEdgesArrayAccess;for(var i=!0;i;)for(i=!1,n=0;n<t.length-1;n++){var a=t[n],r=t[n+1];a.portToColOffset>r.portToColOffset&&(i=!0,t[n]=r,t[n+1]=a)}for(n=0;n<t.length;n++)i=t[n],i.valid&&(i=i.fromVertex,-1===i.index&&Qp(e,i))}function $p(e,t,n){var i=tm(e,t),a=e.fc[t],r=Lp(e,t,n),o=Pp(e,t,n);for(n=0;n<a;n++)-1===o[n]&&(o[n]=i[n].column),-1===r[n]&&(r[n]=i[n].column);for(var s,l=!0;l;)for(l=!1,n=0;n<a-1;n++)(r[n+1]<r[n]||r[n+1]===r[n]&&o[n+1]<o[n])&&(l=!0,s=r[n],r[n]=r[n+1],r[n+1]=s,s=o[n],o[n]=o[n+1],o[n+1]=s,s=i[n],i[n]=i[n+1],i[n+1]=s);for(n=r=0;n<a;n++)s=i[n],s.index=n,r+=e.nodeMinColumnSpace(s,!0),s.column=r,r+=1,r+=e.nodeMinColumnSpace(s,!1);nm(e,t,i)}function Hp(e,t,n){var i,a=tm(e,t),r=e.fc[t];n=Ip(e,t,n);var o=[];for(i=0;i<r;i++)o[i]=-1;var s=[];for(i=0;i<r;i++)s[i]=-1;for(var l=!1,u=!0;u;)for(u=!1,i=0;i<r-1;i++){var c=n[a[i].index*r+a[i+1].index],d=n[a[i+1].index*r+a[i].index],h=0,f=0,p=a[i].column,m=a[i+1].column,g=e.nodeMinColumnSpace(a[i],!0),v=e.nodeMinColumnSpace(a[i],!1),y=e.nodeMinColumnSpace(a[i+1],!0),b=e.nodeMinColumnSpace(a[i+1],!1);g=p-g+y,v=m-v+b;var A=a[i].sourceEdges.iterator;for(A.reset();A.next();)if(y=A.value,b=y.fromVertex,y.valid&&b.layer===t){for(y=0;a[y]!==b;)y++;y<i&&(h+=2*(i-y),f+=2*(i+1-y)),y===i+1&&(h+=1),y>i+1&&(h+=4*(y-i),f+=4*(y-(i+1)))}for(A=a[i].destinationEdges.iterator,A.reset();A.next();)if(y=A.value,b=y.toVertex,y.valid&&b.layer===t){for(y=0;a[y]!==b;)y++;y===i+1&&(f+=1)}for(A=a[i+1].sourceEdges.iterator,A.reset();A.next();)if(y=A.value,b=y.fromVertex,y.valid&&b.layer===t){for(y=0;a[y]!==b;)y++;y<i&&(h+=2*(i+1-y),f+=2*(i-y)),y===i&&(f+=1),y>i+1&&(h+=4*(y-(i+1)),f+=4*(y-i))}for(A=a[i+1].destinationEdges.iterator,A.reset();A.next();)if(y=A.value,b=y.toVertex,y.valid&&b.layer===t){for(y=0;a[y]!==b;)y++;y===i&&(h+=1)}y=b=0,A=o[a[i].index];var w=s[a[i].index],x=o[a[i+1].index],C=s[a[i+1].index];-1!==A&&(b+=Math.abs(A-p),y+=Math.abs(A-v)),-1!==w&&(b+=Math.abs(w-p),y+=Math.abs(w-v)),-1!==x&&(b+=Math.abs(x-m),y+=Math.abs(x-g)),-1!==C&&(b+=Math.abs(C-m),y+=Math.abs(C-g)),(f<h-.5||f===h&&d<c-.5||f===h&&d===c&&y<b-.5)&&(u=l=!0,a[i].column=v,a[i+1].column=g,c=a[i],a[i]=a[i+1],a[i+1]=c)}for(i=0;i<r;i++)a[i].index=i;return nm(e,t,a),l}function Gp(e,t,n){for(var i=!1;Yp(e,t,n);)i=!0;return i}function Yp(e,t,n){var i,a=tm(e,t),r=e.fc[t],o=Pp(e,t,-1);if(n>0)for(i=0;i<r;i++)o[i]=-1;var s=Pp(e,t,1);if(n<0)for(i=0;i<r;i++)s[i]=-1;for(var l=!1,u=!0;u;)for(u=!1,i=0;i<r;i++){var c=a[i].column,d=e.nodeMinColumnSpace(a[i],!0),h=e.nodeMinColumnSpace(a[i],!1),f=0;f=i-1<0||c-a[i-1].column-1>d+e.nodeMinColumnSpace(a[i-1],!1)?c-1:c,d=i+1>=r||a[i+1].column-c-1>h+e.nodeMinColumnSpace(a[i+1],!0)?c+1:c;var p=h=0,m=0;if(n<=0)for(var g=a[i].sourceEdges.iterator;g.next();){var v=g.value,y=v.fromVertex;if(v.valid&&y.layer!==t){var b=Sp(v),A=v.portFromColOffset;v=v.portToColOffset,y=y.column,h+=(Math.abs(c+v-(y+A))+1)*b,p+=(Math.abs(f+v-(y+A))+1)*b,m+=(Math.abs(d+v-(y+A))+1)*b}}if(n>=0)for(g=a[i].destinationEdges.iterator;g.next();)v=g.value,y=v.toVertex,v.valid&&y.layer!==t&&(b=Sp(v),A=v.portFromColOffset,v=v.portToColOffset,y=y.column,h+=(Math.abs(c+A-(y+v))+1)*b,p+=(Math.abs(f+A-(y+v))+1)*b,m+=(Math.abs(d+A-(y+v))+1)*b);v=A=b=0,g=o[a[i].index],y=s[a[i].index],-1!==g&&(b+=Math.abs(g-c),A+=Math.abs(g-f),v+=Math.abs(g-d)),-1!==y&&(b+=Math.abs(y-c),A+=Math.abs(y-f),v+=Math.abs(y-d)),p<h||p===h&&A<b?(u=l=!0,a[i].column=f):(m<h||m===h&&v<b)&&(u=l=!0,a[i].column=d)}return nm(e,t,a),e.normalize(),l}function Wp(e,t,n){var i=tm(e,t),a=e.fc[t],r=Lp(e,t,n),o=[];for(n=0;n<a;n++)o[n]=r[n];for(r=!0;r;)for(r=!1,n=0;n<a;n++){var s=i[n].column,l=e.nodeMinColumnSpace(i[n],!0),u=e.nodeMinColumnSpace(i[n],!1),c=0;if(-1===o[n])if(0===n&&n===a-1)c=s;else if(0===n){var d=i[n+1].column;c=d-s===u+e.nodeMinColumnSpace(i[n+1],!0)?s-1:s}else n===a-1?(d=i[n-1].column,c=s-d===l+e.nodeMinColumnSpace(i[n-1],!1)?s+1:s):(d=i[n-1].column,l=d+e.nodeMinColumnSpace(i[n-1],!1)+l+1,d=i[n+1].column,u=d-e.nodeMinColumnSpace(i[n+1],!0)-u-1,c=(l+u)/2|0);else 0===n&&n===a-1?c=o[n]:0===n?(d=i[n+1].column,u=d-e.nodeMinColumnSpace(i[n+1],!0)-u-1,c=Math.min(o[n],u)):n===a-1?(d=i[n-1].column,l=d+e.nodeMinColumnSpace(i[n-1],!1)+l+1,c=Math.max(o[n],l)):(d=i[n-1].column,l=d+e.nodeMinColumnSpace(i[n-1],!1)+l+1,d=i[n+1].column,u=d-e.nodeMinColumnSpace(i[n+1],!0)-u-1,l<o[n]&&o[n]<u?c=o[n]:l>=o[n]?c=l:u<=o[n]&&(c=u));c!==s&&(r=!0,i[n].column=c)}nm(e,t,i),e.normalize()}function Kp(e,t){for(var n=!0,i=e.network.vertexes.iterator;i.next();){var a=i.value,r=e.nodeMinColumnSpace(a,!0),o=e.nodeMinColumnSpace(a,!1);if(a.column-r<=t&&a.column+o>=t){n=!1;break}}if(e=!1,n)for(i.reset();i.next();)n=i.value,n.column>t&&(--n.column,e=!0);return e}function Jp(e,t){var n,i=t+1,a=[],r=[];for(n=0;n<=e.ya;n++)a[n]=!1,r[n]=!1;for(var o=e.network.vertexes.iterator;o.next();){n=o.value;var s=n.column-e.nodeMinColumnSpace(n,!0),l=n.column+e.nodeMinColumnSpace(n,!1);s<=t&&l>=t&&(a[n.layer]=!0),s<=i&&l>=i&&(r[n.layer]=!0)}for(s=!0,i=!1,n=0;n<=e.ya;n++)s=s&&!(a[n]&&r[n]);if(s)for(o.reset();o.next();)e=o.value,e.column>t&&(--e.column,i=!0);return i}function Xp(e,t){for(var n=0;n<=e.Ha;n++)for(;Kp(e,n););for(e.normalize(),n=0;n<e.Ha;n++)for(;Jp(e,n););var i;if(e.normalize(),t>0)for(n=0;n<=e.Ha;n++){var a=Tp(e),r=Dp(e);for(i=r+1;r<i;){i=r,Zp(e,n,1);var o=Dp(e);o>r?Np(e,a):o<r&&(r=o,a=Tp(e))}}if(t<0)for(n=e.Ha;n>=0;n--)for(a=Tp(e),r=Dp(e),i=r+1;r<i;)i=r,Zp(e,n,-1),o=Dp(e),o>r?Np(e,a):o<r&&(r=o,a=Tp(e));e.normalize()}function Zp(e,t,n){e.Ld=0;for(var i=e.network.vertexes.iterator;i.next();)i.value.component=-1;if(n>0)for(i.reset();i.next();){var a=i.value;a.column-e.nodeMinColumnSpace(a,!0)<=t&&(a.component=e.Ld)}if(n<0)for(i.reset();i.next();)a=i.value,a.column+e.nodeMinColumnSpace(a,!1)>=t&&(a.component=e.Ld);for(e.Ld++,i.reset();i.next();)t=i.value,-1===t.component&&(Mp(e,t,e.Ld,-1,!0,!0),e.Ld++);var r;for(t=[],r=0;r<e.Ld*e.Ld;r++)t[r]=!1;for(a=[],r=0;r<(e.ya+1)*(e.Ha+1);r++)a[r]=-1;for(i.reset();i.next();){r=i.value;for(var o=r.layer,s=Math.max(0,r.column-e.nodeMinColumnSpace(r,!0)),l=Math.min(e.Ha,r.column+e.nodeMinColumnSpace(r,!1));s<=l;s++)a[o*(e.Ha+1)+s]=r.component}for(r=0;r<=e.ya;r++){if(n>0)for(o=0;o<e.Ha;o++)-1!==a[r*(e.Ha+1)+o]&&-1!==a[r*(e.Ha+1)+o+1]&&a[r*(e.Ha+1)+o]!==a[r*(e.Ha+1)+o+1]&&(t[a[r*(e.Ha+1)+o]*e.Ld+a[r*(e.Ha+1)+o+1]]=!0);if(n<0)for(o=e.Ha;o>0;o--)-1!==a[r*(e.Ha+1)+o]&&-1!==a[r*(e.Ha+1)+o-1]&&a[r*(e.Ha+1)+o]!==a[r*(e.Ha+1)+o-1]&&(t[a[r*(e.Ha+1)+o]*e.Ld+a[r*(e.Ha+1)+o-1]]=!0)}for(a=[],r=0;r<e.Ld;r++)a[r]=!0;for(o=[],o.push(0);0!==o.length;)if(l=o[o.length-1],o.pop(),a[l])for(a[l]=!1,r=0;r<e.Ld;r++)t[l*e.Ld+r]&&o.splice(0,0,r);if(n>0)for(i.reset();i.next();)e=i.value,a[e.component]&&--e.column;if(n<0)for(i.reset();i.next();)n=i.value,a[n.component]&&(n.column+=1)}function em(e,t){return 270===e.L?t?_t:Ut:90===e.L?t?Ut:_t:180===e.L?t?Vt:Ft:t?Ft:Vt}function tm(e,t){var n=e.fc[t];if(n>=e.oe.length){for(var i=[],a=0;a<e.oe.length;a++)i[a]=e.oe[a];e.oe=i}for(void 0===e.oe[n]||null===e.oe[n]?i=[]:(i=e.oe[n],e.oe[n]=null),e=e.yo[t],t=0;t<e.length;t++)n=e[t],i[n.index]=n;return i}function nm(e,t,n){e.oe[e.fc[t]]=n}Lf.className="CircularLayout",Lf.ConstantSpacing=zf,Lf.ConstantDistance=Qf,Lf.ConstantAngle=$f,Lf.Packed=Hf,Lf.Clockwise=Gf,Lf.Counterclockwise=Yf,Lf.BidirectionalLeft=Wf,Lf.BidirectionalRight=Kf,Lf.Forwards=Jf,Lf.Reverse=Xf,Lf.Ascending=Zf,Lf.Descending=ep,Lf.Optimized=tp,Lf.Pythagorean=np,Lf.Circular=ip,ap.prototype.compare=function(e,t){if(e>0&&this.am<0||Math.abs(e)<Math.abs(this.am)&&!(e<0&&this.am>0))for(this.am=e,this.tk=[],this.Am=[],e=0;e<t.length;e++)this.tk[e]=t[e].bounds.x,this.Am[e]=t[e].bounds.y},ap.prototype.commit=function(e){if(null!==this.tk&&null!==this.Am)for(var t=0;t<this.tk.length;t++){var n=e.N(t);n.x=this.tk[t],n.y=this.Am[t]}},ap.className="VertexArrangement",f(rp,dh),rp.prototype.createVertex=function(){return new op(this)},rp.prototype.createEdge=function(){return new lp(this)},rp.className="CircularNetwork",f(op,gh),p.Object.defineProperties(op.prototype,{diameter:{get:function(){return this.ej},set:function(e){this.ej!==e&&(this.ej=e)}},actualAngle:{get:function(){return this.K},set:function(e){this.K!==e&&(this.K=e)}}}),op.className="CircularVertex",f(lp,yh),lp.className="CircularEdge",f(up,lh),up.prototype.cloneProtected=function(e){lh.prototype.cloneProtected.call(this,e),e.wd.assign(this.wd),e.Rm=this.Rm,e.Ye=this.Ye,e.Xc=this.Xc,e.ql=this.ql,e.Cn=this.Cn,e.Jf=this.Jf,e.vo=this.vo,e.So=this.So,e.Pk=this.Pk,e.Ok=this.Ok,e.Mk=this.Mk,e.Nk=this.Nk,e.pn=this.pn,e.on=this.on},up.prototype.createNetwork=function(){return new Ap(this)},up.prototype.doLayout=function(e){if(null===this.network&&(this.network=this.makeNetwork(e)),e=this.maxIterations,this.network.vertexes.count>0){this.network.Pp();for(var t=this.network.vertexes.iterator;t.next();){var n=t.value;n.charge=this.electricalCharge(n),n.mass=this.gravitationalMass(n)}for(t=this.network.edges.iterator;t.next();)n=t.value,n.stiffness=this.springStiffness(n),n.length=this.springLength(n);if(this.Iu(),this.$n=0,this.needsClusterLayout()){for(t=this.network,n=t.Nx().iterator;n.next();){this.network=n.value;for(var i=this.network.vertexes.iterator;i.next();){var a=i.value;a.td=a.vertexes.count,a.Ah=1,a.Uj=null,a.Ge=null}cp(this,0,e)}this.network=t,n.reset(),i=this.arrangementSpacing;for(var r=n.count,o=!0,s=a=0,l=O(),u=0;u<r+t.vertexes.count+2;u++)l[u]=null;r=0,n.reset();for(var c=Ue.alloc();n.next();)if(u=n.value,this.computeBounds(u,c),o)o=!1,a=c.x+c.width/2,s=c.y+c.height/2,l[0]=new ge(c.x+c.width+i.width,c.y),l[1]=new ge(c.x,c.y+c.height+i.height),r=2;else{var d=mp(l,r,a,s,c.width,c.height,i),h=l[d],f=new ge(h.x+c.width+i.width,h.y),p=new ge(h.x,h.y+c.height+i.height);for(d+1<r&&l.splice(d+1,0,null),l[d]=f,l[d+1]=p,r++,d=h.x-c.x,h=h.y-c.y,u=u.vertexes.iterator;u.next();)f=u.value,f.centerX+=d,f.centerY+=h}for(Ue.free(c),u=t.vertexes.iterator;u.next();)o=u.value,f=o.bounds,r<2?(a=f.x+f.width/2,s=f.y+f.height/2,l[0]=new ge(f.x+f.width+i.width,f.y),l[1]=new ge(f.x,f.y+f.height+i.height),r=2):(c=mp(l,r,a,s,f.width,f.height,i),h=l[c],d=new ge(h.x+f.width+i.width,h.y),f=new ge(h.x,h.y+f.height+i.height),c+1<r&&l.splice(c+1,0,null),l[c]=d,l[c+1]=f,r++,o.centerX=h.x+o.width/2,o.centerY=h.y+o.height/2);for(M(l),n.reset();n.next();){for(i=n.value,a=i.vertexes.iterator;a.next();)t.sh(a.value);for(i=i.edges.iterator;i.next();)t.Oj(i.value)}}vp(this,e),this.updateParts()}this.ql=e,this.network=null,this.isValidLayout=!0},up.prototype.needsClusterLayout=function(){if(this.network.vertexes.count<3)return!1;for(var e=0,t=0,n=this.network.vertexes.first().bounds,i=this.network.vertexes.iterator;i.next();){if(i.value.bounds.Ic(n)&&(e++,e>2))return!0;if(t>10)break;t++}return!1},up.prototype.computeBounds=function(e,t){var n=!0;for(e=e.vertexes.iterator;e.next();){var i=e.value;n?(n=!1,t.set(i.bounds)):t.Jc(i.bounds)}return t},up.prototype.Iu=function(){if(this.comments)for(var e=this.network.vertexes.iterator;e.next();)this.addComments(e.value)},up.prototype.addComments=function(e){var t=e.node;if(null!==t)for(t=t.Xu();t.next();){var n=t.value;if("Comment"===n.category&&n.isVisible()){var i=this.network.Ii(n);null===i&&(i=this.network.Rl(n)),i.charge=this.defaultCommentElectricalCharge,n=null;for(var a=i.destinationEdges;a.next();){var r=a.value;if(r.toVertex===e){n=r;break}}if(null===n)for(a=i.sourceEdges;a.next();)if(r=a.value,r.fromVertex===e){n=r;break}null===n&&(n=this.network.fk(e,i,null)),n.length=this.defaultCommentSpringLength}}},up.prototype.moveFixedVertex=function(){},up.prototype.commitLayout=function(){this.Jv(),this.commitNodes(),this.isRouting&&this.commitLinks()},up.prototype.Jv=function(){if(this.setsPortSpots)for(var e=this.network.edges.iterator;e.next();){var t=e.value.link;null!==t&&(t.fromSpot=Mt,t.toSpot=Mt)}},up.prototype.commitNodes=function(){var e=0,t=0;if(this.arrangesToOrigin){var n=Ue.alloc();this.computeBounds(this.network,n),t=this.arrangementOrigin,e=t.x-n.x,t=t.y-n.y,Ue.free(n)}n=Ue.alloc();for(var i=this.network.vertexes.iterator;i.next();){var a=i.value;0===e&&0===t||(n.assign(a.bounds),n.x+=e,n.y+=t,a.bounds=n),a.commit()}Ue.free(n)},up.prototype.commitLinks=function(){for(var e=this.network.edges.iterator;e.next();)e.value.commit()},up.prototype.springStiffness=function(e){return e=e.stiffness,isNaN(e)?this.Pk:e},up.prototype.springLength=function(e){return e=e.length,isNaN(e)?this.Ok:e},up.prototype.electricalCharge=function(e){return e=e.charge,isNaN(e)?this.Mk:e},up.prototype.electricalFieldX=function(){return 0},up.prototype.electricalFieldY=function(){return 0},up.prototype.gravitationalMass=function(e){return e=e.mass,isNaN(e)?this.Nk:e},up.prototype.gravitationalFieldX=function(){return 0},up.prototype.gravitationalFieldY=function(){return 0},up.prototype.isFixed=function(e){return e.isFixed},p.Object.defineProperties(up.prototype,{currentIteration:{get:function(){return this.$n}},arrangementSpacing:{get:function(){return this.wd},set:function(e){this.wd.A(e)||(this.wd.assign(e),this.B())}},arrangesToOrigin:{get:function(){return this.Rm},set:function(e){this.Rm!==e&&(this.Rm=e,this.B())}},setsPortSpots:{get:function(){return this.Ye},set:function(e){this.Ye!==e&&(this.Ye=e,this.B())}},comments:{get:function(){return this.Xc},set:function(e){this.Xc!==e&&(this.Xc=e,this.B())}},maxIterations:{get:function(){return this.ql},set:function(e){this.ql!==e&&e>=0&&(this.ql=e,this.B())}},epsilonDistance:{get:function(){return this.Cn},set:function(e){this.Cn!==e&&e>0&&(this.Cn=e,this.B())}},infinityDistance:{get:function(){return this.Jf},set:function(e){this.Jf!==e&&e>1&&(this.Jf=e,this.B())}},moveLimit:{get:function(){return this.vo},set:function(e){this.vo!==e&&e>1&&(this.vo=e,this.B())}},randomNumberGenerator:{get:function(){return this.So},set:function(e){this.So!==e&&(null!==e&&"function"!==typeof e.random&&x('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+e),this.So=e)}},defaultSpringStiffness:{get:function(){return this.Pk},set:function(e){this.Pk!==e&&(this.Pk=e,this.B())}},defaultSpringLength:{get:function(){return this.Ok},set:function(e){this.Ok!==e&&(this.Ok=e,this.B())}},defaultElectricalCharge:{get:function(){return this.Mk},set:function(e){this.Mk!==e&&(this.Mk=e,this.B())}},defaultGravitationalMass:{get:function(){return this.Nk},set:function(e){this.Nk!==e&&(this.Nk=e,this.B())}},defaultCommentSpringLength:{get:function(){return this.pn},set:function(e){this.pn!==e&&(this.pn=e,this.B())}},defaultCommentElectricalCharge:{get:function(){return this.on},set:function(e){this.on!==e&&(this.on=e,this.B())}}}),up.className="ForceDirectedLayout",bp.className="ForceDirectedSubnet",f(Ap,dh),Ap.prototype.createVertex=function(){return new wp(this)},Ap.prototype.createEdge=function(){return new xp(this)},Ap.className="ForceDirectedNetwork",f(wp,gh),p.Object.defineProperties(wp.prototype,{isFixed:{get:function(){return this.Ma},set:function(e){this.Ma!==e&&(this.Ma=e)}},charge:{get:function(){return this.K},set:function(e){this.K!==e&&(this.K=e)}},mass:{get:function(){return this.Vb},set:function(e){this.Vb!==e&&(this.Vb=e)}},forceX:{get:function(){return this.ba},set:function(e){this.ba!==e&&(this.ba=e)}},forceY:{get:function(){return this.La},set:function(e){this.La!==e&&(this.La=e)}}}),wp.className="ForceDirectedVertex",f(xp,yh),p.Object.defineProperties(xp.prototype,{stiffness:{get:function(){return this.u},set:function(e){this.u!==e&&(this.u=e)}},length:{get:function(){return this.l},set:function(e){this.l!==e&&(this.l=e)}}}),xp.className="ForceDirectedEdge",Cp.prototype.random=function(){var e=this.seed%this.Q*this.Px-this.seed/this.Q*this.Tx;return this.seed=e>0?e:e+this.Rx,this.seed*this.Qx},Cp.className="RandomNumberGenerator",f(kp,lh),kp.prototype.cloneProtected=function(e){lh.prototype.cloneProtected.call(this,e),e.ke=this.ke,e.Xb=this.Xb,e.L=this.L,e.Kk=this.Kk,e.ll=this.ll,e.bl=this.bl,e.pj=this.pj,e.vk=this.vk,e.$f=this.$f,e.Ye=this.Ye,e.fo=this.fo},kp.prototype.fb=function(e){e.classType===kp?0===e.name.indexOf("Aggressive")?this.aggressiveOption=e:0===e.name.indexOf("Cycle")?this.cycleRemoveOption=e:0===e.name.indexOf("Init")?this.initializeOption=e:0===e.name.indexOf("Layer")?this.layeringOption=e:x("Unknown enum value: "+e):lh.prototype.fb.call(this,e)},kp.prototype.createNetwork=function(){return new gm(this)},kp.prototype.doLayout=function(e){for(null===this.network&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Lr=-1,this.od=this.qo=0,this.yo=this.wo=this.uj=null,e=0;e<this.oe.length;e++)this.oe[e]=null;if(this.network.vertexes.count>0){for(this.network.Pp(),this.cycleRemoveOption!==rm&&this.removeCycles(),e=this.network.vertexes.iterator;e.next();)e.value.layer=-1;for(this.ya=-1,this.assignLayers(),e.reset();e.next();)this.ya=Math.max(this.ya,e.value.layer);this.cycleRemoveOption===rm&&this.removeCycles(),e=this.network;for(var t=[],n=e.edges.iterator;n.next();){var i=n.value;i.valid=!1,t.push(i)}for(n=0;n<t.length;n++){i=t[n];var a=i.fromVertex,r=i.toVertex;if(!i.valid&&(null!==a.node&&null!==r.node||a.layer!==r.layer)){var o=0,s=0,l=0,u=0;if(null!==i.link){if(s=i.link,null===s)continue;var c=a.node;if(o=r.node,null===c||null===o)continue;var d=s.fromNode;l=s.toNode;var h=s.fromPort;if(s=s.toPort,i.rev){u=d;var f=h;d=l,h=s,l=u,s=f}var p=a.focus;u=r.focus;var m=i.rev?r.bounds:a.bounds;f=ge.alloc(),c!==d?m.o()&&d.isVisible()?d.actualBounds.o()?(d.nf(h,ft,f),f.x+=d.actualBounds.x-m.x,f.y+=d.actualBounds.y-m.y):(d.nf(h,ft,f),f.o()||f.assign(p)):f.assign(p):m.o()?(d.nf(h,ft,f),f.o()||f.assign(p)):f.assign(p),d=i.rev?a.bounds:r.bounds,c=ge.alloc(),o!==l?d.o()&&l.isVisible()?l.actualBounds.o()?(l.nf(s,ft,c),c.x+=l.actualBounds.x-d.x,c.y+=l.actualBounds.y-d.y):(l.nf(s,ft,c),c.o()||c.assign(u)):c.assign(u):d.o()?(l.nf(s,ft,c),c.o()||c.assign(u)):c.assign(u),90===this.L||270===this.L?(o=Math.round((f.x-p.x)/this.Xb),l=f.x,s=Math.round((c.x-u.x)/this.Xb),u=c.x):(o=Math.round((f.y-p.y)/this.Xb),l=f.y,s=Math.round((c.y-u.y)/this.Xb),u=c.y),ge.free(f),ge.free(c),i.portFromColOffset=o,i.portFromPos=l,i.portToColOffset=s,i.portToPos=u}else i.portFromColOffset=0,i.portFromPos=0,i.portToColOffset=0,i.portToPos=0;if(f=a.layer,c=r.layer,d=0,m=i.link,null!==m){var g=m.fromPort,v=m.toPort;if(null!==g&&null!==v){var y=m.fromNode;if(h=m.toNode,null!==y&&null!==h){var b=em(this,!0),A=em(this,!1),w=this.setsPortSpots?b:m.computeSpot(!0,g);p=this.setsPortSpots?A:m.computeSpot(!1,v);var x=m.isOrthogonal;w.qf()&&w.pf(A)&&p.qf()&&p.pf(b)?d=0:(b=m.getLinkPoint(y,g,w,!0,x,h,v,ge.alloc()),A=m.getLinkDirection(y,g,b,w,!0,x,h,v),ge.free(b),w.et()||A!==qp(this,i,!0)?this.setsPortSpots&&null!==y&&1===y.ports.count&&i.rev&&(d+=1):d+=1,w=m.getLinkPoint(h,v,p,!1,x,y,g,ge.alloc()),m=m.getLinkDirection(h,v,w,p,!1,x,y,g),ge.free(w),p.et()||m!==qp(this,i,!1)?this.setsPortSpots&&null!==h&&1===h.ports.count&&i.rev&&(d+=2):d+=2)}}}if(h=d,d=1===h||3===h,(h=2===h||3===h)&&(p=e.createVertex(),p.node=null,p.Pj=1,p.layer=f,p.near=a,e.sh(p),a=e.fk(a,p,i.link),a.valid=!1,a.rev=i.rev,a.portFromColOffset=o,a.portToColOffset=0,a.portFromPos=l,a.portToPos=0,a=p),m=1,d&&m--,f-c>m&&f>0){for(i.valid=!1,p=e.createVertex(),p.node=null,p.Pj=2,p.layer=f-1,e.sh(p),a=e.fk(a,p,i.link),a.valid=!0,a.rev=i.rev,a.portFromColOffset=h?0:o,a.portToColOffset=0,a.portFromPos=h?0:l,a.portToPos=0,a=p,f--;f-c>m&&f>0;)p=e.createVertex(),p.node=null,p.Pj=3,p.layer=f-1,e.sh(p),a=e.fk(a,p,i.link),a.valid=!0,a.rev=i.rev,a.portFromColOffset=0,a.portToColOffset=0,a.portFromPos=0,a.portToPos=0,a=p,f--;a=e.fk(p,r,i.link),a.valid=!d,d&&(p.near=r),a.rev=i.rev,a.portFromColOffset=0,a.portToColOffset=s,a.portFromPos=0,a.portToPos=u}else i.valid=!0}}for(e=this.fc=[],t=0;t<=this.ya;t++)e[t]=0;for(t=this.network.vertexes.iterator;t.next();)t.value.index=-1;for(this.initializeIndices(),this.Lr=-1,n=this.od=this.qo=0;n<=this.ya;n++)e[n]>e[this.od]&&(this.Lr=e[n]-1,this.od=n),e[n]<e[this.qo]&&(this.qo=n);for(this.yo=[],n=0;n<e.length;n++)this.yo[n]=[];for(t.reset();t.next();)e=t.value,this.yo[e.layer][e.index]=e;for(this.Ha=-1,e=0;e<=this.ya;e++){for(t=tm(this,e),n=0,i=this.fc[e],r=0;r<i;r++)a=t[r],n+=this.nodeMinColumnSpace(a,!0),a.column=n,n+=1,n+=this.nodeMinColumnSpace(a,!1);this.Ha=Math.max(this.Ha,n-1),nm(this,e,t)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},kp.prototype.linkMinLength=function(){return 1},kp.prototype.nodeMinLayerSpace=function(e,t){return null===e.node?0:90===this.L||270===this.L?t?e.focus.y+10:e.bounds.height-e.focus.y+10:t?e.focus.x+10:e.bounds.width-e.focus.x+10},kp.prototype.nodeMinColumnSpace=function(e,t){if(null===e.node)return 0;var n=t?e.qv:e.pv;return null!==n?n:(n=this.L,90===n||270===n?t?e.qv=e.focus.x/this.Xb+1|0:e.pv=(e.bounds.width-e.focus.x)/this.Xb+1|0:t?e.qv=e.focus.y/this.Xb+1|0:e.pv=(e.bounds.height-e.focus.y)/this.Xb+1|0)},kp.prototype.countCrossings=function(){for(var e=0,t=0;t<=this.ya;t++)for(var n=Ip(this,t,1),i=this.fc[t],a=0;a<i;a++)for(var r=a;r<i;r++)e+=n[a*i+r];return e},kp.prototype.normalize=function(){var e=1/0;this.Ha=-1;for(var t=this.network.vertexes.iterator;t.next();){var n=t.value;e=Math.min(e,n.column-this.nodeMinColumnSpace(n,!0)),this.Ha=Math.max(this.Ha,n.column+this.nodeMinColumnSpace(n,!1))}for(t.reset();t.next();)t.value.column-=e;this.Ha-=e},kp.prototype.removeCycles=function(){for(var e=this.network.edges.iterator;e.next();)e.value.rev=!1;switch(this.Kk){default:case am:e=this.network;var t=0,n=e.vertexes.count-1,i=[];i.length=n+1;for(var a=e.vertexes.iterator;a.next();)a.value.valid=!0;for(;null!==Ep(e);){for(a=Rp(e);null!==a;)i[n]=a,n--,a.valid=!1,a=Rp(e);for(a=jp(e);null!==a;)i[t]=a,t++,a.valid=!1,a=jp(e);a=null;for(var r=0,o=this.network.vertexes.iterator;o.next();){var s=o.value;if(s.valid){for(var l=0,u=s.destinationEdges;u.next();)u.value.toVertex.valid&&l++;u=0;for(var c=s.sourceEdges;c.next();)c.value.fromVertex.valid&&u++;(null===a||r<l-u)&&(a=s,r=l-u)}}null!==a&&(i[t]=a,t++,a.valid=!1)}for(t=0;t<e.vertexes.count;t++)i[t].index=t;for(i=e.edges.iterator;i.next();)t=i.value,t.fromVertex.index>t.toVertex.index&&(e.sm(t),t.rev=!0);break;case im:for(i=this.network.vertexes.iterator;i.next();)e=i.value,e.Xl=-1,e.finish=-1;for(e=this.network.edges.iterator;e.next();)e.value.forest=!1;for(this.xo=0,i.reset();i.next();)t=i.value,0===t.sourceEdges.count&&Bp(this,t);for(i.reset();i.next();)t=i.value,-1===t.Xl&&Bp(this,t);for(e.reset();e.next();)i=e.value,i.forest||(t=i.fromVertex,n=t.finish,a=i.toVertex,r=a.finish,a.Xl<t.Xl&&n<r&&(this.network.sm(i),i.rev=!0));break;case rm:for(e=this.network,t=e.vertexes.iterator,i=1/0;t.next();)i=Math.min(i,t.value.layer);if(1/0>i){if(i<0)for(t.reset();t.next();)t.value.layer-=i;for(i=[],t.reset();t.next();)n=t.value,a=i[n.layer],void 0===a?i[n.layer]=[n]:a.push(n);for(n=t=0;n<i.length;n++)if(a=i[n],a&&0!==a.length){if(n>0)for(r=0;r<a.length;r++)a[r].layer-=t}else t++;for(i=e.edges.iterator;i.next();)t=i.value,t.fromVertex.layer<t.toVertex.layer&&(e.sm(t),t.rev=!0)}}},kp.prototype.assignLayers=function(){switch(this.ll){case sm:_p(this);break;case lm:for(var e,t=this.network.vertexes.iterator;t.next();)e=Fp(this,t.value),this.ya=Math.max(e,this.ya);for(t.reset();t.next();)e=t.value,e.layer=this.ya-e.layer;break;default:case om:for(_p(this),t=this.network.vertexes.iterator;t.next();)t.value.valid=!1;for(t.reset();t.next();)e=t.value,0===e.sourceEdges.count&&Up(this,e);for(e=1/0,t.reset();t.next();)e=Math.min(e,t.value.layer);for(this.ya=-1,t.reset();t.next();){var n=t.value;n.layer-=e,this.ya=Math.max(this.ya,n.layer)}}},kp.prototype.initializeIndices=function(){switch(this.bl){default:case dm:for(var e=this.network.vertexes.iterator;e.next();){var t=e.value,n=t.layer;t.index=this.fc[n],this.fc[n]++}break;case um:for(e=this.network.vertexes.iterator,t=this.ya;t>=0;t--)for(e.reset();e.next();)n=e.value,n.layer===t&&-1===n.index&&zp(this,n);break;case cm:for(e=this.network.vertexes.iterator,t=0;t<=this.ya;t++)for(e.reset();e.next();)n=e.value,n.layer===t&&-1===n.index&&Qp(this,n)}},kp.prototype.reduceCrossings=function(){var e,t,n,i,a,r=this.countCrossings(),o=Tp(this);for(e=0;e<this.pj;e++){for(t=0;t<=this.ya;t++)$p(this,t,1),Hp(this,t,1);var s=this.countCrossings();for(s<r&&(r=s,o=Tp(this)),t=this.ya;t>=0;t--)$p(this,t,-1),Hp(this,t,-1);s=this.countCrossings(),s<r&&(r=s,o=Tp(this))}for(Np(this,o),e=0;e<this.pj;e++){for(t=0;t<=this.ya;t++)$p(this,t,0),Hp(this,t,0);for(s=this.countCrossings(),s<r&&(r=s,o=Tp(this)),t=this.ya;t>=0;t--)$p(this,t,0),Hp(this,t,0);s=this.countCrossings(),s<r&&(r=s,o=Tp(this))}switch(Np(this,o),this.vk){case hm:break;case pm:for(a=r+1;(t=this.countCrossings())<a;)for(a=t,e=this.ya;e>=0;e--)for(i=0;i<=e;i++){for(n=!0;n;)for(n=!1,t=e;t>=i;t--)n=Hp(this,t,-1)||n;for(s=this.countCrossings(),s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=e;t>=i;t--)n=Hp(this,t,1)||n;for(s=this.countCrossings(),s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=i;t<=e;t++)n=Hp(this,t,1)||n;for(s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=i;t<=e;t++)n=Hp(this,t,-1)||n;for(s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=e;t>=i;t--)n=Hp(this,t,0)||n;for(s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=i;t<=e;t++)n=Hp(this,t,0)||n;s>=r?Np(this,o):(r=s,o=Tp(this))}break;default:case fm:for(e=this.ya,i=0,a=r+1;(t=this.countCrossings())<a;){for(a=t,n=!0;n;)for(n=!1,t=e;t>=i;t--)n=Hp(this,t,-1)||n;for(s=this.countCrossings(),s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=e;t>=i;t--)n=Hp(this,t,1)||n;for(s=this.countCrossings(),s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=i;t<=e;t++)n=Hp(this,t,1)||n;for(s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=i;t<=e;t++)n=Hp(this,t,-1)||n;for(s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=e;t>=i;t--)n=Hp(this,t,0)||n;for(s>=r?Np(this,o):(r=s,o=Tp(this)),n=!0;n;)for(n=!1,t=i;t<=e;t++)n=Hp(this,t,0)||n;s>=r?Np(this,o):(r=s,o=Tp(this))}}Np(this,o)},kp.prototype.straightenAndPack=function(){var e=0!==(1&this.$f),t=7===this.$f;if(this.network.edges.count>1e3&&!t&&(e=!1),e){var n=[];for(t=0;t<=this.ya;t++)n[t]=0;for(var i,a=this.network.vertexes.iterator;a.next();){var r=a.value;t=r.layer,i=r.column,r=this.nodeMinColumnSpace(r,!1),n[t]=Math.max(n[t],i+r)}for(a.reset();a.next();)r=a.value,t=r.layer,i=r.column,r.column=(8*(this.Ha-n[t])>>1)+8*i;this.Ha*=8}if(0!==(2&this.$f))for(n=!0;n;){for(n=!1,t=this.od+1;t<=this.ya;t++)n=Gp(this,t,1)||n;for(t=this.od-1;t>=0;t--)n=Gp(this,t,-1)||n;n=Gp(this,this.od,0)||n}if(0!==(4&this.$f)){for(t=this.od+1;t<=this.ya;t++)Wp(this,t,1);for(t=this.od-1;t>=0;t--)Wp(this,t,-1);Wp(this,this.od,0)}if(e&&(Xp(this,-1),Xp(this,1)),0!==(2&this.$f))for(n=!0;n;){for(n=!1,n=Gp(this,this.od,0)||n,t=this.od+1;t<=this.ya;t++)n=Gp(this,t,0)||n;for(t=this.od-1;t>=0;t--)n=Gp(this,t,0)||n}},kp.prototype.commitLayout=function(){if(this.setsPortSpots)for(var e=em(this,!0),t=em(this,!1),n=this.network.edges.iterator;n.next();){var i=n.value.link;null!==i&&(i.fromSpot=e,i.toSpot=t)}this.commitNodes(),this.Mu(),this.isRouting&&this.commitLinks()},kp.prototype.commitNodes=function(){this.Gd=[],this.md=[],this.ld=[],this.Ka=[];for(var e=0;e<=this.ya;e++)this.Gd[e]=0,this.md[e]=0,this.ld[e]=0,this.Ka[e]=0;for(e=this.network.vertexes.iterator;e.next();){var t=e.value,n=t.layer;this.Gd[n]=Math.max(this.Gd[n],this.nodeMinLayerSpace(t,!0)),this.md[n]=Math.max(this.md[n],this.nodeMinLayerSpace(t,!1))}t=0,n=this.ke;for(var i=0;i<=this.ya;i++){var a=n;this.Gd[i]+this.md[i]<=0&&(a=0),i>0&&(t+=a/2),90===this.L||0===this.L?(t+=this.md[i],this.ld[i]=t,t+=this.Gd[i]):(t+=this.Gd[i],this.ld[i]=t,t+=this.md[i]),i<this.ya&&(t+=a/2),this.Ka[i]=t}for(n=t,t=this.arrangementOrigin,i=0;i<=this.ya;i++)270===this.L?this.ld[i]=t.y+this.ld[i]:90===this.L?(this.ld[i]=t.y+n-this.ld[i],this.Ka[i]=n-this.Ka[i]):180===this.L?this.ld[i]=t.x+this.ld[i]:(this.ld[i]=t.x+n-this.ld[i],this.Ka[i]=n-this.Ka[i]);for(e.reset(),n=i=1/0;e.next();){a=e.value;var r=a.layer,o=0|a.column;if(270===this.L||90===this.L){var s=t.x+this.Xb*o;r=this.ld[r]}else s=this.ld[r],r=t.y+this.Xb*o;a.centerX=s,a.centerY=r,i=Math.min(a.x,i),n=Math.min(a.y,n)}for(i=t.x-i,t=t.y-n,this.jw=new ge(i,t),e.reset();e.next();)n=e.value,n.x+=i,n.y+=t,n.commit()},kp.prototype.Mu=function(){for(var e=0,t=this.ke,n=0;n<=this.ya;n++)e+=this.Gd[n],e+=this.md[n];e+=this.ya*t,t=[],n=this.Xb*this.Ha;for(var i=this.maxLayer;i>=0;i--)270===this.L?0===i?t.push(new Ue(0,0,n,Math.abs(this.Ka[0]))):t.push(new Ue(0,this.Ka[i-1],n,Math.abs(this.Ka[i-1]-this.Ka[i]))):90===this.L?0===i?t.push(new Ue(0,this.Ka[0],n,Math.abs(this.Ka[0]-e))):t.push(new Ue(0,this.Ka[i],n,Math.abs(this.Ka[i-1]-this.Ka[i]))):180===this.L?0===i?t.push(new Ue(0,0,Math.abs(this.Ka[0]),n)):t.push(new Ue(this.Ka[i-1],0,Math.abs(this.Ka[i-1]-this.Ka[i]),n)):0===i?t.push(new Ue(this.Ka[0],0,Math.abs(this.Ka[0]-e),n)):t.push(new Ue(this.Ka[i],0,Math.abs(this.Ka[i-1]-this.Ka[i]),n));this.commitLayers(t,this.jw)},kp.prototype.commitLayers=function(){},kp.prototype.commitLinks=function(){for(var e,t=this.network.edges.iterator;t.next();)e=t.value.link,null!==e&&(e.Bh(),e.Tj(),e.kf());for(t.reset();t.next();)e=t.value.link,null!==e&&e.Yi();for(t.reset();t.next();){var n=t.value;if(e=n.link,null!==e){e.Bh();var i=e,a=i.fromNode,r=i.toNode,o=i.fromPort,s=i.toPort;if(null!==a){var l=a.findVisibleNode();null!==l&&l!==a&&(a=l,o=l.port)}if(null!==r){var u=r.findVisibleNode();null!==u&&u!==r&&(r=u,s=u.port)}var c=e.computeSpot(!0,o),d=e.computeSpot(!1,s),h=n.fromVertex,f=n.toVertex;if(n.valid){if(e.curve===Dd&&4===e.pointsCount)if(h.column===f.column){var p=e.getLinkPoint(a,o,c,!0,!1,r,s),m=e.getLinkPoint(r,s,d,!1,!1,a,o);p.o()||p.set(a.actualBounds.center),m.o()||m.set(r.actualBounds.center),e.Tj(),e.jf(p.x,p.y),e.jf((2*p.x+m.x)/3,(2*p.y+m.y)/3),e.jf((p.x+2*m.x)/3,(p.y+2*m.y)/3),e.jf(m.x,m.y)}else{var g=!1,v=!1;if(null!==o&&c===lt&&(g=!0),null!==s&&d===lt&&(v=!0),g||v){var y=e.i(0).x,b=e.i(0).y,A=e.i(3).x,w=e.i(3).y;if(g){if(90===this.L||270===this.L)var x=y,C=(b+w)/2;else x=(y+A)/2,C=b;e.M(1,x,C);var k=e.getLinkPoint(a,o,c,!0,!1,r,s);k.o()||k.set(a.actualBounds.center),e.M(0,k.x,k.y)}if(v){if(90===this.L||270===this.L)var S=A,T=(b+w)/2;else S=(y+A)/2,T=w;e.M(2,S,T);var N=e.getLinkPoint(r,s,d,!1,!1,a,o);N.o()||N.set(r.actualBounds.center),e.M(3,N.x,N.y)}}}e.kf()}else if(h.layer===f.layer)e.kf();else{var I,D=!1,P=!1,L=e.firstPickIndex+1;if(e.isOrthogonal){P=!0;var O=e.pointsCount;O>4&&e.points.removeRange(2,O-3)}else if(e.curve===Dd)D=!0,O=e.pointsCount,O>4&&e.points.removeRange(2,O-3),L=2;else{O=e.pointsCount;var M=c===lt,E=d===lt;O>2&&M&&E?e.points.removeRange(1,O-2):O>3&&M&&!E?e.points.removeRange(1,O-3):O>3&&!M&&E?e.points.removeRange(2,O-2):O>4&&!M&&!E&&e.points.removeRange(2,O-3)}if(n.rev){for(var R;null!==f&&h!==f;){for(var j=I=null,B=f.sourceEdges.iterator;B.next();){var _=B.value;if(_.link===n.link&&(I=_.fromVertex,j=_.toVertex,null===I.node))break}if(I!==h){var V=e.i(L-1).x,F=e.i(L-1).y,U=I.centerX,q=I.centerY;if(P)if(180===this.L||0===this.L){if(2===L)e.m(L++,V,F),e.m(L++,V,q);else if((null!==j?j.centerY:F)!==q){var z=this.Ka[I.layer-1];e.m(L++,z,F),e.m(L++,z,q)}}else 2===L?(e.m(L++,V,F),e.m(L++,U,F)):(null!==j?j.centerX:V)!==U&&(z=this.Ka[I.layer-1],e.m(L++,V,z),e.m(L++,U,z));else if(2===L){var Q=Math.max(10,this.Gd[f.layer]),$=Math.max(10,this.md[f.layer]);if(D)180===this.L?U<=f.bounds.x?(R=f.bounds.x,e.m(L++,R-Q,q),e.m(L++,R,q),e.m(L++,R+$,q)):(e.m(L++,U-Q,q),e.m(L++,U,q),e.m(L++,U+$,q)):90===this.L?q>=f.bounds.bottom?(R=f.bounds.y+f.bounds.height,e.m(L++,U,R+$),e.m(L++,U,R),e.m(L++,U,R-Q)):(e.m(L++,U,q+$),e.m(L++,U,q),e.m(L++,U,q-Q)):270===this.L?q<=f.bounds.y?(R=f.bounds.y,e.m(L++,U,R-Q),e.m(L++,U,R),e.m(L++,U,R+$)):(e.m(L++,U,q-Q),e.m(L++,U,q),e.m(L++,U,q+$)):0===this.L&&(U>=f.bounds.right?(R=f.bounds.x+f.bounds.width,e.m(L++,R+$,q),e.m(L++,R,q),e.m(L++,R-Q,q)):(e.m(L++,U+$,q),e.m(L++,U,q),e.m(L++,U-Q,q)));else{e.m(L++,V,F);var H=0;180===this.L||0===this.L?((180===this.L?U>=f.bounds.right:U<=f.bounds.x)&&(H=(0===this.L?-Q:$)/2),e.m(L++,V+H,q)):((270===this.L?q>=f.bounds.bottom:q<=f.bounds.y)&&(H=(90===this.L?-Q:$)/2),e.m(L++,U,F+H)),e.m(L++,U,q)}}else Q=Math.max(10,this.Gd[I.layer]),$=Math.max(10,this.md[I.layer]),180===this.L?(D&&e.m(L++,U-Q,q),e.m(L++,U,q),D&&e.m(L++,U+$,q)):90===this.L?(D&&e.m(L++,U,q+$),e.m(L++,U,q),D&&e.m(L++,U,q-Q)):270===this.L?(D&&e.m(L++,U,q-Q),e.m(L++,U,q),D&&e.m(L++,U,q+$)):(D&&e.m(L++,U+$,q),e.m(L++,U,q),D&&e.m(L++,U-Q,q))}f=I}if(null===s||c!==lt||P)if(V=e.i(L-1).x,F=e.i(L-1).y,U=e.i(L).x,q=e.i(L).y,P){var G=this.md[h.layer];if(180===this.L||0===this.L){var Y=F;Y>=h.bounds.y&&Y<=h.bounds.bottom&&(180===this.L?U>=h.bounds.x:U<=h.bounds.right)&&(R=h.centerX+(180===this.L?-G:G),Y=Y<h.bounds.y+h.bounds.height/2?h.bounds.y-this.Xb/2:h.bounds.bottom+this.Xb/2,e.m(L++,R,F),e.m(L++,R,Y)),e.m(L++,U,Y)}else Y=V,Y>=h.bounds.x&&Y<=h.bounds.right&&(270===this.L?q>=h.bounds.y:q<=h.bounds.bottom)&&(R=h.centerY+(270===this.L?-G:G),Y=Y<h.bounds.x+h.bounds.width/2?h.bounds.x-this.Xb/2:h.bounds.right+this.Xb/2,e.m(L++,V,R),e.m(L++,Y,R)),e.m(L++,Y,q);e.m(L++,U,q)}else if(D)Q=Math.max(10,this.Gd[h.layer]),$=Math.max(10,this.md[h.layer]),180===this.L&&U>=h.bounds.x?(R=h.bounds.x+h.bounds.width,e.M(L-2,R,F),e.M(L-1,R+$,F)):90===this.L&&q<=h.bounds.bottom?(R=h.bounds.y,e.M(L-2,V,R),e.M(L-1,V,R-Q)):270===this.L&&q>=h.bounds.y?(R=h.bounds.y+h.bounds.height,e.M(L-2,V,R),e.M(L-1,V,R+$)):0===this.L&&U<=h.bounds.right&&(R=h.bounds.x,e.M(L-2,R,F),e.M(L-1,R-Q,F));else{Q=Math.max(10,this.Gd[h.layer]),$=Math.max(10,this.md[h.layer]);var W=0;180===this.L||0===this.L?((180===this.L?U<=h.bounds.x:U>=h.bounds.right)&&(W=(0===this.L?$:-Q)/2),e.m(L++,U+W,F)):((270===this.L?q<=h.bounds.y:q>=h.bounds.bottom)&&(W=(90===this.L?$:-Q)/2),e.m(L++,V,q+W)),e.m(L++,U,q)}}else{for(;null!==h&&h!==f;){j=I=null;for(var K=h.destinationEdges.iterator;K.next();){var J=K.value;if(J.link===n.link&&(I=J.toVertex,j=J.fromVertex,null!==j.node&&(j=null),null===I.node))break}I!==f&&(V=e.i(L-1).x,F=e.i(L-1).y,U=I.centerX,q=I.centerY,P?180===this.L||0===this.L?(null!==j?j.centerY:F)!==q&&(z=this.Ka[I.layer],2===L&&(z=0===this.L?Math.max(z,V):Math.min(z,V)),e.m(L++,z,F),e.m(L++,z,q)):(null!==j?j.centerX:V)!==U&&(z=this.Ka[I.layer],2===L&&(z=90===this.L?Math.max(z,F):Math.min(z,F)),e.m(L++,V,z),e.m(L++,U,z)):(Q=Math.max(10,this.Gd[I.layer]),$=Math.max(10,this.md[I.layer]),180===this.L?(e.m(L++,U+$,q),D&&e.m(L++,U,q),e.m(L++,U-Q,q)):90===this.L?(e.m(L++,U,q-Q),D&&e.m(L++,U,q),e.m(L++,U,q+$)):270===this.L?(e.m(L++,U,q+$),D&&e.m(L++,U,q),e.m(L++,U,q-Q)):(e.m(L++,U-Q,q),D&&e.m(L++,U,q),e.m(L++,U+$,q)))),h=I}P&&(V=e.i(L-1).x,F=e.i(L-1).y,U=e.i(L).x,q=e.i(L).y,180===this.L||0===this.L?F!==q&&(z=0===this.L?Math.min(Math.max((U+V)/2,this.Ka[f.layer]),U):Math.max(Math.min((U+V)/2,this.Ka[f.layer]),U),e.m(L++,z,F),e.m(L++,z,q)):V!==U&&(z=90===this.L?Math.min(Math.max((q+F)/2,this.Ka[f.layer]),q):Math.max(Math.min((q+F)/2,this.Ka[f.layer]),q),e.m(L++,V,z),e.m(L++,U,z)))}if(null!==i&&D){if(null!==o){if(c===lt){var X=e.i(0),Z=e.i(2);X.A(Z)||e.M(1,(X.x+Z.x)/2,(X.y+Z.y)/2)}var ee=e.getLinkPoint(a,o,lt,!0,!1,r,s);ee.o()||ee.set(a.actualBounds.center),e.M(0,ee.x,ee.y)}if(null!==s){if(d===lt){var te=e.i(e.pointsCount-1),ne=e.i(e.pointsCount-3);te.A(ne)||e.M(e.pointsCount-2,(te.x+ne.x)/2,(te.y+ne.y)/2)}var ae=e.getLinkPoint(r,s,lt,!1,!1,a,o);ae.o()||ae.set(r.actualBounds.center),e.M(e.pointsCount-1,ae.x,ae.y)}}e.kf(),n.commit()}}}for(var re=new ie,oe=this.network.edges.iterator;oe.next();){var se=oe.value.link;null!==se&&se.isOrthogonal&&!re.contains(se)&&re.add(se)}if(re.count>0)if(90===this.L||270===this.L){for(var le,ue,ce=[],de=re.iterator;de.next();){var he=de.value;if(null!==he&&he.isOrthogonal)for(var fe=2;fe<he.pointsCount-3;fe++)if(le=he.i(fe),ue=he.i(fe+1),this.w(le.y,ue.y)&&!this.w(le.x,ue.x)){var pe=new mm;pe.layer=Math.floor(le.y/2);var me=he.i(0),ge=he.i(he.pointsCount-1);if(pe.first=me.x*me.x+me.y,pe.Tb=ge.x*ge.x+ge.y,pe.Sc=Math.min(le.x,ue.x),pe.sc=Math.max(le.x,ue.x),pe.index=fe,pe.link=he,fe+2<he.pointsCount){var ve=he.i(fe-1),ye=he.i(fe+2),be=0;ve.y<le.y?be=ye.y<le.y?3:le.x<ue.x?2:1:ve.y>le.y&&(be=ye.y>le.y?0:ue.x<le.x?2:1),pe.l=be}ce.push(pe)}}if(ce.length>1){ce.sort(this.Fx);for(var Ae=0;Ae<ce.length;){for(var we=ce[Ae].layer,xe=Ae+1;xe<ce.length&&ce[xe].layer===we;)xe++;if(xe-Ae>1)for(var Ce=Ae;Ce<xe;){for(var ke=ce[Ce].sc,Se=Ae+1;Se<xe&&ce[Se].Sc<ke;)ke=Math.max(ke,ce[Se].sc),Se++;var Te=Se-Ce;if(Te>1){this.Vi(ce,this.st,Ce,Ce+Te);for(var Ne=1,Ie=ce[Ce].Tb,De=Ce;De<Se;De++){var Pe=ce[De];Pe.Tb!==Ie&&(Ne++,Ie=Pe.Tb)}this.Vi(ce,this.Ex,Ce,Ce+Te);var Le=1;Ie=ce[Ce].first;for(var Oe=Ce;Oe<Se;Oe++){var Me=ce[Oe];Me.first!==Ie&&(Le++,Ie=Me.first)}var Ee=!0,Re=Le;Ne<Le?(Ee=!1,Re=Ne,Ie=ce[Ce].Tb,this.Vi(ce,this.st,Ce,Ce+Te)):Ie=ce[Ce].first;for(var je=0,Be=Ce;Be<Se;Be++){var _e=ce[Be];(Ee?_e.first:_e.Tb)!==Ie&&(je++,Ie=Ee?_e.first:_e.Tb);var Ve=_e.link;le=Ve.i(_e.index),ue=Ve.i(_e.index+1);var Fe=this.linkSpacing*(je-(Re-1)/2);Ve.Bh(),Ve.M(_e.index,le.x,le.y+Fe),Ve.M(_e.index+1,ue.x,ue.y+Fe),Ve.kf()}}Ce=Se}Ae=xe}}}else{for(var Ue,qe,ze=[],Qe=re.iterator;Qe.next();){var $e=Qe.value;if(null!==$e&&$e.isOrthogonal)for(var He=2;He<$e.pointsCount-3;He++)if(Ue=$e.i(He),qe=$e.i(He+1),this.w(Ue.x,qe.x)&&!this.w(Ue.y,qe.y)){var Ge=new mm;Ge.layer=Math.floor(Ue.x/2);var Ye=$e.i(0),We=$e.i($e.pointsCount-1);if(Ge.first=Ye.x+Ye.y*Ye.y,Ge.Tb=We.x+We.y*We.y,Ge.Sc=Math.min(Ue.y,qe.y),Ge.sc=Math.max(Ue.y,qe.y),Ge.index=He,Ge.link=$e,He+2<$e.pointsCount){var Ke=$e.i(He-1),Je=$e.i(He+2),Xe=0;Ke.x<Ue.x?Xe=Je.x<Ue.x?3:Ue.y<qe.y?2:1:Ke.x>Ue.x&&(Xe=Je.x>Ue.x?0:qe.y<Ue.y?2:1),Ge.l=Xe}ze.push(Ge)}}if(ze.length>1){ze.sort(this.Fx);for(var Ze=0;Ze<ze.length;){for(var et=ze[Ze].layer,tt=Ze+1;tt<ze.length&&ze[tt].layer===et;)tt++;if(tt-Ze>1)for(var nt=Ze;nt<tt;){for(var it=ze[nt].sc,at=Ze+1;at<tt&&ze[at].Sc<it;)it=Math.max(it,ze[at].sc),at++;var rt=at-nt;if(rt>1){this.Vi(ze,this.st,nt,nt+rt);for(var ot=1,st=ze[nt].Tb,ut=nt;ut<at;ut++){var ct=ze[ut];ct.Tb!==st&&(ot++,st=ct.Tb)}this.Vi(ze,this.Ex,nt,nt+rt);var dt=1;st=ze[nt].first;for(var ht=nt;ht<at;ht++){var ft=ze[ht];ft.first!==st&&(dt++,st=ft.first)}var pt=!0,mt=dt;ot<dt?(pt=!1,mt=ot,st=ze[nt].Tb,this.Vi(ze,this.st,nt,nt+rt)):st=ze[nt].first;for(var gt=0,vt=nt;vt<at;vt++){var yt=ze[vt];(pt?yt.first:yt.Tb)!==st&&(gt++,st=pt?yt.first:yt.Tb);var bt=yt.link;Ue=bt.i(yt.index),qe=bt.i(yt.index+1);var At=this.linkSpacing*(gt-(mt-1)/2);bt.Bh(),bt.M(yt.index,Ue.x+At,Ue.y),bt.M(yt.index+1,qe.x+At,qe.y),bt.kf()}}nt=at}Ze=tt}}}},n=kp.prototype,n.Fx=function(e,t){return e instanceof mm&&t instanceof mm&&e!==t?e.layer<t.layer?-1:e.layer>t.layer?1:e.Sc<t.Sc?-1:e.Sc>t.Sc?1:e.sc<t.sc?-1:e.sc>t.sc?1:0:0},n.Ex=function(e,t){return e instanceof mm&&t instanceof mm&&e!==t?e.first<t.first?-1:e.first>t.first||e.l<t.l?1:e.l>t.l||e.Sc<t.Sc?-1:e.Sc>t.Sc?1:e.sc<t.sc?-1:e.sc>t.sc?1:0:0},n.st=function(e,t){return e instanceof mm&&t instanceof mm&&e!==t?e.Tb<t.Tb?-1:e.Tb>t.Tb||e.l<t.l?1:e.l>t.l||e.Sc<t.Sc?-1:e.Sc>t.Sc?1:e.sc<t.sc?-1:e.sc>t.sc?1:0:0},n.w=function(e,t){return e-=t,e>-1&&e<1},n.Vi=function(e,t,n,i){var a=e.length,r=i-n;if(!(r<=1))if((n<0||n>=a-1)&&x("not in range 0 <= from < length: "+n),2===r)i=e[n],a=e[n+1],t(i,a)>0&&(e[n]=a,e[n+1]=i);else if(0===n)if(i>=a)e.sort(t);else for(n=e.slice(0,i),n.sort(t),t=0;t<i;t++)e[t]=n[t];else if(i>=a)for(i=e.slice(n),i.sort(t),t=n;t<a;t++)e[t]=i[t-n];else for(a=e.slice(n,i),a.sort(t),t=n;t<i;t++)e[t]=a[t-n]},p.Object.defineProperties(kp.prototype,{layerSpacing:{get:function(){return this.ke},set:function(e){this.ke!==e&&e>=0&&(this.ke=e,this.B())}},columnSpacing:{get:function(){return this.Xb},set:function(e){this.Xb!==e&&e>0&&(this.Xb=e,this.B())}},direction:{get:function(){return this.L},set:function(e){this.L!==e&&(0===e||90===e||180===e||270===e?(this.L=e,this.B()):x("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.Kk},set:function(e){this.Kk===e||e!==am&&e!==im&&e!==rm||(this.Kk=e,this.B())}},layeringOption:{get:function(){return this.ll},set:function(e){this.ll===e||e!==om&&e!==sm&&e!==lm||(this.ll=e,this.B())}},initializeOption:{get:function(){return this.bl},set:function(e){this.bl===e||e!==um&&e!==cm&&e!==dm||(this.bl=e,this.B())}},iterations:{get:function(){return this.pj},set:function(e){this.pj!==e&&e>=0&&(this.pj=e,this.B())}},aggressiveOption:{get:function(){return this.vk},set:function(e){this.vk===e||e!==hm&&e!==fm&&e!==pm||(this.vk=e,this.B())}},packOption:{get:function(){return this.$f},set:function(e){this.$f!==e&&e>=0&&e<8&&(this.$f=e,this.B())}},setsPortSpots:{get:function(){return this.Ye},set:function(e){this.Ye!==e&&(this.Ye=e,this.B())}},linkSpacing:{get:function(){return this.fo},set:function(e){this.fo!==e&&e>=0&&(this.fo=e,this.B())}},maxLayer:{get:function(){return this.ya}},maxIndex:{get:function(){return this.Lr}},maxColumn:{get:function(){return this.Ha}},minIndexLayer:{get:function(){return this.qo}},maxIndexLayer:{get:function(){return this.od}}});var im=new Y(kp,"CycleDepthFirst",0),am=new Y(kp,"CycleGreedy",1),rm=new Y(kp,"CycleFromLayers",2),om=new Y(kp,"LayerOptimalLinkLength",0),sm=new Y(kp,"LayerLongestPathSink",1),lm=new Y(kp,"LayerLongestPathSource",2),um=new Y(kp,"InitDepthFirstOut",0),cm=new Y(kp,"InitDepthFirstIn",1),dm=new Y(kp,"InitNaive",2),hm=new Y(kp,"AggressiveNone",0),fm=new Y(kp,"AggressiveLess",1),pm=new Y(kp,"AggressiveMore",2);function mm(){this.index=this.sc=this.Sc=this.Tb=this.first=this.layer=0,this.link=null,this.l=0}function gm(e){dh.call(this,e)}function vm(e){gh.call(this,e),this.Sa=this.Cg=this.fi=-1,this.K=NaN,this.ba=null,this.valid=!1,this.finish=this.Xl=NaN,this.Pj=0,this.pv=this.qv=null}function ym(e){yh.call(this,e),this.l=this.Ma=this.Vb=!1,this.La=this.K=NaN,this.ba=this.u=0}function bm(){lh.call(this),this.Fb=new re,this.Mo=Jm,this.Zc=Xm,this.Dp=pg,this.Jr=wg,this.iw=[],this.Xc=!0,this.Ab=yg,this.wd=new Be(10,10).freeze();var e=new kg(this);this.U=new Sg(e),this.V=new Sg(e),this.xu=[]}function Am(e){var t=new re;for(e=e.iterator;e.next();){var n=e.value;n.initialized||t.add(n)}return t}function wm(e,t){var n=999999,i=null;for(t=t.iterator;t.next();){var a=t.value;switch(e.Zc){case Xm:a.sourceEdges.count<n&&(n=a.sourceEdges.count,i=a);break;case Zm:a.destinationEdges.count<n&&(n=a.destinationEdges.count,i=a);break;default:x("Unhandled path value "+e.Zc.toString())}}return i}function xm(e,t){if(null!==t){switch(e.Zc){case Xm:if(t.destinationEdges.count>0){for(var n=new ie,i=t.destinationVertexes;i.next();){var a=i.value;Cm(e,t,a)&&n.add(a)}n.count>0&&(t.children=n.Na())}break;case Zm:if(t.sourceEdges.count>0){for(n=new ie,i=t.sourceVertexes;i.next();)a=i.value,Cm(e,t,a)&&n.add(a);n.count>0&&(t.children=n.Na())}break;default:x("Unhandled path value"+e.Zc.toString())}for(n=t.children,i=n.length,a=0;a<i;a++){var r=n[a];r.initialized=!0,r.level=t.level+1,r.parent=t,e.Fb.remove(r)}for(t=0;t<i;t++)xm(e,n[t])}}function Cm(e,t,n){if(n.initialized){if(null===t)var i=!1;else{for(i=t.parent;null!==i&&i!==n;)i=i.parent;i=i===n}if(i||n.level>t.level)return!1;e.removeChild(n.parent,n)}return!0}function km(e,t){if(null!==t){e.initializeTreeVertexValues(t),t.alignment===ug&&e.sortTreeVertexChildren(t);for(var n=0,i=t.childrenCount,a=0,r=t.children,o=r.length,s=0;s<o;s++){var l=r[s];km(e,l),n+=l.descendantCount+1,i=Math.max(i,l.maxChildrenCount),a=Math.max(a,l.maxGenerationCount)}t.descendantCount=n,t.maxChildrenCount=i,t.maxGenerationCount=i>0?a+1:0}}function Sm(e,t){switch(e.Dp){default:case pg:return null!==t.parent?t.parent:e.U;case vg:return null===t.parent?e.U:null===t.parent.parent?e.V:t.parent;case gg:return null!==t.parent?null!==t.parent.parent?t.parent.parent:e.V:e.U;case mg:var n=!0;if(0===t.childrenCount)n=!1;else for(var i=t.children,a=i.length,r=0;r<a;r++)if(i[r].childrenCount>0){n=!1;break}return n&&null!==t.parent?e.V:null!==t.parent?t.parent:e.U}}function Tm(e,t){if(null!==t){e.assignTreeVertexValues(t),t=t.children;for(var n=t.length,i=0;i<n;i++)Tm(e,t[i])}}function Nm(e,t){if(null!==t){t.alignment!==ug&&e.sortTreeVertexChildren(t),t=t.children;for(var n=t.length,i=0;i<n;i++)Nm(e,t[i])}}function Im(e){return e===lg||e===ug||e===cg||e===dg}function Dm(e){return e===lg||e===ug}function Pm(e){var t=e.parent;if(null!==t){var n=t.alignment;if(Im(n)){if(Dm(n)){for(t=t.children,n=0;n<t.length&&e!==t[n];)n++;return n%2===0}if(n===cg)return!0}}return!1}function Lm(e,t){if(0===t.childrenCount){var n=!1,i=0;null!==t.parent&&(i=t.parent.angle,n=t.parent.alignment,n=Im(n));var a=Pm(t);t.T.h(0,0),t.ua.h(t.width,t.height),null===t.parent||null===t.comments||(180!==i&&270!==i||n)&&!a?t.ia.h(0,0):180===i&&!n||(90===i||270===i)&&a?t.ia.h(t.width-2*t.focus.x,0):t.ia.h(0,t.height-2*t.focus.y)}else{i=Ym(t),n=90===i||270===i;var r=0;a=t.children;for(var o=a.length,s=0;s<o;s++){var l=a[s];r=Math.max(r,n?l.ua.width:l.ua.height)}var u=t.alignment,c=u===og,d=u===sg;s=Im(u);var h=Math.max(0,t.breadthLimit);l=Wm(t);var f=t.nodeSpacing,p=Km(t),m=c||d?0:p/2,g=t.rowSpacing,v=0;(c||d||t.tm||t.um&&1===t.maxGenerationCount)&&(v=Math.max(0,t.rowIndent)),c=t.width;var y=t.height,b=0,A=0,w=0,C=0,k=0,S=0,T=0,N=0,I=0;if(s&&!Dm(u)&&i>135&&a.reverse(),Dm(u))if(o>1)for(var D=0;D<o;D++){var P=a[D],L=P.ua;D%2===0&&D!==o-1&&(I=Math.max(I,(n?L.width:L.height)+Em(P)-f))}else 1===o&&(I=n?a[0].ua.width:a[0].ua.height);if(s)switch(u){case lg:case ug:A=i<135?Om(t,a,I,b,A):Mm(t,a,I,b,A),I=A.x,b=A.width,A=A.height;break;case cg:for(e=0;e<o;e++)h=a[e],m=h.ua,w=0===T?0:g,n?(h.T.h(r-m.width,k+w),b=Math.max(b,m.width),A=Math.max(A,k+w+m.height),k+=w+m.height):(h.T.h(C+w,r-m.height),b=Math.max(b,C+w+m.width),A=Math.max(A,m.height),C+=w+m.width),T++;break;case dg:for(r=0;r<o;r++)e=a[r],h=e.ua,m=0===T?0:g,n?(e.T.h(f/2+t.focus.x,k+m),b=Math.max(b,h.width),A=Math.max(A,k+m+h.height),k+=m+h.height):(e.T.h(C+m,f/2+t.focus.y),b=Math.max(b,C+m+h.width),A=Math.max(A,h.height),C+=m+h.width),T++}else for(D=0;D<o;D++){if(P=a[D],L=P.ua,n){h>0&&T>0&&C+f+L.width>h&&(C<r&&Vm(t,u,r-C,0,N,D-1),S++,T=0,N=D,w=A,C=0,k=i>135?-A-g:A+g);var O=0===T?m:f;Um(e,P,0,k),P.T.h(C+O,k),b=Math.max(b,C+O+L.width),A=Math.max(A,w+(0===S?0:g)+L.height),C+=O+L.width}else h>0&&T>0&&k+f+L.height>h&&(k<r&&Vm(t,u,0,r-k,N,D-1),S++,T=0,N=D,w=b,k=0,C=i>135?-b-g:b+g),O=0===T?m:f,Um(e,P,C,0),P.T.h(C,k+O),A=Math.max(A,k+O+L.height),b=Math.max(b,w+(0===S?0:g)+L.width),k+=O+L.height;T++}switch(S>0&&(n?(A+=Math.max(0,l),C<b&&Vm(t,u,b-C,0,N,o-1),v>0&&(d||Fm(t,v,0,0,o-1),b+=v)):(b+=Math.max(0,l),k<A&&Vm(t,u,0,A-k,N,o-1),v>0&&(d||Fm(t,0,v,0,o-1),A+=v))),v=d=0,u){case ag:n?d+=b/2-t.focus.x-p/2:v+=A/2-t.focus.y-p/2;break;case rg:S>0?n?d+=b/2-t.focus.x-p/2:v+=A/2-t.focus.y-p/2:n?(u=a[0].T.x+a[0].ia.x,d+=u+(a[o-1].T.x+a[o-1].ia.x+2*a[o-1].focus.x-u)/2-t.focus.x-p/2):(u=a[0].T.y+a[0].ia.y,v+=u+(a[o-1].T.y+a[o-1].ia.y+2*a[o-1].focus.y-u)/2-t.focus.y-p/2);break;case og:n?(d-=p,b+=p):(v-=p,A+=p);break;case sg:n?(d+=b-t.width+p,b+=p):(v+=A-t.height+p,A+=p);break;case lg:case ug:n?d+=o>1?I+f/2-t.focus.x:a[0].focus.x-t.focus.x+a[0].ia.x:v+=o>1?I+f/2-t.focus.y:a[0].focus.y-t.focus.y+a[0].ia.y;break;case cg:n?d+=b+f/2-t.focus.x:v+=A+f/2-t.focus.y;break;case dg:break;default:x("Unhandled alignment value "+u.toString())}for(p=0;p<o;p++)u=a[p],n?u.T.h(u.T.x+u.ia.x-d,u.T.y+(i>135?(s?-A:-u.ua.height)+u.ia.y-l:y+l+u.ia.y)):u.T.h(u.T.x+(i>135?(s?-b:-u.ua.width)+u.ia.x-l:c+l+u.ia.x),u.T.y+u.ia.y-v);n?(b=jm(t,b,d),d<0&&(d=0),i>135&&(v+=A+l),A+=y+l):(i>135&&(d+=b+l),b+=c+l,A=Bm(t,A,v),v<0&&(v=0)),t.ia.h(d,v),t.ua.h(b,A)}}function Om(e,t,n,i,a){var r=t.length;if(0===r)return new Ue(n,0,i,a);if(1===r)return e=t[0],i=e.ua.width,a=e.ua.height,new Ue(n,0,i,a);for(var o=e.nodeSpacing,s=e.rowSpacing,l=90===Ym(e),u=0,c=0,d=0,h=0;h<r;h++)if(!(h%2!==0||r>1&&h===r-1)){var f=t[h],p=f.ua,m=0===u?0:s;if(l){var g=Em(f)-o;f.T.h(n-(p.width+g),d+m),i=Math.max(i,p.width+g),a=Math.max(a,d+m+p.height),d+=m+p.height}else g=Em(f)-o,f.T.h(c+m,n-(p.height+g)),a=Math.max(a,p.height+g),i=Math.max(i,c+m+p.width),c+=m+p.width;u++}for(u=0,f=c,h=d,l?(c=n+o,d=0):(c=0,d=n+o),p=0;p<r;p++)if(p%2!==0){m=t[p],g=m.ua;var v=0===u?0:s;if(l){var y=Em(m)-o;m.T.h(c+y,d+v),i=Math.max(i,c+g.width+y),a=Math.max(a,d+v+g.height),d+=v+g.height}else y=Em(m)-o,m.T.h(c+v,d+y),i=Math.max(i,c+v+g.width),a=Math.max(a,d+g.height+y),c+=v+g.width;u++}return r>1&&r%2===1&&(t=t[r-1],r=t.ua,s=null===t.parent?0:t.parent.rowSpacing,l?(t.T.h(n+o/2-t.focus.x-t.ia.x,a+s),l=n+o/2-t.focus.x-t.ia.x,i=Math.max(i,l+r.width),l<0&&(i-=l),a=Math.max(a,Math.max(h,d)+s+r.height),t.T.x<0&&(n=Rm(e,t.T.x,!1,n,o))):(t.T.h(i+s,n+o/2-t.focus.y-t.ia.y),i=Math.max(i,Math.max(f,c)+s+r.width),d=n+o/2-t.focus.y-t.ia.y,a=Math.max(a,d+r.height),d<0&&(a-=d),t.T.y<0&&(n=Rm(e,t.T.y,!0,n,o)))),new Ue(n,0,i,a)}function Mm(e,t,n,i,a){var r=t.length;if(0===r)return new Ue(n,0,i,a);if(1===r)return t=t[0],i=t.ua.width,a=t.ua.height,new Ue(n,0,i,a);for(var o=e.nodeSpacing,s=e.rowSpacing,l=270===Ym(e),u=0,c=0,d=0,h=0;h<r;h++)if(!(h%2!==0||r>1&&h===r-1)){var f=t[h],p=f.ua,m=0===u?0:s;if(l){var g=Em(f)-o;d-=m+p.height,f.T.h(n-(p.width+g),d),i=Math.max(i,p.width+g),a=Math.max(a,Math.abs(d))}else g=Em(f)-o,c-=m+p.width,f.T.h(c,n-(p.height+g)),a=Math.max(a,p.height+g),i=Math.max(i,Math.abs(c));u++}for(u=0,f=c,h=d,l?(c=n+o,d=0):(c=0,d=n+o),p=0;p<r;p++)if(p%2!==0){m=t[p],g=m.ua;var v=0===u?0:s;if(l){var y=Em(m)-o;d-=v+g.height,m.T.h(c+y,d),i=Math.max(i,c+g.width+y),a=Math.max(a,Math.abs(d))}else y=Em(m)-o,c-=v+g.width,m.T.h(c,d+y),a=Math.max(a,d+g.height+y),i=Math.max(i,Math.abs(c));u++}for(r>1&&r%2===1&&(s=t[r-1],u=s.ua,p=null===s.parent?0:s.parent.rowSpacing,l?(s.T.h(n+o/2-s.focus.x-s.ia.x,-a-u.height-p),c=n+o/2-s.focus.x-s.ia.x,i=Math.max(i,c+u.width),c<0&&(i-=c),a=Math.max(a,Math.abs(Math.min(h,d))+p+u.height),s.T.x<0&&(n=Rm(e,s.T.x,!1,n,o))):(s.T.h(-i-u.width-p,n+o/2-s.focus.y-s.ia.y),i=Math.max(i,Math.abs(Math.min(f,c))+p+u.width),d=n+o/2-s.focus.y-s.ia.y,a=Math.max(a,d+u.height),d<0&&(a-=d),s.T.y<0&&(n=Rm(e,s.T.y,!0,n,o)))),e=0;e<r;e++)o=t[e],l?o.T.h(o.T.x,o.T.y+a):o.T.h(o.T.x+i,o.T.y);return new Ue(n,0,i,a)}function Em(e){return null===e.parent?0:e.parent.nodeSpacing}function Rm(e,t,n,i,a){e=e.children;for(var r=e.length,o=0;o<r;o++)n?e[o].T.h(e[o].T.x,e[o].T.y-t):e[o].T.h(e[o].T.x-t,e[o].T.y);return t=e[r-1],Math.max(i,n?t.ia.y+t.focus.y-a/2:t.ia.x+t.focus.x-a/2)}function jm(e,t,n){switch(e.alignment){case rg:case ag:return n+e.width>t&&(t=n+e.width),n<0&&(t-=n),t;case og:return e.width>t?e.width:t;case sg:return 2*e.focus.x>t?e.width:t+e.width-2*e.focus.x;case lg:case ug:return Math.max(e.width,Math.max(t,n+e.width)-Math.min(0,n));case cg:return e.width-e.focus.x+e.nodeSpacing/2+t;case dg:return Math.max(e.width,e.focus.x+e.nodeSpacing/2+t);default:return t}}function Bm(e,t,n){switch(e.alignment){case rg:case ag:return n+e.height>t&&(t=n+e.height),n<0&&(t-=n),t;case og:return e.height>t?e.height:t;case sg:return 2*e.focus.y>t?e.height:t+e.height-2*e.focus.y;case lg:case ug:return Math.max(e.height,Math.max(t,n+e.height)-Math.min(0,n));case cg:return e.height-e.focus.y+e.nodeSpacing/2+t;case dg:return Math.max(e.height,e.focus.y+e.nodeSpacing/2+t);default:return t}}function _m(e,t,n){switch(e){case ag:t/=2,n/=2;break;case rg:t/=2,n/=2;break;case og:n=t=0;break;case sg:break;default:x("Unhandled alignment value "+e.toString())}return new ge(t,n)}function Vm(e,t,n,i,a,r){t=_m(t,n,i),Fm(e,t.x,t.y,a,r)}function Fm(e,t,n,i,a){if(0!==t||0!==n)for(e=e.children;i<=a;i++){var r=e[i].T;r.x+=t,r.y+=n}}function Um(e,t,n,i){var a=t.parent;switch(e.Zc){case Xm:for(e=t.sourceEdges;e.next();)t=e.value,t.fromVertex===a&&t.relativePoint.h(n,i);break;case Zm:for(e=t.destinationEdges;e.next();)t=e.value,t.toVertex===a&&t.relativePoint.h(n,i);break;default:x("Unhandled path value "+e.Zc.toString())}}function qm(e,t,n){for(var i=0;i<e.length;i++){var a=e[i];a.x+=t,a.y+=n}}function zm(e,t,n,i,a,r,o,s){var l=Ym(t),u=90===l||270===l,c=t.nodeSpacing;t=i;var d=a;i=r;var h=o,f=n.bq,p=n.oq;o=n.ua;var m=u?Math.max(h,o.height):Math.max(i,o.width);if(null!==f&&l===Ym(n)||(f=Qm(e,2),p=Qm(e,2),u?(f[0].h(0,0),f[1].h(0,o.height),p[0].h(o.width,0),p[1].h(p[0].x,f[1].y)):(f[0].h(0,0),f[1].h(o.width,0),p[0].h(0,o.height),p[1].h(f[1].x,p[0].y))),u){if(h=9999999,!(null===d||d.length<2||null===f||f.length<2))for(a=n=0;n<d.length&&a<f.length;){r=d[n];var g=f[a];l=g.x,u=g.y,l+=i;var v=r;n+1<d.length&&(v=d[n+1]);var y=g;g=y.x,y=y.y,a+1<f.length&&(y=f[a+1],g=y.x,y=y.y,g+=i);var b=h;r.y===u?b=l-r.x:r.y>u&&r.y<y?b=l+(r.y-u)/(y-u)*(g-l)-r.x:u>r.y&&u<v.y&&(b=l-(r.x+(u-r.y)/(v.y-r.y)*(v.x-r.x))),b<h&&(h=b),v.y<=r.y?n++:y<=u?a++:(v.y<=y&&n++,y<=v.y&&a++)}if(h=i-h,h+=c,n=f,a=h,null===t||t.length<2||null===n||n.length<2)i=null;else{for(c=Qm(e,t.length+n.length),i=r=l=0;r<n.length&&n[r].y<t[0].y;)u=n[r++],c[i++].h(u.x+a,u.y);for(;l<t.length;)u=t[l++],c[i++].h(u.x,u.y);for(l=t[t.length-1].y;r<n.length&&n[r].y<=l;)r++;for(;r<n.length&&n[r].y>l;)u=n[r++],c[i++].h(u.x+a,u.y);for(n=Qm(e,i),l=0;l<i;l++)n[l].assign(c[l]);$m(e,c),i=n}if(r=p,l=h,null===d||d.length<2||null===r||r.length<2)a=null;else{for(c=Qm(e,d.length+r.length),a=u=n=0;n<d.length&&d[n].y<r[0].y;)v=d[n++],c[a++].h(v.x,v.y);for(;u<r.length;)v=r[u++],c[a++].h(v.x+l,v.y);for(r=r[r.length-1].y;n<d.length&&d[n].y<=r;)n++;for(;n<d.length&&d[n].y>r;)l=d[n++],c[a++].h(l.x,l.y);for(r=Qm(e,a),n=0;n<a;n++)r[n].assign(c[n]);$m(e,c),a=r}return r=Math.max(0,h)+o.width,o=m,$m(e,t),$m(e,f),$m(e,d),$m(e,p),s[0]=i,s[1]=a,new Ue(h,0,r,o)}if(i=9999999,!(null===d||d.length<2||null===f||f.length<2))for(a=n=0;n<d.length&&a<f.length;)r=d[n],g=f[a],l=g.x,u=g.y,u+=h,v=r,n+1<d.length&&(v=d[n+1]),y=g,g=y.x,y=y.y,a+1<f.length&&(y=f[a+1],g=y.x,y=y.y,y+=h),b=i,r.x===l?b=u-r.y:r.x>l&&r.x<g?b=u+(r.x-l)/(g-l)*(y-u)-r.y:l>r.x&&l<v.x&&(b=u-(r.y+(l-r.x)/(v.x-r.x)*(v.y-r.y))),b<i&&(i=b),v.x<=r.x?n++:g<=l?a++:(v.x<=g&&n++,g<=v.x&&a++);if(h-=i,h+=c,n=f,a=h,null===t||t.length<2||null===n||n.length<2)i=null;else{for(c=Qm(e,t.length+n.length),i=r=l=0;r<n.length&&n[r].x<t[0].x;)u=n[r++],c[i++].h(u.x,u.y+a);for(;l<t.length;)u=t[l++],c[i++].h(u.x,u.y);for(l=t[t.length-1].x;r<n.length&&n[r].x<=l;)r++;for(;r<n.length&&n[r].x>l;)u=n[r++],c[i++].h(u.x,u.y+a);for(n=Qm(e,i),l=0;l<i;l++)n[l].assign(c[l]);$m(e,c),i=n}if(r=p,l=h,null===d||d.length<2||null===r||r.length<2)a=null;else{for(c=Qm(e,d.length+r.length),a=u=n=0;n<d.length&&d[n].x<r[0].x;)v=d[n++],c[a++].h(v.x,v.y);for(;u<r.length;)v=r[u++],c[a++].h(v.x,v.y+l);for(r=r[r.length-1].x;n<d.length&&d[n].x<=r;)n++;for(;n<d.length&&d[n].x>r;)l=d[n++],c[a++].h(l.x,l.y);for(r=Qm(e,a),n=0;n<a;n++)r[n].assign(c[n]);$m(e,c),a=r}return r=m,o=Math.max(0,h)+o.height,$m(e,t),$m(e,f),$m(e,d),$m(e,p),s[0]=i,s[1]=a,new Ue(h,0,r,o)}function Qm(e,t){if(e=e.xu[t],void 0!==e&&(e=e.pop(),void 0!==e))return e;e=[];for(var n=0;n<t;n++)e[n]=new ge;return e}function $m(e,t){var n=t.length,i=e.xu[n];void 0===i&&(i=[],e.xu[n]=i),i.push(t)}function Hm(e,t,n,i){if(null!==t){t.x=n,t.y=i,t=t.children;for(var a=t.length,r=0;r<a;r++){var o=t[r];Hm(e,o,n+o.T.x,i+o.T.y)}}}function Gm(e,t){if(null!==t){e.setPortSpots(t),t=t.children;for(var n=t.length,i=0;i<n;i++)Gm(e,t[i])}}function Ym(e){return e=e.angle,e<=45?0:e<=135?90:e<=225?180:e<=315?270:0}function Wm(e){var t=Ym(e);t=90===t||270===t;var n=e.layerSpacing;if(e.layerSpacingParentOverlap>0){var i=Math.min(1,e.layerSpacingParentOverlap);n-=t?e.height*i:e.width*i}return n<(t?-e.height:-e.width)&&(n=t?-e.height:-e.width),n}function Km(e){var t=Ym(e),n=e.nodeIndent;if(e.nodeIndentPastParent>0){var i=Math.min(1,e.nodeIndentPastParent);n+=90===t||270===t?e.width*i:e.height*i}return Math.max(0,n)}kp.className="LayeredDigraphLayout",kp.CycleDepthFirst=im,kp.CycleGreedy=am,kp.CycleFromLayers=rm,kp.LayerOptimalLinkLength=om,kp.LayerLongestPathSink=sm,kp.LayerLongestPathSource=lm,kp.InitDepthFirstOut=um,kp.InitDepthFirstIn=cm,kp.InitNaive=dm,kp.AggressiveNone=hm,kp.AggressiveLess=fm,kp.AggressiveMore=pm,kp.PackNone=0,kp.PackExpand=1,kp.PackStraighten=2,kp.PackMedian=4,kp.PackAll=7,mm.className="SegInfo",f(gm,dh),gm.prototype.createVertex=function(){return new vm(this)},gm.prototype.createEdge=function(){return new ym(this)},gm.className="LayeredDigraphNetwork",f(vm,gh),p.Object.defineProperties(vm.prototype,{layer:{get:function(){return this.fi},set:function(e){this.fi!==e&&(this.fi=e)}},column:{get:function(){return this.Cg},set:function(e){this.Cg!==e&&(this.Cg=e)}},index:{get:function(){return this.Sa},set:function(e){this.Sa!==e&&(this.Sa=e)}},component:{get:function(){return this.K},set:function(e){this.K!==e&&(this.K=e)}},near:{get:function(){return this.ba},set:function(e){this.ba!==e&&(this.ba=e)}}}),vm.className="LayeredDigraphVertex",f(ym,yh),p.Object.defineProperties(ym.prototype,{valid:{get:function(){return this.Vb},set:function(e){this.Vb!==e&&(this.Vb=e)}},rev:{get:function(){return this.Ma},set:function(e){this.Ma!==e&&(this.Ma=e)}},forest:{get:function(){return this.l},set:function(e){this.l!==e&&(this.l=e)}},portFromPos:{get:function(){return this.K},set:function(e){this.K!==e&&(this.K=e)}},portToPos:{get:function(){return this.La},set:function(e){this.La!==e&&(this.La=e)}},portFromColOffset:{get:function(){return this.u},set:function(e){this.u!==e&&(this.u=e)}},portToColOffset:{get:function(){return this.ba},set:function(e){this.ba!==e&&(this.ba=e)}}}),ym.className="LayeredDigraphEdge",f(bm,lh),bm.prototype.cloneProtected=function(e){lh.prototype.cloneProtected.call(this,e),e.Mo=this.Mo,e.Dp=this.Dp,e.Jr=this.Jr,e.Xc=this.Xc,e.Ab=this.Ab,e.wd.assign(this.wd),e.U.copyInheritedPropertiesFrom(this.U),e.V.copyInheritedPropertiesFrom(this.V)},bm.prototype.fb=function(e){e.classType===bm?0===e.name.indexOf("Alignment")?this.alignment=e:0===e.name.indexOf("Arrangement")?this.arrangement=e:0===e.name.indexOf("Compaction")?this.compaction=e:0===e.name.indexOf("Path")?this.path=e:0===e.name.indexOf("Sorting")?this.sorting=e:0===e.name.indexOf("Style")?this.treeStyle=e:x("Unknown enum value: "+e):lh.prototype.fb.call(this,e)},bm.prototype.createNetwork=function(){return new kg(this)},bm.prototype.makeNetwork=function(e){function t(e){if(e instanceof Mc)return!e.isLinkLabel&&"Comment"!==e.category;if(e instanceof id){var t=e.fromNode;return null!==t&&!t.isLinkLabel&&"Comment"!==t.category&&(e=e.toNode,null!==e&&!e.isLinkLabel&&"Comment"!==e.category)}return!1}var n=this.createNetwork();return e instanceof Pa?(n.kg(e.nodes,!0,t),n.kg(e.links,!0,t)):e instanceof Jc?n.kg(e.memberParts,!1,t):n.kg(e.iterator,!1,t),n},bm.prototype.doLayout=function(e){null===this.network&&(this.network=this.makeNetwork(e)),this.arrangement!==Ag&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var t=this.diagram;if(null===t&&e instanceof Pa&&(t=e),this.path===Jm&&null!==t?this.Zc=t.isTreePathToChildren?Xm:Zm:this.Zc=this.path===Jm?Xm:this.path,this.network.vertexes.count>0){for(this.network.Pp(),e=this.network.vertexes.iterator;e.next();)t=e.value,t.initialized=!1,t.level=0,t.parent=null,t.children=[];if(this.Fb.count>0){for(e=new re,t=this.Fb.iterator;t.next();){var n=t.value;n instanceof Mc?(n=this.network.Ii(n),null!==n&&e.add(n)):n instanceof Sg&&e.add(n)}this.Fb=e}for(0===this.Fb.count&&this.findRoots(),e=this.Fb.copy().iterator;e.next();)t=e.value,t.initialized||(t.initialized=!0,xm(this,t));for(t=this.network.vertexes,e=null;e=Am(t),e.count>0;)t=wm(this,e),null!==t&&this.Fb.add(t),t.initialized=!0,xm(this,t),t=e;for(e=this.Fb.iterator;e.next();)t=e.value,t instanceof Sg&&km(this,t);for(e=this.Fb.iterator;e.next();)t=e.value,t instanceof Sg&&Tm(this,t);for(e=this.Fb.iterator;e.next();)t=e.value,t instanceof Sg&&Nm(this,t);if(this.Iu(),this.layerStyle===Cg){for(e=[],t=this.network.vertexes.iterator;t.next();){n=t.value;var i=n.parent;null===i&&(i=n),i=0===i.angle||180===i.angle;var a=e[n.level];void 0===a&&(a=0),e[n.level]=Math.max(a,i?n.width:n.height)}for(t=0;t<e.length;t++)void 0===e[t]&&(e[t]=0);for(this.iw=e,t=this.network.vertexes.iterator;t.next();)n=t.value,i=n.parent,null===i&&(i=n),0===i.angle||180===i.angle?(180===i.angle&&(n.focusX+=e[n.level]-n.width),n.width=e[n.level]):(270===i.angle&&(n.focusY+=e[n.level]-n.height),n.height=e[n.level])}else if(this.layerStyle===xg)for(e=this.network.vertexes.iterator;e.next();){for(t=e.value,n=0===t.angle||180===t.angle,i=-1,a=0;a<t.children.length;a++){var r=t.children[a];i=Math.max(i,n?r.width:r.height)}if(i>=0)for(a=0;a<t.children.length;a++)r=t.children[a],n?(180===t.angle&&(r.focusX+=i-r.width),r.width=i):(270===t.angle&&(r.focusY+=i-r.height),r.height=i)}for(e=this.Fb.iterator;e.next();)t=e.value,t instanceof Sg&&this.layoutTree(t);this.arrangeTrees(),this.updateParts()}this.network=null,this.Fb=new re,this.isValidLayout=!0},bm.prototype.findRoots=function(){for(var e=this.network.vertexes,t=e.iterator;t.next();){var n=t.value;switch(this.Zc){case Xm:0===n.sourceEdges.count&&this.Fb.add(n);break;case Zm:0===n.destinationEdges.count&&this.Fb.add(n);break;default:x("Unhandled path value "+this.Zc.toString())}}0===this.Fb.count&&(e=wm(this,e),null!==e&&this.Fb.add(e))},bm.prototype.removeChild=function(e,t){if(null!==e&&null!==t){for(var n=e.children,i=0,a=0;a<n.length;a++)n[a]===t&&i++;if(i>0){i=Array(n.length-i);for(var r=a=0;r<n.length;r++)n[r]!==t&&(i[a++]=n[r]);e.children=i}}},bm.prototype.initializeTreeVertexValues=function(e){if(e.copyInheritedPropertiesFrom(Sm(this,e)),null!==e.parent&&e.parent.alignment===ug){for(var t=e.angle,n=e.parent.children,i=0;i<n.length&&e!==n[i];)i++;i%2===0?i!==n.length-1&&(t=90===t?180:180===t?270:270===t?180:270):t=90===t?0:180===t?90:270===t?0:90,e.angle=t}e.initialized=!0},bm.prototype.assignTreeVertexValues=function(){},bm.prototype.sortTreeVertexChildren=function(e){switch(e.sorting){case eg:break;case tg:e.children.reverse();break;case ng:e.children.sort(e.comparer);break;case ig:e.children.sort(e.comparer),e.children.reverse();break;default:x("Unhandled sorting value "+e.sorting.toString())}},bm.prototype.Iu=function(){if(this.comments)for(var e=this.network.vertexes.iterator;e.next();)this.addComments(e.value)},bm.prototype.addComments=function(e){var t=e.angle,n=e.parent,i=0,a=!1;null!==n&&(i=n.angle,a=n.alignment,a=Im(a)),t=90===t||270===t,i=90===i||270===i,n=0===e.childrenCount;var r=0,o=0,s=0,l=e.commentSpacing;if(null!==e.node)for(var u=e.node.Xu();u.next();){var c=u.value;"Comment"===c.category&&c.canLayout()&&(null===e.comments&&(e.comments=[]),e.comments.push(c),c.ac(),c=c.measuredBounds,t&&!n||!a&&!i&&n||a&&i&&n?(r=Math.max(r,c.width),o+=c.height+Math.abs(s)):(r+=c.width+Math.abs(s),o=Math.max(o,c.height)),s=l)}null!==e.comments&&(t&&!n||!a&&!i&&n||a&&i&&n?(r+=Math.abs(e.commentMargin),o=Math.max(0,o-e.height)):(o+=Math.abs(e.commentMargin),r=Math.max(0,r-e.width)),a=Ue.allocAt(0,0,e.bounds.width+r,e.bounds.height+o),e.bounds=a,Ue.free(a))},bm.prototype.layoutComments=function(e){if(null!==e.comments){var t=e.node.measuredBounds,n=e.parent,i=e.angle,a=0,r=!1;null!==n&&(a=n.angle,r=n.alignment,r=Im(r)),i=90===i||270===i,n=90===a||270===a;for(var o=0===e.childrenCount,s=Pm(e),l=0,u=e.comments,c=u.length,d=ge.alloc(),h=0;h<c;h++){var f=u[h],p=f.measuredBounds;if(i&&!o||!r&&!n&&o||r&&n&&o){if(a>135&&!r||n&&s)if(e.commentMargin>=0)for(d.h(e.bounds.x-e.commentMargin-p.width,e.bounds.y+l),f.move(d),f=f.sd();f.next();){var m=f.value;m.fromSpot=Vt,m.toSpot=Ft}else for(d.h(e.bounds.x+2*e.focus.x-e.commentMargin,e.bounds.y+l),f.move(d),f=f.sd();f.next();)m=f.value,m.fromSpot=Ft,m.toSpot=Vt;else if(e.commentMargin>=0)for(d.h(e.bounds.x+2*e.focus.x+e.commentMargin,e.bounds.y+l),f.move(d),f=f.sd();f.next();)m=f.value,m.fromSpot=Ft,m.toSpot=Vt;else for(d.h(e.bounds.x+e.commentMargin-p.width,e.bounds.y+l),f.move(d),f=f.sd();f.next();)m=f.value,m.fromSpot=Vt,m.toSpot=Ft;l=e.commentSpacing>=0?l+(p.height+e.commentSpacing):l+(e.commentSpacing-p.height)}else{if(a>135&&!r||!n&&s)if(e.commentMargin>=0)for(d.h(e.bounds.x+l,e.bounds.y-e.commentMargin-p.height),f.move(d),f=f.sd();f.next();)m=f.value,m.fromSpot=_t,m.toSpot=Ut;else for(d.h(e.bounds.x+l,e.bounds.y+2*e.focus.y-e.commentMargin),f.move(d),f=f.sd();f.next();)m=f.value,m.fromSpot=Ut,m.toSpot=_t;else if(e.commentMargin>=0)for(d.h(e.bounds.x+l,e.bounds.y+2*e.focus.y+e.commentMargin),f.move(d),f=f.sd();f.next();)m=f.value,m.fromSpot=Ut,m.toSpot=_t;else for(d.h(e.bounds.x+l,e.bounds.y+e.commentMargin-p.height),f.move(d),f=f.sd();f.next();)m=f.value,m.fromSpot=_t,m.toSpot=Ut;l=e.commentSpacing>=0?l+(p.width+e.commentSpacing):l+(e.commentSpacing-p.width)}}if(ge.free(d),t=l-e.commentSpacing-(i?t.height:t.width),this.Zc===Xm)for(e=e.destinationEdges;e.next();)a=e.value.link,null===a||a.isAvoiding||(a.fromEndSegmentLength=t>0?t:NaN);else for(e=e.sourceEdges;e.next();)a=e.value.link,null===a||a.isAvoiding||(a.toEndSegmentLength=t>0?t:NaN)}},bm.prototype.layoutTree=function(e){if(null!==e){for(var t=e.children,n=t.length,i=0;i<n;i++)this.layoutTree(t[i]);switch(e.compaction){case hg:Lm(this,e);break;case fg:if(e.alignment===ug)Lm(this,e);else if(0===e.childrenCount)i=e.parent,n=!1,t=0,null!==i&&(t=i.angle,n=i.alignment,n=Im(n)),i=Pm(e),e.T.h(0,0),e.ua.h(e.width,e.height),null===e.parent||null===e.comments||(180!==t&&270!==t||n)&&!i?e.ia.h(0,0):180===t&&!n||(90===t||270===t)&&i?e.ia.h(e.width-2*e.focus.x,0):e.ia.h(0,e.height-2*e.focus.y),e.bq=null,e.oq=null;else{var a=Ym(e);t=90===a||270===a;var r=0,o=e.children,s=o.length;for(n=0;n<s;n++)i=o[n],r=Math.max(r,t?i.ua.width:i.ua.height);var l=e.alignment,u=l===sg,c=Im(l),d=Math.max(0,e.breadthLimit);n=Wm(e);var h=e.nodeSpacing,f=Km(e),p=e.rowSpacing,m=0;(l===og||u||e.tm||e.um&&1===e.maxGenerationCount)&&(m=Math.max(0,e.rowIndent)),i=e.width;var g=e.height,v=0,y=0,b=0,A=null,w=null,C=0,k=0,S=0,T=0,N=0,I=0,D=0,P=0;if(c&&!Dm(l)&&a>135&&o.reverse(),Dm(l))if(s>1)for(var L=0;L<s;L++)L%2===0&&L!==s-1&&(P=Math.max(P,t?o[L].ua.width:o[L].ua.height));else 1===s&&(P=t?o[0].ua.width:o[0].ua.height);if(c){switch(l){case lg:y=a<135?Om(e,o,P,v,y):Mm(e,o,P,v,y),P=y.x,v=y.width,y=y.height;break;case cg:for(A=0;A<s;A++)w=o[A],d=w.ua,b=0===I?0:p,t?(w.T.h(r-d.width,T+b),v=Math.max(v,d.width),y=Math.max(y,T+b+d.height),T+=b+d.height):(w.T.h(S+b,r-d.height),v=Math.max(v,S+b+d.width),y=Math.max(y,d.height),S+=b+d.width),I++;break;case dg:for(A=0;A<s;A++)w=o[A],r=w.ua,d=0===I?0:p,t?(w.T.h(h/2+e.focus.x,T+d),v=Math.max(v,r.width),y=Math.max(y,T+d+r.height),T+=d+r.height):(w.T.h(S+d,h/2+e.focus.y),v=Math.max(v,S+d+r.width),y=Math.max(y,r.height),S+=d+r.width),I++}A=Qm(this,2),w=Qm(this,2),t?(A[0].h(0,0),A[1].h(0,y),w[0].h(v,0)):(A[0].h(0,0),A[1].h(v,0),w[0].h(0,y)),w[1].h(v,y)}else for(L=0;L<s;L++){var E=o[L],R=E.ua;if(t){d>0&&I>0&&S+h+R.width>d&&(S<r&&Vm(e,l,r-S,0,D,L-1),N++,I=0,D=L,b=y,S=0,T=a>135?-y-p:y+p),Um(this,E,0,T);var j=0;if(0===I)A=E.bq,w=E.oq,C=R.width,k=R.height,(null===A||null===w||a!==Ym(E))&&(A=Qm(this,2),w=Qm(this,2),A[0].h(0,0),A[1].h(0,k),w[0].h(C,0),w[1].h(C,k));else{var B=O();k=zm(this,e,E,A,w,C,k,B),j=k.x,A=B[0],w=B[1],C=k.width,k=k.height,M(B),S<R.width&&j<0&&(Fm(e,-j,0,D,L-1),qm(A,-j,0),qm(w,-j,0),j=0)}E.T.h(j,T),v=Math.max(v,C),y=Math.max(y,b+(0===N?0:p)+R.height),S=C}else d>0&&I>0&&T+h+R.height>d&&(T<r&&Vm(e,l,0,r-T,D,L-1),N++,I=0,D=L,b=v,T=0,S=a>135?-v-p:v+p),Um(this,E,S,0),j=0,0===I?(A=E.bq,w=E.oq,C=R.width,k=R.height,(null===A||null===w||a!==Ym(E))&&(A=Qm(this,2),w=Qm(this,2),A[0].h(0,0),A[1].h(C,0),w[0].h(0,k),w[1].h(C,k))):(B=O(),k=zm(this,e,E,A,w,C,k,B),j=k.x,A=B[0],w=B[1],C=k.width,k=k.height,M(B),T<R.height&&j<0&&(Fm(e,0,-j,D,L-1),qm(A,0,-j),qm(w,0,-j),j=0)),E.T.h(S,j),y=Math.max(y,k),v=Math.max(v,b+(0===N?0:p)+R.width),T=k;I++}switch(N>0&&(t?(y+=Math.max(0,n),S<v&&Vm(e,l,v-S,0,D,s-1),m>0&&(u||Fm(e,m,0,0,s-1),v+=m)):(v+=Math.max(0,n),T<y&&Vm(e,l,0,y-T,D,s-1),m>0&&(u||Fm(e,0,m,0,s-1),y+=m))),m=u=0,l){case ag:t?u+=v/2-e.focus.x-f/2:m+=y/2-e.focus.y-f/2;break;case rg:N>0?t?u+=v/2-e.focus.x-f/2:m+=y/2-e.focus.y-f/2:t?(P=o[0].T.x+o[0].ia.x,u+=P+(o[s-1].T.x+o[s-1].ia.x+2*o[s-1].focus.x-P)/2-e.focus.x-f/2):(P=o[0].T.y+o[0].ia.y,m+=P+(o[s-1].T.y+o[s-1].ia.y+2*o[s-1].focus.y-P)/2-e.focus.y-f/2);break;case og:t?(u-=f,v+=f):(m-=f,y+=f);break;case sg:t?(u+=v-e.width+f,v+=f):(m+=y-e.height+f,y+=f);break;case lg:t?u+=s>1?P+h/2-e.focus.x:o[0].focus.x-e.focus.x+o[0].ia.x:m+=s>1?P+h/2-e.focus.y:o[0].focus.y-e.focus.y+o[0].ia.y;break;case cg:t?u+=v+h/2-e.focus.x:m+=y+h/2-e.focus.y;break;case dg:break;default:x("Unhandled alignment value "+l.toString())}for(f=0;f<s;f++)P=o[f],t?P.T.h(P.T.x+P.ia.x-u,P.T.y+(a>135?(c?-y:-P.ua.height)+P.ia.y-n:g+n+P.ia.y)):P.T.h(P.T.x+(a>135?(c?-v:-P.ua.width)+P.ia.x-n:i+n+P.ia.x),P.T.y+P.ia.y-m);if(s=o=0,c?t?(v=jm(e,v,u),u<0&&(u=0),a>135&&(m+=y+n),y+=g+n,l===dg&&(o+=h/2+e.focus.x),s+=g+n):(a>135&&(u+=v+n),v+=i+n,y=Bm(e,y,m),m<0&&(m=0),l===dg&&(s+=h/2+e.focus.y),o+=i+n):t?(null===e.comments?i>v&&(v=_m(l,i-v,0),o=v.x,s=v.y,v=i,u=0):v=jm(e,v,u),u<0&&(o-=u,u=0),a>135&&(m+=y+n),y=Math.max(Math.max(y,g),y+g+n),s+=g+n):(a>135&&(u+=v+n),v=Math.max(Math.max(v,i),v+i+n),null===e.comments?g>y&&(y=_m(l,0,g-y),o=y.x,s=y.y,y=g,m=0):y=Bm(e,y,m),m<0&&(s-=m,m=0),o+=i+n),N>0)a=Qm(this,4),N=Qm(this,4),t?(a[2].h(0,g+n),a[3].h(a[2].x,y),N[2].h(v,a[2].y),N[3].h(N[2].x,a[3].y)):(a[2].h(i+n,0),a[3].h(v,a[2].y),N[2].h(a[2].x,y),N[3].h(a[3].x,N[2].y));else{for(a=Qm(this,A.length+2),N=Qm(this,w.length+2),l=0;l<A.length;l++)c=A[l],a[l+2].h(c.x+o,c.y+s);for(l=0;l<w.length;l++)c=w[l],N[l+2].h(c.x+o,c.y+s)}t?(a[0].h(u,0),a[1].h(a[0].x,g),a[2].y<a[1].y&&(a[2].x>a[0].x?a[2].assign(a[1]):a[1].assign(a[2])),a[3].y<a[2].y&&(a[3].x>a[0].x?a[3].assign(a[2]):a[2].assign(a[3])),N[0].h(u+i,0),N[1].h(N[0].x,g),N[2].y<N[1].y&&(N[2].x<N[0].x?N[2].assign(N[1]):N[1].assign(N[2])),N[3].y<N[2].y&&(N[3].x<N[0].x?N[3].assign(N[2]):N[2].assign(N[3])),a[2].y-=n/2,N[2].y-=n/2):(a[0].h(0,m),a[1].h(i,a[0].y),a[2].x<a[1].x&&(a[2].y>a[0].y?a[2].assign(a[1]):a[1].assign(a[2])),a[3].x<a[2].x&&(a[3].y>a[0].y?a[3].assign(a[2]):a[2].assign(a[3])),N[0].h(0,m+g),N[1].h(i,N[0].y),N[2].x<N[1].x&&(N[2].y<N[0].y?N[2].assign(N[1]):N[1].assign(N[2])),N[3].x<N[2].x&&(N[3].y<N[0].y?N[3].assign(N[2]):N[2].assign(N[3])),a[2].x-=n/2,N[2].x-=n/2),$m(this,A),$m(this,w),e.bq=a,e.oq=N,e.ia.h(u,m),e.ua.h(v,y)}break;default:x("Unhandled compaction value "+e.compaction.toString())}}},bm.prototype.arrangeTrees=function(){if(this.Ab===Ag)for(var e=this.Fb.iterator;e.next();){var t=e.value;if(t instanceof Sg){var n=t.node;if(null!==n){var i=n.position;n=i.x,i=i.y,isFinite(n)||(n=0),isFinite(i)||(i=0),Hm(this,t,n,i)}}}else{for(e=[],t=this.Fb.iterator;t.next();)n=t.value,n instanceof Sg&&e.push(n);switch(this.sorting){case eg:break;case tg:e.reverse();break;case ng:e.sort(this.comparer);break;case ig:e.sort(this.comparer),e.reverse();break;default:x("Unhandled sorting value "+this.sorting.toString())}for(n=this.arrangementOrigin,t=n.x,n=n.y,i=0;i<e.length;i++){var a=e[i];switch(Hm(this,a,t+a.ia.x,n+a.ia.y),this.Ab){case yg:n+=a.ua.height+this.wd.height;break;case bg:t+=a.ua.width+this.wd.width;break;default:x("Unhandled arrangement value "+this.Ab.toString())}}}},bm.prototype.commitLayout=function(){this.Jv(),this.commitNodes(),this.Mu(),this.isRouting&&this.commitLinks()},bm.prototype.commitNodes=function(){for(var e=this.network.vertexes.iterator;e.next();)e.value.commit();for(e.reset();e.next();)this.layoutComments(e.value)},bm.prototype.Mu=function(){if(this.layerStyle===Cg){for(var e=this.iw,t=[],n=null,i=this.network.vertexes.iterator;i.next();){var a=i.value;null===n?n=a.bounds.copy():n.Jc(a.bounds);var r=t[a.level];r=void 0===r?Wm(a):Math.max(r,Wm(a)),t[a.level]=r}for(i=0;i<t.length;i++)void 0===t[i]&&(t[i]=0);if(90===this.angle||270===this.angle?(n.Uc(this.nodeSpacing/2,this.layerSpacing),i=new ge(-this.nodeSpacing/2,-this.layerSpacing/2)):(n.Uc(this.layerSpacing,this.nodeSpacing/2),i=new ge(-this.layerSpacing/2,-this.nodeSpacing/2)),a=[],n=90===this.angle||270===this.angle?n.width:n.height,r=0,180===this.angle||270===this.angle)for(var o=0;o<e.length;o++)r+=e[o]+t[o];for(o=0;o<e.length;o++){var s=e[o]+t[o];270===this.angle?(r-=s,a.push(new Ue(0,r,n,s))):90===this.angle?(a.push(new Ue(0,r,n,s)),r+=s):180===this.angle?(r-=s,a.push(new Ue(r,0,s,n))):(a.push(new Ue(r,0,s,n)),r+=s)}this.commitLayers(a,i)}},bm.prototype.commitLayers=function(){},bm.prototype.commitLinks=function(){for(var e=this.network.edges.iterator;e.next();)e.value.commit()},bm.prototype.Jv=function(){for(var e=this.Fb.iterator;e.next();){var t=e.value;t instanceof Sg&&Gm(this,t)}},bm.prototype.setPortSpots=function(e){var t=e.alignment;if(Im(t)){var n=this.Zc===Xm,i=Ym(e);switch(i){case 0:var a=Ft;break;case 90:a=Ut;break;case 180:a=Vt;break;default:a=_t}var r=e.children,o=r.length;switch(t){case lg:case ug:for(t=0;t<o;t++){var s=r[t];if(s=(n?s.sourceEdges:s.destinationEdges).first(),null!==s&&(s=s.link,null!==s)){var l=90===i||270===i?Vt:_t;if(1===o||t===o-1&&o%2===1)switch(i){case 0:l=Vt;break;case 90:l=_t;break;case 180:l=Ft;break;default:l=Ut}else t%2===0&&(l=90===i||270===i?Ft:Ut);n?(e.setsPortSpot&&(s.fromSpot=a),e.setsChildPortSpot&&(s.toSpot=l)):(e.setsPortSpot&&(s.fromSpot=l),e.setsChildPortSpot&&(s.toSpot=a))}}break;case cg:for(i=90===i||270===i?Ft:Ut,r=n?e.destinationEdges:e.sourceEdges;r.next();)o=r.value.link,null!==o&&(n?(e.setsPortSpot&&(o.fromSpot=a),e.setsChildPortSpot&&(o.toSpot=i)):(e.setsPortSpot&&(o.fromSpot=i),e.setsChildPortSpot&&(o.toSpot=a)));break;case dg:for(i=90===i||270===i?Vt:_t,r=n?e.destinationEdges:e.sourceEdges;r.next();)o=r.value.link,null!==o&&(n?(e.setsPortSpot&&(o.fromSpot=a),e.setsChildPortSpot&&(o.toSpot=i)):(e.setsPortSpot&&(o.fromSpot=i),e.setsChildPortSpot&&(o.toSpot=a)))}}else if(n=Ym(e),this.Zc===Xm){for(a=e.destinationEdges;a.next();)if(i=a.value.link,null!==i){if(e.setsPortSpot)if(e.portSpot.Kb())switch(n){case 0:i.fromSpot=Ft;break;case 90:i.fromSpot=Ut;break;case 180:i.fromSpot=Vt;break;default:i.fromSpot=_t}else i.fromSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.Kb())switch(n){case 0:i.toSpot=Vt;break;case 90:i.toSpot=_t;break;case 180:i.toSpot=Ft;break;default:i.toSpot=Ut}else i.toSpot=e.childPortSpot}}else for(a=e.sourceEdges;a.next();)if(i=a.value.link,null!==i){if(e.setsPortSpot)if(e.portSpot.Kb())switch(n){case 0:i.toSpot=Ft;break;case 90:i.toSpot=Ut;break;case 180:i.toSpot=Vt;break;default:i.toSpot=_t}else i.toSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.Kb())switch(n){case 0:i.fromSpot=Vt;break;case 90:i.fromSpot=_t;break;case 180:i.fromSpot=Ft;break;default:i.fromSpot=Ut}else i.fromSpot=e.childPortSpot}},p.Object.defineProperties(bm.prototype,{roots:{get:function(){return this.Fb},set:function(e){this.Fb!==e&&(this.Fb=e,this.B())}},path:{get:function(){return this.Mo},set:function(e){this.Mo!==e&&(this.Mo=e,this.B())}},treeStyle:{get:function(){return this.Dp},set:function(e){this.Ab===e||e!==pg&&e!==gg&&e!==mg&&e!==vg||(this.Dp=e,this.B())}},layerStyle:{get:function(){return this.Jr},set:function(e){this.Ab===e||e!==wg&&e!==xg&&e!==Cg||(this.Jr=e,this.B())}},comments:{get:function(){return this.Xc},set:function(e){this.Xc!==e&&(this.Xc=e,this.B())}},arrangement:{get:function(){return this.Ab},set:function(e){this.Ab===e||e!==yg&&e!==bg&&e!==Ag||(this.Ab=e,this.B())}},arrangementSpacing:{get:function(){return this.wd},set:function(e){this.wd.A(e)||(this.wd.assign(e),this.B())}},rootDefaults:{get:function(){return this.U},set:function(e){this.U!==e&&(this.U=e,this.B())}},alternateDefaults:{get:function(){return this.V},set:function(e){this.V!==e&&(this.V=e,this.B())}},sorting:{get:function(){return this.U.sorting},set:function(e){this.U.sorting===e||e!==eg&&e!==tg&&e!==ng&&!ig||(this.U.sorting=e,this.B())}},comparer:{get:function(){return this.U.comparer},set:function(e){this.U.comparer!==e&&(this.U.comparer=e,this.B())}},angle:{get:function(){return this.U.angle},set:function(e){this.U.angle!==e&&(0===e||90===e||180===e||270===e?(this.U.angle=e,this.B()):x("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.U.alignment},set:function(e){this.U.alignment!==e&&(this.U.alignment=e,this.B())}},nodeIndent:{get:function(){return this.U.nodeIndent},set:function(e){this.U.nodeIndent!==e&&e>=0&&(this.U.nodeIndent=e,this.B())}},nodeIndentPastParent:{get:function(){return this.U.nodeIndentPastParent},set:function(e){this.U.nodeIndentPastParent!==e&&e>=0&&e<=1&&(this.U.nodeIndentPastParent=e,this.B())}},nodeSpacing:{get:function(){return this.U.nodeSpacing},set:function(e){this.U.nodeSpacing!==e&&(this.U.nodeSpacing=e,this.B())}},layerSpacing:{get:function(){return this.U.layerSpacing},set:function(e){this.U.layerSpacing!==e&&(this.U.layerSpacing=e,this.B())}},layerSpacingParentOverlap:{get:function(){return this.U.layerSpacingParentOverlap},set:function(e){this.U.layerSpacingParentOverlap!==e&&e>=0&&e<=1&&(this.U.layerSpacingParentOverlap=e,this.B())}},compaction:{get:function(){return this.U.compaction},set:function(e){this.U.compaction===e||e!==hg&&e!==fg||(this.U.compaction=e,this.B())}},breadthLimit:{get:function(){return this.U.breadthLimit},set:function(e){this.U.breadthLimit!==e&&e>=0&&(this.U.breadthLimit=e,this.B())}},rowSpacing:{get:function(){return this.U.rowSpacing},set:function(e){this.U.rowSpacing!==e&&(this.U.rowSpacing=e,this.B())}},rowIndent:{get:function(){return this.U.rowIndent},set:function(e){this.U.rowIndent!==e&&e>=0&&(this.U.rowIndent=e,this.B())}},commentSpacing:{get:function(){return this.U.commentSpacing},set:function(e){this.U.commentSpacing!==e&&(this.U.commentSpacing=e,this.B())}},commentMargin:{get:function(){return this.U.commentMargin},set:function(e){this.U.commentMargin!==e&&(this.U.commentMargin=e,this.B())}},setsPortSpot:{get:function(){return this.U.setsPortSpot},set:function(e){this.U.setsPortSpot!==e&&(this.U.setsPortSpot=e,this.B())}},portSpot:{get:function(){return this.U.portSpot},set:function(e){this.U.portSpot.A(e)||(this.U.portSpot=e,this.B())}},setsChildPortSpot:{get:function(){return this.U.setsChildPortSpot},set:function(e){this.U.setsChildPortSpot!==e&&(this.U.setsChildPortSpot=e,this.B())}},childPortSpot:{get:function(){return this.U.childPortSpot},set:function(e){this.U.childPortSpot.A(e)||(this.U.childPortSpot=e,this.B())}},alternateSorting:{get:function(){return this.V.sorting},set:function(e){this.V.sorting===e||e!==eg&&e!==tg&&e!==ng&&!ig||(this.V.sorting=e,this.B())}},alternateComparer:{get:function(){return this.V.comparer},set:function(e){this.V.comparer!==e&&(this.V.comparer=e,this.B())}},alternateAngle:{get:function(){return this.V.angle},set:function(e){this.V.angle===e||0!==e&&90!==e&&180!==e&&270!==e||(this.V.angle=e,this.B())}},alternateAlignment:{get:function(){return this.V.alignment},set:function(e){this.V.alignment!==e&&(this.V.alignment=e,this.B())}},alternateNodeIndent:{get:function(){return this.V.nodeIndent},set:function(e){this.V.nodeIndent!==e&&e>=0&&(this.V.nodeIndent=e,this.B())}},alternateNodeIndentPastParent:{get:function(){return this.V.nodeIndentPastParent},set:function(e){this.V.nodeIndentPastParent!==e&&e>=0&&e<=1&&(this.V.nodeIndentPastParent=e,this.B())}},alternateNodeSpacing:{get:function(){return this.V.nodeSpacing},set:function(e){this.V.nodeSpacing!==e&&(this.V.nodeSpacing=e,this.B())}},alternateLayerSpacing:{get:function(){return this.V.layerSpacing},set:function(e){this.V.layerSpacing!==e&&(this.V.layerSpacing=e,this.B())}},alternateLayerSpacingParentOverlap:{get:function(){return this.V.layerSpacingParentOverlap},set:function(e){this.V.layerSpacingParentOverlap!==e&&e>=0&&e<=1&&(this.V.layerSpacingParentOverlap=e,this.B())}},alternateCompaction:{get:function(){return this.V.compaction},set:function(e){this.V.compaction===e||e!==hg&&e!==fg||(this.V.compaction=e,this.B())}},alternateBreadthLimit:{get:function(){return this.V.breadthLimit},set:function(e){this.V.breadthLimit!==e&&e>=0&&(this.V.breadthLimit=e,this.B())}},alternateRowSpacing:{get:function(){return this.V.rowSpacing},set:function(e){this.V.rowSpacing!==e&&(this.V.rowSpacing=e,this.B())}},alternateRowIndent:{get:function(){return this.V.rowIndent},set:function(e){this.V.rowIndent!==e&&e>=0&&(this.V.rowIndent=e,this.B())}},alternateCommentSpacing:{get:function(){return this.V.commentSpacing},set:function(e){this.V.commentSpacing!==e&&(this.V.commentSpacing=e,this.B())}},alternateCommentMargin:{get:function(){return this.V.commentMargin},set:function(e){this.V.commentMargin!==e&&(this.V.commentMargin=e,this.B())}},alternateSetsPortSpot:{get:function(){return this.V.setsPortSpot},set:function(e){this.V.setsPortSpot!==e&&(this.V.setsPortSpot=e,this.B())}},alternatePortSpot:{get:function(){return this.V.portSpot},set:function(e){this.V.portSpot.A(e)||(this.V.portSpot=e,this.B())}},alternateSetsChildPortSpot:{get:function(){return this.V.setsChildPortSpot},set:function(e){this.V.setsChildPortSpot!==e&&(this.V.setsChildPortSpot=e,this.B())}},alternateChildPortSpot:{get:function(){return this.V.childPortSpot},set:function(e){this.V.childPortSpot.A(e)||(this.V.childPortSpot=e,this.B())}}});var Jm=new Y(bm,"PathDefault",-1),Xm=new Y(bm,"PathDestination",0),Zm=new Y(bm,"PathSource",1),eg=new Y(bm,"SortingForwards",10),tg=new Y(bm,"SortingReverse",11),ng=new Y(bm,"SortingAscending",12),ig=new Y(bm,"SortingDescending",13),ag=new Y(bm,"AlignmentCenterSubtrees",20),rg=new Y(bm,"AlignmentCenterChildren",21),og=new Y(bm,"AlignmentStart",22),sg=new Y(bm,"AlignmentEnd",23),lg=new Y(bm,"AlignmentBus",24),ug=new Y(bm,"AlignmentBusBranching",25),cg=new Y(bm,"AlignmentTopLeftBus",26),dg=new Y(bm,"AlignmentBottomRightBus",27),hg=new Y(bm,"CompactionNone",30),fg=new Y(bm,"CompactionBlock",31),pg=new Y(bm,"StyleLayered",40),mg=new Y(bm,"StyleLastParents",41),gg=new Y(bm,"StyleAlternating",42),vg=new Y(bm,"StyleRootOnly",43),yg=new Y(bm,"ArrangementVertical",50),bg=new Y(bm,"ArrangementHorizontal",51),Ag=new Y(bm,"ArrangementFixedRoots",52),wg=new Y(bm,"LayerIndividual",60),xg=new Y(bm,"LayerSiblings",61),Cg=new Y(bm,"LayerUniform",62);function kg(e){dh.call(this,e)}function Sg(e){gh.call(this,e),this.La=!1,this.Kc=null,this.K=[],this.Wb=this.Vb=this.ba=this.Ma=0,this.Xc=null,this.T=new ge(0,0),this.ua=new Be(0,0),this.ia=new ge(0,0),this.um=this.tm=this.Qz=!1,this.oq=this.bq=null,this.Qc=eg,this.Mc=vh,this.zc=0,this.wb=rg,this.Xr=this.Wr=0,this.Zr=20,this.ke=50,this.Ir=0,this.Pq=fg,this.Iq=0,this.ls=25,this.Oq=this.ks=10,this.Nq=20,this.vs=!0,this.gs=Mt,this.us=!0,this.Lq=Mt}function Tg(e){yh.call(this,e),this.ou=new ge(0,0)}bm.className="TreeLayout",bm.PathDefault=Jm,bm.PathDestination=Xm,bm.PathSource=Zm,bm.SortingForwards=eg,bm.SortingReverse=tg,bm.SortingAscending=ng,bm.SortingDescending=ig,bm.AlignmentCenterSubtrees=ag,bm.AlignmentCenterChildren=rg,bm.AlignmentStart=og,bm.AlignmentEnd=sg,bm.AlignmentBus=lg,bm.AlignmentBusBranching=ug,bm.AlignmentTopLeftBus=cg,bm.AlignmentBottomRightBus=dg,bm.CompactionNone=hg,bm.CompactionBlock=fg,bm.StyleLayered=pg,bm.StyleLastParents=mg,bm.StyleAlternating=gg,bm.StyleRootOnly=vg,bm.ArrangementVertical=yg,bm.ArrangementHorizontal=bg,bm.ArrangementFixedRoots=Ag,bm.LayerIndividual=wg,bm.LayerSiblings=xg,bm.LayerUniform=Cg,f(kg,dh),kg.prototype.createVertex=function(){return new Sg(this)},kg.prototype.createEdge=function(){return new Tg(this)},kg.className="TreeNetwork",f(Sg,gh),Sg.prototype.copyInheritedPropertiesFrom=function(e){null!==e&&(this.Qc=e.sorting,this.Mc=e.comparer,this.zc=e.angle,this.wb=e.alignment,this.Wr=e.nodeIndent,this.Xr=e.nodeIndentPastParent,this.Zr=e.nodeSpacing,this.ke=e.layerSpacing,this.Ir=e.layerSpacingParentOverlap,this.Pq=e.compaction,this.Iq=e.breadthLimit,this.ls=e.rowSpacing,this.ks=e.rowIndent,this.Oq=e.commentSpacing,this.Nq=e.commentMargin,this.vs=e.setsPortSpot,this.gs=e.portSpot,this.us=e.setsChildPortSpot,this.Lq=e.childPortSpot)},p.Object.defineProperties(Sg.prototype,{initialized:{get:function(){return this.La},set:function(e){this.La!==e&&(this.La=e)}},parent:{get:function(){return this.Kc},set:function(e){this.Kc!==e&&(this.Kc=e)}},children:{get:function(){return this.K},set:function(e){if(this.K!==e){if(null!==e)for(var t=e.length,n=0;n<t;n++);this.K=e}}},level:{get:function(){return this.Ma},set:function(e){this.Ma!==e&&(this.Ma=e)}},descendantCount:{get:function(){return this.ba},set:function(e){this.ba!==e&&(this.ba=e)}},maxChildrenCount:{get:function(){return this.Vb},set:function(e){this.Vb!==e&&(this.Vb=e)}},maxGenerationCount:{get:function(){return this.Wb},set:function(e){this.Wb!==e&&(this.Wb=e)}},comments:{get:function(){return this.Xc},set:function(e){if(this.Xc!==e){if(null!==e)for(var t=e.length,n=0;n<t;n++);this.Xc=e}}},sorting:{get:function(){return this.Qc},set:function(e){this.Qc!==e&&(this.Qc=e)}},comparer:{get:function(){return this.Mc},set:function(e){this.Mc!==e&&(this.Mc=e)}},angle:{get:function(){return this.zc},set:function(e){this.zc!==e&&(this.zc=e)}},alignment:{get:function(){return this.wb},set:function(e){this.wb!==e&&(this.wb=e)}},nodeIndent:{get:function(){return this.Wr},set:function(e){this.Wr!==e&&(this.Wr=e)}},nodeIndentPastParent:{get:function(){return this.Xr},set:function(e){this.Xr!==e&&(this.Xr=e)}},nodeSpacing:{get:function(){return this.Zr},set:function(e){this.Zr!==e&&(this.Zr=e)}},layerSpacing:{get:function(){return this.ke},set:function(e){this.ke!==e&&(this.ke=e)}},layerSpacingParentOverlap:{get:function(){return this.Ir},set:function(e){this.Ir!==e&&(this.Ir=e)}},compaction:{get:function(){return this.Pq},set:function(e){this.Pq!==e&&(this.Pq=e)}},breadthLimit:{get:function(){return this.Iq},set:function(e){this.Iq!==e&&(this.Iq=e)}},rowSpacing:{get:function(){return this.ls},set:function(e){this.ls!==e&&(this.ls=e)}},rowIndent:{get:function(){return this.ks},set:function(e){this.ks!==e&&(this.ks=e)}},commentSpacing:{get:function(){return this.Oq},set:function(e){this.Oq!==e&&(this.Oq=e)}},commentMargin:{get:function(){return this.Nq},set:function(e){this.Nq!==e&&(this.Nq=e)}},setsPortSpot:{get:function(){return this.vs},set:function(e){this.vs!==e&&(this.vs=e)}},portSpot:{get:function(){return this.gs},set:function(e){this.gs.A(e)||(this.gs=e)}},setsChildPortSpot:{get:function(){return this.us},set:function(e){this.us!==e&&(this.us=e)}},childPortSpot:{get:function(){return this.Lq},set:function(e){this.Lq.A(e)||(this.Lq=e)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.T},set:function(e){this.T.set(e)}},subtreeSize:{get:function(){return this.ua},set:function(e){this.ua.set(e)}},subtreeOffset:{get:function(){return this.ia},set:function(e){this.ia.set(e)}}}),Sg.className="TreeVertex",f(Tg,yh),Tg.prototype.commit=function(){var e=this.link;if(null!==e&&!e.isAvoiding){var t=this.network.layout,n=null,i=null;switch(t.Zc){case Xm:n=this.fromVertex,i=this.toVertex;break;case Zm:n=this.toVertex,i=this.fromVertex;break;default:x("Unhandled path value "+t.Zc.toString())}if(null!==n&&null!==i)if(t=this.ou,0!==t.x||0!==t.y||n.Qz){i=n.bounds;var a=Ym(n),r=Wm(n),o=n.rowSpacing;e.Yi();var s,l=e.curve===Dd,u=e.isOrthogonal;if(e.Bh(),u||l){for(s=2;e.pointsCount>4;)e.zv(2);var c=e.i(1),d=e.i(2)}else{for(s=1;e.pointsCount>3;)e.zv(1);c=e.i(0),d=e.i(e.pointsCount-1)}var h=e.i(e.pointsCount-1);0===a?(n.alignment===sg?(a=i.bottom+t.y,0===t.y&&c.y>h.y+n.rowIndent&&(a=Math.min(a,Math.max(c.y,a-Km(n))))):n.alignment===og?(a=i.top+t.y,0===t.y&&c.y<h.y-n.rowIndent&&(a=Math.max(a,Math.min(c.y,a+Km(n))))):a=n.tm||n.um&&1===n.maxGenerationCount?i.top-n.ia.y+t.y:i.y+i.height/2+t.y,l?(e.m(s,c.x,a),s++,e.m(s,i.right+r,a),s++,e.m(s,i.right+r+(t.x-o)/3,a),s++,e.m(s,i.right+r+2*(t.x-o)/3,a),s++,e.m(s,i.right+r+(t.x-o),a),s++,e.m(s,d.x,a)):(u&&(e.m(s,i.right+r/2,c.y),s++),e.m(s,i.right+r/2,a),s++,e.m(s,i.right+r+t.x-(u?o/2:o),a),s++,u&&e.m(s,e.i(s-1).x,d.y))):90===a?(n.alignment===sg?(a=i.right+t.x,0===t.x&&c.x>h.x+n.rowIndent&&(a=Math.min(a,Math.max(c.x,a-Km(n))))):n.alignment===og?(a=i.left+t.x,0===t.x&&c.x<h.x-n.rowIndent&&(a=Math.max(a,Math.min(c.x,a+Km(n))))):a=n.tm||n.um&&1===n.maxGenerationCount?i.left-n.ia.x+t.x:i.x+i.width/2+t.x,l?(e.m(s,a,c.y),s++,e.m(s,a,i.bottom+r),s++,e.m(s,a,i.bottom+r+(t.y-o)/3),s++,e.m(s,a,i.bottom+r+2*(t.y-o)/3),s++,e.m(s,a,i.bottom+r+(t.y-o)),s++,e.m(s,a,d.y)):(u&&(e.m(s,c.x,i.bottom+r/2),s++),e.m(s,a,i.bottom+r/2),s++,e.m(s,a,i.bottom+r+t.y-(u?o/2:o)),s++,u&&e.m(s,d.x,e.i(s-1).y))):180===a?(n.alignment===sg?(a=i.bottom+t.y,0===t.y&&c.y>h.y+n.rowIndent&&(a=Math.min(a,Math.max(c.y,a-Km(n))))):n.alignment===og?(a=i.top+t.y,0===t.y&&c.y<h.y-n.rowIndent&&(a=Math.max(a,Math.min(c.y,a+Km(n))))):a=n.tm||n.um&&1===n.maxGenerationCount?i.top-n.ia.y+t.y:i.y+i.height/2+t.y,l?(e.m(s,c.x,a),s++,e.m(s,i.left-r,a),s++,e.m(s,i.left-r+(t.x+o)/3,a),s++,e.m(s,i.left-r+2*(t.x+o)/3,a),s++,e.m(s,i.left-r+(t.x+o),a),s++,e.m(s,d.x,a)):(u&&(e.m(s,i.left-r/2,c.y),s++),e.m(s,i.left-r/2,a),s++,e.m(s,i.left-r+t.x+(u?o/2:o),a),s++,u&&e.m(s,e.i(s-1).x,d.y))):270===a?(n.alignment===sg?(a=i.right+t.x,0===t.x&&c.x>h.x+n.rowIndent&&(a=Math.min(a,Math.max(c.x,a-Km(n))))):n.alignment===og?(a=i.left+t.x,0===t.x&&c.x<h.x-n.rowIndent&&(a=Math.max(a,Math.min(c.x,a+Km(n))))):a=n.tm||n.um&&1===n.maxGenerationCount?i.left-n.ia.x+t.x:i.x+i.width/2+t.x,l?(e.m(s,a,c.y),s++,e.m(s,a,i.top-r),s++,e.m(s,a,i.top-r+(t.y+o)/3),s++,e.m(s,a,i.top-r+2*(t.y+o)/3),s++,e.m(s,a,i.top-r+(t.y+o)),s++,e.m(s,a,d.y)):(u&&(e.m(s,c.x,i.top-r/2),s++),e.m(s,a,i.top-r/2),s++,e.m(s,a,i.top-r+t.y+(u?o/2:o)),s++,u&&e.m(s,d.x,e.i(s-1).y))):x("Invalid angle "+a),e.kf()}else e=this.link,r=Ym(n),r!==Ym(i)&&(o=Wm(n),l=n.bounds,n=i.bounds,0===r&&n.left-l.right<o+1||90===r&&n.top-l.bottom<o+1||180===r&&l.left-n.right<o+1||270===r&&l.top-n.bottom<o+1||(e.Yi(),n=e.curve===Dd,t=e.isOrthogonal,i=Im(this.fromVertex.alignment),e.Bh(),0===r?(r=l.right+o/2,n?4===e.pointsCount&&(n=e.i(3).y,e.M(1,r-20,e.i(1).y),e.m(2,r-20,n),e.m(3,r,n),e.m(4,r+20,n),e.M(5,e.i(5).x,n)):t?i?e.M(3,e.i(2).x,e.i(4).y):6===e.pointsCount&&(e.M(2,r,e.i(2).y),e.M(3,r,e.i(3).y)):4===e.pointsCount?e.m(2,r,e.i(2).y):3===e.pointsCount?e.M(1,r,e.i(2).y):2===e.pointsCount&&e.m(1,r,e.i(1).y)):90===r?(r=l.bottom+o/2,n?4===e.pointsCount&&(n=e.i(3).x,e.M(1,e.i(1).x,r-20),e.m(2,n,r-20),e.m(3,n,r),e.m(4,n,r+20),e.M(5,n,e.i(5).y)):t?i?e.M(3,e.i(2).x,e.i(4).y):6===e.pointsCount&&(e.M(2,e.i(2).x,r),e.M(3,e.i(3).x,r)):4===e.pointsCount?e.m(2,e.i(2).x,r):3===e.pointsCount?e.M(1,e.i(2).x,r):2===e.pointsCount&&e.m(1,e.i(1).x,r)):180===r?(r=l.left-o/2,n?4===e.pointsCount&&(n=e.i(3).y,e.M(1,r+20,e.i(1).y),e.m(2,r+20,n),e.m(3,r,n),e.m(4,r-20,n),e.M(5,e.i(5).x,n)):t?i?e.M(3,e.i(2).x,e.i(4).y):6===e.pointsCount&&(e.M(2,r,e.i(2).y),e.M(3,r,e.i(3).y)):4===e.pointsCount?e.m(2,r,e.i(2).y):3===e.pointsCount?e.M(1,r,e.i(2).y):2===e.pointsCount&&e.m(1,r,e.i(1).y)):270===r&&(r=l.top-o/2,n?4===e.pointsCount&&(n=e.i(3).x,e.M(1,e.i(1).x,r+20),e.m(2,n,r+20),e.m(3,n,r),e.m(4,n,r-20),e.M(5,n,e.i(5).y)):t?i?e.M(3,e.i(2).x,e.i(4).y):6===e.pointsCount&&(e.M(2,e.i(2).x,r),e.M(3,e.i(3).x,r)):4===e.pointsCount?e.m(2,e.i(2).x,r):3===e.pointsCount?e.M(1,e.i(2).x,r):2===e.pointsCount&&e.m(1,e.i(1).x,r)),e.kf()))}},p.Object.defineProperties(Tg.prototype,{relativePoint:{get:function(){return this.ou},set:function(e){this.ou.set(e)}}}),Tg.className="TreeEdge",En.prototype.initializeStandardTools=function(){jn(this,"Action",new Oi,this.mouseDownTools),jn(this,"Relinking",new wi,this.mouseDownTools),jn(this,"LinkReshaping",new Ci,this.mouseDownTools),jn(this,"Rotating",new Pi,this.mouseDownTools),jn(this,"Resizing",new Di,this.mouseDownTools),jn(this,"Linking",new vi,this.mouseMoveTools),jn(this,"Dragging",new zn,this.mouseMoveTools),jn(this,"DragSelecting",new Ei,this.mouseMoveTools),jn(this,"Panning",new Ri,this.mouseMoveTools),jn(this,"ContextMenu",new _i,this.mouseUpTools),jn(this,"TextEditing",new Yi,this.mouseUpTools),jn(this,"ClickCreating",new Mi,this.mouseUpTools),jn(this,"ClickSelecting",new Li,this.mouseUpTools)},Jl("Horizontal",new pl),Jl("Spot",new gl),Jl("Table",new yl),Jl("Viewbox",new wl),Jl("TableRow",new bl),Jl("TableColumn",new Al),Jl("Graduated",new Sl),uo.add(wf.type,Fh),uo.add(Pf.type,Qh);var Ng=v.go,Ig={get licenseKey(){return Pa.licenseKey},set licenseKey(e){Pa.licenseKey=e},get version(){return Pa.version},Group:Jc,EnumValue:Y,List:ie,Set:re,Map:me,Point:ge,Size:Be,Rect:Ue,Margin:tt,Spot:$t,Geometry:Jt,PathFigure:hn,PathSegment:fn,InputEvent:xn,DiagramEvent:Cn,ChangedEvent:kn,Model:Hh,GraphLinksModel:wf,TreeModel:Pf,Binding:vf,Transaction:Dn,UndoManager:Pn,CommandHandler:$o,Tool:On,DraggingTool:zn,DraggingInfo:Bo,LinkingBaseTool:hi,LinkingTool:vi,RelinkingTool:wi,LinkReshapingTool:Ci,ResizingTool:Di,RotatingTool:Pi,ClickSelectingTool:Li,ActionTool:Oi,ClickCreatingTool:Mi,HTMLInfo:ji,ContextMenuTool:_i,DragSelectingTool:Ei,PanningTool:Ri,TextEditingTool:Yi,ToolManager:En,AnimationManager:ca,Layer:Ta,Diagram:Pa,Palette:Fo,Overview:Uo,Brush:Vs,GraphObject:Yo,Panel:Tl,RowColumnDefinition:tu,Shape:ou,TextBlock:gu,TextBlockMetrics:qu,Picture:zu,Part:lc,Adornment:Oc,Node:Mc,Link:id,Placeholder:nd,Layout:lh,LayoutNetwork:dh,LayoutVertex:gh,LayoutEdge:yh,GridLayout:bh,PanelLayout:hl,CircularLayout:Lf,CircularNetwork:rp,CircularVertex:op,CircularEdge:lp,ForceDirectedLayout:up,ForceDirectedNetwork:Ap,ForceDirectedVertex:wp,ForceDirectedEdge:xp,LayeredDigraphLayout:kp,LayeredDigraphNetwork:gm,LayeredDigraphVertex:vm,LayeredDigraphEdge:ym,TreeLayout:bm,TreeNetwork:kg,TreeVertex:Sg,TreeEdge:Tg};Ng&&Ng.version!==Ig.version&&x("WARNING: a `go` object on the root object is already defined with a version mismatch."+Ng.version+". Replaced with version: "+Ig.version),v.go=Ig,("undefined"===typeof v||"undefined"===typeof v.module||"object"!==i(v.module.exports))&&v.define&&"function"===typeof v.define&&v.define.amd&&v.define(Ig),"object"===i(e.exports)&&(e.exports="undefined"!==typeof t?t.go:self.go)}()}).call(this,n("c8ba"))},"0ef3":function(e,t,n){"use strict";n("b6a6")},"0f30":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIEAYAAAD9yHLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAACCNJREFUeNrt3UFu48YSBuBqawAhNwgGyGECBDlFFjlEcovcIRfJIqvkJpmMvMjC9sKLmX4LPg4e9WxJZmS3VPV9G6FXUxiS9bPZZjMCAAAAAAAAAACA9droArgM/XP/3D9///00+vnn0fXwln74od20m3bz8ePoSrgu70YXwIVo0aK9fz8NvvtudDm8pa++Gl0B1+lmdAEAXCcBAsAqAgSAVQQIAKsIEABWESAArCJAAFhFgACwigABYBUBAsAqAgSAVQQIAKsIEABWESAArCJAAFhFgACwigABYJVhn7Ttvffef/xxGv366+j/CIDL9u23rbXW2u+/j65kZgYCwCoCBIBVBAgAqwgQAFYRIACsIkAAWEWAALCKAAFgFQECwCoCBIBVBAgAqwgQAFYRIACsIkAAWEWAALCKAAFgFQECwCrvhv3LPXr0v/6aBr/9Nvo/AuCy/fPP6AoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACADNroAs6lf+6f++effooWLdpmM7oegP/To0f/9KndtJt288svo8v5t/IESO+99w8fptHXX4+uB+BpHz601lpr79+PruTfuhldwNn06PElQAAuVZ4+lSdAIiLi779HVwBwWJ4+lSdAWrRoeQ4MkFCPHj1Pn8oTIBGRaWoIJNSiRcvTp/IESI8e/ePH0WUAHJanT+UJkIgwAwEuWrI/9kkWIHmeLQJZ5elTyQIkT7IDCVkDuVDJDgyQlRnIxZne7Hx4mEb396PrAVi6u1v2qeuXJkCW8iQ8kEW+vpQ0QDzKAi5Nvr6UL0CSvekJZJGvL+ULEIvpwEXK15fyBUhEZHrTE8giX19KGiD5kh64dvn6UtIAyfesEbh2+fqSAAF4E/n6UtIAyTdVBK5Ysk0UZ2m+iT6bvo2+2Uyjx8fpdx4DvLVPn6bf7XZ6E30eX790M5DlAbq9HV0PUN1uly04ZukC5IukU0bg2uTtQ3kDJCIyLloB1yZvH8obIC1atLwHDrgCybdWyhsgEZF56ghcgeRbK+UNkB49er6tA4Brk7cP5Q2QiDADAYZK/sc8yQMk77NH4Frk7UPJAyRv8gNXwBrIlUp+4IBrYQZydZYfr7+/H10PUM3d3bIP5ZM2QJby3gEAlyp/3ykSIB5lAW8tf9/JHyDJ3wQFLlX+vpM/QCymA0Pk7zv5AyQiMr8JClyq/H2nSIDkvxMALk3+vlMkQPI/iwQuTf6+I0AAXkX+vlMkQPJPJYELknwTxVkbXcBr67333jebafT4OP3OY4Bzm799vt1m/Rb6LP0MZHkAb29H1wNkt9tlD45Z+gD5osiUEhitTp+pEyARUWFRCxitTp+pEyAtWrQ6BxYYoNjWSXUCJCIqTS2BAYptnVQnQHr06Pm3FgBGq9Nn6gRIRJiBAK+q2B/rFAuQOs8mgVHq9JliAVLnzgAYwBpIUsUOLDCKGUg6y4/b39+PrgfI5u5u2WfyKxMgS3XuEIC3Uq+vFA0Qj7KAc6vXV+oFSLE3RYG3Uq+v1AsQi+nAq6jXV+oFSERUelMUeCv1+krRAKl3pwC8tnp9pWiA1HtWCby2en1FgACcRb2+UjRA6k01gVdUbBPFWRtdwFvrvffeN5tp9Pg4/c5jgJeav32+3Vb5Fvqs3AxkeYBvb0fXA1y73a5acMzKBcgXRaecwLnV7SN1AyQiKi56AedWt4/UDZAWLVrdAw+cQfGtkeoGSERUnnoCZ1B8a6S6AdKjR6+39QBwbnX7SN0AiQgzEOBfKf7HOMUDpO6zS+Bc6vaR4gFS984BOANrIEUVP/DAuZiBlDO9OfrwMI3u70fXA1ybu7tlH6mnbIAs1b2DANbSNwRIRFgLAV5O3xAgxd8kBdbSNwSIxXRgFX1DgERE5TdJgbX0DQESEe4kgJfTNwRIRHiWCbycviFAIsKJALycviFAIsJUFHiR4psoztroAkbrvffeN5tp9Pg4/c5jgH3zt8+326rfQp+Vn4EsT4Db29H1AJdut6seHLPyAfKFKSlwEn1iJkAWLIoBx+gTMwEya9GiOTGAA2x9tCBAFkxNgQNsfbQgQGY9enRbEwDH6BMzAbLgzgI4wB/bLAiQBc82gWP0iZkAWXBnARxgDWRBgMycGMBJzEBmAuS/pjdLHx6m0f396HqAS3N3t+wTCJAnucMA9ukL+wTIkzzKAvbpC/sEyD5vmgJP0hf2CZB9FtOBJ+kL+wTIk7xpCuzTF/YJkCe50wD26Qv7BMiTPOsE9ukL+wTIk5wowD59YZ8AeZKpKvA/bKL4pDa6gEvTe++9bzbT6PFx+p3HQD3zt8+3W99CXzID2bM8QW5vR9cDjLbbCY6nCZDnmLICEeGR9vMEyEEWzQB94DkC5DktWjQnDpRma6ODBMhBpq5Qmq2NDhIgz+nRo9u6ANAHniNADnLnAaX5Y5qDBMhBnn0C+sBzBMhB7jygNGsgBwmQ5zhxgIgwA3meAHnG9Obpw8M0ur8fXQ/w1u7uln2AfQLkJO5AoB7X/TEC5CQeZUE9rvtjBMgx3kSFolz3xwiQYyymQ1Gu+2MEyEm8iQr1uO6PESAncScC9bjujxEgJ/EsFOpx3R8jQE7iRIJ6XPfHCJCTmMpCKTZRPEkbXcCl67333jebafT4OP3OYyCf+dvn261voR9mBnLE8gS6vR1dD/DadjvBcRoBcipTWijCdX4qAfIiFtUgP9f5qQTIqVq0aE4sSM3WRS/ybnQBV6NHj/7HH9Pgm29GlwO8lj//HF0BAAAAAAAAAAAAFfwHhP/jazdc/UIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMTItMTRUMTA6NDA6MTErMDg6MDDMZ22wAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTEyLTE0VDEwOjQwOjExKzA4OjAwvTrVDAAAAEl0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fNjY5eWN0Yjhlc2cvenVvZmVpLnN2Z/syeQkAAAAASUVORK5CYII="},"0f45":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.findOrgTree=o,t.findPeopleByOrgId=s;var a=i(n("b775")),r="/base";function o(){return(0,a.default)({baseURL:r,url:"/orgController/findOrgTree",method:"get"})}function s(e){return(0,a.default)({baseURL:r,url:"/personController/findPeopleByOrgId",method:"get",params:{OrgUuid:e}})}},"0f46":function(e,t,n){"use strict";n.r(t);var i=n("ef79"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0f47":function(e,t,n){"use strict";n.r(t);var i=n("2694"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0f7f":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("670a")),r=i(n("798a")),o={name:"QueryBuilderGroup",components:{QueryBuilderRule:r.default},extends:a.default};t.default=o},"0f9a":function(e,t,n){"use strict";var i=n("4ea4"),a=n("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var r=n("c24f"),o=n("5f87"),s=a(n("a18c")),l=(n("e350"),n("01dd")),u=n("64dc"),c=i(n("a78e")),d={token:(0,o.getToken)(),name:"",avatar:"",introduction:"",roles:[],id:"",code:"",scenecode:"",scenename:"",datauserid:"",datausername:""},h={SET_TOKEN:function(e,t){e.token=t},SET_INTRODUCTION:function(e,t){e.introduction=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t},SET_ID:function(e,t){e.id=t},SET_RES:function(e,t){e.res=t},SET_CODE:function(e,t){e.code=t},SET_SCENECODE:function(e,t){e.scenecode=t},SET_SCENENAME:function(e,t){e.scenename=t},SET_DATAUSERID:function(e,t){e.datauserid=t},SET_DATAUSERNAME:function(e,t){e.datausername=t}},f={login:function(e,t){var n=e.commit,i=t.username,a=t.password;return new Promise((function(e,t){(0,r.login)({userid:i.trim(),password:a}).then((function(t){var i=t.data;n("SET_ID",i.personUuid),n("SET_NAME",i.username),n("SET_CODE",i.userid);var a=JSON.parse(sessionStorage.getItem("sysDict"));null==a&&(0,l.cacheDict)().then((function(e){sessionStorage.setItem("sysDict",JSON.stringify(e.data))}));var r="auditor",o=i.userid;(0,u.getSceneInst)(r,o).then((function(e){var t=e.data.dataUserName,i=e.data.sceneName;n("SET_SCENECODE",r),n("SET_SCENENAME",i),n("SET_DATAUSERID",o),n("SET_DATAUSERNAME",t)})),e()})).catch((function(e){t(e)}))}))},getInfo:function(e){var t=e.commit,n=e.state;return new Promise((function(e,i){(0,r.getInfo)().then((function(a){var r=a.data;r||i("Verification failed, please Login again.");var o=r.roles,s=r.name,l=r.avatar,c=r.introduction,d=r.id,h=r.personcode;if((!o||o.length<=0)&&i("getInfo: roles must be a non-null array!"),t("SET_ID",d),t("SET_ROLES",o),t("SET_NAME",s),t("SET_AVATAR",l),t("SET_INTRODUCTION",c),t("SET_CODE",h),""===n.scenecode||null==n.scenecode){var f="auditor",p=h;(0,u.getSceneInst)(f,p).then((function(e){var n=e.data.dataUserName,i=e.data.sceneName;t("SET_SCENECODE",f),t("SET_SCENENAME",i),t("SET_DATAUSERID",p),t("SET_DATAUSERNAME",n)}))}e(r)})).catch((function(e){i(e)})),e()}))},logout:function(e){var t=e.commit,n=e.state,i=e.dispatch;return new Promise((function(e,a){(0,r.logout)(n.token).then((function(){t("SET_TOKEN",""),t("SET_ROLES",[]),(0,o.removeToken)(),(0,s.resetRouter)(),i("tagsView/delAllViews",null,{root:!0}),e(),c.default.remove("LTPAToken"),c.default.remove("ROLTPAToken")})).catch((function(e){a(e)}))}))},resetToken:function(e){var t=e.commit;return new Promise((function(e){t("SET_TOKEN",""),t("SET_ROLES",[]),(0,o.removeToken)(),e()}))},saveScene:function(e,t){var n=e.commit;return new Promise((function(e){n("SET_SCENECODE",t.sceneCode),n("SET_SCENENAME",t.sceneName),n("SET_DATAUSERID",t.dataUserId),n("SET_DATAUSERNAME",t.dataUserName),e()}))}},p={namespaced:!0,state:d,mutations:h,actions:f};t.default=p},"0fc5":function(e,t,n){"use strict";n.r(t);var i=n("f00f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0fc6":function(e,t,n){"use strict";n("3370")},1:function(e,t,n){e.exports=n("56d7")},"108d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEqADAAQAAAABAAAAEgAAAACaqbJVAAABNklEQVQ4Ea2UPVLDMBCF38pcwLQZWmZyFYYGaDhBmpyHhhOkYSjgLvyUBlpygcTmPckyiEjCBTtjy9bufn5aaW0vaM8G4JbXvgHWp9g+Yoa9oj3fAzcGNLxW9oz2fcCwGHN3gLte4vOuxnrC8RXQbxhzpDiDfTiOvV5Go6PfhMA4lY6/IfJqNY63NZ+pZLIiLAdRrkriltg+aDmamFBecqqsBFGu6so6BasFhojvmowpST0nkJxlmE/1hc1BNJeANFGAyRUtURInD0ByVGBZiHK0/f9iB4oqauIHs6oSUAHCRG/zil2G+DNG0oztr0Fi3/0VY6GLh3t+sipdiyvBGtiFur9j958ocLRsMaMzD7NO2//zCFQhgoWlpr3JHWscbyv9T3jIO0mMNYkKcmOIsUvmvSlXjC/VB5ZW5vIZ2QAAAABJRU5ErkJggg=="},"10fb":function(e,t,n){},1131:function(e,t,n){"use strict";n.r(t);var i=n("a737"),a=n("f535");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},11576:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:["query","ruleTypes","rules","maxDepth","labels","depth"],data:function(){return{groupComponent:null,ruleComponent:null}},mounted:function(){this.groupComponent=this.$parent.$options.components["QueryBuilderGroup"],this.ruleComponent=this.$parent.$options.components["QueryBuilderRule"]},methods:{getComponent:function(e){return"query-builder-group"===e?this.groupComponent:this.ruleComponent}}};t.default=i},1190:function(e,t,n){"use strict";n.r(t);var i=n("0f7f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"11bb":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("ddae")),r=i(n("1416")),o=n("abfa"),s={name:"ThresholdValueRel",components:{Colorpicker:a.default,thresholdvaluetree:r.default},props:["setThreasholdValueObj"],mounted:function(){this.setThreasholdValueObj.isDisplay&&(this.thresholdValueRelObj=this.setThreasholdValueObj.thresholdValueRelObj,2==this.thresholdValueRelObj.thresholdValue.thresholdValueType?this.isShowThresholdValueObject=!0:(this.isShowThresholdValueObject=!1,this.thresholdValueRelObj.thresholdValueObject=""))},data:function(){return{thresholdValueRelObj:{modelThresholdValueUuid:"",thresholdValueUuid:"",thresholdValueName:"",colorInfo:{backgroundColor:"#000000",fontColor:"#000000"},modelResultColumnName:"",operator:"=",thresholdValueObject:"",thresholdValue:{}},isShowThresholdValueObject:!1,operatorObj:[{value:"=",name:"等于"},{value:">",name:"大于"},{value:">=",name:"大于等于"},{value:"<",name:"小于"},{value:"<=",name:"小于等于"},{value:"startswith",name:"开头是"},{value:"endingwith",name:"结尾是"},{value:"like",name:"包含"},{value:"notlike",name:"不包含"}],basicInfoRules:{modelResultColumnName:[{type:"string",required:!0,message:"请选择阈值字段",trigger:"blur"}],thresholdValueName:[{type:"string",required:!0,message:"请选择阈值",trigger:"blur"}],thresholdValueObject:[{required:!0,type:"string",validator:this.verValueMethods}]},loading:!1}},methods:{verValueMethods:function(e,t,n){this.isShowThresholdValueObject&&""===this.thresholdValueRelObj.thresholdValueObject?n(new Error("请选择阈值关联对象列")):n()},setSelectTreeNode:function(e){var t=this;"folder"!==e.type?(this.loading=!0,this.thresholdValueRelObj.thresholdValueUuid=e.id,this.thresholdValueRelObj.thresholdValueName=e.label,(0,o.findThresholdValueById)(e.id).then((function(e){t.loading=!1,null!=e.data&&(t.thresholdValueRelObj.thresholdValue=e.data),2==e.data.thresholdValueType?t.isShowThresholdValueObject=!0:(t.isShowThresholdValueObject=!1,t.thresholdValueRelObj.thresholdValueObject="")}))):this.$message({type:"info",message:"不能选择文件夹!"})},getSaveObj:function(){var e=!1;this.$refs["info"].validate((function(t){if(!t)return!1;e=!0})),e&&(this.$emit("inSetThresholdValue",this.thresholdValueRelObj,this.setThreasholdValueObj.analysisRegionId),this.closeDialog())},closeDialog:function(){this.$emit("closeThresholdValueRel")},clearThresholdValue:function(){this.$emit("clearThresholdValue",this.setThreasholdValueObj.analysisRegionId),this.$emit("closeThresholdValueRel")}}};t.default=s},1244:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523")),r=n("009c");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"transcodeDetail",data:function(){return{formData:{ruleName:"",ruleDesc:"",ruleType:"",sqlContent:"",sceneName:"",sceneCode:""},listValue:[],isSql:!1,id:""}},props:["transRuleUuid"],mounted:function(){this.init()},methods:{init:function(){var e=this;(0,r.selectById)(this.transRuleUuid).then((function(t){e.formData=s(s({},e.formData),t.data),e.listValue=t.data.transColRels,1===e.formData.ruleType?(e.formData.ruleType="SQL语句",e.isSql=!0):(e.formData.ruleType="手动添加",e.isSql=!1)}))}}};t.default=l},1248:function(e,t,n){"use strict";n.r(t);var i=n("0b92"),a=n("e069");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("a31d");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"9c4a3516",null);t["default"]=s.exports},"12ac":function(e,t,n){"use strict";n("c610")},"12cc":function(e,t,n){"use strict";n.r(t);var i=n("52f8"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"12dd":function(e,t,n){e.exports=n.p+"static/img/yujing.15488f2f.png"},1330:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.findWarningTree=o;var a=i(n("b775")),r="/analysis";function o(){return(0,a.default)({baseURL:r,url:"/auditWarning/findWarningTree",method:"get"})}},1369:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("ac6a"),n("20d6");var a=i(n("333d")),r=n("d908"),o=i(n("c164")),s={components:{Pagination:a.default,QueryField:o.default},data:function(){return{tableKey:"bizAttrUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"业务属性编码",name:"attrCode",type:"text",value:""},{label:"业务属性名称",name:"attrName",type:"fuzzyText"},{label:"创建时间",name:"createTime",type:"timePeriod"}],pageQuery:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},temp:{bizAttrUuid:void 0,attrName:"",attrCode:"",describtion:""},selections:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"修改业务属性",create:"新增业务属性"},dialogPvVisible:!1,rules:{attrName:[{required:!0,message:"请填写业务属性名称",trigger:"change"}],attrCode:[{required:!0,message:"请填写业务属性编码",trigger:"change"}],describtion:[{max:100,message:"长度不得超过100",trigger:"change"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,r.listByPage)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},resetTemp:function(){this.temp={bizAttrUuid:void 0,attrName:"",attrCode:"",describtion:""}},add:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(0,r.save)(e.temp).then((function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},update:function(){var e=this;this.temp=Object.assign({},this.selections[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var n=Object.assign({},e.temp);(0,r.update)(n).then((function(){var t=e.list.findIndex((function(t){return t.bizAttrUuid===e.temp.bizAttrUuid}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},deleteBiz:function(){var e=this,t=[];this.selections.forEach((function(e,n){t.push(e.bizAttrUuid)})),this.$confirm("确定删除图形?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){(0,r.del)(t.join(",")).then((function(){e.getList(),e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},handleSelectionChange:function(e){this.selections=e},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"}}};t.default=s},"13ea":function(e,t,n){"use strict";n.r(t);var i=n("75ff"),a=n("4fe5");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},1416:function(e,t,n){"use strict";n.r(t);var i=n("e984"),a=n("54dd");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},1462:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"colorPicker",staticClass:"m-colorPicker",attrs:{tabindex:"-1"},on:{blur:function(t){return e.closePanel()},click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"colorBtn",class:{disabled:e.disabled},style:"background-color: "+e.showColor,on:{click:function(t){e.openStatus=!e.disabled}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.html5Color,expression:"html5Color"}],ref:"html5Color",attrs:{type:"color"},domProps:{value:e.html5Color},on:{change:function(t){return e.updataValue(e.html5Color)},input:function(t){t.target.composing||(e.html5Color=t.target.value)}}}),n("div",{staticClass:"box",class:{open:e.openStatus}},[n("div",{staticClass:"hd"},[n("div",{staticClass:"colorView",style:"background-color: "+e.showPanelColor}),n("div",{staticClass:"defaultColor",on:{click:e.handleDefaultColor,mouseover:function(t){e.hoveColor=e.defaultColor},mouseout:function(t){e.hoveColor=null}}},[e._v("默认颜色")])]),n("div",{staticClass:"bd"},[n("h3",[e._v("主题颜色")]),n("ul",{staticClass:"tColor"},e._l(e.tColor,(function(t,i){return n("li",{key:i,style:{backgroundColor:t},on:{mouseover:function(n){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(n){return e.updataValue(t)}}})})),0),n("ul",{staticClass:"bColor"},e._l(e.colorPanel,(function(t,i){return n("li",{key:i},[n("ul",e._l(t,(function(t,i){return n("li",{key:i,style:{backgroundColor:t},on:{mouseover:function(n){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(n){return e.updataValue(t)}}})})),0)])})),0),n("h3",[e._v("标准颜色")]),n("ul",{staticClass:"tColor"},e._l(e.bColor,(function(t,i){return n("li",{key:i,style:{backgroundColor:t},on:{mouseover:function(n){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(n){return e.updataValue(t)}}})})),0),n("h3",{on:{click:e.triggerHtml5Color}},[e._v("更多颜色...")])])])])},a=[]},1467:function(e,t,n){"use strict";n("74c7")},"148b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"App"};t.default=i},"14ad":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"app-container",attrs:{"element-loading-text":e.loadText}},[n("el-container",{staticClass:"el-container"},[n("div",{staticClass:"detail-form"},[n("el-form",{ref:"basicInfoForm",attrs:{model:e.thresholdValue,rules:e.basicInfoRules}},[n("el-row",[n("el-col",{attrs:{span:23}},[n("el-form-item",{attrs:{label:"阈值名称",prop:"thresholdValueName"}},[n("el-input",{model:{value:e.thresholdValue.thresholdValueName,callback:function(t){e.$set(e.thresholdValue,"thresholdValueName",t)},expression:"thresholdValue.thresholdValueName"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:20}},[n("el-form-item",{attrs:{label:"阈值类型",prop:"thresholdValueType"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.onSelectChange},model:{value:e.thresholdValue.thresholdValueType,callback:function(t){e.$set(e.thresholdValue,"thresholdValueType",t)},expression:"thresholdValue.thresholdValueType"}},[n("el-option",{key:1,attrs:{label:"单值",value:1}}),n("el-option",{key:2,attrs:{label:"多值",value:2}})],1)],1)],1)],1),n("el-row",[n("el-form-item",{attrs:{label:"阈值分类",prop:"thresholdValueFolderName"}},[n("el-col",{attrs:{span:22}},[n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.thresholdValue.thresholdValueFolderUuid,callback:function(t){e.$set(e.thresholdValue,"thresholdValueFolderUuid",t)},expression:"thresholdValue.thresholdValueFolderUuid"}}),n("el-input",{attrs:{disabled:!0},model:{value:e.thresholdValue.thresholdValueFolderName,callback:function(t){e.$set(e.thresholdValue,"thresholdValueFolderName",t)},expression:"thresholdValue.thresholdValueFolderName"}})],1),n("el-col",{attrs:{span:2}},[n("el-button",{on:{click:function(t){return t.preventDefault(),e.openFolderTreeDialog(t)}}},[e._v("设置")])],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"阈值说明",prop:"thresholdValueMemo"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.thresholdValue.thresholdValueMemo,callback:function(t){e.$set(e.thresholdValue,"thresholdValueMemo",t)},expression:"thresholdValue.thresholdValueMemo"}})],1)],1)],1),n("div",{ref:"threshValueSet"},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isShow.threshValueInfoSetIsShow,expression:"isShow.threshValueInfoSetIsShow"}],staticStyle:{float:"right"},on:{click:e.addThreshValueInfo}},[e._v("新增")]),n("el-table",{directives:[{name:"show",rawName:"v-show",value:e.isShow.threshValueInfoSetIsShow,expression:"isShow.threshValueInfoSetIsShow"}],ref:"columnData",staticClass:"div-width",attrs:{data:e.thresholdValue.thresholdValueInfoList}},[n("el-table-column",{attrs:{prop:"filterConditions",label:"阈值对象",width:"275"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{placeholder:"请输入阈值对象名称",disabled:e.isBanEdit},model:{value:t.row.filterConditions,callback:function(n){e.$set(t.row,"filterConditions",n)},expression:"scope.row.filterConditions"}})]}}])}),n("el-table-column",{attrs:{prop:"filterValueOne",label:"值",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{placeholder:"请输入值",disabled:e.isBanEdit},model:{value:t.row.filterValue,callback:function(n){e.$set(t.row,"filterValue",n)},expression:"scope.row.filterValue"}})]}}])}),n("el-table-column",{attrs:{prop:"",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{nativeOn:{click:function(n){return n.preventDefault(),e.deleteRowData(t.$index,e.thresholdValue.thresholdValueInfoList)}}},[e._v("删除")])]}}])})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow.threshValueIsShow,expression:"isShow.threshValueIsShow"}],attrs:{label:"值",prop:"filterValue"}},[n("el-input",{model:{value:e.thresholdValue.filterValue,callback:function(t){e.$set(e.thresholdValue,"filterValue",t)},expression:"thresholdValue.filterValue"}})],1)],1)],1)],1)]),e.folderTreeDialog?n("el-dialog",{attrs:{width:"40%","close-on-click-modal":!1,title:"请选择阈值分类",visible:e.folderTreeDialog,"append-to-body":!0},on:{"update:visible":function(t){e.folderTreeDialog=t}}},[n("Thresholdvaluetree",{ref:"Thresholdvaluetree",staticStyle:{height:"500px"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.folderTreeDialog=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.getFolderTreeObj}},[e._v("确定")])],1)],1):e._e()],1)},a=[]},"14b4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{height:"600px"}},[i("el-tabs",{model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[i("el-tab-pane",{attrs:{label:"基本信息",name:"basicInfo"}},[i("Basic",{ref:"basicVueRef"})],1),i("el-tab-pane",{attrs:{label:"条件设置",name:"nodeSet"}},[i("el-col",{attrs:{span:e.myDiagramDivWidth}},[i("div",{ref:"myDiagramDiv",staticStyle:{border:"1px solid #F3F3F3",height:"561px"},attrs:{id:"myDiagramDiv"},on:{mouseover:e.myDiagramMousemove}}),e.showRight?i("el-image",{staticStyle:{width:"15px",height:"15px","z-index":"9999",position:"absolute",top:"10px",right:"260px"},attrs:{title:"画布放大",src:n("e79c")},on:{click:e.amplify}}):e._e(),e.showRight?e._e():i("el-image",{staticStyle:{width:"15px",height:"15px","z-index":"9999",position:"absolute",top:"10px",right:"20px"},attrs:{title:"画布缩小",src:n("e79c")},on:{click:e.reduce}})],1),e.showRight?i("el-col",{attrs:{span:6}},[i("div",{staticStyle:{width:"100%",height:"561px"}},[i("el-collapse",{model:{value:e.activeCollapseNames,callback:function(t){e.activeCollapseNames=t},expression:"activeCollapseNames"}},[i("el-collapse-item",{attrs:{name:"tableRelation"}},[i("template",{slot:"title"},[i("span",{staticStyle:{"padding-left":"10px"}},[e._v("表间连接关联关系")])]),e.showTableJoin?i("div",{staticStyle:{width:"100%",height:"100%",background:"#F7F7F7",border:"1px solid #F3F3F3","overflow-y":"auto"}},[i("el-row",[i("el-input",{attrs:{disabled:""},model:{value:e.mainTableName,callback:function(t){e.mainTableName=t},expression:"mainTableName"}})],1),i("el-row",[i("div",{staticStyle:{width:"50px","text-align":"right","line-height":"36px",float:"left"}},[e._v("关系：")]),i("el-select",{staticStyle:{width:"calc(100% - 54px)"},on:{change:e.changeType},model:{value:e.joinType,callback:function(t){e.joinType=t},expression:"joinType"}},e._l(e.joinTypeArr,(function(t){return i("el-option",{key:t.value,attrs:{value:t.value,label:t.name}},[e._v(e._s(t.name))])})),1)],1),i("el-row",[i("el-input",{attrs:{disabled:""},model:{value:e.slaverTableName,callback:function(t){e.slaverTableName=t},expression:"slaverTableName"}})],1)],1):e._e()],2),i("el-collapse-item",{attrs:{name:"filterRelation"}},[i("template",{slot:"title"},[i("span",{staticStyle:{"padding-left":"10px"}},[e._v("连接条件")])]),e.showJoinArea?i("div",{staticStyle:{width:"100%",height:"100%",background:"#F7F7F7","overflow-y":"auto"}},[i("el-row",[i("el-input",{attrs:{disabled:""},model:{value:e.mainPort,callback:function(t){e.mainPort=t},expression:"mainPort"}})],1),i("el-row",[i("div",{staticStyle:{width:"50px","text-align":"right","line-height":"36px",float:"left"}},[e._v("关系：")]),i("el-select",{staticStyle:{width:"calc(100% - 54px)"},on:{change:e.changeCopare},model:{value:e.comper,callback:function(t){e.comper=t},expression:"comper"}},e._l(e.comperArr,(function(t){return i("el-option",{key:t.value,attrs:{value:t.value,label:t.name}},[e._v(e._s(t.name))])})),1)],1),i("el-row",[i("el-input",{attrs:{disabled:""},model:{value:e.toPort,callback:function(t){e.toPort=t},expression:"toPort"}})],1)],1):e._e()],2),i("el-collapse-item",{attrs:{name:"nounTranslation"}},[i("template",{slot:"title"},[i("span",{staticStyle:{"padding-left":"10px"}},[e._v("名词解释")])]),i("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[i("div",{staticStyle:{"max-height":"120px",background:"#F7F7F7","overflow-y":"auto"}},[i("p",{staticStyle:{"text-indent":"2em"}},[e._v(e._s(e.joinDescription))])])])],2)],1)],1)]):e._e()],1),i("el-tab-pane",{attrs:{label:"输出字段设置",name:"outPutCol"}},[i("el-row",{staticStyle:{"padding-top":"10px"}},[i("el-col",{attrs:{align:"right"}},[i("el-button",{staticClass:"oper-btn customfield",attrs:{type:"primary",tyle:"line-height: normal;"},on:{click:function(t){return e.customizeColumn("1")}}}),i("el-button",{staticClass:"oper-btn help",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(t){e.helpDialogVisible=!0}}})],1)],1),i("el-table",{ref:"outPutTable",staticStyle:{width:"100%"},attrs:{data:e.items,border:"",height:"530"}},[i("el-table-column",{attrs:{type:"index",label:"编号",width:"60",align:"center",resizable:!1}}),i("el-table-column",{attrs:{label:"上一节点名称",width:"200","show-overflow-tooltip":!0,prop:"rtn","header-align":"center",resizable:!1}}),i("el-table-column",{attrs:{label:"字段名称",width:"260","show-overflow-tooltip":!0,prop:"columnName","header-align":"center",resizable:!1}}),i("el-table-column",{attrs:{label:"输出字段名称",width:"240","header-align":"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{model:{value:t.row.disColumnName,callback:function(n){e.$set(t.row,"disColumnName",n)},expression:"scope.row.disColumnName"}})]}}])}),i("el-table-column",{attrs:{align:"center",width:"100",resizable:!1},scopedSlots:e._u([{key:"header",fn:function(t){return[e._v(" 输出字段"),i("el-checkbox",{staticStyle:{"padding-left":"5px"},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})]}},{key:"default",fn:function(t){return[i("el-checkbox",{on:{change:e.checkBoxChange},model:{value:t.row.checked,callback:function(n){e.$set(t.row,"checked",n)},expression:"scope.row.checked"}})]}}])}),i("el-table-column",{attrs:{align:"center",label:"操作",width:"100",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"oper-btn setting",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.customizeColumn("2",t.row)}}})]}}])})],1)],1)],1),i("el-dialog",{attrs:{visible:e.helpDialogVisible,"append-to-body":!0,title:"说明",width:"400px"},on:{"update:visible":function(t){e.helpDialogVisible=t}}},[i("div",{staticStyle:{height:"260px",padding:"10px"}},[i("p",{staticStyle:{"text-indent":"2em"}},[e._v("（1）如果修改了【输出字段名称】且存在已配置过或执行过的后续节点，则后续节点关于该字段的配置信息会失效")]),i("p",{staticStyle:{"text-indent":"2em"}},[e._v("（2）如果继续使用后续节点，则需重新配置和执行相关节点")]),i("p",{staticStyle:{"text-indent":"2em"}},[e._v("（3）如果修改了【输出字段名称】后并执行了当前节点，则后续节点的执行结果会发生变化")]),i("p",{staticStyle:{"text-indent":"2em"}},[e._v("（4）支持通过拖拽更改输出字段的顺序，同时在结果集中同步展示")])])]),e.customizeColumnDialogVisible?i("el-dialog",{attrs:{visible:e.customizeColumnDialogVisible,title:e.customizeColumnTitle,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"1000px"},on:{"update:visible":function(t){e.customizeColumnDialogVisible=t}}},[i("CustomizeColumn",{ref:"customizeColumn",attrs:{columnInfoArr:e.columnsInfoPre,"cur-column-info":e.curColumnInfo,"node-type":"relation","node-data-array":e.curNodeDataArray}}),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.customizeColumnDialogVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.customizeColumnBack()}}},[e._v("保存")])],1)],1):e._e()],1)},a=[]},"151d":function(e,t,n){"use strict";n.r(t);var i=n("912e"),a=n("09ed");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("28c8");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"45ebd684",null);t["default"]=s.exports},1594:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6762"),n("2fdb"),n("ac6a"),n("6b54"),n("a481"),n("b360"),n("588b");var a=n("401be"),r=i(n("333d")),o=i(n("f2d9")),s=i(n("1aad")),l=n("7a42"),u=n("35cd"),c=i(n("bc3a")),d=(i(n("2106")),i(n("c72e")),i(n("445c"))),h=(n("322d"),n("6026")),f=n("009c"),p=i(n("3f77"));n("dcad");var m={name:"childTabCon",components:{AgGridVue:a.AgGridVue,Pagination:r.default,myQueryBuilder:d.default,childtabscopy:s.default,downloadExcel:o.default,mtEditor:p.default},watch:{modelDetailModelResultDialogIsShow:function(e){this.$nextTick((function(){e&&this.initWebSocket()}))}},props:["nowtable","modelUuid","useType","prePersonalVal","resultSpiltObjects","projectUuid"],data:function(){return{dialogVisible:!1,columnDefs:[],rowData:[],pageQuery:{condition:null,pageNo:1,pageSize:20},key:"",total:0,myFlag:!1,selectRows:[],detailTable:[],localeText:{page:"页",more:"更多",to:"到",next:"下一页",last:"最后",first:"第一",previous:"以前的",loadingOoo:"加载中...",selectAll:"全选",searchOoo:"搜索...",blanks:"空",Column:"列",labels:"标签",filterOoo:"过滤",applyFilter:"过滤中...",equals:"等于",notEqual:"不等于",lessThan:"少于",greaterThan:"多于",lessThanOrEqual:"小于等于",greaterThanOrEqual:"大于等于",inRange:"在范围内",contains:"包含",notContains:"不包含",startsWith:"开始",endsWith:"结束",andCondition:"并且",orCondition:"或者",columns:"列",filters:"过滤器",rowGroupColumns:"行列组",valueColumns:"列值",pivotMode:"透视模式",values:"值",valueColumnsEmptyMessage:"列值为空",toolPanelButton:"工具按钮",noRowsToShow:"没有可以展示的数据",pinColumn:"固定列",valueAggregation:"聚合值",autosizeThiscolumn:"自适应本列",autosizeAllColumns:"自适应所有列",groupBy:"分组",ungroupBy:"取消分组",resetColumns:"重置列",expandAll:"展开所有",collapseAll:"关闭所有",toolPanel:"工具",export:"导出",csvExport:"CSV 导出",excelExport:"Excel 导出(.xlsx)",excelXmlExport:"Excel 导出(.xml)",PinColumn:"固定",pinLeft:"固定到左侧",pinRight:"固定到右侧",noPin:"无固定",sum:"合计",min:"最小值",max:"最大值",count:"计数",average:"平均值",avg:"平均值",copy:"复制",copyWithHeaders:"携表头复制",ctrlC:"ctrl-C",paste:"粘贴",ctrlV:"ctrl-V"},modelResultHandle:{handleState:"",handleIdea:""},primaryKey:"",dataArray:[],queryData:[],queryJson:{},conditionShowData:[],isLoading:!0,handleIdeaDialog:!1,nextValue:[],modelResultData:[],modelResultColumnNames:[],total1:null,isSee:!0,errorMessage:"",modelResultPageIsSee:!1,modelResultButtonIsShow:!1,modelDetailRelation:[],modelOutputColumn:[],modelDetailButtonIsShow:!1,modelDetailDialogIsShow:!1,options:[],value:"",tableData:[],excelName:"",json_fields:{},modelDetailModelResultDialogIsShow:!1,currentExecuteSQL:[],webSocket:null,dataCoding:{},nowSql:"undefined",modelRunResultBtnIson:{exportBtn:!1,chartDisplayBtn:!1,associatedBtn:!0,disassociateBtn:!1,modelDetailAssBtn:!0},dynamicSelect:[],chartShowIsSee:!1,result:{}}},mounted:function(){this.getRenderTableData()},methods:{rowChange:function(){var e=this.gridApi.getSelectedRows();0==e.length?(this.modelRunResultBtnIson.exportBtn=!1,this.modelRunResultBtnIson.chartDisplayBtn=!1,this.modelRunResultBtnIson.associatedBtn=!0,this.modelRunResultBtnIson.disassociateBtn=!1,this.modelRunResultBtnIson.modelDetailAssBtn=!0):1==e.length?(this.modelRunResultBtnIson.exportBtn=!1,this.modelRunResultBtnIson.chartDisplayBtn=!1,this.modelRunResultBtnIson.associatedBtn=!1,this.modelRunResultBtnIson.disassociateBtn=!1,this.modelRunResultBtnIson.modelDetailAssBtn=!1):e.length>1&&(this.modelRunResultBtnIson.exportBtn=!1,this.modelRunResultBtnIson.chartDisplayBtn=!1,this.modelRunResultBtnIson.associatedBtn=!1,this.modelRunResultBtnIson.disassociateBtn=!1,this.modelRunResultBtnIson.modelDetailAssBtn=!0)},exportExcel:function(){(0,c.default)({method:"post",url:"/analysis/RunResultTableController/exportRunResultMainTable",data:this.dataArray,responseType:"blob"}).then((function(e){var t=document.createElement("a"),n=new Blob([e.data],{type:"application/vnd.ms-excel"});t.style.display="none",t.href=URL.createObjectURL(n),t.setAttribute("download","模型运行结果表.xlsx"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},removeRelated:function(e){var t=this;(0,l.removeResultDetailProjectRel)(e).then((function(e){1==e.data?t.$message({type:"success",message:"移除关联项目成功!"}):t.$message({type:"error",message:"移除关联项目失败!"})}))},getValues:function(){var e=this.gridApi.getSelectedRows();0==e.length&&this.$message({type:"info",message:"请选择后再进行关联!"}),this.selectRows=e},onGridReady:function(e){this.gridApi=e.api,this.columnApi=e.columnApi,this.gridApi.sizeColumnsToFit()},onCellClicked:function(e){},initData:function(e,t){var n=this;if("modelRunResult"==this.useType){this.isLoading=!0,1==this.nowtable.tableType&&(this.myFlag=!0);var i=[],a=[],r=[];this.pageQuery.condition=this.nowtable,"string"!==typeof e&&(e="undefined"),(0,u.selectTableHandle)(this.pageQuery,e,this.projectUuid).then((function(e){var t=e.data.records[0].columns;n.result.column=t;for(var o=[],s=0;s<e.data.records[0].result.length;s++){for(var l=[],u=0;u<t.length;u++)l.push(e.data.records[0].result[s][t[u]]);o.push(l)}n.result.data=o;var c=e.data.records[0].columnInfo.columnList,d=[];for(s=0;s<c.length;s++){var h="";h=-1!=c[s].columnType.toUpperCase().indexOf("VARCHAR")?"varchar":-1!=c[s].columnType.toUpperCase().indexOf("NUMBER")?"number":-1!=c[s].columnType.toUpperCase().indexOf("TIMESTAMP")?"time":-1!=c[s].columnType.toUpperCase().indexOf("FLOAT")?"float":"varchar",d.push(h)}for(var f in n.result.columnType=d,0==e.data.records[0].result.length&&(n.isLoading=!1),n.total=e.data.total,n.dataArray=e.data.records[0].result,n.queryData=e.data.records[0].columnInfo,e.data.records[0].result[0])i.push(f);if(void 0!=n.modelUuid){a.push({headerName:"",field:"",checkboxSelection:!0,width:40}),a.push({headerName:"详细主键",field:"onlyuuid",hide:!0}),a.push({headerName:"处理时间",field:"handle_time",valueFormatter:n.formatDate,filter:!0}),a.push({headerName:"处理人编号",field:"handle_person_uuid",hide:!0}),a.push({headerName:"处理人名称",field:"handle_person_name",filter:!0}),a.push({headerName:"处理状态",editable:!0,field:"handle_state",cellEditor:"agSelectCellEditor",cellEditorParams:{values:["待处理","未处理","已落实","不处理"]},filter:!0}),a.push({headerName:"模型结果处理主键",field:"model_result_handle_uuid",hide:!0}),a.push({headerName:"运行任务关联主键",field:"run_task_rel_uuid",hide:!0}),a.push({headerName:"模型结果表名",field:"model_result_table_name",hide:!0}),a.push({headerName:"处理意见",field:"handle_idea",cellEditor:"agLargeTextCellEditor",editable:!0,cellEditorParams:{maxLength:"300",cols:"50",rows:"6"},filter:!0});for(s=0;s<i.length;s++)e:for(u=0;u<n.modelOutputColumn.length;u++)if(n.modelOutputColumn[u].outputColumnName.toLowerCase()==i[s]){if(1==n.modelOutputColumn[u].isShow){if(0==s)var p={headerName:n.modelOutputColumn[u].columnAlias,field:i[s]};else p={headerName:n.modelOutputColumn[u].columnAlias,field:i[s],filter:!0};a.push(p)}else{if(0==s)p={headerName:i[s],field:i[s],checkboxSelection:!0};else p={headerName:i[s],field:i[s],filter:!0};a.push(p)}break e}}else for(s=0;s<i.length;s++){if(0==s)p={headerName:i[s],field:i[s],checkboxSelection:!0};else p={headerName:i[s],field:i[s],filter:!0};a.push(p)}if(void 0!=n.modelUuid){for(s=0;s<e.data.records[0].result.length;s++)r.push(e.data.records[0].result[s]);for(s=0;s<r.length;s++)for(u=0;u<i.length;u++)for(var m=0;m<n.modelOutputColumn.length;m++)if(n.modelOutputColumn[m].outputColumnName.toLowerCase()==i[u]&&void 0!=n.modelOutputColumn[m].dataCoding){var g=r[s][i[u]];r[s][i[u]]=n.dataCoding[n.modelOutputColumn[m].dataCoding][g]}}else for(s=0;s<e.data.records[0].result.length;s++)r.push(e.data.records[0].result[s])})),this.columnDefs=a,this.rowData=r}},queryCondition:function(){this.$refs.myquerybuilder.selectSql(),this.dialogVisible=!1},queryConditionChangeTable:function(e,t){this.pageQuery.pageNo=1,this.queryJson=t,""==e&&(e="undefined"),this.nowSql=e,this.initData(e)},queryConditionSetting:function(){this.dialogVisible=!0},reSet:function(){this.nowSql="undefined",this.initData("undefined")},renderTable:function(e){if(1!=this.nowtable.tableType)this.isLoading=!1;else if(void 0!=this.modelUuid){0==this.conditionShowData[0].length&&(this.isLoading=!1);for(var t=0;t<this.conditionShowData[0].length;t++)for(var n=0;n<this.conditionShowData[0][t].length;n++)if(e.data[this.primaryKey.toLowerCase()]==this.conditionShowData[0][t][n])return this.isLoading=!1,{"background-color":JSON.parse(this.conditionShowData[1][t]).backGroundColor,color:JSON.parse(this.conditionShowData[1][t]).fontColor};this.isLoading=!1}},getRenderTableData:function(){var e=this;"modelRunResult"==this.useType&&(void 0!=this.modelUuid?(0,l.selectConditionShow)(this.modelUuid,this.nowtable.resultTableName).then((function(t){e.conditionShowData=t.data,(0,l.selectPrimaryKeyByTableName)().then((function(t){e.primaryKey=t.data,(0,l.selectModel)(e.modelUuid).then((function(t){e.modelDetailRelation=t.data.modelDetailRelation,e.modelOutputColumn=t.data.modelOutputColumn;for(var n=[],i=0;i<e.modelOutputColumn.length;i++)void 0!=e.modelOutputColumn[i].dataCoding&&n.push(e.modelOutputColumn[i].dataCoding);n.length>0&&(0,f.getTransMap)(n.join(",")).then((function(t){e.dataCoding=t.data})),e.initData(),e.modelDetailRelation.length>0&&(e.modelDetailButtonIsShow=!0)}))}))})):this.initData())},openModelDetail:function(){var e=this.gridApi.getSelectedRows();if(e.length<1)this.$message({type:"info",message:"请选择后再进行关联!"});else if(1==e.length){this.options=[];for(var t=0;t<this.modelDetailRelation.length;t++){var n={value:this.modelDetailRelation[t].relationObjectUuid,label:this.modelDetailRelation[t].modelDetailName};this.options.push(n)}this.modelDetailDialogIsShow=!0}else this.$message({type:"info",message:"不能选中多条!"})},modelDetailCetermine:function(){for(var e=this,t=this.gridApi.getSelectedRows(),n=null,i="",a=null,r=0;r<this.modelDetailRelation.length;r++)if(this.value==this.modelDetailRelation[r].relationObjectUuid){n=this.modelDetailRelation[r].relationType,i=this.modelDetailRelation[r].relationObjectName,a=this.modelDetailRelation[r].modelDetailConfig;break}if(1==n){var o=[];for(r=0;r<this.modelDetailRelation.length;r++)if(this.modelDetailRelation[r].relationObjectUuid==this.value)for(var s=0;s<this.modelDetailRelation[r].modelDetailConfig.length;s++){var u=this.modelDetailRelation[r].modelDetailConfig[s].resultColumn,c={moduleParamId:"",paramValue:""};c.moduleParamId=this.modelDetailRelation[r].modelDetailConfig[s].ammParamUuid,c.paramValue=t[0][u.toLowerCase()],o.push(c)}(0,l.findParamModelRelByModelUuid)(this.value).then((function(t){for(var n=[],i=0;i<t.data.length;i++)n.push(JSON.parse(t.data[i]));(0,l.selectModel)(e.value).then((function(t){var i=(0,l.replaceParam)(o,n,t.data.sqlValue),a={sqls:i,businessField:"modelresultdetail"};(0,h.getExecuteTask)(a).then((function(t){e.currentExecuteSQL=t.data.executeSQLList,(0,h.startExecuteSql)(t.data).then((function(e){}))})).catch((function(t){e.$message({type:"info",message:"执行失败"})}))}))}))}else if(2==n){var d="SELECT * FROM "+i+" WHERE ",f="";for(r=0;r<a.length;r++){var p=a[r].relFilterValue;e:for(s=0;s<this.modelOutputColumn.length;s++)if(p.indexOf(this.modelOutputColumn[s].outputColumnName)>-1){p=p.replace(this.modelOutputColumn[s].outputColumnName,t[0][this.modelOutputColumn[s].outputColumnName.toLowerCase()]);break e}r==a.length-1?f+=p:f+=p+" or "}d+=f;var m={sqls:d,businessField:"modelresultdetail"};(0,h.getExecuteTask)(m).then((function(t){e.currentExecuteSQL=t.data.executeSQLList,(0,h.startExecuteSql)(t.data).then((function(e){}))})).catch((function(t){e.$message({type:"info",message:"执行失败"})}))}this.modelDetailDialogIsShow=!1,this.modelDetailModelResultDialogIsShow=!0},modelResultExport:function(){this.tableData=this.nextValue.result,this.json_fields={};for(var e=0;e<this.nextValue.columnNames.length;e++)this.json_fields[this.nextValue.columnNames[e]]=this.nextValue.columnNames[e];this.excelName="模型结果导出表"},reSet1:function(){this.isLoading=!0},initWebSocket:function(){this.webSocket=this.getWebSocket()},getWebSocket:function(){var e="ws://"+window.location.host+":"+window.location.port+"/websocket?"+this.$store.getters.personuuid+"modelresultdetail";this.webSocket=new WebSocket(e),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(e){var t=JSON.parse(e.data);n(t)};var t=function(e){this.$refs.childTabsRef.loadTableData(e)},n=t.bind(this);this.webSocket.onclose=function(e){},this.webSocket.onerror=function(e){}},agGridUpdateEvent:function(e){var t=this,n=this.handleSelectRowData(e.data);(0,u.addOrUpdate)(n).then((function(n){if(n.data.isError){var i=n.data.modelResultHandle;e.data.handle_time=i.handleTime,e.data.handle_person_uuid=i.handlePersonUuid,e.data.handle_person_name=i.handlePersonName,e.data.model_result_handle_uuid=i.modelResultHandleUuid,e.data.run_task_rel_uuid=i.runTaskRelUuid,e.data.model_result_table_name=i.modelResultTableName,t.rowData[e.rowIndex]=e.data,t.gridApi.refreshCells()}else t.$message({type:"error",message:"修改信息失败!"})}))},handleSelectRowData:function(e){var t={modelResultHandleUuid:e.model_result_handle_uuid,runTaskRelUuid:this.nowtable.runTaskRelUuid,modelResultDetailUuid:e.onlyuuid,handleState:e.handle_state,handleIdea:e.handle_idea,modelResultTableName:this.nowtable.resultTableName};return t},formatDate:function(e){if(e=e.value,!e)return"-";if("无"===e)return e;var t=new Date(e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),r=t.getHours(),o=t.getMinutes(),s=t.getSeconds();1==i.toString().length&&(i="0"+i),1==a.toString().length&&(a="0"+a),1==r.toString().length&&(r="0"+r),1==o.toString().length&&(o="0"+o),1==s.toString().length&&(s="0"+s);var l=n+"-"+i+"-"+a+" "+r+":"+o+":"+s;return l},handleResult:function(){var e=this.gridApi.getSelectedRows();null==e||e.length<=0?this.$message({type:"info",message:"请选择要处理的数据!"}):this.handleIdeaDialog=!0},updateHandleResult:function(){for(var e=this,t=this.gridApi.getSelectedRows(),n=function(n){t[n].handle_idea=e.modelResultHandle.handleIdea,t[n].handle_state=e.modelResultHandle.handleState;var i=e.handleSelectRowData(t[n]);(0,u.addOrUpdate)(i).then((function(i){if(i.data.isError){var a=i.data.modelResultHandle;t[n].handle_time=a.handleTime,t[n].handle_person_uuid=a.handlePersonUuid,t[n].handle_person_name=a.handlePersonName,t[n].model_result_handle_uuid=a.modelResultHandleUuid,t[n].run_task_rel_uuid=a.runTaskRelUuid,t[n].model_result_table_name=a.modelResultTableName,e.gridApi.refreshCells()}else e.$message({type:"error",message:"修改信息失败!"})}))},i=0;i<t.length;i++)n(i);this.handleIdeaDialog=!1,this.modelResultHandle.handleIdea="",this.modelResultHandle.handleState=""},externalFilterChanged:function(e){var t=this,n=[];this.gridApi.onFilterChanged();var i=this.key;if(""===i)return this.getData();this.tableList.forEach((function(e){e.UploadTime.includes(i)&&(n.push(e),t.tableList=n)}))}}};t.default=m},"161a":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.transcodeLoading,expression:"transcodeLoading"}],staticStyle:{height:"560px",padding:"20px 0 0 120px"},attrs:{"element-loading-text":"正在加载转码规则数据，请稍后……"}},[n("el-table",{staticClass:"layeringTable",staticStyle:{width:"700px"},attrs:{data:e.items,height:"450"}},[n("el-table-column",{attrs:{label:"字段名称",width:"300","header-align":"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:t.row.selectColumnName,callback:function(n){e.$set(t.row,"selectColumnName",n)},expression:"scope.row.selectColumnName"}},e._l(t.row.colArr,(function(t){return n("el-option",{key:t.columnName,attrs:{value:t.columnName}},[e._v(e._s(t.columnName))])})),1)]}}])}),n("el-table-column",{attrs:{label:"转码规则",width:"300","header-align":"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},on:{change:function(n){return e.getRuleName(t.row.transRuleUuid,t.$index)}},model:{value:t.row.transRuleUuid,callback:function(n){e.$set(t.row,"transRuleUuid",n)},expression:"scope.row.transRuleUuid"}},e._l(e.ruleArr,(function(t){return n("el-option",{key:t.transRuleUuid,attrs:{label:t.ruleName,value:t.transRuleUuid}},[n("el-col",{staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:20}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.ruleName,placement:"bottom"}},[n("span",[e._v(e._s(t.ruleName))])])],1),n("el-col",{attrs:{span:4}},[n("el-button",{staticClass:"oper-btn detail-1",staticStyle:{float:"right","line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.previewTransCode(t.transRuleUuid)}}})],1)],1)})),1)]}}])}),n("el-table-column",{attrs:{label:"操作",width:"100",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.$index?n("el-button",{staticClass:"oper-btn add-4",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:e.addTranscode}}):e._e(),0!==t.$index?n("el-button",{staticClass:"oper-btn delete-8",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.deleteRule(t.$index)}}}):e._e()]}}])})],1),e.detailDialogVisible?n("el-dialog",{attrs:{visible:e.detailDialogVisible,title:"数据转码详情","append-to-body":!e.pressEscape,"close-on-press-escape":e.pressEscape,"close-on-click-modal":e.clickModal,width:"600px"},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[n("TranscodeDetail",{attrs:{transRuleUuid:e.transRuleUuid}})],1):e._e()],1)},a=[]},1636:function(e,t,n){"use strict";n.r(t);var i=n("5199"),a=n("9c7b");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("eaea6");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"d11a8a24",null);t["default"]=s.exports},"167f":function(e,t){e.exports="data:image/png;base64,R0lGODlhHAAcANU8APHKzep5b//r5+ahpNxUUf/WzP+0oul2bP2ql8IPGP/k3v/18v/CtMgfJdVCQf/Asf/w7P+xn/z09MALFeekp+SWm/6smeOQlPXX2P+vnMoxOsgfJP79/eOTl8cjLO/Aw7waG/78/MceJPrr7Nx3ff/+/v/9/f339//+/+++wfnp6t15f/7+/vrq6/77+/+yoP35+fHJy/34+Pff4Pz19tRXXf75+f76+/+6qr8HEf////6tmv///wAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRERjk3RjVBMzlGQjExRUJBNEZDODA4NDQ1RTVGNjRFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRERjk3RjVCMzlGQjExRUJBNEZDODA4NDQ1RTVGNjRFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NERGOTdGNTgzOUZCMTFFQkE0RkM4MDg0NDVFNUY2NEUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NERGOTdGNTkzOUZCMTFFQkE0RkM4MDg0NDVFNUY2NEUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQBAAA8ACwAAAAAHAAcAAAG/0CecDiEFBi4SATHKECI0ChPgdtZr1icQgpdPLBg8GPB5QkM4fTVIJAKMljEwdFIJBqOAwKbaRMXaFcBIjmFhoUbAVgGZENfVhYEhR4XHyMSGB0ahQQWVw9DCliSOSQyOqipJhUTOQRYWzxVVgGFNRIcqbo6Ka2KVjg8EFcIhCsqIS4sACAgALoVORt7VkZXBzkeJzQ3uQCFz6qbB1dHVw45F6i5Ot854akdOQ5XSFcNOR+77vCoGDkNriS5kiDHiH3gdknIkeCKEoI5JOxr1k9HC4ZXXszagQ/Dro8hUH0AKJDBuRwddlEYMIACqhAodFyYV6/AtRwaSugaUGiADngUJTjA8JCDnBUnxAhV2NlTRwgbM0hIo7bjycZaE1KkWtkSVYxWOX7tCDZlVI4JFXTuOiHVFSxHVyIV0tABg4QRHy4QdeXJCqghgLAMOnQo0aJGQ97EmVPnTh6qO/q4CaQmDJsyXiqLQVyGimYtZaQYQaKEiZMyQQAAOw=="},"16c8":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getChildState=void 0,n("456d"),n("ac6a"),n("7f7f");var a=i(n("970b")),r=i(n("5bc3")),o=i(n("eab7")),s=n("76e7"),l=n("6bd7"),u=function(e){for(var t=!0,n=!0,i=!0,a=0,r=e.length;a<r;a++){var o=e[a];(!0!==o.checked||o.indeterminate)&&(t=!1,o.disabled||(i=!1)),(!1!==o.checked||o.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:i,half:!t&&!n}};t.getChildState=u;var c=function e(t){if(0!==t.childNodes.length){var n=u(t.childNodes),i=n.all,a=n.none,r=n.half;i?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):a&&(t.checked=!1,t.indeterminate=!1);var o=t.parent;o&&0!==o.level&&(t.store.checkStrictly||e(o))}},d=function(e,t){var n=e.store.props,i=e.data||{},a=n[t];if("function"===typeof a)return a(i,e);if("string"===typeof a)return i[a];if("undefined"===typeof a){var r=i[t];return void 0===r?"":r}},h=0,f=function(){function e(t){for(var n in(0,a.default)(this,e),this.id=h++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var i=this.store;if(!i)throw new Error("[Node]store is required!");i.registerNode(this);var r=i.props;if(r&&"undefined"!==typeof r.isLeaf){var o=d(this,"isLeaf");"boolean"===typeof o&&(this.isLeafByUser=o)}if(!0!==i.lazy&&this.data?(this.setData(this.data),i.defaultExpandAll&&(this.expanded=!0)):this.level>0&&i.lazy&&i.defaultExpandAll&&this.expand(),Array.isArray(this.data)||(0,s.markNodeData)(this,this.data),this.data){var l=i.defaultExpandedKeys,u=i.key;u&&l&&-1!==l.indexOf(this.key)&&this.expand(null,i.autoExpandParent),u&&void 0!==i.currentNodeKey&&this.key===i.currentNodeKey&&(i.currentNode=this,i.currentNode.isCurrent=!0),i.lazy&&i._initDefaultCheckedNode(this),this.updateLeafState()}}return(0,r.default)(e,[{key:"setData",value:function(e){var t;Array.isArray(e)||(0,s.markNodeData)(this,e),this.data=e,this.childNodes=[],t=0===this.level&&this.data instanceof Array?this.data:d(this,"children")||[];for(var n=0,i=t.length;n<i;n++)this.insertChild({data:t[n]})}},{key:"contains",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function n(i){for(var a=i.childNodes||[],r=!1,o=0,s=a.length;o<s;o++){var l=a[o];if(l===e||t&&n(l)){r=!0;break}}return r};return n(this)}},{key:"remove",value:function(){var e=this.parent;e&&e.removeChild(this)}},{key:"insertChild",value:function(t,n,i){if(!t)throw new Error("insertChild error: child is required.");if(!(t instanceof e)){if(!i){var a=this.getChildren(!0);-1===a.indexOf(t.data)&&("undefined"===typeof n||n<0?a.push(t.data):a.splice(n,0,t.data))}(0,o.default)(t,{parent:this,store:this.store}),t=new e(t)}t.level=this.level+1,"undefined"===typeof n||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}},{key:"insertBefore",value:function(e,t){var n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}},{key:"insertAfter",value:function(e,t){var n;t&&(n=this.childNodes.indexOf(t),-1!==n&&(n+=1)),this.insertChild(e,n)}},{key:"removeChild",value:function(e){var t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);var i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}},{key:"removeChildByData",value:function(e){for(var t=null,n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===e){t=this.childNodes[n];break}t&&this.removeChild(t)}},{key:"expand",value:function(e,t){var n=this,i=function(){if(t){var i=n.parent;while(i.level>0)i.expanded=!0,i=i.parent}n.expanded=!0,e&&e()};this.shouldLoadData()?this.loadData((function(e){e instanceof Array&&(n.checked?n.setChecked(!0,!0):n.store.checkStrictly||c(n),i())})):i()}},{key:"doCreateChildren",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e){t.insertChild((0,o.default)({data:e},n),void 0,!0)}))}},{key:"collapse",value:function(){this.expanded=!1}},{key:"shouldLoadData",value:function(){return!0===this.store.lazy&&this.store.load&&!this.loaded}},{key:"updateLeafState",value:function(){if(!0!==this.store.lazy||!0===this.loaded||"undefined"===typeof this.isLeafByUser){var e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser}},{key:"setChecked",value:function(e,t,n,i){var a=this;if(this.indeterminate="half"===e,this.checked=!0===e,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var r=u(this.childNodes),o=r.all,s=r.allWithoutDisable;this.isLeaf||o||!s||(this.checked=!1,e=!1);var l=function(){if(t){for(var n=a.childNodes,r=0,o=n.length;r<o;r++){var s=n[r];i=i||!1!==e;var l=s.disabled?s.checked:i;s.setChecked(l,t,!0,i)}var c=u(n),d=c.half,h=c.all;h||(a.checked=h,a.indeterminate=d)}};if(this.shouldLoadData())return void this.loadData((function(){l(),c(a)}),{checked:!1!==e});l()}var d=this.parent;d&&0!==d.level&&(n||c(d))}}},{key:"getChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var t=this.data;if(!t)return null;var n=this.store.props,i="children";return n&&(i=n.children||"children"),void 0===t[i]&&(t[i]=null),e&&!t[i]&&(t[i]=[]),t[i]}},{key:"updateChildren",value:function(){var e=this,t=this.getChildren()||[],n=this.childNodes.map((function(e){return e.data})),i={},a=[];t.forEach((function(e,t){var r=e[s.NODE_KEY],o=!!r&&(0,l.arrayFindIndex)(n,(function(e){return e[s.NODE_KEY]===r}))>=0;o?i[r]={index:t,data:e}:a.push({index:t,data:e})})),this.store.lazy||n.forEach((function(t){i[t[s.NODE_KEY]]||e.removeChildByData(t)})),a.forEach((function(t){var n=t.index,i=t.data;e.insertChild({data:i},n)})),this.updateLeafState()}},{key:"loadData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(n).length)e&&e.call(this);else{this.loading=!0;var i=function(i){t.loaded=!0,t.loading=!1,t.childNodes=[],t.doCreateChildren(i,n),t.updateLeafState(),e&&e.call(t,i)};this.store.load(this,i)}}},{key:"label",get:function(){return d(this,"label")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return d(this,"disabled")}},{key:"nextSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}},{key:"previousSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}}]),e}();t.default=f},"170e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c5f6");var i={props:{value:[String,Number],radioList:{type:Array,default:function(){return[{label:"一周内",value:"1"},{label:"一月内",value:"2"},{label:"一年内",value:"3"}]}}},methods:{select:function(e){this.$emit("input",e.value)}}};t.default=i},1779:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-bug",use:"icon-bug-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-bug"><path d="M127.88 73.143c0 1.412-.506 2.635-1.518 3.669-1.011 1.033-2.209 1.55-3.592 1.55h-17.887c0 9.296-1.783 17.178-5.35 23.645l16.609 17.044c1.011 1.034 1.517 2.257 1.517 3.67 0 1.412-.506 2.635-1.517 3.668-.958 1.033-2.155 1.55-3.593 1.55-1.438 0-2.635-.517-3.593-1.55l-15.811-16.063a15.49 15.49 0 0 1-1.196 1.06c-.532.434-1.65 1.208-3.353 2.322a50.104 50.104 0 0 1-5.192 2.974c-1.758.87-3.94 1.658-6.546 2.364-2.607.706-5.189 1.06-7.748 1.06V47.044H58.89v73.062c-2.716 0-5.417-.367-8.106-1.102-2.688-.734-5.003-1.631-6.945-2.692a66.769 66.769 0 0 1-5.268-3.179c-1.571-1.057-2.73-1.94-3.476-2.65L33.9 109.34l-14.611 16.877c-1.066 1.14-2.344 1.711-3.833 1.711-1.277 0-2.422-.434-3.434-1.304-1.012-.978-1.557-2.187-1.635-3.627-.079-1.44.333-2.705 1.236-3.794l16.129-18.51c-3.087-6.197-4.63-13.644-4.63-22.342H5.235c-1.383 0-2.58-.517-3.592-1.55S.125 74.545.125 73.132c0-1.412.506-2.635 1.518-3.668 1.012-1.034 2.21-1.55 3.592-1.55h17.887V43.939L9.308 29.833c-1.012-1.033-1.517-2.256-1.517-3.669 0-1.412.505-2.635 1.517-3.668 1.012-1.034 2.21-1.55 3.593-1.55s2.58.516 3.593 1.55l13.813 14.106h67.396l13.814-14.106c1.012-1.034 2.21-1.55 3.592-1.55 1.384 0 2.581.516 3.593 1.55 1.012 1.033 1.518 2.256 1.518 3.668 0 1.413-.506 2.636-1.518 3.67l-13.814 14.105v23.975h17.887c1.383 0 2.58.516 3.593 1.55 1.011 1.033 1.517 2.256 1.517 3.668l-.005.01zM89.552 26.175H38.448c0-7.23 2.489-13.386 7.466-18.469C50.892 2.623 56.92.082 64 .082c7.08 0 13.108 2.541 18.086 7.624 4.977 5.083 7.466 11.24 7.466 18.469z" /></symbol>'});o.a.add(s);t["default"]=s},1782:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{ref:"info",staticClass:"detail-form",attrs:{model:e.thresholdValueRelObj,rules:e.basicInfoRules}},[n("el-row",[n("el-col",{attrs:{span:23}},[n("el-form-item",{attrs:{label:"阈值字段",prop:"modelResultColumnName"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:e.thresholdValueRelObj.modelResultColumnName,callback:function(t){e.$set(e.thresholdValueRelObj,"modelResultColumnName",t)},expression:"thresholdValueRelObj.modelResultColumnName"}},e._l(e.setThreasholdValueObj.columns,(function(t,i){return n("el-option",{key:t,attrs:{value:t,label:t}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"运算符",prop:"operator"}},[n("el-select",{model:{value:e.thresholdValueRelObj.operator,callback:function(t){e.$set(e.thresholdValueRelObj,"operator",t)},expression:"thresholdValueRelObj.operator"}},e._l(e.operatorObj,(function(t,i){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"阈值名称",prop:"thresholdValueName"}},[n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.thresholdValueRelObj.thresholdValueUuid,callback:function(t){e.$set(e.thresholdValueRelObj,"thresholdValueUuid",t)},expression:"thresholdValueRelObj.thresholdValueUuid"}}),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.thresholdValueRelObj.thresholdValueName,callback:function(t){e.$set(e.thresholdValueRelObj,"thresholdValueName",t)},expression:"thresholdValueRelObj.thresholdValueName"}},[n("el-option",{staticStyle:{height:"auto"},attrs:{label:e.thresholdValueRelObj.thresholdValueName,value:e.thresholdValueRelObj.thresholdValueName}},[n("thresholdvaluetree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"thresholdvaluetree",attrs:{isShowEdit:!1},on:{thresholdValueClick:e.setSelectTreeNode}})],1)],1)],1)],1)],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isShowThresholdValueObject,expression:"isShowThresholdValueObject"}]},[n("el-col",{attrs:{span:23}},[n("el-form-item",{attrs:{label:"关联阈值对象列",prop:"thresholdValueObject"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:e.thresholdValueRelObj.thresholdValueObject,callback:function(t){e.$set(e.thresholdValueRelObj,"thresholdValueObject",t)},expression:"thresholdValueRelObj.thresholdValueObject"}},e._l(e.setThreasholdValueObj.columns,(function(t,i){return n("el-option",{key:t,attrs:{value:t,label:t}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:10}},[n("el-form-item",{attrs:{label:"背景色",prop:"backgroundColor"}},[n("Colorpicker",{model:{value:e.thresholdValueRelObj.colorInfo.backgroundColor,callback:function(t){e.$set(e.thresholdValueRelObj.colorInfo,"backgroundColor",t)},expression:"thresholdValueRelObj.colorInfo.backgroundColor"}})],1)],1),n("el-col",{attrs:{span:10}},[n("el-form-item",{attrs:{label:"字体颜色",prop:"fontColor"}},[n("Colorpicker",{model:{value:e.thresholdValueRelObj.colorInfo.fontColor,callback:function(t){e.$set(e.thresholdValueRelObj.colorInfo,"fontColor",t)},expression:"thresholdValueRelObj.colorInfo.fontColor"}})],1)],1)],1)],1),n("el-footer",[n("div",{staticStyle:{float:"right"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.getSaveObj}},[e._v("确定")]),n("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),n("el-button",{on:{click:e.clearThresholdValue}},[e._v("清除")])],1)])],1)},a=[]},"17af":function(e,t,n){"use strict";n.r(t);var i=n("35ba"),a=n("c8b0");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("529d");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"f9d2d514",null);t["default"]=s.exports},"17bb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},"17ca":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAATCAYAAAB2pebxAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEaADAAQAAAABAAAAEwAAAAD0U8BhAAACT0lEQVQ4EZ1TTWgTURB+s7tJTKwmUGs8aKBVG7GF3gT/iph0o2wqRrq2B7fUSxCpgjkqeBJvvXpTCgoqaRuptYXWg/hzMyaXUon4A8UKiq1UijbZfeN7MVl2N20oHVjezDfffDuz81YkdUzTtK1NodY7rfvavR8/zM6uRxXXS3A8GApfJhQ1JCjv3d++u/PooZf5fF531ghOwBqDKI4RAeY4hoSq8z9WxuVurdnK4X5dEU9w+09A8hYBJjkZkB6g9O+z2BlV4XHV6o4T2tU8RBB7AYgLRGGEFbWx2IcU4y3hNn/0xLE32WyWQlXNeXYp5y8gGrdNHGCVAHkAFE8iIf9HAsi5Ah7NFEkmk64vXxcvSS54RalEdb04xgTcpkjF4aMJBDyINEIAqNstylKV9Hlh8RoiDq4WMQVQ+rWWAOeyt0Zgi9SNRX1GJLgymXlcMEXYGpcqJJbDRu6vZSAIN6dHH75nOf6Uzfywnwpz71rCHTm2zE6W8VXytkMAGJmZSA/ZQBbYVvx84tGLbW5vDABeO4ls/oLft+dGDe4U4YRM5v53dsGmQYAM24JhFgHov0vfgmZscWydcDyW6O1Ag3QFvJByS+Qc62q+zKf0oF7SpxIJbaelvuzaRM4ODAT0knHL55dS6XTamBofzUkBz2k2ylPORoQFv19cdoqYMVsvROM9d2Wl74gJWpyI0ndcVS82WaBaNxpXB2Wl50ptZoPIqbh6mHVxj3ezwRIbTUj09zeWCF5v2NHAbir7ZzdhgvTHhSJ4rz4ZHuZXfVP2DzCEvzthEMo8AAAAAElFTkSuQmCC"},"17e8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("indicatorAnalysis")],1)},a=[]},"17ee":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"item"},[[n("div",{staticClass:"item-title relative",class:[e.item.children&&e.item.children.length&&"borderbottom"],on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.close(e.item)}}},[n("span",{staticClass:"name",class:[e.isOpen&&"text-white"]},[e._v(e._s(e.item.name))]),e.item.children&&e.item.children.length?n("i",{staticClass:"el-icon-s-unfold icon absolute",class:[e.isOpen&&"icon-open text-white"]}):e._e()]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.item.children&&e.item.children.length&&e.isOpen,expression:"item.children && item.children.length && isOpen"}],staticClass:"ul-temp"},e._l(e.item.children,(function(t,i){return n("Item",{key:i,attrs:{item:t},on:{close:function(n){return e.close(t)}}})})),1)]],2)},a=[]},1803:function(e,t,n){"use strict";n("2100")},1835:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("data-tree",{attrs:{"data-user-id":e.personCode,"scene-code":e.sceneCode,"tree-type":e.treeType},on:{"node-click":e.handleClick}})],1)},a=[]},"18dd":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("d50a")),r={components:{Item:a.default},props:{list:Array},data:function(){return{}},mounted:function(){var e=this;this.$nextTick((function(){e.close({isOpen:!1,index:0,isCloseTree:!1})}))},methods:{close:function(e){if(e.isCloseTree)this.$emit("closetree");else{var t=this.$refs.itemDom;for(var n in t)parseInt(n)===e.index?this.$refs.itemDom[n].openHandle(!e.isOpen):this.$refs.itemDom[n].openHandle(!1)}}}};t.default=r},"18e9":function(e,t,n){},"198b0":function(e,t,n){"use strict";n.r(t);var i=n("d826"),a=n("2d2e");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("c664");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"1bb15908",null);t["default"]=s.exports},"19a7":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("1416")),r=i(n("c31d")),o={components:{Thresholdvaluetree:a.default,Thresholdvaluelist:r.default},computed:{},data:function(){return{loading:!1,loadText:""}},methods:{refreshThresholdvalueList:function(e){this.$refs.thresholdValueListTable.setSelectTreeNode(e);var t={thresholdValueFolderUuid:e.id};this.$refs.thresholdValueListTable.getList(t)},refreshTree:function(){this.$refs.thresholdValueFolderTree.getThresholdValueFolder()},loadingSet:function(e,t){this.loading=e,this.loadText=t}}};t.default=o},"19f3":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"tree-list-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getGraphList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},["privateGraphType"===e.type||"personScreenGraphType"===e.type?n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary"},on:{click:e.add}}):e._e(),"shareToGraphType"!==e.type?n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",disabled:e.editGraphBtn},on:{click:e.edit}}):e._e(),e.showDelBtn?n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",disabled:e.deleteGraphBtn},on:{click:e.deleteGraph}}):e._e(),"privateGraphType"===e.type?n("el-button",{staticClass:"oper-btn share-1",attrs:{type:"primary",disabled:e.shareGraphBtn},on:{click:function(t){e.personTreeDialogVisible=!0}}}):e._e(),"shareToGraphType"===e.type?n("el-button",{staticClass:"oper-btn cancelshare",attrs:{type:"primary",disabled:e.cancelShareGraphBtn},on:{click:e.cancelShare}}):e._e(),"personScreenGraphType"===e.type?n("el-button",{staticClass:"oper-btn publish",attrs:{type:"primary",disabled:e.publicGraphBtn},on:{click:e.publicGraph}}):e._e(),"screenGraphType"===e.type?n("el-button",{staticClass:"oper-btn publish-1",attrs:{type:"primary",disabled:e.cancelPublicGraphBtn},on:{click:e.cancelPublic}}):e._e(),e.type.toLowerCase().indexOf("screengraphtype")>-1?n("el-button",{staticClass:"oper-btn start",attrs:{type:"primary",disabled:e.runGraphBtn},on:{click:e.run}}):e._e()],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:"graphTable",ref:"graphListTable",attrs:{height:"500",data:e.dataList,border:"",fit:"","highlight-current-row":""},on:{select:e.listSelectChange,"select-all":e.listSelectChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"图形名称",align:"left",prop:"graphName","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.detail(t.row.graphUuid)}}},[e._v(" "+e._s(t.row.graphName)+" ")])]}}])}),n("el-table-column",{attrs:{label:"图形类型",align:"center",prop:"graphType",formatter:e.graphTypeFormatter}}),n("el-table-column",{attrs:{label:"创建人",align:"center",prop:"createUserName"}}),n("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",formatter:e.dateFormatter}}),n("el-table-column",{attrs:{label:"修改人",align:"center",prop:"updateUserName"}}),n("el-table-column",{attrs:{label:"修改时间",align:"center",prop:"updateTime",formatter:e.dateFormatter}}),n("el-table-column",{attrs:{label:"执行状态",align:"center",prop:"executeStatus",formatter:e.stasusFormatter}}),"shareToGraphType"===e.type?n("el-table-column",{attrs:{label:"接收人",prop:"sharedPersonName"}}):e._e()],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getGraphList}}),e.initPreviewGraph?n("el-dialog",{attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.initPreviewGraph,title:"查看图形",width:"600px"},on:{"update:visible":function(t){e.initPreviewGraph=t}}},[n("PreviewGraph",{attrs:{"graph-uuid":e.graphUuid}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.initPreviewGraph=!1}}},[e._v("关闭")])],1)],1):e._e(),e.personTreeDialogVisible?n("el-dialog",{attrs:{title:"请选择分享人员",visible:e.personTreeDialogVisible,"close-on-press-escape":!1,"close-on-click-modal":!1,width:"800px"},on:{"update:visible":function(t){e.personTreeDialogVisible=t}}},[n("PersonTree",{ref:"personTree"}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.personTreeDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.shareGraph}},[e._v("保存")])],1)],1):e._e(),e.sharedPersonDialogVisible?n("el-dialog",{attrs:{title:"选择人员",visible:e.sharedPersonDialogVisible,"close-on-press-escape":!1,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.sharedPersonDialogVisible=t}}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.personListLoading,expression:"personListLoading"}],key:"sharedPersonTable",ref:"sharedPersonListTable",attrs:{height:"400",data:e.personDataList,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"被分享人名称",align:"center",prop:"sharedPersonName"}}),n("el-table-column",{attrs:{label:"被分享时间",align:"center",prop:"sharedTime",formatter:e.dateFormatter}})],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.sharedPersonDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.cancelShareGraphBack}},[e._v("保存")])],1)],1):e._e()],1)},a=[]},"1a27":function(e,t,n){"use strict";n("5048")},"1a3d":function(e,t,n){},"1a4c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAPKADAAQAAAABAAAAPAAAAACL3+lcAAAFaElEQVRoBeWbTYgcRRzFd9Ykq0uWNYJm1w+MIAbEiwQM4rK7YxSMB1dyUsGDXiJ4EePRiwa9iDcPfrte4kHwgxBcEAwmhiVowNwcjGhEYtQ1GjXB1STr741d49hT01Pd9TET8oe31V1d/f7vdfdUV3f11oYixcrKyijUU2AT2JhhgnIsA8XQ7xmOUzYyHKL8pFarnaYc7MDkevAY2AeWQdXQvuIQ1xUD5xpR02A3+BuEDnGKe7rvxhFRB/tBqlCu2eTGSToJdqVyacmj3JNJjJNoK/jVIiJ1lTRsjWqaBDvA2dTOCvJJy47gpiEdAfMFifu9SdpGXIzXejWC6HLavA9u7dW2z9sXyT/H/funIh2FhrOjtheCQTdrPMp0HdPLpiJfDucrcusvsX6+mJV0aZXm8sHZVQd1vka5jgyXuvWk7I0/I9/NYBQ8AnxD2t1uWTTUoCLlffYw+S5rvwZZ/xL4hjxMtvNq2fYbfp768XzDSOtfwHsnncyJHP+q3HqVVXmQl+7BEdHYOFUcIdGVeTXU6QoLGbPtOfJn+On2jRGXv4V7C2f2mCXHbZY6n6qd7Tu3DHNIZ9igB/bYIZO3Y/Zol0ShDU9l3prpWoZZe6KLgJDVGgXdgdmvCkhDG1aqlrfmSIsjsJ7K70CIzkIJbKGOSWf2sG2j6tCh10InQWgdZ+C8itw/mjN8f4QkULbiN5buKjKbtbyFMrRZUYvzAS0Yw9u0EilOwXs3Zj914I9xOZu0TY/D2WW02dQGLv+E7x7MHnDkjWl4s7zqDKtnXuMoqEyzv2i8DbMfueyEGPUnGvzHCnmc0rWt98ahQ53EfZj9oATxDbTVCfgDyLyW82h2stRXjU0i1EvykHEOsgcx+24ZUto3wDgYA2vBKLgYrAGrwDCQ4XXgf4OJEnk26lawCELFOYgeKiGgUlNyXFtR8KLOsKY/QsWjnIQ3QpHZeDAqzU/ZtjnUTegML1U8WvndHndI6NWEhKuBz/vwJRnWPI5vPOnlxGFnBF4C9ngKXQ5h+BkHvV5NMDkOQkzpNA37XNIveDlx2BmjmpH8HISIpRosX5N3g0NuW5MJOqkfbBtC1KFtAzwfgutD8MHxjXo8TUZXje2I0n0xeMB7I6QakoYyK43HZbihpYqh28MJxJ3pgdky/HDpqWkf6HgFVIbH0rahoaWPYcN5kVmwlEeo+9hSb63C7BY2vAfWWhv4VTZ0hvVNRcx4ld/5iksCzOoRbg+IYVYSDqnT0luGX0CMJyY9RFzt0rGh42HavgyKrhY2Vw49va3TgFxfyxysTFO8425Hs3rn9BqIZVYqD8qrLmnFO/8Wwf++0ouRM/ssbZ7r1S7A9v88klQ399Bf4ByF0xzQDr3aBl4EKULe9KKy+YA9lF12Cx2q/Cpeh1fPxh1B8tVUvgW2d2yMU7HQ8dNCxAwIFZq9u8amnXrNEC6ESuTIM23TogeJEAN0adCtpSOovxQcUIOEsb9DiKlARKjJtHsNpynhngCaGk0ds0aDtUSNzwO2zHwPNIJrBevXAc0Wpo5dLRHdFlDkOyH+djs3fDeBY6mdks86Id6urbVMY59PHk6yv2bsxsAc+BmkDvdPHoxrFF44H7W0mZ5PfWoC5Js3+m1lzVZp6kg+wvJeEHMKxKQLUS5CUmeQsdyNrOvQTztkO86xKKJBD2nUp4ddzcpAoWE1gECz9nXwptYHNKStnmkNJzHryFJ+sNbrJy0t5b66K3s4SHDhfCBuDg6mNTjxHZFBUTmUe9LoSVaSVGPvUA8cLu77808e+SOK0hmgf7UJ/RIByianuGfyefu+jqgY/6jVfFMRylzhwMMnCeYH8l/x/gG6fdD1QSNYEAAAAABJRU5ErkJggg=="},"1a66":function(e,t,n){var i={"./exclude.jpg":"d306","./inner_join.jpg":"3141","./intersect.jpg":"722c","./join.jpg":"6184","./left_join.jpg":"2c69","./right_join.jpg":"7ab9","./union.jpg":"9b30"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="1a66"},"1aad":function(e,t,n){"use strict";n.r(t);var i=n("5158"),a=n("3bc1");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"1b7b":function(e,t,n){"use strict";n.r(t);var i=n("68e9"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"1b80":function(e,t,n){"use strict";n.r(t);var i=n("04fe"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"1bc5":function(e,t){(function(e){var t=function(e,t,n,i,a,r,o){"string"==typeof n.isHidden&&(n.isHidden=l.eqs(n.isHidden,"true")),n.isHidden=!!n.isHidden,d.initHideForExCheck(e,n)},n=function(e,t,n){},i=function(e,t){t.showNodes=function(t,n){c.showNodes(e,t,n)},t.showNode=function(t,n){t&&c.showNodes(e,[t],n)},t.hideNodes=function(t,n){c.hideNodes(e,t,n)},t.hideNode=function(t,n){t&&c.hideNodes(e,[t],n)};var n=t.checkNode;n&&(t.checkNode=function(e,i,a,r){e&&e.isHidden||n.apply(t,arguments)})},a={initHideForExCheck:function(e,t){t.isHidden&&e.check&&e.check.enable&&("undefined"==typeof t._nocheck&&(t._nocheck=!!t.nocheck,t.nocheck=!0),t.check_Child_State=-1,c.repairParentChkClassWithSelf&&c.repairParentChkClassWithSelf(e,t))},initShowForExCheck:function(e,t){if(!t.isHidden&&e.check&&e.check.enable){if("undefined"!=typeof t._nocheck&&(t.nocheck=t._nocheck,delete t._nocheck),c.setChkClass){var n=h(t,u.id.CHECK,e);c.setChkClass(e,n,t)}c.repairParentChkClassWithSelf&&c.repairParentChkClassWithSelf(e,t)}}},r={clearOldFirstNode:function(e,t){var n=t.getNextNode();while(n){if(n.isFirstNode){n.isFirstNode=!1,c.setNodeLineIcos(e,n);break}if(n.isLastNode)break;n=n.getNextNode()}},clearOldLastNode:function(e,t,n){var i=t.getPreNode();while(i){if(i.isLastNode){i.isLastNode=!1,n&&c.setNodeLineIcos(e,i);break}if(i.isFirstNode)break;i=i.getPreNode()}},makeDOMNodeMainBefore:function(e,t,n){e.push("<li ",n.isHidden?"style='display:none;' ":"","id='",n.tId,"' class='",u.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},showNode:function(e,t,n){t.isHidden=!1,d.initShowForExCheck(e,t),h(t,e).show()},showNodes:function(e,t,n){if(t&&0!=t.length){var i,a,r={};for(i=0,a=t.length;i<a;i++){var o=t[i];if(!r[o.parentTId]){var s=o.getParentNode();r[o.parentTId]=null===s?d.getRoot(e):o.getParentNode()}c.showNode(e,o,n)}for(var l in r){var u=r[l][e.data.key.children];c.setFirstNodeForShow(e,u),c.setLastNodeForShow(e,u)}}},hideNode:function(e,t,n){t.isHidden=!0,t.isFirstNode=!1,t.isLastNode=!1,d.initHideForExCheck(e,t),c.cancelPreSelectedNode(e,t),h(t,e).hide()},hideNodes:function(e,t,n){if(t&&0!=t.length){var i,a,r={};for(i=0,a=t.length;i<a;i++){var o=t[i];if((o.isFirstNode||o.isLastNode)&&!r[o.parentTId]){var s=o.getParentNode();r[o.parentTId]=null===s?d.getRoot(e):o.getParentNode()}c.hideNode(e,o,n)}for(var l in r){var u=r[l][e.data.key.children];c.setFirstNodeForHide(e,u),c.setLastNodeForHide(e,u)}}},setFirstNode:function(e,t){var n=e.data.key.children,i=t[n].length;i>0&&!t[n][0].isHidden?t[n][0].isFirstNode=!0:i>0&&c.setFirstNodeForHide(e,t[n])},setLastNode:function(e,t){var n=e.data.key.children,i=t[n].length;i>0&&!t[n][0].isHidden?t[n][i-1].isLastNode=!0:i>0&&c.setLastNodeForHide(e,t[n])},setFirstNodeForHide:function(e,t){var n,i,a;for(i=0,a=t.length;i<a;i++){if(n=t[i],n.isFirstNode)break;if(!n.isHidden&&!n.isFirstNode){n.isFirstNode=!0,c.setNodeLineIcos(e,n);break}n=null}return n},setFirstNodeForShow:function(e,t){var n,i,a,r,o;for(i=0,a=t.length;i<a;i++){if(n=t[i],!r&&!n.isHidden&&n.isFirstNode){r=n;break}if(r||n.isHidden||n.isFirstNode){if(r&&n.isFirstNode){n.isFirstNode=!1,o=n,c.setNodeLineIcos(e,n);break}n=null}else n.isFirstNode=!0,r=n,c.setNodeLineIcos(e,n)}return{new:r,old:o}},setLastNodeForHide:function(e,t){var n,i;for(i=t.length-1;i>=0;i--){if(n=t[i],n.isLastNode)break;if(!n.isHidden&&!n.isLastNode){n.isLastNode=!0,c.setNodeLineIcos(e,n);break}n=null}return n},setLastNodeForShow:function(e,t){var n,i,a,r;for(i=t.length-1;i>=0;i--){if(n=t[i],!a&&!n.isHidden&&n.isLastNode){a=n;break}if(a||n.isHidden||n.isLastNode){if(a&&n.isLastNode){n.isLastNode=!1,r=n,c.setNodeLineIcos(e,n);break}n=null}else n.isLastNode=!0,a=n,c.setNodeLineIcos(e,n)}return{new:a,old:r}}},o={view:r,data:a};e.extend(!0,e.fn.zTree._z,o);var s=e.fn.zTree,l=s._z.tools,u=s.consts,c=s._z.view,d=s._z.data,h=(s._z.event,l.$);d.addInitNode(t),d.addBeforeA(n),d.addZTreeTools(i);var f=d.initNode;d.initNode=function(e,t,n,i,a,r,o){var s=i||d.getRoot(e),l=s[e.data.key.children];d.tmpHideFirstNode=c.setFirstNodeForHide(e,l),d.tmpHideLastNode=c.setLastNodeForHide(e,l),o&&(c.setNodeLineIcos(e,d.tmpHideFirstNode),c.setNodeLineIcos(e,d.tmpHideLastNode)),a=d.tmpHideFirstNode===n,r=d.tmpHideLastNode===n,f&&f.apply(d,arguments),o&&r&&c.clearOldLastNode(e,n,o)};var p=d.makeChkFlag;p&&(d.makeChkFlag=function(e,t){t&&t.isHidden||p.apply(d,arguments)});var m=d.getTreeCheckedNodes;m&&(d.getTreeCheckedNodes=function(e,t,n,i){if(t&&t.length>0){var a=t[0].getParentNode();if(a&&a.isHidden)return[]}return m.apply(d,arguments)});var g=d.getTreeChangeCheckedNodes;g&&(d.getTreeChangeCheckedNodes=function(e,t,n){if(t&&t.length>0){var i=t[0].getParentNode();if(i&&i.isHidden)return[]}return g.apply(d,arguments)});var v=c.expandCollapseSonNode;v&&(c.expandCollapseSonNode=function(e,t,n,i,a){t&&t.isHidden||v.apply(c,arguments)});var y=c.setSonNodeCheckBox;y&&(c.setSonNodeCheckBox=function(e,t,n,i){t&&t.isHidden||y.apply(c,arguments)});var b=c.repairParentChkClassWithSelf;b&&(c.repairParentChkClassWithSelf=function(e,t){t&&t.isHidden||b.apply(c,arguments)})})(jQuery)},"1c13":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-container"},[i("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[i("div",{staticClass:"left-container"},[i("img",{staticClass:"logo-img",attrs:{src:n("2840")}}),i("span",{staticClass:"login-right"},[e._v("© 2020 中软国际")])]),i("div",{staticClass:"right-container"},[i("div",{staticClass:"title-container"},[i("lang-select",{staticClass:"set-language"})],1),i("el-form-item",{attrs:{prop:"username"}},[i("span",{staticClass:"input-container"},[e._v(" 用户名 ")]),i("el-input",{ref:"username",attrs:{name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),i("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[i("el-form-item",{attrs:{prop:"password"}},[i("span",{staticClass:"input-container"},[e._v(" 密码 ")]),i("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),i("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[i("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),i("el-button",{staticClass:"login-btn",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" "+e._s(e.$t("login.logIn"))+" ")])],1)])],1)},a=[]},"1c3b":function(t,n,i){"use strict";var a=i("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i("ac6a"),i("c5f6");var r=a(i("c47b")),o=i("76e7"),s=a(i("37fe")),l=i("9206"),u=a(i("f6f4")),c=i("526f"),d={name:"ElTree",components:{ElTreeNode:s.default},mixins:[u.default],props:{data:{type:Array},emptyText:{type:String,default:function(){return(0,l.t)("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:!0,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var e=this.root.childNodes;return!e||0===e.length||e.every((function(e){var t=e.visible;return!t}))}},watch:{defaultCheckedKeys:function(e){this.store.setDefaultCheckedKey(e)},defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},data:function(e){this.store.setData(e)},checkboxItems:function(e){Array.prototype.forEach.call(e,(function(e){e.setAttribute("tabindex",-1)}))},checkStrictly:function(e){this.store.checkStrictly=e}},created:function(){var t=this;this.isTree=!0,this.store=new r.default({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var n=this.dragState;this.$on("tree-node-drag-start",(function(i,a){if("function"===typeof t.allowDrag&&!t.allowDrag(a.node))return i.preventDefault(),!1;i.dataTransfer.effectAllowed="move";try{i.dataTransfer.setData("text/plain","")}catch(e){}n.draggingNode=a,t.$emit("node-drag-start",a.node,i)})),this.$on("tree-node-drag-over",(function(e,i){var a=(0,o.findNearestComponent)(e.target,"ElTreeNode"),r=n.dropNode;r&&r!==a&&(0,c.removeClass)(r.$el,"is-drop-inner");var s=n.draggingNode;if(s&&a){var l=!0,u=!0,d=!0,h=!0;"function"===typeof t.allowDrop&&(l=t.allowDrop(s.node,a.node,"prev"),h=u=t.allowDrop(s.node,a.node,"inner"),d=t.allowDrop(s.node,a.node,"next")),e.dataTransfer.dropEffect=u?"move":"none",(l||u||d)&&r!==a&&(r&&t.$emit("node-drag-leave",s.node,r.node,e),t.$emit("node-drag-enter",s.node,a.node,e)),(l||u||d)&&(n.dropNode=a),a.node.nextSibling===s.node&&(d=!1),a.node.previousSibling===s.node&&(l=!1),a.node.contains(s.node,!1)&&(u=!1),(s.node===a.node||s.node.contains(a.node))&&(l=!1,u=!1,d=!1);var f,p=a.$el.getBoundingClientRect(),m=t.$el.getBoundingClientRect(),g=l?u?.25:d?.45:1:-1,v=d?u?.75:l?.55:0:1,y=-9999,b=e.clientY-p.top;f=b<p.height*g?"before":b>p.height*v?"after":u?"inner":"none";var A=a.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),w=t.$refs.dropIndicator;"before"===f?y=A.top-m.top:"after"===f&&(y=A.bottom-m.top),w.style.top=y+"px",w.style.left=A.right-m.left+"px","inner"===f?(0,c.addClass)(a.$el,"is-drop-inner"):(0,c.removeClass)(a.$el,"is-drop-inner"),n.showDropIndicator="before"===f||"after"===f,n.allowDrop=n.showDropIndicator||h,n.dropType=f,t.$emit("node-drag-over",s.node,a.node,e)}})),this.$on("tree-node-drag-end",(function(e){var i=n.draggingNode,a=n.dropType,r=n.dropNode;if(e.preventDefault(),e.dataTransfer.dropEffect="move",i&&r){var o={data:i.node.data};"none"!==a&&i.node.remove(),"before"===a?r.node.parent.insertBefore(o,r.node):"after"===a?r.node.parent.insertAfter(o,r.node):"inner"===a&&r.node.insertChild(o),"none"!==a&&t.store.registerNode(o),(0,c.removeClass)(r.$el,"is-drop-inner"),t.$emit("node-drag-end",i.node,r.node,a,e),"none"!==a&&t.$emit("node-drop",i.node,r.node,a,e)}i&&!r&&t.$emit("node-drag-end",i.node,null,a,e),n.showDropIndicator=!1,n.draggingNode=null,n.dropNode=null,n.allowDrop=!0}))},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")},methods:{filter:function(e){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(e)},getNodeKey:function(e){return(0,o.getNodeKey)(this.nodeKey,e.data)},getNodePath:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var t=this.store.getNode(e);if(!t)return[];var n=[t.data],i=t.parent;while(i&&i!==this.root)n.push(i.data),i=i.parent;return n.reverse()},getCheckedNodes:function(e,t){return this.store.getCheckedNodes(e,t)},getAllNodes:function(){return this.store._getAllNodes()},getCheckedKeys:function(e){return this.store.getCheckedKeys(e)},getCurrentNode:function(){var e=this.store.getCurrentNode();return e?e.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var e=this.getCurrentNode();return e?e[this.nodeKey]:null},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,n){this.store.setChecked(e,t,n)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(e)},setCurrentKey:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(e)},getNode:function(e){return this.store.getNode(e)},remove:function(e){this.store.remove(e)},append:function(e,t){this.store.append(e,t)},insertBefore:function(e,t){this.store.insertBefore(e,t)},insertAfter:function(e,t){this.store.insertAfter(e,t)},handleNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,n)},updateKeyChildren:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(e,t)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var e=this.$el.querySelectorAll(".is-checked[role=treeitem]");e.length?e[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(e){var t=e.target;if(-1!==t.className.indexOf("el-tree-node")){var n=e.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");var i,a=this.treeItemArray.indexOf(t);[38,40].indexOf(n)>-1&&(e.preventDefault(),i=38===n?0!==a?a-1:0:a<this.treeItemArray.length-1?a+1:0,this.treeItemArray[i].focus()),[37,39].indexOf(n)>-1&&(e.preventDefault(),t.click());var r=t.querySelector('[type="checkbox"]');[13,32].indexOf(n)>-1&&r&&(e.preventDefault(),r.click())}}}};n.default=d},"1c3c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{title:{type:String,default:"提示"},sureName:{type:String,default:"确定"},cancelName:{type:String,default:"取消"},isShow:{type:Boolean,default:!1},contentStyle:{type:Object,default:{width:"460px"}}},methods:{sure:function(){this.$emit("sure")},close:function(){this.$emit("update:isShow",!1)}}};t.default=i},"1cc4":function(e,t,n){"use strict";n.r(t);var i=n("2b2f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"1cd7":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("5df3"),n("1c4c"),n("7f7f"),n("7514"),n("20d6");var a=i(n("5ada")),r={name:"screenQueryIndex",components:{ScreenQueryOne:a.default},data:function(){return{screenListLoading:!1,curScreenGraphName:"",tabsName:"tab0",tabArr:[],tabClosable:!1,curTabsName:"",curNodeData:null,layeringDialogVisible:!1,pressEscape:!1,clickModal:!1,layeringRangeArr:[],curRangeIndex:"",sqlValue:"",webSocketUuid:""}},props:["screenParam"],mounted:function(){this.curScreenGraphName="当前场景查询名称：".concat(this.screenParam.graphName),this.init(),this.initWebsocket()},methods:{init:function(){for(var e=0;e<this.screenParam.screenQueryNodeArr.length;e++){var t=JSON.parse(this.screenParam.screenQueryNodeArr[e].extMap.nodeData),n=!1;0===e&&(n=!0,this.curNodeData=t),this.tabArr.push({title:this.screenParam.screenQueryNodeArr[e].label,id:this.screenParam.screenQueryNodeArr[e].id,name:"tab".concat(e),optType:t.nodeInfo.optType,isShow:n,screenParam:{graphUuid:this.screenParam.graphUuid,graphName:this.screenParam.graphName,nodeData:t,publicType:this.screenParam.publicType,treeNodeData:this.screenParam.treeNodeData}})}},initWebsocket:function(){var e=this,t=this.$store.state.user.id,n="ws://"+window.location.host+":"+window.location.port+"/websocket?"+t+"ScreenQuery";this.webSocket=new WebSocket(n),this.webSocket.onmessage=function(t){var n=JSON.parse(t.data),i=n.executeSQL;if(i.customParam[0]===e.webSocketUuid){var a=e.tabArr.findIndex((function(e){return!0===e.isShow}));a>-1&&(e.screenListLoading=!1,"2"===i.state?(e.$refs.screenQueryOne[a].queryFilter&&(e.$refs.screenQueryOne[a].activeName="2"),e.$refs.screenQueryOne[a].showTableResult=!0,e.$refs.screenQueryOne[a].$nextTick((function(){e.$refs.screenQueryOne[a].$refs.resultTable.initData(null,n),e.$refs.screenQueryOne[a].isQuery=!0}))):e.$refs.screenQueryOne[a].$message.error("查询结果集失败：".concat(i.msg)))}},this.webSocket.onerror=function(t){e.$message.error("数据请求失败")}},clickTab:function(){var e=this;if(this.tabsName!==this.curTabsName){var t=this.tabArr.find((function(t){return t.name===e.tabsName}));"undefined"!==typeof t&&(this.curTabsName=this.tabsName,this.curNodeData=t.screenParam.nodeData,Array.from(this.tabArr,(function(e){return e.isShow=!1})),t.isShow=!0)}},changeRange:function(e){this.sqlValue=this.curNodeData.nodeInfo.nodeSqlArr[e]},showLayingDialog:function(e){var t=this;e!==this.curTabsName?(this.curTabsName=e,this.clickTab()):(this.layeringDialogVisible=!0,this.$nextTick((function(){var e=t.curNodeData.nodeInfo.areaArr;t.layeringRangeArr=[];for(var n=0;n<e.length;n++)t.layeringRangeArr.push({index:n,name:e[n]});t.curRangeIndex=0,t.sqlValue=t.curNodeData.nodeInfo.nodeSqlArr[0]})))},layerNodeCallBack:function(){var e=this,t=this.tabArr.find((function(t){return t.name===e.tabsName}));"undefined"!==typeof t&&(t.screenParam.layering_index=this.curRangeIndex),this.layeringDialogVisible=!1,this.$refs.screenQueryOne.init()},toScreenList:function(){this.$parent.$parent.rightType="graphList"}}};t.default=r},"1d04":function(e,t,n){"use strict";n("9bf1")},"1d45":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAACvEAYAAADoOU0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAC2hJREFUeNrt3V2oFVUfx/G19vHku57MtCPVhaWQlVlolp3QAiEwi7ytyCyi14tCVEwlI1ESLxIKKTNB8kIj6MWgG0+YmWBYoWmZUYlhlp4UrTy+7PVc/BzJx0fN9czs/+y1v5+bPzPC7P8e5+zfrDWzZzsHAAAAAAAAAAAAAAAAAADqVAghhNCjR6iGaqj27WvdD4B/z1s3cDb6QBkwwHnnnZ84UWtHjVK98UbVgQNVsw+elhbrvpGHQ4dUP/tMdcUKF1xwYfVqX/EVXzl2zLpDACUKEAVGW5sC4/nntXb8eNWmJuv+UAY//6w6ZYr33nu/dq11R0AjMwsQBUb//gqM11/X2vvus94hqAfVquqCBaqzZilQQrDuDGgkNQ8QzXmPGKGlNWtUBw2y3hGoU8EFFxYu1NTWtGnW7QCNpGYBohHH8OEacbS3a22/ftY7ACnJRiLz5ll3AjSCwgNEI46LL9aZ4hdfKEAGD7Z+40hRNrU1fjzXSIDiVQp/heCCCy+/THCgeJWTx/Nbb+nEpWdP646AlBUWIPoDHjZMwTFlivUbRSO58krVWbOsOwFSVvAI5OmnT75M8SMd4AxTp+raW/b9IQB5yv0aiP5g+/TRyGP3bq3t3dv6jaKRbdmiqdSRI3W31tGj1h0BKch/ZOCddz77AiDBgTK4/nodl7NnW3cCpKSgqaWxY63fGHCmGTM0Qh450roTIAX5B0hwwQXmnFFGXbpoJPLmmwqSiy6y7gioZwVNYV1xhfUbA84u+0Jr9sw1ADHyv4geQgghe1pqly7WbxA4u+w4HT1aXzz88kvrjoB6UtA1EJ6ei3rQ3Ky6fDlTWsCF4/sZwKkprZkzrTsB6klBU1jZM4l8aX5vBDi/7PshN92kKa1vvrHuCCgzRiDAKdkU1pIlOhHiBAg4FwIEOENbm25Hf+QR606AMmMKCzirjg7V7PHwmzdbdwSUCSMQ4KyyHzzbtEknRitWqI4dq8pDQtHYGIEA0X79VfXzzzXl9eOPupvr4EGt7+y07hD1bNcuHVfbtum42rpVI+ETJ6w7yxAgAFAX9u5VXb1addky6y/AEiAAUJdCUH37bdVnnlGgHDhQqw4IEABIws6dqtlNHz/9VPQrEiAAkIrgggs//KBrJqNGKUj++KOol+MuEgBIhXfe+auu0sKrrxb/cjljBAIAZRCCRiSjR+unnDdtyvsVGIEAQJK814jkiScKe4W8N8gIBADK5OBBjUT699dI5PjxvLbMCAQAkta3r+o11+S9ZQIEABrCiBF5b5EAAYDUeeedHzAg780SIADQELKprPwQIACQuuCCC9265b1ZAgQAEIUAAQBEIUAAAFEIEABAFAIEABCFAAEARCFAAABRCBAAQBQCBAAQhQABAEQhQAAAUQgQAEAUAgQAEIUAAQBEIUAAAFEIEABAFAIEABCFAAEARCFAAABRCBAAQBQCBAAQhQABAEQhQAAAUQgQAEAUAgQAEIUAAQBEIUAAAFEIEABAFAIEABCli3UDwPl1dKiuWOGCCy6sWaPl7dtVf/vNV3zFV44ete4U+QrVUA3V5mbnnXd+wACtHTpUx8GECVr/4INan/07aoUAQQmFoPrKK6pz53rvvfcHDlh3htrSicGxY1r65ZfTa3u7AuaFF7Q8c6YCZfp0LVeYYSkYOxglcvy46gMPKDCefZbgwLkoYA4fVp05U2snTVLt7LTuL3UECEpk6lQFxsqV1p2gPun4ee89LT35pHU/qSNAUAKffqo//GzKCvj/6HhatkxLH31k3U+qCBCUwJw51h0gZbNnW3eQKgIEhvbuVV23zroTpEkjkc2btfT999b9pIYAgaH16/UHXq1ad4JGsH69dQepIUBgaPdu6w7QSLLbf5EXAgSGvLfuAEA8AgQ2ggsutLZat4EGEVxwYdAg6zZSQ4DAhnfe+ba2EEIIgZEICnbyeLNuIzUECAy1turM8LbbrDtBmvSokxtu0NLQodb9pIYAgS3vvPMvvWTdBhLlnXf+xRet20gVAYISGDtWU1mPP27dCdKg4+n++7V0zz3W/aSKAEGJLF6sP/zsYXjAhdHxc9ddWlq61Lqf1BEgKJHmZtV33tEHwfz5msPu1cu6M5STjpPu3VWzR+J8+KFqt27W/aWO3wNBCWV3Zc2YoTnshx/WB8Ty5Vr/wQe6+L5zpx7jnT0SBanSicSll2pp8GAdFxMnavmhh1Qvv9y6z0aT++2T+kPPHk3B7ZkAYC644MLChTrhmjYtr80yhQUAiEKAAACiECAAgCgECAAgCgECAIhCgAAAohAgAIAoBAgAIAoBAgCIQoAAAKIQIACAKAQIACAKAQIAiEKAAACiECAAgCgECAAgCr9IiDpy4oTqxo2qO3eqZr9IGIJ1hyjSwIGqgwerjhmj2oXPMSPseJTYoUOqixbpF9Vee02/qPb779adwZZ++bRfPy099pjq9OmqLS3W/TUKprBQLsEFF776SvW667z33vu5cwkO/JOOi44O1QULtHbYMB032QgVRSNAUA5ZcDjnnLv9dgXGrl3WbaE+KEj27HHeeefvuENrN2yw7it1BAhKIJuquvdeBcfhw9YdoT4pSI4c0QnJpElau3+/dV+pIkBQAosWMeJAnnQ8ZTdXzJtn3U+qCBAYOnEiuzhu3QkSFVxw4Y03tHDkiHU7qSFAYGjjRi6Oo0inT4l+8ol1P6khQGAjuODCd99Zt4FGwvGWNwIEhjo6rDtAgwguuLBvn3UbqSFAYCj7IhhQMO+88/37W7eRGgIENrzzzg8ZYt0GGsnVV1t3kBoCBIbGjAnVUA1VzgxRDD3ypEcPLWVfMEReCBAYamrSSOTRR607QcomT1bNggR5IUBQAtOn60yxtdW6E6RBx9Mll2hpzhzrflJFgKAEWlp0l8y77+oPv1s3645QnzQl2tys42nVKq3NHgOPvBEgKAfvvPO33KKFtWsVJJddZt0W6sOpEYd33vmPP1a9807rvlJHgKCEbr1VdetWfTA895zOLHv3tu4M5ZBdHFd96imt3bZNlYvlteLz3qD+Q6vVk5vPfftoZJ2dmppYt05nmN9+q/XZQ/OOH7fuEEVoalIdOFD//0OG6P9/3Dit797dusPSCy64sHChHu0ybVpem+UXCVFHunbVB8f48VrOKhqGdz7/017EYgoLABCFAAEARCFAAABRCBAAQBQCBAAQhQABAEQhQAAAUQgQAEAUAgQAEIUAAQBEIUAAAFEIEABAFAIEABCFAAEARCFAAABRCBAAQBQCBAAQhQABAEQhQAAAUQgQAEAUAgQAEIUAAQBEIUAAAFEIEABAFAIEABCFAAEARCkoQEKwfmMAgGIVFCB//mn9xgAA/1TJ/fOeAAGA1Hnnne/ZM+/NFhQgHR1F7w8AwIWomwDZsaPoXQEAuBCHDuW9xfwDJLjgwvbtNdkfAIB/af/+vLeYf4B4551ft64m+wMA8C99/XXeW/R5bzBUQzVUu3ZVkOzbp7W9ehW/cwAAZzdokPfee79nT15bzH0E4iu+4iudnZrKWrWqtjsIAHC6LVvyDo5Mcd9E9847v2iRFqrVwl4HAHAOS5YUteXCAkSJt22blhYvLup1AAD/y44dmglaurSoV8j9Gsh/CyGEEHr00FJ7u+rNNxf9ugDQmP7+W7WtTSfymzcX9UqFP0xRb+Cvv5SEEyaobtxY9OsCQGPJvudx991FB0emZk/j1cX17K6sceMUJPPna7mzs1Z9AEAasofWvv++6vDhCo61a2vVQeFTWOffBSGE0NqqpcmTVSdMUL32WtWWFus+AaC2shPrjg6dcG/dqpuTNmzQ8sqVOjG3e/KHeYCcj75X0qePdlxTk3U/AFCso0c1kuChtAAAAAAAAAAAAAAAAACQtv8AKDug2Z+vXQkAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMTItMTRUMTA6MzY6MzUrMDg6MDBeKCsaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTEyLTE0VDEwOjM2OjM1KzA4OjAwL3WTpgAAAEl0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fNDR3azQxcDh5cy94aWFuZ211LnN2Z/K5rV0AAAAASUVORK5CYII="},"1d90":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-view-2",use:"icon-icon-view-2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-view-2"><defs><style type="text/css"></style></defs><path d="M514.2 354.9c-107 0-213.4 53.7-264.5 158.7C301.2 619 406.3 671.4 513 671.4c107 0 212.2-52.7 263.3-157.6-51.1-105.1-155.2-158.9-262.1-158.9z m0.9 269.9c-65.7 0-119-49.6-119-110.8 0-61.2 53.3-110.8 119-110.8s119 49.6 119 110.8c0 61.2-53.2 110.8-119 110.8z" p-id="2565" /><path d="M98 98.2v830h830v-830H98z m732.1 420.6c-0.2 0.9-0.1 1.9-0.4 2.8-0.1 0.3-0.4 0.6-0.5 0.9-0.2 0.6-0.2 1.1-0.5 1.7C771 647.2 645.5 716.6 513 716.6S255 647 197.3 524c-0.2-0.5-0.2-1.1-0.4-1.6-0.1-0.4-0.4-0.5-0.6-1-0.3-0.9-0.2-1.9-0.4-2.8-0.4-1.7-0.7-3.3-0.7-5 0-1.7 0.3-3.3 0.7-4.9 0.2-0.9 0.1-1.9 0.4-2.8 0.1-0.3 0.4-0.5 0.6-0.9 0.2-0.6 0.2-1.1 0.4-1.6 57.7-123 184.5-193.7 316.9-193.7 132.5 0 256.7 70.8 314.4 193.8 0.3 0.5 0.2 1.1 0.5 1.6 0.1 0.3 0.4 0.6 0.5 1 0.3 0.9 0.2 1.9 0.4 2.8 0.3 1.7 0.7 3.3 0.7 4.9 0 1.7-0.3 3.3-0.6 5z" p-id="2566" /></symbol>'});o.a.add(s);t["default"]=s},"1d99":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAE6ADAAQAAAABAAAAEwAAAAAgb1CmAAAA+UlEQVQ4EWNgIAJ4+Ie5JyQkcBBSyghS4BkQrvzn9/9MBob/wuga/jH+/8rEyAg06P9phn+MFujy/xn+/WJhYNy5Y+uadYz///9ndPUJPcrw/78MukIwn5HpIyMTw0mGvwwfgRpDsaoBCjKyMEcyhYUlieA0CJdOLOL///03ZPrK8IUZixzJQkz/GJmYSNaFR8OoYXgCB4fUaJjhCBg8woM4zMS4uT8wMDL+weN6oqT+MzO8ZlqwYMEPBkaGZqCOX0TpwqaIkeG4AIf0BnDhCJIPDQ1lY2Dg40FX+42V7f/PT6+L2DgZp3Iz8GFY+JP3/+9N8+Z9BukDAFsVQwJF+rQeAAAAAElFTkSuQmCC"},"1db4":function(e,t,n){"use strict";n.r(t);var i=n("6260"),a=n("71d2");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("35e7");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"26fcd89f",null);t["default"]=s.exports},"1dcc":function(e,t,n){"use strict";function i(e){if(null==e.source&&null!=e.target||null!=e.source&&null==e.target)return alertMsg("警告","不允许的操作","warning"),a(e),!1;if(null==e.source&&null==e.target)return alertMsg("警告","不允许的操作","warning"),a(e),!1;var t=e.target.getSourceNodes(),n=e.source.getTargetNodes();if(0===t.length)return alertMsg("警告","不允许的连接","warning"),a(e),!1;var i=["filter","sort","sample","layering","groupCount","delRepeat","change","comparison","barChart","intersect","exclude","union","relation","sql"];if("datasource,sql".indexOf(e.target.nodeType)>-1&&t.length>0)return alertMsg("提示","数据表与SQL查询器只能作为根节点","info"),a(e),!1;if($.inArray(e.target.nodeType,i)>-1&&"datasource,newNullNode".indexOf(e.source.nodeType)<0)return alertMsg("警告","不允许的连接","warning"),a(e),!1;if($.inArray(e.source.nodeType,i)>-1){if("newNullNode"!==e.target.nodeType)return alertMsg("警告","不允许的连接","warning"),a(e),!1;if(n.length>1&&"layering"!==e.source.nodeType)return alertMsg("提示","最多连接一个结果表","warning"),a(e),!1}if("filter,sort,sample,layering,groupCount,delRepeat,change,customizeChart".indexOf(e.target.nodeType)>-1&&t.length>1)return alertMsg("提示","最多连接 1 个节点","warning"),a(e),!1;if("intersect,exclude,union".indexOf(e.target.nodeType)>-1&&t.length>2)return alertMsg("提示","最多连接 2 个节点","warning"),a(e),!1;if("barChart".indexOf(e.source.nodeType)>-1&&t.length>0)return alertMsg("提示","自定义图形只能作为末级节点","warning"),a(e),!1;if("newNullNode"===e.target.nodeType){if("datasource,newNullNode".indexOf(e.source.nodeType)>-1)return alertMsg("警告","不允许的连接","warning"),a(e),!1;if(t.length>1)return alertMsg("提示","结果表只有一个来源节点","warning"),a(e),!1}if("newNullNode"===e.source.nodeType){var r=e.source.getSourceNodes();if(r.length>0&&"comparison"===r[0].nodeType&&t.length>0)return alertMsg("提示","数据频次分析产生的结果表只能作为末级节点","warning"),a(e),!1}return!0}function a(e){graph.edgeArr[e.id]?(ownerEditor.editor.undoManager.undo(),ownerEditor.editor.undoManager.history.pop()):(graph.removeCells(graph.getDeletableCells(graph.getSelectionCells()),!1),ownerEditor.editor.undoManager.indexOfNextAdd-=2,ownerEditor.editor.undoManager.history.splice(ownerEditor.editor.undoManager.history.length-2,2))}function r(e,t){var n=graph.nodeData[t].parentIds,i={isError:!1,message:""};if(0===n.length)i.isError=!0,i.message="未连接上级节点";else switch(e){case"union":2!==n.length&&(i.isError=!0,i.message="请连接两个上级节点");break;case"relation":n.length<2&&(i.isError=!0,i.message="至少连接两个上级节点");break}return i}function o(e){var t=!0;if("barChart"===e||"relation"===e||"layering"===e){var n,i=graph.nodeData[graph.curCell.id].parentIds;if("barChart"===e&&(n=graph.nodeData[i[0]].nodeInfo.nodeExcuteStatus,3!==n&&(t=!1)),"relation"===e)for(var a=0;a<i.length;a++)if(n=graph.nodeData[i[a]].nodeInfo.nodeExcuteStatus,3!==n){t=!1;break}"layering"===e&&(n=graph.nodeData[i[0]].nodeInfo.nodeExcuteStatus,3!==n&&(t=!1))}else if(!s(graph.curCell.id))return!1;return!!t||(alertMsg("错误","前置节点未执行成功，不能进行节点配置","error"),!1)}function s(e){for(var t=!0,n=graph.nodeData[e].parentIds,i=0;i<n.length;i++){var a=graph.nodeData[n[i]];if("sql"===a.nodeInfo.optType){if(3!==a.nodeInfo.nodeExcuteStatus){alertMsg("错误","前置节点【SQL查询器】生成的SQL语句未执行","warning"),t=!1;break}}else{var r=a.columnsInfo;a.nodeInfo.optType,a.nodeInfo.nodeExcuteStatus;"newNullNode"!==a.nodeInfo.optType||a.isSet||a.parentIds.length>0&&graph.nodeData[a.parentIds[0]]&&(r=graph.nodeData[a.parentIds[0]].columnsInfo,graph.nodeData[a.parentIds[0]].nodeInfo.optType,graph.nodeData[a.parentIds[0]].nodeInfo.nodeExcuteStatus);for(var o=0,s=0;s<r.length;s++){var l=r[s].isOutputColumn;0===l&&o++}if(r.length===o&&0!==r.length){alertMsg("提示","前置节点未配置输出列","warning"),t=!1;break}if(0===r.length){alertMsg("提示","前置节点无输出列，需执行前置节点","warning"),t=!1;break}}}return t}function l(){var e=graph.curCell.getSourceNodes();return 0===e.length?(alertMsg("提示","请关联一个前置节点","warning"),!1):!!u(graph.curCell.id,!0)||(alertMsg("提示","待执行的节点中存在正在执行的节点，请稍后……","warning"),!1)}function u(e,t){var n=!0;if(t){var i=graph.nodeData[e].nodeInfo.nodeExcuteStatus;if(2===i)return!1}var a=graph.nodeData[e].parentIds;if(a.length>0)for(var r=0;r<a.length;r++){var o=graph.nodeData[a[r]].nodeInfo.nodeExcuteStatus;if(2===o){n=!1;break}if(n=u(a[r],!1),!n)break}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.edgeVerify=i,t.verifyPreNodes=r,t.settingVerify=o,t.executeVerify=l},"1df4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("queryBuilder",{ref:"queryBuilder",attrs:{rules:e.queryRules},model:{value:e.queryJson,callback:function(t){e.queryJson=t},expression:"queryJson"}})],1)},a=[]},"1e7d":function(e,t,n){"use strict";n.r(t);var i=n("3889"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"1ec4":function(e,t,n){n("7f7f");var i=n("7037");n("c5f6"),n("4917"),n("3b2b"),n("6b54"),n("a481"),n("28a5"),function(){var e,t,n,a=void 0,r=!0,o=null,s=!1,l=["aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,snow,springgreen,steelblue,tan,teal,thistle,tomato,transparent,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen".split(","),"all-scroll,col-resize,crosshair,default,e-resize,hand,help,move,n-resize,ne-resize,no-drop,not-allowed,nw-resize,pointer,progress,row-resize,s-resize,se-resize,sw-resize,text,vertical-text,w-resize,wait".split(","),"armenian,decimal,decimal-leading-zero,disc,georgian,lower-alpha,lower-greek,lower-latin,lower-roman,square,upper-alpha,upper-latin,upper-roman".split(","),"100,200,300,400,500,600,700,800,900,bold,bolder,lighter".split(","),"block-level,inline-level,table-caption,table-cell,table-column,table-column-group,table-footer-group,table-header-group,table-row,table-row-group".split(","),"condensed,expanded,extra-condensed,extra-expanded,narrower,semi-condensed,semi-expanded,ultra-condensed,ultra-expanded,wider".split(","),"inherit,inline,inline-block,inline-box,inline-flex,inline-grid,inline-list-item,inline-stack,inline-table,run-in".split(","),"behind,center-left,center-right,far-left,far-right,left-side,leftwards,right-side,rightwards".split(","),"large,larger,small,smaller,x-large,x-small,xx-large,xx-small".split(","),"dashed,dotted,double,groove,outset,ridge,solid".split(","),"ease,ease-in,ease-in-out,ease-out,linear,step-end,step-start".split(","),"at,closest-corner,closest-side,ellipse,farthest-corner,farthest-side".split(","),"baseline,middle,sub,super,text-bottom,text-top".split(","),"caption,icon,menu,message-box,small-caption,status-bar".split(","),"fast,faster,slow,slower,x-fast,x-slow".split(","),["above","below","higher","level","lower"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["block","flex","grid","table"],["high","low","x-high","x-low"],["nowrap","pre","pre-line","pre-wrap"],["absolute","relative","static"],["alternate","alternate-reverse","reverse"],["border-box","content-box","padding-box"],["capitalize","lowercase","uppercase"],["child","female","male"],["=","opacity"],["backwards","forwards"],["bidi-override","embed"],["bottom","top"],["break-all","keep-all"],["clip","ellipsis"],["contain","cover"],["continuous","digits"],["end","start"],["flat","preserve-3d"],["hide","show"],["horizontal","vertical"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["paused","running"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["all"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["circle"],["code"],["collapse"],["contents"],["fixed"],["hidden"],["infinite"],["inset"],["invert"],["justify"],["list-item"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["to"],["visible"]],u={animation:{cssPropBits:517,cssLitGroup:[l[10],l[24],l[29],l[45],l[48],l[54],l[63],l[71],l[72]],cssFns:["cubic-bezier()","steps()"]},"animation-delay":{cssPropBits:5,cssLitGroup:[l[48]],cssFns:[]},"animation-direction":{cssPropBits:0,cssLitGroup:[l[24],l[48],l[72]],cssFns:[]},"animation-duration":"animation-delay","animation-fill-mode":{cssPropBits:0,cssLitGroup:[l[29],l[48],l[54],l[71]],cssFns:[]},"animation-iteration-count":{cssPropBits:5,cssLitGroup:[l[48],l[63]],cssFns:[]},"animation-name":{cssPropBits:512,cssLitGroup:[l[48],l[71]],cssFns:[]},"animation-play-state":{cssPropBits:0,cssLitGroup:[l[45],l[48]],cssFns:[]},"animation-timing-function":{cssPropBits:0,cssLitGroup:[l[10],l[48]],cssFns:["cubic-bezier()","steps()"]},appearance:{cssPropBits:0,cssLitGroup:[l[71]],cssFns:[]},azimuth:{cssPropBits:5,cssLitGroup:[l[7],l[42],l[56]],cssFns:[]},"backface-visibility":{cssPropBits:0,cssLitGroup:[l[59],l[62],l[80]],cssFns:[]},background:{cssPropBits:23,cssLitGroup:[l[0],l[18],l[25],l[31],l[34],l[42],l[48],l[49],l[52],l[56],l[61],l[68],l[71],l[74],l[75]],cssFns:"image(),linear-gradient(),radial-gradient(),repeating-linear-gradient(),repeating-radial-gradient(),rgb(),rgba()".split(",")},"background-attachment":{cssPropBits:0,cssLitGroup:[l[48],l[61],l[68],l[75]],cssFns:[]},"background-color":{cssPropBits:2,cssLitGroup:[l[0]],cssFns:["rgb()","rgba()"]},"background-image":{cssPropBits:16,cssLitGroup:[l[48],l[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"background-position":{cssPropBits:5,cssLitGroup:[l[31],l[42],l[48],l[56]],cssFns:[]},"background-repeat":{cssPropBits:0,cssLitGroup:[l[18],l[48],l[74]],cssFns:[]},"background-size":{cssPropBits:5,cssLitGroup:[l[34],l[48],l[52]],cssFns:[]},border:{cssPropBits:7,cssLitGroup:[l[0],l[9],l[47],l[62],l[64],l[69],l[71]],cssFns:["rgb()","rgba()"]},"border-bottom":"border","border-bottom-color":"background-color","border-bottom-left-radius":{cssPropBits:5,cssFns:[]},"border-bottom-right-radius":"border-bottom-left-radius","border-bottom-style":{cssPropBits:0,cssLitGroup:[l[9],l[62],l[64],l[71]],cssFns:[]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[l[47],l[69]],cssFns:[]},"border-collapse":{cssPropBits:0,cssLitGroup:[l[59],l[76]],cssFns:[]},"border-color":"background-color","border-left":"border","border-left-color":"background-color","border-left-style":"border-bottom-style","border-left-width":"border-bottom-width","border-radius":{cssPropBits:5,cssLitGroup:[l[49]],cssFns:[]},"border-right":"border","border-right-color":"background-color","border-right-style":"border-bottom-style","border-right-width":"border-bottom-width","border-spacing":"border-bottom-left-radius","border-style":"border-bottom-style","border-top":"border","border-top-color":"background-color","border-top-left-radius":"border-bottom-left-radius","border-top-right-radius":"border-bottom-left-radius","border-top-style":"border-bottom-style","border-top-width":"border-bottom-width","border-width":"border-bottom-width",bottom:{cssPropBits:5,cssLitGroup:[l[52]],cssFns:[]},box:{cssPropBits:0,cssLitGroup:[l[60],l[71],l[72]],cssFns:[]},"box-shadow":{cssPropBits:7,cssLitGroup:[l[0],l[48],l[64],l[71]],cssFns:["rgb()","rgba()"]},"box-sizing":{cssPropBits:0,cssLitGroup:[l[25]],cssFns:[]},"caption-side":{cssPropBits:0,cssLitGroup:[l[31]],cssFns:[]},clear:{cssPropBits:0,cssLitGroup:[l[42],l[54],l[71]],cssFns:[]},clip:{cssPropBits:0,cssLitGroup:[l[52]],cssFns:["rect()"]},color:"background-color",content:{cssPropBits:8,cssLitGroup:[l[71],l[72]],cssFns:[]},cue:{cssPropBits:16,cssLitGroup:[l[71]],cssFns:[]},"cue-after":"cue","cue-before":"cue",cursor:{cssPropBits:16,cssLitGroup:[l[1],l[48],l[52]],cssFns:[]},direction:{cssPropBits:0,cssLitGroup:[l[43]],cssFns:[]},display:{cssPropBits:0,cssLitGroup:[l[4],l[6],l[20],l[52],l[67],l[71]],cssFns:[]},"display-extras":{cssPropBits:0,cssLitGroup:[l[67],l[71]],cssFns:[]},"display-inside":{cssPropBits:0,cssLitGroup:[l[20],l[52]],cssFns:[]},"display-outside":{cssPropBits:0,cssLitGroup:[l[4],l[71]],cssFns:[]},elevation:{cssPropBits:5,cssLitGroup:[l[15]],cssFns:[]},"empty-cells":{cssPropBits:0,cssLitGroup:[l[38]],cssFns:[]},filter:{cssPropBits:0,cssFns:["alpha()"]},float:{cssPropBits:0,cssLitGroup:[l[42],l[71]],cssFns:[]},font:{cssPropBits:73,cssLitGroup:[l[3],l[8],l[13],l[16],l[41],l[48],l[49],l[69],l[72],l[77]],cssFns:[]},"font-family":{cssPropBits:72,cssLitGroup:[l[16],l[48]],cssFns:[]},"font-size":{cssPropBits:1,cssLitGroup:[l[8],l[69]],cssFns:[]},"font-stretch":{cssPropBits:0,cssLitGroup:[l[5],l[72]],cssFns:[]},"font-style":{cssPropBits:0,cssLitGroup:[l[41],l[72]],cssFns:[]},"font-variant":{cssPropBits:0,cssLitGroup:[l[72],l[77]],cssFns:[]},"font-weight":{cssPropBits:0,cssLitGroup:[l[3],l[72]],cssFns:[]},height:"bottom",left:"bottom","letter-spacing":{cssPropBits:5,cssLitGroup:[l[72]],cssFns:[]},"line-height":{cssPropBits:1,cssLitGroup:[l[72]],cssFns:[]},"list-style":{cssPropBits:16,cssLitGroup:[l[2],l[40],l[57],l[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-image":{cssPropBits:16,cssLitGroup:[l[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-position":{cssPropBits:0,cssLitGroup:[l[40]],cssFns:[]},"list-style-type":{cssPropBits:0,cssLitGroup:[l[2],l[57],l[71]],cssFns:[]},margin:"bottom","margin-bottom":"bottom","margin-left":"bottom","margin-right":"bottom","margin-top":"bottom","max-height":{cssPropBits:1,cssLitGroup:[l[52],l[71]],cssFns:[]},"max-width":"max-height","min-height":{cssPropBits:1,cssLitGroup:[l[52]],cssFns:[]},"min-width":"min-height",opacity:{cssPropBits:1,cssFns:[]},outline:{cssPropBits:7,cssLitGroup:[l[0],l[9],l[47],l[62],l[64],l[65],l[69],l[71]],cssFns:["rgb()","rgba()"]},"outline-color":{cssPropBits:2,cssLitGroup:[l[0],l[65]],cssFns:["rgb()","rgba()"]},"outline-style":"border-bottom-style","outline-width":"border-bottom-width",overflow:{cssPropBits:0,cssLitGroup:[l[52],l[62],l[75],l[80]],cssFns:[]},"overflow-wrap":{cssPropBits:0,cssLitGroup:[l[55],l[72]],cssFns:[]},"overflow-x":{cssPropBits:0,cssLitGroup:[l[44],l[52],l[62],l[75],l[80]],cssFns:[]},"overflow-y":"overflow-x",padding:"opacity","padding-bottom":"opacity","padding-left":"opacity","padding-right":"opacity","padding-top":"opacity","page-break-after":{cssPropBits:0,cssLitGroup:[l[42],l[51],l[52],l[53]],cssFns:[]},"page-break-before":"page-break-after","page-break-inside":{cssPropBits:0,cssLitGroup:[l[52],l[53]],cssFns:[]},pause:"border-bottom-left-radius","pause-after":"border-bottom-left-radius","pause-before":"border-bottom-left-radius",perspective:{cssPropBits:5,cssLitGroup:[l[71]],cssFns:[]},"perspective-origin":{cssPropBits:5,cssLitGroup:[l[31],l[42],l[56]],cssFns:[]},pitch:{cssPropBits:5,cssLitGroup:[l[21],l[69]],cssFns:[]},"pitch-range":"border-bottom-left-radius","play-during":{cssPropBits:16,cssLitGroup:[l[52],l[70],l[71],l[74]],cssFns:[]},position:{cssPropBits:0,cssLitGroup:[l[23]],cssFns:[]},quotes:{cssPropBits:8,cssLitGroup:[l[71]],cssFns:[]},resize:{cssPropBits:0,cssLitGroup:[l[39],l[54],l[71]],cssFns:[]},richness:"border-bottom-left-radius",right:"bottom",speak:{cssPropBits:0,cssLitGroup:[l[71],l[72],l[78]],cssFns:[]},"speak-header":{cssPropBits:0,cssLitGroup:[l[51],l[73]],cssFns:[]},"speak-numeral":{cssPropBits:0,cssLitGroup:[l[35]],cssFns:[]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[l[58],l[71]],cssFns:[]},"speech-rate":{cssPropBits:5,cssLitGroup:[l[14],l[69]],cssFns:[]},stress:"border-bottom-left-radius","table-layout":{cssPropBits:0,cssLitGroup:[l[52],l[61]],cssFns:[]},"text-align":{cssPropBits:0,cssLitGroup:[l[42],l[56],l[66]],cssFns:[]},"text-decoration":{cssPropBits:0,cssLitGroup:[l[19],l[71]],cssFns:[]},"text-indent":"border-bottom-left-radius","text-overflow":{cssPropBits:8,cssLitGroup:[l[33]],cssFns:[]},"text-shadow":"box-shadow","text-transform":{cssPropBits:0,cssLitGroup:[l[26],l[71]],cssFns:[]},"text-wrap":{cssPropBits:0,cssLitGroup:[l[46],l[71],l[72]],cssFns:[]},top:"bottom",transform:{cssPropBits:0,cssLitGroup:[l[71]],cssFns:"matrix(),perspective(),rotate(),rotate3d(),rotatex(),rotatey(),rotatez(),scale(),scale3d(),scalex(),scaley(),scalez(),skew(),skewx(),skewy(),translate(),translate3d(),translatex(),translatey(),translatez()".split(",")},"transform-origin":"perspective-origin","transform-style":{cssPropBits:0,cssLitGroup:[l[37]],cssFns:[]},transition:{cssPropBits:1029,cssLitGroup:[l[10],l[48],l[50],l[71]],cssFns:["cubic-bezier()","steps()"]},"transition-delay":"animation-delay","transition-duration":"animation-delay","transition-property":{cssPropBits:1024,cssLitGroup:[l[48],l[50]],cssFns:[]},"transition-timing-function":"animation-timing-function","unicode-bidi":{cssPropBits:0,cssLitGroup:[l[30],l[72]],cssFns:[]},"vertical-align":{cssPropBits:5,cssLitGroup:[l[12],l[31]],cssFns:[]},visibility:"backface-visibility","voice-family":{cssPropBits:8,cssLitGroup:[l[27],l[48]],cssFns:[]},volume:{cssPropBits:1,cssLitGroup:[l[17],l[69]],cssFns:[]},"white-space":{cssPropBits:0,cssLitGroup:[l[22],l[72]],cssFns:[]},width:"min-height","word-break":{cssPropBits:0,cssLitGroup:[l[32],l[72],l[55]],cssFns:[]},"word-spacing":"letter-spacing","word-wrap":"overflow-wrap","z-index":"bottom",zoom:"line-height","cubic-bezier()":"animation-delay","steps()":{cssPropBits:5,cssLitGroup:[l[36],l[48]],cssFns:[]},"image()":{cssPropBits:18,cssLitGroup:[l[0],l[48]],cssFns:["rgb()","rgba()"]},"linear-gradient()":{cssPropBits:7,cssLitGroup:[l[0],l[31],l[42],l[48],l[79]],cssFns:["rgb()","rgba()"]},"radial-gradient()":{cssPropBits:7,cssLitGroup:[l[0],l[11],l[31],l[42],l[48],l[56],l[57]],cssFns:["rgb()","rgba()"]},"repeating-linear-gradient()":"linear-gradient()","repeating-radial-gradient()":"radial-gradient()","rgb()":{cssPropBits:1,cssLitGroup:[l[48]],cssFns:[]},"rgba()":"rgb()","rect()":{cssPropBits:5,cssLitGroup:[l[48],l[52]],cssFns:[]},"alpha()":{cssPropBits:1,cssLitGroup:[l[28]],cssFns:[]},"matrix()":"animation-delay","perspective()":"border-bottom-left-radius","rotate()":"border-bottom-left-radius","rotate3d()":"animation-delay","rotatex()":"border-bottom-left-radius","rotatey()":"border-bottom-left-radius","rotatez()":"border-bottom-left-radius","scale()":"animation-delay","scale3d()":"animation-delay","scalex()":"border-bottom-left-radius","scaley()":"border-bottom-left-radius","scalez()":"border-bottom-left-radius","skew()":"animation-delay","skewx()":"border-bottom-left-radius","skewy()":"border-bottom-left-radius","translate()":"animation-delay","translate3d()":"animation-delay","translatex()":"border-bottom-left-radius","translatey()":"border-bottom-left-radius","translatez()":"border-bottom-left-radius"};for(e in u)"string"===typeof u[e]&&Object.hasOwnProperty.call(u,e)&&(u[e]=u[u[e]]);"undefined"!==typeof window&&(window.cssSchema=u),function(){function e(e){var t=parseInt(e.substring(1),16);return 65535<t?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):t==t?String.fromCharCode(t):" ">e[1]?"":e[1]}function i(e,t){return'"'+e.replace(/[\u0000-\u001f\\\"<>]/g,t)+'"'}function a(e){return o[e]||(o[e]="\\"+e.charCodeAt(0).toString(16)+" ")}function r(e){return s[e]||(s[e]=("">e?"%0":"%")+e.charCodeAt(0).toString(16))}var o={"\\":"\\\\"},s={"\\":"%5c"},l=RegExp("\\uFEFF|U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?|url[(][\\t\\n\\f ]*(?:\"(?:'|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*\"|'(?:\"|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*'|(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*)[\\t\\n\\f ]*[)]|(?!url[(])-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*[(]|(?:@?-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))|#)(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*|\"(?:'|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*\"|'(?:\"|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*'|[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)(?:%|-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*)?|\x3c!--|--\x3e|[\\t\\n\\f ]+|/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)|[~|^$*]=|[^\"'\\\\/]|/(?![/*])","gi"),u=RegExp("\\\\(?:(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff])|[\\n\\f])","g"),c=RegExp("^url\\([\\t\\n\\f ]*[\"']?|[\"']?[\\t\\n\\f ]*\\)$","gi");n=function(t){return t.replace(u,e)},t=function(e){e=(""+e).replace(/\r\n?/g,"\n").match(l)||[];for(var t=0,o=" ",s=0,u=e.length;s<u;++s){var d=n(e[s]),h=d.length,f=d.charCodeAt(0);d=34==f||39==f?i(d.substring(1,h-1),a):47==f&&1<h||"\\"==d||"--\x3e"==d||"\x3c!--"==d||"\ufeff"==d||32>=f?" ":/url\(/i.test(d)?"url("+i(d.replace(c,""),r)+")":d;o==d&&" "==d||(e[t++]=o=d)}return e.length=t,e}}(),"undefined"!==typeof window&&(window.lexCss=t,window.decodeCss=n);var c=function(){function e(e){return e=(""+e).match(d),e?new s(l(e[1]),l(e[2]),l(e[3]),l(e[4]),l(e[5]),l(e[6]),l(e[7])):o}function t(e,t){return"string"==typeof e?encodeURI(e).replace(t,n):o}function n(e){return e=e.charCodeAt(0),"%"+"0123456789ABCDEF".charAt(e>>4&15)+"0123456789ABCDEF".charAt(15&e)}function a(e){if(e===o)return o;e=e.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/");for(var t,n=u;(t=e.replace(n,"$1"))!=e;e=t);return e}function r(e,t){var n=e.T(),i=t.K();i?n.ga(t.j):i=t.X(),i?n.da(t.n):i=t.Y(),i?n.ea(t.k):i=t.$();var r=t.g,o=a(r);if(i)n.ca(t.V()),o=o&&o.replace(c,"");else if(i=!!r){if(47!==o.charCodeAt(0)){o=a(n.g||"").replace(c,"");var s=o.lastIndexOf("/")+1;o=a((s?o.substring(0,s):"")+a(r)).replace(c,"")}}else o=o&&o.replace(c,""),o!==r&&n.G(o);return i?n.G(o):i=t.aa(),i?n.O(t.l):i=t.Z(),i&&n.fa(t.o),n}function s(e,t,n,i,a,r,o){this.j=e,this.n=t,this.k=n,this.h=i,this.g=a,this.l=r,this.o=o}function l(e){return"string"==typeof e&&0<e.length?e:o}var u=RegExp(/(\/|^)(?:[^./][^/]*|\.{2,}(?:[^./][^/]*)|\.{3,}[^/]*)\/\.\.(?:\/|$)/),c=/^(?:\.\.\/)*(?:\.\.$)?/;s.prototype.toString=function(){var e=[];return o!==this.j&&e.push(this.j,":"),o!==this.k&&(e.push("//"),o!==this.n&&e.push(this.n,"@"),e.push(this.k),o!==this.h&&e.push(":",this.h.toString())),o!==this.g&&e.push(this.g),o!==this.l&&e.push("?",this.l),o!==this.o&&e.push("#",this.o),e.join("")},s.prototype.T=function(){return new s(this.j,this.n,this.k,this.h,this.g,this.l,this.o)},s.prototype.W=function(){return this.j&&decodeURIComponent(this.j).toLowerCase()},s.prototype.ga=function(e){this.j=e||o},s.prototype.K=function(){return o!==this.j},s.prototype.da=function(e){this.n=e||o},s.prototype.X=function(){return o!==this.n},s.prototype.ea=function(e){this.k=e||o,this.G(this.g)},s.prototype.Y=function(){return o!==this.k},s.prototype.V=function(){return this.h&&decodeURIComponent(this.h)},s.prototype.ca=function(e){if(e){if(e=Number(e),e!==(65535&e))throw Error("Bad port number "+e);this.h=""+e}else this.h=o},s.prototype.$=function(){return o!==this.h},s.prototype.U=function(){return this.g&&decodeURIComponent(this.g)},s.prototype.G=function(e){e?(e=""+e,this.g=!this.k||/^\//.test(e)?e:"/"+e):this.g=o},s.prototype.O=function(e){this.l=e||o},s.prototype.aa=function(){return o!==this.l},s.prototype.ba=function(e){if("object"===i(e)&&!(e instanceof Array)&&(e instanceof Object||"[object Array]"!==Object.prototype.toString.call(e))){var t,n=[],a=-1;for(t in e){var r=e[t];"string"===typeof r&&(n[++a]=t,n[++a]=r)}e=n}n=[],a="";for(var o=0;o<e.length;)t=e[o++],r=e[o++],n.push(a,encodeURIComponent(t.toString())),a="&",r&&n.push("=",encodeURIComponent(r.toString()));this.l=n.join("")},s.prototype.fa=function(e){this.o=e||o},s.prototype.Z=function(){return o!==this.o};var d=/^(?:([^:/?#]+):)?(?:\/\/(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,h=/[#\/\?@]/g,f=/[\#\?]/g;return s.parse=e,s.create=function(e,i,a,r,l,u,c){return e=new s(t(e,h),t(i,h),"string"==typeof a?encodeURIComponent(a):o,0<r?r.toString():o,t(l,f),o,"string"==typeof c?encodeURIComponent(c):o),u&&("string"===typeof u?e.O(u.replace(/[^?&=0-9A-Za-z_\-~.%]/g,n)):e.ba(u)),e},s.N=r,s.ma=a,s.ha={ua:function(t){return/\.html$/.test(e(t).U())?"text/html":"application/javascript"},N:function(t,n){return t?r(e(t),e(n)).toString():""+n}},s}();"undefined"!==typeof window&&(window.URI=c);var d,h,f=a,p=a,m=a,g=a;(function(){function e(e){return"string"===typeof e?'url("'+e.replace(b,t)+'")':'url("about:blank")'}function t(e){return A[e]}function l(e,t){return e?c.ha.N(e,t):t}function h(e,t,n){if(!n)return o;var i=(""+e).match(w);return!i||i[1]&&!x.test(i[1])?o:n(e,t)}function y(e){return e.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/,"")}var b=/[\n\f\r\"\'()*<>]/g,A={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"},w=/^(?:([^:/?# ]+):)?/,x=/^(?:https?|mailto|data)$/i;f=function(){var t={};return function a(r,o,s,c,d){r=y(r);var f=u[r];if(f&&"object"===i(f)){for(var p=f.cssPropBits,m=80&p,g=1536&p,v=NaN,b=0,A=0;b<o.length;++b){var w,x,C,k,S,T,N=o[b].toLowerCase(),I=N.charCodeAt(0);if(32===I)N="";else if(34===I)N=16===m?s?e(h(l(c,n(o[b].substring(1,N.length-1))),r,s)):"":8&p&&!(m&m-1)?N:"";else if("inherit"!==N){if(S=f.cssLitGroup){var D;if(!(D=f.cssLitMap)){D={};for(var P=S.length;0<=--P;)for(var L=S[P],O=L.length;0<=--O;)D[L[O]]=t;D=f.cssLitMap=D}S=D}else S=t;if(T=S,T[y(N)]!==t)if(35===I&&/^#(?:[0-9a-f]{3}){1,2}$/.test(N))N=2&p?N:"";else if(48<=I&&57>=I)N=1&p?N:"";else if(w=N.charCodeAt(1),x=N.charCodeAt(2),C=48<=w&&57>=w,k=48<=x&&57>=x,43===I&&(C||46===w&&k))N=1&p?(C?"":"0")+N.substring(1):"";else if(45===I&&(C||46===w&&k))N=4&p?(C?"-":"-0")+N.substring(1):1&p?"0":"";else if(46===I&&C)N=1&p?"0"+N:"";else if('url("'===N.substring(0,5))N=s&&16&p?e(h(l(c,o[b].substring(5,N.length-2)),r,s)):"";else if("("===N.charAt(N.length-1))e:{for(S=o,D=b,N=1,P=D+1,I=S.length;P<I&&N;)L=S[P++],N+=")"===L?-1:/^[^"']*\($/.test(L);if(!N)for(N=S[D].toLowerCase(),I=y(N),S=S.splice(D,P-D,""),D=f.cssFns,P=0,L=D.length;P<L;++P)if(D[P].substring(0,I.length)==I){S[0]=S[S.length-1]="",a(D[P],S,s,c),N=N+S.join(" ")+")";break e}N=""}else N=g&&/^-?[a-z_][\w\-]*$/.test(N)&&!/__$/.test(N)?d&&512===g?o[b]+d:1024===g&&u[N]&&"number"===typeof u[N].oa?N:"":/^\w+$/.test(N)&&64===m&&8&p?v+1===A?(o[v]=o[v].substring(0,o[v].length-1)+" "+N+'"',""):(v=A,'"'+N+'"'):""}N&&(o[A++]=N)}1===A&&'url("about:blank")'===o[0]&&(A=0),o.length=A}else o.length=0}}();var C=RegExp("^(active|after|before|blank|checked|default|disabled|drop|empty|enabled|first|first-child|first-letter|first-line|first-of-type|fullscreen|focus|hover|in-range|indeterminate|invalid|last-child|last-of-type|left|link|only-child|only-of-type|optional|out-of-range|placeholder-shown|read-only|read-write|required|right|root|scope|user-error|valid|visited)$"),k={};k[">"]=k["+"]=k["~"]=k,p=function(e,t,n){function i(i,a){function l(n,i,a){var o,l,u,h,p,m=r;o="",n<i&&(p=e[n],"*"===p?(++n,o=p):/^[a-zA-Z]/.test(p)&&(l=d(p.toLowerCase(),[]))&&("tagName"in l&&(p=l.tagName),++n,o=p));for(h=u=l="";m&&n<i;++n)if(p=e[n],"#"===p.charAt(0))/^#_|__$|[^\w#:\-]/.test(p)?m=s:l+=p+c;else if("."===p)++n<i&&/^[0-9A-Za-z:_\-]+$/.test(p=e[n])&&!/^_|__$/.test(p)?l+="."+p:m=s;else if(n+1<i&&"["===e[n]){++n;var g,y=e[n++].toLowerCase();p=v.m[o+"::"+y],p!==+p&&(p=v.m["*::"+y]),t.ia?(g=t.ia(o,y),"string"!==typeof g&&(m=s,g=y),m&&p!==+p&&(p=v.d.NONE)):(g=y,p!==+p&&(m=s));var b=y="",A=s;switch(/^[~^$*|]?=$/.test(e[n])&&(y=e[n++],b=e[n++],/^[0-9A-Za-z:_\-]+$/.test(b)?b='"'+b+'"':"]"===b&&(b='""',--n),/^"([^\"\\]|\\.)*"$/.test(b)||(m=s),(A="i"===e[n])&&++n),"]"!==e[n]&&(++n,m=s),p){case v.d.CLASSES:case v.d.LOCAL_NAME:case v.d.NONE:break;case v.d.GLOBAL_NAME:case v.d.ID:case v.d.IDREF:"="!==y&&"~="!==y&&"$="!==y||'""'==b||A?"|="===y||""===y||(m=s):b='"'+b.substring(1,b.length-1)+c+'"';break;case v.d.URI:case v.d.URI_FRAGMENT:""!==y&&(m=s);break;default:m=s}m&&(u+="["+g.replace(/[^\w-]/g,"\\$&")+y+b+(A?" i]":"]"))}else{if(!(n<i&&":"===e[n]))break;if(p=e[++n],!C.test(p))break;h+=":"+p}return n!==i&&(m=s),m&&(n=(o+l).replace(/[^ .*#\w-]/g,"\\$&")+u+h+a)&&f.push(n),m}" "===e[i]&&++i,a-1!==i&&" "===e[a]&&--a;for(var f=[],p=i,m=r,g=i;m&&g<a;++g){var y=e[g];k[y]!==k&&" "!==y||(l(p,g,y)?p=g+1:m=s)}return l(p,a,"")||(m=s),m?(f.length&&(p=f.join(""),u!==o&&(p="."+u+" "+p),h.push(p)),r):!n||n(e.slice(i,a))}var a,l,u=t.na,c=t.L,d=t.Aa,h=[],f=0,p=0;for(a=0;a<e.length;++a)l=e[a],("("==l||"["==l?(++p,r):")"==l||"]"==l?(p&&--p,r):" "!=e[a]||!p&&k[e[a-1]]!==k&&k[e[a+1]]!==k)&&(e[f++]=e[a]);for(e.length=f,f=e.length,a=p=0;a<f;++a)if(","===e[a]){if(!i(p,a))return o;p=a+1}return i(p,f)?h:o},function(){var e=/^\w/,t=RegExp("^(?:(?:(?:(?:only|not) )?(?:all|aural|braille|embossed|handheld|print|projection|screen|speech|tty|tv)|\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))(?: and ?\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))*)(?: , (?:(?:(?:(?:only|not) )?(?:all|aural|braille|embossed|handheld|print|projection|screen|speech|tty|tv)|\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))(?: and ?\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))*))*$","i");g=function(n){n=n.slice();for(var i=n.length,a=0,r=0;r<i;++r){var o=n[r];" "!=o&&(n[a++]=o)}return n.length=a,n=n.join(" "),n.length?t.test(n)?e.test(n)?n:"not all , "+n:"not all":""}}(),function(){function e(e){var t,n=/^\s*[']([^']*)[']\s*$/,i=/^\s*url\s*[(]["]([^"]*)["][)]\s*$/,a=/^\s*url\s*[(][']([^']*)['][)]\s*$/,r=/^\s*url\s*[(]([^)]*)[)]\s*$/;return(t=/^\s*["]([^"]*)["]\s*$/.exec(e))||(t=n.exec(e))||(t=i.exec(e))||(t=a.exec(e))||(t=r.exec(e))?t[1]:o}function t(n,i,u,c,m,v,y){function b(){C=x.length&&x[x.length-1]===o}var A=a,w=y||[0],x=[],C=s;return d(i,{startStylesheet:function(){A=[]},endStylesheet:function(){},startAtrule:function(i,a){if(C)i=o;else if("@media"===i)A.push("@media"," ",g(a));else if("@keyframes"===i||"@-webkit-keyframes"===i){var r=a[0];1!==a.length||/__$|[^\w\-]/.test(r)?i=o:(A.push(i," ",r+u.L),i="@keyframes")}else if("@import"===i&&0<a.length)if(i=o,"function"===typeof v){var s=g(a.slice(1));if("not all"!==s){++w[0];var d=[];A.push(d);var f=h(l(n,e(a[0])),(function(e){var n=t(f,e.qa,u,c,m,v,w);--w[0],e=s?{toString:function(){return"@media "+s+" {"+n.result+"}"}}:n.result,d[0]=e,v(e,!!w[0])}),m)}}else window.console&&window.console.log("@import "+a.join(" ")+" elided");C=!i,x.push(i)},endAtrule:function(){x.pop(),C||A.push(";"),b()},startBlock:function(){C||A.push("{")},endBlock:function(){C||(A.push("}"),C=r)},startRuleset:function(e){if(!C){var t=a;"@keyframes"===x[x.length-1]?(t=e.join(" ").match(/^ *(?:from|to|\d+(?:\.\d+)?%) *(?:, *(?:from|to|\d+(?:\.\d+)?%) *)*$/i),C=!t,t&&(t=t[0].replace(/ +/g,""))):(e=p(e,u),e&&e.length?t=e.join(", "):C=r),C||A.push(t,"{")}x.push(o)},endRuleset:function(){x.pop(),C||A.push("}"),b()},declaration:function(e,t){if(!C){var i=s,a=t.length;2<=a&&"!"===t[a-2]&&"important"===t[a-1].toLowerCase()&&(i=r,t.length-=2),f(e,t,c,n,u.L),t.length&&A.push(e,":",t.join(" "),i?" !important;":";")}}}),{result:{toString:function(){return A.join("")}},va:!!w[0]}}m=function(e,n,i,r){return t(e,n,i,r,a,a).result.toString()}}()})(),"undefined"!==typeof window&&(window.sanitizeCssProperty=f,window.sanitizeCssSelectorList=p,window.sanitizeStylesheet=m,window.sanitizeMediaQuery=g),function(){function e(e,t,i,a,r){for(var o=t++;t<i&&"{"!==e[t]&&";"!==e[t];)++t;if(t<i&&(r||";"===e[t])){r=o+1;var s=t;r<i&&" "===e[r]&&++r,s>r&&" "===e[s-1]&&--s,a.startAtrule&&a.startAtrule(e[o].toLowerCase(),e.slice(r,s)),t="{"===e[t]?n(e,t,i,a):t+1,a.endAtrule&&a.endAtrule()}return t}function n(t,a,r,o){for(++a,o.startBlock&&o.startBlock();a<r;){var l=t[a].charAt(0);if("}"==l){++a;break}a=" "===l||";"===l?a+1:"@"===l?e(t,a,r,o,s):"{"===l?n(t,a,r,o):i(t,a,r,o)}return o.endBlock&&o.endBlock(),a}function i(e,t,n,i){var o=t,s=a(e,t,n,r);if(0>s)return s=~s,s===o?s+1:s;var u=e[s];if("{"!==u)return s===o?s+1:s;for(t=s+1,s>o&&" "===e[s-1]&&--s,i.startRuleset&&i.startRuleset(e.slice(o,s));t<n;){if(u=e[t],"}"===u){++t;break}t=" "===u?t+1:l(e,t,n,i)}return i.endRuleset&&i.endRuleset(),t}function a(e,t,n,i){for(var a,r=[],o=-1;t<n;++t)if(a=e[t].charAt(0),"["===a||"("===a)r[++o]=a;else if("]"===a&&"["===r[o]||")"===a&&"("===r[o])--o;else if("{"===a||"}"===a||";"===a||"@"===a||":"===a&&!i)break;return 0<=o&&(t=~(t+1)),t}function o(e,t,n){for(;t<n&&";"!==e[t]&&"}"!==e[t];)++t;return t<n&&";"===e[t]?t+1:t}function l(e,t,n,i){var r=e[t++];if(!u.test(r))return o(e,t,n);if(t<n&&" "===e[t]&&++t,t==n||":"!==e[t])return o(e,t,n);++t,t<n&&" "===e[t]&&++t;var l=a(e,t,n,s);if(0>l)l=~l;else{for(var c=[],d=0,h=t;h<l;++h)t=e[h]," "!==t&&(c[d++]=t);if(l<n){do{if(t=e[l],";"===t||"}"===t)break;d=0}while(++l<n);";"===t&&++l}d&&i.declaration&&i.declaration(r.toLowerCase(),c)}return l}d=function(n,a){var o=t(n);a.startStylesheet&&a.startStylesheet();for(var s=0,l=o.length;s<l;)s=" "===o[s]?s+1:s<l?"@"===o[s].charAt(0)?e(o,s,l,a,r):i(o,s,l,a):s;a.endStylesheet&&a.endStylesheet()};var u=/^-?[a-z]/i;h=function(e,n){for(var i=t(e),a=0,r=i.length;a<r;)a=" "!==i[a]?l(i,a,r,n):a+1}}(),"undefined"!==typeof window&&(window.parseCssStylesheet=d,window.parseCssDeclarations=h);var v={d:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13}};v.atype=v.d,v.m={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onerror":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::ontouchcancel":2,"*::ontouchend":2,"*::ontouchenter":2,"*::ontouchleave":2,"*::ontouchmove":2,"*::ontouchstart":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"audio::src":1,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0},v.ATTRIBS=v.m,v.c={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},v.eflags=v.c,v.f={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:4,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,var:0,video:0,wbr:2},v.ELEMENTS=v.f,v.Q={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},v.ELEMENT_DOM_INTERFACES=v.Q,v.P={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},v.ueffects=v.P,v.J={"a::href":2,"area::href":2,"audio::src":1,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1,"video::src":1},v.URIEFFECTS=v.J,v.M={UNSANDBOXED:2,SANDBOXED:1,DATA:0},v.ltypes=v.M,v.I={"a::href":2,"area::href":2,"audio::src":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1,"video::src":2},v.LOADERTYPES=v.I,"undefined"!==typeof window&&(window.html4=v);var y=function(e){function t(e){if(T.hasOwnProperty(e))return T[e];var t=e.match(N);return t?String.fromCharCode(parseInt(t[1],10)):(t=e.match(I))?String.fromCharCode(parseInt(t[1],16)):P&&D.test(e)?(P.innerHTML="&"+e+";",t=P.textContent,T[e]=t):"&"+e+";"}function n(e,n){return t(n)}function l(e){return e.replace(O,n)}function u(e){return(""+e).replace(E,"&amp;").replace(j,"&lt;").replace(B,"&gt;").replace(_,"&#34;")}function d(e){return e.replace(R,"&amp;$1").replace(j,"&lt;").replace(B,"&gt;")}function h(e){var t={z:e.z||e.cdata,A:e.A||e.comment,B:e.B||e.endDoc,t:e.t||e.endTag,e:e.e||e.pcdata,F:e.F||e.rcdata,H:e.H||e.startDoc,w:e.w||e.startTag};return function(e,n){var i,a=/(<\/|<\!--|<[!?]|[&<>])/g;if(i=e+"",F)i=i.split(a);else{for(var r,l=[],u=0;(r=a.exec(i))!==o;)l.push(i.substring(u,r.index)),l.push(r[0]),u=r.index+r[0].length;l.push(i.substring(u)),i=l}p(t,i,0,{r:s,C:s},n)}}function f(e,t,n,i,a){return function(){p(e,t,n,i,a)}}function p(t,n,i,a,o){try{t.H&&0==i&&t.H(o);for(var s,l,c,d=n.length;i<d;){var h=n[i++],p=n[i];switch(h){case"&":M.test(p)?(t.e&&t.e("&"+p,o,q,f(t,n,i,a,o)),i++):t.e&&t.e("&amp;",o,q,f(t,n,i,a,o));break;case"</":if(s=/^([-\w:]+)[^\'\"]*/.exec(p))if(s[0].length===p.length&&">"===n[i+1])i+=2,c=s[1].toLowerCase(),t.t&&t.t(c,o,q,f(t,n,i,a,o));else{var v=n,y=i,b=t,A=o,w=q,x=a,C=g(v,y);C?(b.t&&b.t(C.name,A,w,f(b,v,y,x,A)),i=C.next):i=v.length}else t.e&&t.e("&lt;/",o,q,f(t,n,i,a,o));break;case"<":if(s=/^([-\w:]+)\s*\/?/.exec(p))if(s[0].length===p.length&&">"===n[i+1]){i+=2,c=s[1].toLowerCase(),t.w&&t.w(c,[],o,q,f(t,n,i,a,o));var k=e.f[c];k&U&&(i=m(n,{name:c,next:i,c:k},t,o,q,a))}else{v=n,y=t,b=o,A=q,w=a;var S=g(v,i);S?(y.w&&y.w(S.name,S.R,b,A,f(y,v,S.next,w,b)),i=S.c&U?m(v,S,y,b,A,w):S.next):i=v.length}else t.e&&t.e("&lt;",o,q,f(t,n,i,a,o));break;case"\x3c!--":if(!a.C){for(l=i+1;l<d&&(">"!==n[l]||!/--$/.test(n[l-1]));l++);if(l<d){if(t.A){var T=n.slice(i,l).join("");t.A(T.substr(0,T.length-2),o,q,f(t,n,l+1,a,o))}i=l+1}else a.C=r}a.C&&t.e&&t.e("&lt;!--",o,q,f(t,n,i,a,o));break;case"<!":if(/^\w/.test(p)){if(!a.r){for(l=i+1;l<d&&">"!==n[l];l++);l<d?i=l+1:a.r=r}a.r&&t.e&&t.e("&lt;!",o,q,f(t,n,i,a,o))}else t.e&&t.e("&lt;!",o,q,f(t,n,i,a,o));break;case"<?":if(!a.r){for(l=i+1;l<d&&">"!==n[l];l++);l<d?i=l+1:a.r=r}a.r&&t.e&&t.e("&lt;?",o,q,f(t,n,i,a,o));break;case">":t.e&&t.e("&gt;",o,q,f(t,n,i,a,o));break;case"":break;default:t.e&&t.e(h,o,q,f(t,n,i,a,o))}}t.B&&t.B(o)}catch(u){if(u!==q)throw u}}function m(t,n,i,a,r,o){var s=t.length;z.hasOwnProperty(n.name)||(z[n.name]=RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));for(var l=z[n.name],u=n.next,c=n.next+1;c<s&&("</"!==t[c-1]||!l.test(t[c]));c++);if(c<s&&(c-=1),s=t.slice(u,c).join(""),n.c&e.c.CDATA)i.z&&i.z(s,a,r,f(i,t,c,o,a));else{if(!(n.c&e.c.RCDATA))throw Error("bug");i.F&&i.F(d(s),a,r,f(i,t,c,o,a))}return c}function g(t,n){var i=/^([-\w:]+)/.exec(t[n]),a={};a.name=i[1].toLowerCase(),a.c=e.f[a.name];for(var o=t[n].substr(i[0].length),u=n+1,c=t.length;u<c&&">"!==t[u];u++)o+=t[u];if(!(c<=u)){for(var d=[];""!==o;)if(i=V.exec(o))if(i[4]&&!i[5]||i[6]&&!i[7]){i=i[4]||i[6];var h=s;for(o=[o,t[u++]];u<c;u++){if(h){if(">"===t[u])break}else 0<=t[u].indexOf(i)&&(h=r);o.push(t[u])}if(c<=u)break;o=o.join("")}else{var f;h=i[1].toLowerCase();if(i[2]){f=i[3];var p=f.charCodeAt(0);34!==p&&39!==p||(f=f.substr(1,f.length-2)),f=l(f.replace(L,""))}else f="";d.push(h,f),o=o.substr(i[0].length)}else o=o.replace(/^[\s\S][^a-z\s]*/,"");return a.R=d,a.next=u+1,a}}function v(t){function n(e,t){l||t.push(e)}var r,l;return h({startDoc:function(){r=[],l=s},startTag:function(n,s,c){if(!l&&e.f.hasOwnProperty(n)){var d=e.f[n];if(!(d&e.c.FOLDABLE)){var h=t(n,s);if(h){if("object"!==i(h))throw Error("tagPolicy did not return object (old API?)");if(!("attribs"in h))throw Error("tagPolicy gave no attribs");var f;if(s=h.attribs,"tagName"in h?(f=h.tagName,h=e.f[f]):(f=n,h=d),d&e.c.OPTIONAL_ENDTAG){var p=r[r.length-1];p&&p.D===n&&(p.v!==f||n!==f)&&c.push("</",p.v,">")}for(d&e.c.EMPTY||r.push({D:n,v:f}),c.push("<",f),n=0,p=s.length;n<p;n+=2){var m=s[n],g=s[n+1];g!==o&&g!==a&&c.push(" ",m,'="',u(g),'"')}c.push(">"),d&e.c.EMPTY&&!(h&e.c.EMPTY)&&c.push("</",f,">")}else l=!(d&e.c.EMPTY)}}},endTag:function(t,n){if(l)l=s;else if(e.f.hasOwnProperty(t)){var i=e.f[t];if(!(i&(e.c.EMPTY|e.c.FOLDABLE))){if(i&e.c.OPTIONAL_ENDTAG)for(i=r.length;0<=--i;){var a=r[i].D;if(a===t)break;if(!(e.f[a]&e.c.OPTIONAL_ENDTAG))return}else for(i=r.length;0<=--i&&r[i].D!==t;);if(!(0>i)){for(a=r.length;--a>i;){var o=r[a].v;e.f[o]&e.c.OPTIONAL_ENDTAG||n.push("</",o,">")}i<r.length&&(t=r[i].v),r.length=i,n.push("</",t,">")}}}},pcdata:n,rcdata:n,cdata:n,endDoc:function(e){for(;r.length;r.length--)e.push("</",r[r.length-1].v,">")}})}function y(e,t,n,i,a){if(!a)return o;try{var r=c.parse(""+e);if(r&&(!r.K()||Q.test(r.W()))){var s=a(r,t,n,i);return s?s.toString():o}}catch(O){}return o}function b(e,t,n,i,a){if(n||e(t+" removed",{S:"removed",tagName:t}),i!==a){var r="changed";i&&!a?r="removed":!i&&a&&(r="added"),e(t+"."+n+" "+r,{S:r,tagName:t,la:n,oldValue:i,newValue:a})}}function A(e,t,n){return t=t+"::"+n,e.hasOwnProperty(t)?e[t]:(t="*::"+n,e.hasOwnProperty(t)?e[t]:void 0)}function w(t,n,i,r,s){for(var l=0;l<n.length;l+=2){var u,c=n[l],d=n[l+1],h=d,f=o;if(u=t+"::"+c,(e.m.hasOwnProperty(u)||(u="*::"+c,e.m.hasOwnProperty(u)))&&(f=e.m[u]),f!==o)switch(f){case e.d.NONE:break;case e.d.SCRIPT:d=o,s&&b(s,t,c,h,d);break;case e.d.STYLE:if("undefined"===typeof k){d=o,s&&b(s,t,c,h,d);break}var p=[];k(d,{declaration:function(t,n){var a=t.toLowerCase();S(a,n,i?function(t){return y(t,e.P.ja,e.M.ka,{TYPE:"CSS",CSS_PROP:a},i)}:o),n.length&&p.push(a+": "+n.join(" "))}}),d=0<p.length?p.join(" ; "):o,s&&b(s,t,c,h,d);break;case e.d.ID:case e.d.IDREF:case e.d.IDREFS:case e.d.GLOBAL_NAME:case e.d.LOCAL_NAME:case e.d.CLASSES:d=r?r(d):d,s&&b(s,t,c,h,d);break;case e.d.URI:d=y(d,A(e.J,t,c),A(e.I,t,c),{TYPE:"MARKUP",XML_ATTR:c,XML_TAG:t},i),s&&b(s,t,c,h,d);break;case e.d.URI_FRAGMENT:d&&"#"===d.charAt(0)?(d=d.substring(1),d=r?r(d):d,d!==o&&d!==a&&(d="#"+d)):d=o,s&&b(s,t,c,h,d);break;default:d=o,s&&b(s,t,c,h,d)}else d=o,s&&b(s,t,c,h,d);n[l+1]=d}return n}function x(t,n,i){return function(r,o){if(!(e.f[r]&e.c.UNSAFE))return{attribs:w(r,o,t,n,i)};i&&b(i,r,a,a,a)}}function C(e,t){var n=[];return v(t)(e,n),n.join("")}var k,S;"undefined"!==typeof window&&(k=window.parseCssDeclarations,S=window.sanitizeCssProperty);var T={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:" "},N=/^#(\d+)$/,I=/^#x([0-9A-Fa-f]+)$/,D=/^[A-Za-z][A-za-z0-9]+$/,P="undefined"!==typeof window&&window.document?window.document.createElement("textarea"):o,L=/\0/g,O=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,M=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,E=/&/g,R=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,j=/[<]/g,B=/>/g,_=/\"/g,V=/^\s*([-.:\w]+)(?:\s*(=)\s*((")[^"]*("|$)|(')[^']*('|$)|(?=[a-z][-\w]*\s*=)|[^"'\s]*))?/i,F=3==="a,b".split(/(,)/).length,U=e.c.CDATA|e.c.RCDATA,q={},z={},Q=/^(?:https?|mailto|data)$/i,$={};return $.pa=$.escapeAttrib=u,$.ra=$.makeHtmlSanitizer=v,$.sa=$.makeSaxParser=h,$.ta=$.makeTagPolicy=x,$.wa=$.normalizeRCData=d,$.xa=$.sanitize=function(e,t,n,i){return C(e,x(t,n,i))},$.ya=$.sanitizeAttribs=w,$.za=$.sanitizeWithPolicy=C,$.Ba=$.unescapeEntities=l,$}(v),b=y.sanitize;"undefined"!==typeof window&&(window.html=y,window.html_sanitize=b)}()},"1f60":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAAqCAYAAAB8108TAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAeqADAAQAAAABAAAAKgAAAACeDVmCAAANi0lEQVR4Ae2bC7CXYx7Hne7YQ1qXrJQurFumwi5LRkxuuYQRFm0XlwbpgmaXZatla8zm0gxW21grduzaSFi0ZJMkibIqIhWZXbScotL17Of79j7v/v6///v+z///P+eQ2fOb+fb87s/tfZ/3eZ7/qWKHEqi6uro57ju7kHUVFRVfO11RIvla4NjIOW8k32anSxWJb4KhmTFWE7veyNsFG4/blmL7VVOjyfd9fDQXlj4vNA8aqFKoDc6LQVMT9Dx8TyOXwt6K83AX8Bfk850uSxyM4XZjXA3f0si1YhlQPdS7FInKAn6aFI2RxiqPqGd/lDc4w1tM3B1OF8QrYUYHIS7l68cycamgku5IGrBi6QQc9URZmoKwySocX4X8MniIxm8NNupuB78UNA46yi2gI34rjC6VJX4YhpyJJq6oiSZ2BLEa4KyJ1MTZdiHWinrStqyJnkjmgS77WfhPdbpIpO0a/4/Ajsa+Br4NMV8aXcLqjdZgn5doymN6FxF2GT59aeQpNGaz/ClXIE+G7SM5Jg3uEJD5dAbHWpaXEH9oLXPUOpz+700StcXSm5pkbL9BeZw1GF4vlp1oPbCzidFL5WloqUu3T1CqfCIBWnbGm8Bx8HaiZRpIg0fSWT2l3xXSwKu9+nyo9HzWCqWH2u4zEJNl+SD4Y6Qokg7J8GuZNdEa/K8ygkpRt8b5UqC3NJAme3wQmMzXmNRZyLZDejq1Aqgd9UnVJF8LwsTYsi36IzIqfwb9r8EqEE0o/Sh5Q0q/1c9BwNJ8hCesoi74rIm+jYZ/mlYBjTsN/VnOdjP+nzhdJOLfCUaTG8h/36VXTnXaUskDZ4OL4I/GRyeGZM+gGNrblEIbozMkO/oceRgxDzp9ueLlBO7qgkeTXw+g6B6gh+p6oHEMpO/wdUEoolysiV4G/uScCw1yN3zVQEt681InGv1TzrYkBDKolfDhbbcryHo6u0F++DxAkTboMut4ZmkX/P9jFY4/kbx6Y7Q/sPVFbsQeAXM/6Bwpcv+ZjHgVcVn9zPWuQaIuPVBDndsC5ClBR11/x08riybc0iRsE6yiJr4JAVo2Z5GwB2VY47Vpyoo9KsVwMf6pKwC+2njNjmOmUN9KEz8dXoPraTiKO2JlJWUr75AhV9Tgqwc7j2i7HphR4FoQHjzv1wtFr5Rx0dI9gn790QfUIF+EfR/n8zTyT+I63iGnHtorgW/TvS4uEok7HWaAsY0ihx6e/xFO94H6JruE622dm1HhsNAy7JMzfMpR5z1UJDkWvFtOMmKeAm1CW4stidGxdiHIovUY9gQ7glXO6aWsevA70PneFXxTn/Bg3E7KEbRjbEZbforeLn9ajnXOz6JFwcCA6DJkDLgaaCUohbQJG8LbEn3yyKVVp4NLsBz7aqcLolaHg4OQUmpp/pS8A7H5Pc2/0PsNnE1RhdAyVvTBV3uKrYUmWoM212aI+f0o2zv9HOR1TrcT8o+dzot6w9UG7RP8ZizypZG6UBHyiE4c65S6Zkxrs3OLRE3MczG8/XAUNwB/zSi/R8A11POZhJg2UWrS7eS9QPt0SZL2DewU+ytcD8kZYmKS/7iYHxyUpuwDLxRDrXHqAV5InGmUX7rnJ0bD4PdL4OkA4xKxOBzgnZBzlu4Qg77K+SZLd/BJK4kZ5uL0NJdN5GoBxoLNLq/ElcBOSE492LqBjcDS0BynFAHn620A/FS5UR7n9OWKE5Wv0Bvdisx95eSoq5Ml9sb3306vp+k7Q7S/O43VoOQ9tHEn3qPURY6W0yz6AsOexjgG/2m81YuMLmGxacXQxtPSb2Phh5SPxvwhlHa10FjPjG17UR4X8yr0WdGpKewdzqGeK2WICMG/0ajqnLa7N5oeVoK7wdY67+22hPModJTKI/SDXJ36BOYRPpOc3z3BCf1JzjYDuSVoY9CkUQj4fywZiFPp90KgJ77UDVmxQ9YNx5Hembq1mo5w+vA2O/UOfhV90ztYmRWkCqw02Fxo6V5HcFrCfdHrEG/pDYT1VgG/I1Ant0tioHUfcBp4osgGdsHPb/6WoJtWRPzO1FfJwOtGK9AFMHZTq/FuhN+5scM8/Jcjt0A+MNaFIm1egq1wSUK/dNd2M6bNiaftceluTiN3N2iZNlLY/cZPfXvI+iI3BTZXK2sPPD46R78NClG0F8DhSOe0CVmTHxF83tIdbLYs9EbvRZKfW+eYtx/+YL4CX3vc0CehdzCaUpuV7Y3upEGDTKMmwF9h5FLY3XBeCcI3mWGp1m/rOj5aOhNBG6xiyC/bi8mnzVZJVGiiW5NpTJHZ/M4xLUw/CLydZvi2dEyCPi8Xuvp/7+QgNg5MVskE6JLjSeznxD767g8AN8VyKLRTTjZUQenKxbHsJ7qmZTt1r1Fool29tRJ1oTCIgdiYkSX6AcPY7LfLqOucPY+Mu5qs82nj60Fm0jrBa1J2AhcFvSnT+qMjWphoufYnz0jybglx8Fo1iqVSJ/pw6utB8hVxBZup70M70Qsw6GmsiXTO1BnP0nSEtVYR81spdf7UnxApfxbJ1tMYB9PY45G1QemjhhpbXbKXumTJ20z9mtyXwN7Ox4ppfdJt20oQzrH7wJ8C9INFROSeBuPHMLYmxQi4v4LDEs02xr/RWiktqd2aj0CTYPoGoeiSRhZ1M1Z0QhzJqV9s0m6jZhTKQ4zfIFUV8rc2Yv3N3Vp0ydsNfyMoRCsw7mJzBh79aBf4eLCpxPZPZ08TdTlzsDPorJ+0Mc7VDN17zs+KXeSnTdO3Tryxr9CI48E/wGqgzYZwOyhEWg6DbygL+VtbtKs1ikdph+rWROxOoTcqjXREmgK6478mzQHd/cDecZ9OTn0CSqWuLmBZaGPQI+vzcSZ4GWwO+rh8Eft88RXO0CAyAkyKXoBmGYOxgcGzk5jhlq0mv3LX9JJtijOEHbzErfHExqbcgrzaMFp/fZ/95OcGNUgNI9AwAg0j0DACDSPQMAINI9AwAvU/Aqm7bnZvOuy3BQvYteVdhGBvja09ttm2iegrkTsD3TDpsiMi9IfChDOndoE6Jti78W2O/IuvjiEdbG50h6H7XuKUy6zGd2GuKlsi1/5Yu4E5xC33nthl0+42OpZYO7ajkPUT4DtOr4sn2XYDM7DnHLuI06VJO5BFc4mJdtn4amw7ZDgm84GfdtdHgk+Jfd/7Y9fcqk1fYM9pb+KL0zQgGpIoDYNeN1d513/ojgYiTUxCyDPBFrAhLimql4NeiVPMoNMPJFutHnkOUKygS4OQS/Lz1jeLx687UJ36C8sPgEgXDRqshJCvA6rj6EQJg9wPiHLajDwSrAG65xb069LTQDdUEcGPAKH94WIoyCr3ML4aW5G1B14PYUTYW0de2/qUdw+P7ZTYnn7bibEt0EC+At4KiW2JvpyJflg5iG0MOoLxQNTD5c6baGd/hpjJVlcMT8wiMB1Eg0KpX+feBQtsvOzgVaDbq+hMSrkH0J/dPuh8D0EnGiw9pX5+1M+GelButL6BRz8AiFLP0ehTxzbEhxK/MNHKdU7QhxKdxkkUTXRaZf1x/gjop7vOOOY88SFRuSXLiP5Scym4hhzPglHl5ioxTsvql6pfcZSfUPQDj9HH5I2I7QPQa4m/DojGAS2tQyUYahXzX6gkVv8RX/fYl4Ol0n0D9DF15LSL/uge/WQgW0T6tiSEg9b1fkB/V/wWsr5T6vRcUB/0N5LeUh+JU3KORXcnfdJV4SNgMn3UHiNnn4GsCdPbPxr2ZkpN4iXgbPSfU1qag/AimIiffrjQjxDP4jeRsjakvzTp4xLo/4k95XQS7wW34N8V+5uxXS+R+lUVy3nXcCdi2A88GDuovJAk+t22PmgVSfX/pVrUR3Kbk0G4C7kr0ABcC/Tnu8+Bg+DT6DaUi4AG8s/ET/FO6LRPOQlcCPTSTAL6TuuBag5fLmmFGePwi4xkC9G/AKK3mnpbwv8MjAcJNUq4bcwAijXgMgLUUW2qdgXnAktaxvQt850JG5BoB2kDMvh90X/CgH2dYa8TNe1UW7Vr1671etAe/kdA7Z2BbWfKHMJHp4PRsfLmHGMsxP1vhu/j4ALU+jFEy/bF4D5QLm0in/4yxeKYAsk0qRfQHp1YBgK9yTn7mGSicdI37GzwGtAuMOwEl8Ar2NL7CIo9wSrhewLtmJc5fZ5IfXoD+oEZeca6V3Qg5ZdgQEjNIM6DHw7Uzy5B78rwAIbSmaOVQZs0DbCWfP3goc/CH4De9G+KtKTre3wVuBrcSzv0oCakwQ50EYwm73yckm8RndCy9DClnq6wwZiF7gMwCn0l5evgVKAlQz/3pQ1MK3wPx67PQEeg78g+4HRQr0R7dIyaTyU3UWrF0sOst1rL4XrwLiiHphL0K/A78urTsByoj/3Bq6Bc0u5deTx9SF8+80p02uXfjX4s2AImeJ9ExvEN8FiiiBl0+h99OifeYm3I2pHPBoF0JHsItLJ+4tHNDE6UOkcuAZNAmxTf+jpetaM+te9jIKoCU4FWoVTCdjIQtU11QIntLKB7B/3hgmgp0OasdVoM+mKOV7ilkt7YiLCG41VvKZD1R/tfgQcih206neefDHKtShJpM9UJNKtVom8wmLbuCxrXZZXqP/hBXeZsyNUwAiWPwH8B+AVeeVM8eFoAAAAASUVORK5CYII="},"1f9b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAqCAYAAADI3bkcAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALKADAAQAAAABAAAAKgAAAABzLhIDAAADOElEQVRYCe1YS2sUQRDuXvPEqBAM+H4fPGQJmKugIOjuwYugouLN4EVBUIN/wZCzCUEUjF48eAlBPQjeFUTiQYL4QiKirgSMUZc4fl87PeyMM9me7h5BSEFtdVdXf/VtTU93MyLwI0PiH4kkXw+5vgJji5TyswesRSFKi46aD3Yh9Jx5uH2krwqTwSx0M6pMW5j4qjAJroKeKYxpCOyzwoTkGmaV50J878Y3YRK8CMLDQfXYHhEsbPTN2OeS0NzOY+PpEC0rHglZqmunL1sE4TUgNyAnxr4JGTzxRVTjFLEkiP0Ouh1aF9Wj+2F7oH7Ez0GXijLgh2EcpagKM8sb6JV4OvdekYTd2aUgFPHSpaTx51oi7K+W6UhLFU6viz9vERW+DHq7Q2XbqxSxrZVx+XlGljhOemGmfDJ2rfBNkDkM/RKS4rVyPmzTsK2vmoxhLOfYS+qhaua8hjDJzLD90LPQziQT+sKx/jC2hP51qJW4LIkePPpPSYImfTBdjbiPJrHJGJclMYLELUnAZv1wzkizuKxxlwoTs4Iq39fgwaETG8T3+pAIxF7lk+Kh6GgdlHdu8bqpBIQPoHEv7OY2LoRfItsOEFbfNRTZ+fpT+LoTLGqis7VPkwZhrvsX0G2JOKNu7kcK1KtQEnuuyapMrOzfZDnUraouxHF2OAdyGs2d0D7oKaix2FS4C0n1VhUlCqpHZtBZGznijffy7u11cZfaXZbDx69GxmLz0v0yRm8emBvLhvD6VB58wbIkeywdKwsHfhvCU1iDM9AbMVzsBujXYr4/nRp3ikY/5o4TA77cx7bNGta5f6DBrzwftCM4eHKrWPg5jKNvn/JJ+UAsa7sgJ8ZfRTFBwM8Ar6Ht2pfL4p/ayhwm7sqVDMGYw2Occ62EALZSyUtWxyNhxTapzRrWeaP1iuRcWm16IGk5xpgGfzS3wWfUdCE8CRLlkMgosk2jfQnKj9tK2KYPnWnoKNr8Y2W0J1WAzQ8AXGQWkx8nAHhpVwJ/b2KMsZxjLTZHs+ZDuxKq7rkNTp5eWqJqh45krI4zti7bWlaStxjQ+ysf/6asQBt/EYRteBjPcXnpjJP4DPzvCP8G3+zFeRtDlaIAAAAASUVORK5CYII="},"1fc0":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9bb80")),r=n("d908"),o=(n("c24f"),{mixins:[a.default],data:function(){return{tableData:[],attrName:"11",currentPage:1,pageSize:20,total:0,isShowNewCard:!1,searchVal:"",tableOptions:{columnDefs:[{headerName:"",checkboxSelection:!0,headerCheckboxSelection:!0,width:50,pinned:"left"},{headerName:"业务属性编码",field:"attrName",filter:"agTextColumnFilter",pinned:"left"},{headerName:"业务属性名称",field:"attrName"},{headerName:"项目状态",field:"age",filter:"agNumberColumnFilter"},{headerName:"描述",field:"describe",filter:"agNumberColumnFilter"}]}}},computed:{selectedRowVal:function(){return 4}},created:function(){this.init()},methods:{progressBar:function(e){return this.$tool.setTableCellRender(e)},init:function(){var e=this,t={currentPage:this.currentPage,pageSize:this.pageSize,attrName:this.attrName};(0,r.listByPage)(t).then((function(t){e.total=t.data.total,e.tableData=t.data.records}))},keydown:function(){}}});t.default=o},"1fc4":function(e,t,n){"use strict";n.r(t);var i=n("ce42"),a=n("b8ad");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("8a0d");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"22390576",null);t["default"]=s.exports},"1ffa":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"itxst"},[n("el-dialog",{attrs:{title:"查询条件设置",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?n("myQueryBuilder",{ref:"myquerybuilder",attrs:{columns:e.queryData,data:e.queryJson},on:{queryconditionchangetable:e.queryConditionChangeTable}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.queryCondition}},[e._v("查 询")])],1)],1),e.myFlag?n("el-row",[n("div",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn export-2",attrs:{disabled:e.modelRunResultBtnIson.exportBtn,type:"primary"},on:{click:e.exportExcel}}),n("el-button",{staticClass:"oper-btn chart",staticStyle:{display:"none"},attrs:{disabled:e.modelRunResultBtnIson.chartDisplayBtn,type:"primary"}}),n("el-button",{staticClass:"oper-btn refresh",staticStyle:{display:"none"},attrs:{disabled:e.modelRunResultBtnIson.associatedBtn,type:"primary"},on:{click:e.getValues}}),n("el-button",{staticStyle:{display:"none"},attrs:{disabled:e.modelRunResultBtnIson.disassociateBtn,type:"primary"},on:{click:function(t){return e.removeRelated("dc99c210a2d643cbb57022622b5c1752")}}},[e._v("移除关联")]),n("el-button",{staticClass:"oper-btn search",attrs:{disabled:!1,type:"primary"},on:{click:e.queryConditionSetting}}),e._v(" > "),n("el-button",{staticClass:"oper-btn again-2",attrs:{disabled:!1,type:"primary"},on:{click:e.reSet}}),e.modelDetailButtonIsShow?n("el-button",{staticClass:"oper-btn link",attrs:{disabled:e.modelRunResultBtnIson.modelDetailAssBtn,type:"primary"},on:{click:e.openModelDetail}}):e._e()],1)]):e._e(),e.modelResultButtonIsShow?n("el-row",{staticStyle:{display:"flex"}},[n("downloadExcel",{attrs:{data:e.tableData,fields:e.json_fields,name:e.excelName}},[n("el-button",{staticClass:"oper-btn export-3",attrs:{type:"primary"},on:{click:e.modelResultExport}})],1),n("el-button",{staticClass:"oper-btn chart",attrs:{type:"primary"}})],1):e._e(),e.isSee?n("ag-grid-vue",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"table ag-theme-balham",staticStyle:{height:"59vh"},attrs:{"column-defs":e.columnDefs,"row-data":e.rowData,"enable-col-resize":!0,"row-selection":"multiple","get-row-style":this.renderTable},on:{cellClicked:e.onCellClicked,gridReady:e.onGridReady,rowSelected:e.rowChange}}):e._e(),e.isSee?e._e():n("el-card",{staticClass:"box-card",staticStyle:{height:"100px"}},[n("div",[e._v(e._s(e.errorMessage))])]),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:function(t){return e.initData(e.nowSql)}}}),e.modelResultPageIsSee?n("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30,50],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total1},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e(),n("el-dialog",{attrs:{title:"模型详细关联",visible:e.modelDetailDialogIsShow,width:"30%"},on:{"update:visible":function(t){e.modelDetailDialogIsShow=t}}},[n("div",{attrs:{align:"center"}},[n("el-select",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.modelDetailDialogIsShow=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelDetailCetermine}},[e._v("确 定")])],1)]),e.modelDetailModelResultDialogIsShow?n("el-dialog",{attrs:{title:"模型详细结果",visible:e.modelDetailModelResultDialogIsShow,width:"80%"},on:{"update:visible":function(t){e.modelDetailModelResultDialogIsShow=t}}},[n("childtabscopy",{ref:"childTabsRef",attrs:{"pre-value":e.currentExecuteSQL,"use-type":"sqlEditor"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.modelDetailModelResultDialogIsShow=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.modelDetailModelResultDialogIsShow=!1}}},[e._v("确 定")])],1)],1):e._e()],1)},a=[]},2:function(e,t){},2049:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABcklEQVQ4T6WTvy8DYRjHv0+vxCZE79C7G6wSBGHAbNTh7pCQSMRgtzRiZfIH2LCIuw4dLAxEwsSgrFJx15J7KwY/ogb3SEVFpLkW7/Ymz/N5v8/3+b6Efx4q9cuOlyGg6zcsBs6FqXV/ABTH47d6jt+N6Te1QGK2aI3Q661vavQFKF0qNcu2t0bEvQFH5gqWelauKT1aFdCScvslpvkAvE7AgDD11V8BFMddZsKhMPTdn+pCFcgpd5QCSgLoBJAFKOlb6v53SPURTrlOyeaOfEsbrORNVUDMvhkmChLCVBcUxz1hYBGMFWHpfeXNhZooO+4SCBfC0NOynZsm4s2ApZGC1X4UCmhO57X7RNyTbXevCJp46FAflWxulwmXBEi+qc2GAmTHO2bCNjHGhakNwWYpFslPFQx1Q0m5k76hb4UCGneumxqK0kwQ4OB7cKqu8Zmj8pPVVqglyji4alDuoi9fJv7pMzEywtJ6Kua/JhWfRe9lv9kRE3JPJgAAAABJRU5ErkJggg=="},"20bf":function(e,t,n){"use strict";n.r(t);var i=n("0aa8"),a=n("0adc");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("f755");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"13fc9086",null);t["default"]=s.exports},"20d8":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("dbce")),r={path:"/analysis",name:"审计分析",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b574"))}))},meta:{},children:[{path:"auditmodel",name:"审计模型",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("77d9"))}))}},{path:"auditmodelresult",name:"模型运行结果",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("394f"))}))}},{path:"auditmodelparam",name:"模型参数",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("2809"))}))}},{path:"editormodel",name:"编辑模型",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("8cd2"))}))}},{path:"auditWarning",name:"审计预警",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("e855"))}))}},{path:"modelshoppingcart",name:"审计预警",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("eb02"))}))}},{path:"warningresult",name:"审计预警结果",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("751d"))}))}},{path:"sqleditor",name:"SQL编辑器",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("cc36"))}))}},{path:"editormodelnew",name:"模型编(新)",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("e6d4"))}))}},{path:"modelresulthandle",name:"模型结果处理",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("5934"))}))}},{path:"modelresultdetailshow",name:"模型详细结果展现",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("f4ad"))}))}},{path:"screenList",name:"主题展示配置",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("2e36"))}))}},{path:"publicScreenList",name:"主题展示",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("98ce"))}))}},{path:"indicatoranalysis",name:"指标分析",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("6c34"))}))}},{path:"threadoldvalue",name:"阈值管理",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("6874"))}))}}]},o=r;t.default=o},"20f3":function(e,t,n){},"20f4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAE6ADAAQAAAABAAAAEwAAAAAgb1CmAAACsUlEQVQ4EaVUTUxTQRCe2fYVaCwQ5KDGaNBEY9SgpoBQwCoPYiXiqecag178iYbEgwfTeIZw0eiB4FEvHiQx/FikKQHkJ9HEC4lBfqSmCQZFBWLbt+O8p30shPbiXHZ2vm++tzOz+xCyWHUwWCATy2UgsRA1Z+JttG8uC9UOo+39c6rr9eOpNN1HomYCKLBxxAUB+FRDd8fISM9PO644m8S8vnO3kbCdiBwIOAtAUyy4iAjlQOgloEJOmHNqomUsFvmg6FiuLeatbrjOyQ9ZZBlB3JgYe/1MJft8LZ4k/eoggquAsOR0uSq3lm6JVdTqB8iQ0yy0jprjxERsgE+1vVXUNLTxydv5tIOTo290lSXMDRl0lxcNBbXlEjK5zU11nYg4zCdsqPLpp81YxiwxBLoEgKsXGuu7M0C2NRwOSy7zkYlLkJy3YaIqECjkJu9iwjuLuIFl9TRyTVmgxMMqSUAyaY0fCb6pQC6fPDLDzVd5IlBXt8QlJrlzJ1Ugl59eNU5ZOEJc5QmzNJ7MEJe617ywKpjNJ0kBE+OcQZXzdwAET8xgOk3dfn/YqRK2+pW+Ri8P7BYgftm9092j4g5zE1+cnd6zr6ySP3UmZcwf2X/00ODizMy6SjT9qlq9VpJ8zrwSFKJ1KNL3XuXYL0DX9aLvq7LfzOFgAgQ+5ucz6RAYNwxRjmCcJcIQF8ddEfdKi7XOVCqVH4lEVjKCtpgZ8Psv56/9/vyAkG7ypdw0KSsBYQYF3Cn15A18XUm+5FhJkRsbM4KbxKwES/Ri6Vpqjf8adIwkegRiAkDE3K6aWDQaTvNzQr79XZLoCtPHHcV5TeO9vT+2FcuI5lr5FohX/cPd/MEQ1z3qwh3nrQHkSsqGRaNRutYa6vn4aeEgt6RZQtLs9f9ZMBh0zMWXu/gFvfgD1rUBgrc5+KwAAAAASUVORK5CYII="},2100:function(e,t,n){},2138:function(e,t,n){e.exports=n.p+"static/img/jiaqi.1c2833ff.png"},"217b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},"21c8":function(e,t,n){},2227:function(e,t,n){"use strict";n("de24")},"223c":function(e,t,n){"use strict";n.r(t);var i=n("655c"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"223d":function(e,t,n){"use strict";n.r(t);var i=n("f314"),a=n("40d3");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("c07f");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"64c46b4a",null);t["default"]=s.exports},"223da":function(e,t,n){"use strict";var i=n("4ea4");n("28a5"),n("96cf");var a=i(n("c973")),r=i(n("a18c")),o=i(n("4360")),s=(n("c24f"),n("5c96"),i(n("323e")));n("a5d8");var l=n("5f87"),u=i(n("036d")),c=n("64dc");s.default.configure({showSpinner:!1});var d=["/login","/auth-redirect"];r.default.beforeEach(function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t,n,i){var a,r,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.default.start(),document.title=(0,u.default)(t.meta.title),a=(0,l.getToken)(),t.query.scene&&(r=t.query.scene.split(",")[0],h=t.query.scene.split(",")[1],(0,c.getSceneInst)(r,h).then((function(e){var t=e.data.dataUserName,n=e.data.sceneName;console.log("getSceneInst"+t+"  "+n),o.default.dispatch("user/saveScene",{sceneCode:r,sceneName:n,dataUserId:h,dataUserName:t})}))),!a){e.next=15;break}if("/login"!==t.path){e.next=10;break}i({path:"/"}),s.default.done(),e.next=13;break;case 10:return e.next=12,o.default.dispatch("user/getInfo");case 12:i();case 13:e.next=16;break;case 15:-1!==d.indexOf(t.path)?i():("/"===t.path?i("/login"):i("/login?redirect=".concat(t.path)),s.default.done());case 16:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}()),r.default.afterEach((function(){s.default.done()}))},"229e":function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523"));function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("20d6"),n("5df3"),n("1c4c");var s={name:"screenQuerySort",data:function(){return{allColumnArr:[],columnData:[],columnDataValue:[]}},props:["columnInfoArr","setting"],mounted:function(){this.initSetting()},methods:{initSetting:function(){var e=this;Array.from(this.columnInfoArr,(function(t){e.allColumnArr.push(t.newColumnName),e.columnData.push({pinyin:t.newColumnName,label:t.newColumnName,key:t.newColumnName,sortType:"ASC",showSort:!1})})),this.setting.length>0&&(this.columnDataValue=this.setting,Array.from(this.columnDataValue,(function(t){var n=e.columnData.findIndex((function(e){return e.key===t}));n>-1&&(e.columnData[n].showSort=!0,e.$nextTick((function(){var t=e.$refs.sortCol.$el.clientWidth,i=e.$refs.sortCol.$el.scrollWidth;if(i>t){var a=o(o({},{}),e.columnData[n]);a.isTip=!0,e.columnData.splice(n,1),e.columnData.splice(n,1,a)}})))})))},changeSortData:function(e,t,n){var i=this;Array.from(n,(function(e){var n=i.columnData.findIndex((function(t){return t.key===e}));n>-1&&("right"===t?(i.columnData[n].showSort=!0,i.$nextTick((function(){var e=i.$refs.sortCol.$el.clientWidth,t=i.$refs.sortCol.$el.scrollWidth;if(t>e){var a=o(o({},{}),i.columnData[n]);a.isTip=!0,i.columnData.splice(n,1),i.columnData.splice(n,1,a)}}))):i.columnData[n].showSort=!1)}))},saveSetting:function(){var e=this,t={whereStr:"",hasWhere:!0,columnArr:this.allColumnArr,setting:[]};return Array.from(this.columnDataValue,(function(n){for(var i=0;i<e.columnData.length;i++)if(e.columnData[i].key===n){""===t.whereStr?t.whereStr=n+" "+e.columnData[i].sortType:t.whereStr+=","+n+" "+e.columnData[i].sortType,t.setting.push(n);break}})),""!==t.whereStr&&(t.whereStr=" ORDER BY "+t.whereStr),t},verifySetting:function(){return 0!==this.columnDataValue.length||(this.$message({type:"warning",message:"未选择排序字段"}),!1)}}};t.default=s},"22e2":function(e,t,n){"use strict";n("ca26")},"238e":function(e,t,n){"use strict";n.r(t);var i=n("39f6"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},2394:function(e,t,n){"use strict";n.r(t);var i=n("3954"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"23be":function(e,t,n){"use strict";n.r(t);var i=n("148b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},2411:function(e,t,n){"use strict";n.r(t);var i=n("4e0a"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"244c":function(e,t,n){},2450:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"ace-tree"},e._l(e.list,(function(t,i){return n("Item",{ref:"itemDom",refInFor:!0,attrs:{item:t,index:i},on:{close:e.close}})})),1)},a=[]},2458:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kongxi"},[n("p",{staticStyle:{color:"silver","font-size":"large"}},[e._v("———————————————————————————")]),n("queryBuilder",{ref:"queryBuilder",attrs:{rules:e.queryRules},model:{value:e.queryJson,callback:function(t){e.queryJson=t},expression:"queryJson"}})],1)},a=[]},"246a":function(e,t,n){"use strict";n("a9fe")},"24ab":function(e,t,n){e.exports={theme:"#1890ff"}},"24ad":function(e,t,n){"use strict";n.r(t);var i=n("4780"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"24e2":function(e,t,n){"use strict";n.r(t);var i=n("a15c"),a=n("e3e7");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("1a27");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"35ca77fc",null);t["default"]=s.exports},"24fc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("5df3"),n("1c4c");var i={name:"DistinctColumnSet",data:function(){return{nodeData:null,columnData:[],columnDataValue:[]}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.$parent.$parent.$parent.graph;if(this.nodeData=t.nodeData[t.curCell.id],this.nodeData.isSet)this.columnData=this.nodeData.setting.columnData,this.columnDataValue=this.nodeData.setting.delRepeatData,this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(this.columnDataValue);else{var n=this.$parent.$parent.$parent.columnsInfoPre;Array.from(n,(function(t){e.columnData.push({pinyin:t.newColumnName,label:t.newColumnName,key:t.newColumnName})}))}},changeSortData:function(){this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(this.columnDataValue)},saveSetting:function(){this.nodeData.setting.delRepeatData=this.columnDataValue,this.nodeData.setting.columnData=this.columnData},inputVerify:function(){var e=!0;return 0===this.columnDataValue.length&&(this.$message({type:"warning",message:"已选择去重字段列表不能为空"}),e=!1),e}}};t.default=i},"256b":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("447a")),r=i(n("cbbf")),o=i(n("9369")),s=i(n("a85a")),l=i(n("78ef")),u=i(n("e3a5")),c=i(n("20bf")),d=i(n("9f6f")),h=i(n("f8c5")),f=i(n("9eb3")),p=i(n("ac9e")),m=i(n("6077")),g=i(n("7399")),v=i(n("223d")),y=i(n("ba0e")),b={install:function(e){e.component("new-ag-grid",a.default),e.component("new-input",r.default),e.component("new-tree",o.default),e.component("new-checkbox-group",s.default),e.component("new-select",l.default),e.component("new-card",u.default),e.component("new-calender",c.default),e.component("new-dropdown",d.default),e.component("tools-template",h.default),e.component("new-time",f.default),e.component("ace-alert",p.default),e.component("ace-dialog",m.default),e.component("ace-select",g.default),e.component("ace-select-calender",v.default),e.component("ace-progress",y.default)}};t.default=b},2579:function(e,t,n){"use strict";n("f36c")},2580:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-language",use:"icon-language-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-language"><path d="M84.742 36.8c2.398 7.2 5.595 12.8 11.19 18.4 4.795-4.8 7.992-11.2 10.39-18.4h-21.58zm-52.748 40h20.78l-10.39-28-10.39 28z" /><path d="M111.916 0H16.009C7.218 0 .025 7.2.025 16v96c0 8.8 7.193 16 15.984 16h95.907c8.791 0 15.984-7.2 15.984-16V16c0-8.8-6.394-16-15.984-16zM72.754 103.2c-1.598 1.6-3.197 1.6-4.795 1.6-.8 0-2.398 0-3.197-.8-.8-.8-1.599 0-1.599-.8s-.799-1.6-1.598-3.2c-.8-1.6-.8-2.4-1.599-4l-3.196-8.8H28.797L25.6 96c-1.598 3.2-2.398 5.6-3.197 7.2-.8 1.6-2.398 1.6-4.795 1.6-1.599 0-3.197-.8-4.796-1.6-1.598-1.6-2.397-2.4-2.397-4 0-.8 0-1.6.799-3.2.8-1.6.8-2.4 1.598-4l17.583-44.8c.8-1.6.8-3.2 1.599-4.8.799-1.6 1.598-3.2 2.397-4 .8-.8 1.599-2.4 3.197-3.2 1.599-.8 3.197-.8 4.796-.8 1.598 0 3.196 0 4.795.8 1.598.8 2.398 1.6 3.197 3.2.799.8 1.598 2.4 2.397 4 .8 1.6 1.599 3.2 2.398 5.6l17.583 44c1.598 3.2 2.398 5.6 2.398 7.2-.8.8-1.599 2.4-2.398 4zM116.711 72c-8.791-3.2-15.185-7.2-20.78-12-5.594 5.6-12.787 9.6-21.579 12l-2.397-4c8.791-2.4 15.984-5.6 21.579-11.2C87.939 51.2 83.144 44 81.545 36h-7.992v-3.2h21.58c-1.6-2.4-3.198-5.6-4.796-8l2.397-.8c1.599 2.4 3.997 5.6 5.595 8.8h19.98v4h-7.992c-2.397 8-6.393 15.2-11.189 20 5.595 4.8 11.988 8.8 20.78 11.2l-3.197 4z" /></symbol>'});o.a.add(s);t["default"]=s},2587:function(e,t,n){"use strict";var i=n("4ea4"),a=i(n("7037")),r=i(n("a026"));r.default.directive("scroll-top",{componentUpdated:function(e,t){var n=!1,i=0,r=null,o=5;"boolean"===typeof t.value&&(n=t.value),t.value&&"object"===(0,a.default)(t.value)&&(n=t.value.allowScroll||!1,i=t.value.offset||0,r=t.value.complete,o=t.value.divisor||5);var s=e.$el?e.$el:e;if(1==n){if(s.scrollTop==i)return void(r&&r());var l="up";l=i>s.scrollTop?"up":"down";var u=Math.abs(i-s.scrollTop),c=setInterval((function(){var e=Math.ceil(u/o);u-=e,s.scrollTop="up"==l?s.scrollTop+e:s.scrollTop-e,s.scrollTop==i&&(clearInterval(c),r&&r())}),16)}}})},"265e":function(e,t,n){"use strict";n("7c00")},"265f":function(e,t,n){"use strict";n("eac1")},2694:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var a=i(n("911b3")),r={components:{queryBuilder:a.default},props:["columns","data","inputselectvalue"],data:function(){return{queryRules:[],queryJson:{}}},created:function(){this.setQueryBuilderColumn()},mounted:function(){this.initData()},methods:{initData:function(){null!=this.data.children&&(this.queryJson=this.data)},setQueryBuilderColumn:function(){for(var e=[],t=0;t<this.columns.columnList.length;t++){var n=this.getQueryBuilderOperators(this.columns.columnList[t]),i={type:"inputselect"};i.id=this.columns.columnList[t].columnName,i.label=this.columns.columnList[t].columnName,i.operators=n;var a=[];if(void 0!=this.inputselectvalue)for(var r=0;r<this.inputselectvalue.length;r++){var o={label:this.inputselectvalue[r].outputColumnName,value:this.inputselectvalue[r].outputColumnName};a.push(o)}i.choices=a,e.push(i)}this.queryRules=e},getQueryBuilderOperators:function(e){var t=[];return-1==e.columnType.toUpperCase().indexOf("TIMESTAMP")&&-1==e.columnType.toUpperCase().indexOf("RAW")||(e.columnType="VARCHAR"),-1!=e.columnType.toUpperCase().indexOf("VARCHAR")||-1!=e.columnType.toUpperCase().indexOf("CLOB")?t=["=","<>","like","not like"]:-1==e.columnType.toUpperCase().indexOf("INT")&&-1==e.columnType.toUpperCase().indexOf("NUMBER")||(t=["=","<>","<","<=",">",">="]),t},selectSql:function(){if(null==this.queryJson.children);else{var e=this.queryToSql(this.queryJson);this.queryJson;this.$emit("queryconditionchangetable",e,this.queryJson)}},getSelectSql:function(){if(null!=this.queryJson.children){var e=this.queryToSql(this.queryJson),t={sql:e,queryJson:this.queryJson};return t}},queryToSql:function(e){var t=this,n=[],i=this,a=e.logicalOperator,r=e.children;return r.forEach((function(e){var r=e.type;if("query-builder-rule"===r){for(var o={},s=0;s<t.columns.columnList.length;s++)if(t.columns.columnList[s].columnName==e.query.rule){o=t.columns.columnList[s];break}"TIMESTAMP"==o.columnType.toUpperCase()||o.columnType.toUpperCase().indexOf("VARCHAR")>-1||"CLOB"==o.columnType.toUpperCase()?"like"==e.query.operator||"not like"==e.query.operator?(n.push(e.query.rule),n.push(e.query.operator),n.push("'%"+e.query.value+"%'")):(n.push(e.query.rule),n.push(e.query.operator),n.push("'"+e.query.value+"'")):(n.push(e.query.rule),n.push(e.query.operator),n.push(e.query.value))}else n.push("("),n.push(i.queryToSql(e.query)),n.push(")");n.push(a)})),n.splice(n.length-1,n.length),n.join(" ")}}};t.default=r},"26a5":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("6fad")),r={name:"wangeditor",props:{content:String,value:String},data:function(){return{something:111}},mounted:function(){var e=new a.default("#wangeditor"),t=this;e.config.height=685,e.config.onchange=function(e){t.something=e},e.config.uploadImgShowBase64=!0,e.config.zIndex=10,e.create(),e.txt.html(this.content)},methods:{displayIn:function(){this.$emit("retrieveData",this.something)}}};t.default=r},"26fc":function(e,t,n){e.exports=n.p+"static/img/404_cloud.0f4bc32b.png"},"271d":function(e,t,n){"use strict";n.r(t);var i=n("059f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"272f":function(e,t,n){"use strict";n.r(t);var i=n("fcf4"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},2773:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-container",[n("el-aside",{staticClass:"tree-side"},[n("GraphTree",{ref:"graphTree",on:{refreshGraphList:e.refreshGraphList}})],1),n("GraphListTable",{directives:[{name:"show",rawName:"v-show",value:"graphList"===e.rightType,expression:"rightType === 'graphList'"}],ref:"graphListTable",on:{refreshGraphTree:e.refreshGraphTree}}),"runGraph"===e.rightType?n("screenQueryList",{ref:"screenQueryList",attrs:{screenParam:e.screenParam}}):e._e()],1)],1)},a=[]},"27f3":function(e,t,n){"use strict";n.r(t);var i=n("ed70"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},2809:function(e,t,n){"use strict";n.r(t);var i=n("30ca"),a=n("ce31");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},2840:function(e,t,n){e.exports=n.p+"static/img/login-logo.d9bba607.png"},"28a9":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("0dc2")),r={getResourcesListP:function(e,t){e.state;return new Promise((function(e,n){a.default.get("resources/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getResourceId:function(e,t){e.state;return new Promise((function(e,n){a.default.get("resources/queryResource",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getResourcesList:function(e,t){e.state;return new Promise((function(e,n){a.default.get("resources/list",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},deleteResource:function(e,t){e.state;return new Promise((function(e,n){a.default.get("resources/delete",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},resourceVerifyName:function(e,t){e.state;return new Promise((function(e,n){a.default.get("resources/verify-name",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getViewResources:function(e,t){e.state;return new Promise((function(e,n){a.default.get("resources/view",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},createUdfFunc:function(e,t){e.state;return new Promise((function(e,n){a.default.post("resources/udf-func/create",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},updateUdfFunc:function(e,t){e.state;return new Promise((function(e,n){a.default.post("resources/udf-func/update",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},verifyUdfFuncName:function(e,t){e.state;return new Promise((function(e,n){a.default.get("resources/udf-func/verify-name",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},deleteUdf:function(e,t){e.state;return new Promise((function(e,n){a.default.get("resources/udf-func/delete",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getUdfFuncListP:function(e,t){e.state;return new Promise((function(e,n){a.default.get("resources/udf-func/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},updateContent:function(e,t){e.state;return new Promise((function(e,n){a.default.post("resources/update-content",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},createResourceFile:function(e,t){e.state;return new Promise((function(e,n){a.default.post("resources/online-create",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},createResourceFolder:function(e,t){e.state;return new Promise((function(e,n){a.default.post("resources/directory/create",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},resourceRename:function(e,t){e.state;return new Promise((function(e,n){a.default.post("resources/update",t,(function(t){e(t)})).catch((function(e){n(e)}))}))}};t.default=r},"28c8":function(e,t,n){"use strict";n("e2f0")},"29b7":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-upload-2",use:"icon-icon-upload-2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-upload-2"><defs><style type="text/css"></style></defs><path d="M928.1 928.2H98v-830h830.1v830zM863.2 163H162.9v700.4h700.4V163z" p-id="2711" /><path d="M576.8 437.6v180.9c0 9-7.3 16.2-16.2 16.2h-96.3c-9 0-16.2-7.3-16.2-16.2v-181h-91.9c-9 0-16.2-7.3-16.2-16.2 0-4.2 1.7-8.3 4.6-11.3l155.8-157.8c6.3-6.4 16.6-6.4 22.9-0.2l0.2 0.2L679.3 410c6.3 6.4 6.2 16.7-0.2 22.9-3 3-7.1 4.6-11.3 4.6l-91 0.1zM272.1 703.9h480.1c8.8 0 16 7.1 16 15.8V752c0 8.7-7.2 15.8-16 15.8H272.1c-8.8 0-16-7.1-16-15.8v-32.4c-0.1-8.7 7.1-15.7 16-15.7z" p-id="2712" /></symbol>'});o.a.add(s);t["default"]=s},"2a32":function(e,t,n){"use strict";n.r(t);var i=n("c846"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"2a3d":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-password",use:"icon-password-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-password"><path d="M108.8 44.322H89.6v-5.36c0-9.04-3.308-24.163-25.6-24.163-23.145 0-25.6 16.881-25.6 24.162v5.361H19.2v-5.36C19.2 15.281 36.798 0 64 0c27.202 0 44.8 15.281 44.8 38.961v5.361zm-32 39.356c0-5.44-5.763-9.832-12.8-9.832-7.037 0-12.8 4.392-12.8 9.832 0 3.682 2.567 6.808 6.407 8.477v11.205c0 2.718 2.875 4.962 6.4 4.962 3.524 0 6.4-2.244 6.4-4.962V92.155c3.833-1.669 6.393-4.795 6.393-8.477zM128 64v49.201c0 8.158-8.645 14.799-19.2 14.799H19.2C8.651 128 0 121.359 0 113.201V64c0-8.153 8.645-14.799 19.2-14.799h89.6c10.555 0 19.2 6.646 19.2 14.799z" /></symbol>'});o.a.add(s);t["default"]=s},"2aa7":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-container",{staticStyle:{height:"450px"}},[n("div",{ref:"basicInfo"},[n("el-form",{ref:"basicInfoForm",staticClass:"detail-form",attrs:{model:e.form,rules:e.rules,disabled:e.isBanEdit}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"名称",prop:"modelDetailName"}},[n("el-input",{on:{input:e.nameValueChange},model:{value:e.form.modelDetailName,callback:function(t){e.$set(e.form,"modelDetailName",t)},expression:"form.modelDetailName"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.modelDetailMemo,callback:function(t){e.$set(e.form,"modelDetailMemo",t)},expression:"form.modelDetailMemo"}})],1)],1)],1),n("p",{staticStyle:{"font-size":"large","font-weight":"bold"}},[e._v("关联设置")]),n("p",{staticStyle:{color:"silver","font-size":"large"}},[e._v("———————————————————————————")]),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"关联类型",prop:"relationType"}},[n("el-select",{ref:"relTypeSelect",staticStyle:{width:"100%"},attrs:{placeholder:"请选择关联类型"},on:{change:e.relTypeSelectChange},model:{value:e.form.relationType,callback:function(t){e.$set(e.form,"relationType",t)},expression:"form.relationType"}},[n("el-option",{attrs:{label:"关联模型",value:1}}),n("el-option",{attrs:{label:"关联表",value:2}})],1)],1)],1)],1),n("div",{ref:"relModelDivParent",staticStyle:{display:"none"}},[n("el-row",[n("el-form-item",{attrs:{label:"被关联模型"}},[n("el-col",{attrs:{span:20}},[n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.form.relationObjectUuid,callback:function(t){e.$set(e.form,"relationObjectUuid",t)},expression:"form.relationObjectUuid"}}),n("el-input",{attrs:{disabled:!0},model:{value:e.form.relationObjectName,callback:function(t){e.$set(e.form,"relationObjectName",t)},expression:"form.relationObjectName"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:e.selectModel}},[e._v("选择")])],1)],1),n("div",{ref:"relModelTableDiv",staticStyle:{display:"none",height:"200px","overflow-y":"scroll"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addRelFilter(1)}}},[e._v("添加")]),n("el-table",{ref:"relModelTable",attrs:{data:e.relModelTable,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"原模型字段",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{value:"-1"},model:{value:t.row.resultColumn,callback:function(n){e.$set(t.row,"resultColumn",n)},expression:"scope.row.resultColumn"}},e._l(e.columns,(function(e){return n("el-option",{key:e.outputColumnName,attrs:{value:e.outputColumnName,label:e.outputColumnName}})})),1)]}}])}),n("el-table-column",{attrs:{label:"关联模型参数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{value:"-1"},model:{value:t.row.ammParamUuid,callback:function(n){e.$set(t.row,"ammParamUuid",n)},expression:"scope.row.ammParamUuid"}},e._l(e.relModelParam,(function(e){return n("el-option",{key:e.ammParamUuid,attrs:{value:e.ammParamUuid,label:e.paramName}})})),1)]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.$index,e.relModelTable)}}},[e._v("删除")])]}}])})],1)],1)],1),n("div",{ref:"relTableDivParent",staticStyle:{display:"none",height:"200px","overflow-y":"scroll"}},[n("el-row",[n("el-form-item",{attrs:{label:"被关联表",prop:"relationObjectUuidTable"}},[n("el-col",{attrs:{span:20}},[n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.form.relationObjectUuid,callback:function(t){e.$set(e.form,"relationObjectUuid",t)},expression:"form.relationObjectUuid"}}),n("el-input",{attrs:{disabled:!0},model:{value:e.form.relationObjectName,callback:function(t){e.$set(e.form,"relationObjectName",t)},expression:"form.relationObjectName"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:e.showDataTree}},[e._v("选择")])],1)],1),n("div",{ref:"relTableDiv",staticStyle:{display:"none"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addRelFilter(2)}}},[e._v("添加")]),n("el-table",{ref:"relTable",attrs:{data:e.relTable,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"过滤条件",align:"center",prop:"",width:"450px"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.noShow?void 0:[n("el-row",[n("el-col",{attrs:{span:18}},[n("el-input",{attrs:{disabled:!0},model:{value:t.row.relFilterValue=e.inputValue[t.row.modelDetailConfigUuid],callback:function(n){e.$set(t.row.relFilterValue=e.inputValue,t.row.modelDetailConfigUuid,n)},expression:"scope.row.relFilterValue=inputValue[scope.row.modelDetailConfigUuid]"}}),n("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{disabled:!0},model:{value:t.row.relFilterValueJson=e.inputValueJson[t.row.modelDetailConfigUuid],callback:function(n){e.$set(t.row.relFilterValueJson=e.inputValueJson,t.row.modelDetailConfigUuid,n)},expression:"scope.row.relFilterValueJson=inputValueJson[scope.row.modelDetailConfigUuid]"}})],1),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.openQueryBuilder(t.row.modelDetailConfigUuid)}}},[e._v("设置")])],1)]}}],null,!0)}),n("el-table-column",{attrs:{label:"操作",align:"center",prop:"runTime",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.noShow?void 0:[n("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.$index,e.relTable)}}},[e._v("删除")])]}}],null,!0)})],1)],1)],1)],1)],1)]),e.ModelTreeDialog?n("el-dialog",{attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.ModelTreeDialog,title:"请选择模型",width:"80%"},on:{"update:visible":function(t){e.ModelTreeDialog=t}}},[n("ModelFolderTree",{directives:[{name:"loading",rawName:"v-loading",value:e.modelTreeLoading,expression:"modelTreeLoading"}],ref:"modelFolderTree",attrs:{publicModel:"relationModel"}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.getSelectModel}},[e._v("确定")]),n("el-button",{on:{click:function(t){e.ModelTreeDialog=!1}}},[e._v("取消")])],1)],1):e._e(),e.dataTableTree?n("el-dialog",{attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.dataTableTree,title:"请选择数据表",width:"80%"},on:{"update:visible":function(t){e.dataTableTree=t}}},[n("data-tree",{ref:"dataTableTree",attrs:{dataUserId:e.dataUserId,sceneCode:e.sceneCode}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.getDataTable}},[e._v("确定")]),n("el-button",{on:{click:function(t){e.dataTableTree=!1}}},[e._v("取消")])],1)],1):e._e(),n("el-dialog",{attrs:{title:"条件设置",visible:e.queryBuilderDialogVisible,width:"30%","append-to-body":!0},on:{"update:visible":function(t){e.queryBuilderDialogVisible=t}}},[e.queryBuilderDialogVisible?n("myQueryBuilder",{ref:"myQueryBuilder",attrs:{columns:e.queryRules,data:e.queryBuilderJson,inputselectvalue:e.columns}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.queryBuilderDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.queryCondition}},[e._v("确定")])],1)],1)],1)},a=[]},"2ae5":function(e,t,n){"use strict";var i=n("dbce"),a=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f"),n("7514");var r=a(n("9523"));n("a481"),n("96cf");var o=a(n("c973"));n("47c6");var s=n("8ebc"),l=i(n("0217")),u=n("05c6");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"paramdrawnew",props:["arr","sql"],data:function(){return{loading:null,selectNum:0,selectTreeNum:0,paramInfoArr:[],activeName:"collapse1",overallParmaobj:{},collapseTitle:"",hasParam:!1}},created:function(){(0,u.addJsFile)("/lib/layui/xm-select.js","xm-select")},beforeDestroy:function(){(0,u.removeJcCssfile)("xm-select.js","js")},methods:{createParamNodeHtml:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(t,n,i){var a,r,o,l,u,c,h,f,p,m,g,v,y=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=$(this.$refs.inputParamContent).mLoading({text:"正在初始化数据，请稍后……",hasCancel:!1}),this.collapseTitle=n,a=[],{paramInfoArr:[]},e.next=7,(0,s.findParamsAndModelRelParams)();case 7:if(r=e.sent,null!=r.data){e.next=13;break}return this.$message.error("获取参数信息失败"),e.abrupt("return");case 13:if(!r.data.isError){e.next=18;break}return this.$message.error(r.data.message),e.abrupt("return");case 18:a=r.data.paramList;case 19:o=[],l=[],u=0;case 22:if(!(u<this.arr.length)){e.next=38;break}c=0;case 24:if(!(c<a.length)){e.next=35;break}if(h=a[c].ammParamUuid,!(h===this.arr[u].moduleParamId&&$.inArray(h,o)<0)){e.next=32;break}return this.arr[u].allowedNull=a[c].paramChoice.allowedNull,"modelPreview"===i||"auditwarring"===i?this.arr[u].paramValue&&(a[c].defaultVal=this.arr[u].paramValue):this.arr[u].defaultVal&&(a[c].defaultVal=this.arr[u].defaultVal),l.push(a[c]),o.push(h),e.abrupt("break",35);case 32:c++,e.next=24;break;case 35:u++,e.next=22;break;case 38:for(f=0;f<this.arr.length;f++)this.arr[f]=JSON.parse(JSON.stringify(this.arr[f]).replace(/paramValue/g,"value"));p={sql:this.sql,paramsArr:this.arr},this.overallParmaobj[t]=p,m=0;case 42:if(!(m<l.length)){e.next=61;break}return g={paramName:l[m].paramName,description:"（参数说明：无）",inputType:l[m].inputType},"undefined"!==typeof l[m].description&&null!=l[m].description&&(g.description="（参数说明："+l[m].description+"）"),e.next=47,this.initParamHtml(l[m],g,this.selectNum,this.selectTreeNum);case 47:if(v=e.sent,"undefined"!==typeof v.selectNum&&(this.selectNum=v.selectNum,g.selectNum=v.selectNum),"undefined"!==typeof v.selectTreeNum&&(this.selectTreeNum=v.selectTreeNum,g.selectTreeNum=v.selectTreeNum),!v.isError){e.next=55;break}return this.$message.error(v.message),e.abrupt("return");case 55:g=d(d({},g),v.setParamObj),g.description+="".concat(g.title);case 57:this.paramInfoArr.push(g);case 58:m++,e.next=42;break;case 61:this.$nextTick((function(){y.initParamInputAndSelect();var e=y.$refs.nodeParam;0===e.$children.length&&(y.hasParam=!0)})),e.next=68;break;case 64:e.prev=64,e.t0=e["catch"](0),this.loading.destroy(),console.info(e.t0);case 68:case"end":return e.stop()}}),e,this,[[0,64]])})));function t(t,n,i){return e.apply(this,arguments)}return t}(),initParamHtml:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(t,n,i,a){var r,o,u,c,h,f,p,m,g,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r={selectNum:i,selectTreeNum:a,setParamObj:d(d({},{}),n),isError:!1,message:""},o=[],u=[],c=[],h=t.paramChoice.optionsSql,r.setParamObj.title=0===t.paramChoice.allowedNull?"不可为空":"可为空",r.setParamObj.allowedNull=!1,0===t.paramChoice.allowedNull&&(r.setParamObj.allowedNull=!0),f=!1,e.t0=r.setParamObj.inputType,e.next="lineinp"===e.t0?12:"textinp"===e.t0?32:"timeinp"===e.t0?39:"treeinp"===e.t0?41:57;break;case 12:if(h){e.next=16;break}$.each(t.paramChoice.paramOptionsList,(function(e,t){t.optionsVal&&t.optionsName&&o.push({name:t.optionsName,value:t.optionsVal})})),e.next=23;break;case 16:if(""===h){e.next=23;break}if(f=!0,"undefined"===typeof t.defaultVal||null==t.defaultVal){e.next=23;break}return e.next=21,(0,s.executeParamSql)(h);case 21:if(p=e.sent,null==p.data)r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败");else if(p.data.isError)r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败，原因：").concat(p.data.message);else if(m=p.data,m.valueList&&m.valueList.length>0)for(g=0;g<m.valueList.length;g++)o.push({name:m.valueList[g].paramName,value:m.valueList[g].paramValue});case 23:return"undefined"!==typeof r.selectNum&&null!=r.selectNum?(r.selectNum++,r.setParamObj.id="selectParam".concat(r.selectNum)):r.setParamObj.id="selectParam".concat(t.ammParamUuid),r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,r.setParamObj.dataChoiceType=t.paramChoice.choiceType,f&&(r.setParamObj.dataSql=h,r.setParamObj.dataParamArr=u,r.setParamObj.dataAssociatedParamIdArr=c),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal),o.length>0&&(r.setParamObj.data=o),"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),e.abrupt("break",57);case 32:return"undefined"!==typeof t.dataLength&&null!=t.dataLength&&(r.setParamObj.title+=",参数值的长度为".concat(t.dataLength)),r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal),"undefined"!==typeof t.dataLength&&null!=t.dataLength&&(r.setParamObj.dataDataLength=t.dataLength),e.abrupt("break",57);case 39:return"date"===t.dataType&&(r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal)),e.abrupt("break",57);case 41:if(""===h){e.next=48;break}if(f=!0,"undefined"===typeof t.defaultVal||null==t.defaultVal){e.next=48;break}return e.next=46,(0,s.getSelectTreeData)(h);case 46:v=e.sent,null==v.data?(r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败")):v.data.isError?(r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败，原因：").concat(v.data.message)):o=v.data.result&&v.data.result.length>0?l.organizeSelectTreeData(v.data.result):[];case 48:return"undefined"!==typeof r.selectTreeNum&&null!=r.selectTreeNum?(r.selectTreeNum++,r.setParamObj.id="selectTreeParam".concat(r.selectTreeNum)):r.setParamObj.id="selectTreeParam".concat(t.ammParamUuid),r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,r.setParamObj.dataChoiceType=t.paramChoice.choiceType,f&&(r.setParamObj.dataSql=h,r.setParamObj.dataParamArr=u,r.setParamObj.dataAssociatedParamIdArr=c),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal),o.length>0&&(r.setParamObj.data=o),"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),e.abrupt("break",57);case 57:return e.abrupt("return",r);case 58:case"end":return e.stop()}}),e)})));function t(t,n,i,a){return e.apply(this,arguments)}return t}(),initParamInputAndSelect:function(){var e=this,t=this,n=this.$refs.selectParam;if(n&&n.length>0)for(var i=function(i){var a=n[i].getAttribute("id"),r=e.paramInfoArr.find((function(e){return e.id===a}));if("undefined"===typeof r)return"continue";var o=r.dataChoiceType,s="undefined"!==typeof r.dataSql?r.dataSql:"",l="undefined"!==typeof r.data?r.data:[],u=!1,c={el:"#".concat(a),filterable:!0,filterMethod:function(e,t){return!!(e===t.value||t.name&&t.name.indexOf(e)>-1)},data:l};if("1"===o&&(c.radio=!0,c.clickClose=!0),""!==s){var d="undefined"!==typeof r.dataAssociatedParamIdArr?r.dataAssociatedParamIdArr:[],h="undefined"!==typeof r.dataParamArr?r.dataParamArr:[];c.show=function(){u=t.selectShow($(t.$refs.inputParamContent),"#selectParam",r.selectNum,r,s,h,l,u)},c.hide=function(){if(u&&0===l.length){var e=xmSelect.get("#".concat(a),!0);l=e.options.data,u=!1}$.inArray(r.dataId,d)>-1&&t.selectHide("#selectParam",r.selectNum,d)}}var f=[];r.dataDefaultVal instanceof Array?c.initValue=r.dataDefaultVal:(f.push(r.dataDefaultVal),"undefined"!==typeof f&&(c.initValue=f)),xmSelect.render(c)},a=0;a<n.length;a++)i(a);var r=this.$refs.selectTreeParam;if(r&&r.length>0)for(var o=function(n){var i=r[n].getAttribute("id"),a=e.paramInfoArr.find((function(e){return e.id===i}));if("undefined"===typeof a)return"continue";var o=a.dataChoiceType,s="undefined"!==typeof a.dataSql?a.dataSql:"",u="undefined"!==typeof a.data?a.data:[],c=!1,d={el:"#".concat(i),filterable:!0,tree:{show:!0,showFolderIcon:!0,showLine:!0,indent:30,strict:!1},height:"auto",data:u};if(""!==s){var h="undefined"!==typeof a.dataAssociatedParamIdArr?a.dataAssociatedParamIdArr:[],f="undefined"!==typeof a.dataParamArr?a.dataParamArr:[];d.show=function(){c=t.selectShow($(t.$refs.inputParamContent),"#selectTreeParam",a.selectTreeNum,a,s,f,u,c)},d.hide=function(){if(c&&0===u.length){var e=xmSelect.get("#".concat(i),!0);u=e.options.data,c=!1}$.inArray(a.dataId,h)>-1&&t.selectHide("#selectTreeParam",a.selectTreeNum,h)}}var p=[];a.dataDefaultVal instanceof Array?d.initValue=a.dataDefaultVal:(p.push(a.dataDefaultVal),"undefined"!==typeof p&&(d.initValue=p)),p.push(a.dataDefaultVal),"1"===o?(d.radio=!0,d.clickClose=!0):d.on=function(e){var t=e.arr,n=e.change.slice(0,1),i=l.getChildrenData(n[0],[n[0]]);if(e.isAdd){for(var a=0;a<i.length;a++)for(var r=t.length-1;r>=0;r--)if(t[r].value===i[a].value&&t[r].pValue===i[a].pValue){t.splice(r,1);break}var o=l.getSplitDataArr(u),s=l.getParentUnChecked(n[0],[],o,t);i=i.concat(s),t.push.apply(t,i)}else{for(var c=l.getParentChecked(n[0],[],t),d=0;d<c.length;d++)for(var h=t.length-1;h>=0;h--)if(t[h].value===c[d].value&&t[h].pValue===c[d].pValue){t.splice(h,1);break}for(var f=0;f<i.length;f++)for(var p=t.length-1;p>=0;p--)if(t[p].value===i[f].value&&t[p].pValue===i[f].pValue){t.splice(p,1);break}}return t},xmSelect.render(d)},s=0;s<r.length;s++)o(s);this.loading.destroy()},selectShow:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(t,n,i,a,r,o,u,c){var d,h,f,p,m,g,v,y,b,A,w,x,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.loading=$(t).mLoading({text:"参数数据请求中，请稍后……",hasCancel:!1}),e.prev=1,d="",h=null,f=0;case 5:if(!(f<o.length)){e.next=14;break}if(o[f].paramId!==a.dataId){e.next=11;break}if(h=xmSelect.get(n+i,!0),p=h.getValue(),p&&p.length>0)if(m=o[f].associatedParamCol,g="realValue"===o[f].paramValueType?"value":"name","1"===a.dataChoiceType)d+=" and "+m+"='"+p[0][g]+"'";else{for(v="",y=0;y<p.length;y++)v+="'"+p[y][g]+"',";""!==v&&(v=v.substring(0,v.length-1)),d+=" and "+m+" in ("+v+")"}return e.abrupt("break",14);case 11:f++,e.next=5;break;case 14:if(h=xmSelect.get(n+i,!0),b="undefined"!==typeof $(n+i).attr("data-sqlWhereStr")?$(n+i).attr("data-sqlWhereStr"):"",A=null,""===d){e.next=33;break}if(""!==b&&b===d){e.next=32;break}if(r="SELECT * FROM ("+r+") where 1=1"+d,"#selectParam"!==n){e.next=26;break}return e.next=23,(0,s.executeParamSql)(r);case 23:A=e.sent,e.next=29;break;case 26:return e.next=28,(0,s.getSelectTreeData)(r);case 28:A=e.sent;case 29:if(A.data.isError)this.loading.destroy(),this.$message.error("获取参数".concat(a.dataName,"的值的失败，原因：").concat(A.data.message));else{if(w=[],"#selectParam"===n)for(x=0;x<A.data.paramList.length;x++)w.push({name:A.data.paramList[x].paramName,value:A.data.paramList[x].paramValue});else w=l.organizeSelectTreeData(A.data.result);h.update({data:w}),$(n+i).attr("data-sqlWhereStr",d),this.loading.destroy()}e.next=33;break;case 32:this.loading.destroy();case 33:if(""!==d||0!==u.length){e.next=45;break}if(c=!0,"#selectParam"!==n){e.next=41;break}return e.next=38,(0,s.executeParamSql)(r);case 38:A=e.sent,e.next=44;break;case 41:return e.next=43,(0,s.getSelectTreeData)(r);case 43:A=e.sent;case 44:if(A.data.isError)this.loading.destroy(),this.$message.error("获取参数".concat(a.dataName,"的值的失败，原因：").concat(A.data.message));else{if("#selectParam"===n)for(C=0;C<A.data.paramList.length;C++)u.push({name:A.data.paramList[C].paramName,value:A.data.paramList[C].paramValue});else u=l.organizeSelectTreeData(A.data.result);h.update({data:u}),this.loading.destroy()}case 45:""===d&&0!==u.length&&(0!==o.length&&h.update({data:u}),$(n+i).removeAttr("data-sqlWhereStr"),this.loading.destroy()),e.next=53;break;case 48:e.prev=48,e.t0=e["catch"](1),this.loading.destroy(),this.$message.error("程序执行出错，刷新参数数据失败"),console.info(e.t0);case 53:return e.abrupt("return",c);case 54:case"end":return e.stop()}}),e,this,[[1,48]])})));function t(t,n,i,a,r,o,s,l){return e.apply(this,arguments)}return t}(),selectHide:function(e,t,n){var i=xmSelect.get(e+t,!0),a=i.getValue();a&&a.length>0&&i.setValue([])},replaceNodeParam:function(e){var t={verify:!0,message:"",sql:"",paramsArr:[]},n=this.$refs.nodeParam;if(n){for(var i=[],a=0,r=!1,o=this.overallParmaobj[e].sql,l=this.overallParmaobj[e].paramsArr,u=0;u<l.length;u++)"undefined"!==typeof l[u].value&&delete l[u].value;var c=this.paramInfoArr,d=null,h=this.$refs.paramOption;if(h&&h.length>0)for(var f=0;f<h.length;f++){var p=h[f].$attrs.index;d=c[p];var m=d.dataId,g="undefined"!==typeof d.dataAllowedNull?d.dataAllowedNull:"1",v="undefined"!==typeof d.dataDefaultVal?d.dataDefaultVal:"",y={moduleParamId:m,paramValue:$.trim(v),allowedNull:"0"};if(1===g){if(y.allowedNull="1",""===v){r=!0;for(var b=0;b<l.length;b++)l[b].moduleParamId===m&&(l[b]["value"]="")}i.push(y)}else""!==v?i.push(y):a++}var A=this.$refs.selectParam;if(A&&A.length>0)for(var w=0;w<A.length;w++){var x=A[w].getAttribute("index");d=c[x];var C=d.dataId,k="undefined"!==typeof d.dataAllowedNull?d.dataAllowedNull:"1",S=d.dataChoiceType,T=xmSelect.get("#selectParam"+d.selectNum,!0),N=T.getValue(),I={moduleParamId:C,paramValue:"",allowedNull:"0"};if(1===k){if(I.allowedNull="1",0===N.length){r=!0;for(var D=0;D<l.length;D++)l[D].moduleParamId===C&&(l[D]["value"]="")}else if("1"===S)I.paramValue=N[0].value;else{for(var P=0;P<N.length;P++)I.paramValue+="'"+N[P].value+"',";I.paramValue=I.paramValue.substring(0,I.paramValue.length-1)}i.push(I)}else if(0!==N.length){if("1"===S)I.paramValue=N[0].value;else{for(var L=0;L<N.length;L++)I.paramValue+="'"+N[L].value+"',";I.paramValue=I.paramValue.substring(0,I.paramValue.length-1)}i.push(I)}else a++}var O=this.$refs.selectTreeParam;if(O&&O.length>0)for(var M=0;M<O.length;M++){var E=O[M].getAttribute("index");d=c[E];var R=d.dataId,j="undefined"!==typeof d.dataAllowedNull?d.dataAllowedNull:"1",B=d.dataChoiceType,_=xmSelect.get("#selectTreeParam"+d.selectTreeNum,!0),V=_.getValue(),F={moduleParamId:R,paramValue:"",allowedNull:"0"};if(1===j){if(F.allowedNull="1",0===V.length){r=!0;for(var U=0;U<l.length;U++)l[U].moduleParamId===R&&(l[U]["value"]="")}else if("1"===B)F.paramValue=V[0].value;else{for(var q=0;q<V.length;q++)F.paramValue+="'"+V[q].value+"',";F.paramValue=F.paramValue.substring(0,F.paramValue.length-1)}i.push(F)}else if(0!==V.length){if("1"===B)F.paramValue=V[0].value;else{for(var z=0;z<V.length;z++)F.paramValue+="'"+V[z].value+"',";F.paramValue=F.paramValue.substring(0,F.paramValue.length-1)}i.push(F)}else a++}if(0!==a)t.verify=!1,t.message+="含有未输入值的参数项，请重新输入";else{for(var Q=$(n[0]).find(".textParam").length,H=0;H<Q;H++){var G=$(n[0]).find(".textParam:eq("+H+")"),Y=G.attr("index");d=c[Y];var W=d.dataDatalength,K=d.dataName;if("undefined"!==typeof W&&d.dataDefaultVal.length!==parseInt(W)){t.verify=!1,t.message+="参数【"+K+"】输入值的长度与设置的长度值【"+parseInt(W)+"】不相等";break}}if(t.verify){if(r){var J=(0,s.recplaceParams)(o,JSON.stringify(l));null==J.data||J.data.isError?(t.verify=!1,t.message="替换空值参数时出错"):o=J.data.sql}if(""!==o){for(var X=0;X<i.length;X++)for(var Z=i[X].moduleParamId,ee=0;ee<l.length;ee++)if(l[ee].moduleParamId===Z){if(l[ee].paramValue instanceof Array){var te=[];te.push(i[X].paramValue),l[ee].paramValue=te}else l[ee].paramValue=i[X].paramValue;o=o.replace(l[ee].id,i[X].paramValue)}t.sql=o}}else;}t.paramsArr=l}return t}}};t.default=h},"2aee":function(e,t,n){"use strict";n("5f28")},"2b2f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c5f6");var i={props:{value:[String,Number],options:{type:Array,default:function(){return[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}}},data:function(){return{selectVal:""}},watch:{value:{handler:function(e,t){this.selectVal=e},deep:!0,immediate:!0}}};t.default=i},"2b43":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("uploader",{key:e.uploader_key,staticClass:"uploader-example",attrs:{options:e.options,"auto-start":!1},on:{"file-success":e.onFileSuccess,"file-added":e.filesAdded,"file-progress":e.onFileProgress,"file-error":e.onFileError}},[n("uploader-unsupport"),n("uploader-drop",[n("uploader-btn",{attrs:{attrs:e.attrs,single:""}},[e._v("选择文件或者拖拽文件至此处")])],1),n("uploader-list")],1)],1)},a=[]},"2b6f":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var a=i(n("e858")),r=n("d42c"),o=(n("ed08"),{components:{MyElTree:a.default},props:{dataUserId:String,sceneCode:String,treeType:{type:String,default:"common"}},data:function(){return{filterText1:null,props:{label:"label",isLeaf:"leaf"},tableIconPath:"../../images/ico/table_1.png",accessForm:{folderUuid:null,folderName:null,parentFolderUuid:null,orderNum:0,fullPath:null},treeData1:[],treeLoading:!1}},computed:{},watch:{filterText1:function(e){this.$refs.tree1.filter(e)}},created:function(){this.refresh()},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},getTree:function(){return this.$refs.tree1},nodeClick:function(e,t,n){this.$emit("node-click",e,t,n)},nodeExpand:function(){},appendnode:function(e,t){this.$refs.tree1.append(e,t),t.loaded=!1,t.expand()},remove:function(e,t){var n=this;e.forEach((function(e,t){n.$refs.tree1.remove(e)})),t.loaded=!1,t.expand()},loadNode:function(e,t){e.data.children&&"table"!==e.data.type||"table"===e.data.type&&e.data.children.length>0?t(e.data.children):"table"===e.data.type&&0===e.data.children.length&&(0,r.getTableCol)(e.data.id).then((function(e){var n=[];e.data.forEach((function(e){n.push({id:e.colMetaUuid,label:e.colName,type:"col",dataType:e.dataType,dataLength:e.dataLength,leaf:!0,title:e.chnName})})),t(n)}))},refresh:function(){var e=this;this.treeLoading=!0,(0,r.getResELTree)({dataUserId:this.dataUserId,sceneCode:this.sceneCode,type:this.treeType}).then((function(t){e.treeLoading=!1,e.treeData1=t.data}))}}});t.default=o},"2bf4":function(e,t,n){},"2c69":function(e,t,n){e.exports=n.p+"static/img/left_join.eb939a1d.jpg"},"2c77":function(e,t,n){},"2cb4":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var a=n("ca11"),r=i(n("c164")),o=i(n("333d")),s={components:{Pagination:o.default,QueryField:r.default},data:function(){return{tableKey:"errorUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"标题",name:"remindTitle",type:"text",value:""},{label:"提醒时间范围",name:"remindTime",type:"timePeriod"},{label:"阅读状态",name:"readStatus",type:"select",data:[{name:"未阅",value:"0"},{name:"已阅",value:"1"}],default:"-1"}],tableOptions:{},formStyle:{width:"700px",height:"400px"},temp:{remindUuid:"",remindTitle:"",remindContent:"",modeUrl:"",moduleName:"",remindUserUuid:"",remindUserName:"",remindTime:"",readStatus:"",remindedUserUuid:"",remindedUserName:"",remindedType:""},selections:[],dialogFormVisible:!1,pageQuery:{condition:{},pageNo:1,pageSize:20}}},computed:{},created:function(){this.getList()},methods:{readStatusFormatter:function(e,t){var n=this.$createElement,i=e.readStatus;return 0===i?n("span",{class:"red"},["未阅"]):"已阅"},getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e,this.pageQuery.pageNo=1),(0,a.listByPageRemind)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},handleSelectionChange:function(e){this.selections=e},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},resetQuery:function(){this.query={condition:{remindTitle:"",remindContent:"",remindTime:"",readStatus:""}}},selectDetail:function(e){e.remindedType;var t=e.modeUrl;this.$router.push({path:t})},updateCode:function(){var e=this,t=[];this.selections.forEach((function(e,n){t.push(e.remindUuid)})),(0,a.updateReminds)(t).then((function(t){0===t.code?e.getList():e.$notify({success:"失败",message:"标记已阅失败"})}))},handdetails:function(e){var t=this,n=e.remindUuid;null!=e.modeUrl?this.selectDetail(e):(console.log(n),this.temp=e,this.dialogFormVisible=!0),0===e.readStatus&&(0,a.updateRemind)(n).then((function(e){0===e.code?t.getList():t.$notify({success:"失败",message:"标记已阅失败"})}))}}};t.default=s},"2d2b":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.fuzzySearch=r,t.fuzzySearchWithUrl=o,n("6b54"),n("a481"),n("3b2b"),n("7f7f");var a=i(n("1157"));function r(e,t,n,i){if(e){var r=e.setting.data.key.name;n=!1!==n,i=!!i,e.setting.view.nameIsHTML=n;var o="[\\[\\]\\\\^\\$\\.\\|\\?\\*\\+\\(\\)]",s=new RegExp(o,"gi");(0,a.default)(t).bind("input propertychange",(function(){var e=(0,a.default)(this).val();h(e)}));var l=null,u=""}function c(e,t,a){function o(a){if(a&&a.oldname&&a.oldname.length>0&&(a[r]=a.oldname),e.updateNode(a),0==t.length)return e.showNode(a),e.expandNode(a,i),!0;if(a[r]&&-1!=a[r].toLowerCase().indexOf(t.toLowerCase())){if(n){var o=t.replace(s,(function(e){return"\\"+e}));a.oldname=a[r];var l=new RegExp(o,"gi");a[r]=a.oldname.replace(l,(function(e){var t='<span style="color: whitesmoke;background-color: darkred;">'+e+"</span>";return t})),e.updateNode(a)}return e.showNode(a),!0}return e.hideNode(a),!1}t||(t="");var l=e.getNodesByFilter(o);d(l,t)}function d(t,n){if(t&&t.length>0)if(n.length>0)a.default.each(t,(function(t,n){var i=n.getPath();if(i&&i.length>0)for(var a=0;a<i.length-1;a++)e.showNode(i[a]),e.expandNode(i[a],!0)}));else{var i=e.getNodesByParam("level","0");a.default.each(i,(function(t,n){e.expandNode(n,!0)}))}}function h(t){l&&clearTimeout(l),l=setTimeout((function(){u!==t&&(c(e,t),u=t)}),500)}}function o(e,t,n,i,r){if(e){e.setting.data.key.name;n=!1!==n,i=!!i,e.setting.view.nameIsHTML=n;var o="[\\[\\]\\\\^\\$\\.\\|\\?\\*\\+\\(\\)]";new RegExp(o,"gi");(0,a.default)(t).bind("input propertychange",(function(){var e=(0,a.default)(this).val();u(e)}));var s=null,l=""}function u(t){s&&clearTimeout(s),s=setTimeout((function(){l!==t&&(c(e,t),l=t)}),500)}function c(e,t,n){t||(t="");var i=e.getNodesByFilter((function(e){return 0==e.level}),!0),o={keyWords:t};a.default.post(r,o,(function(t){e.removeChildNodes(i),e.addNodes(i,t)}),"json").fail((function(e,t,n){!e.status||0!=e.status.toString().indexOf("4")&&e.status.toString().indexOf("5")}))}}},"2d2e":function(e,t,n){"use strict";n.r(t);var i=n("9488"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"2d31":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPage=s,t.selectOne=l,t.exportFile=u,t.del=c,t.importTable=d;var a=i(n("b775")),r="/data",o="tableMeta";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/listByPage"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getTableInfo"),method:"post",params:{tableMetaUuid:e}})}function u(){return(0,a.default)({baseURL:r,url:"/".concat(o,"/exportFile"),method:"post"})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}function d(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/importDicTable"),method:"post",data:e})}},"2d52":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-confirm-1",use:"icon-icon-confirm-1-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-confirm-1"><defs><style type="text/css"></style></defs><path d="M98 98.2v830.1h830.1V98.2H98z m714.2 257.6L465.8 702.2l-31.5 31.5c-17.4 17.4-45.6 17.4-63 0l-31.5-31.5-126-126c-17.4-17.4-17.4-45.6 0-63s45.6-17.4 63 0l126 126 346.4-346.4c17.4-17.4 45.6-17.4 63 0s17.4 45.6 0 63z" p-id="3149" /></symbol>'});o.a.add(s);t["default"]=s},"2db9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{days:"09",hours:"03",years:"1991",months:"1",min:"12",sec:"25",item:{number:"123213",deg:90}}},computed:{daysDeg:function(){var e=new Date(parseInt(this.years),parseInt(this.months),0).getDate();return parseInt(this.days)/e*360},hoursDeg:function(){return parseInt(this.hours)/24*360},minDeg:function(){return parseInt(this.min)/60*360},secDeg:function(){return parseInt(this.sec)/60*360}},created:function(){var e=this;this.init(),setInterval((function(){e.init()}),1e3)},methods:{init:function(){var e=new Date;this.years=e.getFullYear(),this.months=e.getMonth(),this.days=e.getDate()<10?"0"+e.getDate():e.getDate(),this.hours=e.getHours()<10?"0"+e.getHours():e.getHours(),this.min=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),this.sec=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds()},rangeHandle:function(e){switch(e){case"days":return 30}}}};t.default=i},"2dfe":function(e,t,n){e.exports=n.p+"static/img/zhixing.d9c282a8.png"},"2e07":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vqb-group card",class:"depth-"+e.depth.toString()},[n("div",{staticClass:"vqb-group-heading card-header"},[n("div",{staticClass:"match-type-container form-inline"},[n("label",{staticClass:"mr-2",attrs:{for:"vqb-match-type"}},[e._v(" "+e._s(e.labels.matchType)+" ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.logicalOperator,expression:"query.logicalOperator"}],staticClass:"form-control",staticStyle:{"margin-top":"5px"},attrs:{id:"vqb-match-type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"logicalOperator",t.target.multiple?n:n[0])}}},e._l(e.labels.matchTypes,(function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.label)+" ")])})),0),e.depth>1?n("button",{staticClass:"close ml-auto",attrs:{type:"button"},domProps:{innerHTML:e._s(e.labels.removeGroup)},on:{click:e.remove}}):e._e()])]),n("div",{staticClass:"vqb-group-body card-body"},[n("div",{staticClass:"rule-actions form-inline"},[n("div",{staticClass:"form-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedRule,expression:"selectedRule"}],staticClass:"form-control mr-2",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedRule=t.target.multiple?n:n[0]}}},e._l(e.rules,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.label)+" ")])})),0),n("button",{staticClass:"btn btn-secondary mr-2",attrs:{type:"button"},on:{click:e.addRule}},[e._v(" "+e._s(e.labels.addRule)+" ")]),e.depth<e.maxDepth?n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.addGroup}},[e._v(" "+e._s(e.labels.addGroup)+" ")]):e._e()])]),n("query-builder-children",e._b({},"query-builder-children",e.$props,!1))],1)])},a=[]},"2e2f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary"},on:{click:e.add}}),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",disabled:!e.isShowSingleBtn},on:{click:e.update}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",disabled:!e.isShowManyBtn},on:{click:e.deleteWarning}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"auditWarningList",staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{select:e.listSelectChange,"select-all":e.listSelectChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"预警名称",prop:"warningName",width:"300px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.detail(t.row.auditWarningUuid)}}},[e._v(" "+e._s(t.row.warningName)+" ")])]}}])}),n("el-table-column",{attrs:{label:"创建人",prop:"createUserName",width:"150px",align:"center"}}),n("el-table-column",{attrs:{label:"创建时间",prop:"createTime",formatter:e.dateFormatter}}),n("el-table-column",{attrs:{label:"关联类型",prop:"warningType",formatter:e.warningTypeFormat}}),n("el-table-column",{attrs:{label:"关联模型/指标数量",prop:"sourceCount"}}),n("el-table-column",{attrs:{label:"操作",prop:"isStart"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isStart?n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.startWarning(t.row.auditWarningUuid)}}},[e._v(" 启动 ")]):e._e(),1==t.row.isStart?n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.stopWarning(t.row.auditWarningUuid)}}},[e._v(" 停止 ")]):e._e()]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),e.editDialogVisible?n("el-dialog",{attrs:{title:e.editDialogTitle,visible:e.editDialogVisible},on:{"update:visible":function(t){e.editDialogVisible=t}}},[n("EditAuditWarning",{ref:"edit",attrs:{option:e.operationObj.option,optionUuid:e.operationObj.optionUuid}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("关闭")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:"add"===e.operationObj.option||"update"===e.operationObj.option,expression:"operationObj.option === 'add' || operationObj.option === 'update'"}],attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1):e._e()],1)},a=[]},"2e44":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAMCAYAAACA0IaCAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAE6ADAAQAAAABAAAADAAAAADC31D1AAABoklEQVQoFYVSsWobQRCd2T1ZxnEg4B+wCxc2QU0igu2AmmCEiMEmMVET4yZFyA8YHNCHuFGkLmmEKmNS+BMscCs3TmUwVqEiubudl9k7HZxOSjzFzbx5bx+zN8tv3r5vEahKhQATSobPzvs/+p5qNN69Co05IaBUkBIx3b5++fxLoEZNFTwpChhEEaih/cQsMlwjkRdFXYJBlcFg2ApS0lwy811eCJKDPH6sdosxJ2ZsKYTg99QBAMQ81UqAKR0tWHufEZELjyFy6HFiBie7GfnPzPaK2XUhUSeUaK5sMhm39S/e5BU66anH9f3mqoF9Gku0JMRbOmxXh/6Y12Z1YiaOd5hRyZqTnGxNRGrOxRtC9EwXtWbI9sAYE2S5oE+vySTrutXZ0DEu+t+/eaK+96EqkKEAn+YZeU0yGRluBWyvfSOLWFwnq312kG1A1IgW8/18nZqBvsa6hTyhVypPb1Pxf4z82UBfesgy+2g9qQ8j9NmHLiF0FKdgzteUy38Ci+AzbLxZ5JkYsSv9zPpLK+Xu+EFGREhvkxGaDfOvXrs9+gvdR6HN9ag7awAAAABJRU5ErkJggg=="},"2f1c":function(e,t,n){"use strict";n.r(t);var i=n("dbf4"),a=n("62c8");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("9be4");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"7e341b1c",null);t["default"]=s.exports},"2f48":function(e,t,n){"use strict";n("aac4")},3:function(e,t){},3011:function(e,t,n){e.exports=n.p+"static/img/diaodu.3e4a6a0b.png"},"303a":function(e,t,n){"use strict";n.r(t);var i=n("e342"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"30ca":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"app-container"},[n("div",{attrs:{id:"container"}},[n("div",{staticClass:"col-sm-2 leftCon",staticStyle:{overflow:"auto",height:"100vh"},attrs:{id:"leftPart"}}),n("div",{staticClass:"col-sm-10",staticStyle:{height:"100vh"},attrs:{id:"rightPart"}},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getLikeList}}),n("el-dialog",{attrs:{title:"添加参数",visible:e.addVisible},on:{"update:visible":function(t){e.addVisible=t}}},[n("addParamWindow"),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addVisible=!1}}},[e._v("确 定")])],1)],1),n("el-row",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addVisible=!0}}},[e._v("新增")]),n("el-button",{attrs:{type:"primary"}},[e._v("修改")]),n("el-button",{attrs:{type:"primary"},on:{click:e.enableParam}},[e._v("启用")]),n("el-button",{attrs:{type:"primary"},on:{click:e.disableParam}},[e._v("停用")]),n("el-button",{attrs:{type:"primary"},on:{click:e.deleteParam}},[e._v("删除")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{id:"table",data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"参数名称",width:"500px",align:"center",prop:"paramName"}}),n("el-table-column",{attrs:{label:"数据类型",width:"200px",align:"center",prop:"dataType",formatter:e.readDataType}}),n("el-table-column",{attrs:{label:"创建日期",width:"400px",align:"center",prop:"createTime",formatter:e.dateFormatter}}),n("el-table-column",{attrs:{label:"创建人",prop:"createUserName",align:"center",width:"200px"}}),n("el-table-column",{attrs:{label:"参数状态",width:"200px",align:"center",prop:"enabled",formatter:e.readEnabled}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getLikeList}})],1)])])])},a=[]},"30f3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("d75c"),a={data:function(){return{activeName:"1",accordionName:"",paramsArr:[],message:"该模型暂无参数"}},props:["myId"],methods:{initParamHtmlSS:function(e,t,n,a,r){this.accordionName=n,this.paramsArr=t,(0,i.initParamHtml)(e,t,n,a,r)}}};t.default=a},3141:function(e,t,n){e.exports=n.p+"static/img/inner_join.2b678368.jpg"},"31c2":function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterAsyncRoutes=u,t.default=void 0;var a=i(n("9523"));n("ac6a"),n("6762"),n("2fdb");var r=n("a18c");n("c24f");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return e.includes(t.path)}function u(e,t){var n=[];return e.forEach((function(e){var i=s({},e);console.log(i.path),l(t,i)&&(i.children&&(i.children=u(i.children,t)),n.push(i))})),n}var c={routes:[],addRoutes:[]},d={SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=r.constantRoutes.concat(t)}},h={generateRoutes:function(e,t){e.commit;return new Promise((function(e){var t=[];r.asyncRoutes.forEach((function(e){t.push()})),r.constantRoutes.forEach((function(e){t.push()})),e(t)}))}},f={namespaced:!0,state:c,mutations:d,actions:h};t.default=f},3215:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("5df3");var a=i(n("0dc2")),r={verifyName:function(e,t){e.state;var n={user:{param:{userName:t.userName},api:"users/verify-user-name"},tenant:{param:{tenantCode:t.tenantCode},api:"tenant/verify-tenant-code"},alertgroup:{param:{groupName:t.groupName},api:"alert-group/verify-group-name"}};return new Promise((function(e,i){a.default.get(n[t.type].api,n[t.type].param,(function(t){e(t)})).catch((function(e){i(e)}))}))},createUser:function(e,t){e.state;return new Promise((function(e,n){a.default.post("users/create",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},verifyUserName:function(e,t){e.state;return new Promise((function(e,n){a.default.post("users/verify-user-name",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getUsersListP:function(e,t){e.state;return new Promise((function(e,n){a.default.get("users/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getUsersList:function(e,t){e.state;return new Promise((function(e,n){a.default.get("users/list",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getUsersAll:function(e,t){e.state;return new Promise((function(e,n){a.default.get("users/list-all",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},updateUser:function(e,t){e.state;return new Promise((function(e,n){a.default.post("users/update",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},deleteUser:function(e,t){e.state;return new Promise((function(e,n){a.default.post("users/delete",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getAuthList:function(e,t){e.state;var n={type:t.type,category:t.category},i={};"user"===n.type?i.alertgroupId=t.id:i.userId=t.id;var r=new Promise((function(e,t){a.default.get("".concat(n.category,"/unauth-").concat(n.type),i,(function(t){e(t.data)})).catch((function(e){t(e)}))})),o=new Promise((function(e,t){a.default.get("".concat(n.category,"/authed-").concat(n.type),i,(function(t){e(t.data)})).catch((function(e){t(e)}))}));return new Promise((function(e,t){Promise.all([r,o]).then((function(t){e(t)})).catch((function(e){t(e)}))}))},getResourceList:function(e,t){e.state;var n={type:t.type,category:t.category},i={};"user"===n.type?i.alertgroupId=t.id:i.userId=t.id;var r=new Promise((function(e,t){a.default.get("".concat(n.category,"/authorize-resource-tree"),i,(function(t){e(t.data)})).catch((function(e){t(e)}))})),o=new Promise((function(e,t){a.default.get("".concat(n.category,"/authed-").concat(n.type),i,(function(t){e(t.data)})).catch((function(e){t(e)}))}));return new Promise((function(e,t){Promise.all([r,o]).then((function(t){e(t)})).catch((function(e){t(e)}))}))},grantAuthorization:function(e,t){e.state;return new Promise((function(e,n){a.default.post(t.api,t.param,(function(t){e(t)})).catch((function(e){n(e)}))}))},getUsersDetails:function(e,t){e.state;return new Promise((function(e,n){a.default.post("users/select-by-id",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getTenantListP:function(e,t){e.state;return new Promise((function(e,n){a.default.get("tenant/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getTenantList:function(e,t){var n=e.state;return new Promise((function(e,t){var i=[{id:-1,tenantName:"default"}];n.tenantAllList=i,e(i)}))},getQueueList:function(e,t){e.state;return new Promise((function(e,n){a.default.get("queue/list",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},createQueue:function(e,t){e.state;return new Promise((function(e,n){a.default.post("tenant/create",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},updateQueue:function(e,t){e.state;return new Promise((function(e,n){a.default.post("tenant/update",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},deleteQueue:function(e,t){e.state;return new Promise((function(e,n){a.default.post("tenant/delete",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getAlertgroupP:function(e,t){e.state;return new Promise((function(e,n){a.default.get("alert-group/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getAlertgroup:function(e,t){e.state;return new Promise((function(e,n){a.default.get("alert-group/list",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},createAlertgrou:function(e,t){e.state;return new Promise((function(e,n){a.default.post("alert-group/create",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},updateAlertgrou:function(e,t){e.state;return new Promise((function(e,n){a.default.post("alert-group/update",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},deleteAlertgrou:function(e,t){e.state;return new Promise((function(e,n){a.default.post("alert-group/delete",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getProcessMasterList:function(e,t){e.state;return new Promise((function(e,n){a.default.get("process/master/list",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getProcessWorkerList:function(e,t){e.state;return new Promise((function(e,n){a.default.get("process/worker/list",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getQueueListP:function(e,t){e.state;return new Promise((function(e,n){a.default.get("queue/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},createQueueQ:function(e,t){e.state;return new Promise((function(e,n){a.default.post("queue/create",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},updateQueueQ:function(e,t){e.state;return new Promise((function(e,n){a.default.post("queue/update",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},verifyQueueQ:function(e,t){e.state;return new Promise((function(e,n){a.default.post("queue/verify-queue",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getWorkerGroups:function(e,t){e.state;return new Promise((function(e,n){a.default.get("worker-group/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getWorkerGroupsAll:function(e,t){var n=e.state;return new Promise((function(e,t){var i=[{id:"default",name:"default"}];n.workerGroupsListAll=i,e(i)}))},saveWorkerGroups:function(e,t){e.state;return new Promise((function(e,n){a.default.post("worker-group/save",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},deleteWorkerGroups:function(e,t){e.state;return new Promise((function(e,n){a.default.get("worker-group/delete-by-id",t,(function(t){e(t)})).catch((function(e){n(e)}))}))}};t.default=r},3252:function(e,t,n){"use strict";n.r(t);var i=n("6db7"),a=n("f132");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},3286:function(e,t,n){e.exports=n.p+"static/img/gongju.ac3fbd5b.png"},3320:function(e,t,n){},"332b":function(e,t,n){"use strict";n.r(t);var i=n("9641"),a=n("27f3");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("e6d7");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},3330:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAwCAYAAABqkJjhAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALKADAAQAAAABAAAAMAAAAABZfp0gAAADYElEQVRoBe2YS2gTQRjHZ9OmpYLGd/WklipCFav4Ooh6VLAgQtCCXkQQoR5qBXvIoYj4AusDL548FB83H5egIHrxpBUt+KgPUKyvxtqKTaEk2fX/pdma3e5kJrs7yQr54M/sfDPzfb/Mzs7ORjMMI8IYmwcFxUY0TfvJhQHwYShIdokLi4ZQocYgtv13wNVBnEViMqLRCBtlzRa+KvY+sMCArQHsAguwHvoW3CWxoWmYhcL3swpXvTXBZWb4Cjr/Mgf4UGqI0SmKo3V1pdFnmPoZLa31Zn8Z4G7si5O/0BzotsT+KQXMiy8DHEOSEV4AF34Cdm0ywPtcR1cwMLgPHefHlgo4g/z90CiHQ9pdCuBboKnHg7scJR20jkA65MpUA9OstgJ2iOhQ6tB5XBY84FBfnskAf8fgdmgbdBQahGTtNgDHHTrfdPBJuUS7xA9EWYWkJuQ9bHE34OuD5khk4G1h9FJwZaIZPpcHm02A+ldcXJDMtpDTbyfHL3SLgN9wIrzi+PPdV1E5gDsSgerMBlzvxfUxs15sKQJu4gSkJfEs1zaG8gy0B4pBdAfacSf2o2yEeqEBgD6CPuG6BwpDrky0hjuQpAfJv5jRUacj3wC0HjoEPUD7a5RZQ/tp1DMod8BxHZo+0cK25EpPhQh4LqK/QHLaimgZrIBox6DTWxvALqO0WA52K5x3INEdtIyVqYiAKQbtBidswWahHscP2QVAejHYjd5svsNSEq9BN9pJc3V6qykxr8AHMcuL8slQn4F6Z77Pz2uZJVEoH50NngLyJMrn0FKItqwGSIl5BSYoejC7ldA5BPW6JBxCqnVVgNXOL2PiNXz87EOWGBL3kyUNhQx28dRm2e72fmKQ3r7FLJVaYh/ouo5DvOuxGCgGjnX8ZsmxJ16SWMZqjM7Iay2+Iipi4HWrm4uIp7xrZZdQPcXiJcHYJkB88BGE7urk+brYuDLACRwh6cvZF8O5g/dhKhVfBrgfSaSClaJT5aFTPcuVGVY9w/TQ0X8FccdEHz/XscFELWtsSLLZM1OOffx3FvyTphpb1l3kJE0xo2X3GpbW8dlT81iLXxuY0qEMDpltDVjplcb26LIy8E2kzOjTzNySwDp9CZfPjH8n0sLA6fkvWTj5rnyktsy1f8b/AskfWB6lLaCYAAAAAElFTkSuQmCC"},"333d":function(e,t,n){"use strict";n.r(t);var i=n("812d"),a=n("ea0d");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("828b");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"33d7950f",null);t["default"]=s.exports},"336f":function(e,t,n){},3370:function(e,t,n){},3399:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"正在加载数据中..."}},[n("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"常规",name:"convention"}},[n("div",{staticStyle:{height:"500px"},attrs:{id:"convention"}},[n("el-input",{attrs:{id:"inMeasureFilterSearch",placeholder:"请输入搜索条件"},on:{input:function(t){return e.searchOnChange()}},model:{value:e.inMeasureFilterSearch,callback:function(t){e.inMeasureFilterSearch=t},expression:"inMeasureFilterSearch"}}),n("div",{staticStyle:{height:"400px","overflow-y":"auto",cursor:"pointer"}},[n("table",{attrs:{id:"colData"}})]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.isNoSelect(!0)}}},[e._v("全选")]),n("el-button",{attrs:{type:"default"},on:{click:function(t){return e.isNoSelect(!1)}}},[e._v("取消全选")])],1)]),n("el-tab-pane",{attrs:{label:"条件",name:"filter"}},[e.isLoadQueryBuilder?n("myquerybuilder",{ref:"myQueryBuilder",attrs:{columns:e.queryRules,data:e.queryBuilderJson,inputselectvalue:e.inputselectvalue}}):e._e()],1)],1),n("el-footer",[n("div",{staticStyle:{float:"right"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.enter}},[e._v("确定")]),n("el-button",{attrs:{type:"primary"},on:{click:e.closeDialog}},[e._v("取消")])],1)])],1)},a=[]},"33a7":function(e,t,n){"use strict";n.r(t);var i=n("6721"),a=n("ef91");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"33ac":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("el-row",{staticStyle:{"padding-top":"10px"}},[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn customfield",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(t){return e.customizeColumn("1")}}}),n("el-button",{staticClass:"oper-btn help",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(t){e.helpDialogVisible=!0}}})],1)],1),n("el-table",{ref:"outPutTable",staticStyle:{width:"100%"},attrs:{data:e.items,border:"",height:"526"}},[n("el-table-column",{attrs:{type:"index",label:"编号",width:"60",align:"center",resizable:!1}}),n("el-table-column",{attrs:{label:"上一节点名称",width:"200","show-overflow-tooltip":!0,prop:"rtn","header-align":"center",resizable:!1}}),n("el-table-column",{attrs:{label:"字段名称",width:"260","show-overflow-tooltip":!0,prop:"curColumnName","header-align":"center",resizable:!1}}),n("el-table-column",{attrs:{label:"输出字段名称",width:"240","header-align":"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.disColumnName,callback:function(n){e.$set(t.row,"disColumnName",n)},expression:"scope.row.disColumnName"}})]}}])}),n("el-table-column",{attrs:{align:"center",width:"100",resizable:!1},scopedSlots:e._u([{key:"header",fn:function(t){return[e._v(" 输出字段"),n("el-checkbox",{staticStyle:{"padding-left":"5px"},attrs:{disabled:e.isAllDisabled},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})]}},{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{disabled:e.isDisabled},on:{change:e.checkBoxChange},model:{value:t.row.checked,callback:function(n){e.$set(t.row,"checked",n)},expression:"scope.row.checked"}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"100",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"oper-btn setting",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.customizeColumn("2",t.row)}}})]}}])})],1),n("el-dialog",{attrs:{visible:e.helpDialogVisible,"append-to-body":!0,title:"说明",width:"400px"},on:{"update:visible":function(t){e.helpDialogVisible=t}}},[n("div",{staticStyle:{height:"260px",padding:"10px"}},[n("p",{staticStyle:{"text-indent":"2em"}},[e._v("（1）如果修改了【输出字段名称】且存在已配置过或执行过的后续节点，则后续节点关于该字段的配置信息会失效")]),n("p",{staticStyle:{"text-indent":"2em"}},[e._v("（2）如果继续使用后续节点，则需重新配置和执行相关节点")]),n("p",{staticStyle:{"text-indent":"2em"}},[e._v("（3）如果修改了【输出字段名称】后并执行了当前节点，则后续节点的执行结果会发生变化")]),n("p",{staticStyle:{"text-indent":"2em"}},[e._v("（4）支持通过拖拽更改输出字段的顺序，同时在结果集中同步展示")])])]),e.customizeColumnDialogVisible?n("el-dialog",{attrs:{visible:e.customizeColumnDialogVisible,title:e.customizeColumnTitle,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"1000px"},on:{"update:visible":function(t){e.customizeColumnDialogVisible=t}}},[n("CustomizeColumn",{ref:"customizeColumn",attrs:{columnInfoArr:e.columnsInfoPre,"cur-column-info":e.curColumnInfo,"node-type":"common"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.customizeColumnDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.customizeColumnBack()}}},[e._v("保存")])],1)],1):e._e()],1)},a=[]},"340c":function(e,t,n){"use strict";n("a413")},"342e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("28a5"),n("456d"),n("7f7f"),n("ac6a"),n("c5f6");n("ed08");var i={props:{formData:{type:Array,default:[]},textWidth:{type:Number,default:163},selectWidth:{type:Number,default:163},timePeriodWidth:{type:Number,default:220}},data:function(){return{query:{},keywordQuery:{},searchBar:"0",switchImg:"",searchFor:n("f3fe"),resetFor:n("3bd3")}},computed:{textStyle:function(){return"width: ".concat(this.textWidth,"px")},selectStyle:function(){return"width: ".concat(this.selectWidth,"px")},timeStyle:function(){return"width: ".concat(this.timePeriodWidth,"px")}},watch:{formData:{deep:!0,immediate:!0,handler:function(e){this.setData(e)}}},created:function(){this.setData(this.formData)},mounted:function(){this.cSearch()},methods:{getData:function(){return this.query},setData:function(e){var t=this;switch(this.searchBar){case"0":e.forEach((function(e){if("timePeriod"===e.type){if(t.$set(t.query,e.name+"Start",null),t.$set(t.query,e.name+"End",null),e.value&&null!==e.value&&e.value instanceof Array){var n=e.value;2===n.length&&(t.query[e.name+"Start"]=n[0],t.query[e.name+"End"]=n[1])}}else"text"===e.type||"fuzzyText"===e.type?(t.$set(t.query,e.name,""),e.value&&null!==e.value&&""!==e.value&&(t.query[e.name]=e.value)):"select"===e.type&&(t.$set(t.query,e.name,null),e.value&&null!==e.value&&""!==e.value?t.query[e.name]=e.value:t.$set(t.query,e.name,""))}));break;case"1":e.forEach((function(e){if("timePeriod"===e.type){if(t.$set(t.keywordQuery,e.name+"Start",null),t.$set(t.keywordQuery,e.name+"End",null),e.value&&null!==e.value&&e.value instanceof Array){var n=e.value;2===n.length&&(t.keywordQuery[e.name+"Start"]=n[0],t.keywordQuery[e.name+"End"]=n[1])}}else"text"===e.type||"fuzzyText"===e.type?(t.$set(t.keywordQuery,e.name,""),e.value&&null!==e.value&&""!==e.value&&(t.keywordQuery[e.name]=e.value)):"select"===e.type&&(t.$set(t.keywordQuery,e.name,null),e.value&&null!==e.value&&""!==e.value?t.keywordQuery[e.name]=e.value:t.$set(t.query,e.name,""))}));break}},onSubmit:function(){switch(this.searchBar){case"0":this.$emit("submit",this.query);break;case"1":this.$emit("submit",this.keywordQuery);break}},clearAll:function(){var e=this;Object.keys(this.query).forEach((function(t){e.query[t]=null}))},onSwitchWith:function(){"0"===this.searchBar?this.searchBar="1":this.searchBar="0";var e=window.location.href,t=e.split("/");"0"===this.searchBar?this.switchImg=n("0583"):this.switchImg=n("6905"),localStorage.setItem(t,this.searchBar)},cSearch:function(){var e=window.location.href,t=e.split("/");localStorage.getItem(t)&&(this.searchBar=localStorage.getItem(t)),"0"===this.searchBar?this.switchImg=n("0583"):this.switchImg=n("6905")}}};t.default=i},3487:function(e,t,n){},3494:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"inputParamContent",staticClass:"paramadrawnew",staticStyle:{"min-height":"290px","overflow-y":"auto"}},[n("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-collapse-item",{ref:"nodeParam",attrs:{name:"collapse1",title:e.collapseTitle}},[e.hasParam?n("div",{staticStyle:{"font-weight":"lighter","font-size":"15px"},attrs:{align:"center"}},[e._v("该模型没有参数")]):e._e(),e._l(e.paramInfoArr,(function(t,i){return n("el-row",{key:i,staticStyle:{margin:"15px"}},[n("el-col",{staticStyle:{"line-height":"36px","padding-right":"10px","text-align":"right"},attrs:{span:7}},[n("el-tooltip",{attrs:{content:t.description,placement:"bottom"}},[n("label",[e._v(e._s(t.paramName))])])],1),n("el-col",{attrs:{span:15}},["lineinp"===t.inputType?n("div",{ref:"selectParam",refInFor:!0,attrs:{index:i,id:t.id,title:t.title}}):e._e(),"textinp"===t.inputType?n("el-input",{ref:"paramOption",refInFor:!0,staticClass:"textParam",attrs:{index:i,title:t.title},model:{value:t.dataDefaultVal,callback:function(n){e.$set(t,"dataDefaultVal",n)},expression:"paramInfo.dataDefaultVal"}}):e._e(),"timeinp"===t.inputType?n("el-date-picker",{ref:"paramOption",refInFor:!0,staticStyle:{width:"98%"},attrs:{index:i,title:t.title,type:"date",placeholder:"选择日期"},model:{value:t.dataDefaultVal,callback:function(n){e.$set(t,"dataDefaultVal",n)},expression:"paramInfo.dataDefaultVal"}}):e._e(),"treeinp"===t.inputType?n("div",{ref:"selectTreeParam",refInFor:!0,attrs:{index:i,id:t.id,title:t.title}}):e._e()],1),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.allowedNull,expression:"paramInfo.allowedNull"}],attrs:{span:2}},[n("div",{staticStyle:{color:"red",display:"inline-block","font-weight":"bold","font-size":"20px"}},[e._v("*")])])],1)}))],2)],1)],1)},a=[]},"34c1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={route:{dashboard:"Panel de control",documentation:"Documentación",guide:"Guía",permission:"Permisos",rolePermission:"Permisos de rol",pagePermission:"Permisos de la página",directivePermission:"Permisos de la directiva",icons:"Iconos",components:"Componentes",tinymce:"Tinymce",markdown:"Markdown",jsonEditor:"Editor JSON",dndList:"Lista Dnd",splitPane:"Panel dividido",avatarUpload:"Subir avatar",dropzone:"Subir ficheros",sticky:"Sticky",countTo:"CountTo",componentMixin:"Mixin",backToTop:"Ir arriba",dragDialog:"Drag Dialog",dragSelect:"Drag Select",dragKanban:"Drag Kanban",charts:"Gráficos",keyboardChart:"Keyboard Chart",lineChart:"Gráfico de líneas",mixChart:"Mix Chart",example:"Ejemplo",nested:"Rutas anidadass",menu1:"Menu 1","menu1-1":"Menu 1-1","menu1-2":"Menu 1-2","menu1-2-1":"Menu 1-2-1","menu1-2-2":"Menu 1-2-2","menu1-3":"Menu 1-3",menu2:"Menu 2",Table:"Tabla",dynamicTable:"Tabla dinámica",dragTable:"Arrastrar tabla",inlineEditTable:"Editor",complexTable:"Complex Table",tab:"Pestaña",form:"Formulario",createArticle:"Crear artículo",editArticle:"Editar artículo",articleList:"Listado de artículos",errorPages:"Páginas de error",page401:"401",page404:"404",errorLog:"Registro de errores",excel:"Excel",exportExcel:"Exportar a Excel",selectExcel:"Export seleccionado",mergeHeader:"Merge Header",uploadExcel:"Subir Excel",zip:"Zip",pdf:"PDF",exportZip:"Exportar a Zip",theme:"Tema",clipboardDemo:"Clipboard",i18n:"I18n",externalLink:"Enlace externo",profile:"Profile"},navbar:{logOut:"Salir",dashboard:"Panel de control",github:"Github",theme:"Tema",size:"Tamaño global",profile:"Profile"},login:{title:"Formulario de acceso",logIn:"Acceso",username:"Usuario",password:"Contraseña",any:"nada",thirdparty:"Conectar con",thirdpartyTips:"No se puede simular en local, así que combine su propia simulación de negocios. ! !"},documentation:{documentation:"Documentación",github:"Repositorio Github"},permission:{addRole:"Nuevo rol",editPermission:"Permiso de edición",roles:"Tus permisos",switchRoles:"Cambiar permisos",tips:"In some cases it is not suitable to use v-permission, such as element Tab component or el-table-column and other asynchronous rendering dom cases which can only be achieved by manually setting the v-if.",delete:"Borrar",confirm:"Confirmar",cancel:"Cancelar"},guide:{description:"The guide page is useful for some people who entered the project for the first time. You can briefly introduce the features of the project. Demo is based on ",button:"Ver guía"},components:{documentation:"Documentación",tinymceTips:"Rich text editor is a core part of management system, but at the same time is a place with lots of problems. In the process of selecting rich texts, I also walked a lot of detours. The common rich text editors in the market are basically used, and the finally chose Tinymce. See documentation for more detailed rich text editor comparisons and introductions.",dropzoneTips:"Because my business has special needs, and has to upload images to qiniu, so instead of a third party, I chose encapsulate it by myself. It is very simple, you can see the detail code in @/components/Dropzone.",stickyTips:"when the page is scrolled to the preset position will be sticky on the top.",backToTopTips1:"When the page is scrolled to the specified position, the Back to Top button appears in the lower right corner",backToTopTips2:"You can customize the style of the button, show / hide, height of appearance, height of the return. If you need a text prompt, you can use element-ui el-tooltip elements externally",imageUploadTips:"Since I was using only the vue@1 version, and it is not compatible with mockjs at the moment, I modified it myself, and if you are going to use it, it is better to use official version."},table:{dynamicTips1:"Fixed header, sorted by header order",dynamicTips2:"Not fixed header, sorted by click order",dragTips1:"Orden por defecto",dragTips2:"The after dragging order",title:"Título",importance:"Importancia",type:"Tipo",remark:"Remark",search:"Buscar",add:"Añadir",export:"Exportar",reviewer:"reviewer",id:"ID",date:"Fecha",author:"Autor",readings:"Lector",status:"Estado",actions:"Acciones",edit:"Editar",publish:"Publicar",draft:"Draft",delete:"Eliminar",cancel:"Cancelar",confirm:"Confirmar"},example:{warning:"Creating and editing pages cannot be cached by keep-alive because keep-alive include does not currently support caching based on routes, so it is currently cached based on component name. If you want to achieve a similar caching effect, you can use a browser caching scheme such as localStorage. Or do not use keep-alive include to cache all pages directly. See details"},errorLog:{tips:"Please click the bug icon in the upper right corner",description:"Now the management system are basically the form of the spa, it enhances the user experience, but it also increases the possibility of page problems, a small negligence may lead to the entire page deadlock. Fortunately Vue provides a way to catch handling exceptions, where you can handle errors or report exceptions.",documentation:"Documento de introducción"},excel:{export:"Exportar",selectedExport:"Exportar seleccionados",placeholder:"Por favor escribe un nombre de fichero"},zip:{export:"Exportar",placeholder:"Por favor escribe un nombre de fichero"},pdf:{tips:"Here we use window.print() to implement the feature of downloading pdf."},theme:{change:"Cambiar tema",documentation:"Documentación del tema",tips:"Tips: It is different from the theme-pick on the navbar is two different skinning methods, each with different application scenarios. Refer to the documentation for details."},tagsView:{refresh:"Actualizar",close:"Cerrar",closeOthers:"Cerrar otros",closeAll:"Cerrar todos"},settings:{title:"Page style setting",theme:"Theme Color",tagsView:"Open Tags-View",fixedHeader:"Fixed Header",sidebarLogo:"Sidebar Logo"}};t.default=i},"34fd":function(e,t,n){"use strict";n.r(t);var i=n("9e25"),a=n("bf8b");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("fda1");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"65b703aa",null);t["default"]=s.exports},3515:function(e,t,n){"use strict";n.r(t);var i=n("a347"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"351f":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("dbce")),r={path:"/data",name:"审计数据管理",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b574"))}))},meta:{},children:[{path:"bizattr",name:"业务属性",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("9d27"))}))}},{path:"table",name:"表注册",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("151d"))}))}},{path:"directory",name:"数据资源目录",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("437c"))}))}},{path:"scene",name:"业务场景维护",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("54fd"))}))}},{path:"sceneEdit",name:"业务场景维护",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("ca6c"))}))}},{path:"resquery",name:"用户资源查询",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("9981"))}))}},{path:"transcode",name:"数据转码维护",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("0ccf"))}))}},{path:"dict",name:"数据字典维护",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("59b5"))}))}},{path:"tblrel",name:"表关联关系维护",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("5ed6"))}))}},{path:"role/:sceneCode",name:"数据角色维护",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("f354"))}))}},{path:"roleRes/:roleUuid",name:"数据角色维护-角色资源绑定",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("665b"))}))}},{path:"roleGrp/:roleUuid/:sceneCode",name:"数据角色维护-角色用户组绑定",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b488"))}))}},{path:"formula",name:"指标计算公式维护",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("d1b6"))}))}},{path:"workspace/:sceneCode",name:"项目空间",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("1636"))}))}}]},o=r;t.default=o},3536:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-query-builder"},[e._t("default",[n("query-builder-group",e._b({attrs:{query:e.query},on:{"update:query":function(t){e.query=t}}},"query-builder-group",e.vqbProps,!1))],null,e.vqbProps)],2)},a=[]},3538:function(e,t,n){},"35ba":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-list-container all"},[n("el-tabs",{attrs:{closable:""},on:{"tab-click":e.handleClick,"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},[n("el-tab-pane",{attrs:{label:"模型列表",name:"modelList"}},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),"warning"!=e.power?n("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn start",attrs:{type:"primary",disabled:e.btnState.previewBtn},on:{click:e.previewModel}}),n("el-dropdown",{staticStyle:{"margin-right":"10px"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary",disabled:e.btnState.addBtnState},on:{mouseover:e.mouseOver,mouseleave:e.mouseLeave,click:function(t){return e.selectModelTypeDetermine("002003001")}}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.modelTypeData,(function(t){return n("el-dropdown-item",{key:t.codeValue,nativeOn:{click:function(n){return e.selectModelTypeDetermine(t.codeValue)}}},[e._v(e._s(t.codeName))])})),1)],1),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",disabled:e.btnState.editBtnState},on:{click:e.updateModel}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",disabled:e.btnState.deleteBtnState},on:{click:e.deleteModel}}),n("el-dropdown",{staticClass:"el-dropdown",attrs:{placement:"bottom",trigger:"click"}},[n("el-button",{staticClass:"oper-btn more",attrs:{type:"primary",disabled:e.btnState.otherBtn}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.exportModel(t)}}},[e._v("导出")]),n("el-dropdown-item",{nativeOn:{click:function(t){e.modelFolderTreeDialog=!0}}},[e._v("导入")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.shareModelDialog(t)}}},[e._v("共享")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.publicModel("publicModel")}}},[e._v("发布")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.cancelPublicModel()}}},[e._v("撤销发布")])],1)],1)],1)],1):e._e(),e.modelFolderTreeDialog?n("el-dialog",{attrs:{visible:e.modelFolderTreeDialog,title:"选择业务分类",width:"50%"},on:{"update:visible":function(t){e.modelFolderTreeDialog=t}}},[n("ModelFolderTree",{ref:"modelFolderTree",attrs:{"public-model":"editorModel"}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.setImportFolder}},[e._v("确定")]),n("el-button",{on:{click:function(t){e.modelFolderTreeDialog=!1}}},[e._v("取消")])],1)],1):e._e(),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"modelListTable",staticStyle:{height:"450px","overflow-y":"scroll"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{select:e.modelTableSelectEvent,"select-all":e.modelTableSelectEvent}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"模型名称",width:"300px",prop:"modelName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.selectModelDetail(t.row.modelUuid)}}},[e._v(e._s(t.row.modelName))])]}}])}),n("el-table-column",{attrs:{label:"平均运行时间",width:"150px",align:"center",prop:"runTime"}}),n("el-table-column",{attrs:{label:"审计事项",prop:"auditItemName",align:"center"}}),n("el-table-column",{attrs:{label:"风险等级",prop:"riskLevelUuid",align:"center",formatter:e.riskLevelFormatter}}),n("el-table-column",{attrs:{label:"模型类型",prop:"modelType",align:"center",formatter:e.modelTypeFormatter}}),n("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:"center",formatter:e.dateFormatter}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}})],1),e._l(e.editableTabs,(function(t,i){return n("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{staticClass:"content-y",attrs:{name:"2"}},[n("el-row",[n("div",{on:{click:function(t){return e.Toggle1()}}},[n("el-col",{staticClass:"row-all",attrs:{span:24}},[n("childTabs",{key:1,ref:t.name,refInFor:!0,attrs:{isRelation:!0===t.isRelation,modelId:e.modelId,"is-model-preview":!0,"pre-value":t.executeSQLList,"use-type":"modelPreview"},on:{setNextValue:e.setNextValue,addTab:e.addTab}})],1)],1),n("el-col",{attrs:{span:2}},[t.isExistParam?n("el-button",{staticClass:"btn-show",attrs:{type:"primary"},on:{click:function(n){return e.loadParamDraw(t.name)}}},[n("span",{staticClass:"iconfont iconoper-search"}),e._v("查询 ")]):e._e()],1)],1)],1)],1)],1)}))],2),n("modelshoppingcart",{directives:[{name:"show",rawName:"v-show",value:e.isShowShoppingCart,expression:"isShowShoppingCart"}],ref:"modelShoppingCartRef",attrs:{"data-user-id":e.dataUserId,"scene-code":e.sceneCode}}),e.treeSelectShow?n("el-dialog",{attrs:{visible:e.treeSelectShow,title:"发布模型",width:"50%"},on:{"update:visible":function(t){e.treeSelectShow=t}}},[n("ModelFolderTree",{ref:"modelFolderTree",attrs:{"public-model":e.publicModelValue}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.updatePublicModel}},[e._v("确定")]),n("el-button",{on:{click:function(t){e.treeSelectShow=!1}}},[e._v("取消")])],1)],1):e._e(),e.dialogFormVisible?n("el-dialog",{attrs:{title:"请输入参数",visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[e.dialogFormVisible?n("paramDrawNew",{ref:"paramDrawRefNew",attrs:{sql:this.currentPreviewModelParamAndSql.sqlValue,arr:this.currentPreviewModelParamAndSql.paramObj}}):e._e(),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.replaceNodeParam}},[e._v("确定")])],1)],1):e._e(),e.dialogFormVisiblePersonTree?n("el-dialog",{attrs:{title:"请选择共享人员",visible:e.dialogFormVisiblePersonTree,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisiblePersonTree=t}}},[n("personTree",{ref:"personTree"}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisiblePersonTree=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.shareModel}},[e._v("确定")])],1)],1):e._e(),n("el-upload",{staticStyle:{position:"relative",top:"-40px",left:"240px",display:"none"},attrs:{"show-file-list":!1,"on-success":e.onSuccess,"on-error":e.onError,"before-upload":e.beforeUpload,"on-remove":e.handleRemove,action:"/analysis/modelController/importModel/"+e.modelFolderUuid,accept:".json"}},[n("el-button",{attrs:{id:"importBtn",plain:"",type:"primary"}},[e._v("导入")])],1),n("el-dialog",{attrs:{title:"请选择模型类型",visible:e.addModelIsSee,width:"30%"},on:{"update:visible":function(t){e.addModelIsSee=t}}},[n("el-select",{staticStyle:{width:"67%"},attrs:{placeholder:"请选择模型类型"},model:{value:e.selectModelType,callback:function(t){e.selectModelType=t},expression:"selectModelType"}},e._l(e.modelTypeData,(function(e){return n("el-option",{key:e.codeValue,attrs:{value:e.codeValue,label:e.codeName}})})),1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addModelIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectModelTypeDetermine()}}},[e._v("确 定")])],1)],1)],1)},a=[]},"35c3":function(e,t,n){"use strict";n.r(t);var i=n("4862"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"35cd":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.selectLikePageVoHandle=o,t.selectTableHandle=s,t.addOrUpdate=l,t.updateRunTaskRel=u;var a=i(n("b775")),r="/analysis";function o(e){return(0,a.default)({baseURL:r,url:"/modelResultHandle/selectLikePageVoHandle",method:"post",data:e})}function s(e,t,n){return(0,a.default)({baseURL:r,url:"/modelResultHandle/selectTableHandle",method:"post",data:{basePageParam:e,filterSql:t,projectUuid:n}})}function l(e){return(0,a.default)({baseURL:r,url:"/modelResultHandle/addOrUpdate",method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/RunTaskRelController/updateRunTaskRel",method:"put",data:e})}},"35d9":function(e,t,n){"use strict";n.r(t);var i=n("afaf"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"35e7":function(e,t,n){"use strict";n("e8dc")},"35e82":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("28a5"),n("a481"),n("7514"),n("7f7f"),n("5df3"),n("1c4c");var i={name:"FilterSet",data:function(){return{nodeData:null,zTreeObj_Filter:null,connType:"and",quotes:!0,quotesDisabled:!0,blankSpace:!1,showConnValue:!0,selectColms:[],select_colms:"",preNodeName:"",select_cz:"",selectCzArr:[{value:"=",name:"等于"},{value:"!=",name:"不等于"},{value:">",name:"大于"},{value:">=",name:"大于等于"},{value:"<",name:"小于"},{value:"<=",name:"小于等于"},{value:"like_star",name:"开头是"},{value:"like_end",name:"结尾是"},{value:"like_all",name:"包含"},{value:"not_like_all",name:"不包含"},{value:"in",name:"包含多个值"}],compareObj:"",compareArr:[{value:"value",name:"值"},{value:"column",name:"字段"}],compareObjDisabled:!1,compareColumnSel:"",compareColumnArr:[],conn_value:"",showMoreVal:!1}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.$parent.$parent.$parent.graph;this.nodeData=t.nodeData[t.curCell.id];var n=this.nodeData.parentIds,i=this.nodeData.isSet,a=t.nodeData[n[0]];this.preNodeName="【上级节点名称："+a.nodeInfo.nodeName+"】";var r=this.$parent.$parent.$parent.columnsInfoPre,o=this.initZtreeSetting();i?(r=this.nodeData.setting.columnsInfo,this.zTreeObj_Filter=$.fn.zTree.init($(this.$refs.filterZtree),o,this.nodeData.setting.nodes)):this.zTreeObj_Filter=$.fn.zTree.init($(this.$refs.filterZtree),o,[]),Array.from(r,(function(t){var n=t.newColumnName,i="".concat(n,"(").concat(t.columnType,")");e.selectColms.push({newColumnName:n,displayName:i}),e.compareColumnArr.push({newColumnName:n,displayName:i})}))},setSelectColms:function(e){this.select_colms=e},setCompareColumnSel:function(e){this.compareColumnSel=e},initZtreeSetting:function(){var e=this;return{view:{selectedMulti:!0,showLine:!1},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pId",rootPId:null}},edit:{enable:!0,drag:{isCopy:!1,inner:!1,prev:!0,next:!0},showRemoveBtn:!1,showRenameBtn:!1},callback:{beforeDrag:function(e,t){for(var n=!0,i=0;i<t.length;i++)if(null!=t[i].pId&&""!==t[i].pId&&"undefined"!==typeof t[i].pId){n=!1;break}return n},beforeDrop:function(e,t,n){for(var i=!0,a=n.level,r=0;r<t.length;r++)if(t[r].level!==a){i=!1;break}return i},onDrop:function(){for(var t=e.zTreeObj_Filter.getNodes(),n=0;n<t.length;n++){var i=t[n].realInfo.filter_conn_type;0===n?t[n].realInfo.showFilterConnType&&(t[n].realInfo.showFilterConnType=!1,t[n].name=t[n].name.substring(i.length+1,t[n].name.length),e.zTreeObj_Filter.updateNode(t[n])):t[n].realInfo.showFilterConnType||(t[n].realInfo.showFilterConnType=!0,t[n].name=i+" "+t[n].name,e.zTreeObj_Filter.updateNode(t[n])),e.updateChildrenNode(t[n],t[n].realInfo.showFilterConnType)}},onClick:function(t,n,i){i.realInfo&&(e.select_colms=i.realInfo.select_colms,e.select_cz=i.realInfo.select_cz,e.compareObj="undefined"===typeof i.realInfo.compareObj?"value":i.realInfo.compareObj,e.ompareColumnSel=i.realInfo.compareColumnSel,e.conn_value=i.realInfo.conn_value,e.connType=i.realInfo.filter_conn_type,e.quotes=i.realInfo.quotes,e.blankSpace=i.realInfo.blank_space)}}}},selectCzChange:function(e){switch(this.select_cz=e,e){case"in":this.showMoreVal=!0,this.quotes=!0,this.quotesDisabled=!0,this.compareObj="value",this.compareObjDisabled=!0,this.showConnValue=!0;break;case"like_star":case"like_end":case"like_all":case"not_like_all":this.showMoreVal=!1,this.quotes=!0,this.quotesDisabled=!0,this.compareObj="value",this.compareObjDisabled=!0,this.showConnValue=!0;break;case"=":case"!=":this.showMoreVal=!1,this.compareObjDisabled=!1,"value"===this.compareObj?(this.quotes=!0,this.quotesDisabled=!1):(this.quotes=!1,this.quotesDisabled=!0);break;case">":case">=":case"<":case"<=":this.showMoreVal=!1,this.quotes=!1,"value"===this.compareObj?this.quotesDisabled=!1:this.quotesDisabled=!0,this.compareObjDisabled=!1;break}},compareObjChange:function(e){this.compareObj=e,"value"===e?(this.showConnValue=!0,this.selectCzChange(this.select_cz)):(this.showConnValue=!1,this.compareColumnSel="",this.quotes=!1,this.quotesDisabled=!0)},saveSetting:function(){this.nodeData.isSet=!0,this.nodeData.setting.nodes=this.zTreeObj_Filter.getNodes(),this.nodeData.setting.columnsInfo=this.$parent.$parent.$parent.columnsInfoPre},inputVerify:function(){var e=this.zTreeObj_Filter.getNodes();return"undefined"!==typeof e&&("undefined"===typeof e||0!==e.length)||(this.$message({type:"warning",message:"未设置筛选条件"}),!1)},filter_ztree:function(e){var t=this,n=this.select_colms,i=this.select_cz,a=this.conn_value,r=this.connType,o=this.selectCzArr.find((function(e){return e.value===i})),s="",l=this.quotes,u=this.blankSpace,c=this.zTreeObj_Filter.getNodes(),d=this.compareObj,h=this.compareColumnSel;"undefined"===typeof c&&(c=[]);var f=!1,p=this.zTreeObj_Filter.getSelectedNodes(),m=null,g=this;switch(e){case"add":if(s=o.name,""===n)return void this.$message({type:"warning",message:"请选择筛选字段"});if(""===i)return void this.$message({type:"warning",message:"请选择筛选条件"});if("="!==i&&""===a&&"value"===d)return void this.$message({type:"warning",message:"".concat(s,"条件的筛选值不能为空")});if("column"===d&&""===$.trim(h))return void this.$message({type:"warning",message:"".concat(s,"条件的筛选值不能为空")});c.length>0&&(f=!0),m=this.switch_cz_f(i,n,a,r,f,l,u,d,h),this.zTreeObj_Filter.addNodes(null,m);break;case"edit":if(s=o.name,""===n)return void this.$message({type:"warning",message:"请选择筛选字段"});if(""===i)return void this.$message({type:"warning",message:"请选择筛选条件"});if("="!==i&&""===a&&"value"===d)return void this.$message({type:"warning",message:"".concat(s,"条件的筛选值不能为空")});if("column"===d&&""===$.trim(h))return void this.$message({type:"warning",message:"".concat(s,"条件的筛选值不能为空")});if(p.length>1)return void this.$message({type:"warning",message:"只能修改一个过滤条件"});if(p[0].children&&0!==p[0].children.length)return void this.$message({type:"warning",message:"不能修改合并条件"});if(1!==p.length)return void this.$message({type:"warning",message:"请选择一个待修改的筛选条件"});if(f=!(!p[0].realInfo||!p[0].realInfo.showFilterConnType),m=this.switch_cz_f(i,n,a,r,f,l,u,d,h),p[0].name=m.name,p[0].realInfo=m.realInfo,this.zTreeObj_Filter.updateNode(p[0]),null!=p[0].pId&&"undefined"!==typeof p[0].pId){var v=this.zTreeObj_Filter.getNodesByParam("id",p[0].pId,null);if(v&&v.length>0){v[0].children;var y="";$(v[0].children).each((function(){y+=" "+this.name})),v[0].name=y,this.zTreeObj_Filter.updateNode(v[0])}}break;case"del":if(0===p.length)return void this.$message({type:"warning",message:"请选择待删除的筛选条件"});var b=!1;if($(p).each((function(){null!=this.pId&&"undefined"!==typeof this.pId&&(b=!0)})),b)return void this.$message({type:"warning",message:"合并条件的子条件不可删除"});if(Array.from(p,(function(e){return t.zTreeObj_Filter.removeNode(e)})),c&&c.length>0){var A="";if(c[0].realInfo&&c[0].realInfo.showFilterConnType){A=c[0].realInfo.filter_conn_type,c[0].name=c[0].name.replace(A+" ",""),c[0].realInfo.showFilterConnType=!1,this.zTreeObj_Filter.updateNode(c[0]);var w=c[0].children;"undefined"!==typeof w&&w.length>0&&(A=w[0].realInfo.filter_conn_type,w[0].name=w[0].name.replace(A+" ",""),w[0].realInfo.showFilterConnType=!1,this.zTreeObj_Filter.updateNode(w[0]))}}break;case"addbrack":var x="";if(p.length>0&&null!=p[0].pId)return void this.$message({type:"warning",message:"该条件不能被合并"});if(p.length<2)return void this.$message({type:"warning",message:"请至少选择两个条件"});p=this.sortNode(p);var C=!1;x=p[0].realInfo.showFilterConnType?p[0].realInfo.filter_conn_type+" (":"(";var k=p[0].getIndex();$(p).each((function(e){0===e?this.realInfo.showFilterConnType?x+=this.name.split(this.realInfo.filter_conn_type+" ")[1]:(x+=this.name,C=!0):x+=" "+this.name,g.zTreeObj_Filter.removeNode(this)})),x+=")",m={id:(new UUIDGenerator).id,name:x,children:p,realInfo:{filter_conn_type:p[0].realInfo.filter_conn_type,showFilterConnType:p[0].realInfo.showFilterConnType}},C?this.zTreeObj_Filter.addNodes(null,0,m):this.zTreeObj_Filter.addNodes(null,k,m);break;case"delbrack":if(p.length>1)return void this.$message({type:"warning",message:"只能拆分一个条件"});var S=p[0]["children"];if("undefined"===typeof S||0===S.length)return void this.$message({type:"warning",message:"该条件不是合并条件，不能被拆分"});Array.from(S,(function(e){e.realInfo.showFilterConnType?t.zTreeObj_Filter.addNodes(null,e):t.zTreeObj_Filter.addNodes(null,0,e)})),this.zTreeObj_Filter.removeNode(p[0]);break}},sortNode:function(e){for(var t=0,n=1;n<e.length;n++){t=0;for(var i=0;i<=e.length-n;i++)parseInt(e[i].getIndex())>parseInt(e[t].getIndex())&&(t=i);var a=e[e.length-n];e[e.length-n]=e[t],e[t]=a}return e},updateChildrenNode:function(e,t){var n=e.children;if(n&&n.length>0){n=sortNode(n);var i=n[0].realInfo.filter_conn_type;n[0].realInfo.showFilterConnType&&!t&&(n[0].realInfo.showFilterConnType=!1,n[0].name=n[0].name.substring(i.length+1,n[0].name.length),this.zTreeObj_Filter.updateNode(n[0])),!n[0].realInfo.showFilterConnType&&t&&(n[0].realInfo.showFilterConnType=!0,n[0].name=i+" "+n[0].name,this.zTreeObj_Filter.updateNode(n[0])),this.updateChildrenNode(n[0],t)}},switch_cz_f:function(e,t,n,i,a,r,o,s,l){var u={},c=t;o&&(c="TRIM(".concat(c,")"));var d=c;if(a&&(d="".concat(i," ").concat(c)),"value"===s||"undefined"===typeof s){switch(e){case"like_star":u.name="".concat(d," like '").concat(n,"%'");break;case"like_end":u.name="".concat(d," like '%").concat(n,"'");break;case"like_all":u.name="".concat(d," like '%").concat(n,"%'");break;case"not_like_all":u.name="".concat(d," not like '%").concat(n,"%'");break;case"in":var h=n.split(","),f="";Array.from(h,(function(e){f=""===f?"'".concat(e,"'"):"".concat(f,",'").concat(e,"'")})),u.name="".concat(d," in (").concat(f,")");break;case"=":case"!=":case">":case">=":case"<":case"<=":u.name=r?"".concat(d," ").concat(e," '").concat(n,"'"):"".concat(d," ").concat(e," ").concat(n);break}if(""===n){var p="(".concat(c," = '' or ").concat(c," is null)");a&&(p="".concat(i," ").concat(p)),u.name=p}}else u.name="".concat(d," ").concat(e," ").concat(l);return u.id=(new UUIDGenerator).id,u.realInfo={select_colms:t,select_cz:e,conn_value:n,filter_conn_type:i,showFilterConnType:a,quotes:r,blank_space:o,compareObj:s,compareColumnSel:l},u}}};t.default=i},3647:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABC0lEQVQ4T9WUv04CQRDGv4+CB7Cm4QUM1dW4B4bdWN26IVr5ACZUtgZaEkMMjbGXhmgpFWrFI/gYdHZ6Y+6STQ45E7i7QqecnfllvvmzRMXGinn4x8Cuca0YMhbEq5fnp+GurcmVrEx0QfAGwIFARoWBzrn6+iMeAxj4igoD1YkLGH9NAQZZeR4YavuaJ3u5eDzKvqWSlbaXJKZ5CRtAor0RI3hLgcaK91MZ+0Dg/Lem7w3sGDsT4KwyYALqGHslQDKMLdu7Qk9Q+vSYlDsAzdJD8YC2jho18pZAVHptslWF2o5AXCe+wnv4s3mhjvogJwK5L3wpW9CePQRrn8vF/L3ULe+anBf39//DbyLwjc2t9qexAAAAAElFTkSuQmCC"},"366a":function(e,t,n){"use strict";n.r(t);var i=n("2ae5"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},3674:function(e,t,n){"use strict";n.r(t);var i=n("7870"),a=n("4116");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},3685:function(e,t,n){"use strict";n.r(t);var i=n("c21f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},3688:function(e,t,n){"use strict";n.r(t);var i=n("9031"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"36b1":function(e,t,n){},"36b4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEqADAAQAAAABAAAAEgAAAACaqbJVAAACbUlEQVQ4EZVUTWgTURCeebvZxr+CeKmNlSr+9FQQNUQQ9CJiCIk9eBAPahE8eSilgqcGK4giBUFEVJCKFUUkYqzgQRARCdSC3lQEA6L1oJeIJk32vfF7+WMX4yEDu29mdr5vZ773dnltKj1FxkwIUQ91ZVxYubp3/6fZ2ZKFKRI53T2JhUrid6m0z3rWlIh4Dbf7OwemUN3DOyM6EfmtUmZ6RkyPm3E733oeXENETPyFOTJMxAVbxMIzmP4NXN9RkR3I3A+Cg36AiIueQ3uYawl0EbdF7NBnbMYGuK6W2lnl0Cgz3wkStPw2ESu5oMVzjfANgOv5iI4WQTpYLxZKi6GxnohzCjE2OmxtIhI+o4Q0sRolZo03l4tPH3wHxHaEFOWc5dHppZq+asMwjT1HTcMxWF+jpZcemwWkoIsU92azLiADiH121JT+U76NusMtTHB1g4EIxaqG3mE0R4iLH+YXLlrf1hgt8+iu7gcxLT9EVE82gehoEBOcZKXOYeSCEfqFsUPamKj3Hh1CBW6I2mINrVYnRUfIyFEj5hr8YSHpQ2/XRcwtEn3AKZc34Vu9bHFtjUIkCFjoOZYf0GiVo5Yl2HMfoctJ5bm7h+Lbh5DfjC6PI7fCYv9LJCwfv+Xzr7A9N7VU3ppK9RiTvP6ay/18kc36TOoh8DstibV/NWrkcWeML7wxk7lU0dILJRIg2rIudTDuG33e4LygJofCZGxkZI0LoaoAdPwDxNLpbWLkHopLpHictBIteivO1C5odgId3+1Ppsq66s9wXzI1icIJXKEfG15wZXEuP4Z8yPozmQHx9fTi3JNDwQd/AaDS55DqRTLDAAAAAElFTkSuQmCC"},"36c9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAPKElEQVR4Xu2dCdSt1RjH/38ZotJqJZZaLVRkrEgpS5o0kKSkaFQZGlihW5RG0aSrJInqpnAjJboI6Zaw0Egk02WRIlSEBqrH+rf2uZ17vnfY+937vOP3rHXW+dZ39vjs3/vs/e7h2USDYmZbAriO5F0NFqOxrM1sRQAvIXl5U4VgExmb2ToADgKwG4A5JOc2UY6m8zSzgwGcBOB8AHNJ3lR3mWoFwMxWdg3/HgCjvG8m+cK6K96G/MzsFgDPdWV5GMDJAE4l+ee6ylcLAGb2WNfwBwJ4ekbldiF5QV2VbkM+ZvYWAOdmlOV2WQMAp5F8cNplnToAZrYngHcDkNnPk8tJajwwGDGzqwBsXFDh6wF8jORnp6mUqQFgZq8A8AEAW3tWYMsmB0OeZUwSzMxeA+Drnol9E8DxJK/2DB8UbCoAmJn6+OMBPCGgNOeTlLXovZjZFwHsFFBRdQWHkzwxII5X0KQAmNkzXMO/2Sv3mYH0SnRjxbidiGZm6wG4pmJhv+pA+HnF+DOiJQPAzHYEcByAZ0cU7mSSejXqrZjZaQDeFVHBvzkIPh2RxuKo0QCYmdKQuX9fggLdAWA9krcmSKt1SZjZM93Tv1KCwn3GgXBbTFpRAJjZ+q7xN4spxETcQ0mekDC91iRlZhoUfyhhgX4F4AiSX6qaZmUAzGxnAGcBWK5q5jnxfgZgA5L3Jk630eTMbBkAPwIwjUmvY0keWaWClQAws93d9GWVPMvizAPwSZLXlQUM+d3MlgKgRpj8KJn/TH5IPhSSfllYM3spgP0A7F0WtuLvp5B8b2jcYADMbB8AZ4dm5BH+QgBnkrzSI2xhEDNbHcBaANZ23/pb/wuRRQA0N6/PT/VNUv+LEjNTdykQNGhOLWeRfHtIokEAmJkKfkZIBh5hNdFxBskFHmFnBDGzFbSiBmBdABu5z/JV0vKI808A33MfzdTdQPJuj3hZ5d4OwP4AUs+AXkByF98yeQNgZjIvKVftfgjgdJLzfQs7CmdmzwGwA4BtAbwMgMx7E6Ju4scABO+XSf46tBBmtiuAAwBsGBq3IPwCkq/zSc8LADNTwwf3LzkF0KrXIaFLwGa2NIDtXcPru6lGz9OrYLhEIOib5P0+DTAGtZbHtTT8mJB4BWGvJFn6dlYKgJl9AYBG/CnkBtf4V/gmZmYvAiCTpjI8yzdew+F+D0DTvfNJ6q3GS8xscweBurQUchXJTYsSKgTAzL6VsI/S6F5P/p0+NTOzbVzDe/dnPuk2EEZdnEDwWvxxu4RkCVK9LVxGUotPmZILgJlpWvfQBAq7T7OEJD/uk5aZ7eUqr9XEPsn3AcwjmbUHYEY9zUzTxVr8eWICJRxAMnPwngmAmb0BwEUJMtZAT0+9Kl8oZqZXtcMSdjdlWTb1u7qG43y2f7kldVmDFAPEdUmqC15CZgDg5qt/A0C7eGLk8wD2JfnvskTc3jhNk07r9a2sCHX/rtfJD5P8SFnGZrasLAeAN5aFLfn9AQCrTHbBWQBoObZo945POfRer1ebsqdeZv4YAKWj1bK0Ovr7QgBHeVpITZTFQnAxySUmoJYAwMy0/Ug7dWPkBJKlYwcz0zYxrSLq9W7IotdFLYCdWqYEM0sBwTEkjx7ltRgAM9Nybuwq3BKJZ1XIzFZ1Da8JkFl5VAPqMgVC4VJ4Igj2Hg1GHwHAvXKJridFtIhP42sCR0/9mhH5VImqbsbGtqL7pnGUb8BE4bS8Kwg0oZQrZnYegD0i8tT09Y4kF44A0Jz0JyIS9Gn8fbXKF5FHTNTS8k0mbmYyk3UDMCrGfiTPLIFAA8g5EUo5kORp412ATLNOqGwSmOi5JAsnLczsCAAfDEw3ZfCuAaC6H0ny2BII9EDpwQoR7SfciaQOpSw+nbM4ATMLsQalp3rMTE/R4kFHSEkThu0iAKr+0STVfRV1Bz8A8HJPXc3YM5A3EaTNCzIxRdbgPpKFY4aGzei4TroKgOpQWnYz+xcAzRfkyc0ADiZ52WSAoqlgrbbpdS7PDG1IUlucMsXMtDHhU55kTjtYqRInC9AieFW0d5DM3QVsZs8HoEbOknPchFzmMTOf1UAtyrwfwPjc/CMDiILG14SF3iraIl0HQHpUv527+dPMdBZjfG+FgJDJFwC5UgqAYpqZDnTKGmiBQufVNImT9+S3rfFVzj4A4AOBXrH1sKrRNSH327In0AuAUSJaqStazTKzNjZ+nwDwgWCfsqd+HIogAIpoMjNtd/52zvHvMhCn/XtfLID0JN8BOkib5HhYSgC04SF348G0W7gk/T4BoKp+g6TGZtGSBAAz02kXLee2VfoGgPSs5eTDYxUeDUDCzSOxdSmK30cAVF/N518co7goANzKnjxdrBZTiBri9hWA32myrmwFsUi/sQCc4ty/1NCGUVn0FQApRU6l5JCjklQGwO1X0ymZLkifAZD+N/LZVZTVUDEA6ACE1ve7IH0HQAdRdFIqWCoB4I4zfS44t+Yi9B0AaXY3ktpVFCRVAdDRbR3G7IoMAYDrSWoVN0iCAWjZKp9vZYcAgHRRuGqYZAxgZl17+lXvoQAQbAWCLEBHn/4hARBsBUIB6OLTPzQAgqyANwBmplO6waNM3056yuGG0gWM1Lirr+ONEADkl66rrlyHBsB5JOWNvFS8ADAzbf7U7pIsV++lmbQgwNAA0J6BNXxc7fkC8Hrn/qQFbVmpCEMDQEranuRXyrTlC4CcC8hDWFdliADI16LOeBSKLwAy/6F+9sryrvP30gMWk4Vp2bbwKrpaRHKNsoilAJiZDodEO28sK8iUfx8iAFLppiS1XyNXfABo8pBkKi6G2AVId6X19gFAT3/ogdFUDZcqnVJF9LALUJWi3cTJsXKpj59UrTTFdIYKgFS6LEk5w86UQgtgZnI3qmtKui5DBmA7kpdWBUAuY1LcBNI0QEMG4ESSOi5WyQLoMOI03JrXDcSQAbiIZK53sbIuQI4FX1x3a00hvyEDcCPJXN/DZQDIoeGTp9AgdSc5ZADuIZnrgLPIQcRTAOiKsj7IUCeCRm23Esm/ZzVkEQC6iCHXA0jHqBg6ALqESxdbzJAiAHTn7wyfMh1r+FFxh9wFSAevJqmreYIASOUxvA3MDB2A3EOkRRZAnijlkbIPMnQA9iQpH5BBFmAaN4Q1BVMwACpoIr+8TdV5PN/9SWZ6aS2yAHJDWurPvg218yhDJQB6BIF8BJ4cagH6sAw8qnPwW8C4snpgCXIfgKFYgCgAemAJKlmAJr17e1j1oCDRAHQcglzv40UWYJoXRAe1XoLAv9BlVClcq3W0O9iDpG6DCXoLkPMHOYHoi/zSuVv1vsgxr+IdhGCHvEsoiiyALjXWxZF9Et3IIUug28CjpGMQbEVSTjyDLICuXv9JlJbaGVlX4snxcnTdOgTBOnnQF1kALQNrObiPonMOsgQzLlIMrWxHIFie5D1BFsCNerWEuGKoUjoSXj72ZAmujy1vyyG4k6SW9jOlbEPINQDWi1VQi+Prlm9Zgmtjy9hiCK4luX5VAHTP7U6xyml5/D84SyDYo6SlEFxIcueqAPRlV3BZw/7RWYLoDTAthCBqV3AfXwXzYPiTswS68TxKWgZB7iugKlk2BnicOxn0+CiNdCfybc4S6Cq2KGkJBP91J4P+V6kLUCQzuwiAdgcNReRdQwPDaD/ILYBgxm3hk43oczhU18CfPpTWd/X8i4Pg6th6NwzBO0kWXgnsA8BaAKKnTmMV2UD8vzoICs/X+5SrQQjWJnlTURlLAXDdQN/nA/J0pHMR6g6iHWQ0AEHh+/+owr4AtP1OIJ8HsWqYOx0EV1RNYBSvZgi87hTyBeCVAL4bq4AOx7/LQfCd2DrUCMHGJEvHMF4AuG5A99S9IFYBHY7/DwdB5rJqSL1qgKD0VvegLsAB8FEAle+mCVFQi8NqdfRNeadsfMtdww2rM66JzytbiAXo01Ex37bKCqer2jUwrHRsrobGV5lzj4IFzwOMRzAzuRrZNkZ7PYkrnzuCQLelektNjb+ApFz7eIm3BXDdwGsBLPBKuf+B7nUQfM2nqjU1voqyLUmvMilwEAAOglkr8GiL3+8gyHXC5HRW163qQU9/VQBmrcCSj/wDDoJMb2o1PvnBT38lABzRqqx3P+NjIjseRqttGhNcMjFmquvJV7aXktwuVI/BXYADYHMA0ZMioYVtefgH3SviI5c51/zkK8tXkQyerawEgKvgOQD2bnmj1F28h2UJ3Njqwhozn0dynyr5xQCgcwPaQrV0lYx7HMeqDK4j9KGBqHwAVVqxrQyAswInAjgkovCzUeM1cBLJyt5cYwFYRR6pdT9NfD1mU6igAR1w2YSktrJVkigAnBWYfS2spPokkYImfbJyjAbAQXAwgJOSVGk2EV8NHEIy2oVPEgAcBPMA7OVb+tlwURo4l2SSN7CUAMgfrZwRbhBVtdnIZRrQm9fWJJMc3E0GgLMCOkeoFbKVymox+3slDWiP4jYpzjKOck8KgIOgzunPSlrscCSdZtYdDskkOQAOgrcCOCtZKWcTkgbeRvLs1KqYCgAOgj45mkyt99D0ct28hSY0GX5qADgIDgKQ6aEytuADij+H5Nxp1XeqADgItnJvB9OqQ5/T1Wh/qo66pg6Ag2AjANpOPbtw5IerFni2THFAtSy7WgBwEKwLQM4Kn1dWqIH/fguA3VP4LvLRY20AOAhWA3D8ANzO+Og+K4z2EBxKUg6sapFaARjVyMy0diAQlqqllu3P5CHX8NFz+6FVbQQAZw02dRDocqohiy5z0lMffQK5ihIbA8BBsByAowDodXGIotc7+fLXaaNGpFEAxrqELQAc1oNr6n0bUZtojiN5uW+EaYVrBQBjIOiSY4Egy9BH0ZOuhpf7vVZIqwBw3cI6AHRj2S4AntYKLcUX4g4A8wGcn8JJdXxxHk2hdQCMWYOnOggEQlfd1coFrRp+Pkn5HGqdtBaAcU2Z2Q5u7kDf8l3YZtEpIV20IRetrb9woxMAjFkF7T7WTSYCoW07j7RTRw1+CUnt1u2EdAqACauwmfNVsAkAjRuaEF06oRG9TuUubKIAsXl2FoAJGNYEICB0ZlHfK8QqJif+3QDU0DqDt5CkrqDptPQCgMkWMLOVAazuPlp/0N+rAlgm46Po8vgx+bkVwCIAmpfX9yKSt3e6tTMK/38oXILMzHfI5QAAAABJRU5ErkJggg=="},"36e9":function(e,t,n){"use strict";n.r(t);var i=n("91a9"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},3731:function(e,t,n){"use strict";n.r(t);var i=n("de8f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"37c9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={processStatus:null,processStartTime:null,processEndTime:null,processGroupExecutionStatusType:null,scheduleDetail:!1};t.default=i},"37fe":function(e,t,n){"use strict";n.r(t);var i=n("a578"),a=n("b8dd");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},3807:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAABwAAAAAX1OyDAAAA0klEQVQIHWNgQAI9U5bKt09bKogkxMAI4jQ07GdhE3zsBuToMzAxMTH8Z95WmRd5HiTH2DphmTgj059wRiamxz+5f2/n+cXO8+vn32Cg4k/sEuwbgOr/eDKyMG+pzIlZD5JkEmT5WpkbM+svA+P9H89/OIKt+P//P2P7lKVWjP/+O/1n+P+bkYVxTWV27B2wFZMmLeH7ysAQwsDw7x8jO8d6lt+/BX7//xvE+J/x1g9dmZ0sXxj+R7MwMx0vy467ANIBBB8b9u+fzH75qRPHpUfeABiOTVFq4M9KAAAAAElFTkSuQmCC"},3808:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c5f6"),n("ac6a");var i=n("7d21"),a={data:function(){return{tableKey:"taskUuid",list:null,total:0,listLoading:!1,temp:{bizAttrUuid:void 0,attrName:"",attrCode:"",describe:""}}},created:function(){this.init(),this.initWebSocket()},methods:{init:function(){(0,i.querySystemTask)().then((function(e){}))},initWebSocket:function(){this.webSocket=this.getWebSocket()},toUrl:function(e){this.$router.push({path:e})},formatCreateTime:function(e,t){var n=new Date(e.taskCreateTime),i=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();return i},getWebSocket:function(){var e=this.$store.getters.personuuid,t="ws://"+window.location.host+":"+window.location.port+"/websocket?"+e+"systemTask";this.webSocket=new WebSocket(t),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(e){i(e)};var n=function(e){this.list=JSON.parse(e.data),this.list.forEach((function(e){var t=new Date(e.taskCreateTime).valueOf(),n=new Date(e.taskEstimatedTime).valueOf();if(void 0!==t&&void 0!==n){var i=Date.parse(new Date),a=(i-t)/(n-t);a="2"===e.taskStatus||"3"===e.taskStatus?100:a<1?Number((100*a).toFixed(2)):99.99,e.taskPercent=a}var r="";"2"!==e.taskStatus&&"3"!==e.taskStatus||(r="<span  class='el-icon-success' />"),"1"===e.taskStatus&&(r='<span  class="el-icon-loading" />'),"0"===e.taskStatus&&(r='<span  class="el-icon-error" />'),e.taskStatus=r}))},i=n.bind(this);this.webSocket.onclose=function(e){},this.webSocket.onerror=function(e){}}}};t.default=a},"381f":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a481"),n("b360"),n("588b");var a=n("401be"),r=i(n("333d")),o=i(n("f2d9")),s=i(n("1aad")),l=n("7a42"),u=i(n("bc3a")),c=(i(n("2106")),i(n("c72e")),i(n("445c"))),d=(n("322d"),n("6026")),h=n("009c"),f={name:"childTabCon",components:{AgGridVue:a.AgGridVue,Pagination:r.default,myQueryBuilder:c.default,childtabscopy:s.default,downloadExcel:o.default},watch:{modelDetailModelResultDialogIsShow:function(e){this.$nextTick((function(){e&&this.initWebSocket()}))}},props:["nowtable","modelUuid","useType","prePersonalVal"],data:function(){return{dialogVisible:!1,columnDefs:[],rowData:[],pageQuery:{condition:null,pageNo:1,pageSize:20},total:0,myFlag:!1,selectRows:[],detailTable:[],dataArray:[],queryData:[],queryJson:{},conditionShowData:[],primaryKey:"",isLoading:!0,nextValue:[],modelResultData:[],modelResultColumnNames:[],limit:10,total1:null,page:1,isSee:!0,errorMessage:"",modelResultPageIsSee:!1,modelResultButtonIsShow:!1,modelDetailRelation:[],modelOutputColumn:[],modelDetailButtonIsShow:!1,modelDetailDialogIsShow:!1,options:[],value:"",tableData:[],excelName:"",json_fields:{},modelDetailModelResultDialogIsShow:!1,currentExecuteSQL:[],webSocket:null,dataCoding:{},nowSql:"undefined",modelRunResultBtnIson:{exportBtn:!1,chartDisplayBtn:!1,associatedBtn:!0,disassociateBtn:!1,modelDetailAssBtn:!0},dynamicSelect:[]}},mounted:function(){this.getRenderTableData()},methods:{rowChange:function(){var e=this.gridApi.getSelectedRows();0==e.length?(this.modelRunResultBtnIson.exportBtn=!1,this.modelRunResultBtnIson.chartDisplayBtn=!1,this.modelRunResultBtnIson.associatedBtn=!0,this.modelRunResultBtnIson.disassociateBtn=!1,this.modelRunResultBtnIson.modelDetailAssBtn=!0):1==e.length?(this.modelRunResultBtnIson.exportBtn=!1,this.modelRunResultBtnIson.chartDisplayBtn=!1,this.modelRunResultBtnIson.associatedBtn=!1,this.modelRunResultBtnIson.disassociateBtn=!1,this.modelRunResultBtnIson.modelDetailAssBtn=!1):e.length>1&&(this.modelRunResultBtnIson.exportBtn=!1,this.modelRunResultBtnIson.chartDisplayBtn=!1,this.modelRunResultBtnIson.associatedBtn=!1,this.modelRunResultBtnIson.disassociateBtn=!1,this.modelRunResultBtnIson.modelDetailAssBtn=!0)},exportExcel:function(){(0,u.default)({method:"post",url:"/analysis/RunResultTableController/exportRunResultMainTable",data:this.dataArray,responseType:"blob"}).then((function(e){var t=document.createElement("a"),n=new Blob([e.data],{type:"application/vnd.ms-excel"});t.style.display="none",t.href=URL.createObjectURL(n),t.setAttribute("download","模型运行结果表.xlsx"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},removeRelated:function(e){var t=this;(0,l.removeResultDetailProjectRel)(e).then((function(e){1==e.data?t.$message({type:"success",message:"移除关联项目成功!"}):t.$message({type:"error",message:"移除关联项目失败!"})}))},addDetailRel:function(e,t){var n=this;(0,l.selectByRunResultTableUUid)(this.nowtable.runResultTableUuid).then((function(i){n.detailTable=i.data;var a=[];if(0==i.data.length)(0,l.selectPrimaryKeyByTableName)().then((function(i){n.primaryKey=i.data;for(var r=0;r<n.selectRows.length;r++){var o={resultDetailProjectRelId:"",runResultTableUuid:n.nowtable.runResultTableUuid,runTaskRelUuid:n.nowtable.runTaskRelUuid,projectId:e,resultDetailId:n.selectRows[r][n.primaryKey],projectName:t};a.push(o)}(0,l.batchSaveResultDetailProjectRel)(a).then((function(e){1==e.data?n.$message({type:"success",message:"关联项目成功!"}):n.$message({type:"error",message:"关联项目失败!"})}))}));else{a=[];var r=[];(0,l.selectPrimaryKeyByTableName)().then((function(i){n.primaryKey=i.data;for(var o=0;o<n.selectRows.length;o++)for(var s=0;s<n.detailTable.length;s++)n.selectRows[o][n.primaryKey]==n.detailTable[s].resultDetailId&&r.push(n.selectRows[o][n.primaryKey]);if(0==r.length){for(o=0;o<n.selectRows.length;o++){var u={resultDetailProjectRelId:"",runResultTableUuid:n.nowtable.runResultTableUuid,runTaskRelUuid:n.nowtable.runTaskRelUuid,projectId:e,resultDetailId:n.selectRows[o][n.primaryKey],projectName:t};a.push(u)}(0,l.batchSaveResultDetailProjectRel)(a).then((function(e){1==e.data?n.$message({type:"success",message:"关联项目成功!"}):n.$message({type:"error",message:"关联项目失败!"})}))}else{var c="";for(o=0;o<r.length;o++)o!=r.length-1?c+=r[o]+",":c+=r[o];n.$message({type:"info",message:"关联失败，因为其中"+c+"已经关联"})}}))}}))},getValues:function(){var e=this.gridApi.getSelectedRows();0==e.length&&this.$message({type:"info",message:"请选择后再进行关联!"}),this.selectRows=e},onGridReady:function(e){this.gridApi=e.api,this.columnApi=e.columnApi,this.gridApi.sizeColumnsToFit()},onCellClicked:function(e){},initData:function(e,t){var n=this;if("modelRunResult"==this.useType){this.isLoading=!0,1==this.nowtable.tableType&&(this.myFlag=!0);var i=[],a=[],r=[];this.pageQuery.condition=this.nowtable,"string"!==typeof e&&(e="undefined"),(0,l.selectTable)(this.pageQuery,e).then((function(e){for(var t in 0==e.data.records[0].result.length&&(n.isLoading=!1),n.total=e.data.total,n.dataArray=e.data.records[0].result,n.queryData=e.data.records[0].columnInfo,e.data.records[0].result[0])i.push(t);if(void 0!=n.modelUuid){var o={headerName:"onlyuuid",field:"onlyuuid",checkboxSelection:!0};a.push(o);for(var s=0;s<i.length;s++)e:for(var l=0;l<n.modelOutputColumn.length;l++)if(n.modelOutputColumn[l].outputColumnName.toLowerCase()==i[s]){if(1==n.modelOutputColumn[l].isShow){if(0==s)o={headerName:n.modelOutputColumn[l].columnAlias,field:i[s]};else o={headerName:n.modelOutputColumn[l].columnAlias,field:i[s]};a.push(o)}else{if(0==s)o={headerName:i[s],field:i[s],checkboxSelection:!0};else o={headerName:i[s],field:i[s]};a.push(o)}break e}}else for(s=0;s<i.length;s++){if(0==s)o={headerName:i[s],field:i[s],checkboxSelection:!0};else o={headerName:i[s],field:i[s]};a.push(o)}if(void 0!=n.modelUuid){for(s=0;s<e.data.records[0].result.length;s++)r.push(e.data.records[0].result[s]);for(s=0;s<r.length;s++)for(l=0;l<i.length;l++)for(var u=0;u<n.modelOutputColumn.length;u++)if(n.modelOutputColumn[u].outputColumnName.toLowerCase()==i[l]&&void 0!=n.modelOutputColumn[u].dataCoding){var c=r[s][i[l]];r[s][i[l]]=n.dataCoding[n.modelOutputColumn[u].dataCoding][c]}}else for(s=0;s<e.data.records[0].result.length;s++)r.push(e.data.records[0].result[s])})),this.columnDefs=a,this.rowData=r}else if("sqlEditor"==this.useType){this.loading=!0,this.nextValue=t;a=[];var o=[];if(this.prePersonalVal.id==this.nextValue.executeSQL.id){if("2"==this.nextValue.executeSQL.state)if("SELECT"==this.nextValue.executeSQL.type){this.modelResultButtonIsShow=!0,this.modelResultPageIsSee=!0,this.modelResultData=this.nextValue.result,this.modelResultColumnNames=this.nextValue.columnNames;for(var s=0;s<=this.nextValue.columnNames.length;s++){var u={headerName:this.nextValue.columnNames[s],field:this.nextValue.columnNames[s],width:"180"};this.nextValue.columnNames[s],this.nextValue.result[s];a.push(u)}for(var c=0;c<this.nextValue.result.length;c++)o.push(this.nextValue.result[c]);this.columnDefs=a,this.getList()}else this.isSee=!1,this.modelResultPageIsSee=!1,this.modelResultButtonIsShow=!1,this.errorMessage=this.nextValue.executeSQL.msg;else"3"==this.nextValue.executeSQL.state&&(this.isSee=!1,this.modelResultPageIsSee=!1,this.modelResultButtonIsShow=!1,this.errorMessage=this.nextValue.executeSQL.msg);this.isLoading=!1}}else if("previewTable"==this.useType){this.loading=!0,this.nextValue=t;a=[],o=[];if(this.prePersonalVal.id==this.nextValue.executeSQL.id){if("2"==this.nextValue.executeSQL.state){this.modelResultPageIsSee=!0,this.modelResultData=this.nextValue.result,this.modelResultColumnNames=this.nextValue.columnNames;for(s=0;s<=this.nextValue.columnNames.length;s++){u={headerName:this.nextValue.columnNames[s],field:this.nextValue.columnNames[s],width:"180"},this.nextValue.columnNames[s],this.nextValue.result[s];a.push(u)}for(c=0;c<this.nextValue.result.length;c++)o.push(this.nextValue.result[c]);this.columnDefs=a,this.getList()}else"3"==this.nextValue.executeSQL.state&&(this.isSee=!1,this.modelResultPageIsSee=!1,this.modelResultButtonIsShow=!1,this.errorMessage=this.nextValue.executeSQL.msg);this.isLoading=!1}}else if("graph"==this.useType){this.loading=!0,this.nextValue=t;a=[],o=[];if(this.prePersonalVal.id==this.nextValue.executeSQL.id){if("2"==this.nextValue.executeSQL.state){this.modelResultPageIsSee=!0,this.modelResultData=this.nextValue.result,this.modelResultColumnNames=this.nextValue.columnNames;for(s=0;s<=this.nextValue.columnNames.length;s++){u={headerName:this.nextValue.columnNames[s],field:this.nextValue.columnNames[s],width:"180"},this.nextValue.columnNames[s],this.nextValue.result[s];a.push(u)}for(c=0;c<this.nextValue.result.length;c++)o.push(this.nextValue.result[c]);this.columnDefs=a,this.getList()}else"3"==this.nextValue.executeSQL.state&&(this.isSee=!1,this.modelResultPageIsSee=!1,this.modelResultButtonIsShow=!1,this.errorMessage=this.nextValue.executeSQL.msg);this.isLoading=!1}}},queryCondition:function(){this.$refs.myquerybuilder.selectSql(),this.dialogVisible=!1},queryConditionChangeTable:function(e,t){this.pageQuery.pageNo=1,this.queryJson=t,""==e&&(e="undefined"),this.nowSql=e,this.initData(e)},queryConditionSetting:function(){this.dialogVisible=!0},reSet:function(){this.nowSql="undefined",this.initData("undefined")},renderTable:function(e){if(1!=this.nowtable.tableType)this.isLoading=!1;else if(void 0!=this.modelUuid){0==this.conditionShowData[0].length&&(this.isLoading=!1);for(var t=0;t<this.conditionShowData[0].length;t++)for(var n=0;n<this.conditionShowData[0][t].length;n++)if(e.data[this.primaryKey.toLowerCase()]==this.conditionShowData[0][t][n])return this.isLoading=!1,{"background-color":JSON.parse(this.conditionShowData[1][t]).backGroundColor,color:JSON.parse(this.conditionShowData[1][t]).fontColor};this.isLoading=!1}},getRenderTableData:function(){var e=this;"modelRunResult"==this.useType&&(void 0!=this.modelUuid?(0,l.selectConditionShow)(this.modelUuid,this.nowtable.resultTableName).then((function(t){e.conditionShowData=t.data,(0,l.selectPrimaryKeyByTableName)().then((function(t){e.primaryKey=t.data,(0,l.selectModel)(e.modelUuid).then((function(t){e.modelDetailRelation=t.data.modelDetailRelation,e.modelOutputColumn=t.data.modelOutputColumn;for(var n=[],i=0;i<e.modelOutputColumn.length;i++)void 0!=e.modelOutputColumn[i].dataCoding&&n.push(e.modelOutputColumn[i].dataCoding);n.length>0&&(0,h.getTransMap)(n.join(",")).then((function(t){e.dataCoding=t.data})),e.initData(),e.modelDetailRelation.length>0&&(e.modelDetailButtonIsShow=!0)}))}))})):this.initData())},getList:function(){var e=this;this.rowData=this.modelResultData.filter((function(t,n){return n<e.page*e.limit&&n>=e.limit*(e.page-1)})),this.total1=this.modelResultData.length},handleSizeChange:function(e){this.limit=e,this.getList()},handleCurrentChange:function(e){this.page=e,this.getList()},openModelDetail:function(){var e=this.gridApi.getSelectedRows();if(e.length<1)this.$message({type:"info",message:"请选择后再进行关联!"});else if(1==e.length){this.options=[];for(var t=0;t<this.modelDetailRelation.length;t++){var n={value:this.modelDetailRelation[t].relationObjectUuid,label:this.modelDetailRelation[t].modelDetailName};this.options.push(n)}this.modelDetailDialogIsShow=!0}else this.$message({type:"info",message:"不能选中多条!"})},modelDetailCetermine:function(){for(var e=this,t=this.gridApi.getSelectedRows(),n=null,i="",a=null,r=0;r<this.modelDetailRelation.length;r++)if(this.value==this.modelDetailRelation[r].relationObjectUuid){n=this.modelDetailRelation[r].relationType,i=this.modelDetailRelation[r].relationObjectName,a=this.modelDetailRelation[r].modelDetailConfig;break}if(1==n){var o=[];for(r=0;r<this.modelDetailRelation.length;r++)if(this.modelDetailRelation[r].relationObjectUuid==this.value)for(var s=0;s<this.modelDetailRelation[r].modelDetailConfig.length;s++){var u=this.modelDetailRelation[r].modelDetailConfig[s].resultColumn,c={moduleParamId:"",paramValue:""};c.moduleParamId=this.modelDetailRelation[r].modelDetailConfig[s].ammParamUuid,c.paramValue=t[0][u.toLowerCase()],o.push(c)}(0,l.findParamModelRelByModelUuid)(this.value).then((function(t){for(var n=[],i=0;i<t.data.length;i++)n.push(JSON.parse(t.data[i]));(0,l.selectModel)(e.value).then((function(t){var i=(0,l.replaceParam)(o,n,t.data.sqlValue),a={sqls:i,businessField:"modelresultdetail"};getExecuteTask(a).then((function(t){e.currentExecuteSQL=t.data.executeSQLList,(0,d.startExecuteSql)(t.data).then((function(e){}))})).catch((function(t){e.$message({type:"info",message:"执行失败"})}))}))}))}else if(2==n){var h="SELECT * FROM "+i+" WHERE ",f="";for(r=0;r<a.length;r++){var p=a[r].relFilterValue;e:for(s=0;s<this.modelOutputColumn.length;s++)if(p.indexOf(this.modelOutputColumn[s].outputColumnName)>-1){p=p.replace(this.modelOutputColumn[s].outputColumnName,t[0][this.modelOutputColumn[s].outputColumnName.toLowerCase()]);break e}r==a.length-1?f+=p:f+=p+" or "}h+=f;var m={sqls:h,businessField:"modelresultdetail"};getExecuteTask(m).then((function(t){e.currentExecuteSQL=t.data.executeSQLList,(0,d.startExecuteSql)(t.data).then((function(e){}))})).catch((function(t){e.$message({type:"info",message:"执行失败"})}))}this.modelDetailDialogIsShow=!1,this.modelDetailModelResultDialogIsShow=!0},modelResultExport:function(){this.tableData=this.nextValue.result,this.json_fields={};for(var e=0;e<this.nextValue.columnNames.length;e++)this.json_fields[this.nextValue.columnNames[e]]=this.nextValue.columnNames[e];this.excelName="模型结果导出表"},reSet1:function(){this.isLoading=!0},initWebSocket:function(){this.webSocket=this.getWebSocket()},getWebSocket:function(){var e="ws://"+window.location.host+":"+window.location.port+"/websocket?"+this.$store.getters.personuuid+"modelresultdetail";this.webSocket=new WebSocket(e),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(e){var t=JSON.parse(e.data);n(t)};var t=function(e){this.$refs.childTabsRef.loadTableData(e)},n=t.bind(this);this.webSocket.onclose=function(e){},this.webSocket.onerror=function(e){}}}};t.default=f},"383f":function(e,t,n){"use strict";n.r(t);var i=n("5869"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},3883:function(e,t,n){"use strict";n.r(t);var i=n("161a"),a=n("3688");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},3889:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var a=i(n("69a04")),r={data:function(){return{uploader_key:(new Date).getTime(),options:{target:"/base/file/uploadFile",testChunks:!1,singleFile:!0,query:{path:"E:\\0"}},attrs:{accept:".xls"}}},methods:{onFileSuccess:function(e,t,n,i){if(0!==JSON.parse(n).code)this.$message.error(this.$t(JSON.parse(n).msg)),t.cancel();else{var a=JSON.parse(n).data;this.$emit("fileuploadname",a),this.$notify({title:this.$t("message.title"),message:this.$t(JSON.parse(n).data+"上传成功"),type:"success",duration:2e3,position:"bottom-right"})}},onFileProgress:function(e,t,n){console.log("上传中 ".concat(t.name,"，chunk：").concat(n.startByte/1024/1024," ~ ").concat(n.endByte/1024/1024))},onFileError:function(e,t,n,i){this.$message.error(this.$t(JSON.parse(n).msg)),t.error()},computeMD5:function(e){var t=this,n=this.$loading({lock:!0,text:"正在计算MD5",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),i=new FileReader,r=(new Date).getTime(),o=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,s=0,l=10485760,u=Math.ceil(e.size/l),c=new a.default.ArrayBuffer;function d(){var t=s*l,n=t+l>=e.size?e.size:t+l;i.readAsArrayBuffer(o.call(e.file,t,n))}e.pause(),d(),i.onload=function(i){if(c.append(i.target.result),s<u)s++,d(),t.$nextTick((function(){console.log("校验MD5 "+(s/u*100).toFixed(0)+"%")}));else{var a=c.end();n.close(),t.computeMD5Success(a,e),console.log("MD5计算完毕：".concat(e.name," \nMD5：").concat(a," \n分片：").concat(u," 大小:").concat(e.size," 用时：").concat((new Date).getTime()-r," ms"))}},i.onerror=function(){this.error("文件".concat(e.name,"读取出错，请检查该文件")),n.close(),e.cancel()}},computeMD5Success:function(e,t){t.uniqueIdentifier=e,t.resume()},filesAdded:function(e,t){var n=!0;n?this.computeMD5(e):this.$message.error(this.$t("error.error_upload_file_max"))}}};t.default=r},"38c3":function(e,t,n){"use strict";n("c3cd")},"38c9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABz0lEQVQ4T62VPU/bUBSG3zcxf6BMiPQfdKELQmJBIFF1KlRIcSLZQUS5rIGRoiIBI3uNQI2D8iEhaBcQSCCxspCFf8DXBCMMODnIBkcmJHFI683nnPe5vvbVY6LFpacy30T4CYIBEIPemOAURIWU81Ju/W+zKBuLyWQ6VotGN0CMt1rsBX4YqVbThcLGZXDuFTBhKkMAuy2ooUnALNpW3i/XgXFTjRI4eg/MnxVgrGxbx+69B5yamfmgOdptNzA/42hO7/bm5p0HTJjqtwCpfwESyBVta5qJlJoUwU4jjMB9TThczv+qJMzZrIjMgYi1W5TEd+pmZgXgQpPBk5Jtjfj1ZDodqz5G5ghmW0Nllbqh9kB8DQP6fd1QQwJkSUy9yQj2qZvqGkBfp0B/Lm5klkj+bMjdMG6qSwL9/wMowBXjhtohMdkpsN2WRbDrPuEPAsthwE4+igCLdCUA4Z8mwAepyUh5a/2002MDyoR3sHVDHYTKIOzUCw5LeeuLB/QMo0UvwjLt+hGn+tE1T10O3ZgmYJi6cV7pqxvjBE1Tt01wK655ehxtLUwWrgweNWfeNUww/8bYfvNZGvIZQvcXMODVBRVQKiTPijlrt9k7fQLX9LvXzTE2hQAAAABJRU5ErkJggg=="},"38cb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[]},"38e7":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-container",[n("el-header",[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getLikeList}})],1)]),n("el-main",{staticStyle:{width:"91.8vw"}},[n("div",{attrs:{align:"right"}},[n("el-row",[n("el-dropdown",[n("el-button",{staticClass:"oper-btn link-2",attrs:{type:"primary",disabled:e.buttonIson.AssociatedBtn},on:{click:e.openProjectDialog}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.modelResultOpenDialog(t)}}},[e._v("分配项目")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.modelResultOpenDialog(t)}}},[e._v("结果分配")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.RemoverelationProject(t)}}},[e._v("移除分配项目")])],1)],1),n("el-button",{staticClass:"oper-btn split-2",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",disabled:e.buttonIson.resultSplitBtn},on:{click:e.openResultSplitDialog}}),n("el-button",{staticClass:"oper-btn export-4",attrs:{type:"primary",disabled:e.buttonIson.exportBtn},on:{click:e.exportExcel}}),n("el-button",{staticClass:"oper-btn delete-2",attrs:{disabled:e.buttonIson.deleteBtn,type:"primary"},on:{click:e.deleteRunTaskRel}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{id:"table",data:e.list,border:"",fit:"","highlight-current-row":"",height:"450px"},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"模型名称",width:"300px",align:"center",prop:"model.modelName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("a",{staticStyle:{color:"#409eff"},attrs:{type:"text"},on:{click:function(n){return e.getResultTables(t.row.runResultTables,t.row.model.modelName,t.row.model.modelUuid,t.row.runStatus,e.resultSpiltObjects)}}},[e._v(e._s(t.row.model.modelName))])]}}])}),n("el-table-column",{attrs:{label:"运行状态",width:"100px",align:"center",prop:"runStatus",formatter:e.readStatusFormatter},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{class:e.runStatusIconFormatter(t.row.runStatus),style:e.runStatusStyleFormatter(t.row.runStatus)})]}}])}),n("el-table-column",{attrs:{label:"运行人",width:"100px",align:"center",prop:"runTask.runUserName"}}),n("el-table-column",{attrs:{label:"运行类型",width:"100px",align:"center",prop:"runTask.runType",formatter:e.runTypeFormate}}),n("el-table-column",{attrs:{label:"执行进度",prop:"executeProgress",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-progress",{attrs:{percentage:e.executeProgressFormate(t.row.executeProgress),color:e.customColorMethod(t.row.executeProgress)}})]}}])}),n("el-table-column",{attrs:{label:"结果总条数",width:"100px",align:"center",prop:"runResultTables",formatter:e.dataCountFormatter}}),n("el-table-column",{attrs:{label:"定时运行时间",width:"200px",align:"center",prop:"runTask.timingExecute",formatter:e.dateFormatter2}}),n("el-table-column",{attrs:{label:"运行开始时间",width:"200px",align:"center",prop:"runStartTime",formatter:e.dateFormatter}}),n("el-table-column",{attrs:{label:"运行结束时间",width:"200px",align:"center",prop:"runEndTime",formatter:e.dateFormatter1}}),n("el-table-column",{attrs:{label:"运行SQL",prop:"settingInfo",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.selectSql(t.row)}}},[e._v(e._s(e.settingInfoSqlFormatter(t.row)))])]}}])}),n("el-table-column",{attrs:{label:"运行参数",prop:"settingInfo",align:"center",width:"200px",formatter:e.settingInfoParamsArrFormatter}}),n("el-table-column",{attrs:{label:"运行信息",prop:"runMessage",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.selectrunMessage(t.row)}}},[e._v(e._s(e.runMessageFormatter(t.row)))])]}}])}),n("el-table-column",{attrs:{label:"关联项目",prop:"projectName",align:"center",width:"200px"}}),e._e(),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[4==t.row.runStatus?n("a",{staticStyle:{color:"#409eff"},on:{click:function(n){return e.reRunReParam(t.row)}}},[e._v("重新运行")]):e._e()])]}}])})],1),n("el-dialog",{attrs:{title:"模型运行设置-立即",visible:e.runimmediatelyIsSee,width:"60%","append-to-body":!0},on:{"update:visible":function(t){e.runimmediatelyIsSee=t}}},[e.runimmediatelyIsSee?n("runimmediatelycon",{ref:"modelsetting",attrs:{timing:!1,models:this.currentData}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.runimmediatelyIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelRunSetting}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"模型运行设置-定时",visible:e.timingExecutionIsSee,width:"60%","append-to-body":!0},on:{"update:visible":function(t){e.timingExecutionIsSee=t}}},[e.timingExecutionIsSee?n("runimmediatelycon",{ref:"modelsetting",attrs:{timing:!0,models:this.currentData}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.timingExecutionIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelRunSetting}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"结果拆分",visible:e.resultSplitDialogIsSee,width:"40%"},on:{"update:visible":function(t){e.resultSplitDialogIsSee=t}}},[n("div",{attrs:{align:"center"}},[n("span",[e._v("要拆分的数据：")]),n("el-select",{staticStyle:{width:"50%"},attrs:{multiple:"",size:"medium",placeholder:"请选择"},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}},e._l(e.ResultSplitoptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.resultSplitDialogIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.ResultSplitDialogDetermine}},[e._v("确 定")])],1)]),n("el-dialog",{attrs:{title:"请选择要分享的人员",visible:e.resultShareDialogIsSee,width:"50%"},on:{"update:visible":function(t){e.resultShareDialogIsSee=t}}},[n("personTree",{ref:"orgPeopleTree"}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.resultShareDialogIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelResultShare}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"请选择项目",visible:e.projectDialogIsSee,width:"40%"},on:{"update:visible":function(t){e.projectDialogIsSee=t}}},[e.projectDialogIsSee?n("userProject",{ref:"userproject"}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.projectDialogIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.determineProject}},[e._v("确 定")])],1)],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getLikeList}})],1)],1),e.sqlInfoDialog?n("el-dialog",{attrs:{visible:e.sqlInfoDialog,title:"SQL信息",width:"50%"},on:{"update:visible":function(t){e.sqlInfoDialog=t}}},[n("el-input",{attrs:{disabled:"",type:"textarea",rows:15},model:{value:e.sqlInfo,callback:function(t){e.sqlInfo=t},expression:"sqlInfo"}})],1):e._e(),e.runMessageInfoDialog?n("el-dialog",{attrs:{visible:e.runMessageInfoDialog,title:"运行信息",width:"50%"},on:{"update:visible":function(t){e.runMessageInfoDialog=t}}},[n("el-input",{attrs:{disabled:"",type:"textarea",rows:15},model:{value:e.runMessageInfo,callback:function(t){e.runMessageInfo=t},expression:"runMessageInfo"}})],1):e._e()],1)},a=[]},"38f8":function(e,t,n){"use strict";n.r(t);var i=n("4f3a"),a=n("35c3");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("5d0e");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"6a4ba3a8",null);t["default"]=s.exports},3905:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="ETL调度0819",a={name:"",description:"",globalParams:[],tasks:[],cacheTasks:{},timeout:0,tenantId:-1,locations:{},connects:[],runFlag:"",isEditDag:!1,projectName:i||"",syncDefine:!1,processListS:[],classListS:[],projectListS:[],resourcesListS:[],resourcesListJar:[],processInstanceDetail:{},dsTypeListS:[{id:0,code:"MYSQL",disabled:!1},{id:1,code:"POSTGRESQL",disabled:!1},{id:2,code:"HIVE",disabled:!1},{id:3,code:"SPARK",disabled:!1},{id:4,code:"CLICKHOUSE",disabled:!1},{id:5,code:"ORACLE",disabled:!1},{id:6,code:"SQLSERVER",disabled:!1},{id:7,code:"DB2",disabled:!1}],notifyGroupListS:[],instanceListS:[],isDetails:!1,startup:{},status:"",orderNo:null};t.default=a},"394f":function(e,t,n){"use strict";n.r(t);var i=n("67ba"),a=n("2394");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},3954:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("7f7f");var a=i(n("6c1e")),r=i(n("6d5f")),o={components:{firstParentTabCon:a.default,childTabs:r.default},data:function(){return{editableTabsValue:"模型结果列表",editableTabs:[],tabIndex:0,mainTable:{},helpTables:[]}},methods:{handleClick:function(e,t){"模型结果列表"!==e.name&&e.$children[0].clickBigTab()},addTab:function(e,t,n,i,a,r,o){var s=++this.tabIndex+"";this.mainTable=t,this.helpTables=e,this.editableTabs.push({title:n+"模型结果",name:s,mainTable:t,helpTables:e,modeluuid:i,resultSpiltObjects:a,useType:r,currentExecuteSQL:o,modelId:i}),this.editableTabsValue=s},setNextValue:function(e){this.$refs.childtabsref[this.editableTabs.length-1].loadTableData(e,"apple")},removeTab:function(e){var t=this.editableTabs,n=this.editableTabsValue;n===e&&t.forEach((function(i,a){if(i.name===e){var r=t[a+1]||t[a-1];n=r?r.name:"模型结果列表"}})),this.editableTabsValue=n,this.editableTabs=t.filter((function(t){return t.name!==e}))}}};t.default=o},"39ec":function(e,t,n){"use strict";n.r(t);var i=n("03e7"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"39f6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c5f6");var i={name:"DataSampleDrawnSet",data:function(){return{nodeData:null,setting:null,radioVal:"samCount",samCount:null,proportion:null,preNumber:null,eqCountSample:null,radioMap:{samCount:"样本量（个）抽样",proportion:"比例（%）抽样",preNumber:"前N个抽样",eqCountSample:"等距抽样"}}},mounted:function(){this.init()},methods:{init:function(){var e=this.$parent.$parent.$parent.graph;this.nodeData=e.nodeData[e.curCell.id],this.nodeData.isSet&&(this.radioVal=this.nodeData.setting.radioValue,this[this.radioVal]=this.nodeData.setting.samCountVal)},inputVerify:function(){var e=!0,t=this[this.radioVal];return null==t||isNaN(t)?(e=!1,this.$message({type:"warning",message:"【".concat(this.radioMap[this.radioVal],"】项未输入正确的数值")})):0===Number(t)?(e=!1,this.$message({type:"warning",message:"【".concat(this.radioMap[this.radioVal],"】项可输入最小值应为1")})):"proportion"===this.radioVal&&Number(t)>100&&(e=!1,this.$message({type:"warning",message:"【".concat(this.radioMap[this.radioVal],"】项可输入最大值应为100")})),e},saveSetting:function(){this.nodeData.setting={radioValue:this.radioVal,samCountVal:this[this.radioVal]}}}};t.default=i},"3a1f":function(e,t,n){"use strict";n.r(t);var i=n("efbc"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"3aa5":function(e,t,n){"use strict";n.r(t);var i=n("3efb"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"3b6b":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-container",[n("el-header",[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getLikeList}})],1)]),n("el-main",{staticStyle:{width:"92vw"}},[n("div",{attrs:{align:"right"}},[n("el-row",[n("el-button",{staticClass:"oper-btn processing",attrs:{disabled:!1,type:"primary",size:"small"},on:{click:e.handleResult}}),n("el-button",{staticClass:"oper-btn delete-3",attrs:{disabled:e.buttonIson.deleteBtn,type:"primary"},on:{click:e.deleteRunTaskRel}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"resultTable",attrs:{id:"table",data:e.list,border:"",fit:"","highlight-current-row":"",height:"450px"},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55px"}}),n("el-table-column",{attrs:{label:"模型名称",width:"300px",align:"center",prop:"model.modelName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("a",{staticStyle:{color:"#409eff"},attrs:{type:"text"},on:{click:function(n){return e.getResultTables(t.row.runResultTables,t.row.model.modelName,t.row.model.modelUuid,t.row.runStatus,e.resultSpiltObjects)}}},[e._v(e._s(t.row.model.modelName))])]}}])}),n("el-table-column",{attrs:{label:"处理状态",width:"100px",align:"center",prop:"handleState"}}),n("el-table-column",{attrs:{label:"处理意见",width:"100px",align:"center",prop:"handleIdea"}}),n("el-table-column",{attrs:{label:"运行人",width:"100px",align:"center",prop:"runTask.runUserName"}}),n("el-table-column",{attrs:{label:"运行类型",width:"100px",align:"center",prop:"runTask.runType",formatter:e.runTypeFormate}}),n("el-table-column",{attrs:{label:"结果总条数",width:"100px",align:"center",prop:"runResultTables",formatter:e.dataCountFormatter}}),n("el-table-column",{attrs:{label:"运行SQL",prop:"settingInfo",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.selectSql(t.row)}}},[e._v(e._s(e.settingInfoSqlFormatter(t.row)))])]}}])}),n("el-table-column",{attrs:{label:"运行参数",prop:"settingInfo",align:"center",width:"200px",formatter:e.settingInfoParamsArrFormatter}}),n("el-table-column",{attrs:{label:"关联项目",prop:"projectName",align:"center",width:"200px"}}),e._e()],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getLikeList}})],1)],1),e.sqlInfoDialog?n("el-dialog",{attrs:{visible:e.sqlInfoDialog,title:"SQL信息",width:"50%"},on:{"update:visible":function(t){e.sqlInfoDialog=t}}},[n("el-input",{attrs:{disabled:"",type:"textarea",rows:15},model:{value:e.sqlInfo,callback:function(t){e.sqlInfo=t},expression:"sqlInfo"}})],1):e._e(),n("el-dialog",{attrs:{title:"请处理",visible:e.handleIdeaDialog,width:"30%","append-to-body":!0},on:{"update:visible":function(t){e.handleIdeaDialog=t}}},[n("div",{ref:"basicInfo"},[n("el-form",{ref:"basicInfoForm"},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"处理状态"}},[n("el-select",{staticStyle:{margin:"5px"},model:{value:e.modelResultHandle.handleState,callback:function(t){e.$set(e.modelResultHandle,"handleState",t)},expression:"modelResultHandle.handleState"}},[n("el-option",{attrs:{value:"待处理"}},[e._v("待处理")]),n("el-option",{attrs:{value:"处理中"}},[e._v("处理中")]),n("el-option",{attrs:{value:"已完成"}},[e._v("已完成")])],1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"处理意见"}},[n("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:e.modelResultHandle.handleIdea,callback:function(t){e.$set(e.modelResultHandle,"handleIdea",t)},expression:"modelResultHandle.handleIdea"}})],1)],1)],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.handleIdeaDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateHandleResult()}}},[e._v("确 定")])],1)])],1)},a=[]},"3bc1":function(e,t,n){"use strict";n.r(t);var i=n("d34e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"3bd3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAL5klEQVR4Xu2dB6wFRRWGPyxBUBGMiNgbiliiGKOIYCciwa4RBTtiV0QwttgLYsGugErsxIgaxAr2HgtYUQTBRBQFG2AhseTTWb0+3t2Z2XLvljnJ5CbvTTnl36lnzmxBoVlrYItZS1+EpwBg5iAoACgAmLkGZi5+6QEKAGaugZmLP+ce4ErAlUO6HHD+QvrHXHAxZQDcGDDdPKTrBmNvF34vVWPk3wO/C4D4OXAKcGpI5wwQHI8CbgvsCPwI+CDw7RQ+pwKA6wD7ArdaMPo2KQpokOe3AQiC4kTg8w3q6LLI+4D9NqnwkcCxsYbGDAC78HsFw2t8u/F1kIDwi/sEcBLw1xUy8QLg+UvaOwu4SYyfMQJAY1eG32GFyk5pSjAIhI8Cx6cUaJnn/cCDa+oQAKfVtTEWAPh1Pzoku/kx0NeB94T0x54Y/hxwp5q67xwbooYOALv5yvC79KTEvqs9ewEItV9jA0YmCwC79srw12+gmCEWuRg4BjgSOL0jBicJgKcAhwHX6EhJy6pxsnZeSBcB2wNXCUvEPpt2v+G1AQi224YmBYCdgRcBD2yjkQ1lNfB3F9KZgBM1/37BknYuHYAgGATFrRfSjTrk7fsBCO9sUedkAPCYYHw3MtrQz8Is/Bth8+aHbSrbpKy90q4h7R02X9o28SnghcDXGlQ0egD4lb0KeHgD4asildFdfplWSe6+3QNoCwZ7o0OAozOZHzUA9ghdoF1sEzoK+MgajL6MV8EgEA4Ert5EIOD1wFMzyo4WAI8Nxt86Q9gqq4Y3Je11N6i/bRGHsYNaAOGzwF0TmRglAJwBPy1RwMVsQzf8RpHaAOE3QMou5+gA4Bap27g55Jbqywb8xcdkEQiHAgfHMm74/98ATy7/UlNuVAD4KrBbhhI8dn0J8JaMMkPOug/wvMyVg0tWl8ceTW9GowGAO183zLDOu4Lxu9oxy2i616xbBhA8J6MV9y6cMG/mhzAKAOhcsW2iwBeG7vKtifnHms1DGreEb5EogL4HDwDO2JB/8ABwMuNuWgo5RDhW+jsHskf0tNDlYwr9ALgv4L5HRYMGgF+xy6EUMq/GtweYG8WMuKiPEzZMomNl13YcrDvSOxIt6Qw/Z0xMrHZU2T4eNpFSmD4iHJaZd5AAcBND16gUyt35SqlzrHleGXrBFP4rf7/BAUDnzE8DKadmbwA8+i30Pw3U+fgt6kkPI7v31wzNI8jDDE/2YuTpl8IWuqQGUkGgy5k+DYNxCXsQcFyCRd8L7J+Qb85ZDl8Y5+v0oEv6IADgluUXwgWMOoY9p7/dnC2bIfvbAS98tKGVrQJeDTw9wqnbmXcEXM8WStOAH9WeaVk3zbUSAOgQkeKIIZrbuD+10MNoi+4F6DHUlHoHgP5zonT3CIfenHGOUChfA677n5Ff7N8legdAyozV3T27MZ0zC+VrQLe5kzPODRZb6BUAW4VLkjtFZHo28PJ8uUuJBQ14/ctrYLnUKwBc78ecGL/UchKTK/A683t9zUssV+2JiQMarAp6BYC+azZQR/dMnCD2pLOVVau3z7MyTj5XxVhvAEiZ+XsY5PWuqdMdAHu6IVJvANBjxy6pju4STquGqJguefoKcPsuK+ywrl4AcLMw+asLseK+gN3/HMhLHVcYqKC9AMDze8e7OnooYOiSOdBPEk8/16GLGwD6FC6lJvEBDEJk5IllpP/aWII4dGEUj7Wf1EVFHdfhvUh761rKBYDXuL4VqdNdK88G5kQfBu4zMIGdl0QvnOYCwAOfOuP+KXSH5w5MGatgx11RQ9IZe3Bd5CUSv3zvUySFpckFgJcx710jnQcXLhELjUQDuQDwSNez/2VUPH1GYviKzRwApGx46BDqDmGhkWggBwDeazOEyzJy/DeqV6ERaSAHADEX5DL+j8jwTYYAgyYbcHkZzXH5N0KT/z/LOT3APyPSesftm6PXyMwESAWAX749QB25/vUmcKERaSAVAPqeOwdYRgYy6MsRYkTqHB+rqQB4RMSj1yNRl4mFRqaBVADEnD919257iWFkqpsGu6kA0MD2AsvI4+FXTEMl85IiFQCxPQDDl3xoXqqbhrRdASDqeTINdU1PigKA6dk0S6ICgCx1TS9zAcD0bJolUQFAlrqml7kAYHo2zZKoACBLXdPL3BUAvChqSJNCI9NAKgCM2P24GtlKyLeRGb5iNxUAPvDgQw/LaE7XwEdq6s3ZTgVA7DZw8QccKSxSAZDiEGJwhJjTyEjVNF22UwGgBrx1UvdEu6HMvThSaEQayAGAQZ5uWSNbuRQyIsPnTgLNH3urvkQBnTgAYl5Biu+Dib8aoR5my3LOELBLuHlap6yHAe+erTZHKHgOABTPOL83rZGzRAIfGQhyARAbBrw97AvbxrEvNAIN5ALA2z8+VFBH+wIfG4HshUUgFwApw4AvgD2+aHccGmgCgNjjRnb/Bok6bRwqmDeXTQBw9/AwVJ3mvCMQCyU3b80PRPomAJD12K7gr0Mv4G+hAWugKQB87u11EbnKbaH+DF89FOUw2+ojawqAbUIv4AngMpI55wJlSdgdEA4LAbgX32V0i/4hTZtoCgDbey7w4kjDrgam/hJ4U93nlnsC8KYlhRofxLUBwDWB70Ri5P8CMHLY4ovXuYKX/HDjyKoqKSzsZopsAwDriy0JzdOqiyrW5zLAOQmPUTSyZaNCC0YxaLQrgi0jhjKY8rLuq9i4XgMxh9yqdCNbNiq0gV/H+IMiVvSMwAckTi3WztLAoaGXjRU6FvBF8WzqAgDXDtFBjU1fR75z6yMSupYVimvAmAu+txijPwB7J5zRbFpPFwCwYpchHgXH6BjgwFim8n/2CQE3YkOrqvLLtwdoRF0BwMbfnHgI9MzEbq2RQBMotHOI879tgiytt9y7BIAvXBoo2pj5MfIZ2ZTuLVbPFP/vjH/HBMH0wNYTuxV1CQAZ8dUMX89IoQKCS2rpjPD4ZEx/7rI67p8Vyxj7f9cAsD2fin1prOHw/13Lm8L/1VQsENeiSjX+JxN1XJutDwDYoI6h+ycyeHngz4l5p5otx/guuY/qShF9AcD5gAj1kakU8nDj9JSME8uzNXAiUJ3uxcRrvOe/rOK+AGB7ewQQKGQK+UL2cSkZJ5LnWoAvsKYa368+tuGWrZo+ASAzqfsDFeOeLbhMnDr5pNsbM95XdGJ9vz6U0jcA5NmNn5wxyx1Duzp/p0gG2jgi47nZkwDd8HqhVQBAxl3y5XbvnY93vWgwvVLfF9bwdZFWNtb2AWC/9Cbyc64KAHK2F+C7QjlkL3B4V0uenIY7zmuXr/FzXhlfyQewSgCoUyc+Oi9cMVPB7nUfOcLTRHf0nLgdktHlqxq9fzwG7p1WDQAFMsiEL4vnbmN6iigI3gac3btm2jVQGd75jzemc8h3FwzPvxJaBwAqwQw6ZfCpXLoQcGx0TuEEaUjka90e4zYxvHJZTtlWRusEgEL6GLUnWpdtKPEXw6GSdxFb74s35GEr4P4hNX1B3ChrLn+jr3035HFpsXUDQMb2DCDYrYVwFwMnhEup/p7foq6Uoj6Q5X787sDdgOulFFqSxxiLunuvxX1+CABQL+4W2hM8uYUiq6J2pfopnhK8ZL4M6J3chgyOYVwEk15Nt2lTWSh7XjD8ysb7zXgeCgAq3owwcnAkGFUT3V8A/HJDstdYpEuH1YmXXlyl+Gusg7qAGE14scxnQpcvUNdKQwOAynA+8MSwFNpprdrpvnGdPY4GDLQxCBoiACrF6BLletjklzhmqgzvEnZQQbSGDIDK4DsADg0ml1ljIiOneuI3OMNXShwDACpeHaMPCEDwlbKh0t+DW9zx4Xcts/tU5YwJAIsyGbzaO4deNtGtbAhkoEwdNTX8T4fAUAoPYwXAomwCQCAICA9bnL2vgi4CTg7JWf2PV9Fo121MAQCLOnFXThAspi4A4ZLxe+Ewyl/TJPwVpgaAzT6Q7YCrAU4mq7R9OJ3zjH4xnQssJqNvnDnWrzult5gDAFL0MNs8BQCzNf1/BC8AKACYuQZmLn7pAQoAZq6BmYtfeoACgJlrYObi/wsQqf6QK2xcGQAAAABJRU5ErkJggg=="},"3c18":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("d75c"),a={data:function(){return{}},props:["myId"],methods:{initParamHtmlSS:function(e,t,n,a){(0,i.initcrossrangeParamHtml)(e,t,n,a)}}};t.default=a},"3c3d":function(e,t,n){},"3c4c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAE6ADAAQAAAABAAAAEwAAAAAgb1CmAAABF0lEQVQ4EWNkQAMefjHq/5l/c6AJY+WyifLf3jxr1jeYJAuMAaLdg8KN/vz4voHhD7IobvaPp++WAWUrYCoYQYyGhgam4xev6zL8/sf+l4nBgOkPI1Eu+8fKcI3t/98PbEK8dzYsWPAB7LLj567Z//3zdyHYhn8MDEBEHPjNwPALqPLn6y/bgFQGY1paGuuTJ5+MfjP9M2T8x8BGnCmoqv6zMtzh5GI+y/Lw+Tuvvwz/J4Oc8x9VDfE8oAu/ffx/mIWPg/fYxx+fOxj+MqFEBvEmQVT+Z2E4y/Lx55fAf3//A2PkL6n6UdX/ZbrFhCpCPu//fwZGqhkGcsaoYaRHxmiYkR5mLAz//z/7z8B0m3StaDqY/l8HAPFqX2/PUdssAAAAAElFTkSuQmCC"},"3cca":function(e,t,n){"use strict";n.r(t);var i=n("18dd"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"3d2b":function(e,t,n){},"3d37":function(e,t,n){"use strict";n.r(t);var i=n("1462"),a=n("af31");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6dd4");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"039d3214",null);t["default"]=s.exports},"3d54":function(e,t,n){"use strict";n.r(t);var i=n("d77c"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"3dfd":function(e,t,n){"use strict";n.r(t);var i=n("9de7"),a=n("23be");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("034f");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"3e42":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText1,callback:function(t){e.filterText1=t},expression:"filterText1"}}),n("MyElTree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree1",staticClass:"filter-tree",attrs:{props:e.props,"highlight-current":!0,data:e.treeData1,"filter-node-method":e.filterNode,"node-key":"id",lazy:"",load:e.loadNode},on:{"node-click":e.nodeClick,"node-expand":e.nodeExpand},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},["root"===a.id?n("i",{staticClass:"el-icon-s-home",staticStyle:{color:"#409EFF"}}):e._e(),"folder"===a.type?n("i",{staticClass:"el-icon-folder",staticStyle:{color:"#409EFF"}}):e._e(),"table"===a.type&&"T"===a.extMap.tblType?n("i",{staticClass:"el-icon-tickets",staticStyle:{color:"#409EFF"}}):e._e(),"table"===a.type&&"V"===a.extMap.tblType?n("i",{staticClass:"el-icon-search",staticStyle:{color:"#409EFF"}}):e._e(),"column"===a.type?n("i",{staticClass:"el-icon-c-scale-to-original",staticStyle:{color:"#409EFF"}}):e._e(),n("span",{attrs:{title:a.title}},[e._v(e._s(i.label))])])}}])})],1)},a=[]},"3eeb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[]},"3eeb8":function(e,t,n){e.exports=n.p+"static/img/zhuti.6c298917.png"},"3eec":function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523"));function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("ac6a"),n("20d6"),n("7514"),n("5df3"),n("1c4c"),n("7f7f");var s={name:"customizeColumnSet",data:function(){return{initLoading:!0,columnZtree:null,funZtree:null,columnRootNodeArr:[],funRootNodeArr:[],rtnArr:[],searchColumnContent:"",searchFunContent:"",activeName:"columnZtreeList",customizeColumnVal:"",signArr:[{name:"''",value:"''"},{name:"||",value:"||"},{name:"=",value:"="},{name:"!=",value:"!="},{name:">",value:">"},{name:">=",value:">="},{name:"<",value:"<"},{name:"<=",value:"<="},{name:"(",value:"("},{name:")",value:")"},{name:"空",value:"IS NULL"},{name:"非空",value:"IS NOT NULL"},{name:"匹配",value:"LIKE"},{name:"介于",value:"BETWEEN AND"},{name:"包含",value:"IN"}],outputColumnName:"",specialSignArr:["SELECT ","UPDATE ","DELETE ","ALTER ","DROP ","TRUNCATE ","BEGIN "," END","FOR LOOP "," END LOOP"],columnType:"VARCHAR2",columnTypeArr:[{name:"字符",val:"VARCHAR2"},{name:"数值",val:"NUMBER"},{name:"日期",val:"TIMESTAMP"}]}},props:["columnInfoArr","curColumnInfo","nodeType","nodeDataArray"],mounted:function(){this.initData()},watch:{searchColumnContent:function(){this.searchColumnZtree()},searchFunContent:function(){this.searchFunZtree()}},methods:{initData:function(){if(this.initColumnZtree(),this.initFunZtree(),"undefined"!==typeof this.curColumnInfo&&null!=this.curColumnInfo){var e=this.curColumnInfo.columnInfo;this.customizeColumnVal=this.curColumnInfo.curColumnName||this.curColumnInfo.columnName;var t=this.replaceColumnType(e.columnType.toUpperCase());this.columnType=t.columnTypeVal,this.outputColumnName=this.curColumnInfo.disColumnName||this.curColumnInfo.newColumnName}this.initLoading=!1},initZtreeSetting:function(e){var t=this;return{data:{key:{checked:"isChecked",name:"name",title:"displayName"},simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}},check:{enable:!1,chkStyle:"radio",radioType:"all"},view:{selectedMulti:!1},edit:{enable:!0,showRenameBtn:!1,showRemoveBtn:!1,drag:{autoExpandTrigger:!1,prev:!1,inner:!1,next:!1}},callback:{beforeDrag:function(t,n){if("columnZtree"===e){if(null==n[0].pid)return!1}else if("funFolder"===n[0].type)return!1;return!0},onDrop:function(n,i,a){var r=t.$refs.customizeColumnInp.$refs.textarea;if(r===n.target){var o=r.selectionStart,s="";s="columnZtree"===e?a[0].displayName:a[0].name,0===t.customizeColumnVal.length?t.customizeColumnVal=s:t.replaceContent(r,o,s)}}}}},initColumnZtree:function(){var e=this,t=0,i=n("0a64");Array.from(this.columnInfoArr,(function(n){for(var a=!1,r=0;r<e.rtnArr.length;r++)if(e.rtnArr[r].rtn===n.rtn){a=!0;break}a||(e.rtnArr.push({rtn:n.rtn,nodeId:n.nodeId,nullNodeId:n.nullNodeId}),e.columnRootNodeArr.push({name:n.rtn,displayName:n.rtn,isParent:!0,level:1,id:"".concat(t),pid:null,open:!0,children:[]}),t++);var o=e.columnRootNodeArr.find((function(e){return e.name===n.rtn}));if("undefined"!==typeof o){var s="",l="",u=e.replaceColumnType(n.columnType.toUpperCase());if("relation"===e.nodeType){var c=e.nodeDataArray.findIndex((function(e){return e.tableName===n.resourceTableName}));c>-1&&(s="".concat(e.nodeDataArray[c].key,".").concat(n.columnName,"(").concat(u.columnTypeName,")"),l="".concat(e.nodeDataArray[c].key,".").concat(n.columnName))}else s="".concat(n.columnName,"(").concat(u.columnTypeName,")"),l=n.columnName;o.children.push({name:s,displayName:l,isParent:!1,level:2,id:"".concat(t),pid:o.id,open:!1,children:[],icon:i}),t++}})),this.columnZtree=$.fn.zTree.init($("#columnZtree"),this.initZtreeSetting("columnZtree"),this.columnRootNodeArr)},initFunZtree:function(){var e=this;this.$ajax.get("lib/jsonFile/oracle_Fun.json").then((function(t){if(t.data&&t.data.length>0){var i=n("2049");Array.from(t.data,(function(e){Array.from(e.children,(function(e){e.icon=i}))})),e.funRootNodeArr=t.data,e.funZtree=$.fn.zTree.init($("#funZtree"),e.initZtreeSetting("funZtree"),t.data)}})).catch((function(){e.$message.error("函数列表数据加载失败")}))},replaceColumnType:function(e){var t={columnTypeName:"",columnTypeVal:""};switch(e){case"VARCHAR":case"VARCHAR2":case"NVARCHAR":case"NVARCHAR2":t.columnTypeName="字符",t.columnTypeVal="VARCHAR2";break;case"INTEGER":case"DECIMAL":case"NUMBER":case"FLOAT":case"REAL":t.columnTypeName="数值",t.columnTypeVal="NUMBER";break;case"DATE":case"TIMESTAMP":case"TIMESTAMP(6)":t.columnTypeName="日期",t.columnTypeVal="TIMESTAMP";break}return t},inputSign:function(e){""===this.customizeColumnVal?this.customizeColumnVal=e:this.customizeColumnVal="".concat(this.customizeColumnVal," ").concat(e)},replaceContent:function(e,t,n){var i=this.customizeColumnVal.substr(0,t),a=this.customizeColumnVal.substr(t);this.customizeColumnVal="".concat(i).concat(n).concat(a),this.$nextTick((function(){var i=t+n.length;if(e.setSelectionRange)e.focus(),e.setSelectionRange(i,i);else if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveEnd("character",i),a.moveStart("character",i),a.select()}}))},saveInfo:function(){var e={isError:!1,columnInfo:{columnName:"",columnType:"",newColumnName:"",isOutputColumn:1,customizeColumn:!0}};0===$.trim(this.customizeColumnVal).length&&(e.isError=!0,this.$message({type:"warning",message:"自定义字段的内容不可为空"}));for(var t=0;t<this.specialSignArr.length;t++)if(this.customizeColumnVal.toUpperCase().indexOf(this.specialSignArr[t])>-1){e.isError=!0,this.$message({type:"warning",message:"自定义字段的内容不能含有SQL语言的关键字"});break}return 0===$.trim(this.outputColumnName).length&&(e.isError=!0,this.$message({type:"warning",message:"输出字段的值不可为空"})),e.columnInfo.columnName=this.customizeColumnVal,e.columnInfo.columnType=this.columnType,e.columnInfo.newColumnName=this.outputColumnName,e},searchColumnZtree:function(){var e=$.trim(this.searchColumnContent),t=this.initZtreeSetting("columnZtree");if(0===e.length)this.columnZtree=$.fn.zTree.init($("#columnZtree"),t,this.columnRootNodeArr);else{var n=[];this.columnRootNodeArr.forEach((function(t){var i=[],a=o(o({},{}),t);a.children.forEach((function(t){t.displayName.indexOf(e)>-1&&i.push(t)})),a.children=i,n.push(a)})),this.columnZtree=$.fn.zTree.init($("#columnZtree"),t,n)}},searchFunZtree:function(){var e=$.trim(this.searchFunContent),t=this.initZtreeSetting("funZtree");if(0===e.length)this.funZtree=$.fn.zTree.init($("#funZtree"),t,this.funRootNodeArr);else{var n=[];this.funRootNodeArr.forEach((function(t){var i=[],a=o(o({},{}),t);a.children.forEach((function(t){t.name.indexOf(e)>-1&&i.push(t)})),a.children=i,a.open=!0,n.push(a)})),this.funZtree=$.fn.zTree.init($("#funZtree"),t,n)}}}};t.default=s},"3efb":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e0d1")),r=i(n("445c")),o=i(n("7f2f")),s=n("9ac2"),l=(n("c72e"),{name:"EditModel",components:{ModelFolderTree:o.default,dataTree:a.default,myQueryBuilder:r.default},props:["columns","treeId","data","operationtype"],data:function(){return{form:{modelRelationUuid:"",modelUuid:"",modelDetailName:"",modelDetailMemo:"",relationType:"",relationObjectUuid:"",relationObjectName:"",modelDetailConfig:[]},queryBuilderJson:{},inputValue:{},inputValueJson:{},dataUserId:this.$store.getters.personcode,sceneCode:"auditor",ModelTreeDialog:!1,modelTreeLoading:!1,dataTableTree:!1,dataTableTreeLoading:!1,relModelTable:[],relModelParam:[],queryBuilderDialogVisible:!1,queryRules:{},relTable:[],isBanEdit:!1,relTableColumn:[],currentFilterInputId:"",rules:{modelDetailName:[{type:"string",required:!0,message:"请输入详细名称",trigger:"blur"}],relationType:[{required:!0,message:"请选择关联类型",trigger:"change"}]}}},created:function(){},mounted:function(){this.initData()},methods:{initData:function(){if(0!=this.data.length){if(this.form=this.data,1==this.data.relationType&&(this.$refs.relModelDivParent.style="block",this.$refs.relModelTableDiv.style="block",this.loadParamInfo(this.data.relationObjectUuid),this.relModelTable=this.data.modelDetailConfig),2==this.data.relationType){this.$refs.relTableDivParent.style="block",this.$refs.relTableDiv.style="block",this.loadTableCol(this.data.relationObjectUuid);for(var e=0;e<this.data.modelDetailConfig.length;e++)this.inputValue[this.data.modelDetailConfig[e].modelDetailConfigUuid]=this.data.modelDetailConfig[e].relFilterValue,this.inputValueJson[this.data.modelDetailConfig[e].modelDetailConfigUuid]=this.data.modelDetailConfig[e].relFilterValueJson;this.relTable=this.data.modelDetailConfig,this.setQueryBuilderColumn()}3==this.operationtype&&(this.isBanEdit=!0)}},getObj:function(){var e=!1;if(this.$refs["basicInfoForm"].validate((function(t){t&&(e=t)})),!e)return{verResult:!1,treeId:this.treeId};if(1==this.$refs.relTypeSelect.value){var t=this.$refs.relModelTable.data;if(this.relModelParam.length!=t.length)return this.relModelParam.length<t.length?(this.$message({type:"info",message:"关联模型的关联参数重复"}),{verResult:!1,treeId:this.treeId}):(this.$message({type:"info",message:"关联配置必须包含被关联模型的所有参数"}),{verResult:!1,treeId:this.treeId});for(var n=!0,i=[],a=0;a<this.relModelParam.length;a++)i.push(this.relModelParam[a].ammParamUuid);for(var r=0;r<t.length;r++)-1==i.indexOf(t[r].ammParamUuid)&&(n=!1);if(!n)return this.$message({type:"info",message:"关联模型的关联参数重复"}),{verResult:!1,treeId:this.treeId};this.form.modelDetailConfig=this.$refs.relModelTable.data}else if(2==this.$refs.relTypeSelect.value){if(0==this.$refs.relTable.data.length)return this.$message({type:"info",message:"关联表必须设置过滤条件"}),{verResult:!1,treeId:this.treeId};this.form.modelDetailConfig=this.$refs.relTable.data}return this.form},addRelFilter:function(e){if(1==e)this.relModelTable.push({});else{var t=(new Date).getTime();this.relTable.push({modelDetailConfigUuid:t,noShow:!1})}},loadTableCol:function(e){var t=this;(0,s.getTableCol)(e).then((function(e){null!=e.data?(t.relTableColumn=e.data,t.$refs.relTableDiv.style.display="block",t.setQueryBuilderColumn()):t.$message({type:"info",message:"加载数据表列失败!"})}))},relTypeSelectChange:function(e){1==e?(this.$refs.relTableDivParent.style.display="none",this.$refs.relModelDivParent.style.display="block",this.$refs.relTableDiv.style.display="none"):2==e&&(this.$refs.relModelDivParent.style.display="none",this.$refs.relTableDivParent.style.display="block",this.$refs.relModelTableDiv.style.display="none"),this.relTable=[],this.relModelTable=[],this.form.relationObjectName="",this.form.relationObjectUuid=""},deleteRow:function(e,t){t.splice(e,1)},nameValueChange:function(e){this.$emit("updateTreeNode",e)},selectModel:function(){this.ModelTreeDialog=!0},getSelectModel:function(){var e=this.$refs.modelFolderTree.getSelectNode();"model"==e.type?(this.modelTreeLoading=!0,this.loadParamInfo(e.id)):this.$message({type:"info",message:"请选择模型!"})},loadParamInfo:function(e){var t=this;(0,s.selectModel)(e).then((function(e){t.modelTreeLoading=!1,null!=e.data?0!=e.data.parammModelRel.length?(t.ModelTreeDialog=!1,t.relModelParam=e.data.parammModelRel,t.form.relationObjectUuid=e.data.modelUuid,t.form.relationObjectName=e.data.modelName,t.$refs.relModelTableDiv.style="block"):t.$message({type:"info",message:"该模型没有参数,请重新选择!"}):t.$message({type:"error",message:"获取模型信息失败!"})}))},setQueryBuilderColumn:function(){for(var e=[],t=0;t<this.relTableColumn.length;t++){var n={};n.columnType=this.relTableColumn[t].dataType,null==this.relTableColumn[t].chnName||""===this.relTableColumn[t].chnName?n.columnName=this.relTableColumn[t].colName:n.columnName=this.relTableColumn[t].chnName,e.push(n)}this.queryRules.columnList=e},showDataTree:function(){this.dataTableTree=!0},getDataTable:function(){var e=this.$refs.dataTableTree.getTree(),t=e.getCurrentNode();"table"==t.type?(this.loadTableCol(t.id),this.form.relationObjectName=t.label,this.form.relationObjectUuid=t.id,this.dataTableTree=!1):this.$message({type:"info",message:"请选择数据表!"})},openQueryBuilder:function(e){void 0!=this.inputValueJson[e]&&(this.queryBuilderJson=JSON.parse(this.inputValueJson[e])),this.queryBuilderDialogVisible=!0,this.currentFilterInputId=e},queryCondition:function(){var e=this.$refs.myQueryBuilder.getSelectSql();this.queryBuilderDialogVisible=!1,this.setFilter(e.sql,JSON.stringify(e.queryJson))},setFilter:function(e,t){this.inputValue[this.currentFilterInputId]=e,this.inputValueJson[this.currentFilterInputId]=t,this.relTable.push({modelDetailConfigUuid:1,noShow:!0})}}});t.default=l},"3f53":function(e,t,n){"use strict";n.r(t);var i=n("a751"),a=n("564f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("c3ae");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"0a6e50a0",null);t["default"]=s.exports},"3f54":function(e,t,n){"use strict";n.r(t);var i=n("1594"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"3fab":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={route:{dashboard:"Dashboard",documentation:"Documentation",guide:"Guide",permission:"Permission",pagePermission:"Page Permission",rolePermission:"Role Permission",directivePermission:"Directive Permission",icons:"Icons",components:"Components",tinymce:"Tinymce",markdown:"Markdown",jsonEditor:"JSON Editor",dndList:"Dnd List",splitPane:"SplitPane",avatarUpload:"Avatar Upload",dropzone:"Dropzone",sticky:"Sticky",countTo:"Count To",componentMixin:"Mixin",backToTop:"Back To Top",dragDialog:"Drag Dialog",dragSelect:"Drag Select",dragKanban:"Drag Kanban",charts:"Charts",keyboardChart:"Keyboard Chart",lineChart:"Line Chart",mixChart:"Mix Chart",example:"Example",nested:"Nested Routes",menu1:"Menu 1","menu1-1":"Menu 1-1","menu1-2":"Menu 1-2","menu1-2-1":"Menu 1-2-1","menu1-2-2":"Menu 1-2-2","menu1-3":"Menu 1-3",menu2:"Menu 2",Table:"Table",dynamicTable:"Dynamic Table",dragTable:"Drag Table",inlineEditTable:"Inline Edit",complexTable:"Complex Table",tab:"Tab",form:"Form",createArticle:"Create Article",editArticle:"Edit Article",articleList:"Article List",errorPages:"Error Pages",page401:"401",page404:"404",errorLog:"Error Log",excel:"Excel",exportExcel:"Export Excel",selectExcel:"Export Selected",mergeHeader:"Merge Header",uploadExcel:"Upload Excel",zip:"Zip",pdf:"PDF",exportZip:"Export Zip",theme:"Theme",clipboardDemo:"Clipboard",i18n:"I18n",externalLink:"External Link",profile:"Profile"},navbar:{dashboard:"Dashboard",github:"Github",logOut:"Log Out",profile:"Profile",theme:"Theme",size:"Global Size"},login:{title:"Login Form",logIn:"Login",username:"Username",password:"Password",any:"any"},documentation:{documentation:"Documentation",github:"Github Repository"},permission:{addRole:"New Role",editPermission:"Edit",roles:"Your roles",switchRoles:"Switch roles",tips:"In some cases, using v-permission will have no effect. For example: Element-UI  el-tab or el-table-column and other scenes that dynamically render dom. You can only do this with v-if.",delete:"Delete",confirm:"Confirm",cancel:"Cancel"},guide:{description:"The guide page is useful for some people who entered the project for the first time. You can briefly introduce the features of the project. Demo is based on ",button:"Show Guide"},components:{documentation:"Documentation",tinymceTips:"Rich text is a core feature of the management backend, but at the same time it is a place with lots of pits. In the process of selecting rich texts, I also took a lot of detours. The common rich texts on the market have been basically used, and I finally chose Tinymce. See the more detailed rich text comparison and introduction.",dropzoneTips:"Because my business has special needs, and has to upload images to qiniu, so instead of a third party, I chose encapsulate it by myself. It is very simple, you can see the detail code in @/components/Dropzone.",stickyTips:"when the page is scrolled to the preset position will be sticky on the top.",backToTopTips1:"When the page is scrolled to the specified position, the Back to Top button appears in the lower right corner",backToTopTips2:"You can customize the style of the button, show / hide, height of appearance, height of the return. If you need a text prompt, you can use element-ui el-tooltip elements externally",imageUploadTips:"Since I was using only the vue@1 version, and it is not compatible with mockjs at the moment, I modified it myself, and if you are going to use it, it is better to use official version."},table:{dynamicTips1:"Fixed header, sorted by header order",dynamicTips2:"Not fixed header, sorted by click order",dragTips1:"The default order",dragTips2:"The after dragging order",title:"Title",importance:"Imp",type:"Type",remark:"Remark",search:"Search",add:"Add",export:"Export",reviewer:"reviewer",id:"ID",date:"Date",author:"Author",readings:"Readings",status:"Status",actions:"Actions",edit:"Edit",publish:"Publish",draft:"Draft",delete:"Delete",cancel:"Cancel",confirm:"Confirm"},example:{warning:"Creating and editing pages cannot be cached by keep-alive because keep-alive include does not currently support caching based on routes, so it is currently cached based on component name. If you want to achieve a similar caching effect, you can use a browser caching scheme such as localStorage. Or do not use keep-alive include to cache all pages directly. See details"},errorLog:{tips:"Please click the bug icon in the upper right corner",description:"Now the management system are basically the form of the spa, it enhances the user experience, but it also increases the possibility of page problems, a small negligence may lead to the entire page deadlock. Fortunately Vue provides a way to catch handling exceptions, where you can handle errors or report exceptions.",documentation:"Document introduction"},excel:{export:"Export",selectedExport:"Export Selected Items",placeholder:"Please enter the file name (default excel-list)"},zip:{export:"Export",placeholder:"Please enter the file name (default file)"},pdf:{tips:"Here we use window.print() to implement the feature of downloading PDF."},theme:{change:"Change Theme",documentation:"Theme documentation",tips:"Tips: It is different from the theme-pick on the navbar is two different skinning methods, each with different application scenarios. Refer to the documentation for details."},tagsView:{refresh:"Refresh",close:"Close",closeOthers:"Close Others",closeAll:"Close All"},settings:{title:"Page style setting",theme:"Theme Color",tagsView:"Open Tags-View",fixedHeader:"Fixed Header",sidebarLogo:"Sidebar Logo"}};t.default=i},"3fbf":function(e,t,n){},4:function(e,t){},4005:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",{staticClass:"el-form-item__label"},[e._v("项目名称:")]),n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:e.filterprojectName,callback:function(t){e.filterprojectName=t},expression:"filterprojectName"}}),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{height:"400px","overflow-y":"scroll"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"项目名称",width:"200px",align:"center",prop:"PRJ_NAME"}}),n("el-table-column",{attrs:{label:"创建人名称",width:"150px",align:"center",prop:"CREATE_PERSON_NAME"}}),n("el-table-column",{attrs:{label:"创建时间",width:"200px",align:"center",prop:"CREATE_TIME"}})],1)],1)},a=[]},"401e":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-confirm-2",use:"icon-icon-confirm-2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-confirm-2"><defs><style type="text/css"></style></defs><path d="M812.2 355.7L434.3 733.6c-17.4 17.4-45.6 17.4-63 0l-31.5-31.5 409.4-409.4c17.4-17.4 45.6-17.4 63 0s17.4 45.6 0 63z" p-id="3002" /><path d="M371.3 733.6L213.9 576.2c-17.4-17.4-17.4-45.6 0-63s45.6-17.4 63 0l188.9 188.9-31.5 31.5c-17.4 17.4-45.6 17.4-63 0z" p-id="3003" /><path d="M928.1 928.2H98v-830h830.1v830zM863.2 163H162.9v700.4h700.4V163z" p-id="3004" /></symbol>'});o.a.add(s);t["default"]=s},4054:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-select flex a-center j-start"},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},a=[]},4075:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("009c"),a={name:"SelectTransCode",props:["transuuid","openType"],data:function(){return{selectTransId:"",isSql:!1,readonly:!0,dialogFormVisible:!1,dialogStatus:"",textMap:{select:"查看数据转码信息"},transRuleUuid:[],transJson:[],tempRule:[],pageQuery:{}}},created:function(){var e=this;this.selectTransId=this.transuuid,(0,i.listByPage)(this.pageQuery).then((function(t){e.transJson=t.data.records}))},methods:{seleteTransCode:function(e){var t=this;this.dialogStatus="select",(0,i.selectById)(e).then((function(e){t.tempRule=e.data,1===t.tempRule.ruleType?(t.dialogFormVisible=!0,t.tempRule.ruleType="SQL语句",t.isSql=!0):(t.dialogFormVisible=!0,t.tempRule.ruleType="手动添加",t.isSql=!1)}))},selectChanged:function(e){this.$emit("update:transuuid",e)}}};t.default=a},"40d3":function(e,t,n){"use strict";n.r(t);var i=n("e8b0"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"40f1":function(e,t,n){"use strict";n.r(t);var i=n("e0f3"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},4116:function(e,t,n){"use strict";n.r(t);var i=n("8cf2"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},4121:function(e,t,n){},4183:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("20d6"),n("ac6a");var a=i(n("e858")),r=n("d42c"),o=n("ed08"),s={components:{MyElTree:a.default},data:function(){return{roleUuid:this.$route.params.roleUuid,filterText1:null,filterText2:null,tree1Loading:!1,listLoading:!1,props:{label:"label",isLeaf:"leaf"},treeData1:[],treeData2:[{id:"ROOT",label:"角色数据",children:[]}],currentData:null,currentSelection:[],accessTypeArray:[],selectList:[]}},computed:{},watch:{filterText1:function(e){this.$refs.tree1.filter(e)},filterText2:function(e){this.$refs.tree2.filter(e)}},created:function(){var e=this;this.tree1Loading=!0,(0,r.getResELTree)({dataUserId:"master",sceneCode:""}).then((function(t){e.treeData1=t.data,e.tree1Loading=!1})),(0,r.getResByRole)(this.$route.params.roleUuid).then((function(t){t.data.forEach((function(t){e.treeData2[0].children.push(t)}))})),(0,r.getAccessType)().then((function(t){e.accessTypeArray=t.data}))},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},addRoleTable:function(){var e=this,t=this.$refs.tree1.getCheckedNodes(!1,!0);0==t.length&&t.push(this.$refs.tree1.getCurrentNode());var n={};t.forEach((function(e){var t=Object.assign({},e);t.children=[],n[e.pid]||(n[e.pid]=[]),n[e.pid].push(t)})),this.goThroughTree(this.treeData2[0],(function(t){var i=n[t.id],a=t.children;i&&(a||e.$set(t,"children",[]),i.forEach((function(e){0===t.children.filter((function(t){return t.id===e.id})).length&&t.children.push(e)})))}))},goThroughTree:function(e,t){t(e);var n=e.children;if(!n)return!0;for(var i=0;i<n.length;i++)this.goThroughTree(n[i],t)},removeTable:function(){},remove:function(e,t){var n=e.parent,i=n.data.children||n.data,a=i.findIndex((function(e){return e.id===t.id}));i.splice(a,1)},onclick2:function(e,t){var n=this;"table"===e.data.type?e.data.cols?(this.currentData=e.data,this.currentData.accessType||this.$set(this.currentData,"accessType",[])):(this.listLoading=!0,(0,r.getRoleCols)(this.roleUuid,e.data.id).then((function(t){n.listLoading=!1,e.data.cols=t.data,n.currentData=e.data,n.currentData.cols.forEach((function(e){n.$set(e,"selected",null!==e.roleCol)})),n.currentData.accessType||n.$set(n.currentData,"accessType",[])}))):"folder"===e.data.type&&(this.currentData=e.data,this.currentData.accessType||this.$set(this.currentData,"accessType",[]))},save:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=this.$refs.tree2.getAllNodes(),i=[],a=[],s=[];n.forEach((function(t){var n=t.data;if("ROOT"!==n.id){n.accessType||(n.accessType=[]);var r=n.accessType.join(",");"folder"===n.type?i.push({dataRoleUuid:e.roleUuid,folderUuid:n.id,accessType:r}):"table"===n.type&&(a.push({dataRoleUuid:e.roleUuid,tableMetaUuid:n.id,accessType:r,whereStr:n.whereStr}),n.cols&&n.cols.forEach((function(t){t.selected&&s.push({colMetaUuid:t.colMetaUuid,dataRoleUuid:e.roleUuid})})))}})),(0,r.saveRoleTable)(this.roleUuid,i,a,s).then((function(){t.close(),e.$notify((0,o.commonNotify)({type:"success",message:"保存成功！"}))}))},goBack:function(){this.$router.go(-1)}}};t.default=s},"41a6":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPage=s,t.save=l,t.update=u,t.del=c,t.getSceneFilter=d,t.changeRoleFilter=h,t.saveRoleGrp=p,t.getRoleGrp=m;var a=i(n("b775")),r="/data",o="role";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/pageList"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}function d(e,t){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getSceneFilter?roleUuid=").concat(e,"&sceneCode=").concat(t),method:"get"})}function h(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/changeRoleFilter"),data:e,method:"post"})}var f="roleGrp";function p(e,t){return(0,a.default)({baseURL:r,url:"/".concat(f,"/save"),method:"post",data:{roleUuid:e,roleGrps:t}})}function m(e){return(0,a.default)({baseURL:r,url:"/".concat(f,"/list?roleUuid=").concat(e),method:"get"})}},4200:function(e,t,n){"use strict";n.r(t);var i=n("35e82"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},4242:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3215")),r=i(n("a188")),o=i(n("70da")),s=i(n("67b4")),l={strict:!0,namespaced:!0,state:s.default,getters:r.default,mutations:o.default,actions:a.default};t.default=l},4280:function(t,n,i){"use strict";var a=i("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i("96cf");var r=a(i("c973")),o=i("9ac2"),s=a(i("bdf6"));i("3c3d"),i("5a82"),i("6b90"),i("85bb");var l=i("6026"),u=a(i("7380")),c=i("a054"),d=a(i("6d5f")),h=a(i("6ce9")),f=a(i("db2a")),p=(i("d75c"),a(i("e0d1")));i("05dc"),i("c373"),i("ebfd"),i("e74d"),i("7620"),i("8102"),i("0d4a"),i("84b4"),i("1bc5");var m=0,g=[],v=!1,y=[],b=-1,A={name:"SQLEditor",components:{sqlDraftList:u.default,childTabs:d.default,paramDraw:h.default,dataTree:p.default,paramDrawNew:f.default,tablerelation:s.default},props:["sqlEditorParamObj","sqlValue","callType","locationUuid","locationName","modelUuid","dataUserId","sceneCode1","callType"],created:function(){void 0!=this.dataUserId&&void 0!=this.sceneCode1&&(this.personCode=this.dataUserId,this.sceneCode=this.sceneCode1)},data:function(){return{openTypeOne:"showTable",selectTableRelInfoDialog:!1,selectTableRelInfoTableId:"",errorMessage:"",isExecuteError:!0,sqlDraftForm:{sqlDraftUuid:"",draftTitle:"",draftSql:"",paramJson:""},sqlDraftFormRules:{draftTitle:[{type:"string",required:!0,message:"请输入草稿名称",trigger:"blur"}]},sqlDraftDialogFormVisible:!1,sqlDraftDialog:!1,dialogFormVisible:!1,loadText:"",formLabelWidth:"120px",paramDrawUuid:"",executeLoading:!1,currentExecuteSQL:[],webSocket:null,resultShow:[],defaultSqlLocation:null,isAllExecute:!1,modelOriginalTable:[],createTreeNode:[],executeData:{},paramDrawLoading:!1,tableSearchInput:"",paramSearchInput:"",functionInput:"",shuju:i("b0cc"),canshu:i("5ab2"),sql:i("36b4"),modelResultSavePathDialog:!1,tempPath:"",tempId:"",nodeType:"",path:"选择SQL结果保存路径",modelResultSavePathId:"",personCode:this.$store.state.user.code,sceneCode:"auditor",treeType:"save",pushUuid:""}},watch:{dialogFormVisible:function(e){this.$nextTick((function(){e&&this.$refs.paramDrawRefNew.createParamNodeHtml(this.paramDrawUuid)}))}},mounted:function(){try{var t=this.$parent.$parent.$refs.graphToolDiv;t&&(this.$refs.sqlEditorDiv.style.height=$(t).height()-120+"px")}catch(e){}this.initData(),this.initWebSocket(),(0,l.sendSqlEditorVue)(this)},methods:{initWebSocket:function(){this.webSocket=this.getWebSocket()},getWebSocket:function(){this.pushUuid=(0,o.uuid2)();var e="ws://"+window.location.host+":"+window.location.port+"/websocket?"+this.$store.getters.personuuid+"sqleditor"+this.pushUuid;this.webSocket=new WebSocket(e),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(e){var t=JSON.parse(e.data);if("afterTaskChangeTable"===t.listenerType||"afterTaskCreateView"===t.listenerType){var i=t.addTableMetaList;if(i.length>0){for(var a=[],r=0;r<i.length;r++){var o={chkDisabled:!1,deptColNum:0,hidden:!1,icon:"../../images/ico/table_1.png",id:i[r].tableMetaUuid,isExist:0,isParent:!0,name:i[r].displayTbName,personNode:!1,pid:i[r].folderUuid,timeColNum:0,type:"table"};a.push(o)}(0,l.refushTableTree)(a)}}"onSQLResult"===t.listenerType&&(2==t.executeSQL.state&&(b==m&&(g=t.columnNames,y=t.columnTypes),m++),m==t.executeTask.executeSQL.length&&(v=!0),n(t)),"afterTaskDropTable"!==t.listenerType&&"afterTaskDropView"!==t.listenerType||(0,l.dropTable)(t.dropTableNameList)};var t=function(e){this.$refs.childTabsRef[0].loadTableData(e),v&&((0,l.setIsUpdate)(!1),this.$emit("getSqlObj"))},n=t.bind(this);this.webSocket.onclose=function(e){},this.webSocket.onerror=function(e){}},sendMsgToServer:function(){var e="";e&&this.webSocket.send(JSON.stringify({username:$("#username").text(),msg:e}))},initData:function(){var e=this;this.$store.state.user.code;(0,l.initDragAndDrop)(),(0,l.initIcon)(),(0,l.initFunctionTree)(),(0,l.initVariable)(),(0,l.initEvent)(),(0,l.initParamTree)(),this.executeLoading=!0,this.loadText="正在初始化数据表...",(0,l.initTableTip)(this.dataUserId,this.sceneCode1).then((function(t){(0,l.initTableTree)(t);var n={},i={};if(null!=t.data)for(var a=0;a<t.data.length;a++)"table"===t.data[a].type&&(n[t.data[a].enName]=[],i[t.data[a].enName]=t.data[a].extCol);(0,l.initSQLEditor)(e.$refs.sql,n,i),e.executeLoading=!1,e.loadText="",""!=e.sqlValue&&void 0!=e.sqlValue?((0,l.editorSql)(e.sqlValue,e.sqlEditorParamObj),e.tempPath=e.locationName,e.tempId=e.locationUuid,e.path="当前执行SQL保存路径:"+e.tempPath,e.modelResultSavePathId=e.tempId):(0,l.getDefaultSqlEditorLocationByPersonUuid)().then((function(t){null==t.data?(e.tempPath="根路径",e.tempId=e.$store.getters.datauserid,e.path="当前执行SQL保存路径:"+e.tempPath,e.modelResultSavePathId=e.tempId):(e.tempPath=t.data.sqlLocationName,e.tempId=t.data.sqlLocationId,e.path="当前执行SQL保存路径:"+e.tempPath,e.modelResultSavePathId=e.tempId,e.defaultSqlLocation=t.data)})),(0,l.refreshCodeMirror)()})).catch((function(){e.$message({type:"error",message:"初始化数据表失败!"}),e.executeLoading=!1,e.loadText=""}))},tableTreeSearch:function(){(0,l.tableTreeSearch)()},paramTreeSearch:function(){(0,l.paramTreeSearch)()},functionTreeSearch:function(){(0,l.functionTreeSearch)()},sqlFormat:function(){(0,l.sqlFormat)()},findAndReplace:function(e){(0,l.findAndReplace)(e)},caseTransformation:function(e){(0,l.caseTransformation)(e)},selectSqlNotes:function(){(0,l.selectSqlNotes)()},selectSqlCancelNotes:function(){(0,l.selectSqlCancelNotes)()},getSaveInfo:function(){if(("editorModel"==this.callType||"graphModel"==this.callType)&&this.isAllExecute&&m==this.currentExecuteSQL.length){if(!(0,l.getIsUpdate)()){var e=(0,l.getSaveInfo)();return e.columnNames=g,e.columnTypes=y,e.modelOriginalTable=this.modelOriginalTable,e.modelType=1,e.locationUuid=this.tempId,e.locationName=this.tempPath,e}this.$message({type:"info",message:"SQL已经被修改,请重新校验或执行!"})}},getSelectSql:function(e){(0,l.getSelectSql)(e)},openSaveSqlDialog:function(e){var t=this;if(1==e){var n=(0,l.getSaveSqlDraftObj)(e),i=n.draftSql;if(""===i)return void this.$message({type:"info",message:"请输入SQL语句!"});n.isOld?(0,c.updateDraft)(n).then((function(e){0==e.code?t.$notify({title:"提示",message:"保存成功",type:"success",duration:2e3,position:"bottom-right"}):t.$notify({title:"提示",message:"保存失败",type:"error",duration:2e3,position:"bottom-right"})})):this.sqlDraftDialogFormVisible=!0}else this.sqlDraftDialogFormVisible=!0},saveSqlDialog:function(){var e=this,t=!1;if(this.$refs["sqlDraftForm"].validate((function(e){e&&(t=e)})),t){var n=(0,l.getSaveSqlDraftObj)(1);this.sqlDraftForm.draftSql=n.draftSql,this.sqlDraftForm.paramJson=n.paramJson,(0,l.saveSqlDraft)(this.sqlDraftForm).then((function(t){0==t.code?(e.$notify({title:"提示",message:"保存成功",type:"success",duration:2e3,position:"bottom-right"}),e.sqlDraftDialogFormVisible=!1,e.sqlDraftForm={sqlDraftUuid:"",draftTitle:"",draftSql:"",paramJson:""}):e.$notify({title:"提示",message:"保存失败",type:"error",duration:2e3,position:"bottom-right"})}))}},openSqlDraftList:function(){this.sqlDraftDialog=!0},useSql:function(){var e=this,t=this.$refs.sqlDraftList.getSelectRow();t.verify&&this.$confirm("该操作会清空当前SQL编辑器中的语句,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.sqlDraftDialog=!1,(0,l.useSql)(t)}))},executeSQL:function(){var e=this;if(""!==this.tempId){var t=(0,l.getSql)();""!==t.sql?(this.isAllExecute=t.isAllExecute,this.loadText="正在检验SQL是否符合语法规范...",(0,l.verifySql)().then((function(t){if(e.executeLoading=!1,e.loadText="",t.data.verify){e.resultShow=[],v=!1,m=0,e.currentExecuteSQL=[],g=[];var n=(0,l.executeSQL)();n.businessField="sqleditor",n.modelResultSavePathId=e.modelResultSavePathId,n.pushUuid=e.pushUuid,n.isExistParam?e.openParamDraw(n):(e.loadText="正在获取SQL信息...",(0,l.getExecuteTask)(n,e.dataUserId,e.sceneCode1).then((function(t){t.data.isError?(e.isExecuteError=!1,e.errorMessage=t.data.message,e.executeLoading=!1):(e.isExecuteError=!0,e.executeLoading=!1,e.loadText="",b=t.data.lastSqlIndex,e.executeLoading=!1,e.currentExecuteSQL=t.data.executeSQLList,e.modelOriginalTable=t.data.tables,e.createTreeNode=t.data.treeNodeInfo,e.resultShow.push({id:1}),(0,l.startExecuteSql)(t.data).then((function(t){e.executeLoading=!1,e.loadText=""})).catch((function(t){e.executeLoading=!1})))})))}else e.$message({type:"info",message:"SQL不符合语法规范，请重新输入"})}))):this.$message({type:"info",message:"请输入SQL!"})}else this.$message({type:"info",message:"请选择SQL执行保存路径!"})},openParamDraw:function(e){var t=(new Date).getTime();this.paramDrawUuid=t,this.dialogFormVisible=!0,this.paramDrawLoading=!0,this.executeData=e},replaceNodeParam:function(){var e=this,t=this.$refs.paramDrawRefNew.replaceNodeParam(this.paramDrawUuid);t.verify?(t.sqls=t.sql,t.businessField="sqleditor",t.pushUuid=this.pushUuid,this.executeLoading=!0,(0,l.getExecuteTask)(t,this.dataUserId,this.sceneCode1).then((function(t){t.data.isError?(e.$message({type:"error",message:t.data.message}),e.executeLoading=!1):(e.executeLoading=!1,e.loadText="",b=t.data.lastSqlIndex,e.executeLoading=!1,e.currentExecuteSQL=t.data.executeSQLList,e.modelOriginalTable=t.data.tables,e.createTreeNode=t.data.treeNodeInfo,e.resultShow.push({id:1}),(0,l.startExecuteSql)(t.data).then((function(t){e.executeLoading=!1,e.loadText=""})).catch((function(t){e.executeLoading=!1})))})),this.dialogFormVisible=!1):this.$message({type:"info",message:t.message})},maxOpen:function(){(0,l.maxOpenOne)()},handleClick:function(e,t,n){this.tempPath=e.label,this.tempId=e.id,this.nodeType=e.type},modelResultSavePathDetermine:function(){if("folder"==this.nodeType){this.path="当前执行SQL保存路径:"+this.tempPath,this.modelResultSavePathId=this.tempId,this.modelResultSavePathDialog=!1;var e={};null==this.defaultSqlLocation?(e.sqlLocationId=this.tempId,e.sqlLocationName=this.tempPath):(e=this.defaultSqlLocation,e.sqlLocationId=this.tempId,e.sqlLocationName=this.tempPath),(0,l.saveSqlEditorExecuteDefaultPath)(e).then((function(e){}))}else""==this.nodeType?this.$message({message:"请选择路径",type:"warning"}):this.$message({message:"只能选择文件夹",type:"warning"})},getColumnSqlInfo:function(){var e=this,t=(0,l.getSql)();""!==t.sql?(this.isAllExecute=t.isAllExecute,this.executeLoading=!0,this.loadText="正在校验sql是否符合语法规范...",(0,l.verifySql)().then((function(n){if(e.executeLoading=!1,n.data.verify){e.resultShow=[],v=!1,m=0,e.currentExecuteSQL=[],g=[];var i={sql:t.sql};e.executeLoading=!0,e.loadText="正在获取SQL列...",(0,l.getColumnSqlInfo)(i).then((function(t){v=!0,g=t.data.columnName,y=t.data.columnType,(0,l.setIsUpdate)(!1),e.$emit("getSqlObj"),e.executeLoading=!1,e.loadText="",e.$message({type:"success",message:"SQL校验通过"})})).catch((function(t){e.executeLoading=!1,e.loadText=""}))}else e.$message({type:"info",message:"SQL不符合语法规范，请重新输入"})}))):this.$message({type:"info",message:"请输入SQL!"})},getSQLIsUpdate:function(){return(0,l.getIsUpdate)()},saveSqlInfo:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getGraphSaveInfo)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getVerifySqlResult:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.verifySql)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),selectTableRelInfo:function(e){var t=(0,l.getZtreeSelectNode)();this.selectTableRelInfoTableId=t[0].id,this.selectTableRelInfoDialog=!0,(0,l.hideRMenu)(e)}}};n.default=A},"42d4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAADwAAAACl7VZuAAACpUlEQVQ4EY1SX0hTYRQ/57trc7gsLOkfmiNrqBXUa0Wh23pwS7NNk/7gk5ggFL3UQzF6iSDooT/CHsqHlGy1hKGV+SASVARFMawQi/WHFiUOc7q0+53OXV25epP64N5zvu+c8zvn/M5BMBzPnrptUpUViOBEAmEwZVVCmBIEQw5bzq1o9Prn+Xbtjvqj2xc8C1Ie4HsSEUeIUOo2XSKSXRKUsV1FIY49iHX16TZdZgE9/roGUtVzDB/q77l9VTf+TdbUNC5Nz0xclAhb8u3ojkQiSaNfti2SdJjb6fsXmBbY3d2eyi1wtDIltlSGqo1gmi6CwaACQC7m7cl840L37vb2FLP1Brj9+T6W8vJyevg0rjIvpiG4/cHtAHIn81kM/NODhRCfSIJCBOj1B1osORjt/dO6MjAwQE5XmRckrnw7PBTVgkKhkFjkKDjPQzrNlRRypgwC2vSPAL6yWwUKfEQqNasqNpSs3/xiZDj+IZuVs/ikSlfY4ZJzdf6FRHLMq6pwlBfnWn8s0qlXpkmfL7gmQ3SZB1hkyyuotFrSYmJ0MkyIxY7luZWzbXiqAsc5cyvzOc1VveduzGsDZGfMIkD8ZpVKS2/vjSzvtbUHV43/yDwGgSdnAbXsVXvrS2dUuYukdCHvIe/2HFBCmmGuX1oXL7vX09k2psXox121b5BnPGjRHzTZc6frlb+pKTH1cfQ1KXiiP3ZzTrtGX7POe4JEpsnGwuFJLvsdB/CE/+/wNhTxFqwVgHHeQfNZt2HTT57wkZLSjelDDXXPtU0we/1+8VbvL+RJt3F90r4i79QcDo1BHn/gDDs2AorvzF1C68doz+qScnnaTq7ui5Jjab4f7Xq2IKAWsLu2fqucljuYmmIGNfsSpiUqQ9Ylltjdjo5xLeYXPFUCjX4CO4oAAAAASUVORK5CYII="},4320:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[]},4360:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a481"),n("ac6a");var a=i(n("a026")),r=i(n("2f62")),o=i(n("94d5")),s=i(n("a4cf")),l=i(n("4242")),u=i(n("4ef7")),c=i(n("7bbd")),d=i(n("4c9b")),h=i(n("4872"));a.default.use(r.default);var f=n("c653"),p=f.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),i=f(t);return e[n]=i.default,e["dag"]=s.default,e["security"]=l.default,e["datasource"]=u.default,e["projects"]=c.default,e["monitor"]=d.default,e["resource"]=h.default,e}),{}),m=new r.default.Store({modules:p,getters:o.default}),g=m;t.default=g},"437c":function(e,t,n){"use strict";n.r(t);var i=n("4eea"),a=n("aaeb");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("c564");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4e9703b6",null);t["default"]=s.exports},4381:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e799")),r=function(e){e.directive("permission",a.default)};window.Vue&&(window["permission"]=a.default,Vue.use(r)),a.default.install=r;var o=a.default;t.default=o},"43be":function(e,t,n){"use strict";n.r(t);var i=n("f48a"),a=n("fe9a");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("7914");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"78a5797e",null);t["default"]=s.exports},"43cc":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home w100 h100 flex a-center j-start flex-column"},[n("div",{staticClass:"top flex a-center j-between flex-row flex1 flex-shrink "},[n("div",{staticClass:"right flex a-end j-center flex-column"},[n("div",{staticClass:"top-card flex a-start j-start flex-row"},[e._m(0),n("div",{staticClass:"top-card-right"},[n("div",{staticClass:"title"},[e._v("待办事项")]),e._l(e.TopTodo,(function(t,i){return n("div",{staticClass:"des"},[n("span",{staticStyle:{color:"#000"}},[e._v(e._s(t.name))]),t.icon?n("span",{staticClass:"icon",style:{color:t.iconColor}},[e._v(e._s(t.icon))]):e._e()])}))],2),n("span",{staticClass:"card-more",on:{click:e.toDoSomeJump}},[e._v("更多")])]),n("div",{staticClass:"bottom-card flex a-center j-between flex-row"},e._l(e.cardList,(function(t,i){return n("div",{key:i,staticClass:"top-card flex j-start flex-row",style:{background:t.bg}},[n("div",{staticClass:"top-card-left flex-shrink  flex a-center j-center",style:{background:t.cardBg}},[n("img",{staticClass:"img",attrs:{src:t.img}})]),n("div",{staticClass:"top-card-right"},[n("div",{staticClass:"title"},[e._v(e._s(t.title))]),e._l(t.des,(function(t,i){return n("div",{key:i,staticClass:"line"},[n("span",{staticClass:"notes-text",on:{click:function(n){return e.toDoJump(t.index)}}},[e._v(e._s(t.text))]),t.icon?n("span",{staticClass:"icon",style:{color:t.iconColor,width:t.width}},[e._v(e._s(t.icon))]):e._e()])})),n("span",{staticClass:"card-more",on:{click:function(n){return e.moreJump(t)}}},[e._v("更多")])],2)])})),0)]),n("div",{staticClass:"left flex-shrink flex a-center j-center flex-column"},[n("swiper",{ref:"mySwiper",attrs:{options:e.swiperOption,autoplay:5e3}},[n("swiper-slide",[n("div",{staticClass:"day-wrap relative"},[n("div",{staticClass:"showDetailedIn"},[n("span",{staticStyle:{"background-color":"rgb(81,69,89)"}},[e._v(e._s(e.showDetailedData.TAKEPROJECTCOUNT))]),e._v(" 参与项目数 ")]),n("div",{staticClass:"showDetailedIn"},[n("span",{staticStyle:{"background-color":"rgb(81,69,89)"}},[e._v(e._s(e.showDetailedData.FINDPROBLEMCOUNT))]),e._v(" 发现问题数量 ")]),n("div",{staticClass:"showDetailedOut"},[n("span",{staticStyle:{"background-color":"rgb(131,132,158)"}},[e._v(e._s(e.showDetailedData.TAKECHIEFJUDGECOUNT))]),e._v(" 担任主审次数 ")]),n("div",{staticClass:"showDetailedOut"},[n("span",{staticStyle:{"background-color":"rgb(69,86,89)"}},[e._v(e._s(e.showDetailedData.WORKCOUNT))]),e._v(" 项目工作天数 ")])])]),n("swiper-slide",[n("img",{staticStyle:{width:"100%","margin-top":"40px"},attrs:{src:e.linshiImg1}})]),n("swiper-slide",[n("img",{staticStyle:{width:"100%","margin-top":"40px"},attrs:{src:e.linshiImg2}})]),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1)],1)]),e._l(e.myProjectIn,(function(t,i){return n("div",{staticClass:"bottom-father"},[n("div",{key:e.projectAnimation,staticClass:"bottom bottom-animate flex a-center j-start flex-row"},[n("div",{staticClass:"line1 line flex a-start j-center flex-column",staticStyle:{"flex-basis":"80px"}},[n("div",{staticClass:"count-font",staticStyle:{cursor:"pointer"}},[n("span",{staticClass:"count-font"},[e._v(e._s(t.theIndex+1))]),e._v("/"),n("animate-number",{staticClass:"count-font",attrs:{from:0,to:t.lengthIn}})],1)]),n("div",{staticClass:"line1 line flex a-center j-center flex-column"},[n("div",{staticClass:"title-bottom-top"},[e._v("我的项目")]),n("div",{staticClass:"des flex a-center j-start flex-row"},[n("div",{staticClass:"right-name right"},[n("div",{staticClass:"p1"},[e._v(e._s(t.name))])])])]),e._m(1,!0),n("div",{staticClass:"line3 line flex a-center j-center flex-column"},[n("div",{staticClass:"title-bottom"},[e._v("立项时间")]),n("div",{staticClass:"date"},[e._v(e._s(t.time))])]),n("div",{staticClass:"line4 line flex a-center j-center flex1"},[n("div",{staticClass:"btn",on:{click:function(n){return e.projectDetailsIn(t.idProject)}}},[e._v("查看此项目的详情")])])]),n("div",{staticClass:"bottom-after",on:{click:function(n){return e.toTheNext(t.theIndex)}}},[n("i",{staticClass:"el-icon-arrow-down"})])])})),n("el-dialog",{attrs:{visible:e.dialogFormVisible,top:"10vh",title:"消息详情",width:"50%"},on:{"update:visible":function(t){e.dialogFormVisible=t}},model:{value:this.PopUpContent,callback:function(t){e.$set(this,"PopUpContent",t)},expression:"this.PopUpContent"}},[n("span",{staticClass:"visible-span"},[e._v("消息标题")]),n("p",{staticClass:"visible-p1"},[e._v(e._s(this.PopUpContent[0].text))]),n("span",{staticClass:"visible-span"},[e._v("消息内容")]),n("p",{staticClass:"visible-p2"},[e._v(e._s(this.PopUpContent[0].content))])])],2)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"top-card-left flex-shrink  flex a-center j-center"},[i("img",{staticClass:"img",attrs:{src:n("9859")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"line2 line flex a-center j-center flex-column"},[n("div",{staticClass:"title-bottom"},[e._v("项目状态")]),n("div",{staticClass:"date"},[e._v("执行中")])])}]},"445c":function(e,t,n){"use strict";n.r(t);var i=n("2458"),a=n("fb6a");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("2aee");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"048b7a72",null);t["default"]=s.exports},"445ca":function(e,t,n){"use strict";n.r(t);var i=n("4183"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"446e":function(e,t,n){},"447a":function(e,t,n){"use strict";n.r(t);var i=n("968d"),a=n("4781");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("be6a"),n("4e44");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"f0f06f62",null);t["default"]=s.exports},"44e5":function(e,t,n){},"451c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleCreate()}}}),n("el-button",{staticClass:"oper-btn edit-4",attrs:{type:"primary",size:"mini",disabled:1!==e.selections.length},on:{click:function(t){return e.toEdit()}}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",size:"mini",disabled:0===e.selections.length},on:{click:function(t){return e.handleDelete()}}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"业务场景名称",prop:"sceneName"}}),n("el-table-column",{attrs:{label:"业务场景编码",prop:"sceneCode"}}),n("el-table-column",{attrs:{label:"创建时间",prop:"createTime",formatter:e.formatCreateTime}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[[n("el-form",{ref:"dataForm",staticStyle:{width:"600px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"right"}},[n("el-form-item",{attrs:{label:"业务场景名称",prop:"sceneName"}},[n("el-input",{model:{value:e.temp.sceneName,callback:function(t){e.$set(e.temp,"sceneName",t)},expression:"temp.sceneName"}})],1),n("el-form-item",{attrs:{label:"业务场景编码",prop:"sceneCode"}},[n("el-input",{model:{value:e.temp.sceneCode,callback:function(t){e.$set(e.temp,"sceneCode",t)},expression:"temp.sceneCode"}})],1)],1)],n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("保存")])],1)],2)],1)},a=[]},"45d1":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("28a5");var a=n("01dd"),r=n("64dc"),o=(i(n("a78e")),{name:"sso",created:function(){var e=this,t="project",n=this.$route.query.param.split(","),i=n[0],o=n[1],s=3===n.length?n[2]:null;console.log(i),console.log(o);var l=JSON.parse(sessionStorage.getItem("sysDict"));null==l&&(0,a.cacheDict)().then((function(e){sessionStorage.setItem("sysDict",JSON.stringify(e.data))})),(0,r.getSceneInst)(t,o).then((function(n){var a=n.data.dataUserName;e.$store.dispatch("user/saveScene",t,"项目场景",o,i,a),sessionStorage.setItem("sceneCode",t),sessionStorage.setItem("sceneName","审计项目场景"),sessionStorage.setItem("dataUserId",o),sessionStorage.setItem("dataUserName",a),null!=s?e.$router.push("/analysis/modelresultdetailshow?runTaskRelUuid="+s):e.$router.push("/analysis/auditmodel")}))}});t.default=o},4678:function(e,t,n){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c96","./es-us.js":"55c96","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b5","./mn.js":"958b5","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167bb","./oc-lnc.js":"167bb","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="4678"},"467d":function(e,t,n){"use strict";n("ce4f")},"467e":function(e,t,n){"use strict";n.r(t);var i=n("d648"),a=n("8b11");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("0c7b");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"010f27af",null);t["default"]=s.exports},"46c6":function(e,t,n){},"46e5":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("7f7f");var a=i(n("2ef0")),r=i(n("0dc2")),o=n("239ca"),s=n("551c"),l=n("6f76"),u=n("09cfd"),c={getTaskState:function(e,t){e.state;return new Promise((function(e,n){(0,l.getTaskListByProcessId)(t).then((function(t){var n=a.default.map(t.data.taskList,(function(e){return a.default.cloneDeep(a.default.assign(o.tasksState[e.groupExecutionStatus],{name:e.name,stateId:e.id,dependentResult:e.dependentResult}))}));e({list:n,processInstanceState:t.data.processInstanceState,taskList:t.data.taskList})})).catch((function(e){n(e)}))}))},editProcessState:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/process/release"),{processId:t.processId,releaseState:t.releaseState},(function(t){e(t)})).catch((function(e){i(e)}))}))},editExecutorsState:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/executors/execute"),{processInstanceId:t.processInstanceId,executeType:t.executeType},(function(t){e(t)})).catch((function(e){i(e)}))}))},verifDAGName:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/process/verify-name"),{name:t},(function(i){n.name=t,e(i)})).catch((function(e){i(e)}))}))},getProcessDetails:function(e,t){var n=e.state;return new Promise((function(e,i){(0,s.getById)(t).then((function(t){n.name=t.data.name,n.description=t.data.description,n.connects=JSON.parse(t.data.connects),n.locations=JSON.parse(t.data.locations),n.status=t.data.status,n.orderNo=t.data.orderNo;var i=JSON.parse(t.data.processDefinitionJson);n.tasks=i.tasks,n.cacheTasks={},i.tasks.forEach((function(e){n.cacheTasks[e.id]=e})),n.globalParams=i.globalParams,n.timeout=i.timeout,n.tenantId=i.tenantId,e(t.data)})).catch((function(e){i(e)}))}))},copyProcess:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/process/copy"),{processId:t.processId},(function(t){e(t)})).catch((function(e){i(e)}))}))},getInstancedetail:function(e,t){var n=e.state;return new Promise((function(e,i){(0,l.getProcessinstanceById)(t).then((function(t){n.name=t.data.name,n.description=t.data.description,n.status=t.data.status,n.orderNo=t.data.orderNo,n.connects=JSON.parse(t.data.connects),n.locations=JSON.parse(t.data.locations);var i=JSON.parse(t.data.processInstanceJson);n.tasks=i.tasks,n.cacheTasks={},i.tasks.forEach((function(e){n.cacheTasks[e.id]=e})),n.globalParams=i.globalParams,n.timeout=i.timeout,n.tenantId=i.tenantId,n.startup=a.default.assign(n.startup,a.default.pick(t.data,["commandType","failureStrategy","processInstancePriority","workerGroup","warningType","warningGroupId","receivers","receiversCc"])),n.startup.commandParam=JSON.parse(t.data.commandParam),n.processInstanceDetail=t.data,e(t.data)})).catch((function(e){i(e)}))}))},saveDAGchart:function(e,t){var n=e.state;return new Promise((function(e,t){var i={globalParams:n.globalParams,tasks:n.tasks,tenantId:n.tenantId,timeout:n.timeout};(0,s.save)({processDefinitionJson:JSON.stringify(i),name:a.default.trim(n.name),description:a.default.trim(n.description),locations:JSON.stringify(n.locations),connects:JSON.stringify(n.connects),status:a.default.trim(n.status),orderNo:a.default.trim(n.orderNo),globalParams:JSON.stringify(n.globalParams)}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},updateDefinition:function(e,t){var n=e.state;return new Promise((function(e,i){var r={globalParams:n.globalParams,tasks:n.tasks,tenantId:n.tenantId,timeout:n.timeout};(0,s.update)({processDefinitionJson:JSON.stringify(r),name:a.default.trim(n.name),description:a.default.trim(n.description),locations:JSON.stringify(n.locations),connects:JSON.stringify(n.connects),status:a.default.trim(n.status),orderNo:a.default.trim(n.orderNo),globalParams:JSON.stringify(n.globalParams),processDefinitionUuid:t}).then((function(t){e(t)})).catch((function(e){i(e)}))}))},updateInstance:function(e,t){var n=e.state;return new Promise((function(e,i){var r={globalParams:n.globalParams,tasks:n.tasks,tenantId:n.tenantId,timeout:n.timeout};(0,l.updateProcessInstance)({processInstanceJson:JSON.stringify(r),name:a.default.trim(n.name),locations:JSON.stringify(n.locations),connects:JSON.stringify(n.connects),processInstanceUuid:t,syncDefine:n.syncDefine}).then((function(t){e(t)})).catch((function(e){i(e)}))}))},getProcessList:function(e,t){var n=e.state;return new Promise((function(e,t){n.processListS.length&&e()}))},getClassList:function(e,t){var n=e.state;return new Promise((function(e,t){n.classListS.length?e():(0,s.findClassesByPackage)().then((function(t){n.classListS=t.data,e(t)})).catch((function(e){t(e)}))}))},getProcessListP:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/process/list-paging"),t,(function(t){e(t.data)})).catch((function(e){i(e)}))}))},getProjectList:function(e,t){var n=e.state;return new Promise((function(e,t){if(n.projectListS.length)e();else{var i=[{id:1,name:"1"}];n.projectListS=i,e(i)}}))},getDatasourceList:function(e,t){e.state;return new Promise((function(e,n){(0,s.datasourceList)({dbType:t}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},getResourcesList:function(e){var t=e.state;return new Promise((function(e,n){(0,u.resourcesList)({type:"0"}).then((function(n){t.resourcesListS=n.data,e(n.data)})).catch((function(e){n(e)}))}))},getResourcesListJar:function(e){var t=e.state;return new Promise((function(e,n){t.resourcesListJar.length?e():(t.resourcesListJar={},e({}))}))},getProcessInstance:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/instance/list-paging"),t,(function(t){n.instanceListS=t.data.totalList,e(t.data)})).catch((function(e){i(e)}))}))},getNotifyGroupList:function(e,t){var n=e.state;return new Promise((function(e,t){n.notifyGroupListS=null}))},processStart:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/executors/start-process-instance"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},getLog:function(e,t){e.state;return new Promise((function(e,n){r.default.get("log/detail",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getSubProcessId:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/instance/select-sub-process"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},getStartCheck:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/executors/start-check"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},createSchedule:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/schedule/create"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},previewSchedule:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/schedule/preview"),t,(function(t){e(t.data)})).catch((function(e){i(e)}))}))},scheduleOffline:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/schedule/offline"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},scheduleOnline:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/schedule/online"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},updateSchedule:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.post("projects/".concat(n.projectName,"/schedule/update"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},deleteInstance:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/instance/delete"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},batchDeleteInstance:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/instance/batch-delete"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},deleteDefinition:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/process/delete"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},batchDeleteDefinition:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/process/batch-delete"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},getViewvariables:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/instance/view-variables"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},getUdfList:function(e,t){e.state;return new Promise((function(e,n){r.default.get("resources/udf-func/list",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getTaskInstanceList:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/task-instance/list-paging"),t,(function(t){e(t.data)})).catch((function(e){i(e)}))}))},getTaskRecordList:function(e,t){e.state;return new Promise((function(e,n){r.default.get("projects/task-record/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getHistoryTaskRecordList:function(e,t){e.state;return new Promise((function(e,n){r.default.get("projects/task-record/history-list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},getViewTree:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/process/view-tree"),t,(function(t){e(t.data)})).catch((function(e){i(e)}))}))},getViewGantt:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/instance/view-gantt"),t,(function(t){e(t.data)})).catch((function(e){i(e)}))}))},getProcessTasksList:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/process/gen-task-list"),t,(function(t){e(t.data)})).catch((function(e){i(e)}))}))},getReceiver:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/executors/get-receiver-cc"),t,(function(t){e(t.data)})).catch((function(e){i(e)}))}))},deleteTiming:function(e,t){var n=e.state;return new Promise((function(e,i){r.default.get("projects/".concat(n.projectName,"/schedule/delete"),t,(function(t){e(t)})).catch((function(e){i(e)}))}))},getResourceId:function(e,t){e.state;return new Promise((function(e,n){(0,u.resourceId)({payload:t}).then((function(t){e(t.data)})).catch((function(e){n(e)}))}))}};t.default=c},"46fe":function(e,t,n){"use strict";n.r(t);var i=n("0cf5"),a=n("4e55");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("0fc6");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"3a4ef692",null);t["default"]=s.exports},4728:function(e,t,n){"use strict";var i=n("4ea4");n("ac6a"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6b54");var a=i(n("77d9")),r=i(n("db2a")),o=n("aa7e"),s=n("ed08"),l=i(n("6ce9")),u=(n("d75c"),i(n("e0d1"))),c=i(n("5e72")),d=(i(n("1157")),n("5c96"),i(n("f0ed"))),h=i(n("7993"));function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function p(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var g={name:"editAuditWarning",components:{SelectModels:a.default,paramDraw:l.default,dataTree:u.default,commonlyAnalysisList:c.default,paramDrawNew:r.default,personTree:d.default,userProject:h.default},props:{option:{required:!0,type:String},optionUuid:{type:String}},data:function(){return{modelListLoading:!1,tabShow:"baseInfo",allReadOnly:!1,personDialog:!1,projectDialog:!1,isShowLoading:!1,executeTimeOptions:{disabledDate:function(e){return new Date(e.toLocaleDateString())<new Date((new Date).toLocaleDateString())}},temp:{warningName:"",warningType:1,executeMode:1,singleExecuteTime:"",distributionType:0,distributionUuid:"",distributionName:"",manyTimesExecuteTime:[{executeTime:""}],intervalExecuteTime:{executeTime:"",rangeTime:[new Date,new Date],startTime:"",endTime:"",intervalType:1,weekValue:[],monthValue:[{value:""}],monthDayValue:[{month:"",day:""}]},modelList:[],indexList:[]},selectModelVisible:!1,selectIndicatorVisble:!1,rules:{warningName:{required:!0,message:"请输入预警名称"},singleExecuteTime:{required:!0,message:"请输入执行时间"},manyTimesExecuteTime:{executeTime:{required:!0,message:"请输入多次执行时间"}}},auditWarningSave:{auditWarningUuid:"",warningName:"",warningType:"",executeMode:"",createUserName:"",createUserUuid:"",updateUserName:"",updateUserUuid:"",createTime:"",updateTime:"",isDeleted:"",warningTaskRel:[],warningExecuteTime:[],locationUuid:"",locationName:"",distributionType:0,distributionUuid:"",distributionName:""},initedParamModel:[],modelResultSavePathDialog:!1,tempPath:"",tempId:"",nodeType:"",SavePath:"选择模型结果保存路径",personCode:this.$store.state.user.code,sceneCode:"auditor",treeType:"save",paramArr:[],paramSql:[]}},created:function(){var e=this;"add"!=this.option&&("detail"!=this.option&&"update"!=this.option||this.optionUuid?("detail"==this.option&&(this.allReadOnly=!0),this.isShowLoading=!0,(0,o.getWarningById)(this.optionUuid).then((function(t){if(0===t.code){if(e.auditWarningSave=t.data,e.temp.warningName=e.auditWarningSave.warningName,e.temp.warningType=e.auditWarningSave.warningType,e.temp.executeMode=e.auditWarningSave.executeMode,e.temp.locationUuid=e.auditWarningSave.locationUuid,e.temp.locationName=e.auditWarningSave.locationName,1==e.auditWarningSave.executeMode)e.temp.singleExecuteTime=e.auditWarningSave.warningExecuteTime[0].executeTime;else if(2==e.auditWarningSave.executeMode)e.temp.manyTimesExecuteTime=e.auditWarningSave.warningExecuteTime;else if(3==e.auditWarningSave.executeMode){var n=new Date(e.auditWarningSave.warningExecuteTime[0].executeTime);if(e.temp.intervalExecuteTime.executeTime=n.getHours()+":"+n.getMinutes(),e.temp.intervalExecuteTime.rangeTime=[e.auditWarningSave.warningExecuteTime[0].startTime,e.auditWarningSave.warningExecuteTime[0].endTime],e.temp.intervalExecuteTime.startTime=e.auditWarningSave.warningExecuteTime[0].startTime,e.temp.intervalExecuteTime.endTime=e.auditWarningSave.warningExecuteTime[0].endTime,e.temp.intervalExecuteTime.intervalType=e.auditWarningSave.warningExecuteTime[0].intervalType,"2"==e.temp.intervalExecuteTime.intervalType){var i,a=f(e.auditWarningSave.warningExecuteTime[0].warningIntervalDetail);try{for(a.s();!(i=a.n()).done;){var r=i.value;e.temp.intervalExecuteTime.weekValue.push(r.weekValue)}}catch(x){a.e(x)}finally{a.f()}}else if("3"==e.temp.intervalExecuteTime.intervalType){e.temp.intervalExecuteTime.monthValue=[];var s,l=f(e.auditWarningSave.warningExecuteTime[0].warningIntervalDetail);try{for(l.s();!(s=l.n()).done;){var u=s.value;e.temp.intervalExecuteTime.monthValue.push({value:u.monthValue})}}catch(x){l.e(x)}finally{l.f()}}else if("4"==e.temp.intervalExecuteTime.intervalType){e.temp.intervalExecuteTime.monthDayValue=[];var c,d=f(e.auditWarningSave.warningExecuteTime[0].warningIntervalDetail);try{for(d.s();!(c=d.n()).done;){var h=c.value;e.temp.intervalExecuteTime.monthDayValue.push({month:h.monthValue,day:h.dayValue})}}catch(x){d.e(x)}finally{d.f()}}}if("1"==e.auditWarningSave.warningType){var p,m=f(e.auditWarningSave.warningTaskRel);try{for(m.s();!(p=m.n()).done;){var g=p.value;if(g.settingInfo){var v=JSON.parse(g.settingInfo);g.sqlValue=g.sqlValue,g.modelUuid=g.sourceUuid,v.paramsArr?(g.paramObj=v.paramsArr,e.temp.modelList.push(g)):e.temp.modelList.push(g)}}}catch(x){m.e(x)}finally{m.f()}}else{var y,b=[],A=f(e.auditWarningSave.warningTaskRel);try{for(A.s();!(y=A.n()).done;){var w=y.value;w.settingInfo&&b.push(w.sourceUuid)}}catch(x){A.e(x)}finally{A.f()}(0,o.getCommonlyAnalysisListByIds)(b).then((function(t){e.temp.indexList=t.data}))}e.isShowLoading=!1}else e.$message({type:"error",message:"加载审计预警详情失败!"})}))):this.$message({type:"error",message:"预警详情获取主键失败!"}))},watch:{"temp.executeMode":function(e,t){},"temp.intervalExecuteTime.rangeTime":function(e,t){e&&2===e.length&&(this.temp.intervalExecuteTime.startTime=e[0],this.temp.intervalExecuteTime.endTime=e[1])},"temp.modelList":function(e,t){this.$nextTick((function(){var e,t=f(this.temp.modelList);try{for(t.s();!(e=t.n()).done;){var n,i=e.value,a=!1,r=f(this.initedParamModel);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.modelUuid!=i.modelUuid||(a=!0)}}catch(s){r.e(s)}finally{r.f()}a||i.paramObj&&i.paramObj.length>0&&(this.initedParamModel.push(i),this.paramSql.push(i.sqlValue),this.paramArr.push(i.paramObj),this.$refs["paramDrawRef"+i.modelUuid][0].createParamNodeHtml(i.modelUuid,i.modelName+" 参数","auditwarring"))}}catch(s){t.e(s)}finally{t.f()}}))}},methods:{formToSaveObj:function(){if(this.auditWarningSave.warningName=this.temp.warningName,this.auditWarningSave.warningType=this.temp.warningType,this.auditWarningSave.executeMode=this.temp.executeMode,this.auditWarningSave.warningExecuteTime=[],1==this.temp.executeMode){var e={};e.executeTime=this.temp.singleExecuteTime,e.auditWarningUuid=this.auditWarningSave.auditWarningUuid,this.auditWarningSave.warningExecuteTime.push(e)}else if(2==this.temp.executeMode){var t,n=f(this.temp.manyTimesExecuteTime);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.auditWarningUuid=this.auditWarningSave.auditWarningUuid}}catch(P){n.e(P)}finally{n.f()}this.auditWarningSave.warningExecuteTime=this.temp.manyTimesExecuteTime}else if(3==this.temp.executeMode){var a={};if(a.intervalType=this.temp.intervalExecuteTime.intervalType,a.executeTime=new Date("1999-01-01 "+this.temp.intervalExecuteTime.executeTime),a.startTime=this.temp.intervalExecuteTime.startTime,a.endTime=this.temp.intervalExecuteTime.endTime,a.auditWarningUuid=this.auditWarningSave.auditWarningUuid,2==a.intervalType){a.warningIntervalDetail=[];var r,s=f(this.temp.intervalExecuteTime.weekValue);try{for(s.s();!(r=s.n()).done;){var l=r.value;a.warningIntervalDetail.push({weekValue:l})}}catch(P){s.e(P)}finally{s.f()}}else if(3==a.intervalType){a.warningIntervalDetail=[];var u,c=f(this.temp.intervalExecuteTime.monthValue);try{for(c.s();!(u=c.n()).done;){var d=u.value;a.warningIntervalDetail.push({monthValue:d.value})}}catch(P){c.e(P)}finally{c.f()}}else if(4==a.intervalType){a.warningIntervalDetail=[];var h,p=f(this.temp.intervalExecuteTime.monthDayValue);try{for(p.s();!(h=p.n()).done;){var m=h.value;a.warningIntervalDetail.push({monthValue:m.month,dayValue:m.day})}}catch(P){p.e(P)}finally{p.f()}}this.auditWarningSave.warningExecuteTime.push(a)}if(this.auditWarningSave.warningTaskRel=[],1==this.auditWarningSave.warningType){var g,v=f(this.temp.modelList);try{for(v.s();!(g=v.n()).done;){var y=g.value,b={auditWarningUuid:this.auditWarningSave.auditWarningUuid,sourceUuid:y.modelUuid,modelVersion:y.modelVersion,settingInfo:JSON.stringify({sql:y.sqlValue})};if(y.paramObj&&0!=y.paramObj.length){var A=this.getModelParamById(y);b.settingInfo=JSON.stringify(A),this.auditWarningSave.warningTaskRel.push(b)}else this.auditWarningSave.warningTaskRel.push(b)}}catch(P){v.e(P)}finally{v.f()}}else if(2==this.auditWarningSave.warningType){var w,x=f(this.temp.indexList);try{for(x.s();!(w=x.n()).done;)for(var C=w.value,k=JSON.parse(C.oftenindicatorsAnalysisobject).analysisList,S=0;S<k.length;S++){if(null==k[S])return;for(var T=0,N=0;N<k[S].objInList.length;N++){if(null==k[S].objInList[N])return;T++}if(T>1){var I=(0,o.supQuery)(k[S].objInList,k[S].objDimList);this.handleWarningTaskRel(C.inOftenindicatorsUuid,1,I.sql,k[S].thresholdValueRelObj)}else{var D=(0,o.bingLieQuery)(k[S].objInList,k[S].objDimList);this.handleWarningTaskRel(C.inOftenindicatorsUuid,1,D.sql,k[S].thresholdValueRelObj)}}}catch(P){x.e(P)}finally{x.f()}}},handleWarningTaskRel:function(e,t,n,i){var a={auditWarningUuid:this.auditWarningSave.auditWarningUuid,sourceUuid:e,modelVersion:t,settingInfo:JSON.stringify({sql:n,thresholdValueRel:i})};this.auditWarningSave.warningTaskRel.push(a)},dateFormatter:function(e,t){var n=e.createTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds();1==r.toString().length&&(r="0"+r),1==o.toString().length&&(o="0"+o),1==s.toString().length&&(s="0"+s),1==l.toString().length&&(l="0"+l),1==u.toString().length&&(u="0"+u);var c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}},getModelParamById:function(e){var t={};if(!e)return{};for(var n=this.$refs["paramDrawRef"+e.modelUuid][0].replaceNodeParam(e.modelUuid),i=e.paramObj,a=0;a<i.length;a++)for(var r=0;r<n.paramsArr.length;r++)i[a].moduleParamId==n.paramsArr[r].moduleParamId&&(i[a].paramValue=n.paramsArr[r].paramValue);return t={sql:n.sql,paramsArr:i},t},deleteModel:function(e,t){t.splice(e,1)},selectModel:function(){var e=this,t=this.$refs["selectModels"].getModelListCheckData();if(t&&t.length>0){this.selectModelVisible=!1;var n,i=[],a=f(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;i.push(r.modelUuid)}}catch(s){a.e(s)}finally{a.f()}return this.modelListLoading=!0,void(0,o.findModelsWithParam)(i).then((function(t){if(e.modelListLoading=!1,0===t.code){var n,i=f(t.data);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(0!=a.parammModelRel.length){a.paramObj=[];var r,o=f(a.parammModelRel);try{for(o.s();!(r=o.n()).done;){var l=r.value;""!==l.paramValue&&a.paramObj.push(JSON.parse(l.paramValue))}}catch(s){o.e(s)}finally{o.f()}}}}catch(s){i.e(s)}finally{i.f()}var u=e.temp.modelList.concat(t.data);e.temp.modelList=u}else e.$message({type:"error",message:"请求参数信息失败!"})}))}this.$message({type:"error",message:"请最少选择一个模型!"})},addExecuteTime:function(){this.temp.manyTimesExecuteTime.push({executeTime:""})},removeExecuteTime:function(e){var t=this.temp.manyTimesExecuteTime.indexOf(e);-1!==t&&this.temp.manyTimesExecuteTime.splice(t,1)},addMonth:function(){this.temp.intervalExecuteTime.monthValue.push({value:""})},removeMonth:function(e){var t=this.temp.intervalExecuteTime.monthValue.indexOf(e);-1!==t&&this.temp.intervalExecuteTime.monthValue.splice(t,1)},addMonthDay:function(){this.temp.intervalExecuteTime.monthDayValue.push({month:"",day:""})},removeMonthDay:function(e){var t=this.temp.intervalExecuteTime.monthDayValue.indexOf(e);-1!==t&&this.temp.intervalExecuteTime.monthDayValue.splice(t,1)},getFormData:function(){var e=this,t=!1;return this.$refs["baseDataForm"].validate((function(n){n?e.$refs["executeDataForm"].validate((function(n){if(n){if(e.formToSaveObj(),t=e.auditWarningSave,0==e.auditWarningSave.warningTaskRel.length&&(e.$message({type:"info",message:"请选择要执行的模型或指标"}),e.tabShow="baseInfo",t=!1),"3"!=e.auditWarningSave.executeMode){var i,a=new Date,r=f(e.auditWarningSave.warningExecuteTime);try{for(r.s();!(i=r.n()).done;){var o=i.value;if("string"==typeof o.executeTime&&(o.executeTime=new Date(o.executeTime)),o.executeTime<=a){e.$message({type:"error",message:"该执行时间小于当前时间"+o.executeTime.toLocaleString()}),t=!1,e.tabShow="executeInfo";break}}}catch(s){r.e(s)}finally{r.f()}}}else e.tabShow="executeInfo"})):e.tabShow="baseInfo"})),t},modelTypeFormatter:function(e,t){var n=e.modelType,i=(0,s.getOneDict)(n),a="";return 0==i.length?"":(a=i[0].codeName,a)},handleClick:function(e,t,n){this.tempPath=e.label,this.tempId=e.id,this.auditWarningSave.locationUuid=this.tempId,this.auditWarningSave.locationName=this.tempPath,this.nodeType=e.type},modelResultSavePathDetermine:function(){"folder"==this.nodeType?this.modelResultSavePathDialog=!1:""==this.nodeType?this.$message({message:"请选择路径",type:"warning"}):this.$message({message:"只能选择文件夹",type:"warning"})},getCommonlyAnalysis:function(){var e=this.$refs.commonlyAnalysisList.getSelectOption();0!=e.length?(this.temp.indexList=e,this.selectIndicatorVisble=!1):this.$message({type:"info",message:"最少选择一条常用分析"})},deleteCommonlyAnalysis:function(e,t){t.splice(e,1)},distributionButtonClick:function(){1==this.auditWarningSave.distributionType?this.personDialog=!0:2==this.auditWarningSave.distributionType?this.projectDialog=!0:this.$message({type:"info",message:"请先选择分配类型"})},getCheckPerson:function(){this.$store.getters.personuuid;var e=this.$refs.personTree.getSelectValue();e.length>1?this.$message({type:"info",message:"只有分配给一个人!"}):(this.auditWarningSave.distributionUuid=e[0].personuuid,this.auditWarningSave.distributionName=e[0].cnname,this.personDialog=!1)},getCheckProject:function(){var e=this.$refs.userproject.getSelectValue();0===e.length?this.$message({message:"请选择要关联的项目"}):1===e.length?(this.auditWarningSave.distributionUuid=e[0].PRJ_PROJECT_UUID,this.auditWarningSave.distributionName=e[0].PRJ_NAME,this.projectDialog=!1):this.$message({message:"只能关联一个项目"})},distributionTypeChange:function(e){this.auditWarningSave.distributionUuid="",this.auditWarningSave.distributionName=""}}};t.default=g},4767:function(e,t,n){},4779:function(e,t,n){"use strict";n("de7d")},4780:function(e,t,n){"use strict";var i=n("dbce"),a=n("4ea4");n("8e6e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a481"),n("7f7f");var r=a(n("9523"));n("ac6a"),n("456d"),n("5df3"),n("1c4c"),n("96cf");var o=a(n("c973")),s=a(n("6208")),l=a(n("e344")),u=a(n("467e")),c=a(n("1248")),d=a(n("6014")),h=n("8ebc"),f=i(n("0217")),p=n("0dff");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={name:"screenQueryOne",components:{InputParams:s.default,ChildTabCons:l.default,ScreenQueryFilter:u.default,ScreenQuerySort:c.default,ScreenQueryGroupCount:d.default},data:function(){return{screenLoading:!0,loginUserUuid:"",screenStyle:"",collapseStyle:"",settingObj:{initSql:"",filterSetting:[],sortSetting:[],groupCountSetting:{countData:[],groupData:[]}},paramsArr:[],arr:[],sql:"",paramSql:"",dataParamSql:"",curReplaceParamSql:"",columnInfoArr:[],isQuery:!1,selectNum:0,selectTreeNum:0,allNodeData:{},executeNodeIdArr:[],curOptType:"",rsCurPage:{},loginUserId:"",queryFilterArr:[],queryFilter:!1,activeName:"1",initQuery:!1,resultInfo:null,showTableResult:!1,autoCloseDialog:!1,nodeParamDialogVisible:!1,dataDealDialogVisible:!1,dataDealDialogTitle:"",dataDealType:""}},props:["screenParam"],mounted:function(){this.init()},methods:{init:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s,l,u,c,d,f,p,m,v,y=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=$(this.$parent.$parent.$parent.$parent.$refs.screenMainContain).height()-70,this.screenStyle="width:100%;height:".concat(t+23,"px;overflow-y:auto;"),this.collapseStyle="width:100%;height:".concat(t-130,"px;overflow-y:auto;"),this.loginUserId=this.$store.state.user.code,this.loginUserUuid=this.$store.state.user.id,n=this.screenParam.nodeData.nodeInfo.nodeId,i=this.screenParam.nodeData.nodeInfo.nodeName,e.prev=7,e.next=10,(0,h.findParamsAndModelRelParams)();case 10:if(a=e.sent,null!=a.data){e.next=15;break}this.$message.error("查询条件信息获取失败"),e.next=86;break;case 15:if(!a.data.isError){e.next=19;break}this.$message.error(a.data.message),e.next=86;break;case 19:return this.paramsArr=a.data.paramList,e.next=22,(0,h.getScreenGraphInfo)({graphUuid:this.screenParam.graphUuid,nodeId:n});case 22:if(a=e.sent,null!=a.data&&!a.data.isError){e.next=26;break}return this.$message.error("获取节点".concat(i,"的信息失败")),e.abrupt("return");case 26:if("undefined"!==typeof a.data.graphObj&&null!=a.data.graphObj){e.next=29;break}return this.$message.error("获取图形".concat(this.screenParam.graphName,"的信息失败")),e.abrupt("return");case 29:if("undefined"!==typeof a.data.nodeObj&&null!=a.data.nodeObj){e.next=32;break}return this.$message.error("获取节点".concat(i,"的信息失败")),e.abrupt("return");case 32:if(this.allNodeData=JSON.parse(a.data.graphObj.nodeData),r=JSON.parse(a.data.nodeObj.nodeData),this.curOptType=r.nodeInfo.optType,"layering"===this.curOptType&&this.allNodeData[n].setting&&("undefined"===typeof this.screenParam.layering_index&&(this.screenParam.layering_index=0),this.allNodeData[n].setting.index=this.screenParam.layering_index),r.columnsInfo,Array.from(r.columnsInfo,(function(e){1===e.isOutputColumn&&y.columnInfoArr.push(e)})),o=r.paramsSetting,s=!1,l="",!r.hasParam){e.next=83;break}this.queryFilter=!0,this.paramSql=o.sql,this.arr=o.arr,u=[],c=0;case 47:if(!(c<this.arr.length)){e.next=79;break}d={},f=0;case 50:if(!(f<this.paramsArr.length)){e.next=60;break}if(p=this.paramsArr[f].ammParamUuid,!(p===this.arr[c].moduleParamId&&$.inArray(p,u)<0)){e.next=57;break}return d=$.extend(!0,{},this.paramsArr[f]),this.arr[c].defaultVal&&(d.defaultVal=this.arr[c].defaultVal),u.push(p),e.abrupt("break",60);case 57:f++,e.next=50;break;case 60:if(0!==Object.keys(d).length){e.next=62;break}return e.abrupt("continue",76);case 62:return m={paramName:d.paramName,description:"（参数说明：无）",inputType:d.inputType},"undefined"!==typeof d.description&&null!=d.description&&(m.description="（参数说明："+d.description+"）"),e.next=66,this.initParamHtml(d,m,this.selectNum,this.selectTreeNum);case 66:if(v=e.sent,"undefined"!==typeof v.selectNum&&(this.selectNum=v.selectNum,m.selectNum=v.selectNum),"undefined"!==typeof v.selectTreeNum&&(this.selectTreeNum=v.selectTreeNum,m.selectTreeNum=v.selectTreeNum),!v.isError){e.next=74;break}return this.$message.error(v.message),e.abrupt("return");case 74:m=g(g({},m),v.setParamObj);case 75:this.queryFilterArr.push(m);case 76:c++,e.next=47;break;case 79:this.$nextTick((function(){y.initParamInputAndSelect()})),this.screenLoading=!1,e.next=85;break;case 83:this.screenLoading=!1,this.initQuery=!0;case 85:s&&this.$message.error(l);case 86:e.next=93;break;case 88:e.prev=88,e.t0=e["catch"](7),this.screenLoading=!1,this.$message.error("初始化数据失败"),console.info(e.t0);case 93:case"end":return e.stop()}}),e,this,[[7,88]])})));function t(){return e.apply(this,arguments)}return t}(),initParamHtml:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(t,n,i,a){var r,o,s,l,u,c,d,p,m,v,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.screenParam.nodeData.nodeInfo.nodeId,o={selectNum:i,selectTreeNum:a,setParamObj:g(g({},{}),n),isError:!1,message:""},s=[],l=[],u=[],c=t.paramChoice.optionsSql,o.setParamObj.title=0===t.paramChoice.allowedNull?"不可为空":"可为空",o.setParamObj.allowedNull=!1,0===t.paramChoice.allowedNull&&(o.setParamObj.allowedNull=!0),d=!1,e.t0=o.setParamObj.inputType,e.next="lineinp"===e.t0?13:"textinp"===e.t0?34:"timeinp"===e.t0?41:"treeinp"===e.t0?43:60;break;case 13:if(c){e.next=17;break}$.each(t.paramChoice.paramOptionsList,(function(e,t){t.optionsVal&&t.optionsName&&s.push({name:t.optionsName,value:t.optionsVal})})),e.next=24;break;case 17:if(""===c){e.next=24;break}if(d=!0,"undefined"===typeof t.defaultVal||null==t.defaultVal){e.next=24;break}return e.next=22,(0,h.executeParamSql)(c);case 22:if(p=e.sent,null==p.data)o.isError=!0,o.message="获取参数【".concat(t.paramName,"】的值的失败");else if(p.data.isError)o.isError=!0,o.message="获取参数【".concat(t.paramName,"】的值的失败，原因：").concat(p.data.message);else if(m=p.data,m.valueList&&m.valueList.length>0)for(v=0;v<m.valueList.length;v++)s.push({name:m.valueList[v].paramName,value:m.valueList[v].paramValue});case 24:return o.selectNum++,o.setParamObj.id="selectParamScreen".concat(o.selectNum).concat(r),o.setParamObj.dataId=t.ammParamUuid,o.setParamObj.dataName=t.paramName,o.setParamObj.dataChoiceType=t.paramChoice.choiceType,d&&(o.setParamObj.dataSql=c,o.setParamObj.dataParamArr=l,o.setParamObj.dataAssociatedParamIdArr=u),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(o.setParamObj.dataDefaultVal=t.defaultVal),s.length>0&&(o.setParamObj.data=s),"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(o.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),e.abrupt("break",60);case 34:return"undefined"!==typeof t.dataLength&&null!=t.dataLength&&(o.setParamObj.title+=",参数值的长度为".concat(t.dataLength)),o.setParamObj.dataId=t.ammParamUuid,o.setParamObj.dataName=t.paramName,"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(o.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(o.setParamObj.value=t.defaultVal),"undefined"!==typeof t.dataLength&&null!=t.dataLength&&(o.setParamObj.dataDataLength=t.dataLength),e.abrupt("break",60);case 41:return"date"===t.dataType&&(o.setParamObj.dataId=t.ammParamUuid,o.setParamObj.dataName=t.paramName,"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(o.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(o.setParamObj.value=t.defaultVal)),e.abrupt("break",60);case 43:if(""===c){e.next=50;break}if(d=!0,"undefined"===typeof t.defaultVal||null==t.defaultVal){e.next=50;break}return e.next=48,(0,h.getSelectTreeData)(c);case 48:y=e.sent,null==y.data?(o.isError=!0,o.message="获取参数【".concat(t.paramName,"】的值的失败")):y.data.isError?(o.isError=!0,o.message="获取参数【".concat(t.paramName,"】的值的失败，原因：").concat(y.data.message)):s=y.data.result&&y.data.result.length>0?f.organizeSelectTreeData(y.data.result):[];case 50:return o.selectTreeNum++,o.setParamObj.id="selectTreeParamScreen".concat(o.selectTreeNum).concat(r),o.setParamObj.dataId=t.ammParamUuid,o.setParamObj.dataName=t.paramName,o.setParamObj.dataChoiceType=t.paramChoice.choiceType,d&&(o.setParamObj.dataSql=c,o.setParamObj.dataParamArr=l,o.setParamObj.dataAssociatedParamIdArr=u),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(o.setParamObj.dataDefaultVal=t.defaultVal),s.length>0&&(o.setParamObj.data=s),"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(o.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),e.abrupt("break",60);case 60:return e.abrupt("return",o);case 61:case"end":return e.stop()}}),e,this)})));function t(t,n,i,a){return e.apply(this,arguments)}return t}(),initParamInputAndSelect:function(){var e=this,t=this,n=this.$refs.selectParamScreen;if(n&&n.length>0)for(var i=function(i){var a=n[i].getAttribute("index"),r=n[i].getAttribute("id"),o=e.queryFilterArr[a],s=o.dataChoiceType,l="undefined"!==typeof o.dataSql?o.dataSql:"",u="undefined"!==typeof o.data?o.data:[],c=!1,d={el:"#".concat(r),filterable:!0,filterMethod:function(e,t){return!!(e===t.value||t.name&&t.name.indexOf(e)>-1)},data:u};if("1"===s&&(d.radio=!0,d.clickClose=!0),""!==l){var h="undefined"!==typeof o.dataAssociatedParamIdArr?o.dataAssociatedParamIdArr:[],f="undefined"!==typeof o.dataParamArr?o.dataParamArr:[];d.show=function(){c=t.selectShow($(t.$refs.screenTableMain),"#selectParamScreen",o.selectNum,o,l,f,u,c)},d.hide=function(){if(c&&0===u.length){var e=xmSelect.get("#".concat(r),!0);u=e.options.data,c=!1}$.inArray(o.dataId,h)>-1&&t.selectHide("#selectParamScreen",o.selectNum,h)}}var p=o.dataDefaultVal;"undefined"!==typeof p&&(d.initValue=p),xmSelect.render(d)},a=0;a<n.length;a++)i(a);var r=this.$refs.selectTreeParamScreen;if(r&&r.length>0)for(var o=function(n){var i=r[n].getAttribute("index"),a=r[n].getAttribute("id"),o=e.queryFilterArr[i],s=o.dataChoiceType,l="undefined"!==typeof o.dataSql?o.dataSql:"",u="undefined"!==typeof o.data?o.data:[],c=!1,d={el:"#".concat(a),filterable:!0,tree:{show:!0,showFolderIcon:!0,showLine:!0,indent:30,strict:!1},height:"auto",data:u};if(""!==l){var h="undefined"!==typeof o.dataAssociatedParamIdArr?o.dataAssociatedParamIdArr:[],p="undefined"!==typeof o.dataParamArr?o.dataParamArr:[];d.show=function(){c=t.selectShow($(t.$refs.screenTableMain),"#selectTreeParamScreen",o.selectTreeNum,o,l,p,u,c)},d.hide=function(){if(c&&0===u.length){var e=xmSelect.get("#".concat(a),!0);u=e.options.data,c=!1}$.inArray(o.dataId,h)>-1&&t.selectHide("#selectTreeParamScreen",o.selectTreeNum,h)}}var m=o.dataDefaultVal;"undefined"!==typeof m&&(d.initValue=m),"1"===s?(d.radio=!0,d.clickClose=!0):d.on=function(e){var t=e.arr,n=e.change.slice(0,1),i=f.getChildrenData(n[0],[n[0]]);if(e.isAdd){for(var a=0;a<i.length;a++)for(var r=t.length-1;r>=0;r--)if(t[r].value===i[a].value&&t[r].pValue===i[a].pValue){t.splice(r,1);break}var o=f.getSplitDataArr(u),s=f.getParentUnChecked(n[0],[],o,t);i=i.concat(s),t.push.apply(t,i)}else{for(var l=f.getParentChecked(n[0],[],t),c=0;c<l.length;c++)for(var d=t.length-1;d>=0;d--)if(t[d].value===l[c].value&&t[d].pValue===l[c].pValue){t.splice(d,1);break}for(var h=0;h<i.length;h++)for(var p=t.length-1;p>=0;p--)if(t[p].value===i[h].value&&t[p].pValue===i[h].pValue){t.splice(p,1);break}}return t},xmSelect.render(d)},s=0;s<r.length;s++)o(s)},selectShow:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(t,n,i,a,r,o,s,l){var u,c,d,p,m,g,v,y,b,A,w,x,C,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.screenLoading=!0,u=this.screenParam.nodeData.nodeInfo.nodeId,e.prev=2,c="",d=null,p=0;case 6:if(!(p<o.length)){e.next=15;break}if(o[p].paramId!==a.dataId){e.next=12;break}if(d=xmSelect.get(n+i+u,!0),m=d.getValue(),m&&m.length>0)if(g=o[p].associatedParamCol,v="realValue"===o[p].paramValueType?"value":"name","1"===a.dataChoiceType)c+=" and "+g+"='"+m[0][v]+"'";else{for(y="",b=0;b<m.length;b++)y+="'"+m[b][v]+"',";""!==y&&(y=y.substring(0,y.length-1)),c+=" and "+g+" in ("+y+")"}return e.abrupt("break",15);case 12:p++,e.next=6;break;case 15:if(d=xmSelect.get(n+i+u,!0),A="undefined"!==typeof $(n+i+u).attr("data-sqlWhereStr")?$(n+i+u).attr("data-sqlWhereStr"):"",w=null,""===c){e.next=34;break}if(""!==A&&A===c){e.next=33;break}if(r="SELECT * FROM ("+r+") where 1=1"+c,"#selectParamScreen"!==n){e.next=27;break}return e.next=24,(0,h.executeParamSql)(r);case 24:w=e.sent,e.next=30;break;case 27:return e.next=29,(0,h.getSelectTreeData)(r);case 29:w=e.sent;case 30:if(w.data.isError)this.screenLoading=!1,this.$message.error("获取参数".concat(a.dataName,"的值的失败，原因：").concat(w.data.message));else{if(x=[],"#selectParamScreen"===n)for(C=0;C<w.data.paramList.length;C++)x.push({name:w.data.paramList[C].paramName,value:w.data.paramList[C].paramValue});else x=f.organizeSelectTreeData(w.data.result);d.update({data:x}),$(n+i+u).attr("data-sqlWhereStr",c),this.screenLoading=!1}e.next=34;break;case 33:this.screenLoading=!1;case 34:if(""!==c||0!==s.length){e.next=46;break}if(l=!0,"#selectParamScreen"!==n){e.next=42;break}return e.next=39,(0,h.executeParamSql)(r);case 39:w=e.sent,e.next=45;break;case 42:return e.next=44,(0,h.getSelectTreeData)(r);case 44:w=e.sent;case 45:if(w.data.isError)this.screenLoading=!1,this.$message.error("获取参数".concat(a.dataName,"的值的失败，原因：").concat(w.data.message));else{if("#selectParamScreen"===n)for(k=0;k<w.data.paramList.length;k++)s.push({name:w.data.paramList[k].paramName,value:w.data.paramList[k].paramValue});else s=f.organizeSelectTreeData(w.data.result);d.update({data:s}),this.screenLoading=!1}case 46:""===c&&0!==s.length&&(0!==o.length&&d.update({data:s}),$(n+i+u).removeAttr("data-sqlWhereStr"),this.screenLoading=!1),e.next=54;break;case 49:e.prev=49,e.t0=e["catch"](2),this.screenLoading=!1,this.$message.error("程序执行出错，刷新参数数据失败"),console.info(e.t0);case 54:return e.abrupt("return",l);case 55:case"end":return e.stop()}}),e,this,[[2,49]])})));function t(t,n,i,a,r,o,s,l){return e.apply(this,arguments)}return t}(),selectHide:function(e,t,n){var i=this.screenParam.nodeData.nodeInfo.nodeId,a=xmSelect.get(e+t+i,!0),r=a.getValue();r&&r.length>0&&a.setValue([])},pageInit:function(e){var t=this;!1===this.$parent.$parent.$parent.$parent.screenListLoading&&(this.$parent.$parent.$parent.$parent.screenListLoading=!0),this.resultInfo={id:this.screenParam.nodeData.nodeInfo.nodeId,name:this.screenParam.nodeData.nodeInfo.nodeName};var n={sql:e},i=(new UUIDGenerator).id;n.graphName=this.screenParam.graphName,n.nodeId=this.screenParam.nodeData.nodeInfo.nodeId,n.nodeName=this.screenParam.nodeData.nodeInfo.nodeName,n.websocketUuid=i,this.$parent.$parent.$parent.$parent.webSocketUuid=i,(0,h.selectScreenQueryData)(n).then().catch((function(){t.$parent.$parent.$parent.$parent.screenListLoading=!1}))},queryData:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s,l,u,c,d,f,p,m,g,v,y,b,A,w,x,C,k,S,T,N,I,D,P,L,O,M,E,R,j,B,_,V,F,U,q,z,Q,H,G,Y,W;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=[],n=0,i=!1,a=null,r=0;r<this.arr.length;r++)"undefined"!==typeof this.arr[r].value&&delete this.arr[r].value;if(o=this.$refs.paramOptionScreen,o&&o.length>0)for(s=0;s<o.length;s++)if(l=o[s].$attrs.index,a=this.queryFilterArr[l],u=a.dataId,c="undefined"!==typeof a.dataAllowedNull?a.dataAllowedNull:"1",d=a.value,f={moduleParamId:u,paramValue:$.trim(d),allowedNull:"0"},1===c){if(f.allowedNull="1",""===d)for(i=!0,p=0;p<arr.length;p++)arr[p].moduleParamId===u&&(arr[p]["value"]="");t.push(f)}else""!==d?t.push(f):n++;if(m=this.$refs.selectParamScreen,m&&m.length>0)for(g=0;g<m.length;g++)if(v=m[g].getAttribute("index"),a=this.queryFilterArr[v],y=a.dataId,b="undefined"!==typeof a.dataAllowedNull?a.dataAllowedNull:"1",A=a.dataChoiceType,w=xmSelect.get("#selectParamScreen".concat(a.selectNum).concat(this.screenParam.nodeData.nodeInfo.nodeId),!0),x=w.getValue(),C={moduleParamId:y,paramValue:"",allowedNull:"0"},1===b){if(C.allowedNull="1",0===x.length)for(i=!0,k=0;k<arr.length;k++)arr[k].moduleParamId===y&&(arr[k]["value"]="");else if("1"===A)C.paramValue=x[0].value;else{for(S=0;S<x.length;S++)C.paramValue+="'"+x[S].value+"',";C.paramValue=C.paramValue.substring(0,C.paramValue.length-1)}t.push(C)}else if(0!==x.length){if("1"===A)C.paramValue=x[0].value;else{for(T=0;T<x.length;T++)C.paramValue+="'"+x[T].value+"',";C.paramValue=C.paramValue.substring(0,C.paramValue.length-1)}t.push(C)}else n++;if(N=this.$refs.selectTreeParamScreen,N&&N.length>0)for(I=0;I<N.length;I++)if(D=N[I].getAttribute("index"),a=this.queryFilterArr[D],P=a.dataId,L="undefined"!==typeof a.dataAllowedNull?a.dataAllowedNull:"1",O=a.dataChoiceType,M=xmSelect.get("#selectTreeParamScreen".concat(a.selectTreeNum).concat(this.screenParam.nodeData.nodeInfo.nodeId),!0),E=M.getValue(),R={moduleParamId:P,paramValue:"",allowedNull:"0"},1===L){if(R.allowedNull="1",0===E.length)for(i=!0,j=0;j<arr.length;j++)arr[j].moduleParamId===P&&(arr[j]["value"]="");else if("1"===O)R.paramValue=E[0].value;else{for(B=0;B<E.length;B++)R.paramValue+="'"+E[B].value+"',";R.paramValue=R.paramValue.substring(0,R.paramValue.length-1)}t.push(R)}else if(0!==E.length){if("1"===O)R.paramValue=E[0].value;else{for(_=0;_<E.length;_++)R.paramValue+="'"+E[_].value+"',";R.paramValue=R.paramValue.substring(0,R.paramValue.length-1)}t.push(R)}else n++;if(0===n){e.next=15;break}this.$message({type:"warning",message:"查询条件含有空值项，请重新输入"}),e.next=43;break;case 15:if(V=!0,F="",!(o&&o.length>0)){e.next=32;break}U=0;case 19:if(!(U<o.length)){e.next=32;break}if(!$(o[U]).hasClass("textParam")){e.next=29;break}if(q=o[U].$attrs.index,a=this.queryFilterArr[q],z=a.dataDatalength,Q=a.dataName,"undefined"===typeof z||a.value.length===parseInt(z)){e.next=29;break}return V=!1,F="查询条件【".concat(Q,"】输入值的长度与设置的长度值【").concat(parseInt(z),"】不相等"),e.abrupt("break",32);case 29:U++,e.next=19;break;case 32:if(V){e.next=36;break}this.$message({type:"warning",message:F}),e.next=43;break;case 36:if(this.curReplaceParamSql=this.paramSql,!i){e.next=42;break}return e.next=40,(0,h.replaceModelSqlByParams)(replaceParamSql,JSON.stringify(arr));case 40:H=e.sent,null==H.data||H.data.isError?this.$message.error("替换空值参数时出错"):this.curReplaceParamSql=H.data.sql;case 42:if(""!==this.curReplaceParamSql){for(G=0;G<t.length;G++)for(Y=t[G].moduleParamId,W=0;W<this.arr.length;W++)this.arr[W].moduleParamId===Y&&(this.curReplaceParamSql=this.curReplaceParamSql.replace(this.arr[W].id,t[G].paramValue));this.initExecuteSql()}case 43:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initExecuteSql:function(){var e=this,t=this.screenParam.nodeData.nodeInfo.nodeId;this.executeNodeIdArr=(0,p.getPreNodesNotDatasource)(this.allNodeData,t,[]);for(var n=!1,i=0;i<this.executeNodeIdArr.length;i++){var a=this.allNodeData[this.executeNodeIdArr[i]].hasParam,r=this.allNodeData[this.executeNodeIdArr[i]].paramsSetting;if(a&&r&&r.arr&&0!==r.arr.length){n=!0;break}}if(n)this.nodeParamDialogVisible=!0,this.$nextTick((function(){e.$refs.inputParams.createParamNodeHtml()}));else{if(this.executeNodeIdArr.push(t),"layering"===this.curOptType){var o=this.allNodeData[t].childrenIds;"undefined"!==typeof o&&o.length>0&&"undefined"!==typeof o[this.screenParam.layering_index]&&this.executeNodeIdArr.push(o[this.screenParam.layering_index])}this.getScreenExecuteSql()}},executeParamCallBack:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.inputParams.replaceNodeParam();case 2:t=e.sent,t.verify?(this.nodeParamDialogVisible=!1,this.executeNodeIdArr.push(this.screenParam.nodeData.nodeInfo.nodeId),this.getScreenExecuteSql()):this.$refs.inputParams.$message({type:"warning",message:t.message});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getScreenExecuteSql:function(){var e=this;this.$parent.$parent.$parent.$parent.screenListLoading=!0;var t={nodeData:JSON.stringify(this.allNodeData),nodeIdList:this.executeNodeIdArr};(0,h.getScreenExecuteSql)(t).then((function(t){if(t.data.isError)e.$parent.$parent.$parent.$parent.screenListLoading=!1,e.$message.error("初始化查询SQL语句失败");else{var n=t.data.dealNodeData,i=e.screenParam.nodeData.nodeInfo.nodeId,a=n[i].nodeInfo.optType;if("layering"===a){var r=n[i].nodeInfo.selectSqlNotViewTableArr;e.sql=r[e.screenParam.layering_index]}else e.sql=n[i].nodeInfo.selectSqlNotViewTable;if(""===e.sql)e.$parent.$parent.$parent.$parent.screenListLoading=!1,e.$message.error("初始化查询SQL语句失败");else if(""!==e.curReplaceParamSql){var o={sql:e.sql,replaceParamSql:e.curReplaceParamSql,optType:e.curOptType};(0,h.dealReplaceParamSql)(o).then((function(t){if(null==t.data||t.data.isError)e.$message.error("获取结果集数据出错：结果集SQL执行失败");else{var n=t.data.dealSql;e.sql=n,e.pageInit(n),e.settingObj.initSql=n}})).catch((function(){e.$parent.$parent.$parent.$parent.screenListLoading=!1}))}else e.pageInit(e.sql),e.settingObj.initSql=e.sql}})).catch((function(){e.$parent.$parent.$parent.$parent.screenListLoading=!1}))},resetQuery:function(){Array.from(this.queryFilterArr,(function(e){if("undefined"!==typeof e.value&&(e.value=""),"undefined"!==typeof e.id){var t=xmSelect.get("#".concat(e.id),!0);t.setValue([])}}))},initQueryData:function(){this.curReplaceParamSql="",this.initExecuteSql()},dealData:function(e){if(this.isQuery){switch(this.dataDealType=e,e){case"filter":this.dataDealDialogTitle="筛选设置";break;case"sort":this.dataDealDialogTitle="排序设置";break;case"groupCount":this.dataDealDialogTitle="分组统计设置";break}this.dataDealDialogVisible=!0}else this.$message({type:"warning",message:"尚无结果数据，只能对查询的结果数据进行设置"})},dealDataCallBack:function(){var e=this.$refs.dataDealScreen.verifySetting();if(e){var t=this.$refs.dataDealScreen.saveSetting();if(t.hasWhere&&""!==t.whereStr||!t.hasWhere){switch(this.dataDealType){case"filter":this.settingObj.filterSetting=t.setting;break;case"sort":this.settingObj.sortSetting=t.setting;break;case"groupCount":this.settingObj.groupCountSetting=t.setting;break}this.dataDealDialogVisible=!1,this.sql="SELECT ".concat(t.columnArr.join(",")," FROM (").concat(this.settingObj.initSql,") ").concat(t.whereStr),this.pageInit(this.sql)}else this.$refs.dataDealScreen.$message.error("配置条件为空，不可保存")}}}};t.default=v},4781:function(e,t,n){"use strict";n.r(t);var i=n("5d98"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"47ad":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},"47c6":function(e,t,n){},4814:function(e,t,n){"use strict";function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n("ac6a"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6b54");var o={name:"colorPicker",props:{value:{type:String,required:!0},defaultColor:{type:String,default:"#000000"},disabled:{type:Boolean,default:!1}},data:function(){return{openStatus:!1,hoveColor:null,tColor:["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],colorConfig:[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],bColor:["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],html5Color:this.value}},computed:{showPanelColor:function(){return this.hoveColor?this.hoveColor:this.showColor},showColor:function(){return this.value?this.value:this.defaultColor},colorPanel:function(){var e,t=[],n=i(this.colorConfig);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(this.gradient(a[1],a[0],5))}}catch(r){n.e(r)}finally{n.f()}return t}},methods:{closePanel:function(){this.openStatus=!1},triggerHtml5Color:function(){this.$refs.html5Color.click()},updataValue:function(e){this.$emit("input",e),this.$emit("change",e),this.openStatus=!1},handleDefaultColor:function(){this.updataValue(this.defaultColor)},parseColor:function(e){if(4!==e.length)return e;e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]},rgbToHex:function(e,t,n){var i=(e<<16|t<<8|n).toString(16);return"#"+new Array(Math.abs(i.length-7)).join("0")+i},hexToRgb:function(e){e=this.parseColor(e);for(var t=[],n=1;n<7;n+=2)t.push(parseInt("0x"+e.slice(n,n+2)));return t},gradient:function(e,t,n){for(var i=this.hexToRgb(e),a=this.hexToRgb(t),r=(a[0]-i[0])/n,o=(a[1]-i[1])/n,s=(a[2]-i[2])/n,l=[],u=0;u<n;u++)l.push(this.rgbToHex(parseInt(r*u+i[0]),parseInt(o*u+i[1]),parseInt(s*u+i[2])));return l}}};t.default=o},4832:function(e,t,n){},4862:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523"));function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("20d6"),n("5df3"),n("1c4c");var s={name:"ColumnSortSet",data:function(){return{nodeData:null,columnData:[],columnDataValue:[]}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.$parent.$parent.$parent.graph;this.nodeData=t.nodeData[t.curCell.id];var n=this.$parent.$parent.$parent.columnsInfoPre;this.nodeData.isSet?(this.columnData=this.nodeData.setting.columnData,this.columnDataValue=this.nodeData.setting.columnDataValue,Array.from(this.columnDataValue,(function(t){var n=e.columnData.findIndex((function(e){return e.key===t}));n>-1&&(e.columnData[n].showSort=!0,e.$nextTick((function(){var t=e.$refs.sortCol.$el.clientWidth,i=e.$refs.sortCol.$el.scrollWidth;if(i>t){var a=o(o({},{}),e.columnData[n]);a.isTip=!0,e.columnData.splice(n,1),e.columnData.splice(n,1,a)}})))}))):Array.from(n,(function(t){return e.columnData.push({pinyin:t.newColumnName,label:t.newColumnName,key:t.newColumnName,sortType:"ASC",showSort:!1})}))},changeSortData:function(e,t,n){var i=this;Array.from(n,(function(e){var n=i.columnData.findIndex((function(t){return t.key===e}));n>-1&&(i.columnData[n].showSort="right"===t,i.$nextTick((function(){var e=i.$refs.sortCol.$el.clientWidth,t=i.$refs.sortCol.$el.scrollWidth;if(t>e){var a=o(o({},{}),i.columnData[n]);a.isTip=!0,i.columnData.splice(n,1),i.columnData.splice(n,1,a)}})))}))},saveSetting:function(){var e=this,t=[];Array.from(this.columnDataValue,(function(n){for(var i=0;i<e.columnData.length;i++)if(e.columnData[i].key===n){t.push({column:n,sortType:e.columnData[i].sortType});break}})),this.nodeData.setting.columnDataValue=this.columnDataValue,this.nodeData.setting.columnData=this.columnData,this.nodeData.setting.rightData=t},inputVerify:function(){return 0!==this.columnDataValue.length||(this.$message({type:"warning",message:"未选择排序字段"}),!1)}}};t.default=s},4872:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("28a9")),r=i(n("b7a5")),o=i(n("f600")),s=i(n("47ad")),l={strict:!0,namespaced:!0,state:s.default,getters:r.default,mutations:o.default,actions:a.default};t.default=l},"48f0":function(e,t,n){},4932:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-checkbox-group"},e._l(e.radioList,(function(t,i){return n("div",{key:i,staticClass:"line-radio flex a-center j-start flex-row"},[n("span",{staticClass:"radio inline-block",class:[e.value===t.value&&"radio-active"],on:{click:function(n){return e.select(t)}}},[e.value===t.value?n("i",{staticClass:"el-icon-check icon"}):e._e()]),n("span",{staticClass:"label inline-block",on:{click:function(n){return e.select(t)}}},[e._v(e._s(t.label))])])})),0)},a=[]},"49d1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var i={props:{value:{type:String,default:""},placeholder:{type:String,default:"查找..."},list:{type:Array,default:function(){return[{name:"项目名称1"},{name:"项目名称2"},{name:"项目名称3"},{name:"项目名称4"}]}}},data:function(){return{isFocus:!1}},created:function(){var e=this;document.addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault(),e.blur()}))},methods:{ace:function(){},input:function(e){console.log(e.target.value),this.$emit("update:value",e.target.value)},focus:function(){this.isFocus=!0},blur:function(){this.isFocus=!1},select:function(e){this.$emit("update:value",e.name),this.isFocus=!1}}};t.default=i},"4b3f":function(e,t,n){"use strict";n.r(t);var i=n("f0d1"),a=n("cf5f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("8646");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"db877fee",null);t["default"]=s.exports},"4b50":function(e,t,n){"use strict";n.r(t);var i=n("4c98"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"4b5e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={computed:{roles:function(){return this.$store.getters.roles},switchRoles:{get:function(){return this.roles[0]},set:function(e){var t=this;this.$store.dispatch("user/changeRoles",e).then((function(){t.$emit("change")}))}}}};t.default=i},"4b8f":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f"),n("6b54"),n("55dd"),n("96cf");var a=i(n("c973")),r=i(n("8a08")),o=i(n("03e73")),s=i(n("cc36")),l=i(n("75ac")),u=n("9ac2"),c=i(n("dd1e")),d=i(n("513f")),h=n("ed08"),f=n("05c6"),p=i(n("7f2f")),m=i(n("03bd")),g=i(n("eb02")),v=i(n("c5a9")),y=i(n("3f53")),b=i(n("8803")),A=i(n("f38f")),w={name:"EditModel",components:{modelshoppingcart:g.default,ModelDetail:r.default,ModelFilterShow:o.default,VRuntimeTemplate:c.default,SQLEditor:s.default,AuditItemTree:l.default,paramShow:d.default,ModelFolderTree:p.default,SelectTransCode:m.default,graph:v.default,messageTips:y.default,paramshownew:b.default,thresholdvaluerel:A.default},props:["openValue"],data:function(){return{modelDetailIsSee:!1,activeName:"first",modifying:!1,modelInfoDraw:!1,useParamDraw:!1,resultConfigDraw:!1,dataUserId:void 0,sceneCode:void 0,defaultProps:{children:"children",label:"label"},auditItemTree:!1,sqlEditorStr:"002003001",graphEditorStr:"002003002",isShowBtn:!0,editorModel:"editorModel",isBanEdit:!1,modelFolderTreeDialog:!1,columnData:[],form:{modelUuid:"",modelName:"",modelFolderUuid:"",modelFolderName:"",auditItemUuid:"",riskLevelUuid:"",auditIdeas:"",paramConditions:"",sqlValue:"",auditItemName:"",modelType:"",locationName:"",locationUuid:"",graphUuid:""},parammModelRel:{},sqlObj:{sqlValue:"",params:[],column:[]},businessColumnSelect:[],columnTypeSelect:[],modelDetails:[],dragMinWidth:250,dragMinHeight:180,filterShows:[],newRelInfoValue:{},sqlEditorParamObj:{},modelDetailIndex:0,paramShowVIf:!1,editorModelLoading:!1,riskLeve:[],modelTypeData:[],modelFilterShowIndex:0,modelOriginalTable:[],modelChartSetup:{},modelTypeObj:[],formName:"新增模型",operationObj:{},graphColumnInfo:null,sqlEditorParam:null,basicInfoRules:{modelName:[{type:"string",required:!0,message:"请输入模型名称",trigger:"blur"}],auditItemUuid:[{required:!0,message:"请选择审计事项",trigger:"change"}],riskLevelUuid:[{type:"string",required:!0,message:"请选择风险等级",trigger:"change"}],modelType:[{type:"string",required:!0,message:"请选择模型类型",trigger:"change"}]},modelDesignRules:{sqlValue:[{type:"string",required:!0,message:"请选择输入模型SQL",trigger:"blur"}]},imgCus1:n("108d"),imgCus2:n("cb48"),imgCus3:n("3807"),paramShowArr:this.sqlEditorParam,changeBtn:{one:!1,two:!1,three:!1},modelRelatedButton:{add:!1,delete:!0,edit:!0},editingModelDetail:{},modelDetailAdd:!0,selectedModelDetail:[],threshold:[],thresholdButton:{add:!1,delete:!0,edit:!0},thresholdIsSee:!1,thresholdAdd:!0,setThreasholdValueObj:{isDisplay:!1,thresholdValueRelObj:{},columns:[]},selectedThreshold:[],isExecuteSql:!1,modelDetailIsSeeHeight:"",configurationSave1:!0,configurationSave2:!0,configurationSave3:!0}},watch:{paramShowVIf:function(e){this.$refs.apple.initSetting(this.sqlEditorParam)}},created:function(){this.modelDetailIsSeeHeight="height:"+(window.outerHeight-300)+"px",this.form.modelUuid=(0,f.getUuid)(),this.operationObj=JSON.parse(sessionStorage.getItem("operationObj")),""!=this.operationObj.modelType&&void 0!=this.operationObj.modelType&&(this.form.modelType=this.operationObj.modelType,this.modelTypeChangeEvent(this.form.modelType)),this.paramShowVIf=!0,void 0!=this.operationObj.model&&(this.form.graphUuid=this.operationObj.model.graphUuid,this.isExecuteSql=!0,this.modelTypeChangeEvent(this.operationObj.model.modelType)),"undefined"!=this.$route.query.dataUserId&&"undefined"!=this.$route.query.sceneCode?(this.dataUserId=this.$route.query.dataUserId,this.sceneCode=this.$route.query.sceneCode):(this.dataUserId=void 0,this.sceneCode=void 0)},mounted:function(){if(this.initData(this.operationObj),2==this.operationObj.operationType){this.setThreasholdValueObj.isDisplay=!0,this.isUpdate=!0;var e=this.operationObj.model;this.displayData(e),this.formName="修改模型"}if(3==this.operationObj.operationType){this.setThreasholdValueObj.isDisplay=!0,this.isUpdate=!0;e=this.operationObj.model;this.displayData(e),this.formName=this.operationObj.formName,this.isShowBtn=!1,this.isBanEdit=!0}},methods:{editThresholdDetermine:function(){for(var e=this.$refs.thresholdChild.getSaveObj(),t=0;t<this.threshold.length;t++)this.threshold[t].onlyId===this.setThreasholdValueObj.thresholdValueRelObj.onlyId&&this.threshold.splice(t,1,e);this.thresholdIsSee=!1},deleteThreshold:function(){for(var e=0;e<this.selectedThreshold.length;e++)for(var t=0;t<this.threshold.length;t++)this.threshold[t].onlyId===this.selectedThreshold[e].onlyId&&this.threshold.splice(t,1)},editthreshold:function(){this.setThreasholdValueObj.isDisplay=!0,this.thresholdAdd=!1,this.thresholdIsSee=!0},addthreshold:function(){this.setThreasholdValueObj.isDisplay=!1,this.thresholdAdd=!0,this.thresholdIsSee=!0},modelTypeFormatter:function(e){return 1===e.relationType?"关联模型":2===e.relationType?"关联表":void 0},handleSelectionChange:function(e){0==e.length?(this.modelRelatedButton.add=!1,this.modelRelatedButton.edit=!0,this.modelRelatedButton.delete=!0):1==e.length?(this.modelRelatedButton.add=!1,this.modelRelatedButton.edit=!1,this.modelRelatedButton.delete=!1):e.length>1&&(this.modelRelatedButton.add=!1,this.modelRelatedButton.edit=!0,this.modelRelatedButton.delete=!1),this.editingModelDetail=e[0],this.selectedModelDetail=e},handleSelectionChangeThreshold:function(e){0==e.length?(this.thresholdButton.add=!1,this.thresholdButton.edit=!0,this.thresholdButton.delete=!0):1==e.length?(this.thresholdButton.add=!1,this.thresholdButton.edit=!1,this.thresholdButton.delete=!1):e.length>1&&(this.thresholdButton.add=!1,this.thresholdButton.edit=!0,this.thresholdButton.delete=!1),this.setThreasholdValueObj.thresholdValueRelObj=e[0],this.selectedThreshold=e},addModelRelation:function(){this.modelDetailAdd=!0,this.modelDetailIsSee=!0},editModelRelation:function(){this.modelDetailAdd=!1,this.modelDetailIsSee=!0},deleteModelRelation:function(){for(var e=0;e<this.selectedModelDetail.length;e++)for(var t=0;t<this.modelDetails.length;t++)this.modelDetails[t].onlyId===this.selectedModelDetail[e].onlyId&&this.modelDetails.splice(t,1)},editModelRelationDetermine:function(){for(var e=0;e<this.modelDetails.length;e++)this.modelDetails[e].onlyId===this.editingModelDetail.onlyId&&this.modelDetails.splice(e,1,this.editingModelDetail);this.modelDetailIsSee=!1},clickModelInfo:function(){1==this.modifying&&1==this.modelInfoDraw?(this.modifying=!1,this.modelInfoDraw=!1,this.changeBtn.one=!1):1==this.modifying&&0==this.modelInfoDraw?(this.modifying=!0,this.useParamDraw=!1,this.resultConfigDraw=!1,this.modelInfoDraw=!0,this.changeBtn.one=!0,this.changeBtn.two=this.changeBtn.three=!1):(this.useParamDraw=!1,this.resultConfigDraw=!1,this.modelInfoDraw=!0,this.modifying=!0,this.changeBtn.one=!0)},clickUseParam:function(){1==this.modifying&&1==this.useParamDraw?(this.modifying=!1,this.useParamDraw=!1,this.changeBtn.two=!1):1==this.modifying&&0==this.useParamDraw?(this.modifying=!0,this.useParamDraw=!0,this.resultConfigDraw=!1,this.modelInfoDraw=!1,this.changeBtn.two=!0,this.changeBtn.one=this.changeBtn.three=!1):(this.modelInfoDraw=!1,this.useParamDraw=!0,this.resultConfigDraw=!1,this.modifying=!0,this.changeBtn.two=!0),"002003002"===this.form.modelType&&this.getGraphObj()},clickResultConfig:function(){1==this.modifying&&1==this.resultConfigDraw?(this.modifying=!1,this.resultConfigDraw=!1,this.changeBtn.three=!1):1==this.modifying&&0==this.resultConfigDraw?(this.modifying=!0,this.useParamDraw=!1,this.resultConfigDraw=!0,this.modelInfoDraw=!1,this.changeBtn.three=!0,this.changeBtn.two=this.changeBtn.one=!1):(this.modelInfoDraw=!1,this.useParamDraw=!1,this.resultConfigDraw=!0,this.modifying=!0,this.changeBtn.three=!0),"002003002"===this.form.modelType&&this.getGraphObj()},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},initData:function(e){var t=this;""!=e.folderId&&(this.form.modelFolderUuid=e.folderId,this.form.modelFolderName=e.folderName),(0,u.getBusinessAttribute)().then((function(e){null!=e.data&&(t.businessColumnSelect=e.data)}));var n=[{uuid:"int",name:"数值"},{uuid:"varchar",name:"字符串"},{uuid:"date",name:"日期"},{uuid:"money",name:"金额"}];this.columnTypeSelect=n,this.riskLeve=(0,h.getDictList)("002002"),this.modelTypeData=(0,h.getDictList)("002003")},getModelObj:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s,l,u,c,d,h,f,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,i=this.$refs.columnData.data,a=!1,this.$refs["basicInfoForm"].validate((function(e){e&&(a=e)})),a){e.next=7;break}return 1==this.modifying&&0==this.modelInfoDraw?(this.modifying=!0,this.useParamDraw=!1,this.resultConfigDraw=!1,this.modelInfoDraw=!0,this.changeBtn.one=!0,this.changeBtn.two=this.changeBtn.three=!1):(this.useParamDraw=!1,this.resultConfigDraw=!1,this.modelInfoDraw=!0,this.modifying=!0,this.changeBtn.one=!0),e.abrupt("return",null);case 7:if(void 0==this.$refs.SQLEditor){e.next=19;break}if(!1,this.$refs["modelDesignForm"].validate((function(e){e&&(e,"请先编写SQL")})),"",this.$refs.SQLEditor[0].getSQLIsUpdate()&&(!1,"请先执行或校验SQL"),0==this.sqlEditorParamObj.arr.length){e.next=17;break}if(n=this.$refs.apple.getParamsSetting(),n.verify){e.next=17;break}return this.$message({type:"info",message:n.message}),e.abrupt("return",null);case 17:e.next=36;break;case 19:if(void 0==this.$refs.graph){e.next=35;break}if(n=this.$refs.graph[0].getParamsArr(),"002003002"!=this.form.modelType){e.next=33;break}if(r=!0,o=this.getGraphObj(),o){e.next=28;break}return e.abrupt("return",null);case 28:return i=this.columnData,e.next=31,this.$refs.graph[0].saveModelGraph().then((function(e){e.isError&&(r=!1,p.$message({type:"error",message:e.message})),p.form.graphUuid=e.graphUuid}));case 31:if(r){e.next=33;break}return e.abrupt("return",null);case 33:e.next=36;break;case 35:t=!1;case 36:if(t){e.next=38;break}return e.abrupt("return",null);case 38:for(s=0,l=0;l<i.length;l++)void 0==i[l].isShow&&(i[l].isShow=1,i[l].columnOrder=++s);if(this.form.modelOutputColumn=i,void 0!=n&&0!=n.length){for(u=n.paramSettingArr,c=[],d=0;d<u.length;d++)h={ammParamUuid:u[d].copyParamId,resourceType:1,paramValue:JSON.stringify(u[d]),paramSort:u[d].sort,moduleParamId:u[d].moduleParamId},c.push(h);this.form.parammModelRel=c}for(f=0;f<this.modelDetails.length;f++)delete this.modelDetails[f].onlyId;for(this.form.modelDetailRelation=this.modelDetails,this.form.modelChartSetup=this.modelChartSetup,this.form.modelOriginalTable=this.modelOriginalTable,f=0;f<this.threshold.length;f++)delete this.threshold[f].onlyId;return this.form.modelThresholdValues=this.threshold,e.abrupt("return",this.form);case 49:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSqlObj:function(){var e=this.$refs.SQLEditor[0].getSaveInfo();if(void 0!=e){var t=this.changeParamDataFormat(e.params,1),n=this.changeColumnDataFormat(e.columnNames,e.columnTypes),i=this.changeOriginalTable(e.modelOriginalTable),a={sqlValue:e.sqlValue,params:t,column:n,modelChartSetup:e.modelChartSetup,modelOriginalTable:i};this.form.sqlValue=a.sqlValue,this.form.graphUuid="",0!=e.params.length&&(this.sqlEditorParam=e.params,this.$refs.apple.initSetting(this.sqlEditorParam)),this.sqlEditorParamObj={arr:e.params};for(var r=[],o=0;o<a.column.length;o++){var s={outputColumnName:a.column[o].columnName,columnType:a.column[o].columnType};r.push(s)}this.columnData=r,0==this.columnData.length?this.isExecuteSql=!1:this.columnData.length>0&&(this.isExecuteSql=!0),this.setThreasholdValueObj.columns=[];for(var l=0;l<r.length;l++)this.setThreasholdValueObj.columns.push(r[l].outputColumnName);this.modelOriginalTable=a.modelOriginalTable,this.modelChartSetup=a.modelChartSetup,this.form.locationName=e.locationName,this.form.locationUuid=e.locationUuid}},getGraphObj:function(){if(""!==this.form.modelType&&void 0!==this.$refs.graph){var e=this.$refs.graph[0].getResultColumnInfo();if(null!=this.graphColumnInfo){if(void 0==e)return!1;if(1==e.isError)return this.$message({type:"info",message:e.message}),!1;var t=this.contrastGraphColumnInfo(e);if(t)return!0}var n=[];if(void 0!==e.finalTable.columnNameArr){for(var i=0;i<e.finalTable.columnNameArr.length;i++){var a={outputColumnName:e.finalTable.columnNameArr[i],columnType:e.finalTable.columnTypeArr[i]};n.push(a)}var r=this.$refs.graph[0].getParamsArr();0!=r.length&&(this.sqlEditorParam=r,this.$refs.apple.initSetting(this.sqlEditorParam)),this.graphColumnInfo=e,this.columnData=n,0==this.columnData.length?this.isExecuteSql=!1:this.columnData.length>0&&(this.isExecuteSql=!0),this.setThreasholdValueObj.columns=[];for(var o=0;o<n.length;o++)this.setThreasholdValueObj.columns.push(n[o].outputColumnName);this.form.sqlValue=""}return!0}},contrastGraphColumnInfo:function(e){var t=this.graphColumnInfo.finalTable.columnNameArr,n=e.finalTable.columnNameArr;return t.sort().toString()===n.sort().toString()},changeParamDataFormat:function(e,t){if(void 0!=e&&null!=e){if(1==t){for(var n=[],i=0;i<e.length;i++){var a={ammParamUuid:e[i].moduleParamId,paramName:e[i].name,copyParamId:e[i].copyParamId,description:"",paramValue:""};n.push(a)}return n}if(2==t){for(var r={arr:[]},o=0;o<e.length;o++){var s="{#"+e[o].ammParamUuid+"#}",l=e[o].paramName,u=e[o].linkParamUuid,c="undefined"!==typeof e[o].ammParamChoice.allowedNull?e[o].ammParamChoice.allowedNull:1,d={id:s,name:l,moduleParamId:u,copyParamId:s,allowedNull:c};r.arr.push(d)}return r}}},changeColumnDataFormat:function(e,t){for(var n=[],i=0;i<e.length;i++){var a={columnName:e[i],columnType:t[i]};n.push(a)}return n},closeWinfrom:function(){this.$store.commit("aceState/setRightFooterTags",{type:"close",val:{name:this.formName,path:"/analysis/editorModel"}})},changeOriginalTable:function(e){for(var t=[],n=0;n<e.length;n++){var i={originalTableName:e[n].tableName,executionType:e[n].tableType};t.push(i)}return t},displaySQL:function(e){var t=e.sqlValue;$("#sqlValueView").html(t)},createDetail:function(){var e=this.$refs.child.getObj();0!=e.verResult?(this.modelDetailIsSee=!1,e.onlyId=(0,u.uuid2)(),this.modelDetails.push(e)):this.$message(e.message)},createThreshold:function(){var e=this.$refs.thresholdChild.getSaveObj();void 0===e?this.$message("缺少阈值字段"):(this.thresholdIsSee=!1,e.onlyId=(0,u.uuid2)(),this.threshold.push(e))},clear:function(){this.form={modelName:"",modelFolderUuid:"",modelFolderName:"",auditItemUuid:"",riskLevelUuid:"",auditIdeas:"",paramConditions:"",sqlValue:""},this.parammModelRel={},this.sqlObj={sqlValue:"",params:[],column:[]},this.businessColumnSelect=[],this.columnTypeSelect=[],this.modelDetails=[],this.modelDetailIndex=0,this.filterShows=[]},displayData:function(e){for(var t=[],n=0;n<e.modelOutputColumn.length;n++){var i={outputColumnName:e.modelOutputColumn[n].outputColumnName,outputColumnType:e.modelOutputColumn[n].columnType};t.push(i)}this.columnData=t,this.setThreasholdValueObj.columns=[];for(var a=0;a<t.length;a++)this.setThreasholdValueObj.columns.push(this.columnData[a].outputColumnName);this.form=e;for(var r=[],o=0;o<e.parammModelRel.length;o++)""!==e.parammModelRel[o].paramValue&&r.push(JSON.parse(e.parammModelRel[o].paramValue));var s={};s.arr=r;var l={};if(l.params=s,this.sqlEditorParamObj=s,l.sqlValue=this.form.sqlValue,0!=l.params.arr.length&&(this.sqlEditorParam=r,this.paramShowVIf=!0),this.columnData=e.modelOutputColumn,this.form.modelType===this.graphEditorStr){this.graphColumnInfo={finalTable:{columnNameArr:[]}};for(var c=0;c<this.columnData.length;c++)this.graphColumnInfo.finalTable.columnNameArr.push(this.columnData[c].outputColumnName)}for(var d=0;d<e.modelDetailRelation.length;d++)e.modelDetailRelation[d].onlyId=(0,u.uuid2)(),this.modelDetails.push(e.modelDetailRelation[d]);this.modelOriginalTable=e.modelOriginalTable;for(var h=0;h<e.modelThresholdValues.length;h++)e.modelThresholdValues[h].onlyId=(0,u.uuid2)(),this.threshold.push(e.modelThresholdValues[h]);this.displaySQL(l)},showAuditItemTree:function(){this.auditItemTree=!0},getAuditItem:function(){var e=this.$refs.auditItemTreeRef.getTree(),t=e.getCheckedNodes()[0];this.form.auditItemUuid=t.id,this.form.auditItemName=t.label,this.auditItemTree=!1},modelTypeChangeEvent:function(e){if(this.modelTypeObj=[],e===this.sqlEditorStr){var t={id:this.sqlEditorStr};this.modelTypeObj.push(t)}if(e==this.graphEditorStr){var n={id:this.graphEditorStr};this.modelTypeObj.push(n),this.$nextTick((function(){$("#graphDiv").css({height:function(){return $(this).parent().parent().height()}})}))}},setBusinessFolder:function(){var e=this.$refs.modelFolderTree.getSelectNode();void 0!=e.id?0!=e.pid&&null!=e.pid&&void 0!=e.pid?(this.form.modelFolderUuid=e.id,this.form.modelFolderName=e.label,this.modelFolderTreeDialog=!1):this.$message({type:"info",message:"不允许建立在根目录"}):this.$message({type:"info",message:"请选择业务分类"})},save:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getModelObj();case 2:if(t=e.sent,null!=t){e.next=5;break}return e.abrupt("return");case 5:this.editorModelLoading=!0,this.isUpdate?(0,u.updateModel)(t).then((function(e){n.editorModelLoading=!1,0===e.code?(n.$notify({title:"提示",message:"修改成功",type:"success",duration:2e3,position:"bottom-right"}),n.closeWinfrom()):n.$message({type:"error",message:"修改模型失败!"})})):(0,u.saveModel)(t).then((function(e){n.editorModelLoading=!1,0===e.code?(n.$notify({title:"提示",message:"新增成功",type:"success",duration:2e3,position:"bottom-right"}),n.closeWinfrom()):n.$message({type:"error",message:"新增模型失败!"})}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};t.default=w},"4be1":function(e,t,n){"use strict";n.r(t);var i=n("a942"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"4bfd":function(e,t,n){"use strict";n.r(t);var i=n("c762"),a=n("2a32");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"4c15":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-pause",use:"icon-oper-pause-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-pause"><defs><style type="text/css"></style></defs><path d="M510.9 60.7c-245.6 0-446.7 199.8-446.7 446.7C64.2 753 263.9 954 510.8 954s446.6-199.7 446.6-446.6c0.1-245.6-199.6-446.7-446.5-446.7z m-24.7 574c0 8.8-7.2 16-16 16h-94.9c-8.8 0-16-7.2-16-16V389.3c0-8.8 7.2-16 16-16h94.9c8.8 0 16 7.2 16 16v245.4z m178.5 0c0 8.8-7.2 16-16 16h-94.9c-8.8 0-16-7.2-16-16V389.3c0-8.8 7.2-16 16-16h94.9c8.8 0 16 7.2 16 16v245.4z" p-id="1139" /></symbol>'});o.a.add(s);t["default"]=s},"4c7b":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("cc6c")),r={name:"Page401",data:function(){return{errGif:a.default+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}};t.default=r},"4c7c":function(e,t,n){"use strict";n("a8b4")},"4c8d":function(e,t,n){},"4c98":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7514");var i=n("8ebc"),a={name:"HierarchyDataSet",data:function(){return{layeringLoading:!0,nodeData:null,pre_str_column:[],dict_map:[],keyId:0,items:[{id:this.keyId,c_col_1:"",c_col_2:""}],websocketLayeringId:"",loginUserUuid:"",hierarchy_column:"",hierarchyColumnArr:[],range:"",rangeTip:!1}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.loginUserUuid=this.$store.state.user.id;var t=this.$parent.$parent.$parent.graph;this.nodeData=t.nodeData[t.curCell.id];var n=this.nodeData.parentIds,a=t.nodeData[n[0]],r=["INTEGER","DECIMAL","NUMBER","FLOAT","REAL","DATE","TIMESTAMP"],o=this.$parent.$parent.$parent.columnsInfoPre;if(this.nodeData.isSet&&(o=this.nodeData.setting.columnsInfo),0!==o.length)for(var s=0;s<o.length;s++)$.inArray(o[s].columnType,r)>-1&&(this.hierarchyColumnArr.push({newColumnName:o[s].newColumnName}),this.pre_str_column.push(o[s].newColumnName));if(0===this.pre_str_column.length)this.$message({type:"warning",message:"上一节点的表或视图暂无可分层的字段"});else{var l=!1,u=a.nodeInfo.optType;if("datasource"===u&&(l=!0),"newNullNode"===u){2!==a.nodeInfo.midTableStatus&&2!==a.nodeInfo.resultTableStatus||(l=!0);var c=a.parentIds;c&&c.length>0&&(a=t.nodeData[c[0]])}if(""===a.nodeInfo.resultTableName)this.$message({type:"warning",message:"请先执行上一节点"});else if(this.nodeData.isSet)this.layeringLoading=!1,this.dict_map=this.nodeData.setting.dict_map,this.empty_set(this.nodeData.setting.hierarchy_column),this.items=[],this.$nextTick((function(){for(var t=0;t<e.nodeData.setting.hierarchy_map.length;t++){var n=e.nodeData.setting.hierarchy_map[t];e.keyId=t,e.items.push({id:t,c_col_1:n.c_col_1,c_col_2:n.c_col_2})}}));else{var d={tableName:a.nodeInfo.resultTableName,openType:t.openType,exeColumns:this.pre_str_column.join(","),isRoleTable:l};(0,i.getMaxMinColumn)(d).then((function(t){e.layeringLoading=!1,null==t.data?e.$message.error("获取数据列的区间值失败"):t.data.isError?e.$message.error(t.data.message):e.dict_map=t.data.map_range})).catch((function(){e.layeringLoading=!1}))}}},empty_set:function(e){var t=this;if(this.hierarchy_column=e,this.items=[],this.keyId=0,this.items.push({id:this.keyId,c_col_1:"",c_col_2:""}),""!==e){var n=this.dict_map["max_"+e],i=this.dict_map["min_"+e];isNaN(parseInt(i))||isNaN(parseInt(n))?this.range="【最小值：空  ~  最大值：空】":this.range="【最小值："+i+" ~ 最大值："+n+"】",this.$nextTick((function(){var e=t.$refs.rangeCol.$el.clientWidth,n=t.$refs.rangeCol.$el.scrollWidth;n>e&&(t.rangeTip=!0)}))}else this.range=""},addRows:function(){5!==this.items.length&&(this.keyId=this.keyId+1,this.items.push({id:this.keyId,c_col_1:"",c_col_2:""}))},clickDel:function(e){this.items.splice(e,1)},saveSetting:function(){for(var e={hierarchy_column:this.hierarchy_column,hierarchy_map:[],dict_map:this.dict_map,columnsInfo:this.$parent.$parent.$parent.columnsInfoPre},t=0;t<this.items.length;t++){var n=this.items[t].c_col_1,i=this.items[t].c_col_2;e.hierarchy_map.push({c_col_1:n,c_col_2:i})}this.nodeData.setting=e},inputVerify:function(){var e=!0;if(""===this.hierarchy_column)return this.$message({type:"warning",message:"未选择分层字段"}),!1;var t=this.items.find((function(e){return""===e.c_col_1||""===e.c_col_2}));return"undefined"!==typeof t?(this.$message({type:"warning",message:"分层区间的输入值不能为空"}),e=!1,!1):e}}};t.default=a},"4c9b":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("d89f")),r=i(n("cc24")),o=i(n("9725")),s=i(n("37c9")),l={strict:!0,namespaced:!0,state:s.default,getters:r.default,mutations:o.default,actions:a.default};t.default=l},"4cce":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("198b0")),r={components:{Tree:a.default},data:function(){return{currentNavIndex:0,checkList:[],searchVal:"",selectVal:"",checkboxVal:"1",isBtnSearch:!0,isSearch:!1,isChildrenRender:!1,treeDataChildRender:[{label:"财务审计 - 其他",children:[{label:"财务审计 - 其他A"},{label:"财务审计 - 其他B"},{label:"财务审计 - 其他C"},{label:"财务审计 - 其他D"},{label:"财务审计 - 其他E"}]}],navList:[{name:"全行模型"},{name:"机构模型"},{name:"个人模型"},{name:"其他模型"},{name:"全行模型1"},{name:"机构模型1"},{name:"个人模型1"},{name:"其他模型1"},{name:"全行模型2"},{name:"机构模型2"}],treeData:[{label:"财务审计 - 其他",children:[{label:"财务审计 - 其他A"},{label:"财务审计 - 其他B"},{label:"财务审计 - 其他C"},{label:"财务审计 - 其他D"},{label:"财务审计 - 其他E"}]},{label:"财务审计 - 财务管理审计",childrenRender:[{label:"财务审计 - 财务管理审计A"},{label:"财务审计 - 财务管理审计B"}]},{label:"财务审计 - 经济效益审计",isBtn:!1},{label:"财务审计 - 经济效益审计",isBtn:!1},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"},{label:"财务审计 - 经济效益审计"}],defaultProps:{children:"children",label:"label"}}},computed:{tagCount:function(){return-1===this.currentNavIndex?4:3},renderStyle:function(){var e=this.$store.state.aceState.leftMenuShrink;if(!e)return{left:"480px"}}},methods:{select:function(e){this.currentNavIndex=e},nodeClick:function(e){e.childrenRender&&e.childrenRender.length?this.isChildrenRender=!0:this.isChildrenRender=!1}}};t.default=r},"4d49":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={logs:[]},a={ADD_ERROR_LOG:function(e,t){e.logs.push(t)},CLEAR_ERROR_LOG:function(e){e.logs.splice(0)}},r={addErrorLog:function(e,t){var n=e.commit;n("ADD_ERROR_LOG",t)},clearErrorLog:function(e){var t=e.commit;t("CLEAR_ERROR_LOG")}},o={namespaced:!0,state:i,mutations:a,actions:r};t.default=o},"4d4d":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"page-left"},[n("el-collapse",{staticClass:"tools-menu-small",attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-collapse-item",{attrs:{title:"审计作业",name:"1"}},["1"===e.activeName?n("el-tree",{ref:"tree",attrs:{data:e.moremenugroup["402883817586fc2a017586fd9e1a0001"],"node-key":"id","show-checkbox":"","check-strictly":e.defaultProps.checkStrictly,"highlight-current":"",props:e.defaultProps},on:{"check-change":e.handleCheckChange}}):e._e()],1),n("el-collapse-item",{attrs:{title:"审计分析",name:"2"}},["2"===e.activeName?n("el-tree",{ref:"tree",attrs:{data:e.moremenugroup["4028838175880ded01758835b393006b"],"node-key":"id","show-checkbox":"","check-strictly":e.defaultProps.checkStrictly,"highlight-current":"",props:e.defaultProps},on:{"check-change":e.handleCheckChange}}):e._e()],1),n("el-collapse-item",{attrs:{title:"审计资源",name:"3"}},["3"===e.activeName?n("el-tree",{ref:"tree",attrs:{data:e.moremenugroup["4028838175880ded01758816610b001a"],"node-key":"id","show-checkbox":"","check-strictly":e.defaultProps.checkStrictly,"highlight-current":"",props:e.defaultProps},on:{"check-change":e.handleCheckChange}}):e._e()],1),n("el-collapse-item",{attrs:{title:"系统配置",name:"4"}},["4"===e.activeName?n("el-tree",{ref:"tree",attrs:{data:e.moremenugroup["4028838175880ded01758828366f0046"],"node-key":"id","show-checkbox":"","check-strictly":e.defaultProps.checkStrictly,"highlight-current":"",props:e.defaultProps},on:{"check-change":e.handleCheckChange}}):e._e()],1)],1)],1),e.refreshRichText?n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"mytuieditor"},[n("wangeditor",{ref:"wangeditor",attrs:{content:e.richText},on:{retrieveData:e.retrieveData}}),n("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",disabled:e.canSave},on:{click:e.saveNew}},[e._v("保存")])],1):e._e()])},a=[]},"4da5":function(e,t,n){},"4df5":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-eye",use:"icon-eye-usage",viewBox:"0 0 128 64",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 64" id="icon-eye"><path d="M127.072 7.994c1.37-2.208.914-5.152-.914-6.87-2.056-1.717-4.797-1.226-6.396.982-.229.245-25.586 32.382-55.74 32.382-29.24 0-55.74-32.382-55.968-32.627-1.6-1.963-4.57-2.208-6.397-.49C-.17 3.086-.399 6.275 1.2 8.238c.457.736 5.94 7.36 14.62 14.72L4.17 35.96c-1.828 1.963-1.6 5.152.228 6.87.457.98 1.6 1.471 2.742 1.471s2.284-.49 3.198-1.472l12.564-13.983c5.94 4.416 13.021 8.587 20.788 11.53l-4.797 17.418c-.685 2.699.686 5.397 3.198 6.133h1.37c2.057 0 3.884-1.472 4.341-3.68L52.6 42.83c3.655.736 7.538 1.227 11.422 1.227 3.883 0 7.767-.49 11.422-1.227l4.797 17.173c.457 2.208 2.513 3.68 4.34 3.68.457 0 .914 0 1.143-.246 2.513-.736 3.883-3.434 3.198-6.133l-4.797-17.172c7.767-2.944 14.848-7.114 20.788-11.53l12.336 13.738c.913.981 2.056 1.472 3.198 1.472s2.284-.49 3.198-1.472c1.828-1.963 1.828-4.906.228-6.87l-11.65-13.001c9.366-7.36 14.849-14.474 14.849-14.474z" /></symbol>'});o.a.add(s);t["default"]=s},"4e0a":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("0b05")),r=i(n("d0f7")),o=n("914d"),s={components:{LeftMenu:a.default,RightFooter:r.default},data:function(){return{showHelpHeight:!1,loading:!1}},computed:{isShowRightFooter:function(){return this.$store.state.aceState.rightFooterTags.length>0}},created:function(){var e=this;sessionStorage.getItem("store")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",(function(){sessionStorage.setItem("store",JSON.stringify(e.$store.state))}))},methods:{getHelp:function(){var e=this,t=[];t.push({menuPath:this.$route.fullPath}),this.loading=!0,this.showHelpHeight=!0,(0,o.getHelpByMenuPath)(t[0]).then((function(t){0===t.code&&null!==t.data?(""!==t.data.helpDocument?document.getElementById("readonlyChild").innerHTML=t.data.helpDocument:document.getElementById("readonlyChild").innerHTML="<p>暂无新手引导</p>",e.loading=!1):0===t.code&&null===t.data&&(document.getElementById("readonlyChild").innerHTML="<p>暂无新手引导</p>",e.loading=!1)}))}}};t.default=s},"4e34":function(e,t,n){"use strict";n("21c8")},"4e3f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGQAAAADfVVwdAAACI0lEQVRIDe1WT0hUQRj/fatRCUISQVZkVEZ4EaRLEFEdioIuXQJzoVOKsMegKHDR2oPtIbBDB7t0qg6dIi+B60JBRViBIEJgqSeR0KBgd9+Mv1lfzht1dlde3vrgx3zz/fl9b755b94IKFrrPRzqjP4PJRCReUOeJbZKsgk+cTvxjThM/CQ6iSFilDC+ONJeH2Yf4DhA7CK6iX3EbqKPiCXC3qTIcDwWiz950qzgLHHGHxPLkzMFGommWDT+5EazyVsq/wtUbe9mW/SZjONVWSMBfz+0iMmrfkf3zR5skyIeDb5kVIs3MuKofQULC32YnT2C6R/HsLR0N8JRUa21QB7J1AxPRoHiqdvVM03WfEXm0FlLAYV3n+4DqhkaF5h3GiXVgi8Taeoq5PEOtRQYRia7o8wgioeg3lvWb/Xv5DjsZQ4d1Qos4sHDp1DaHCeuiDRh6PETGhddhzurXKBQyGD0vTnKN5aRsYNQ6t7GzhWrKfDREzCFZO9btqTCq6y3I3kjz/wpD8cHMQ7+E0wL3NXcyTRg/Os5J1Hr6xD8BuTFql0SCqdOvsHtVGHVtqIo/pN/lQuscZSn+uLV81TMZcBKPQ5BJ4oI1Jw1UquTOXn1LOfYwon71KFRX+o0X6lLbnwB2lAKWsMwOwR6v77S1WwNVltXQKfTCW5chw2JaBqvIZKLWKz6p3DCTqy2rkXcD8Hla0chenP3pJIqyshzcztxZBll+OUQxQSf8gAAAABJRU5ErkJggg=="},"4e44":function(e,t,n){"use strict";n("b373")},"4e55":function(e,t,n){"use strict";n.r(t);var i=n("ad10"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"4e81":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPage=s,t.save=l,t.update=u,t.del=c,t.inItCode=d,t.saveSecond=h,t.updateSecond=f,t.delSecond=p,t.loadchildnodeOne=m;var a=i(n("b775")),r="/base",o="zhBaseDataSortInfo";function s(e){return(0,a.default)({baseURL:r,url:"/zhBaseDataSortInfo/selectPage",method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}function d(e){return(0,a.default)({baseURL:r,url:"/zhBaseCodeInfo/search",method:"post",data:e})}function h(e){return(0,a.default)({baseURL:r,url:"/zhBaseCodeInfo/save",method:"post",data:e})}function f(e){return(0,a.default)({baseURL:r,url:"/zhBaseCodeInfo/update",method:"put",data:e})}function p(e){return(0,a.default)({baseURL:r,url:"/zhBaseCodeInfo/delete",method:"delete",data:e})}function m(e){return(0,a.default)({baseURL:r,url:"/zhBaseCodeInfo/search",method:"post",data:e})}},"4eea":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-list-container"},[n("div",{staticClass:"tree"},[n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",[e.isTreeShow?n("dataTree",{ref:"dataTree",attrs:{"data-user-id":e.directyDataUserId,"scene-code":e.directySceneCode},on:{"node-click":e.nodeclick}}):e._e()],1)],1)],1),n("div",{staticClass:"divContent"},[n("BaseDirectoryList",{ref:"listData",attrs:{"data-user-id":e.directyDataUserId,"scene-code":e.directySceneCode},on:{"append-node":e.appendnode,remove:e.remove,refresh:e.refresh}})],1)])},a=[]},"4ef7":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("94f4")),r=i(n("17bb")),o=i(n("66aa")),s=i(n("5e97")),l={strict:!0,namespaced:!0,state:s.default,getters:r.default,mutations:o.default,actions:a.default};t.default=l},"4ef7d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAGgUlEQVR4Xu3cwUoDQRBF0fSXG798JKAQ3IZTWOa6c+Hr5rR3O+e6ruvWjxL4POfc1fhj97qux/6HPOOdt0+B0OcvEMrrxwvEGheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvl4glrhArC9fLxBLXCDWl68XiCUuEOvL1wvEEheI9eXrBWKJC8T68vUCscQFYn35eoFY4gKxvny9QCxxgVhfvv4I5P59ynW73c7Tia/+zi+/4YBzzo8vue7T+5H9d//feA5CAredwEqBAln5bF16SqBApqQ7Z6VAgax8ti49JVAgU9Kds1KgQFY+W5eeEiiQKenOWSlQICufrUtPCRTIlHTnrBQokJXP1qWnBApkSrpzVgoUyMpn69JTAgUyJd05KwUKZOWzdekpgQKZku6clQIFsvLZuvSUQIFMSXfOSoECWflsXXpKoECmpDtnpUCBrHy2Lj0lUCBT0p2zUqBAVj5bl54SKJAp6c5ZKVAgK5+tS08JPH84burMV875/TG7V7ZG/vaffDhuxOovHtKnR+2r9OlR68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL18vEEtcINaXrxeIJS4Q68vXC8QSF4j15esFYokLxPry9QKxxAViffl6gVjiArG+fL1ALHGBWF++XiCWuECsL1//Ak1sNmU3LqpLAAAAAElFTkSuQmCC"},"4f07":function(t,n,i){"use strict";var a=i("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i("c5f6");var r=a(i("e344")),o=i("8ebc"),s={name:"AnalysisDetailData",components:{ChildTabCons:r.default},data:function(){return{detailTableName:"0",tableArr:[],comparisonLoading:!1,loadText:"页面加载中，请稍后……"}},props:["dataTableName","openType","columnVal"],mounted:function(){this.initWebsocket(),this.initData()},methods:{initData:function(){var t=this,n={dataTableName:this.dataTableName,columnVal:this.columnVal,openType:this.openType};this.comparisonLoading=!0,(0,o.getAnalysisTableInfo)(n).then((function(n){try{if(n.data.isError)t.comparisonLoading=!1,t.$message.error("获取数据表详细数据出错：".concat(n.data.message));else{for(var i=0;i<n.data.resList.length;i++){var a=n.data.resList[i];t.tableArr.push({id:a.id,index:"".concat(i),name:a.nodeName,tableName:a.tableName,columnName:a.columnName,resultTable:{id:a.id,name:a.nodeName},loadData:!1})}t.$nextTick((function(){var e={id:t.tableArr[0].id,detailTableName:t.tableArr[0].tableName,columnName:t.tableArr[0].columnName,columnVal:t.columnVal,openType:t.openType};t.loadTableData(e)}))}}catch(e){t.comparisonLoading=!1,t.$message.error("页面加载出错")}})).catch((function(){t.comparisonLoading=!1}))},loadTableData:function(e){var t=this;this.comparisonLoading||(this.comparisonLoading=!0),this.loadText="数据请求中，请稍后……",(0,o.getAnalysisDataDetail)(e).then((function(e){})).catch((function(){t.comparisonLoading=!1}))},clickTab:function(){if(!this.tableArr[Number(this.detailTableName)].loadData){var e={id:this.tableArr[Number(this.detailTableName)].id,detailTableName:this.tableArr[Number(this.detailTableName)].tableName,columnName:this.tableArr[Number(this.detailTableName)].columnName,columnVal:this.columnVal,openType:this.openType};this.loadTableData(e)}},initWebsocket:function(){var e=this,t="ws://"+window.location.host+":"+window.location.port+"/websocket?"+this.$store.state.user.id+"graph_comparison";this.webSocket=new WebSocket(t),this.webSocket.onmessage=function(t){var n=JSON.parse(t.data),i=n.executeSQL,a=e.tableArr[Number(e.detailTableName)];i.id===a.id&&(e.comparisonLoading=!1,"2"===i.state?(a.loadData=!0,e.$refs.childTabCons[Number(e.detailTableName)].initData(null,n,null)):e.$message.error("数据请求失败：".concat(i.msg)))},this.webSocket.onerror=function(t){e.$message.error("数据请求失败")}}}};n.default=s},"4f079":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var a=i(n("e858")),r=n("abfa"),o={name:"Thresholdvaluetree",components:{MyElTree:a.default},props:["isShowEdit"],data:function(){return{filterText:null,data:[],defaultProps:{children:"children",label:"label"},selectTreeNode:{},operationType:0,dialogFormVisible:!1,form:{thresholdValueFolderUuid:"",thresholdValueFolderName:"",parentUuid:"",folderPath:"",scope:""},checkedId:""}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){this.getThresholdValueFolder()},methods:{handleNodeClick1:function(e,t,n){!0===t?(this.checkedId=e.id,this.$refs.tree.setCheckedKeys([e.id])):this.checkedId==e.id&&this.$refs.tree.setCheckedKeys([e.id])},getThresholdValueFolder:function(){var e=this;(0,r.findThresholdValueFolderTree)(!0).then((function(t){e.data=t.data})).catch((function(t){e.$message({type:"error",message:"阈值分类树加载失败!"})}))},deleteThresholdValueData:function(e){for(var t=0;t<e.children.length;t++)"model"==e.children[t].type?e.children[t].isShow=!1:deleteModelData(e.children[t])},handleNodeClick:function(e){this.selectTreeNode=e,"model"===e.type||(this.$emit("refreshThresholdvalueList",e),this.$emit("thresholdValueClick",e))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},setSelectTreeNode:function(e,t,n){this.operationType=n,this.selectTreeNode=t,2===n&&(this.form.thresholdValueFolderName=this.selectTreeNode.label),this.dialogFormVisible=!0},clearForm:function(){this.form={modelFolderUuid:"",modelFolderName:"",parentUuid:"",folderSort:"",folderPath:"",pbScope:""}},getGuuid:function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var i=e.join("");return i},enterBtn:function(){1===this.operationType?this.addThresholdValueFolder():this.updateFolder()},addThresholdValueFolder:function(){var e=this;this.form.thresholdValueFolderUuid=this.getGuuid(),this.form.parentUuid=this.selectTreeNode.id;var t=this.$refs.tree.getNodePath(this.selectTreeNode),n=[];t.forEach((function(e){n.push(e.id)})),this.form.folderPath=n.join("/")+"/"+this.form.thresholdValueFolderUuid,this.form.scope=this.selectTreeNode.extMap.scope,(0,r.addThresholdValueFolder)(this.form).then((function(t){if(null!=t&&0===t.code){var n={id:e.form.thresholdValueFolderUuid,label:e.form.thresholdValueFolderName,children:[],pid:e.selectTreeNode.id,icon:"el-icon-folder",extMap:{scope:e.selectTreeNode.extMap.pbScope},type:"folder"};e.selectTreeNode.children||e.$set(e.selectTreeNode,"children",[]),e.selectTreeNode.children.push(n),e.clearData()}else e.$message({type:"error",message:"添加失败!"})})),this.dialogFormVisible=!1},updateFolder:function(){var e=this;this.form.thresholdValueFolderUuid=this.selectTreeNode.id,this.form.parentUuid=null,this.form.folderPath=null,this.form.scope=null,(0,r.updateThresholdValueFolder)(this.form).then((function(t){0===t.code&&e.getThresholdValueFolder()})),this.dialogFormVisible=!1},deleteFolder:function(e,t){var n=this;"0"!==t.pid?void 0!==t.children&&0===t.children.length||void 0===t.children?this.$confirm("此操作将永久删除该阈值, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,r.deleteThresholdValueData)(t.id).then((function(e){0===e.code&&(n.getThresholdValueFolder(),n.$message({type:"success",message:"删除成功!"}))}))})):this.$message({success:"error",message:"该分类下有分类或阈值，不允许删除"}):this.$message({success:"info",message:"根目录不允许删除"})},getSelectNode:function(){return this.selectTreeNode},clearData:function(){this.form={thresholdValueFolderUuid:"",thresholdValueFolderName:"",parentUuid:"",folderPath:"",scope:""}}}};t.default=o},"4f3a":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"auto","padding-left":"35px"}},[n("el-row",{staticStyle:{height:"30px","line-height":"30px",color:"red",margin:"10px 0"}},[e._v("注：字段的排序顺序是由选择字段时的前后顺序决定")]),n("el-transfer",{attrs:{filterable:"","filter-placeholder":"请输入搜索内容","target-order":"push",data:e.columnData,titles:["可选字段","排序字段"]},on:{change:e.changeSortData},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.option;return n("span",{},[i.showSort?e._e():n("el-row",[e._v(e._s(i.label))]),i.showSort?n("el-row",[i.isTip?n("el-col",{ref:"sortCol",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:14,dataKey:i.key}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.label,placement:"top"}},[n("span",[e._v(e._s(i.label))])])],1):e._e(),i.isTip?e._e():n("el-col",{ref:"sortCol",attrs:{span:14}},[e._v(e._s(i.label))]),n("el-col",{attrs:{span:10}},[i.showSort?n("el-radio",{attrs:{label:"ASC"},model:{value:i.sortType,callback:function(t){e.$set(i,"sortType",t)},expression:"option.sortType"}},[e._v("升序")]):e._e(),i.showSort?n("el-radio",{attrs:{label:"DESC"},model:{value:i.sortType,callback:function(t){e.$set(i,"sortType",t)},expression:"option.sortType"}},[e._v("降序")]):e._e()],1)],1):e._e()],1)}}]),model:{value:e.columnDataValue,callback:function(t){e.columnDataValue=t},expression:"columnDataValue"}})],1)},a=[]},"4f59":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("28a5"),n("a481"),n("7514"),n("7f7f"),n("5df3"),n("1c4c");var i={name:"FilterSet",data:function(){return{allColumnArr:[],zTreeObj_Filter:null,connType:"and",quotes:!0,quotesDisabled:!0,blankSpace:!1,showConnValue:!0,selectColms:[],select_colms:"",select_cz:"",selectCzArr:[{value:"=",name:"等于"},{value:"!=",name:"不等于"},{value:">",name:"大于"},{value:">=",name:"大于等于"},{value:"<",name:"小于"},{value:"<=",name:"小于等于"},{value:"like_star",name:"开头是"},{value:"like_end",name:"结尾是"},{value:"like_all",name:"包含"},{value:"not_like_all",name:"不包含"},{value:"in",name:"包含多个值"}],compareObj:"",compareArr:[{value:"value",name:"值"},{value:"column",name:"字段"}],compareObjDisabled:!1,compareColumnSel:"",compareColumnArr:[],conn_value:"",showMoreVal:!1}},props:["columnInfoArr","nodes"],mounted:function(){this.initSetting()},methods:{initSetting:function(){var e=this,t=this.initZtreeSetting();this.zTreeObj_Filter=$.fn.zTree.init($(this.$refs.filterZtree),t,this.nodes),Array.from(this.columnInfoArr,(function(t){var n=t.newColumnName,i="".concat(n,"(").concat(t.columnType,")");e.selectColms.push({newColumnName:n,displayName:i}),e.compareColumnArr.push({newColumnName:n,displayName:i}),e.allColumnArr.push(n)}))},setSelectColms:function(e){this.select_colms=e},setCompareColumnSel:function(e){this.compareColumnSel=e},initZtreeSetting:function(){var e=this;return{view:{selectedMulti:!0,showLine:!1},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pId",rootPId:null}},edit:{enable:!0,drag:{isCopy:!1,inner:!1,prev:!0,next:!0},showRemoveBtn:!1,showRenameBtn:!1},callback:{beforeDrag:function(e,t){for(var n=!0,i=0;i<t.length;i++)if(null!=t[i].pId&&""!==t[i].pId&&"undefined"!==typeof t[i].pId){n=!1;break}return n},beforeDrop:function(e,t,n,i){for(var a=!0,r=n.level,o=0;o<t.length;o++)if(t[o].level!==r){a=!1;break}return a},onDrop:function(t,n,i,a,r){for(var o=e.zTreeObj_Filter.getNodes(),s=0;s<o.length;s++){var l=o[s].realInfo.filter_conn_type;0===s?o[s].realInfo.showFilterConnType&&(o[s].realInfo.showFilterConnType=!1,o[s].name=o[s].name.substring(l.length+1,o[s].name.length),e.zTreeObj_Filter.updateNode(o[s])):o[s].realInfo.showFilterConnType||(o[s].realInfo.showFilterConnType=!0,o[s].name=l+" "+o[s].name,e.zTreeObj_Filter.updateNode(o[s])),e.updateChildrenNode(o[s],o[s].realInfo.showFilterConnType)}},onClick:function(t,n,i){i.realInfo&&(e.select_colms=i.realInfo.select_colms,e.select_cz=i.realInfo.select_cz,e.compareObj="undefined"===typeof i.realInfo.compareObj?"value":i.realInfo.compareObj,e.ompareColumnSel=i.realInfo.compareColumnSel,e.conn_value=i.realInfo.conn_value,e.connType=i.realInfo.filter_conn_type,e.quotes=i.realInfo.quotes,e.blankSpace=i.realInfo.blank_space)}}}},selectCzChange:function(e){switch(this.select_cz=e,e){case"in":this.showMoreVal=!0,this.quotes=!0,this.quotesDisabled=!0,this.compareObj="value",this.compareObjDisabled=!0,this.showConnValue=!0;break;case"like_star":case"like_end":case"like_all":case"not_like_all":this.showMoreVal=!1,this.quotes=!0,this.quotesDisabled=!0,this.compareObj="value",this.compareObjDisabled=!0,this.showConnValue=!0;break;case"=":case"!=":this.showMoreVal=!1,this.compareObjDisabled=!1,"value"===this.compareObj?(this.quotes=!0,this.quotesDisabled=!1):(this.quotes=!1,this.quotesDisabled=!0);break;case">":case">=":case"<":case"<=":this.showMoreVal=!1,this.quotes=!1,"value"===this.compareObj?this.quotesDisabled=!1:this.quotesDisabled=!0,this.compareObjDisabled=!1;break}},compareObjChange:function(e){this.compareObj=e,"value"===e?(this.showConnValue=!0,this.selectCzChange(this.select_cz)):(this.showConnValue=!1,this.compareColumnSel="",this.quotes=!1,this.quotesDisabled=!0)},saveSetting:function(){var e={whereStr:"",hasWhere:!0,columnArr:this.allColumnArr},t=this.zTreeObj_Filter.getNodes();return t&&t.length>0&&Array.from(t,(function(t){return e.whereStr+=" "+t.name})),e.whereStr=" WHERE "+e.whereStr,e.setting=t,e},verifySetting:function(){var e=this.zTreeObj_Filter.getNodes();return"undefined"!==typeof e&&("undefined"===typeof e||0!==e.length)||(this.$message({type:"warning",message:"未设置筛选条件"}),!1)},filter_ztree:function(e){var t=this,n=this.select_colms,i=this.select_cz,a=this.conn_value,r=this.connType,o=this.selectCzArr.find((function(e){return e.value===i})),s="",l=this.quotes,u=this.blankSpace,c=this.zTreeObj_Filter.getNodes(),d=this.compareObj,h=this.compareColumnSel;"undefined"===typeof c&&(c=[]);var f=!1,p=this.zTreeObj_Filter.getSelectedNodes(),m=null,g=this;switch(e){case"add":if(s=o.name,""===n)return void this.$message({type:"warning",message:"请选择筛选字段"});if(""===i)return void this.$message({type:"warning",message:"请选择筛选条件"});if("="!==i&&""===a&&"value"===d)return void this.$message({type:"warning",message:"".concat(s,"条件的筛选值不能为空")});if("column"===d&&""===$.trim(h))return void this.$message({type:"warning",message:"".concat(s,"条件的筛选值不能为空")});c.length>0&&(f=!0),m=this.switch_cz_f(i,n,a,r,f,l,u,d,h),this.zTreeObj_Filter.addNodes(null,m);break;case"edit":if(s=o.name,""===n)return void this.$message({type:"warning",message:"请选择筛选字段"});if(""===i)return void this.$message({type:"warning",message:"请选择筛选条件"});if("="!==i&&""===a&&"value"===d)return void this.$message({type:"warning",message:"".concat(s,"条件的筛选值不能为空")});if("column"===d&&""===$.trim(h))return void this.$message({type:"warning",message:"".concat(s,"条件的筛选值不能为空")});if(p.length>1)return void this.$message({type:"warning",message:"只能修改一个过滤条件"});if(p[0].children&&0!==p[0].children.length)return void this.$message({type:"warning",message:"不能修改合并条件"});if(1!==p.length)return void this.$message({type:"warning",message:"请选择一个待修改的筛选条件"});if(f=!(!p[0].realInfo||!p[0].realInfo.showFilterConnType),m=this.switch_cz_f(i,n,a,r,f,l,u,d,h),p[0].name=m.name,p[0].realInfo=m.realInfo,this.zTreeObj_Filter.updateNode(p[0]),null!=p[0].pId&&"undefined"!==typeof p[0].pId){var v=this.zTreeObj_Filter.getNodesByParam("id",p[0].pId,null);if(v&&v.length>0){v[0].children;var y="";$(v[0].children).each((function(e){y+=" "+this.name})),v[0].name=y,this.zTreeObj_Filter.updateNode(v[0])}}break;case"del":if(0===p.length)return void this.$message({type:"warning",message:"请选择待删除的筛选条件"});var b=!1;if($(p).each((function(e){null!=this.pId&&"undefined"!==typeof this.pId&&(b=!0)})),b)return void this.$message({type:"warning",message:"合并条件的子条件不可删除"});if(Array.from(p,(function(e){return t.zTreeObj_Filter.removeNode(e)})),c&&c.length>0){var A="";if(c[0].realInfo&&c[0].realInfo.showFilterConnType){A=c[0].realInfo.filter_conn_type,c[0].name=c[0].name.replace(A+" ",""),c[0].realInfo.showFilterConnType=!1,this.zTreeObj_Filter.updateNode(c[0]);var w=c[0].children;"undefined"!==typeof w&&w.length>0&&(A=w[0].realInfo.filter_conn_type,w[0].name=w[0].name.replace(A+" ",""),w[0].realInfo.showFilterConnType=!1,this.zTreeObj_Filter.updateNode(w[0]))}}break;case"addbrack":var x="";if(p.length>0&&null!=p[0].pId)return void this.$message({type:"warning",message:"该条件不能被合并"});if(p.length<2)return void this.$message({type:"warning",message:"请至少选择两个条件"});p=this.sortNode(p);var C=!1;x=p[0].realInfo.showFilterConnType?p[0].realInfo.filter_conn_type+" (":"(";var k=p[0].getIndex();$(p).each((function(e){0===e?this.realInfo.showFilterConnType?x+=this.name.split(this.realInfo.filter_conn_type+" ")[1]:(x+=this.name,C=!0):x+=" "+this.name,g.zTreeObj_Filter.removeNode(this)})),x+=")",m={id:(new UUIDGenerator).id,name:x,children:p,realInfo:{filter_conn_type:p[0].realInfo.filter_conn_type,showFilterConnType:p[0].realInfo.showFilterConnType}},C?this.zTreeObj_Filter.addNodes(null,0,m):this.zTreeObj_Filter.addNodes(null,k,m);break;case"delbrack":if(p.length>1)return void this.$message({type:"warning",message:"只能拆分一个条件"});var S=p[0]["children"];if("undefined"===typeof S||0===S.length)return void this.$message({type:"warning",message:"该条件不是合并条件，不能被拆分"});Array.from(S,(function(e){e.realInfo.showFilterConnType?t.zTreeObj_Filter.addNodes(null,e):t.zTreeObj_Filter.addNodes(null,0,e)})),this.zTreeObj_Filter.removeNode(p[0]);break}},sortNode:function(e){for(var t=0,n=1;n<e.length;n++){t=0;for(var i=0;i<=e.length-n;i++)parseInt(e[i].getIndex())>parseInt(e[t].getIndex())&&(t=i);var a=e[e.length-n];e[e.length-n]=e[t],e[t]=a}return e},updateChildrenNode:function(e,t){var n=e.children;if(n&&n.length>0){n=sortNode(n);var i=n[0].realInfo.filter_conn_type;n[0].realInfo.showFilterConnType&&!t&&(n[0].realInfo.showFilterConnType=!1,n[0].name=n[0].name.substring(i.length+1,n[0].name.length),this.zTreeObj_Filter.updateNode(n[0])),!n[0].realInfo.showFilterConnType&&t&&(n[0].realInfo.showFilterConnType=!0,n[0].name=i+" "+n[0].name,this.zTreeObj_Filter.updateNode(n[0])),this.updateChildrenNode(n[0],t)}},switch_cz_f:function(e,t,n,i,a,r,o,s,l){var u={},c=t;o&&(c="TRIM(".concat(c,")"));var d=c;if(a&&(d="".concat(i," ").concat(c)),"value"===s||"undefined"===typeof s){switch(e){case"like_star":u.name="".concat(d," like '").concat(n,"%'");break;case"like_end":u.name="".concat(d," like '%").concat(n,"'");break;case"like_all":u.name="".concat(d," like '%").concat(n,"%'");break;case"not_like_all":u.name="".concat(d," not like '%").concat(n,"%'");break;case"in":var h=n.split(","),f="";Array.from(h,(function(e){f=""===f?"'".concat(e,"'"):"".concat(f,",'").concat(e,"'")})),u.name="".concat(d," in (").concat(f,")");break;case"=":case"!=":case">":case">=":case"<":case"<=":u.name=r?"".concat(d," ").concat(e," '").concat(n,"'"):"".concat(d," ").concat(e," ").concat(n);break}if(""===n){var p="(".concat(c," = '' or ").concat(c," is null)");a&&(p="".concat(i," ").concat(p)),u.name=p}}else u.name="".concat(d," ").concat(e," ").concat(l);return u.id=(new UUIDGenerator).id,u.realInfo={select_colms:t,select_cz:e,conn_value:n,filter_conn_type:i,showFilterConnType:a,quotes:r,blank_space:o,compareObj:s,compareColumnSel:l},u}}};t.default=i},"4fe5":function(e,t,n){"use strict";n.r(t);var i=n("4f07"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"4fec":function(e,t,n){e.exports={theme:"#1890ff"}},5:function(e,t){},5048:function(e,t,n){},"504d":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("ac6a"),n("20d6");var a=i(n("333d")),r=n("64dc"),o=i(n("c164")),s={components:{Pagination:a.default,QueryField:o.default},data:function(){return{tableKey:"sceneUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"业务属性编码",name:"sceneCode",type:"text",value:""},{label:"业务场景名称",name:"sceneName",type:"fuzzyText"},{label:"创建时间",name:"createTime",type:"timePeriod"}],pageQuery:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},temp:{sceneUuid:void 0,sceneName:"",sceneCode:""},selections:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"修改业务场景",create:"新增业务场景"},dialogPvVisible:!1,rules:{sceneName:[{required:!0,message:"请填写业务场景名称",trigger:"change"}],sceneCode:[{required:!0,message:"请填写业务场景编码",trigger:"change"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,r.listByPage)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},formatCreateTime:function(e,t){var n=new Date(e.createTime),i=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();return i},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},resetTemp:function(){this.temp={sceneUuid:void 0,sceneName:"",sceneCode:""}},toEdit:function(){this.temp=Object.assign({},this.selections[0]),this.$router.push({path:"/data/sceneEdit",query:{sceneUuid:this.temp.sceneUuid,sceneName:this.temp.sceneName,sceneCode:this.temp.sceneCode}})},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(0,r.save)(e.temp).then((function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},handleUpdate:function(){var e=this;this.temp=Object.assign({},this.selections[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var n=Object.assign({},e.temp);(0,r.update)(n).then((function(){var t=e.list.findIndex((function(t){return t.sceneUuid===e.temp.sceneUuid}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},handleDelete:function(){var e=this,t=[];this.selections.forEach((function(e,n){t.push(e.sceneUuid)})),this.$confirm("确定删除场景?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){(0,r.del)(t.join(",")).then((function(){e.getList(),e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},handleSelectionChange:function(e){this.selections=e},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"}}};t.default=s},"50df":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"collapse"}},[n("div",{staticStyle:{padding:"10px 0",display:"flex","flex-wrap":"wrap"},attrs:{id:e.myId}})])},a=[]},5121:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"table table-bordered",attrs:{id:"paramTable"}},[n("thead",[n("tr",[n("th",{staticStyle:{"background-color":"#dfe6ec",color:"black"},attrs:{align:"center"}},[e._v(" 参数名称 ")]),n("th",{staticStyle:{"text-align":"center","background-color":"#dfe6ec",color:"black"},attrs:{align:"center",width:"400px"}},[e._v(" 默认值设置 ")]),n("th",{staticStyle:{"background-color":"#dfe6ec",color:"black"},attrs:{align:"center"}},[e._v(" 参数说明 ")])])]),n("tbody",{attrs:{id:"tbody"}},[n("tr",[n("th",{attrs:{align:"center"}}),n("th",{staticStyle:{"text-align":"center"},attrs:{width:"400px"}},[e._v("暂无数据")]),n("th",{attrs:{align:"center"}})])])])])}]},51211:function(e,t,n){},"513f":function(e,t,n){"use strict";n.r(t);var i=n("5121"),a=n("a1b7");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},5158:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{attrs:{type:"border-card"}},["modelRunResult"==e.useType?n("el-tab-pane",{attrs:{label:"modelRunResult"==e.useType?"主表":"结果1"}},[n("childtabconcopy",{attrs:{nowtable:e.maintable,"model-uuid":e.modelUuid,useType:e.useType}})],1):e._e(),e._l("modelRunResult"==e.useType?e.helptables:e.preValue,(function(t,i){return n("el-tab-pane",{key:i,attrs:{label:"modelRunResult"==e.useType?"辅表"+(i+1):"结果"+(i+1)}},[n("childtabconcopy",{ref:"child",refInFor:!0,attrs:{nowtable:t,prePersonalVal:t,useType:e.useType}})],1)}))],2)},a=[]},5199:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-list-container"},[[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{disabled:""},model:{value:e.projectSelect,callback:function(t){e.projectSelect=t},expression:"projectSelect"}})],1),n("el-col",{attrs:{span:18}},[n("span",{staticStyle:{color:"#4bc0f0"}},[e._v("请选择项目:")]),n("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择",filterable:!0},model:{value:e.dataUserId,callback:function(t){e.dataUserId=t},expression:"dataUserId"}},e._l(e.allProject,(function(e){return n("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1)],1)],n("el-col",{attrs:{span:24}},[e.divInfo?n("project-tabs",{ref:"projectTabs",attrs:{"data-user-id":e.dataUserId,"scene-code":e.sceneCode,"tab-show":e.tabShow},on:{"update:tabShow":function(t){e.tabShow=t},"update:tab-show":function(t){e.tabShow=t}}}):e._e()],1)],2)},a=[]},"51a1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-input",{staticClass:"tree-search",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("el-tree",{ref:"tree",attrs:{data:e.data,props:e.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[n("i",{class:i.icon}),e._v(e._s(i.name)+" ")]),n("span",[1==i.isDelete?n("el-button",{staticClass:"tree-line-btn",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.remove(i.id)}}},[n("svg-icon",{attrs:{"icon-class":"icon-delete-1"}})],1):e._e()],1)])}}])})],1)},a=[]},"51eb":function(e,t,n){"use strict";n.r(t);var i=n("a02b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"51ff":function(e,t,n){var i={"./bug.svg":"1779","./eye-open.svg":"d7ec","./eye.svg":"4df5","./fullscreen.svg":"9921","./icon-add-1.svg":"b3a5","./icon-add-2.svg":"e264","./icon-close-1.svg":"f8a4","./icon-close-2.svg":"ab38","./icon-close-3.svg":"b6a8","./icon-close-4.svg":"890f","./icon-confirm-1.svg":"2d52","./icon-confirm-2.svg":"401e","./icon-delete-1.svg":"f1af","./icon-delete-2.svg":"5cc4","./icon-edit-1.svg":"54e2","./icon-edit-2.svg":"afac","./icon-upload-1.svg":"da35","./icon-upload-2.svg":"29b7","./icon-view-1.svg":"97d4","./icon-view-2.svg":"1d90","./language.svg":"2580","./oper-add.svg":"7b94","./oper-delete.svg":"6cc7","./oper-edit.svg":"fe1d","./oper-export.svg":"ea47","./oper-import.svg":"aa05","./oper-more.svg":"f185","./oper-pause.svg":"4c15","./oper-setting.svg":"7e4f","./oper-share.svg":"f249","./oper-show.svg":"a4c6","./oper-start.svg":"a76a","./oper-stop.svg":"078c","./password.svg":"2a3d","./size.svg":"8644","./user.svg":"b3b5"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="51ff"},5202:function(e,t,n){var i={"./bkimg-q.png":"f29e","./bkimg.png":"bfe7","./chart_icon.png":"2f2d","./chartsIcon/barLabelRotation.png":"ecc0","./chartsIcon/bar_negative.png":"a41d","./chartsIcon/bar_simple.png":"1662","./chartsIcon/bar_stack.png":"213c","./chartsIcon/customHref.png":"a783","./chartsIcon/datav-border1.svg":"b8cc","./chartsIcon/datav-border10.jpg":"9bd2","./chartsIcon/datav-border11.jpg":"ab58","./chartsIcon/datav-border12.jpg":"b20f","./chartsIcon/datav-border13.jpg":"fd8a","./chartsIcon/datav-border2.jpg":"5a3b","./chartsIcon/datav-border3.jpg":"9ad0","./chartsIcon/datav-border4.jpg":"7ba0","./chartsIcon/datav-border5.jpg":"00a3","./chartsIcon/datav-border6.jpg":"f363","./chartsIcon/datav-border7.jpg":"ee57","./chartsIcon/datav-border8.jpg":"9ea7","./chartsIcon/datav-border9.jpg":"a08a","./chartsIcon/datav-decoration1.jpg":"0c20","./chartsIcon/datav-decoration10.jpg":"f6e4","./chartsIcon/datav-decoration11.jpg":"d0b6","./chartsIcon/datav-decoration2.jpg":"3d7a","./chartsIcon/datav-decoration3.jpg":"2152","./chartsIcon/datav-decoration4.jpg":"9310","./chartsIcon/datav-decoration5.jpg":"0695","./chartsIcon/datav-decoration6.jpg":"afc8","./chartsIcon/datav-decoration7.jpg":"55a5","./chartsIcon/datav-decoration8.jpg":"9bb8","./chartsIcon/datav-decoration9.jpg":"01cc","./chartsIcon/dev_placeholderBox.png":"c09a","./chartsIcon/digitalFlop.jpg":"a170","./chartsIcon/dom_container.png":"55cf","./chartsIcon/dom_iframe.png":"b219","./chartsIcon/dom_img.png":"1ecd","./chartsIcon/dom_slide.png":"c5d7","./chartsIcon/dom_table.png":"8f6b","./chartsIcon/dom_text.png":"4f67","./chartsIcon/force.png":"7193","./chartsIcon/gauge_simple.png":"2e18","./chartsIcon/line_bar.png":"9a549","./chartsIcon/line_mutil.png":"31ae","./chartsIcon/line_simple.png":"3f9f","./chartsIcon/map.png":"d94b","./chartsIcon/normalTitle.jpg":"43ce","./chartsIcon/pie_rose.png":"46bf","./chartsIcon/pie_simple.png":"0ca0","./chartsIcon/scatter.png":"e60f","./chartsIcon/scatter.svg":"dbfd","./chartsIcon/scrollBoard.jpg":"8fa6","./chartsIcon/wordcloud.jpg":"60bb","./dataSourceIcon/api_logo.png":"4d1a","./dataSourceIcon/dataSource_add.svg":"c30e","./dataSourceIcon/mysql_logo.svg":"9b72","./dataSourceIcon/oracle_logo.gif":"60c9","./dataSourceIcon/sql_server_logo.svg":"5ea0","./html.png":"ea51","./jquery.png":"d5d9","./logo.png":"f9c1","./mtIcon/font/font_1173705_wg9hwew4r3.eot":"2439","./mtIcon/font/font_1173705_wg9hwew4r3.svg":"5513","./mtIcon/font/font_1173705_wg9hwew4r3.ttf":"e22f","./mtIcon/font/font_1173705_wg9hwew4r3.woff":"7375","./mtIcon/font/font_1173705_wg9hwew4r3.woff2":"661b","./mtIcon/mtIcon.css":"f34c","./scaleBg.png":"c192","./styles/formItemCode.css":"0514","./styles/icon.css":"b9a7","./styles/index.scss":"feee","./styles/indexall.scss":"e556","./vue.png":"d322","./webpack.png":"a3376"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="5202"},5215:function(e,t,n){"use strict";n.r(t);var i=n("2cb4"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},5264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a481");var i={created:function(){var e=this.$route,t=e.params,n=e.query,i=t.path;this.$router.replace({path:"/"+i,query:n})},render:function(e){return e()}};t.default=i},"529d":function(e,t,n){"use strict";n("6c82")},"52f8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"BasicSetting",mounted:function(){this.init()},data:function(){return{nodeData:null,node_name:"",nodeExcuteStatus:"",statusDisabled:!0,nodeDescription:""}},methods:{init:function(){var e=this.$parent.$parent.$parent.graph;this.nodeData=e.nodeData[e.curCell.id];var t=this.$parent.$parent.$parent.columnsInfoPre,n=this.nodeData.parentIds;if(n.length>0)for(var i=0;i<n.length;i++){var a=e.nodeData[n[i]],r='"'+a.nodeInfo.nodeName+'"';if(a&&"newNullNode"===a.nodeInfo.optType&&!a.isSet){var o=a.parentIds;o&&o.length>0&&(a=e.nodeData[o[0]],r='"'+a.nodeInfo.nodeName+'"_'+r)}for(var s=a.nodeInfo.resultTableName,l=JSON.parse(JSON.stringify(a.columnsInfo)),u=0;u<l.length;u++)l[u].isOutputColumn&&(l[u].rtn=r,l[u].resourceTableName=s,l[u].nodeId=a.nodeInfo.nodeId,l[u].nullNodeId=n[i],t.push(l[u]))}this.init_basic()},init_basic:function(){this.node_name=this.nodeData.nodeInfo.nodeName,this.nodeExcuteStatus=this.conversion(this.nodeData.nodeInfo.nodeExcuteStatus),this.nodeDescription="undefined"===typeof this.nodeData.nodeInfo.nodeDescription?"":this.nodeData.nodeInfo.nodeDescription},save_base:function(){this.nodeData.nodeInfo.nodeName=this.node_name,this.nodeData.nodeInfo.nodeDescription=this.nodeDescription},conversion:function(e){if("undefined"===typeof e)return"未执行";var t="";switch(e){case 1:t="未执行";break;case 2:t="执行中";break;case 3:t="执行成功";break;case 4:t="执行失败";break}return t},basicInfoVerify:function(){var e=this.node_name;return""!==e||(this.$message({type:"warning",message:"请输入节点名称"}),!1)}}};t.default=i},"530b":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vqb-children"},e._l(e.query.children,(function(t,i){return n(e.getComponent(t.type),{key:i,tag:"component",attrs:{type:t.type,query:t.query,"rule-types":e.ruleTypes,rules:e.rules,rule:e.$parent.ruleById(t.query.rule),index:i,"max-depth":e.maxDepth,depth:e.depth+1,labels:e.labels},on:{"update:query":function(n){return e.$set(t,"query",n)},"child-deletion-requested":e.$parent.removeChild}})})),1)},a=[]},5367:function(e,t,n){},5372:function(e,t,n){"use strict";n("eb78")},5386:function(e,t,n){"use strict";n.r(t);var i=n("33ac"),a=n("35d9");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("fdf2");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"09afcc1e",null);t["default"]=s.exports},"538e":function(e,t,n){"use strict";n("4832")},"53cf":function(e,t,n){"use strict";n.r(t);var i=n("dc97"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"53f2":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e0d1")),r=i(n("445c")),o=i(n("7f2f")),s=n("9ac2"),l=(n("c72e"),{name:"EditModel",components:{ModelFolderTree:o.default,dataTree:a.default,myQueryBuilder:r.default},props:["columns","treeId","data","operationtype"],data:function(){return{tableData:[{modelDetailName:"111",modelDetailMemo:"11111111",relationType:1,relationObjectUuid:"3333",relationObjectName:"5555"}],form:{modelRelationUuid:"",modelUuid:"",modelDetailName:"",modelDetailMemo:"",relationType:"",relationObjectUuid:"",relationObjectName:"",modelDetailConfig:[]},queryBuilderJson:{},inputValue:{},inputValueJson:{},dataUserId:this.$store.getters.personcode,sceneCode:"auditor",ModelTreeDialog:!1,modelTreeLoading:!1,dataTableTree:!1,dataTableTreeLoading:!1,relModelTable:[],relModelParam:[],queryBuilderDialogVisible:!1,queryRules:{},relTable:[],isBanEdit:!1,relTableColumn:[],currentFilterInputId:"",rules:{modelDetailName:[{type:"string",required:!0,message:"请输入详细名称",trigger:"blur"}],relationType:[{required:!0,message:"请选择关联类型",trigger:"change"}]}}},created:function(){},mounted:function(){this.initData()},methods:{initData:function(){if(0!=this.data.length){if(this.form=this.data,1==this.data.relationType&&(this.$refs.relModelDivParent.style="block",this.$refs.relModelTableDiv.style="block",this.loadParamInfo(this.data.relationObjectUuid),this.relModelTable=this.data.modelDetailConfig),2==this.data.relationType){this.$refs.relTableDivParent.style="block",this.$refs.relTableDiv.style="block",this.loadTableCol(this.data.relationObjectUuid);for(var e=0;e<this.data.modelDetailConfig.length;e++)this.inputValue[this.data.modelDetailConfig[e].modelDetailConfigUuid]=this.data.modelDetailConfig[e].relFilterValue,this.inputValueJson[this.data.modelDetailConfig[e].modelDetailConfigUuid]=this.data.modelDetailConfig[e].relFilterValueJson;this.relTable=this.data.modelDetailConfig,this.setQueryBuilderColumn()}3==this.operationtype&&(this.isBanEdit=!0)}},getObj:function(){var e=!1;if(this.$refs["basicInfoForm"].validate((function(t){t&&(e=t)})),!e)return{verResult:!1,treeId:this.treeId,message:"输入信息不全,添加失败！"};if(1==this.$refs.relTypeSelect.value){var t=this.$refs.relModelTable.data;if(this.relModelParam.length!=t.length)return this.relModelParam.length<t.length?{verResult:!1,treeId:this.treeId,message:"关联模型的关联参数重复"}:{verResult:!1,treeId:this.treeId,message:"关联配置必须包含被关联模型的所有参数"};for(var n=!0,i=[],a=0;a<this.relModelParam.length;a++)i.push(this.relModelParam[a].ammParamUuid);for(var r=0;r<t.length;r++)-1==i.indexOf(t[r].ammParamUuid)&&(n=!1);if(!n)return{verResult:!1,treeId:this.treeId,message:"关联模型的关联参数重复"};if(0===this.$refs.relModelTable.data.length)return{verResult:!1,treeId:this.treeId,message:"请选择关联的模型或表"};this.form.modelDetailConfig=this.$refs.relModelTable.data}else if(2==this.$refs.relTypeSelect.value){if(0==this.$refs.relTable.data.length)return{verResult:!1,treeId:this.treeId,message:"关联表必须设置过滤条件"};this.form.modelDetailConfig=this.$refs.relTable.data}return this.form},addRelFilter:function(e){if(1==e)this.relModelTable.push({});else{var t=(new Date).getTime();this.relTable.push({modelDetailConfigUuid:t,noShow:!1})}},loadTableCol:function(e){var t=this;(0,s.getTableCol)(e).then((function(e){null!=e.data?(t.relTableColumn=e.data,t.$refs.relTableDiv.style.display="block",t.setQueryBuilderColumn()):t.$message({type:"info",message:"加载数据表列失败!"})}))},relTypeSelectChange:function(e){1==e?(this.$refs.relTableDivParent.style.display="none",this.$refs.relModelDivParent.style.display="block",this.$refs.relTableDiv.style.display="none"):2==e&&(this.$refs.relModelDivParent.style.display="none",this.$refs.relTableDivParent.style.display="block",this.$refs.relModelTableDiv.style.display="none"),this.relTable=[],this.relModelTable=[],this.form.relationObjectName="",this.form.relationObjectUuid=""},deleteRow:function(e,t){t.splice(e,1)},nameValueChange:function(e){this.$emit("updateTreeNode",e)},selectModel:function(){this.ModelTreeDialog=!0},getSelectModel:function(){var e=this.$refs.modelFolderTree.getSelectNode();"model"==e.type?(this.modelTreeLoading=!0,this.loadParamInfo(e.id)):this.$message({type:"info",message:"请选择模型!"})},loadParamInfo:function(e){var t=this;(0,s.selectModel)(e).then((function(e){t.modelTreeLoading=!1,null!=e.data?0!=e.data.parammModelRel.length?(t.ModelTreeDialog=!1,t.relModelParam=e.data.parammModelRel,t.form.relationObjectUuid=e.data.modelUuid,t.form.relationObjectName=e.data.modelName,t.$refs.relModelTableDiv.style="block"):t.$message({type:"info",message:"该模型没有参数,请重新选择!"}):t.$message({type:"error",message:"获取模型信息失败!"})}))},setQueryBuilderColumn:function(){for(var e=[],t=0;t<this.relTableColumn.length;t++){var n={};n.columnType=this.relTableColumn[t].dataType,null==this.relTableColumn[t].chnName||""===this.relTableColumn[t].chnName?n.columnName=this.relTableColumn[t].colName:n.columnName=this.relTableColumn[t].chnName,e.push(n)}this.queryRules.columnList=e},showDataTree:function(){this.dataTableTree=!0},getDataTable:function(){var e=this.$refs.dataTableTree.getTree(),t=e.getCurrentNode();"table"==t.type?(this.loadTableCol(t.id),this.form.relationObjectName=t.label,this.form.relationObjectUuid=t.id,this.dataTableTree=!1):this.$message({type:"info",message:"请选择数据表!"})},openQueryBuilder:function(e){void 0!=this.inputValueJson[e]&&(this.queryBuilderJson=JSON.parse(this.inputValueJson[e])),this.queryBuilderDialogVisible=!0,this.currentFilterInputId=e},queryCondition:function(){var e=this.$refs.myQueryBuilder.getSelectSql();this.queryBuilderDialogVisible=!1,this.setFilter(e.sql,JSON.stringify(e.queryJson))},setFilter:function(e,t){this.inputValue[this.currentFilterInputId]=e,this.inputValueJson[this.currentFilterInputId]=t,this.relTable.push({modelDetailConfigUuid:1,noShow:!0})}}});t.default=l},5403:function(e,t,n){"use strict";n.r(t);var i=n("b32d"),a=n("40f1");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"547e":function(e,t,n){"use strict";var i=n("dbce"),a=n("4ea4");n("8e6e"),Object.defineProperty(t,"__esModule",{value:!0}),t.init=m,t.initSqlEditor=w,t.replaceParam=x,t.initSetting=S,t.getOptMessage=I,t.getParamsSetting=D,t.sendSettingVue=void 0,n("20d6");var r=a(n("9523"));n("96cf"),n("7514"),n("ac6a"),n("456d"),n("7f7f");var o=a(n("c973")),s=n("6026"),l=i(n("0217")),u=n("8ebc");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=n("cf87"),f=null,p=function(e){f=e};function m(e){g(e),y()}function g(e){return v.apply(this,arguments)}function v(){return v=(0,o.default)(regeneratorRuntime.mark((function e(t){var i,a,r,o,s,l,c,d,h,p,m,g,v,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=!1,a="",r=f.graph.nodeData[t].nodeInfo.nodeName,o=f.graph.nodeData[t].nodeInfo.optType,s=f.graph.nodeData[t].nodeInfo.nodeExcuteStatus,l=!1,c=[],3!==s){e.next=12;break}l=graph.nodeData[t].nodeInfo.hasSign,c=f.graph.nodeData[t].columnsInfo,e.next=39;break;case 12:d=null,h={nodeData:JSON.stringify(f.graph.nodeData),nodeId:t,optType:o,openType:f.graph.openType},p=function(e){if(e.data.isError)i=!0,a="SQL语句解析失败：".concat(e.data.message);else{var n=e.data.hasSign,r=e.data.hasFunOutPut;n?(i=!0,a="无法解析节点的输出字段信息，请先执行节点"):(l=n||r,graph.nodeData[t].nodeInfo.hasSign=l,c=e.data.columnsInfo,f.graph.nodeData[t].tempColumnsInfo=e.data.columnsInfo)}},e.t0=o,e.next="sql"===e.t0?18:"filter"===e.t0||"sort"===e.t0||"layering"===e.t0||"groupCount"===e.t0||"delRepeat"===e.t0||"change"===e.t0||"relation"===e.t0?34:39;break;case 18:if(!f.graph.nodeData[t].sqlIsChanged){e.next=25;break}return e.next=21,(0,u.verifySqlNodeSelectOption)(h);case 21:d=e.sent,p(d),e.next=33;break;case 25:if(!("undefined"!==typeof f.graph.nodeData[t].tempColumnsInfo&&f.graph.nodeData[t].tempColumnsInfo.length>0)){e.next=29;break}c=f.graph.nodeData[t].tempColumnsInfo,e.next=33;break;case 29:return e.next=31,(0,u.verifySqlNodeSelectOption)(h);case 31:d=e.sent,p(d);case 33:return e.abrupt("break",39);case 34:return e.next=36,(0,u.verifySqlNodeSelectOption)(h);case 36:return d=e.sent,d.data.isError?(i=!0,a="获取节点输出字段信息失败：".concat(d.data.message)):(l=d.data.hasFunOutPut,c=f.graph.nodeData[t].columnsInfo),e.abrupt("break",39);case 39:if(i){e.next=68;break}f.nodeZtreeSetting={data:{key:{checked:"isChecked",name:"name",title:"displayName"},simpleData:{enable:!0}},check:{enable:!1,chkStyle:"radio",radioType:"all"},view:{selectedMulti:!1},edit:{enable:!0,showRenameBtn:!1,showRemoveBtn:!1,drag:{autoExpandTrigger:!1,prev:!1,inner:!1,next:!1}},callback:{onDrop:function(e,t,n){if(A()){var i=n[0].name,a=f.editor.getCursor();f.editor.replaceRange(i,a,a)}},beforeDrag:function(e,t){t[0];return!t[0]||"column"===t[0].type}}},m=(new UUIDGenerator).id,f.nodeZtreeRoot={id:m,pid:null,name:r,displayName:r,level:1,open:!0,isParent:!0,type:"node",children:[]},g=n("0a64"),v=0;case 45:if(!(v<c.length)){e.next=65;break}if(1!==c[v].isOutputColumn){e.next=62;break}y={id:(new UUIDGenerator).id,pid:m,level:2,open:!1,isParent:!1,type:"column",icon:g},e.t1=o,e.next="sql"===e.t1||"filter"===e.t1||"sort"===e.t1||"layering"===e.t1||"groupCount"===e.t1||"delRepeat"===e.t1||"change"===e.t1?51:"relation"===e.t1?55:"sample"===e.t1||"union"===e.t1?58:62;break;case 51:return y.name=l?c[v].newColumnName:c[v].columnName,y.displayName=c[v].newColumnName,f.nodeZtreeRoot.children.push(y),e.abrupt("break",62);case 55:return l?(y.name=c[v].newColumnName,y.displayName=c[v].newColumnName):(y.name=c[v].tableAlias+"."+c[v].columnName,y.displayName=c[v].tableAlias+"."+c[v].newColumnName),f.nodeZtreeRoot.children.push(y),e.abrupt("break",62);case 58:return y.name=c[v].newColumnName,y.displayName=c[v].newColumnName,f.nodeZtreeRoot.children.push(y),e.abrupt("break",62);case 62:v++,e.next=45;break;case 65:0===f.nodeZtreeRoot.children.length?f.$message({type:"warning",message:"当前节点无可使用输出字段，请重新执行节点"}):(f.nodeZtreeObj=$.fn.zTree.init($("#nodeZtree"),f.nodeZtreeSetting,[f.nodeZtreeRoot]),f.initTreeSuccess=!0),e.next=69;break;case 68:f.$message.error(a);case 69:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function y(){var e={data:{key:{checked:"isChecked",name:"name",title:"displayName"},simpleData:{enable:!0,idKey:"id",PidKey:"pid"}},check:{enable:!1},view:{selectedMulti:!1},callback:{onDrop:function(e,t,n){if(A()){var i=(new UUIDGenerator).id,a="{#"+i+"#}",r=f.editor.getCursor();f.editor.replaceRange(a,r,r);var o=$("<button class='divEditorBtn' id='"+a+"'>"+n[0].name+"</buttonn>").get(0),s={ch:r.ch+a.length,line:r.line,sticky:null};f.editor.markText(r,s,{replacedWith:o,className:"paramBlock"});var l={id:a,copyParamId:i,moduleParamId:n[0].id,allowedNull:n[0].extCol,name:n[0].name};0===Object.keys(f.paramsSetting).length&&(f.paramsSetting.arr=[]),f.paramsSetting.arr.push(l);var u={id:a,opt:1};f.paramDivArr.push(u)}},beforeDrag:function(e,t){var n=t[0];if("paramNode"!==n.type)return!1},onExpand:function(e,t,n){n.children&&0!==n.children.length||b(n)}},edit:{enable:!0,showRenameBtn:!1,showRemoveBtn:!1,drag:{prev:!1,next:!1,inner:!1}}};(0,s.getParamsTree)().then((function(t){f.paramZtreeObj=$.fn.zTree.init($("#paramZtree"),e,t.data.paramNode)}))}function b(e){var t={id:e.id,type:e.type,level:e.level,isPersonalParam:!1};t.isPersonalParam=l.getRootNodeType(e,f.paramZtreeObj),(0,s.getFolderAndParams)(t).then((function(t){f.paramZtreeObj.removeChildNodes(e),f.paramZtreeObj.addNodes(e,t.data)}))}function A(){var e=window.event,t=$(f.$refs.settingParamDiv).find(".CodeMirror-scroll")[0];return e.target===t}function w(e,t){var n=h.fromTextArea(e,{mode:"text/x-mssql",theme:"idea",indentWithTabs:!0,lineNumbers:!0,lineWrapping:!0,smartIndent:!0,autofocus:!0,matchBrackets:!0,styleActiveLine:!0});return n.on("beforeChange",(function(e,t){"paste"===t.origin&&f.isFirstPaste&&(f.cursor=n.getCursor(),f.checkSqlText=n.getRange({ch:0,line:f.cursor.line},{ch:f.cursor.ch,line:f.cursor.line}),f.isFirstPaste=!1)})),n.on("change",(function(e,t){if(t.origin){var n="",i=1,a=t.text;if(1===a.length&&""!==a[0]||a.length>1)for(var r=0;r<a.length;r++)n+=a[r];if(""===n&&(a=t.removed,1===a.length&&""!==a[0]||a.length>1)){for(var o=0;o<a.length;o++)n+=a[o];i=0}if(n.indexOf("{#")>-1&&n.indexOf("#}")>-1&&f.paramDivArr&&f.paramDivArr.length>0)for(var s=0;s<f.paramDivArr.length;s++)n.indexOf(f.paramDivArr[s].id)>-1&&(f.paramDivArr[s].opt=i);if("paste"===t.origin&&f.paramsSetting&&f.paramsSetting.arr&&f.paramsSetting.arr.length>0){for(var l=!1,u=0;u<f.paramsSetting.arr.length;u++)if(n.indexOf(f.paramsSetting.arr[u].id)>-1){var c=(new UUIDGenerator).id,d="{#"+c+"#}",h=f.paramsSetting.arr[u].name,p={oldParamId:f.paramsSetting.arr[u].id,id:d,copyParamId:c,moduleParamId:f.paramsSetting.arr[u].moduleParamId,allowedNull:f.paramsSetting.arr[u].allowedNull,name:h};f.paramsSetting.arr.push(p),l=!0}l&&C(f.paramsSetting),f.isFirstPaste=!0}}})),n.setSize("auto",t+"px"),n}function x(e){if(null!=e&&"undefined"!==typeof e&&Object.keys(e).length>0)for(var t=e.arr,n=f.editor.lineCount(),i=0;i<t.length;i++)for(var a=[],r=0;r<n;r++){a=[];var o=f.editor.getLine(r);a=k(o,t[i].id,0,a);for(var s=0;s<a.length;s++){var l=$("<button class='divEditorBtn' id='"+t[i].id+"'>"+t[i].name+"</buttonn>").get(0),u={ch:a[s],line:r,sticky:null},c={ch:a[s]+t[i].id.length,line:r,sticky:null};f.editor.markText(u,c,{replacedWith:l,className:"paramBlock"});var d={id:t[i].id,opt:1};f.paramDivArr.push(d)}}}function C(e){if(null!=e&&"undefined"!==typeof e&&Object.keys(e).length>0)for(var t=e.arr,n=f.editor.lineCount(),i=0;i<t.length;i++)if(t[i].oldParamId){var a=t[i].oldParamId;delete e.arr[i].oldParamId;for(var r=[],o=f.cursor.line;o<n;o++){r=[];var s=f.editor.getLine(o);if(""!==s&&(r=k(s,a,0,r),0!==r.length)){var l=f.cursor.ch;l=1===r.length||f.cursor.line===o&&f.checkSqlText.indexOf(a)<0?r[0]:r[1];var u={ch:l,line:o,sticky:null},c={ch:l+t[i].id.length,line:o,sticky:null};f.editor.replaceRange(t[i].id,u,c);var d=$("<button class='divEditorBtn' id='"+t[i].id+"'>"+t[i].name+"</buttonn>").get(0);if(f.editor.markText(u,c,{replacedWith:d,className:"paramBlock"}),f.paramIdsdArr.indexOf(t[i].id)<0){var h={id:t[i].id,opt:1};f.paramDivArr.push(h),f.paramIdsdArr.push(t[i].id)}}}}}function k(e,t,n,i){return n=e.indexOf(t,n),-1!==n&&(i.push(n),i=k(e,t,parseInt(n+1),i)),i}function S(){return T.apply(this,arguments)}function T(){return T=(0,o.default)(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s,c,h,p,m,g,v,y,b,A,w,x,C,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(f.initTreeSuccess){e.next=4;break}return f.setParamArr=[],f.settingLoading=!1,e.abrupt("return");case 4:if(e.prev=4,f.settingLoading||(f.loadText="正在加载参数信息，请稍后……",f.settingLoading=!0),t=f.sql,n=f.editor.getValue(),i=[],!f.isAdd){e.next=15;break}if(t!==n){e.next=13;break}return f.settingLoading=!1,e.abrupt("return");case 13:e.next=17;break;case 15:if(f.isAdd=!0,f.paramsSetting.arr&&f.paramsSetting.arr.length>0)for(a=0;a<f.paramsSetting.arr.length;a++)$.inArray(f.paramsSetting.arr[a].moduleParamId,i)<0&&i.push(f.paramsSetting.arr[a].moduleParamId);case 17:r=[],o=0;case 19:if(!(o<f.paramDivArr.length)){e.next=32;break}if(1!==f.paramDivArr[o].opt){e.next=29;break}s=0;case 22:if(!(s<f.paramsSetting.arr.length)){e.next=29;break}if(f.paramDivArr[o].id!==f.paramsSetting.arr[s].id){e.next=26;break}return r.push(f.paramsSetting.arr[s]),e.abrupt("break",29);case 26:s++,e.next=22;break;case 29:o++,e.next=19;break;case 32:for(c=function(e){for(var t=f.setParamArr[e].dataModuleParamId,n=0,a=0;a<r.length;a++)if(t!==r[a].moduleParamId&&n++,$.inArray(r[a].moduleParamId,i)<0&&t===r[a].moduleParamId&&i.push(r[a].moduleParamId),n===r.length){var o=f.setParamArr.findIndex((function(e){return e.dataModuleParamId===t}));f.setParamArr.splice(o,1)}},h=f.setParamArr.length-1;h>=0;h--)c(h);if(0!==r.length){e.next=39;break}return f.settingLoading=!1,f.setParamArr=[],f.$message({type:"warning",message:"尚未设置参数，无法进行参数配置"}),e.abrupt("return");case 39:return e.next=41,(0,u.findParamsAndModelRelParams)();case 41:if(p=e.sent,null!=p.data){e.next=47;break}f.settingLoading=!1,f.$message.error("获取参数信息失败"),e.next=93;break;case 47:if(!p.data.isError){e.next=52;break}f.settingLoading=!1,f.$message.error({message:p.data.message}),e.next=93;break;case 52:m=p.data.paramList,g=[],v=0;case 55:if(!(v<r.length)){e.next=91;break}y=!1,b=0;case 58:if(!(b<f.setParamArr.length)){e.next=65;break}if(f.setParamArr[b].dataModuleParamId!==r[v].moduleParamId){e.next=62;break}return y=!0,e.abrupt("break",65);case 62:b++,e.next=58;break;case 65:if(!($.inArray(r[v].moduleParamId,i)>-1&&y)){e.next=67;break}return e.abrupt("continue",88);case 67:if(!($.inArray(r[v].moduleParamId,g)>-1)){e.next=69;break}return e.abrupt("continue",88);case 69:A={dataModuleParamId:r[v].moduleParamId,name:r[v].name},w=0;case 71:if(!(w<m.length)){e.next=88;break}if(x=m[w].ammParamUuid,C=d(d({},{}),m[w]),!(x===r[v].moduleParamId&&$.inArray(x,g)<0)){e.next=85;break}return A.inputType=C.inputType,$.inArray(r[v].moduleParamId,i)>-1&&x===r[v].moduleParamId&&r[v].defaultVal&&""!==r[v].defaultVal&&(A.value=r[v].defaultVal,C.defaultVal=r[v].defaultVal),e.next=79,l.getSettingParamArr(C,A);case 79:return k=e.sent,k.isError?f.$message.error({message:k.message}):A=k.setParamObj,g.push(x),"undefined"!==typeof C.description&&null!=C.description&&(A.description=C.description),f.setParamArr.push(A),e.abrupt("break",88);case 85:w++,e.next=71;break;case 88:v++,e.next=55;break;case 91:$(f.$refs.setParamTable.$refs.bodyWrapper.children[0].children[1]).sortable().disableSelection(),f.$nextTick((function(){N(),f.sql=f.editor.getValue(),f.settingLoading=!1}));case 93:e.next=99;break;case 95:e.prev=95,e.t0=e["catch"](4),f.settingLoading=!1,console.info(e.t0);case 99:case"end":return e.stop()}}),e,null,[[4,95]])}))),T.apply(this,arguments)}function N(){for(var e=this,t=0;t<f.setParamArr.length;t++){var n=f.setParamArr[t];"lineinp"===n.inputType?function(){var t=n.dataChoiceType,i=n.dataId,a=n.dataName,r="undefined"!==typeof n.dataSql?n.dataSql:"",o="undefined"!==typeof n.data?n.data:[],s=!1,u={el:"#selectParam"+i,filterable:!0,filterMethod:function(e,t){return!!(e===t.value||t.name&&t.name.indexOf(e)>-1)},data:o};if("1"===t&&(u.radio=!0,u.clickClose=!0),""!==r){var c="undefined"!==typeof $(e).attr("data-associatedParamIdArr")?JSON.parse($(e).attr("data-associatedParamIdArr")):[],d="undefined"!==typeof $(e).attr("data-paramArr")?JSON.parse($(e).attr("data-paramArr")):[];u.show=function(){s=l.selectShow(f.$refs.settingParamDiv,"#selectParam",i,a,r,t,d,o,s)},u.hide=function(){if(s&&0===o.length){var e=xmSelect.get("#selectParam"+i,!0);o=e.options.data,s=!1}$.inArray(i,c)>-1&&l.selectHide("#selectParam",i,c)}}"undefined"!==typeof n.value&&null!=n.value&&(u.initValue=n.value),xmSelect.render(u)}():"treeinp"===n.inputType&&function(){var t=n.dataChoiceType,i=n.dataId,a=n.dataName,r="undefined"!==typeof n.dataSql?n.dataSql:"",o="undefined"!==typeof n.data?n.data:[],s=!1,u={el:"#selectTreeParam"+i,filterable:!0,tree:{show:!0,showFolderIcon:!0,showLine:!0,indent:30,strict:!1},height:"auto",data:o};if(""!==r){var c="undefined"!==typeof $(e).attr("data-associatedParamIdArr")?JSON.parse($(e).attr("data-associatedParamIdArr")):[],d="undefined"!==typeof $(e).attr("data-paramArr")?JSON.parse($(e).attr("data-paramArr")):[];u.show=function(){s=l.selectShow(f.$refs.settingParamDiv,"#selectTreeParam",i,a,r,t,d,o,s)},u.hide=function(){if(s&&0===o.length){var e=xmSelect.get("#selectTreeParam"+i,!0);o=e.options.data,s=!1}$.inArray(i,c)>-1&&l.selectHide("#selectTreeParam",i,c)}}"undefined"!==typeof n.value&&null!=n.value&&(u.initValue=n.value),"1"===t?(u.radio=!0,u.clickClose=!0):u.on=function(e){var t=e.arr,n=(e.change[0],[]),i=e.change.slice(0,1);if(n.push(i[0]),n=getChildrenData(i[0],n),e.isAdd){for(var a=0;a<n.length;a++)for(var r=t.length-1;r>=0;r--)if(t[r].value===n[a].value&&t[r].pValue===n[a].pValue){t.splice(r,1);break}var s=getSplitDataArr(o),l=getParentUnChecked(i[0],[],s,t);n=n.concat(l),t.push.apply(t,n)}else{for(var u=getParentChecked(i[0],[],t),c=0;c<u.length;c++)for(var d=t.length-1;d>=0;d--)if(t[d].value===u[c].value&&t[d].pValue===u[c].pValue){t.splice(d,1);break}for(var h=0;h<n.length;h++)for(var f=t.length-1;f>=0;f--)if(t[f].value===n[h].value&&t[f].pValue===n[h].pValue){t.splice(f,1);break}}return t},xmSelect.render(u)}()}}function I(){var e=f.sql,t=f.editor.getValue(),n="";return n=e===t?"确定已完成所有参数的配置?":"参数已被更改，尚未进行参数配置，是否继续？",n}function D(){var e={verify:!0,message:"",paramsSetting:{sql:f.editor.getValue(),arr:[]}},t=f.$refs.setParamTable.$refs.bodyWrapper.children[0].children[1].children;if("undefined"!==typeof t&&t.length>0&&$.each(t,(function(){var t=parseInt($(this).find("td:eq(0)>div>div").html())-1;if(e.verify){if("textinp"===f.setParamArr[t].inputType&&"undefined"!==typeof f.setParamArr[t].value&&""!==f.setParamArr[t].value){var n=f.setParamArr[t].dataName,i=f.setParamArr[t].dataDataLength;"undefined"!==typeof i&&f.setParamArr[t].value.length!==parseInt(i)&&(e.verify=!1,e.message="参数【"+n+"】输入值的长度与设置的长度值【"+parseInt(i)+"】不相等")}if("lineinp"===f.setParamArr[t].inputType){for(var a=f.setParamArr[t].dataId,r=xmSelect.get("#selectParam"+a,!0),o=r.getValue(),s=[],l=0;l<o.length;l++)s.push(o[l].value);s.length>0&&(f.setParamArr[t].value=s)}if("treeinp"===f.setParamArr[t].inputType){for(var u=f.setParamArr[t].dataId,c=xmSelect.get("#selectTreeParam"+u,!0),d=c.getValue(),h=[],p=0;p<d.length;p++)h.push(d[p].value);h.length>0&&(f.setParamArr[t].value=h)}}})),!e.verify)return e;for(var n=0;n<f.paramDivArr.length;n++)if(1===f.paramDivArr[n].opt)for(var i=0;i<f.paramsSetting.arr.length;i++)if(f.paramDivArr[n].id===f.paramsSetting.arr[i].id){var a=function(){var t=f.paramsSetting.arr[i];t.sortVal=1;var n="",a="",r=f.$refs.setParamTable.$refs.bodyWrapper.children[0].children[1].children;return"undefined"!==typeof r&&r.length>0&&$.each(r,(function(e){var i=parseInt($(this).find("td:eq(0)>div>div").html())-1,r=f.setParamArr[i].dataId;if(t.moduleParamId===r)return"undefined"!==typeof f.setParamArr[i].value&&(n=f.setParamArr[i].value),a=parseInt(e+1),!1})),t.defaultVal=n,""!==a&&(t.sortVal=a),e.paramsSetting.arr.push(t),"break"}();if("break"===a)break}return l.sortParamArr(e.paramsSetting.arr),e}t.sendSettingVue=p},"54cd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"message",props:["type","message"],data:function(){return{info:n("72df"),warning:n("dce8"),success:n("0ce7"),error:n("167f"),theSomeImg:"",bacColor:""}},methods:{},mounted:function(){"success"==this.type?(this.theSomeImg=this.success,this.bacColor="pop-success"):"info"==this.type?(this.theSomeImg=this.info,this.bacColor="pop-info"):"warning"==this.type?(this.theSomeImg=this.warning,this.bacColor="pop-warning"):"error"==this.type&&(this.theSomeImg=this.error,this.bacColor="pop-error")}};t.default=i},"54d4":function(e,t,n){"use strict";n("a92a")},"54dd":function(e,t,n){"use strict";n.r(t);var i=n("4f079"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"54e2":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-edit-1",use:"icon-icon-edit-1-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-edit-1"><defs><style type="text/css"></style></defs><path d="M98 98.2v830.1h830.1V98.2H98z m295 640.4l-139.6 47.2c-8 2.7-15.7-4.9-13-13l47.2-139.6c2.4-7.2 11.6-9.3 16.9-4l92.4 92.4c5.4 5.4 3.3 14.5-3.9 17z m314.8-304.5L433 708.9c-8 8-20.9 8-28.9 0l-86.8-86.8c-8-8-8-20.9 0-28.9l274.8-274.8c8-8 20.9-8 28.9 0l86.8 86.8c8 8 8 20.9 0 28.9z m72.4-72.3l-28.9 28.9c-8 8-20.9 8-28.9 0l-86.8-86.8c-8-8-8-20.9 0-28.9l28.9-28.9c8-8 20.9-8 28.9 0l86.8 86.8c7.9 7.9 7.9 20.9 0 28.9z" p-id="2273" /></symbol>'});o.a.add(s);t["default"]=s},"54fd":function(e,t,n){"use strict";n.r(t);var i=n("451c"),a=n("0dd8");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},5535:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUY3NkIwMTMzOTA3MTFFQjg3QjRGMTYwQ0VBMTUzOTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUY3NkIwMTQzOTA3MTFFQjg3QjRGMTYwQ0VBMTUzOTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Rjc2QjAxMTM5MDcxMUVCODdCNEYxNjBDRUExNTM5OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5Rjc2QjAxMjM5MDcxMUVCODdCNEYxNjBDRUExNTM5OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuV6ScgAAAAGUExURbW1tf///x1VJNcAAAACdFJOU/8A5bcwSgAAABhJREFUeNpiYKAGYAQCJIIYgUFqBkCAAQAvrgBt23pN5QAAAABJRU5ErkJggg=="},5586:function(e,t,n){"use strict";n.r(t);var i=n("8771"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"564f":function(e,t,n){"use strict";n.r(t);var i=n("54cd"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"565e":function(e,t,n){},"56b1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c5f6");var i=n("09f4"),a={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination"),this.autoScroll&&(0,i.scrollTo)(0,800)},handleCurrentChange:function(e){this.$emit("pagination"),this.autoScroll&&(0,i.scrollTo)(0,800)}}};t.default=a},"56c2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var i=n("1330"),a=n("7a42"),r={created:function(){this.initTreeData()},watch:{filterText:function(e){this.$refs.tree.filter(e)}},data:function(){return{filterText:null,defaultProps:{children:"children",label:"name"},data:[]}},methods:{handleNodeClick:function(e){"NULL"!=e.pid&&this.$emit("clickChangeTable",e.id)},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},initTreeData:function(){var e=this;(0,i.findWarningTree)().then((function(t){for(var n=t.data,i=0;i<n.length;i++)if(n[i].icon="el-icon-bell",n[i].children.length>0)for(var a=0;a<n[i].children.length;a++)n[i].children[a].icon="el-icon-s-order",n[i].children[a].isDelete=1;e.data=n}))},remove:function(e){this.openIsDelete(e)},openIsDelete:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,a.deleteRunTaskFalse)(e).then((function(n){if(1==n.data){for(var i=0;i<t.data.length;i++){var a=t.data[i].children;if(a.length>0)for(var r=0;r<a.length;r++)e==a[r].id&&a.splice(r,1)}t.$emit("getLikeList"),t.$message({type:"success",message:"删除成功!"})}else t.$message({type:"info",message:"删除失败!"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}};t.default=r},"56d7":function(e,t,n){"use strict";var i=n("dbce"),a=n("4ea4");n("4917"),n("a481"),n("3b2b");var r=a(n("7037"));n("28a5"),n("456d"),n("ac6a"),n("cadf"),n("551ce"),n("f751"),n("097d");var o=a(n("a026")),s=a(n("a78e"));n("f5df");var l=a(n("5c96"));n("24ab");var u=a(n("031a")),c=a(n("5d09")),d=a(n("15a3"));n("2587");var h=a(n("256b"));n("4fec"),n("abc6"),n("b20f8");var f=a(n("3dfd")),p=a(n("4360")),m=a(n("a18c")),g=a(n("9923"));n("985d"),n("223da"),n("b1fc");var v=i(n("8975"));n("86fd");var y=a(n("0896"));n("0132");var b=a(n("ef55")),A=a(n("6112b")),w=a(n("0bb4")),x=a(n("b311")),C=a(n("bc3a")),k=a(n("6c29"));o.default.prototype.$tool=u.default,o.default.prototype.$create=c.default,o.default.use(d.default),o.default.use(h.default);var S={};o.default.use(y.default,S),o.default.use(b.default),o.default.use(l.default,{size:s.default.get("size")||"medium",i18n:function(e,t){return g.default.t(e,t)}}),Object.keys(v).forEach((function(e){o.default.filter(e,v[e])})),o.default.config.productionTip=!1,o.default.prototype.$clipboard=x.default,o.default.prototype.$ajax=C.default,o.default.use(k.default),o.default.use(A.default),o.default.mixin({data:function(){return{commonConfig:w.default}}}),new o.default({el:"#app",router:m.default,store:p.default,i18n:g.default,render:function(e){return e(f.default)}}),o.default.prototype.log_module="指标分析",o.default.prototype.log_add="新增",o.default.prototype.log_edit="编辑",o.default.prototype.log_del="删除",o.default.prototype.log_see="查看",o.default.prototype.contextUrl="indicator",o.default.prototype.dataContextUrl="data",o.default.prototype.baseContextUrl="base",o.default.prototype.getParams=function(){var e=window.location.href;if(e=e.split("?")[1],!e)return"";for(var t=e.split("&"),n=t.length,i={},a=[],r=0;r<n;r++)a=t[r].split("="),i[a[0]]=a[1];return i},o.default.prototype.updateGroupDisplay=function(e,t){return"sum"==e?"合计("+t+")":"count"==e?"计数("+t+")":"max"==e?"最大值("+t+")":"min"==e?"最小值("+t+")":"avg"==e?"平均值("+t+")":"distinct"==e?"差异计数("+t+")":t},o.default.prototype.getuuid=function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var i=e.join("");return i},String.prototype.format=function(e){var t=this;if(arguments.length>0)if(1==arguments.length&&"object"==(0,r.default)(e)){for(var n in e)if(void 0!=e[n]){var i=new RegExp("({"+n+"})","g");t=t.replace(i,e[n])}}else for(var a=0;a<arguments.length;a++)if(void 0!=arguments[a]){i=new RegExp("({)"+a+"(})","g");t=t.replace(i,arguments[a])}return t},o.default.prototype.getCharBetweenString=function(e){var t=/\((.+?)\)/g,n=e.match(t);return n=JSON.stringify(n).replace('["(',"").replace(')"]',""),n},o.default.prototype.addOperLogByParam=function(e,t,n){},o.default.prototype.addMessage=function(e,t,n,i){}},5784:function(e,t,n){"use strict";n.r(t);var i=n("1c3b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"57b4":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3674")),r={extends:a.default};t.default=r},5869:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a481");var i={data:function(){return{}},computed:{frameUrl:function(){return unescape(this.$route.fullPath.replace("/base/frameto?url=",""))}},created:function(){}};t.default=i},"589c":function(e,t,n){"use strict";n("0327")},"58ca":function(e,t,n){var i={"./icon/iconfont":"4503","./icon/iconfont.css":"bc62","./icon/iconfont.eot":"3f85","./icon/iconfont.json":"4503","./icon/iconfont.svg":"cd72","./icon/iconfont.ttf":"556d","./icon/iconfont.woff":"5cf2","./icon/iconfont.woff2":"bb2f","./imgs/chart-type-icons.png":"ce57","./imgs/componentsMenuIcon/cgtb.png":"3645","./imgs/favicon.ico":"f9b0","./imgs/slt.jpg":"198b"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="58ca"},"58da":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{msg:{type:String,default:"提示"},type:{type:String,default:"info"},styleClass:{type:Object,default:function(){return{}}}},data:function(){return{isShow:!0,infoUrl:n("cd54"),successUrl:n("69ea"),warningUrl:n("f0fd"),errorUrl:n("5980"),styleBg:""}},computed:{imgUrl:function(){switch(this.type){case"info":return this.styleBg="#EFF9F9",this.infoUrl;case"success":return this.styleBg="#F0F7EE",this.successUrl;case"warning":return this.styleBg="#FDF7E5",this.warningUrl;case"error":return this.styleBg="#FCF4F1",this.errorUrl;default:return this.styleBg="#EFF9F9",this.infoUrl}}},methods:{show:function(){this.isShow=!0},close:function(){this.isShow=!1,this.remove()}}};t.default=i},"58eb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},[n("el-tab-pane",{attrs:{name:"模型分配结果",label:"模型分配结果"}},[n("firstParentTabCon",{on:{addtab:e.addTab}})],1),e._l(e.editableTabs,(function(e){return n("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[n("childTabs",{attrs:{maintable:e.mainTable,helptables:e.helpTables,"model-uuid":e.modeluuid,resultSpiltObjects:e.resultSpiltObjects,useType:"modelRunResult",projectUuid:e.projectUuid}})],1)}))],2)],1)},a=[]},5929:function(t,n,i){"use strict";var a=i("dbce"),r=i("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i("96cf");var o=r(i("c973"));i("ac6a"),i("456d"),i("20d6"),i("7f7f"),i("5df3"),i("1c4c"),i("7514"),i("6762"),i("2fdb"),i("c5f6"),i("a3e3"),i("47c6"),i("0d4a"),i("dde8"),i("8191");var s=r(i("2f1c")),l=r(i("5403")),u=r(i("6d5f")),c=r(i("ea11")),d=r(i("a845")),h=r(i("b467")),f=r(i("6208")),p=r(i("5d4e")),m=r(i("cc36")),g=r(i("13ea")),v=i("05c6"),y=i("8ebc"),b=i("6026"),A=a(i("0dff")),w=a(i("cdd0")),x=a(i("1dcc"));r(i("b775"));i("1ec4");var C={name:"ToolIndex",components:{Help:s.default,GraphListExport:l.default,ChildTabs:u.default,SettingParams:c.default,NodeSetting:d.default,RelationSetting:h.default,InputParams:f.default,GroupCount:p.default,SqlEditor:m.default,AnalysisDetailData:g.default},props:["graphUuidParam","openGraphTypeParam","openTypeParam"],data:function(){return{graph:null,ownerEditor:null,zTreeObj:null,resourceZtree:null,historyZtree:null,resourceRootNode:null,historyRootNode:null,helpDialogVisible:!1,graphListDialogVisible:!1,nodeParamListDialogVisible:!1,nodeParamSettingDialogVisible:!1,nodeSettingDialogVisible:!1,oldGraphData:null,openType_graph:2,createUserId:"",loginUserUuid:"",loginUserCode:"",canEditor:!0,hasManagerRole:!1,graphName:"",description:"",graphName_show:"",description_show:"",graphUuid:"",openGraphType:"",openType:"",loading:null,searchZtreeContent:"",webSocket:null,resultTableArr:[],loadResultNum:0,showTableResult:!1,executeNodeIdArr:[],graphFormVisible:!1,graphFormTitle:"",saveGraphType:"saveGraph",websocketBatchId:"",showGraphListType:"",activeTabName:"outLineArea",optTypeArr:["filter","sort","sample","layering","groupCount","delRepeat","comparison","change","union","relation","sql"],nodeParamRelArr:[],nodeParamArr:[],sp_nodeId:"",sp_paramsSetting:null,sp_optType:"",nodeSettingTitle:"",settingType:"",initNodeSettingVue:!1,viewNodeSqlDialogVisible:!1,curNodeExecuteSQL:"",nodeReNameDialogVisible:!1,reNameObj:{name:"节点名称",value:"",edge:!1},nodeParamDialogVisible:!1,executeNodeObject:null,executeType:"",sqlEditorCurSql:"",sqlEditorDialogVisible:!1,sqlEditorWidth:"",sqlEditorStyle:"",curModelSql:"",isSearchExpand:!1,curCell:null,nodeRemarkHtml:"点击操作节点，可查看节点说明信息",imageDialogVisible:!1,imageSrc:"",resultTabActiveName:"2",detailTabActiveName:"0",comparisonTableDetailDialogVisible:!1,comparison_dataTableName:"",comparison_columnVal:"",rightZtreeStyle:""}},created:function(){(0,v.addCssFile)("/lib/Ztree/css/zTreeStyle/zTreeStyle.css","zTreeStyle"),this.init()},beforeDestroy:function(){(0,v.removeJcCssfile)("zTreeStyle.css","css"),(0,v.removeJcCssfile)("jquery.ztree_new.all.min.js","js"),(0,v.removeJcCssfile)("jquery.ztree.excheck.min.js","js"),(0,v.removeJcCssfile)("jquery.ztree.exhide.min.js","js")},mounted:function(){var e="100%",t="100%";4===this.openGraphType&&(e=$(this.$parent.$parent.$parent.$refs.modelDesign).width()-37+"px",t=$(this.$parent.$parent.$parent.$refs.modelDesign).height()+"px"),$(this.$refs.graphToolDiv).css({width:e,height:t}),this.initCommon(),this.initIndex(),this.initGraph(),this.initValidateFun(),this.initWebSocKet(),this.sqlEditorWidth=$(this.$refs.graphToolDiv).width()+"px";var n=$(this.$refs.graphToolDiv).height()+18+"px";this.sqlEditorStyle="margin-left:".concat($(this.$refs.graphToolDiv).position().left-10,"px;height:").concat(n),this.rightZtreeStyle="height:".concat($(this.$refs.graphToolDiv).height()-170,"px")},methods:{init:function(){"undefined"===typeof getParams().graphUuid?this.graphUuid=this.graphUuidParam:this.graphUuid=getParams().graphUuid,"undefined"===typeof getParams().openGraphType?this.openGraphType=Number(this.openGraphTypeParam):this.openGraphType=Number(getParams().openGraphType),"undefined"===typeof getParams().openType?this.openType=Number(this.openTypeParam):this.openType=Number(getParams().openType),this.loginUserUuid=this.$store.state.user.id,this.loginUserCode=this.$store.state.user.code;var e=this.$store.state.user.roles,t="screenManager";e&&e.includes(t)&&(this.hasManagerRole=!0)},initCommon:function(){window.lightHeight=A.lightHeight,window.getDataSourceTable=A.getDataSourceTable,window.changeNodeIcon=A.changeNodeIcon,window.data_filter=A.data_filter,window.setDataSourceCopyIcon=A.setDataSourceCopyIcon,window.setNodeOutputTypeIcon=A.setNodeOutputTypeIcon,window.executeNode=A.executeNode,window.executeToNode=A.executeToNode,window.cancelExecute=A.cancelExecute,window.sqlNodeEdit=A.sqlNodeEdit,window.reName=A.reName,window.curNodeSQL=A.curNodeSQL,window.deleteCells=A.deleteCells,window.previewNodeData=A.previewNodeData,window.reSetOptProperty=A.reSetOptProperty,window.changeUndoNodeInfo=A.changeUndoNodeInfo,window.changeRedoNodeInfo=A.changeRedoNodeInfo},initIndex:function(){var e=this;window.refrashResourceZtree=w.refrashResourceZtree,window.refrashHistoryZtree=w.refrashHistoryZtree,window.autoSaveGraph=w.autoSaveGraph,window.nodeRemark=w.nodeRemark,window.deleteResourceZtreeNode=w.deleteResourceZtreeNode,window.undoResourceZtreeNode=w.undoResourceZtreeNode,window.redoResourceZtreeNode=w.redoResourceZtreeNode,window.modifyParam=w.modifyParam,window.showComparisonTableDetail=w.showComparisonTableDetail,window.alertMsg=function(t,n,i){e.$message({type:i,message:n})},window.confirmMsg=function(t,n,i,a,r){e.$confirm(n,t,{confirmButtonText:"确定",cancelButtonText:"取消",type:i,center:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){"function"===typeof r&&a()})).catch((function(){"function"===typeof r&&r()}))}},initValidateFun:function(){window.edgeVerify=x.edgeVerify},initGraph:function(){if(mxClient.isBrowserSupported()){var e=this;$(this.$refs.graphToolDiv).find(".graphIconElRow").click((function(){var t=$(this).attr("data-type");$.inArray(t,e.optTypeArr)>-1&&w.nodeRemark(t)})),mxResources.loadDefaultBundle=!1;var t=mxResources.getDefaultBundle(RESOURCE_BASE,mxLanguage)||mxResources.getSpecialBundle(RESOURCE_BASE,mxLanguage),n=STYLE_PATH+"/default.xml";mxUtils.getAll([t,n],(function(t){mxResources.parse(t[0].getText());var n=new Object;n["default"]=t[1].getDocumentElement(),e.ownerEditor=new EditorUi(new Editor(n)),e.graph=e.ownerEditor.editor.graph,e.graph.setCellsResizable(!1),e.graph.setAllowLoops(!1),e.graph.setCellsEditable(!1),e.graph.nodeData={},e.graph.historyNodeInfo={},e.graph.oldOptArr=[],e.graph.newOptArr=[],e.graph.edgeArr={},e.$refs.outLineArea.style.position="absolute",e.$refs.outLineArea.style.width="97%",e.$refs.outLineArea.style.height="225px",e.$refs.outLineArea.style.border="1px solid whiteSmoke",e.$refs.outLineArea.style.backgroundColor="#FFFFFF",e.$refs.outLineArea.style.overflow="hidden",new mxOutline(e.graph,e.$refs.outLineArea),new mxCellTracker(e.graph,"#00A8FF"),window.ownerEditor=e.ownerEditor,window.graph=e.graph,w.sendIndexJs(e),A.sendGraphIndexVue(e)}),(function(){e.$refs.graphToolDiv.innerHTML='<center style="margin-top:10%;">加载资源文件出错</center>'})),3===this.openGraphType?(!1===this.hasManagerRole&&(this.canEditor=!1),this.loadGraph(this.graphUuid)):this.graphUuid&&""!==this.graphUuid?this.loadGraph(this.graphUuid):this.initJsp()}else this.$message.error("您的浏览器不支持图形设计。请更换浏览器")},loadGraph:function(t){var n=this;this.loading=$(this.$refs.graphToolDiv).mLoading({text:"正在加载，请稍后……",hasCancel:!1}),(0,y.getGraphInfoById)(t).then((function(t){if(null==t.data)n.loading.destroy(),n.$message.error("加载图形失败");else try{n.openType_graph=t.data.createType,n.createUserId=t.data.createUserId,n.oldGraphData=t.data,n.loading.destroy(),n.initJsp()}catch(e){n.loading.destroy(),n.$message.error("加载图形失败"),console.info(e)}}))},initJsp:function(){var e=this,t=setInterval((function(){if(null!=e.graph){switch(clearInterval(t),e.graph.openType=e.openType,e.graph.canEditor=e.canEditor,e.graph.openGraphType=e.openGraphType,e.openGraphType){case 1:e.graph.graphType=1;break;case 2:case 3:e.graph.graphType=3;break;case 4:e.graph.graphType=4;break}e.resourceRootNode={name:"所用资源",displayName:"所用资源",level:0,isParent:!0,open:!0,type:"rootNode",id:"resourceRoot",pid:null,children:[]},e.resourceZtree=$.fn.zTree.init($("#resourceZtree"),w.resourceSetting,e.resourceRootNode),e.historyRootNode={name:"操作痕迹",displayName:"操作痕迹",level:0,isParent:!0,open:!0,type:"rootNode",id:"historyRoot",pid:null,children:[]},e.historyZtree=$.fn.zTree.init($("#historyZtree"),w.historySetting,e.historyRootNode),e.loading=$("body").mLoading({text:"正在初始化数据，请稍后……",hasCancel:!1}),null!=e.oldGraphData&&w.openCallBack(e.oldGraphData),e.initTree(e)}}),1e3)},initTree:function(e){var t=function(){var t=this,n={data:{key:{checked:"isChecked",name:"name",title:"name"},simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}},check:{enable:!1,chkStyle:"radio",radioType:"all"},view:{selectedMulti:!1},edit:{enable:!0,showRenameBtn:!1,showRemoveBtn:!1,drag:{autoExpandTrigger:!1,prev:!1,inner:!1,next:!1}},callback:{onRightClick:w.onRightClick,onExpand:function(t,n,a){var r=this;a.children&&0!==a.children.length||"datasource"!==a.type&&"table"!==a.type&&"view"!==a.type||1===e.openType||(0,y.getColumnsByTable)({tableMetaUuid:a.id}).then((function(t){if(null==t.data)e.$message.error("数据表字段信息获取失败："+t.data.message);else{var n=[],o=i("0a64");Array.from(t.data,(function(e){if(""===e.chnName||null==e.chnName||"undefined"===typeof e.chnName)n.push({id:(new UUIDGenerator).id,name:e.colName,displayName:e.colName,pid:a.id,isParent:!1,open:!1,type:"column",icon:o});else{var t=e.colName+"("+e.chnName+")";n.push({id:a.name+"_"+r,name:t,displayName:t,pid:a.id,isParent:!1,open:!1,type:"column",icon:o})}})),n.length>0&&e.zTreeObj.addNodes(a,n)}}))}}};e.canEditor&&(delete n.edit,n.callback.onNodeCreated=function(e,t,n){"datasource"===n.type&&iconDrag(n)}),1===e.openType?(n.view.selectedMulti=!0,n.callback.onClick=w.onclick,$.post(contextPath+"/graphEditor/getDevelopTable",{},(function(t){t.isError?(e.loading.destroy(),this.$message.error("资源树列表加载出错")):(w.replaceNodeType(t.nodeList),e.zTreeObj=$.fn.zTree.init($("#ztree_datasource"),n,t.nodeList),e.loading.destroy())}),"json")):(0,b.initTableTip)().then((function(i){null==i.data?(e.loading.destroy(),t.$message.error("资源树列表加载出错")):(w.replaceNodeType(i.data),e.zTreeObj=$.fn.zTree.init($("#ztree_datasource"),n,i.data),e.loading.destroy())}))};t(),e.canEditor&&$.each($(".graphIcon"),(function(){var e=$(this).find(".graphIconElRow"),t=$(this).find(".iconText"),n=e.attr("data-type");"undefined"!==typeof n&&iconDrag({type:n,shape:"rhombus",id:"graphNode_".concat(n),tId:(new UUIDGenerator).id,name:t.html()})}))},initWebSocKet:function(){var e=this,t="ws://"+window.location.host+":"+window.location.port+"/websocket?"+this.loginUserUuid+"GRAPH";this.webSocket=new WebSocket(t),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(t){var n=JSON.parse(t.data),i=n.executeSQL;if(i.customParam[0]===e.websocketBatchId){if(e.loadResultNum++,"2"===i.state){e.resultTabActiveName="0",e.showTableResult||(e.showTableResult=!0);var a=e.resultTableArr.findIndex((function(e){return e.id===i.id}));if(a>-1){var r=e.resultTableArr[a].id;if("undefined"!==typeof e.graph.nodeData[r]){var o=e.graph.nodeData[r].nodeInfo.optType;if("newNullNode"===o&&(r=e.graph.nodeData[r].parentIds[0],o=e.graph.nodeData[r].nodeInfo.optType),"comparison"===o){var s=e.graph.nodeData[r].nodeInfo.dataTableName,l=[];Array.from(n.columnNames,(function(e){var t={};"涉及表数量"===e?(t.headerName=e,t.field=e,t.cellRenderer=function(e){return console.log(e),'<span style="color:red;cursor:pointer;" title="点击查看详情数据" onclick="showComparisonTableDetail(\''.concat(s,"','").concat(e.data["对比内容"],"')\">").concat(e.value,"</span>")}):(t.headerName=e,t.field=e),l.push(t)})),e.resultTableArr[a].agridColumnDatas=l}}e.$nextTick((function(){e.$refs.childTabsRef.loadTableData(n)}))}}else $("#sysInfoArea").html("<p style='color: red;'>预览结果集失败："+i.msg+"</p>"),e.resultTabActiveName="1";e.loadResultNum===e.resultTableArr.length&&e.loading.destroy()}},this.webSocket.onclose=function(e){},this.webSocket.onerror=function(t){e.$message.error("数据请求失败")}},executeAllNode:function(){A.executeAllNode()},newGraph:function(){this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:"新增图形",path:"/graphtool/tooldic?openGraphType=1&openType=".concat(this.openType)}})},openGraph:function(){w.openGraph()},saveGraph:function(e){this.saveGraphType=e;var t="saveGraph"===e?"保存":"另存为";!1===this.canEditor?this.$message({type:"warning",message:"当前图形您没有【".concat(t,"】操作的权限")}):0===Object.keys(this.graph.nodeData).length?this.$message({type:"warning",message:"当前图形无节点数据，不可保存"}):(this.graphFormVisible=!0,this.graphFormTitle="".concat(t,"图形"))},getGraphFormInfo:function(){var e=this;if(""!==$.trim(this.graphName)){var t=new mxCodec,n=t.encode(this.graph.getModel()),i=mxUtils.getPrettyXml(n),a={createType:this.openType,executeStatus:w.getExecuteDetail(),graphName:this.graphName,description:this.description,graphXml:i,nodeData:JSON.stringify(graph.nodeData)};"saveGraph"===this.saveGraphType&&(a.graphUuid=this.graphUuid);var r=function(e,t,n,i){e.graphFormVisible=!1,null==t.data?e.$message.error(i):(e.graphUuid=t.data,"saveGraph"===e.saveGraphType&&(e.graphName_show=e.graphName,e.description_show=e.description),e.$notify({title:e.$t("message.title"),message:e.$t(n),type:"success",duration:2e3,position:"bottom-right"}))};1===this.openGraphType?(a.graphType=1,(0,y.saveGraphInterface)(a).then((function(t){r(e,t,"图形保存成功","图形保存失败")})).catch((function(){}))):(a.graphType=3,2===this.openGraphType?a.publicType=0:(a.publicType=1,a.executeStatus=3),(0,y.createScreenQuery)(a).then((function(t){r(e,t,"场景查询图形保存成功","场景查询图形保存失败")})).catch((function(){})))}else this.$message({type:"warning",message:"请输入图形名称"})},searchZtree:function(){w.searchZtree()},viewData:function(e){var t=this;if(e){w.hideRMenu("rMenu");var n=this.zTreeObj.getSelectedNodes();if(n.length>0){var i=this,a=n[0].id,r=n[0].name,o=n[0].name,s=!0;this.initData(),this.$nextTick((function(){i.websocketBatchId=(new UUIDGenerator).id,i.resultTableArr=[{id:a,name:r,resultTableName:o,isRoleTable:s,optType:""}],i.resultTabActiveName="0",i.viewData()}))}}else this.loading.destroy(),this.loading=$("#tableArea").mLoading({text:"数据请求中，请稍后……",hasCancel:!1,hasTime:!0}),(0,y.viewNodeData)({nodeObjs:JSON.stringify(this.resultTableArr),openType:this.openType,websocketBatchId:this.websocketBatchId}).then().catch((function(e){t.loading.destroy(),$("#sysInfoArea").html("<p style='color: red;'>"+e+"</p>"),t.resultTabActiveName="1"}))},initData:function(){this.loadResultNum=0,this.showTableResult=!1,this.resultTableArr=[]},relationTableQuery:function(){},showMoreMenu:function(){var e=e||window.event;w.showRMenu("moreMenu","node",e.clientX,e.clientY)},refreshMySpaceNode:function(){var e="my_space";1===this.openType&&(e="my_space_dev");var t=this.zTreeObj.getNodesByParam("id",e,null);t&&t.length>0&&rootDataRefresh(t[0])},hideAndShow:function(){w.hideAndShow()},hideAndShowToolBar:function(){w.hideAndShowToolBar()},hideAndShowLeftArea:function(){w.hideAndShowLeftArea()},hideAndShowRightArea:function(){w.hideAndShowRightArea()},help:function(){this.helpDialogVisible=!0},next:function(){w.next()},back:function(){w.back()},importGraph:function(){w.hideRMenu("moreMenu"),$("#importGraphInp").click()},importGraphSubmit:function(e){w.importGraph(e)},exportGraph:function(){w.exportGraph()},getGraphObject:function(){var e=this;if("open"===this.showGraphListType){var t=this.$refs.graphListExport.getChooseGraph();t.isError?this.$message({type:"warning",message:t.message}):(this.graphListDialogVisible=!1,this.$nextTick((function(){var n="";n=3===t.graphType?1===t.publicType?"?graphUuid="+t.graphUuid+"&openGraphType=3":"?graphUuid="+t.graphUuid+"&openGraphType=2":"?graphUuid="+t.graphUuid+"&openGraphType=1",e.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:"编辑图形",path:"/graphtool/tooldic".concat(n,"&openType=").concat(e.openType)}})})))}else{var n=this.$refs.graphListExport.getChooseGraphs();n.isError?this.$message({type:"warning",message:n.message}):(this.graphListDialogVisible=!1,w.exportGraphBack(n))}},saveNodeSetting:function(){A.saveNodeSetting()},closeNodeSetting:function(){var e=this;this.$refs.nodeSetting.$confirm("即将关闭配置页面，是否更新并保存配置信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){A.saveNodeSetting()})).catch((function(){e.nodeSettingDialogVisible=!1}))},showParamNodeList:function(){w.showParamNodeList()},showParamNodeListCallBack:function(){w.showParamNodeListCallBack()},settingParam:function(e,t){w.settingParam(e,t)},settingParamsCallBack:function(){w.settingParamsCallBack()},clearSettingParam:function(e,t){w.clearSettingParam(e,t)},reNameCallBack:function(){A.reNameCallBack()},setExecuteParamCallBack:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.inputParams.replaceNodeParam();case 2:t=e.sent,t.verify?(this.nodeParamDialogVisible=!1,"all"===this.executeType?A.executeAllNode_callback(this.executeNodeIdArr,this.executeNodeObject):A.executeNode_callback(this.executeNodeIdArr)):this.$refs.inputParams.$message({type:"warning",message:t.message});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sqlNodeEditCallBack:function(){A.sqlNodeEdit_callBack()},viewEgEvent:function(e){if("A"===e.target.nodeName&&"viewEg"===e.target.className){var t=e.target.getAttribute("data_type");"undefined"!==typeof t&&(this.imageSrc=i("1a66")("./".concat(t,".jpg")),this.imageDialogVisible=!0)}},getParamsArr:function(){return w.getParamsArr()},getResultColumnInfo:function(){return w.getResultColumnInfo()},saveModelGraph:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w.saveModelGraph();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}};n.default=C},5934:function(e,t,n){"use strict";n.r(t);var i=n("58eb"),a=n("64a7");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},5977:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"query-field"},[i("el-form",{attrs:{inline:!0,model:e.query,"label-position":"bottom"}},[i("div",{staticClass:"switch-btn"},[i("img",{attrs:{src:this.switchImg},on:{click:e.onSwitchWith}})]),e._l(e.formData,(function(t){return"0"==e.searchBar?i("el-form-item",{attrs:{label:t.label}},["text"===t.type?i("el-input",{style:e.textStyle,model:{value:e.query[t.name],callback:function(n){e.$set(e.query,t.name,n)},expression:"query[fd.name]"}}):e._e(),"fuzzyText"===t.type?i("el-input",{style:e.textStyle,attrs:{placeholder:"模糊查询"},model:{value:e.query[t.name],callback:function(n){e.$set(e.query,t.name,n)},expression:"query[fd.name]"}}):e._e(),"select"===t.type?i("el-select",{style:e.selectStyle,model:{value:e.query[t.name],callback:function(n){e.$set(e.query,t.name,n)},expression:"query[fd.name]"}},[i("el-option",{attrs:{label:"全部",value:""}}),e._l(t.data,(function(e){return i("el-option",{attrs:{label:e.name,value:e.value}})}))],2):e._e(),"timePeriod"===t.type?[i("el-date-picker",{style:e.timeStyle,attrs:{type:"date",placeholder:"开始时间"},model:{value:e.query[t.name+"Start"],callback:function(n){e.$set(e.query,t.name+"Start",n)},expression:"query[fd.name+'Start']"}}),i("el-date-picker",{style:e.timeStyle,attrs:{type:"date",placeholder:"结束时间"},model:{value:e.query[t.name+"End"],callback:function(n){e.$set(e.query,t.name+"End",n)},expression:"query[fd.name+'End']"}})]:e._e()],2):e._e()})),"0"==e.searchBar?i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),i("el-button",{attrs:{type:"primary"},on:{click:e.clearAll}},[e._v("清空")])],1):e._e(),"1"==e.searchBar?i("el-form-item",{staticClass:"full-search"},[i("el-input",{attrs:{placeholder:"查询"},model:{value:e.keywordQuery["keyword"],callback:function(t){e.$set(e.keywordQuery,"keyword",t)},expression:"keywordQuery['keyword']"}},[i("img",{staticClass:"img-icon",attrs:{slot:"suffix",src:n("20f4")},on:{click:e.onSubmit},slot:"suffix"})])],1):e._e()],2)],1)},a=[]},5980:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAOKADAAQAAAABAAAAOAAAAAANV2hTAAAILklEQVRoBd1bCWxURRj+Z5e2SOlSsFKOFooJ4dYICIogoigBDygJkBgkiBhMiBFRQRExKmBARRNDIlGRINEAhoIHREURQVQseHDVkEihRSgUKMsh3bL7/L/Zvu28t7vz3m53jdkv2by55//65s38x1RQimEY67y04VJ/Eg3DiDw9iQz8iolEHhmUJ6cTdIHL+Ceq+FdBFKogI2sHjc/dK8TEYCpFEqkYzCgvz6Jjv47hsSaTYdxtELVJZlwW5jwJ8TX3XUNdbtosBg5sSGYctU+zCBq71l1DNf5ZTOopwzCuVQdubloIcYbJvkGFvrfEkIn/JDteUgTlMtx4fiqFjJf4bXVOdnI3/VjA4+QRL9K4NquSWb4JEzTK3h9NRvB1w6DebgRMVRsh6CAJ79Oi9JEtiYzpmiAvQUFl7y3k57xEJkh1W166i6l0+nx+8uJxhiuCxrZ1renc+TVMbqzzkOlvweQ2Uds2k8WIiRedZnMkaJR9UEJGw6e8JPs5DfZf1vOS3Uci6wFR+nClbl4twUZyPzO59rpBYtVdqTlLtXsP0IW/qilwzk/1Z/0UqOOjj5Gdn0c57XyU3dZHedcXUUH/PtSysF2sYbRlTPIUkxysIxmXYHhZ1u1K5M01+C/R8a92Ue0v++lS1UmtcPbK3OIOVHBzX+p8zxDK8uXaq+Pm5Ztsmz8k3nKNSbBxQylz+82F6gNUtXkHVX22nYJX6uMK46bC2zKHiu8fTsVjhpEnJ9tNFz4u+ZssnV4aa+OJTXDDu4vc7pa15Qfo8MqyyPJzJZGLRljG3aeVUsHAPi5as8LHu6sY/+jz9sZRBHHOGaHgZnvDWPmjZd9S5fovY1VRi9atKX/4UMofcTv5Bg2k7MJCym5fQEYoRIETJ6n+75N0+WAF1X6xheq+20GhhthaWcmEUdS19M6Yc9gLhcc7xn5OWghKDaWs7g+nQzzUcJUq3llHp3/83T4HtexSREUzZ1DHaVPImxfWraMa2QqCfj/VfPwJVS5eSoGaU7ZaoutuvZF6PjaRPFktourUAqkMlObfoGo8HrUBsfrlRA7tY5HztGhBXec8SYP3l1PREzNdk8N4Xp+POs2YRoMP7qFuLzzL314OiiPAHxJzOkHKDhVSQeQNSsX5RN1hJ90y3rIsmfcMlSx4Thk6+aT/p920f9KUqLfpZrkyoePUMb+7qaA3vUG2CpzIYUOJ980dXbKMTq3fkDwrpafvlkE04IdvqHUfq7qLuSGDDpIDLJxGSILSnmOTxyyM9cRRgN0yHoxgkA5NnZEykjlFnanfprW8OVl1DMgAWbSA+QYblRF+g2ys8rGgtedwzpmaiOzI3xyWpfB6I3Olg2Tftast3yRkgCw6SC5hA7yRoGE8pOsADQWHuIri2Y/Lb67XqhVpJYnlis1LBWSBTA6YjHqPPBqIRuoaQ/1SNRQcBSXz58ou7SeMp3STLJo107JUIQtk0gKuE/YPeWijfwB/mFofCnRLFTjnRHaTGpVukt7cXP4c5qgiSH3XUmDLSE7s/PKwajHUVmfJwipQFWdoKDjE7Ug3ycIHJ/BBL/cNOTVkgmxasGePNxnRS9eodo91W4b6FU9DSSdJzJl/B3siFdhlU6oak6IXdtEe0RVNJReOVDdlOAXdUod0kiy4d7RlartslspwpgcThFM2PmCsqoDi7IR0kWzVm33ICuyyKVWNSaMYS1SrEcMSVwGrwA3SQTKnUwfL1HbZLJUyI/J4k2l0p0fXyhL1cEcBTB63SDXJ7I5WgnbZouRibvgGEwLsuUSQSpJs1CYytWzrIRkIid8PlrUKGKuJIlUkA6fPWKa2y2apRIa5YZMJu7qiasMF8H6pgCWeDFJBMlBTY5naLpulUmYMEEQIKz7g2lNx+dCfajahdHNJ+neXW+azy2aplBlRhW9QK3FetyJLv9rPXblrLH3UTHNI1m37Xh1K+lQtBVEZUYEleiiqXCkoGGD1asFBFLygXdVK79jJZEhizrrtOy0DwmGsR4gJIrKqATzOcMqagPer5qP1ZjbpZ6IkT6xcTVcvNoUiIJOjN5y5eWTYGJFVDeBxVgHvV/CSoz2mdomZdkvSCASoevkKyxh2mSyVnOED5Ty4eRpdbFvtDdQ83OnwOJuAa6/6reVmtllPNyQrFy6hK8eadGLIApm04FA4uGGTYbriQ11jxArgTldxdOmbBO9XKqAjWfnyq1S17G3LNJDFRfxiDTqFCSLgj5i4BogVqAdrqL5euvbqq49rermvikeycvFrFLp6NTIQZIAsOkguzAltJEF5mwEBfw0QCEGsQAWW6r6xkyidJNX5kIYMjkEZ5mLe0Ai/QfTEbQY4TTVAIATOVxUXDxykPbfdldLl2nXubHWKSBpzOwVjJAfmYnaKEJSeYNxmcAACIYgVqMCb/G3UWDq6aCmFLl9WqxJKY7c8suAVOsbftx2Y01UQhjmYXm2MYVHPUxF8gaMWDiL4UOK5NuzC4xDHOYejQN0tzXbNCb5YCGLAVIXP4CCCD6XgvjHUqlcPgrEKe054PBQ4VctxhxqCbgn1CxqKeoibxPB0E48w2zuGz8yGRiYHQEGSXd+4E5O5IWxJUt6NydBLCJGlGr4jk/w1EvapwrWnvUbC5hgsFkfF2RRKeTbrGok5TkZfBIqQzOSrXBGSmXwZzySJZ8Zep7SQxL1s3GbIxAuxFqKZeqVZJYl05FJ6OBQ+0imgau9v5llvhOtkqzTA/w+X0k3B1KdU2DlqHA6sytgjh+d0/1YAtyV79oRnJ43z7VFvKanjJpv+F6kQRmXP/CHMAAAAAElFTkSuQmCC"},5983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"Help"};t.default=i},"59a2":function(e,t,n){},"59b5":function(e,t,n){"use strict";n.r(t);var i=n("c39b"),a=n("6d1c");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"59c2":function(e,t,n){"use strict";n.r(t);var i=n("da8c"),a=n("383f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("2f48");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"59ed24e4",null);t["default"]=s.exports},"59e2":function(e,t,n){},"59f7":function(e,t,n){e.exports=n.p+"static/img/modelinfo.2a9b2ea8.png"},"5a82":function(e,t,n){},"5ab2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAPCAYAAADphp8SAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEqADAAQAAAABAAAADwAAAAAC2eFmAAABjUlEQVQ4EY1TMUtCURQ+3/OpURBRBAWtjRFCW7PPclQMlAynaOgX1NTQ3NwSgqBEaEIRqLm1tAXV0tpQS4OBg6nvdJ529T1Nn3c59zvnfB/3fPde0IQrYiQemHnTagehCY3C+VL2XtERMeJnCoyNjAMmnur3oArws4VBdK4TI9IvjtmBfMT9uogEhLtqZTSdiyI22ZLR3mW0FdUNDXuFUjajsK42bpHJsw0yuycANZe1+Yqd0ztR0kjO1Ln9yqBFqwHE3x7dH7i6S3/aCaP2iAQTp3/FWTHz0NEIugDDVQh+Suvi375FFvM0u5kdQbkIqbcc4v8A/vFUe6PFwqmlVrPx4eiDvnZdzrw4ciNAT8iqR7cSIWqj4xHBrOXLuZsRvKG0Q2ioaomHkxvcbBWZxAlZAD0VytngYC+iRvx4MGnHJmOdiGMq1/ke4BOFO9GLnG4SjhzJASCXoLPtRcvNeuV0Do7Wokf30UK7O6bZvlT6QqgVKrk5hVV0fdkLvunbr0Y9JeN1PdK0N0W2x1+u83dOUq/a+gAAAABJRU5ErkJggg=="},"5ada":function(e,t,n){"use strict";n.r(t);var i=n("bedf"),a=n("24ad");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"5bbd":function(e,t,n){"use strict";n.r(t);var i=n("381f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"5bf2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container",staticStyle:{overflow:"auto"}},[[n("el-form",{ref:"dataForm",staticStyle:{width:"700px"},attrs:{rules:e.rules,model:e.temp,"label-position":"right"}},[n("span",{staticClass:"midText"},[e._v("业务场景维护：")]),n("el-form-item",{attrs:{label:"业务场景名称",prop:"sceneName","label-width":"150px"}},[n("el-input",{staticClass:"input",model:{value:e.temp.sceneName,callback:function(t){e.$set(e.temp,"sceneName",t)},expression:"temp.sceneName"}})],1),n("el-form-item",{attrs:{label:"业务属性编码",prop:"sceneCode","label-width":"150px"}},[n("el-input",{staticClass:"input",model:{value:e.temp.sceneCode,callback:function(t){e.$set(e.temp,"sceneCode",t)},expression:"temp.sceneCode"}})],1)],1),[n("span",{staticClass:"midText"},[e._v("用户组定义：")]),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleCreate()}}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"50px",align:"center"}}),n("el-table-column",{attrs:{label:"组名称",prop:"grpName",width:"200px"}}),n("el-table-column",{attrs:{label:"组代码",prop:"grpCode",width:"200px"}}),n("el-table-column",{attrs:{label:"组用户来源SQL",width:"500px",align:"center",prop:"grpSql"},scopedSlots:e._u([{key:"default",fn:function(t){return null!=t.row.grpSql&&t.row.grpSql.length>0?[n("el-popover",{attrs:{trigger:"hover",placement:"top",width:"500"}},[n("el-row",[n("el-col",{attrs:{span:24}},[e._v(" "+e._s(t.row.grpSql)+" ")])],1),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-link",{attrs:{underline:!1,type:"primary"}},[e._v("查看组用户来源SQL")])],1)],1)]:void 0}}],null,!0)}),n("el-table-column",{attrs:{label:"操作",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"oper-btn detail",attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.selectFilterOne(t.row.sceneGrpUuid)}}}),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.updateGrp(t.row.sceneGrpUuid)}}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.deleteGrp(t.row.sceneGrpUuid)}}})]}}])})],1),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[[n("el-form",{ref:"dataFormGrp",staticStyle:{width:"100%"},attrs:{rules:e.rulesGrp,model:e.tempGrp,"label-position":"right"}},[n("el-form-item",{attrs:{label:"组名称",prop:"grpName"}},[n("el-input",{model:{value:e.tempGrp.grpName,callback:function(t){e.$set(e.tempGrp,"grpName",t)},expression:"tempGrp.grpName"}})],1),n("el-form-item",{attrs:{label:"组代码",prop:"grpCode"}},[n("el-input",{model:{value:e.tempGrp.grpCode,callback:function(t){e.$set(e.tempGrp,"grpCode",t)},expression:"tempGrp.grpCode"}})],1),n("el-form-item",{attrs:{label:"组用户来源SQL(所写SQL中必须有id,name,pid 三列才可预览查看)",prop:"grpSql"}},[n("el-input",{attrs:{rows:6,type:"textarea"},model:{value:e.tempGrp.grpSql,callback:function(t){e.$set(e.tempGrp,"grpSql",t)},expression:"tempGrp.grpSql"}})],1)],1)],n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("保存")])],1)],2)],n("el-row",[n("el-col",{staticStyle:{height:"260px","margin-top":"150px"}},[n("span",{staticClass:"midText"},[e._v("维护业务场景下数据筛选器：")]),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleCreateFilter()}}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoadingFilter,expression:"listLoadingFilter"}],key:e.tableKeyFilter,staticStyle:{width:"100%","max-height":"150px",overflow:"auto"},attrs:{data:e.listFilter,border:"","highlight-current-row":""},on:{"sort-change":e.sortChangeFilter,"selection-change":e.handleSelectionChangeFilter}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"50px",align:"center"}}),n("el-table-column",{attrs:{label:"筛选器名称",prop:"filterName",width:"200px"}}),n("el-table-column",{attrs:{label:"描述",width:"200px",prop:"describtion"},scopedSlots:e._u([{key:"default",fn:function(t){return null!=t.row.describtion&&t.row.describtion.length>0?[n("el-popover",{attrs:{trigger:"hover",placement:"top",width:"500"}},[n("el-row",[n("el-col",{attrs:{span:24}},[e._v(" "+e._s(t.row.describtion)+" ")])],1),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-link",{attrs:{underline:!1,type:"primary"}},[e._v("查看描述")])],1)],1)]:void 0}}],null,!0)}),n("el-table-column",{attrs:{label:"IN值SQL",width:"500px",align:"center",prop:"inValueSql"},scopedSlots:e._u([{key:"default",fn:function(t){return null!=t.row.inValueSql&&t.row.inValueSql.length>0?[n("el-popover",{attrs:{trigger:"hover",placement:"top",width:"500"}},[n("el-row",[n("el-col",{attrs:{span:24}},[e._v(" "+e._s(t.row.inValueSql)+" ")])],1),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-link",{attrs:{underline:!1,type:"primary"}},[e._v("查看IN值SQL")])],1)],1)]:void 0}}],null,!0)}),n("el-table-column",{attrs:{label:"操作",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",lass:"oper-btn detail",size:"mini"},on:{click:function(n){return e.selectFilterOne(t.row.inValueSql)}}}),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.updateFilter(t.row.sceneFilterUuid)}}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.deleteFilter(t.row.sceneFilterUuid)}}})]}}])})],1),n("el-dialog",{attrs:{title:e.textMapFilter[e.dialogStatusFilter],visible:e.dialogFormVisibleFilter},on:{"update:visible":function(t){e.dialogFormVisibleFilter=t}}},[n("div",{staticClass:"detail-form"},[n("el-form",{ref:"dataFormFilter",attrs:{rules:e.rulesFilter,model:e.tempFilter,"label-position":"right"}},[n("el-form-item",{attrs:{label:"筛选器名称",prop:"filterName"}},[n("el-input",{model:{value:e.tempFilter.filterName,callback:function(t){e.$set(e.tempFilter,"filterName",t)},expression:"tempFilter.filterName"}})],1),n("el-form-item",{attrs:{label:"IN值SQL",prop:"inValueSql"}},[n("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.tempFilter.inValueSql,callback:function(t){e.$set(e.tempFilter,"inValueSql",t)},expression:"tempFilter.inValueSql"}})],1),n("el-form-item",{attrs:{label:"描述",prop:"describtion"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.tempFilter.describtion,callback:function(t){e.$set(e.tempFilter,"describtion",t)},expression:"tempFilter.describtion"}})],1),n("el-form-item",{attrs:{label:"关联业务属性",prop:"bizAttrUuid"}},[n("el-select",{ref:"bizAttrUuid",attrs:{placeholder:"请选择业务属性"},model:{value:e.tempFilter.bizAttrUuid,callback:function(t){e.$set(e.tempFilter,"bizAttrUuid",t)},expression:"tempFilter.bizAttrUuid"}},e._l(e.bizJson,(function(e){return n("el-option",{key:e.bizAttrUuid,attrs:{label:e.attrName,value:e.bizAttrUuid}})})),1)],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisibleFilter=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatusFilter?e.createDataFilter():e.updateDataFilter()}}},[e._v("保存")])],1)]),n("el-dialog",{attrs:{title:"预览",visible:e.dialogFormVisibleTree},on:{"update:visible":function(t){e.dialogFormVisibleTree=t}}},[n("MyElTree",{directives:[{name:"loading",rawName:"v-loading",value:e.tree1Loading,expression:"tree1Loading"}],ref:"tree1",staticClass:"filter-tree",attrs:{props:e.props,"highlight-current":!0,data:e.treeData1,"node-key":"id","filter-node-method":e.filterNode,"show-checkbox":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},["root"===a.id?n("i",{staticClass:"el-icon-s-home",staticStyle:{color:"#409EFF"}}):e._e(),"folder"===a.type?n("i",{staticClass:"el-icon-folder",staticStyle:{color:"#409EFF"}}):e._e(),"table"===a.type?n("i",{staticClass:"el-icon-tickets",staticStyle:{color:"#409EFF"}}):e._e(),"column"===a.type?n("i",{staticClass:"el-icon-c-scale-to-original",staticStyle:{color:"#409EFF"}}):e._e(),n("span",{attrs:{title:i.name}},[e._v(e._s(i.label))])])}}])}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisibleTree=!1}}},[e._v("关闭")])],1)],1)],1)],1)],n("div",{staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.closeEdit}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveScene}},[e._v("保存")])],1)],2)},a=[]},"5cc4":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-delete-2",use:"icon-icon-delete-2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-delete-2"><defs><style type="text/css"></style></defs><path d="M440.2 664.9c-9.6 0-17.3-7.7-17.3-17.3V440c0-9.6 7.7-17.3 17.3-17.3 9.6 0 17.3 7.7 17.3 17.3v207.6c0 9.6-7.7 17.3-17.3 17.3zM512 690.9c-9.6 0-17.3-7.7-17.3-17.3V414.1c0-9.6 7.7-17.3 17.3-17.3 9.6 0 17.3 7.7 17.3 17.3v259.5c0 9.5-7.7 17.3-17.3 17.3zM583.8 664.9c-9.6 0-17.3-7.7-17.3-17.3V440c0-9.6 7.7-17.3 17.3-17.3 9.6 0 17.3 7.7 17.3 17.3v207.6c0 9.6-7.8 17.3-17.3 17.3zM723.9 331.5H300.1c-11.9 0-21.6-9.7-21.6-21.6 0-11.9 9.7-21.6 21.6-21.6h423.8c11.9 0 21.6 9.7 21.6 21.6 0 12-9.6 21.6-21.6 21.6z" p-id="3585" /><path d="M342.2 288.3v484.4c0 9.6 7.7 17.3 17.3 17.3h311.4c9.6 0 17.3-7.7 17.3-17.3V288.3h-346z m294.1 449.8H394.1V340.2h242.2v397.9zM635.6 288.3H393.4v-26c0-14.3 11.6-25.9 25.9-25.9h190.3c14.3 0 25.9 11.6 25.9 25.9v26z" p-id="3586" /><path d="M928.1 928.2H98v-830h830.1v830zM863.2 163H162.9v700.4h700.4V163z" p-id="3587" /></symbol>'});o.a.add(s);t["default"]=s},"5d09":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(n("a026"));function r(e,t){var n=new a.default({render:function(n){return n(e,{props:t})}}).$mount();document.body.appendChild(n.$el);var i=n.$children[0];return i.remove=function(){document.body.removeChild(n.$el),n.$destroy()},i}},"5d0e":function(e,t,n){"use strict";n("20f3")},"5d4e":function(e,t,n){"use strict";n.r(t);var i=n("cf41"),a=n("51eb");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("a8d1");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"0c4edf26",null);t["default"]=s.exports},"5d74":function(e,t,n){"use strict";n.r(t);var i=n("9bee"),a=n("4200");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("01d0");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"fbb1a5ca",null);t["default"]=s.exports},"5d98":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c5f6");var i=n("cb6f");n("7cb2"),n("e6b1");var a={props:{tableOptions:{type:Object,default:function(){return{}}},rowData:{type:Array,default:function(){return[]}},pageNum:{type:Number,default:1},pageSize:{type:Number,default:20},total:{type:Number,default:0}},data:function(){var e=this;return{gridOptions:{rowHeight:52,isPagination:!0,rowSelection:"multiple",onGridReady:function(){e.gridOptions.api.sizeColumnsToFit()},columnDefs:[],rowData:[]}}},watch:{rowData:{handler:function(e,t){this.gridOptions.rowData=e,this.gridOptions.api&&this.gridOptions.api.setRowData&&this.gridOptions.api.setRowData(e)},deep:!0,immediate:!0},tableOptions:{handler:function(e,t){this.gridOptions=Object.assign({},this.gridOptions,e)},deep:!0,immediate:!0}},mounted:function(){var e=this;this.$nextTick((function(){e.initTable()}))},methods:{initTable:function(){var e=document.querySelector("#myGrid");console.log(this.gridOptions),new i.Grid(e,this.gridOptions),this.getSelectRows()},getSelectRows:function(){var e=this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.getSelectedRows();return e},handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}};t.default=a},"5e72":function(e,t,n){"use strict";n.r(t);var i=n("682d"),a=n("ff02");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"a41d998a",null);t["default"]=s.exports},"5e97":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},"5eb6":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("7f7f"),n("96cf");var a=i(n("c973"));n("ac6a"),n("20d6");var r=i(n("6d5f")),o=i(n("333d")),s=n("009c"),l=i(n("c164")),u=i(n("1146")),c={components:{Pagination:o.default,QueryField:l.default,childTabs:r.default},data:function(){return{selectType:"handleSelectionChangeOne",transColRelsData:[],previewVisible:!1,sqlRule:[{codeValue:null,transValue:null}],tableInput:{transColRels:{codeValue:null,transValue:null,start:"0"}},tableKey:"transRuleUuid",list:null,total:0,executeSQLList:[],arrSql:{},listLoading:!1,queryFields:[{label:"转码方式",name:"ruleType",type:"select",data:[{name:"SQL语句",value:"1"},{name:"手动输入",value:"2"}],default:"-1"},{label:"规则名称",name:"ruleName",type:"fuzzyText"}],pageQuery:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},temp:{transRuleUuid:void 0,ruleName:"",ruleType:"",ruleDesc:"",codeValue:"",transValue:"",transColRels:[{codeValue:null,transValue:null}]},colsJson:[],selections:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"修改转码规则",create:"新增转码规则"},dialogPvVisible:!1,rules:{ruleName:[{required:!0,message:"请填写规则名称",trigger:"change"}],ruleType:[{required:!0,message:"请填写转码方式",trigger:"change"}],ruleDesc:[{max:100,message:"长度不得超过100",trigger:"change"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{openAddNewDialog:function(){var e=!1;if(this.transColRelsData.length>0){for(var t=0;t<this.transColRelsData.length;t++)if("0"===this.transColRelsData[t].start){e=!0;break}e||this.transColRelsData.push(this.tableInput.transColRels)}else this.transColRelsData.push(this.tableInput.transColRels)},formatTag:function(e,t){return 1===e.ruleType?"SQL语句":"手动输入"},lineAdd:function(e,t){switch(t){case"transColRels":if(null==this.tableInput.transColRels.codeValue)return void this.$message.error("请填写真实值");if(null==this.tableInput.transColRels.transValue)return void this.$message.error("请填转码值");var n=JSON.parse(JSON.stringify(this.tableInput.transColRels));n.start="1",this.transColRelsData.splice(-1,0,n),this.transColRelsData[this.transColRelsData.length-1].codeValue=null,this.transColRelsData[this.transColRelsData.length-1].transValue=null,this.transColRelsData[this.transColRelsData.length-1].start="0";break}},lineDelete:function(e,t){switch(t){case"transColRels":this.transColRelsData.splice(e,1);break}},getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,s.listByPage)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},resetTemp:function(){this.temp={transRuleUuid:void 0,ruleName:"",ruleType:1,ruleDesc:"",codeValue:"",transValue:"",transColRels:[{codeValue:null,transValue:null}]}},resetSqlRule:function(){this.sqlRule=[{codeValue:null,transValue:null}]},handleCreate:function(){var e=this;this.openAddNewDialog(),this.resetTemp(),this.transColRelsData=[];var t=this.tableInput.transColRels;t.start="0",t.transValue=null,t.codeValue=null,this.transColRelsData.push(t),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.transColRelsData.length>0&&"0"===this.transColRelsData[this.transColRelsData.length-1].start&&null===this.transColRelsData[this.transColRelsData.length-1].codeValue&&this.transColRelsData.splice(this.transColRelsData.length-1,1),this.$refs["dataForm"].validate((function(t){t&&(2===e.temp.ruleType?e.temp.transColRels=e.transColRelsData:e.temp.transColRels=e.sqlRule,(0,s.save)(e.temp).then((function(){e.getList(),e.previewVisible=!1,e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})})))}))},exSql:function(){var e=this,t={};"undefined"!==typeof this.temp.sqlContent?(t.sqlContent=this.temp.sqlContent,(0,s.previewSql)(t).then((function(t){e.transCodeShow=!0,e.colsJson=t.data.columnNames,e.executeSQLList=t.data.executeTask.executeSQL,e.arrSql=t.data,e.previewVisible=!0,e.$nextTick((function(){e.$refs.childTabs.loadTableData(e.arrSql)}))}))):this.$message({type:"info",message:"执行失败！转码规则未填写"})},handleUpdate:function(){var e=this,t=Object.assign({},this.selections[0]);this.dialogStatus="update",this.dialogFormVisible=!0,(0,s.selectOne)(t).then((function(t){if(e.resetTemp(),e.temp=t.data,1===e.temp.ruleType)e.colsJson=[],e.colsJson.push(e.temp.transColRels[0].transValue),e.colsJson.push(e.temp.transColRels[0].codeValue),e.sqlRule=t.data.transColRels,e.temp.transColRels=[],e.transColRelsData=[];else{e.colsJson=[],e.resetSqlRule(),e.transColRelsData=t.data.transColRels;var n=e.tableInput.transColRels;n.start="0",n.transValue=e.transColRelsData[e.transColRelsData.length-1].transValue,n.codeValue=e.transColRelsData[e.transColRelsData.length-1].codeValue,e.transColRelsData.push(n),e.transColRelsData.splice(e.transColRelsData.length-2,1)}})),this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.transColRelsData.length>0&&"0"===this.transColRelsData[this.transColRelsData.length-1].start&&null===this.transColRelsData[this.transColRelsData.length-1].codeValue&&this.transColRelsData.splice(this.transColRelsData.length-1,1),this.$refs["dataForm"].validate((function(t){if(t){1===e.temp.ruleType?e.temp.transColRels=e.sqlRule:(e.temp.sqlContent="",e.temp.transColRels=e.transColRelsData);var n=Object.assign({},e.temp);(0,s.update)(n).then((function(){var t=e.list.findIndex((function(t){return t.transRuleUuid===e.temp.transRuleUuid}));e.list.splice(t,1,e.temp),e.previewVisible=!1,e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},handleDelete:function(){var e=this,t=[];this.selections.forEach((function(e,n){t.push(e)})),this.$confirm("确定删除该转码规则?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){(0,s.del)(t).then((function(){e.getList(),e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},beforeUpload:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.file,n){e.next=5;break}return e.abrupt("return",!1);case 5:if(/\.(xls|xlsx)$/.test(n.name.toLowerCase())){e.next=8;break}return this.$message.error("上传格式不正确，请上传xls或者xlsx格式"),e.abrupt("return",!1);case 8:i=new FileReader,i.onload=function(e){try{var n=e.target.result,i=u.default.read(n,{type:"binary"}),r=i.SheetNames[0],o=u.default.utils.sheet_to_json(i.Sheets[r],{header:1,defval:""}),s=[];for(var l in o){var c={};c.codeValue=o[l][0],c.transValue=o[l][1],s.push(c)}a.transColRelsData=s;var d=a.tableInput.transColRels;d.start="0",d.transValue=a.transColRelsData[a.transColRelsData.length-1].transValue,d.codeValue=a.transColRelsData[a.transColRelsData.length-1].codeValue,a.transColRelsData.push(d),a.transColRelsData.splice(a.transColRelsData.length-2,1)}catch(t){return console.log("出错了：："),!1}},i.readAsBinaryString(n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(e){this.selections=e},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"}}};t.default=c},"5ed6":function(e,t,n){"use strict";n.r(t);var i=n("ceb7"),a=n("a036");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"69d8533a",null);t["default"]=s.exports},"5f28":function(e,t,n){},"5f87":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getToken=o,t.setToken=s,t.removeToken=l;var a=i(n("a78e")),r="ROLTPAToken";function o(){return a.default.get(r)}function s(e){return a.default.set(r,e)}function l(){return a.default.remove(r)}},"5fdf":function(e,t,n){},6005:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABMElEQVQ4T8WVsUvEMBTGvy86ujqICAfi5OKf4OymIC1SI4Lklht11pvPzek6KNalh6Cbf4KrLk4iCCL+E9c+iVAxtdVcqZgt5Msv770veSEABNtmk8QhgGU7bzAeRNAfXcSXDLU5Aj5gbYw+A23uCKy0QRPg3kYoVTACA8nzGyq1JsCB74E1QB6nyfATEuruAJB9H6gDTJOYPpvKmq9ZOkCSW5JlbzKlXkbn8VOxMdgxi8zyhcrDyA7Is2KtLuXrNBluFKJQd68AWfeJvtYUAK8QeQS5BGDeB2Y1PwF9GY7u34G/lmGCCFkyypwA6JXr4gJFdiHyXFW88lWymjDaWxU1PUNkpwBnv5nS5GJHkZkbK9wC6EzosvscA216BGzazV32aRh/0r7abbC2AG1+Ae85t4ibIsFpswAAAABJRU5ErkJggg=="},6014:function(e,t,n){"use strict";n.r(t);var i=n("6f87"),a=n("caf1");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("02e4");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"2d017427",null);t["default"]=s.exports},6026:function(t,n,i){"use strict";var a=i("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.getParamsTree=j,n.getFolderAndParams=B,n.initDragAndDrop=_,n.initVariable=V,n.initEvent=F,n.initSQLEditor=U,n.initHint=q,n.completeAfter=z,n.initIcon=Q,n.initTableTree=H,n.refushTableTree=G,n.dropTable=Y,n.maxOpenOne=ee,n.initParamTree=te,n.initTableTip=ie,n.hideRMenu=re,n.initFunctionTree=se,n.tableTreeSearch=he,n.paramTreeSearch=fe,n.functionTreeSearch=pe,n.sqlFormat=Ce,n.findAndReplace=Se,n.caseTransformation=Te,n.selectSqlNotes=Ne,n.selectSqlCancelNotes=Ie,n.getSaveInfo=De,n.getSelectSql=Pe,n.saveSqlDraft=Oe,n.getSaveSqlDraftObj=Me,n.useSql=Re,n.getSql=je,n.verifySql=Be,n.executeSQL=Ve,n.startExecuteSql=Fe,n.getExecuteTask=Ue,n.editorSql=qe,n.refreshCodeMirror=ze,n.getColumnSqlInfo=Qe,n.getIsUpdate=$e,n.setIsUpdate=He,n.getUuid=Ge,n.getDefaultSqlEditorLocationByPersonUuid=Ye,n.saveSqlEditorExecuteDefaultPath=We,n.getGraphSaveInfo=Ke,n.getZtreeSelectNode=Xe,n.sendSqlEditorVue=void 0,i("96cf");var r=a(i("c973"));i("7514"),i("ac6a"),i("456d"),i("28a5"),i("6b54"),i("a481"),i("7f7f"),i("4917");var o,s,l,u,c,d,h,f=a(i("b775")),p=i("8ebc"),m=a(i("4360")),g=i("cf87"),v="/analysis",y="/data",b=!1,A=null,w=!0,x="",C=window.location.pathname,k=i("0a64"),S=i("5535"),T=i("bc61"),N={},I=[],D=[],P={},L=[],O=!1,M=0,E=null,R=function(e){E=e};function j(){return(0,f.default)({baseURL:v,url:"/ParamFolderController/getParamsTree",method:"get"})}function B(e){return(0,f.default)({baseURL:v,url:"/paramController/getFolderAndParams",method:"get",params:e})}function _(){var e=document.getElementById("container"),t=window.location.pathname,n=document.getElementById("iconImg");t.match("page")?n.src="../../images/ico/maximize.png":n.src="../images/ico/maximize.png";var i=document.getElementById("leftPart"),a=document.getElementById("rightPart"),r=document.getElementById("vertical"),o=0;function s(){var e=document.getElementById("container").clientWidth-229;console.log(e),0==c&&0==d&&0==h&&($("#leftPart").stop(!0).animate({width:203},300),$("#vertical").delay(300).fadeIn(100).css("left","11.5%"),$("#rightPart").stop(!0).animate({width:e+"px",left:0},300),$("#sidebar").css("border-right","1px solid rgb(206,208,212)"))}function l(){var e=document.getElementById("container").clientWidth-34;0==c&&0==d&&0==h&&($("#vertical").fadeOut(100),$("#leftPart").delay(100).stop(!0).animate({width:0},300),$("#rightPart").delay(100).stop(!0).animate({width:e+"px",left:15},300),$("#sidebar").css("border","none"))}function u(){$("#sidebar div").removeClass("add-sidiv"),$(".left-dataTree").fadeOut(0),$(".left-paramTree").fadeOut(0),$(".left-sqlFunTree").fadeOut(0),c=!1,d=!1,h=!1}r.onmousedown=function(t){(t||event).clientX;return X(),document.onmousemove=function(t){t=t||window.event,t.target||t.srcElement;return r.style.margin=0,o=(t||event).clientX,r.style.left=(o-80-J)/e.clientWidth*100+"%",i.style.width=(o-86-J)/e.clientWidth*100+"%",a.style.width=(e.clientWidth-o+76+J)/e.clientWidth*100+"%",!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,r.releaseCapture&&r.releaseCapture()},r.setCapture&&r.setCapture(),!1};var c=!0,d=!1,h=!1;$(".left-paramTree").fadeOut(300),$(".left-sqlFunTree").fadeOut(300),$(".unfold-shuju").on("click",(function(){1==c?($(".left-dataTree").fadeOut(300),$(this).removeClass("add-sidiv"),c=!1,l()):0==c&&(s(),u(),$(".left-dataTree").fadeIn(300),$(this).addClass("add-sidiv"),c=!0)})),$(".unfold-canshu").on("click",(function(){1==d?($(".left-paramTree").fadeOut(300),$(this).removeClass("add-sidiv"),d=!1,l()):0==d&&(s(),u(),$(".left-paramTree").fadeIn(300),$(this).addClass("add-sidiv"),d=!0)})),$(".unfold-sql").on("click",(function(){1==h?($(".left-sqlFunTree").fadeOut(300),$(this).removeClass("add-sidiv"),h=!1,l()):0==h&&(s(),u(),$(".left-sqlFunTree").fadeIn(300),$(this).addClass("add-sidiv"),h=!0)}));var f=document.getElementById("rightPart"),p=document.getElementById("sqlEditorDiv"),m=document.getElementById("bottomPart"),g=document.getElementById("horizontal");g.onmousedown=function(e){var t=(e||event).clientY;g.top=g.offsetTop;var n=$(".ui-jqgrid-bdiv").eq(0)[0];return document.onmousemove=function(e){var i=g.top+((e||event).clientY-t),a=(e=e||window.event,e.target||e.srcElement,(0==f.clientHeight?f.scrollHeight:f.clientHeight)-g.offsetHeight);g.style.margin=0,i<0&&(i=0),i>a&&(i=a);var r=$(".CodeMirror-wrap")[0];return g.style.top=p.style.height=i+"px",r.style.height=i-37+"px",m.style.height=f.clientHeight-i-11+"px",n&&(n.style.height=f.clientHeight-i-197+"px"),!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,g.releaseCapture&&g.releaseCapture()},g.setCapture&&g.setCapture(),!1}}function V(){b=!1,A=null,w=!0,x="",N={arr:[]},I=[],D=[],P={},h=void 0,M=0,O=!1}function F(){$("body").mousemove((function(e){e=e||window.event;var t=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop;c=e.pageX||e.clientX+t,d=e.pageY||e.clientY+n}))}function U(e,t,n){var i=g.fromTextArea(e,{mode:"text/x-mssql",theme:"idea",indentWithTabs:!0,lineNumbers:!0,lineWrapping:!0,smartIndent:!0,autofocus:!0,matchBrackets:!0,styleActiveLine:!1,hintOptions:{tables:t,tablesTitle:n}});i.on("cursorActivity",(function(e){!1===e.curOp.focus&&q(i),$("span").removeClass("errorHighlight")})),i.on("beforeChange",(function(e,t){"paste"===t.origin&&w&&(A=i.getCursor(),x=i.getRange({ch:0,line:A.line},{ch:A.ch,line:A.line}),w=!1)})),i.on("change",(function(e,t){if(0!=M&&(O=!0),M++,t.origin){var n="",i=1,a=t.text;if(1===a.length&&""!==a[0]||a.length>1)for(var r=0;r<a.length;r++)n+=a[r];if(""===n&&(a=t.removed,1===a.length&&""!==a[0]||a.length>1)){for(r=0;r<a.length;r++)n+=a[r];i=0}if(-1!=n.indexOf("{#")&&-1!=n.indexOf("#}")&&I&&I.length>0)for(r=0;r<I.length;r++)-1!=n.indexOf(I[r].id)&&(I[r].opt=i);if("paste"===t.origin&&N&&void 0!=N.arr&&N.arr.length>0){var o=!1;for(r=0;r<N.arr.length;r++)if(-1!=n.indexOf(N.arr[r].id)){var s=Ge(),l="{#"+s+"#}",u=N.arr[r].name,c={oldParamId:N.arr[r].id,id:l,copyParamId:s,allowedNull:N.arr[r].allowedNull,moduleParamId:N.arr[r].moduleParamId,name:u};N.arr.push(c),o=!0}o&&we(N),w=!0}}})),i.setSize("auto",.5*$(document).height()-40+"px"),s=i,$(".CodeMirror-scroll").focus(),i.setSize("auto","88%"),$(".CodeMirror-scroll:eq(0)").css("background-color","rgb(237, 241, 245)")}function q(e){if(b)b=!1;else{var t=e.getCursor(),n=e.getTokenAt(t).string,i=["!","@","#","$","%","^","&","*","(",")"," ",",","-","_","=","+","-","/",";","{","}","'","''","'''","|","\\","<",">"];""!==$.trim(n)&&(-1!=n.indexOf("{#")&&-1!=n.indexOf("#}")||-1==i.indexOf(n)&&(n=n.replace(/[a-z]+[\-|\']+[a-z]+/gi,"").match(/([a-z]+)/gi),g.ukeys=n,z(e)))}}function z(e,t){e.getCursor();return t&&!t()||setTimeout((function(){e.state.completionActive||e.showHint({completeSingle:!1})}),100),g.Pass}function Q(){$("#tableSearchImg").attr("src","../images/ico/search_blue.png"),$("#paramSearchImg").attr("src","../images/ico/search_blue.png"),$("#funSearchImg").attr("src","../images/ico/search_blue.png")}function H(t){for(var n={data:{key:{checked:"isChecked",name:"name",title:"name"},simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}},check:{enable:!1,chkStyle:"radio",radioType:"all"},view:{selectedMulti:!1},callback:{onDrop:ne,beforeDrag:function(e,t){return!(!t[0]||"table"!==t[0].type&&"view"!==t[0].type&&"datasource"!==t[0].type&&"column"!==t[0].type)},onRightClick:function(e,t,n){if(!n)return!1;o.selectNode(n);var i="",a=$(document).height()-e.clientY;if("table"===n.type||"view"===n.type||"datasource"===n.type?(i="tableMenu",history.scrollRestoration="manual","importDataTable"===n.pid&&(i="importTableMenu")):("importDataTable"===n.id&&(i="importDataMenu"),"bussDataRoot"!==n.id&&"bussRootNode"!==n.id&&"my_space"!==n.id&&"bussRootNode_dev"!==n.id&&"my_space_dev"!==n.id&&"other_space_dev"!==n.id||(i="rootMenu")),""===i)return!1;ae("node","dataTree",i,e.clientX,a<$("#"+i).height()?e.clientY-$("#"+i).height():e.clientY)},onExpand:function(t,n,i){var a=this;if((!i.children||0===i.children.length)&&"table"===i.type||"view"===i.type||"datasource"===i.type){o.removeChildNodes(i);var r=i.name,l=i.id;(0,f.default)({baseURL:y,url:"/tableMeta/getCols",method:"post",params:{tableMetaUuid:l,isEnclose:"1"}}).then((function(t){if(null==t.data)a.$message({message:"错误"+e.message+"error"});else{for(var n=[],l=[],u=0;u<t.data.length;u++)if(""===t.data[u].chnName||null==t.data[u].chnName||void 0==t.data[u].chnName){n.push(t.data[u].colName);var c={id:r+"_"+a,name:t.data[u].colName,displayName:t.data[u].colName,pid:i.id,isParent:!1,open:!1,type:"column",icon:k,enName:t.data[u].colName};l.push(c)}else{var d=t.data[u].colName+"("+t.data[u].chnName+")";n.push(t.data[u].colName);c={id:r+"_"+a,name:d,displayName:d,pid:i.id,isParent:!1,open:!1,type:"column",icon:k,enName:t.data[u].colName};l.push(c),s.options.hintOptions.tablesTitle[t.data[u].colName]=t.data[u].chnName}n.length>0&&(g.tableColMapping[r]=n,s.options.hintOptions.tables[r]=n,o.addNodes(i,l))}}))}}},edit:{enable:!0,showRenameBtn:!1,showRemoveBtn:!1,drag:{autoExpandTrigger:!1,prev:!1,next:!1,inner:!1}}},i=0;i<t.data.length;i++)"table"===t.data[i].type?(t.data[i].icon=S,t.data[i].enName=t.data[i].name,t.data[i].nameCn&&(t.data[i].name=t.data[i].name+"("+t.data[i].nameCn+")"),t.data[i].isParent=!0):"view"===t.data[i].type?(t.data[i].icon=T,t.data[i].isParent=!0,t.data[i].enName=t.data[i].name,t.data[i].nameCn&&(t.data[i].name=t.data[i].name+"("+t.data[i].nameCn+")")):"folder"===t.data[i].type&&(t.data[i].isParent=!0);t.data.push({id:"ROOT",pid:null,name:"所有数据",displayName:"所有数据",type:"ROOT",isParent:!0,open:!0,level:0}),L=t.data,o=$.fn.zTree.init($("#dataTree"),n,t.data)}function G(t){var n={data:{key:{checked:"isChecked",name:"name",title:"displayName"},simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}},check:{enable:!1,chkStyle:"radio",radioType:"all"},view:{selectedMulti:!1},callback:{onDrop:ne,beforeDrag:function(e,t){return!(!t[0]||"table"!==t[0].type&&"view"!==t[0].type&&"datasource"!==t[0].type&&"column"!==t[0].type)},onRightClick:function(e,t,n){if(!n)return!1;o.selectNode(n);var i="",a=$(document).height()-e.clientY;if("table"===n.type||"view"===n.type||"datasource"===n.type?(i="tableMenu",history.scrollRestoration="manual","importDataTable"===n.pid&&(i="importTableMenu")):("importDataTable"===n.id&&(i="importDataMenu"),"bussDataRoot"!==n.id&&"bussRootNode"!==n.id&&"my_space"!==n.id&&"bussRootNode_dev"!==n.id&&"my_space_dev"!==n.id&&"other_space_dev"!==n.id||(i="rootMenu")),""===i)return!1;ae("node","dataTree",i,e.clientX,a<$("#"+i).height()?e.clientY-$("#"+i).height():e.clientY)},onExpand:function(t,n,i){var a=this;if((!i.children||0===i.children.length)&&"table"===i.type||"view"===i.type||"datasource"===i.type){o.removeChildNodes(i);var r=i.name,l=i.id,u=g.tableColMapping[r];if(!u||u&&0===u.length)(0,f.default)({baseURL:y,url:"/tableMeta/getCols",method:"post",params:{tableMetaUuid:l,isEnclose:"1"}}).then((function(t){if(null==t.data)a.$message({message:"错误"+e.message+"error"});else{for(var n=[],l=0;l<t.data.length;l++)""===t.data[l].chnName||null==t.data[l].chnName||void 0==t.data[l].chnName?n.push(t.data[l].colName):n.push(t.data[l].chnName);if(n.length>0){g.tableColMapping[r]=n,s.options.hintOptions.tables[r]=n;var u=[];$(n).each((function(){var e={id:r+"_"+this,name:this.toString(),displayName:this.toString(),pid:i.id,isParent:!1,open:!1,type:"column",icon:k};u.push(e)})),o.addNodes(i,u)}}}));else{var c=[];$(u).each((function(){var e={id:r+"_"+this,name:this.toString(),displayName:this.toString(),pid:i.id,isParent:!1,open:!1,type:"column",icon:k};c.push(e)})),o.addNodes(i,c)}}}},edit:{enable:!0,showRenameBtn:!1,showRemoveBtn:!1,drag:{autoExpandTrigger:!1,prev:!1,next:!1,inner:!1}}};if(void 0!=t&&t.length>0){L=L.concat(t),o=$.fn.zTree.init($("#dataTree"),n,L);for(var i=0;i<t.length;i++)g.tableColMapping[t[i].name]=[],s.options.hintOptions.tables[t[i].name]=[]}}function Y(e){if(void 0!=e&&e.length>0)for(var t=0;t<e.length;t++){var n=o.getNodesByParam("name",e[t],null)[0];o.removeNode(n),delete g.tableColMapping[e[t]],delete s.options.hintOptions.tables[e[t]]}}n.sendSqlEditorVue=R;var W=0,K=0,J=0;function X(){var e=document.getElementsByClassName("left-menu")[0],t=e.style.width;"120px"==t?(W=125,K=93,J=55):"64px"==t&&(W=70,K=96,J=0)}var Z=!0;function ee(){X(),1==Z?($("#drag").hide(100),$("#iconImg").css("display","none"),$("#iconImg-huifu").css("display","block"),$("#bottomPart").css({position:"fixed",width:K+"%",left:W,top:0,height:"96%","z-index":1e3}),$(".ag-theme-balham").css("height",550),Z=!1):0==Z&&($("#drag").show(100),$("#iconImg").css("display","block"),$("#iconImg-huifu").css("display","none"),$("#bottomPart").css({position:"static",left:0,width:"100%",height:"100%","z-index":100}),$(".ag-theme-balham").css("height",200),Z=!0)}function te(){var e={data:{key:{checked:"isChecked",name:"name",title:"displayName"},simpleData:{enable:!0,idKey:"id",PidKey:"pid"}},check:{enable:!1,chkStyle:"radio",radioType:"all"},view:{selectedMulti:!1},callback:{onDrop:function(e,t,n){var i=new Array,a=s.getSelection();""!==$.trim(a)&&a!==s.getValue()||(a=s.getValue());for(var r=a.split("#"),o=0;o<r.length;o++)o%2!=0&&i.push(r[o]);var l=$(".CodeMirror").width(),u=$("#sqlEditorDiv").height(),h=$(".leftCon").width(),f=$(".table-view-caption").height();if(!(c<h+30||c>h+l||d<f||d>u)){var p=s.getCursor(),m=Ge(),g="{#"+m+"#}";s.replaceRange(g,p,p);var v=$("<button type='button' class='divEditorBtn' id='"+g+"'>"+n[0].name+"</buttonn>").get(0),y={ch:p.ch+g.length,line:p.line,sticky:null};s.markText(p,y,{replacedWith:v,className:"paramBlock"});var b={id:g,copyParamId:m,moduleParamId:n[0].id,allowedNull:n[0].extCol,name:n[0].name};0===Object.keys(N).length&&(N.arr=[]),N.arr.push(b);var A={id:g,opt:1};I.push(A)}},beforeDrag:function(e,t){var n=t[0];if("paramNode"!==n.type)return!1},onRightClick:function(e,t,n){if(!n)return!1;u.selectNode(n),"paramRoot"===n.type||"sysParam"===n.type||!paramManager&&"publicParam"===n.type||("paramNode"===n.type?ae("node","paramTree","paramMenu",e.clientX,e.clientY):1==n.level?ae("node","paramTree","paramFolderMenu2",e.clientX,e.clientY):ae("node","paramTree","paramFolderMenu1",e.clientX,e.clientY))},onExpand:function(e,t,n){n.children&&0!==n.children.length||ce(n)}},edit:{enable:!0,showRenameBtn:!1,showRemoveBtn:!1,drag:{prev:!1,next:!1,inner:!1}}};j().then((function(t){t.data.isError||(t.data.paramNode.open=!0,u=$.fn.zTree.init($("#paramTree"),e,t.data.paramNode))}))}function ne(e,t,n){var i=$(".CodeMirror").width(),a=$("#sqlEditorDiv").height(),r=$(".leftCon").width(),o=$(".table-view-caption").height();if(!(c<r+30||c>r+i||d<o||d>a)){var l=s.getCursor();ue(n[0]["enName"]+" ",l,l)}}function ie(e,t){var n="",i="";void 0!=e&&void 0!=t?(n=e,i=t):(n=m.default.getters.datauserid,i=m.default.getters.scenecode);var a={sceneCode:i,dataUserId:n};return(0,f.default)({baseURL:y,url:"/tableMeta/getResTree",method:"post",params:a})}function ae(e,t,n,i,a){var r=$("#"+t).height(),o=$("#"+t).offset().top,s=r-(event.clientY-o);$("#"+t).width(),event.clientX;s<$("#"+n).height()&&(a-=$("#"+n).height()),$("#"+n+" ul").show(),$("#"+n).css({top:a+"px",left:i+"px",visibility:"visible"}),$("body").bind("mousedown",{menuId:n},oe)}function re(e){$("#"+e)[0]&&$("#"+e).css({visibility:"hidden"}),$("body").unbind("mousedown",oe)}function oe(e){e.target.id===e.data.menuId||$(e.target).parents("#"+e.data.menuId).length>0||$("#"+e.data.menuId).css({visibility:"hidden"})}function se(){var e={data:{simpleData:{enable:!0,idKey:"id",PidKey:"pid"},key:{title:"displayName"}},callback:{onDrop:le,beforeDrag:function(e,t){if(!t[0].type||"funNode"!==t[0].type)return!1}},edit:{enable:!0,showRenameBtn:!1,showRemoveBtn:!1,drag:{autoExpandTrigger:!1,prev:!1,inner:!1,next:!1}}},t={name:"函数",displayName:"函数",level:0,isParent:!0,open:!0,type:"rootNode",id:"function",pid:null,children:[]};(0,f.default)({baseURL:v,url:"/SQLEditorController/getFunctionData",method:"get"}).then((function(n){t.children=JSON.parse(n.data),l=$.fn.zTree.init($("#sqlFunTree"),e,t);var i=l.getNodesByParam("type","funNode",null);if(i&&i.length>0){for(var a=0;a<i.length;a++)C.match("page")?i[a].icon="../../images/ico/function.png":i[a].icon="../images/ico/function.png";l.updateNode(i)}}))}function le(e,t,n){var i=$(".CodeMirror").width(),a=$("#sqlEditorDiv").height(),r=$(".leftCon").width(),o=$(".table-view-caption").height();if(!(c<r+30||c>r+i||d<o||d>a)){var l=s.getCursor(),u=n[0].content||n[0].name;ue(u,l,l)}}function ue(e,t,n){s.replaceRange(e,t,n),b=!0}function ce(e){var t={id:e.id,type:e.type,level:e.level};t.isPersonalParam=de(e,u),B(t).then((function(t){u.removeChildNodes(e),u.addNodes(e,t.data)}))}function de(e,t){var n=!1;if("personalParam"===e.type)n=!0;else{var i=t.getNodesByParam("id",e.pId,null);i.length>0&&(n="personalParam"===i[0].type||de(i[0],t))}return n}function he(){var e=$("#dataSearch").val();me(!1,o),""===e&&(o.expandAll(!1),o.expandNode(o.getNodeByParam("pid",null,null),!0));var t=o.setting.view;if(t["fontCss"]=Ae,""!==e){var n=o.getNodesByParam("type","table"),i=o.getNodesByParam("type","view"),a=n.concat(i),r=o.transformToArray(a);ge(r,!1,o);var s=o.getNodesByParamFuzzy("name",e);ve(s,o),s&&s.length>0&&(ge(s,!0,o),ye(s,o))}else t["fontCss"]=be,o.refresh()}function fe(){var e=$("#paramSearch").val();me(!1,u),""===e&&(u.expandAll(!1),u.expandNode(u.getNodeByParam("pid",null,null),!0));var t=u.setting.view;if(t["fontCss"]=Ae,""!==e){var n=u.getNodesByParam("type","paramNode"),i=u.transformToArray(n);ge(i,!1,u);var a=u.getNodesByParamFuzzy("name",e);ve(a,u),a&&a.length>0&&(ge(a,!0,u),ye(a,u))}else t["fontCss"]=be,u.refresh()}function pe(){var e=$("#sqlSearch").val();me(!1,l),""===e&&(l.expandAll(!1),l.expandNode(l.getNodeByParam("pid",null,null),!0));var t=l.setting.view;if(t["fontCss"]=Ae,""!==e){var n=l.getNodesByParam("type","funNode"),i=l.transformToArray(n);ge(i,!1,l);var a=l.getNodesByParamFuzzy("name",e);ve(a,l),a&&a.length>0&&(ge(a,!0,l),ye(a,l))}else t["fontCss"]=be,l.refresh()}function me(e,t){var n=t.transformToArray(t.getNodes());if(e)for(var i=0;i<n.length;i++)null!=n[i].pid&&t.hideNode(n[i]);else for(i=0;i<n.length;i++)!0===n[i].isHidden&&(n[i].isHidden=!1,t.updateNode(n[i]))}function ge(e,t,n){for(var i=0;i<e.length;i++)e[i].highlight=t,n.updateNode(e[i])}function ve(e,t){if(e)for(var n=0,i=e.length;n<i;n++){var a=e[n].getParentNode();t.expandNode(a,!0,!1,!1)}}function ye(e,t){me(!0,t);for(var n=0;n<e.length;n++){e[n].isHidden=!1,t.updateNode(e[n]);var i=!0,a=e[n];while(i){var r=a.getParentNode();null!=r.pid?r.isHidden&&(r.isHidden=!1,r.open=!0,t.updateNode(r)):i=!1,a=r}}t.refresh()}function be(e,t){return t.highlight?{}:{color:"#000","font-weight":"normal"}}function Ae(e,t){return t.highlight?{color:"#F00","font-weight":"bold","font-size":"14px"}:{color:"#000","font-weight":"normal"}}function we(e){if(e&&Object.keys(e).length>0)for(var t=e.arr,n=s.lineCount(),i=0;i<t.length;i++)if(t[i].oldParamId){var a=t[i].oldParamId;delete e.arr[i].oldParamId;for(var r=[],o=A.line;o<n;o++){r=[];var l=s.getLine(o);if(""!==l&&(r=xe(l,a,0,r),0!==r.length)){var u=A.ch;u=1===r.length||A.line===o&&x.indexOf(a)<0?r[0]:r[1];var c={ch:u,line:o,sticky:null},d={ch:u+t[i].id.length,line:o,sticky:null};s.replaceRange(t[i].id,c,d);var h=$("<button type='button' class='divEditorBtn' id='"+t[i].id+"'>"+t[i].name+"</buttonn>").get(0);if(s.markText(c,d,{replacedWith:h,className:"paramBlock"}),D.indexOf(t[i].id)<0){var f={id:t[i].id,opt:1};I.push(f),D.push(t[i].id)}}}}}function xe(e,t,n,i){return n=e.indexOf(t,n),-1!==n&&(i.push(n),i=xe(e,t,parseInt(n+1),i)),i}function Ce(){var e=this;N||(N={});var t=!0,n=s.getSelection();if(0===n.length&&(n=s.getValue(),t=!1),Object.keys(N).length>0)for(var i=N.arr,a=0;a<i.length;a++)n=n.replace(i[a].id,i[a].name+"_rpm_JL");var r={sql:n};(0,f.default)({baseURL:v,url:"/SQLEditorController/formatSql",method:"get",params:r}).then((function(n){if(n.data.isError)e.$message({message:"SQL语句书写不正确，格式化时出错"});else{var i=n.data.sql;if(Object.keys(N).length>0)for(var a=N.arr,r=0;r<a.length;r++)i=i.replace(a[r].name+"_rpm_JL",a[r].id);t?s.replaceSelection(i):s.setValue(i),ke(N)}}))}function ke(e){if(e&&Object.keys(e).length>0)for(var t=e.arr,n=s.lineCount(),i=0;i<t.length;i++)for(var a=[],r=0;r<n;r++){a=[];var o=s.getLine(r);a=xe(o,t[i].id,0,a);for(var l=0;l<a.length;l++){var u=$("<button type='button' class='divEditorBtn' id='"+t[i].id+"'>"+t[i].name+"</buttonn>").get(0),c={ch:a[l],line:r,sticky:null},d={ch:a[l]+t[i].id.length,line:r,sticky:null};if(s.markText(c,d,{replacedWith:u,className:"paramBlock"}),-1==$.inArray(t[i].id,D)){var h={id:t[i].id,opt:1};I.push(h),D.push(t[i].id)}}}}function Se(e){1===e&&g.commands.replace(s,!0),2===e&&g.commands.find(s)}function Te(e){var t=s.getSelection();""!==t&&"undefined"!==typeof t?(1===e&&(t=t.toUpperCase()),2===e&&(t=t.toLocaleLowerCase()),s.replaceSelection(t)):this.$message({message:"请选择转换内容"})}function Ne(){if(s.somethingSelected()){var e=s.getSelection();if(e.length>=2){var t=e.substring(0,2);if("/*"!==t){var n=e.substring(e.length-2,e.length);e="*/"===n?"/*"+e.substring(0,e.length-2)+"*\\*/":"/*"+e+"*/"}}else e="/*"+e+"*/";s.replaceSelection(e);for(var i={arr:[]},a=0;a<N.arr.length;a++)e.indexOf(N.arr[a].id)>-1&&i.arr.push(N.arr[a]);ke(i)}else this.$message({message:"请选择注释内容"})}function Ie(){if(s.somethingSelected()){var e=s.getSelection(),t=e.substring(0,2);if("/*"===t&&(e=e.substring(2,e.length)),e.length>3){var n=e.substring(e.length-4,e.length),i=e.substring(e.length-2,e.length);"**/"===n?e=e.substring(0,e.length-4)+"*/":"*/"===i&&(e=e.substring(0,e.length-2))}s.replaceSelection(e);for(var a={arr:[]},r=0;r<N.arr.length;r++)e.indexOf(N.arr[r].id)>-1&&a.arr.push(N.arr[r]);ke(a)}else this.$message({message:"请选择待取消注释的内容"})}function De(){for(var e={sqlValue:s.getValue(),params:[],modelChartSetup:P},t=0;t<I.length;t++)if(1===I[t].opt)for(var n=0;n<N.arr.length;n++)if(I[t].id===N.arr[n].id){e.params.push(N.arr[n]);break}return e}function Pe(e){re(e);var t=o.getSelectedNodes();if(t.length>0){var n=t[0].enName,i=t[0].id,a=g.tableColMapping[n],r=s.getValue();!a||a&&0===a.length?(0,f.default)({baseURL:y,url:"/tableMeta/getCols",method:"post",params:{tableMetaUuid:i,isEnclose:"1"}}).then((function(e){if(void 0!=e.data&&null!=e.data&&e.data&&e.data.length>0){for(var t=[],i=[],a=0;a<e.data.length;a++)""==e.data[a].chnName||null==e.data[a].chnName||void 0==e.data[a].chnName?(t.push(e.data[a].colName),i.push(e.data[a].colName)):(t.push(e.data[a].chnName),i.push(e.data[a].colName),s.options.hintOptions.tablesTitle[e.data[a].colName]=e.data[a].chnName);g.tableColMapping[n]=i,s.options.hintOptions.tables[n]=i,Le(i,n,r,null)}})):Le(a,n,r,null)}}function Le(e,t,n,i){var a=this,r="SELECT ";$(e).each((function(e){r+=0!==e?","+this:this})),r+=" FROM "+t,(0,f.default)({baseURL:v,url:"/SQLEditorController/formatSql",method:"get",params:{sql:r}}).then((function(e){if(e.data.isError)i&&i.destroy(),a.$message({message:"SQL语句书写不正确，格式化时出错"});else{s.setValue(""===n?e.data.sql:n+"\n"+e.data.sql);for(var t={arr:[]},r=0;r<N.arr.length;r++)-1!=n.indexOf(N.arr[r].id)&&t.arr.push(N.arr[r]);ke(t),i&&i.destroy()}}))}function Oe(e){return(0,f.default)({baseURL:v,url:"/sqlDraft/save",method:"post",data:e})}function Me(e){if(1==e){var t=s.getValue();return void 0!=h?(h.isOld=!0,h.draftSql=t,h.paramJson=JSON.stringify(N),h):Ee()}if(2==e)return Ee()}function Ee(){var e={};return e.draftSql=s.getValue(),e.paramJson=JSON.stringify(N),e.isOld=!1,e}function Re(e){""!==e.sqlDraftObj.paramJson&&"{}"!==e.sqlDraftObj.paramJson&&(N=JSON.parse(e.sqlDraftObj.paramJson)),h=e.sqlDraftObj,$("#sqlDraft").html("当前SQL名称："+h.draftTitle).show(),s.setValue(h.draftSql),ke(JSON.parse(h.paramJson))}function je(){var e={},t=!1,n=s.getSelection();return""!==$.trim(n)&&n!==s.getValue()||(n=s.getValue(),t=!0),e.isAllExecute=t,e.sql=n,e}function Be(){return _e.apply(this,arguments)}function _e(){return _e=(0,r.default)(regeneratorRuntime.mark((function e(){var t,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.getSelection(),""===$.trim(t)&&(t=s.getValue()),N&&Object.keys(N).length>0)for(n=N.arr,i=0;i<n.length;i++)t=t.replace(n[i].id,n[i].name+"_rpm_JL");return a={sqls:t},e.next=6,(0,f.default)({baseURL:v,url:"/SQLEditorController/checkSql",method:"post",data:a});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function Ve(){$(".max-size").show();var e=new Array,t=s.getSelection();(""===$.trim(t)||t===s.getValue())&&(t=s.getValue());for(var n=0;n<I.length;n++)if(1===I[n].opt)for(var i=0;i<N.arr.length;i++)if(I[n].id===N.arr[i].id){e.push(N.arr[i]);break}N.arr=e,N.sql=t;var a=[];for(n=0;n<e.length;n++)t.indexOf(e[n].id)>-1&&a.push(e[n]);if(0===a.length){var r={sqls:t,isExistParam:!1};return r}return N.isExistParam=!0,N}function Fe(e){return(0,f.default)({baseURL:v,url:"/SQLEditorController/executeSql",method:"post",data:e})}function Ue(e,t,n){var i="",a="";return void 0!=t&&void 0!=n?(i=t,a=n):(i=m.default.getters.datauserid,a=m.default.getters.scenecode),e.userId=i,e.sceneCode=a,(0,f.default)({baseURL:v,url:"/SQLEditorController/getExecuteTask",method:"post",data:e})}function qe(e,t){s.setValue(e),N=t,ke(t)}function ze(){setTimeout((function(){s.refresh()}),1),$(E.$refs.sql).click()}function Qe(e){return(0,f.default)({baseURL:v,url:"/SQLEditorController/getColumnSqlInfo",method:"post",data:e})}function $e(){return O}function He(e){O=e}function Ge(){for(var e=[],t="0123456789abcdef",n=0;n<32;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23];var i=e.join("");return i}function Ye(){return(0,f.default)({baseURL:v,url:"/defaultSqlLocation/getByPersonUuid",method:"get"})}function We(e){return(0,f.default)({baseURL:v,url:"/defaultSqlLocation/save",method:"post",data:e})}function Ke(){return Je.apply(this,arguments)}function Je(){return Je=(0,r.default)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={isError:!1,message:"",sql:s.getValue(),isChange:!1},e.next=3,(0,p.compareSql)({oldSql:E.sqlValue,newSql:t.sql});case 3:return n=e.sent,null==n.data||n.data.isError?(t.isError=!0,t.message="检测SQL语句是否改变发生错误"):(n.data.isChange&&(t.message="系统检查到SQL语句已发生改变，可能会影响已配置的参数信息"),t.isChange=n.data.isChange),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}function Xe(){var e=o.getSelectedNodes();return e}$(".ag-theme-balham .ag-header-row").css("background-color","white")},6075:function(e,t,n){var i={"./icon-mini1.png":"b20e","./icon-mini2.png":"76a3","./icon-mini3.png":"9247","./icon-mini4.png":"90e6","./icon-mini5.png":"ced6","./icon-mini6.png":"9aa4","./icon-mini7.png":"4e3f","./icon0.png":"f717","./icon1.png":"9281","./icon2.png":"3330","./icon3.png":"edd7","./icon4.png":"1f9b","./icon5.png":"c7e9","./icon7.png":"dc0c"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="6075"},6077:function(e,t,n){"use strict";n.r(t);var i=n("6298"),a=n("67e1");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("ee8c");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"1f8778c9",null);t["default"]=s.exports},"60a2":function(e,t,n){"use strict";n("2c77")},"60ed":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAByElEQVRIDbWWPUtDMRSGT5JdnO0HV6h/QQu1OAgFNwuKgpOLm7/GzVlBQcHZDxxUUEdRqIIIfvwB95uYN5pram/SpGCgTW7uyfOec3LSlDVbnQWp8m1CE2Lz9uL4yIxH/JpudxYpz7ewnDOxISZq2bkiqurnMUa0XM0aTx+vz/ej8GfanVWSck/zxsEjUnPcBSmlhJJyp9maX3HnY8ZYg7VguPYcaWGM5XYSBpLYrvHGTg7pAccaF26Ymi10Onq1+uQjMdbVHBsR+i7m399eHkJ8H5yTWru5PD004QBSKqJFQyIh+PXV2T4cK/KVKhID7xPAQ6xILBxMXZmDLQSAddmGIuc2LS6xVAAGPhG8+1stPjhsiz3Ag9u86fqtNF14LA/BwfMK4KVHBK+i4LCzdY/xv7RgBGX74HjBcThD5wS2XoEyOHKuP/q3rIh8qEhpFfng2FB4lVKmAxGE4Khzz8Z7I+kTGAaH92gpIoVALPxbIl7ECKTCU0SYuUOlPEg5/lbA9j4HifMlUalmJz93qLGPOf4WbHvfnjClZvtO8ihwK4IKQxmDYefQi1p9qofbXx+IT30/r+Oacw1SxoikkjXu4Dl4+NvyBfpPehxFTbeeAAAAAElFTkSuQmCC"},6112:function(e,t,n){"use strict";n.r(t);var i=n("83d8"),a=n("d9dc");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},6128:function(e,t,n){"use strict";n("5fdf")},6184:function(e,t,n){e.exports=n.p+"static/img/join.bb5dbb59.jpg"},"61aa":function(e,t,n){"use strict";n.r(t);var i=n("26a5"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"61e8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAYAAACdkl3yAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEqADAAQAAAABAAAAEwAAAACnyZvlAAACyklEQVQ4EZWUXUhUURCAZ8697ppKymZBkbBY0UOEBNFbErRrmduW5GppGUUIvQRBb0VlhVnE4kP1Zg+RkCv9bptoBgX10A/9PBj1UFSYEMa66uq6e+890xz3JxczbeBy5syZ+c6cc2YuVuzYXQJkVcJ/Curidc/tzjfpMJ2kVUqSyjUS99PGuUaJsgxMymW/PyAAHRCMTz0PA4HpgK1e32qLoB4krWX7KAp4WZi75HpX19Wo2+ubBBOcLk/NaUHax95Q500xPTitV3j3uE1ThiTBOrY9B4HfWD8UGf8Zqm5sXJT2Q8D3EqyNaq6njenR5zuweDgW9ZPA9r5goBURSa1V1R9umxwd6hgNT7QKgUFl0wR8MC1wKZ0zMtWYkcjE2CYkiq9Y5rikIJUNDQvdnl1tecavcZ63MNaNEhZkAlIKg7KTkgCrCOnrl8HwSeVjjiQ2I8DjcIz8SFgGRIIve2Uy3p7CTGWU0acUAeI7BywXfH73ttoWTmpp74NbwZLigmNI4q1yQvbJjvoLSJc5TwjIQQgFQtBdG+E9FeR0Ok1JxhES4h2TRpKgeIY349W6uzsGELQzXFvNEmS9gbTevd2379mr/iCgWKMhXgMJWoaQUmZctrI/CgVu2EivJdKKLQlnGdrET91vywO3RXSQ72mvDuLFdFjWTfOdXEgvGrwtv9APPj1/STHG8ajQ8DKBbEqAdU5Y2ilKvXoWiB9wzjbJscvPMg7HLYtOMMTPtdSstskCWaY+kNp81qHIXhSNwNAGQlRHGyCCi1uq6wYZpFgGH5uwwuM7PyshtRCJhdtVGXMxicL8fP9wbMyUhixlSrKyU61QPxdIrXPTetU4Fo86OCNHX6jrji6lJhGtna4qX7lanI+QRfncyB3Kl6s+W1RPuTx1jdnWf8/Ur8ZVVXNFeakLmpKChM0elon9nNm8Ydz5wL+GpwrwG8HfG/JXEIu+AAAAAElFTkSuQmCC"},"61f7":function(e,t,n){"use strict";function i(e){return/^(https?:|mailto:|tel:)/.test(e)}function a(e){return!0}function r(e){var t=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;return t.test(e)}function o(e){var t=/^[a-z]+$/;return t.test(e)}function s(e){var t=/^[A-Z]+$/;return t.test(e)}function l(e){var t=/^[A-Za-z]+$/;return t.test(e)}function u(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function c(e){return"string"===typeof e||e instanceof String}function d(e){return"undefined"===typeof Array.isArray?"[object Array]"===Object.prototype.toString.call(e):Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isExternal=i,t.validUsername=a,t.validURL=r,t.validLowerCase=o,t.validUpperCase=s,t.validAlphabets=l,t.validEmail=u,t.isString=c,t.isArray=d,n("6b54")},6208:function(e,t,n){"use strict";n.r(t);var i=n("bc43"),a=n("a70a");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("60a2");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"68b4509b",null);t["default"]=s.exports},6260:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wscn-http404-container"},[n("div",{staticClass:"wscn-http404"},[e._m(0),n("div",{staticClass:"bullshit"},[n("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._m(1),n("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),n("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),n("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pic-404"},[i("img",{staticClass:"pic-404__parent",attrs:{src:n("a36b"),alt:"404"}}),i("img",{staticClass:"pic-404__child left",attrs:{src:n("26fc"),alt:"404"}}),i("img",{staticClass:"pic-404__child mid",attrs:{src:n("26fc"),alt:"404"}}),i("img",{staticClass:"pic-404__child right",attrs:{src:n("26fc"),alt:"404"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bullshit__info"},[e._v("All rights reserved "),n("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}]},6275:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home flex a-start flex-row j-start h100"},[n("div",{staticClass:"home-left flex-shrink h100"},[n("LeftMenu")],1),n("div",{staticClass:"home-right flex1 h100 flex a-start j-start flex-column"},[n("div",{staticClass:"home-right-content flex1 w100"},[n("router-view"),n("el-tooltip",{attrs:{content:"系统帮助",placement:"top",effect:"light"}},[n("i",{staticClass:"el-icon-question seat",on:{click:function(t){return e.getHelp()}}})])],1),e.isShowRightFooter?n("div",{staticClass:"home-right-footer flex-shrink w100"},[n("RightFooter")],1):e._e()]),e.showHelpHeight?n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"readonlyTo"},[n("div",{staticClass:"readonlyChild",attrs:{id:"readonlyChild"}}),n("div",{staticClass:"readonlyToX",on:{click:function(t){e.showHelpHeight=!1}}},[e._v("X")]),n("div",{staticClass:"readonlyClose",on:{click:function(t){e.showHelpHeight=!1}}})]):e._e()])},a=[]},6298:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow?i("div",{staticClass:"dialog flex a-center j-center"},[i("div",{staticClass:"content",style:e.contentStyle},[i("div",{staticClass:"title flex a-center j-between flex-row"},[i("span",{staticClass:"text"},[e._v(e._s(e.title))]),i("img",{staticClass:"img-icon",attrs:{src:n("60ed")},on:{click:e.close}})]),i("div",{staticClass:"main"},[e._t("default")],2),i("div",{staticClass:"footer flex a-center j-end flex-row"},[i("div",{staticClass:"btn-cancel btn",on:{click:e.close}},[e._v(e._s(e.cancelName))]),i("div",{staticClass:"btn-sure btn",on:{click:e.sure}},[e._v(e._s(e.sureName))])])])]):e._e()},a=[]},"62c8":function(e,t,n){"use strict";n.r(t);var i=n("5983"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"62f8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"taskName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"tools-box-name",staticStyle:{cursor:"pointer"},domProps:{textContent:e._s(t.row.taskName)},on:{click:function(n){return e.toUrl(t.row.taskUrl)}}})]}}])}),n("el-table-column",{attrs:{label:"所属模块",prop:"taskType"}}),n("el-table-column",{attrs:{label:"任务状态",prop:"taskStatus"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{domProps:{innerHTML:e._s(t.row.taskStatus)}})]}}])}),n("el-table-column",{attrs:{label:"创建时间",prop:"taskCreateTime",formatter:e.formatCreateTime}}),n("el-table-column",{attrs:{label:"进度",prop:"taskPercent",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("el-progress",{attrs:{"text-inside":!0,percentage:e.row.taskPercent,"stroke-width":18}})]}}])})],1)],1)},a=[]},"635f":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("456d");var a=i(n("7037")),r=function e(t){if(Array.isArray(t))return t.map(e);if(t&&"object"===(0,a.default)(t)){for(var n={},i=Object.keys(t),r=0,o=i.length;r<o;r++){var s=i[r];n[s]=e(t[s])}return n}return t},o=r;t.default=o},"63e0":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e988")),r=i(n("34fd")),o={components:{BaseCodeTree:a.default,BaseCodeTreeList:r.default},mounted:function(){this.$refs.listData.query()}};t.default=o},6489:function(e,t,n){"use strict";n.r(t);var i=n("68da"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"64a7":function(e,t,n){"use strict";n.r(t);var i=n("877d"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"64a8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[]},"64ae":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f"),n("ac6a");var a=i(n("6112")),r=i(n("6d5f")),o={components:{firstParentTabCon:a.default,childTabs:r.default},data:function(){return{editableTabsValue:"预警结果",editableTabs:[],tabIndex:0,mainTable:{},helpTables:[]}},methods:{addTab:function(e,t,n,i,a,r){var o=++this.tabIndex+"";this.mainTable=t,this.helpTables=e,this.editableTabs.push({title:n+"预警结果",name:o,mainTable:t,helpTables:e,modeluuid:i,resultSpiltObjects:a,settingInfo:r}),this.editableTabsValue=o},removeTab:function(e){var t=this.editableTabs,n=this.editableTabsValue;n===e&&t.forEach((function(i,a){if(i.name===e){var r=t[a+1]||t[a-1];n=r?r.name:"预警结果"}})),this.editableTabsValue=n,this.editableTabs=t.filter((function(t){return t.name!==e}))}}};t.default=o},"64dc":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPage=s,t.save=l,t.update=u,t.del=c,t.initSceneTree=d,t.getAllGropSelect=h,t.getAllScene=f,t.getSceneInst=p;var a=i(n("b775")),r="/data",o="scene";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/listByPage"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}function d(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/initSceneTree?grpUuid=").concat(e),method:"post"})}function h(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getAllGropSelect?sceneCode=").concat(e),method:"post"})}function f(){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getAllScene"),method:"get"})}function p(e,t){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getSceneInst/").concat(e,"/").concat(t),method:"get"})}},"64e6":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"500px","overflow-y":"auto"}},[n("el-form",{staticClass:"detail-form",attrs:{model:e.formData}},[n("el-row",[n("el-col",[n("el-form-item",{attrs:{label:"规则名称"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.ruleName,callback:function(t){e.$set(e.formData,"ruleName",t)},expression:"formData.ruleName"}})],1)],1)],1),n("el-row",[n("el-col",[n("el-form-item",{attrs:{label:"规则描述"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.ruleDesc,callback:function(t){e.$set(e.formData,"ruleDesc",t)},expression:"formData.ruleDesc"}})],1)],1)],1),n("el-row",[n("el-col",[n("el-form-item",{attrs:{label:"转码方式"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.ruleType,callback:function(t){e.$set(e.formData,"ruleType",t)},expression:"formData.ruleType"}})],1)],1)],1),n("el-row",[n("el-col",[e.isSql?n("el-form-item",{attrs:{label:"转码规则"}},[n("el-input",{attrs:{type:"textarea",disabled:!0,autosize:""},model:{value:e.formData.sqlContent,callback:function(t){e.$set(e.formData,"sqlContent",t)},expression:"formData.sqlContent"}}),n("el-row",{staticStyle:{"margin-top":"10px"}},[n("el-col",{attrs:{span:4}},[n("label",{staticStyle:{float:"right","padding-right":"10px"}},[e._v("真实值")])]),n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.sceneName,callback:function(t){e.$set(e.formData,"sceneName",t)},expression:"formData.sceneName"}})],1),n("el-col",{attrs:{span:4}},[n("label",{staticStyle:{float:"right","padding-right":"10px"}},[e._v("转码值")])]),n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.sceneCode,callback:function(t){e.$set(e.formData,"sceneCode",t)},expression:"formData.sceneCode"}})],1)],1)],1):e._e(),e.isSql?e._e():n("el-form-item",{attrs:{label:"转码规则"}},[n("el-table",{attrs:{height:"200",data:e.listValue,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"真实值",align:"center",prop:"codeValue"}}),n("el-table-column",{attrs:{label:"转码值",align:"center",prop:"transValue"}})],1)],1)],1)],1)],1)],1)},a=[]},"64f4":function(e,t,n){"use strict";n("a794")},6545:function(e,t,n){e.exports=n.p+"static/img/yonghu.53c157fb.png"},"655c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("e211"),a={watch:{filterprojectName:function(e){if(""!==e){this.list=[];for(var t=0;t<this.datas.length;t++)-1!==this.datas[t].PRJ_NAME.indexOf(e)&&this.list.push(this.datas[t])}else this.list=this.datas}},created:function(){this.getProject()},data:function(){return{listLoading:!0,list:[],selectValue:{},filterprojectName:"",datas:[]}},methods:{getProject:function(){var e=this;(0,i.getProjectByLoginUserUuid)().then((function(t){e.datas=t.data,e.list=t.data,e.listLoading=!1}))},handleSelectionChange:function(e){this.selectValue=e},getSelectValue:function(){return this.selectValue}}};t.default=a},6570:function(e,t,n){"use strict";n.r(t);var i=n("4cce"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},6598:function(e,t,n){e.exports=n.p+"static/img/jiankong.2025dd49.png"},"662b":function(e,t,n){},"665b":function(e,t,n){"use strict";n.r(t);var i=n("f6a6"),a=n("445ca");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("03b0"),n("f00f7");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"69517f32",null);t["default"]=s.exports},"66aa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},"66c9":function(e,t,n){"use strict";n.r(t);var i=n("2e07"),a=n("77f5");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("1d04");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"51641eb0",null);t["default"]=s.exports},"670a":function(e,t,n){"use strict";n.r(t);var i=n("3eeb"),a=n("adc6");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},6721:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-input",{staticClass:"tree-search",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("MyElTree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree",attrs:{data:e.data,"default-expanded-keys":["myGraph"],props:e.defaultProps,"filter-node-method":e.filterNode,"highlight-current":!0,"expand-on-click-node":!1,"node-key":"id","current-node-key":e.defaultNodeKey},on:{"node-expand":e.nodeExpand,"node-click":e.nodeclick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",["myGraph"===a.id?n("i",{staticClass:"el-icon-s-home"}):e._e(),"myGraph"===a.pid?n("i",{staticClass:"el-icon-folder"}):e._e(),n("span",{attrs:{title:a.label}},[e._v(e._s(i.label))])])])}}])})],1)},a=[]},6798:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAYAAACdkl3yAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEqADAAQAAAABAAAAEwAAAACnyZvlAAABc0lEQVQ4Ea1Tv0vDQBS+75JUOgiKkwiubuLk6tIuYl1KBzdxSEd3deg/4OJUMjkpGHGxTp30f3ASBMFVEAexae6ed1cvJiX9kdKD5L773ntf3veSoFo72CHEGyxvAa/LJXoKwzDKC6c5VPca5yRlI01aDOCRGEd5bcm/D4Jvy+ftPI9MOI4eI5K9988mESHhFWi1WpnasR2lCzMYeHMWnGMZ0Xa3c9PWsYxqJnnCQY0DJMVJpVY/1amuyQc+HKCpsaMS1GRDw4+4KY8lLt2+9MSRTvF93xsIEa0IoltNCn2bsNS8VuM46ti0IAjWbUd9Ap5tAFJuWTztPhBi+OGgB1NECjFmhODgcpwQCTq08T9rcpEEM0Obzpwt/9+NkGriCxwXCR3LM43TT0xiI4ARUl7KTND+cM4M1shTIpvDQkXOgxmNqChozWvDje+0FgQnctQXG4trcy7y1rqdqxdVpK9kVXbrCZ4WzM3azD/tcKdzE/oFkSqLPsi5FEMAAAAASUVORK5CYII="},"67b4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={workerGroupsListAll:[{id:"default",name:"default"}],tenantAllList:[{id:-1,name:"default"}]};t.default=i},"67ba":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":e.handleClick,"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},[n("el-tab-pane",{attrs:{name:"模型结果列表",label:"模型结果列表"}},[n("firstParentTabCon",{on:{addtab:e.addTab}})],1),e._l(e.editableTabs,(function(t){return n("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[n("childTabs",{ref:"childtabsref",refInFor:!0,attrs:{maintable:t.mainTable,helptables:t.helpTables,"model-uuid":t.modeluuid,resultSpiltObjects:t.resultSpiltObjects,useType:void 0===t.useType?"modelRunResult":t.useType,"pre-value":t.currentExecuteSQL,"model-id":t.modelId,"result-mark":void 0===t.currentExecuteSQL?"modelResult":"modelPreview"},on:{addTab:e.addTab,setNextValue:e.setNextValue}})],1)}))],2)],1)},a=[]},"67e1":function(e,t,n){"use strict";n.r(t);var i=n("1c3c"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},6822:function(e,t,n){e.exports=n.p+"static/img/bangzhu.15785bfe.png"},"682d":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"oftenindicatorsName",label:"指标常用分析名称",width:"300"}}),n("el-table-column",{attrs:{prop:"createPersonName",label:"创建人",width:"180"}}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:e.dateFormatter}})],1)},a=[]},6844:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{ref:"tabs",staticStyle:{},model:{value:e.tabShowName,callback:function(t){e.tabShowName=t},expression:"tabShowName"}},["showTable"===e.openType||"tableRegister"===e.openType?n("el-tab-pane",{attrs:{label:"基本信息",name:"basicinfo"}},[n("basic-info",{attrs:{"table-id":e.tableId,"open-type":e.openType}})],1):e._e(),n("el-tab-pane",{attrs:{label:"列",name:"column"}},[n("column",{ref:"column",attrs:{"table-id":e.tableId,"forder-id":e.forderId,"open-type":e.openType},on:{"append-node":e.appendnode,"table-show":e.tableshow}})],1),n("el-tab-pane",{attrs:{label:"关联关系",name:"tablerelation"}},[n("tablerelation",{attrs:{"table-id":e.tableId,"open-type":e.openType}})],1),"showTable"===e.openType||"tableRegister"===e.openType?n("el-tab-pane",{attrs:{label:"创建语句",name:"createSql"}},[n("create-sql",{attrs:{"table-id":e.tableId,"open-type":e.openType}})],1):e._e(),"showTable"===e.openType||"tableRegister"===e.openType?n("el-tab-pane",{attrs:{label:"业务信息",name:"bizInfo"}},[n("biz-info",{attrs:{"table-id":e.tableId,"open-type":e.openType}})],1):e._e()],1)],1)},a=[]},6874:function(e,t,n){"use strict";n.r(t);var i=n("6d17"),a=n("ca38");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4b830b0f",null);t["default"]=s.exports},"68da":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3d37")),r=i(n("1416")),o=n("abfa"),s={name:"ThresholdValueRel",components:{Colorpicker:a.default,thresholdvaluetree:r.default},props:["setThreasholdValueObj"],created:function(){this.setThreasholdValueObj.isDisplay&&(this.thresholdValueRelObj.modelThresholdValueUuid=this.setThreasholdValueObj.thresholdValueRelObj.modelThresholdValueUuid,this.thresholdValueRelObj.thresholdValueUuid=this.setThreasholdValueObj.thresholdValueRelObj.thresholdValueUuid,this.thresholdValueRelObj.thresholdValueUuid=this.setThreasholdValueObj.thresholdValueRelObj.thresholdValueUuid,this.thresholdValueRelObj.thresholdValueName=this.setThreasholdValueObj.thresholdValueRelObj.thresholdValueName,this.thresholdValueRelObj.colorInfo=this.setThreasholdValueObj.thresholdValueRelObj.colorInfo,this.thresholdValueRelObj.modelResultColumnName=this.setThreasholdValueObj.thresholdValueRelObj.modelResultColumnName,this.thresholdValueRelObj.operator=this.setThreasholdValueObj.thresholdValueRelObj.operator,this.thresholdValueRelObj.thresholdValueObject=this.setThreasholdValueObj.thresholdValueRelObj.thresholdValueObject,this.thresholdValueRelObj.thresholdValue=this.setThreasholdValueObj.thresholdValueRelObj.thresholdValue,this.thresholdValueRelObj.colorInfoObj=JSON.parse(this.setThreasholdValueObj.thresholdValueRelObj.colorInfo),2==this.thresholdValueRelObj.thresholdValue.thresholdValueType?this.isShowThresholdValueObject=!0:(this.isShowThresholdValueObject=!1,this.thresholdValueRelObj.thresholdValueObject=""))},data:function(){return{thresholdValueRelObj:{modelThresholdValueUuid:"",thresholdValueUuid:"",thresholdValueName:"",colorInfo:"",modelResultColumnName:"",operator:"=",thresholdValueObject:"",thresholdValue:{},colorInfoObj:{backgroundColor:"#000000",fontColor:"#000000"}},isShowThresholdValueObject:!1,operatorObj:[{value:"=",name:"等于"},{value:">",name:"大于"},{value:">=",name:"大于等于"},{value:"<",name:"小于"},{value:"<=",name:"小于等于"},{value:"startswith",name:"开头是"},{value:"endingwith",name:"结尾是"},{value:"like",name:"包含"},{value:"notlike",name:"不包含"}],basicInfoRules:{modelResultColumnName:[{type:"string",required:!0,message:"请选择阈值字段",trigger:"blur"}],thresholdValueName:[{type:"string",required:!0,message:"请选择阈值",trigger:"blur"}],thresholdValueObject:[{required:!0,type:"string",validator:this.verValueMethods}]},loading:!1}},methods:{verValueMethods:function(e,t,n){this.isShowThresholdValueObject&&""===this.thresholdValueRelObj.thresholdValueObject?n(new Error("请选择阈值关联对象列")):n()},setSelectTreeNode:function(e){var t=this;"folder"!==e.type?(this.loading=!0,this.thresholdValueRelObj.thresholdValueUuid=e.id,this.thresholdValueRelObj.thresholdValueName=e.label,(0,o.findThresholdValueById)(e.id).then((function(e){t.loading=!1,null!=e.data&&(t.thresholdValueRelObj.thresholdValue=e.data),2==e.data.thresholdValueType?t.isShowThresholdValueObject=!0:(t.isShowThresholdValueObject=!1,t.thresholdValueRelObj.thresholdValueObject="")}))):this.$message({type:"info",message:"不能选择文件夹!"})},getSaveObj:function(){var e=!1;if(this.$refs["info"].validate((function(t){if(!t)return!1;e=!0})),e)return this.thresholdValueRelObj.colorInfo=JSON.stringify(this.thresholdValueRelObj.colorInfoObj),this.thresholdValueRelObj}}};t.default=s},"68de":function(e,t,n){"use strict";n.r(t);var i=n("2db9"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"68e9":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("ac6a"),n("20d6");var a=i(n("333d")),r=n("8892a"),o=i(n("c164")),s={components:{Pagination:a.default,QueryField:o.default},data:function(){return{tableKey:"formulaId",list:null,total:0,listLoading:!1,queryFields:[{label:"指标模块",name:"indexModule",type:"fuzzyText"},{label:"指标名称",name:"indexName",type:"fuzzyText",value:""}],pageQuery:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},temp:{formulaId:void 0,indexModule:"",indexName:"",formulaContent:"",formulaComment:""},selections:[],dialogFormVisible:!1,dialogStatus:"",textMap:{update:"修改",create:"新增"},dialogPvVisible:!1,rules:{},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,r.listByPage)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},resetTemp:function(){this.temp={formulaId:void 0,indexModule:"",indexName:"",formulaContent:"",formulaComment:""}},add:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(0,r.save)(e.temp).then((function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},update:function(){var e=this;this.temp=Object.assign({},this.selections[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var n=Object.assign({},e.temp);(0,r.update)(n).then((function(){var t=e.list.findIndex((function(t){return t.formulaId===e.temp.formulaId}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},deleteBiz:function(){var e=this,t=[];this.selections.forEach((function(e,n){t.push(e.formulaId)})),(0,r.del)(t.join(",")).then((function(){e.getList(),e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})}))},handleSelectionChange:function(e){this.selections=e},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"},exportSQL:function(){(0,r.wideTableSQL)().then((function(e){console.log(e.data)}))},buildModelSQL:function(){var e=this;(0,r.generateIndexSQL)().then((function(t){e.$notify({title:"成功",message:"模型编译成功",type:"success",duration:2e3,position:"bottom-right"})}))}}};t.default=s},"68fa":function(e,t,n){"use strict";n("aa27")},6905:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEFUlEQVRYCcVXXWgUVxQ+d7Julqqp0cTEjbrGYKnFv0BFX7RRnxKhUNq8pI/pS6FQ6IvY0kKLPvgi+OBTBRH0KVBBjQFRqkZQiRqJGEqjJZF1Y6y6zeZvd7PZ2/PdeGfnTmZ3JrDigWHuOee75zszc+65dwQFlPb29vBIPLlPCvm5lPSJEBSVJKOYLkgk2JZg26CQ4kJsbfWfXV1d2SChhR9oZ0tbPWXTv5AUXzNhlR8efk4oRUKeo3Dkt77rl1+UmlM0gdbW1spXqexPMi9/4ABLSwUp4ZsSljheUxU+2tPTk/HCeSYw/9SZ81LK3V6TFmsTQtyhcOUXXm9jQQK79hzYls/Jbkm0drFEpfBMFA8tsdpu37z6yIkzElBPnkn3lZtcEyIJqozsdL4JSzvxzSnLr73MT67j465iM4fieuuwE1AFV6Zv7iR1j1FX4NJ2lQBe/dtq1/YF96btK3lVhQx7bcMHhMspwABbSsClPjeD5t8A1rnPUus4tJUDrzDi7v0qRricAgywPrJU9RYGWehwaDI+E0hwqtxgXDDopg0YYH2FOcFtqfbq0+Eamqqo+/e/aXpi1ojLrXeBzEzlFDa6cfkCn9OArgruEHo7yrOYbGpeRd+f3GW7T//cT/evjdq6c9C8fw11Hmm2TSe+u0tDD17bunsAbgsbi9vh1Otiy5wqrV5f6Mo815D6WMEHR916c64BZgXcFnY1t8OpZ6bN1z4zmXO6jXF6as7UJ825hpMVcIf0lup2av3h9RdUe2qIqusiNJGcpTuXn2sXAuApbLndHadl1WGqWhmm5Ms0DdwsuRHyl5fRiui6xh85QtiO4hrk5yQN9b+hxi3VdO9KggPP2Ijp1CyN/jNB//2bVrbcbJ4mk1mq4d5wiYt2jueWEn6AjMWLJlEKpH07WuppRW1Eq9TSvoE6Dm9VF8ZagAE2mIhRFGGgBNwBWzs3UbRpuboOfvOR2x1IBzeKcDAQ2gWqqCg0gUCNxzUfKrgtnOE8fL6mR7de2piB3jF7vJgBuEM4QA7H36SCnvc0wZlfH1LvHyNqJTwdSGpz4DvXXgrcljq94gDpIzKP/dys6ub99bRjn1lwwADrK8wJ7goAG5o236e53Lc8LLocnz+ZoOHH4wwrRH8Vn6aRwXFjj0i9ztKzv8YpOVZYrh7JTInKyJeJ4aFJlQAGDbGNEU7+Mw+wMiGgkxxGbE7uDQoYH3LeLcWxvt4rFxHD3jhxdFanV1jfoYADXJqisJbY8l4PpcgIp1UrJA5yVnGdYbnuiIljufNEjNj2J9BEd3uvDeDoXM7PoWJxTPc/AThVEWpyfUdRbt/y8dmZbB6r6lO2F10dek6RO37NjtV8GO68cbVn3Atj1IAXQNXF+/g5dSfzrn7P/wdlUbF4rlyDRwAAAABJRU5ErkJggg=="},"696d":function(e,t,n){e.exports=n.p+"static/img/firsttable.d2847d3a.png"},"69ea":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAOKADAAQAAAABAAAAOAAAAAANV2hTAAAIUklEQVRoBd1bfUxVZRh/zrkXky8LERTNSVEDtZgp6mI6U7QJks1alktam+kfTTddri1rY25ly1X2h+uPrK3SVunSaQguQXM6mp85nIhLCmYCgkjKlwr3np7fgQPvPefc9xzuvWDx2/Cc8348z/O77/fzvCoUYWia5ilrODSdNP9cjbQMhSiDVUwkTYvXiOKhjtNaSVFa+fUqp1UppFSRoh7PGbf4nKIoPpSJFFhX+DijnYlqqbuepyjaSjZ4EZN5MCSpinKLDTqsacquhPFji7OUrK6Q5AiVwiJYrpVHd9Q3ryeN3mJiiYLcsF/ZsGZu6k9iUhI/y1ayO0MVGBJBvRvWHXydlW7mbjghVOVu6nH3vcblCnPGL/k6lO47YIJl9cW5mub/mElOcWNgpMowuUpFUTfmpOSVDESma4JMSCmrP/g+PzcNREGkyzLRLTkpS97jJ48KZ7gieLTxaJyvu30Xk3veWeTgl2By+z3e2JXzk+e3OWlzJHi0viS1W/Md4JnxSSdhQ5qvKBe8imfp/JTcGpleKcEect0neZZMlgmxy2tsvUWna6qpuqmRmjvaqKWjnVrae37whNg4SoiJpcSYOEpLSqaZqWmUHB/CyqJQo1fxzpaRDEoQ3bK7u718IC13+04nHbp4nk4xsdqbN+x4B02bNHoMzWKii6dOo1Ejo4OWs2SgJb2x2cG6qy3B3glln9sxd6e7i4oqztGBirPU2XXPYsNAEqKjRtDSzBmUnzmdRnqjXFXFmOSJZ5ndxGNLsLSu6AO3s+Xp2mr64ngZ/dPZ4coYt4Ueio6hNXNzaOakNFdVmNyWhePz3zUXthDEOuf3+4rNBe2+f/r9JP1w5je7LIryeGlu6jTKy8imjKRJNC4+kf/G6GUbWm9QQ2szXWqspZLL5XS85jx1+bpt5byS9TS9+NRs2zxzoqp68szrZABBbjUPr3UV/JQu4l0+H20/9guVV18266DkuAR6e14BLc9cSPEjYiz5dgm377bTngtltPXYTmpsa7EUyU5Lp7XznuUfzWPJExO4FSu5q2bys2/DHkCw9FrRKt56fSlWsnvfdqTEQu4B7wjaMGcFrc1+iWKjRtpVc0xr77pD28v30LYT39Pd7sCxDJIbFuQ6yuCt3RsLJ+R/ZRTsI6hvnOtu/uG0t7Trlmi1nS9vplkPSxve0On4PPV3JRX8WGhpTTfdFXvXmPGjHzc26KqhDacCJ3KYUMxjbkryI3Rk9ecRIwd78ENBJmSLgG7YIAM46Cec3kI6QZzncOSRVcRSgNlSBFpu96tbaMKoJDE5Iu+QCdnQIQI2wBYpmIvOiQvpBHFYdTrPYZ0TlwKMuV3cLQeDnGE8ZKPrQ5cB2ABbZAAXcEIZnaCi+AtkFbBDwSIuAhPKzAiNOVGu+R3dFbpEwBbYJAO8C8hXsTRopCyUFcb2S9yhoNus49lyqICZWeyqsAU2ycCtuAjc1CMNRTOcfCjYW4rAOhcT4lIgynH7jmUHOkWYbRLz9Hf2C8H5xS2ozrFkCgk4FYgbZ+xQsIhHCsW8k3li2wr9r/TK6aBioRO6DcAm2CYFe/Z4DPonywqdqrkSkI3tl9sdSkBFm4+9F3+l13Zvpmu3m/S/9T9/alOqJwk6oVuE2TYxr+fdP5kJKunWjP6UP5ua+j/4DXvLSGAfk1uz90Py+X2uxeWmB+o222YVpKRjFp1ozehPwWFVBDbO4QLkVpvIeVQPbc1bJxU9OTlQt9k2m8oTVZ5gdG+zTaaehJO4CJwKZMA4MsYUxpcZwcjteOEdyjO1kLmuWbfZNnN5cFN5OpUT7HUzGJWNI4/xbX5iHBljCuMLhAzIyC2b+oxRLOhzbFzgj2u4QIJVALf+aSlYqTDSMb7QFQ3YdUu0nBtyhoyBPlU+TrTKKsFBJAKHVRkwjjCeDBgkI0HueluzIVZ/mm0LyOQPcFN7ozzmvL5veL9E4CQuA8YRWsVMUpwtkRdKy5l1m22z2MURLMyiVy0ZQgJceyKqmmrFT9t3dDkzSaNgqORQHy4OEWbbxLze96tMULP6HYSSjyYFHoWKq6wzo1C879WOZDjkIBj+GxHwqcrAk0wVE1QvyQrNSn0sIBsOotZ77jxoIPnt8kL9SIWjD95DnVDgt4FuEXAYy4DAqheRVY7GBi0HjzOcssZ+FN6v3RWltCpradA6YgbGpNP6JpYP9g6nlOh5g02O3nDmpiJszBONdNcKj7MIeL/gIBoqQBd0ijDbJObp78wJ3FS42BTSSi0FhAS40+FxNgDXHrxfQwXoEt2JsAU2ycBLxGFwwyzKOxo18Ocx1USsAO50EXDtwfs12IAO6BIBW5ziF4jzo45OEAF/Zixd4BArgDvdAPyWcO1hWzZYgGzoEH2ksAG2yAAu4IQyOkH9NgMH/GWVEAhBrEAEus3y7zYNCkmQg2yxa0I3bHAMyjAX44aGThAVcZuhN+CPT1sgEALnq4jKxr9owY436XQEuytkQSZki4Bup2CM7vhlLka9PoK9nuBCIyPYE4EQuNFF4Fd+7puN9BHPdB1hzK6oCxmQZW456HQZhCk0vNqwkbtrP+5X8AUbB6ytgx58AdWhDJ9hX4ut35CFz4y2HNYBUJDkroo7McM3hA2Sw/oSAggC4V4jgd8Srj3ZNRIcx3Bicdw495gU+G8410gMSf/3i0B966BByPzEJRvcQ+GN635z3v36hi363RiHW06wL2AdlBncO/EMz8t4IvFhe51SJKnveIbrhViR6LC90iySxHv/pXR/gR4tDutSulaKA/h/4lK6mSi+0X0RNe4JrCL2qIfngv63gh63pXqJ7wmcWDAu/yzcDHZyQ037F7BnMDmK+kU6AAAAAElFTkSuQmCC"},"6a14":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"560px"}},[n("div",{staticStyle:{padding:"50px 0 0 180px"}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-radio",{attrs:{label:"samCount"},model:{value:e.radioVal,callback:function(t){e.radioVal=t},expression:"radioVal"}},[e._v("样本量（个）抽样")])],1),n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{type:"number",placeholder:"请输入样本数量",min:"1",step:"10"},model:{value:e.samCount,callback:function(t){e.samCount=t},expression:"samCount"}})],1)],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("el-radio",{attrs:{label:"proportion"},model:{value:e.radioVal,callback:function(t){e.radioVal=t},expression:"radioVal"}},[e._v("比例（%）抽样")])],1),n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{type:"number",placeholder:"请输入样本数量比例",min:"1",max:"100",step:"5"},model:{value:e.proportion,callback:function(t){e.proportion=t},expression:"proportion"}})],1)],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("el-radio",{attrs:{label:"preNumber"},model:{value:e.radioVal,callback:function(t){e.radioVal=t},expression:"radioVal"}},[e._v("前N个抽样")])],1),n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{type:"number",placeholder:"请输入数量",min:"1"},model:{value:e.preNumber,callback:function(t){e.preNumber=t},expression:"preNumber"}})],1)],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("el-radio",{attrs:{label:"eqCountSample"},model:{value:e.radioVal,callback:function(t){e.radioVal=t},expression:"radioVal"}},[e._v("等距抽样")])],1),n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{type:"number",placeholder:"请输入样本步长",min:"1"},model:{value:e.eqCountSample,callback:function(t){e.eqCountSample=t},expression:"eqCountSample"}})],1)],1)],1)])},a=[]},"6a58":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("8ee8")),r={name:"PagePermission",components:{SwitchRoles:a.default},methods:{handleRolesChange:function(){this.$router.push({path:"/permission/index?"+ +new Date})}}};t.default=r},"6ac9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-query-builder"},[e._t("default",[n("query-builder-group",e._b({attrs:{query:e.query},on:{"update:query":function(t){e.query=t}}},"query-builder-group",e.vqbProps,!1))],null,e.vqbProps)],2)},a=[]},"6b33":function(e,t,n){"use strict";n.r(t);var i=n("a17d"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"6b90":function(e,t,n){},"6bc3":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticStyle:{color:"red","font-size":"large"}},[e._v("注意：只显示最后的结果列")]),n("p",{staticStyle:{"font-size":"large","font-weight":"bold"}},[e._v("基本信息")]),n("p",{staticStyle:{color:"silver","font-size":"large"}},[e._v("———————————————————————————")]),n("el-container",{staticStyle:{height:"450px"}},[n("div",{ref:"basicInfo"},[n("el-form",{ref:"basicInfoForm",staticClass:"detail-form",attrs:{model:e.form,rules:e.rules,disabled:e.isBanEdit}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"名称",prop:"modelDetailName"}},[n("el-input",{on:{input:e.nameValueChange},model:{value:e.form.modelDetailName,callback:function(t){e.$set(e.form,"modelDetailName",t)},expression:"form.modelDetailName"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.modelDetailMemo,callback:function(t){e.$set(e.form,"modelDetailMemo",t)},expression:"form.modelDetailMemo"}})],1)],1)],1),n("p",{staticStyle:{"font-size":"large","font-weight":"bold"}},[e._v("关联设置")]),n("p",{staticStyle:{color:"silver","font-size":"large"}},[e._v("———————————————————————————")]),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"关联类型",prop:"relationType"}},[n("el-select",{ref:"relTypeSelect",staticStyle:{width:"100%"},attrs:{placeholder:"请选择关联类型"},on:{change:e.relTypeSelectChange},model:{value:e.form.relationType,callback:function(t){e.$set(e.form,"relationType",t)},expression:"form.relationType"}},[n("el-option",{attrs:{label:"关联模型",value:1}}),n("el-option",{attrs:{label:"关联表",value:2}})],1)],1)],1)],1),n("div",{ref:"relModelDivParent",staticStyle:{display:"none"}},[n("el-row",[n("el-form-item",{attrs:{label:"被关联模型"}},[n("el-col",{attrs:{span:20}},[n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.form.relationObjectUuid,callback:function(t){e.$set(e.form,"relationObjectUuid",t)},expression:"form.relationObjectUuid"}}),n("el-input",{attrs:{disabled:!0},model:{value:e.form.relationObjectName,callback:function(t){e.$set(e.form,"relationObjectName",t)},expression:"form.relationObjectName"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:e.selectModel}},[e._v("选择")])],1)],1),n("div",{ref:"relModelTableDiv",staticStyle:{display:"none"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addRelFilter(1)}}},[e._v("添加")]),n("el-table",{ref:"relModelTable",attrs:{data:e.relModelTable,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"原模型字段",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{value:"-1"},model:{value:t.row.resultColumn,callback:function(n){e.$set(t.row,"resultColumn",n)},expression:"scope.row.resultColumn"}},e._l(e.columns,(function(e){return n("el-option",{key:e.outputColumnName,attrs:{value:e.outputColumnName,label:e.outputColumnName}})})),1)]}}])}),n("el-table-column",{attrs:{label:"关联模型参数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{value:"-1"},model:{value:t.row.ammParamUuid,callback:function(n){e.$set(t.row,"ammParamUuid",n)},expression:"scope.row.ammParamUuid"}},e._l(e.relModelParam,(function(e){return n("el-option",{key:e.ammParamUuid,attrs:{value:e.ammParamUuid,label:e.paramName}})})),1)]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.$index,e.relModelTable)}}},[e._v("删除")])]}}])})],1)],1)],1),n("div",{ref:"relTableDivParent",staticStyle:{display:"none"}},[n("el-row",[n("el-form-item",{attrs:{label:"被关联表",prop:"relationObjectUuidTable"}},[n("el-col",{attrs:{span:20}},[n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.form.relationObjectUuid,callback:function(t){e.$set(e.form,"relationObjectUuid",t)},expression:"form.relationObjectUuid"}}),n("el-input",{attrs:{disabled:!0},model:{value:e.form.relationObjectName,callback:function(t){e.$set(e.form,"relationObjectName",t)},expression:"form.relationObjectName"}})],1),n("el-button",{on:{click:e.showDataTree}},[e._v("选择")])],1)],1),n("div",{ref:"relTableDiv",staticStyle:{display:"none"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addRelFilter(2)}}},[e._v("添加")]),n("el-table",{ref:"relTable",attrs:{data:e.relTable,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"过滤条件",align:"center",prop:"",width:"450px"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.noShow?void 0:[n("el-row",[n("el-col",{attrs:{span:18}},[n("el-input",{attrs:{disabled:!0},model:{value:t.row.relFilterValue=e.inputValue[t.row.modelDetailConfigUuid],callback:function(n){e.$set(t.row.relFilterValue=e.inputValue,t.row.modelDetailConfigUuid,n)},expression:"scope.row.relFilterValue=inputValue[scope.row.modelDetailConfigUuid]"}}),n("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{disabled:!0},model:{value:t.row.relFilterValueJson=e.inputValueJson[t.row.modelDetailConfigUuid],callback:function(n){e.$set(t.row.relFilterValueJson=e.inputValueJson,t.row.modelDetailConfigUuid,n)},expression:"scope.row.relFilterValueJson=inputValueJson[scope.row.modelDetailConfigUuid]"}})],1),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.openQueryBuilder(t.row.modelDetailConfigUuid)}}},[e._v("设置")])],1)]}}],null,!0)}),n("el-table-column",{attrs:{label:"操作",align:"center",prop:"runTime",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.noShow?void 0:[n("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.$index,e.relTable)}}},[e._v("删除")])]}}],null,!0)})],1)],1)],1)],1)],1)]),e.ModelTreeDialog?n("el-dialog",{attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.ModelTreeDialog,title:"请选择模型",width:"80%"},on:{"update:visible":function(t){e.ModelTreeDialog=t}}},[n("ModelFolderTree",{directives:[{name:"loading",rawName:"v-loading",value:e.modelTreeLoading,expression:"modelTreeLoading"}],ref:"modelFolderTree",attrs:{publicModel:"relationModel"}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.getSelectModel}},[e._v("确定")]),n("el-button",{on:{click:function(t){e.ModelTreeDialog=!1}}},[e._v("取消")])],1)],1):e._e(),e.dataTableTree?n("el-dialog",{attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.dataTableTree,title:"请选择数据表",width:"80%"},on:{"update:visible":function(t){e.dataTableTree=t}}},[n("data-tree",{ref:"dataTableTree",attrs:{dataUserId:e.dataUserId,sceneCode:e.sceneCode}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{tvype:"primary"},on:{click:e.getDataTable}},[e._v("确定")]),n("el-button",{on:{click:function(t){e.dataTableTree=!1}}},[e._v("取消")])],1)],1):e._e(),n("el-dialog",{attrs:{title:"条件设置",visible:e.queryBuilderDialogVisible,width:"30%","append-to-body":!0},on:{"update:visible":function(t){e.queryBuilderDialogVisible=t}}},[e.queryBuilderDialogVisible?n("myQueryBuilder",{ref:"myQueryBuilder",attrs:{columns:e.queryRules,data:e.queryBuilderJson,inputselectvalue:e.columns}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.queryBuilderDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.queryCondition}},[e._v("确定")])],1)],1)],1)},a=[]},"6c1e":function(e,t,n){"use strict";n.r(t);var i=n("38e7"),a=n("7cc1");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"6c34":function(e,t,n){"use strict";n.r(t);var i=n("17e8"),a=n("09a2");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"6c44":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e858")),r=n("9ac2"),o={components:{MyElTree:a.default},data:function(){return{filterText1:null,props:{label:"label",isLeaf:"leaf"},accessForm:{folderUuid:null,folderName:null,parentFolderUuid:null,orderNum:0,fullPath:null},treeData1:[],treeLoading:!0,checkedId:""}},computed:{},watch:{filterText1:function(e){this.$refs.tree1.filter(e)}},created:function(){var e=this;(0,r.getAuditItem)().then((function(t){e.treeData1=t.data,e.treeLoading=!1}))},methods:{handleNodeClick1:function(e,t,n){!0===t?(this.checkedId=e.id,this.$refs.tree1.setCheckedKeys([e.id])):this.checkedId==e.id&&this.$refs.tree1.setCheckedKeys([e.id])},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},getTree:function(){return this.$refs.tree1}}};t.default=o},"6c82":function(e,t,n){},"6c96":function(e,t,n){"use strict";n("9e82")},"6caf":function(e,t,n){"use strict";n("ecce")},"6cc7":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-delete",use:"icon-oper-delete-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-delete"><defs><style type="text/css"></style></defs><path d="M928 192h-224V160c0-54.4-41.6-96-96-96h-192c-54.4 0-96 41.6-96 96v32H96c-19.2 0-32 12.8-32 32s12.8 32 32 32h832c19.2 0 32-12.8 32-32s-12.8-32-32-32zM803.2 288H220.8c-19.2 3.2-32 19.2-28.8 35.2l57.6 547.2c0 48 41.6 89.6 89.6 89.6h345.6c48 0 89.6-38.4 89.6-89.6L832 323.2c3.2-16-9.6-32-28.8-35.2z m-384 576c-19.2 0-32-16-28.8-32l-9.6-422.4c0-16 16-28.8 35.2-28.8s32 16 28.8 32l9.6 422.4c-3.2 19.2-19.2 28.8-35.2 28.8z m220.8-32c0 16-12.8 32-28.8 32-19.2 0-32-9.6-35.2-28.8V416c0-16 12.8-32 28.8-32 19.2 0 32 9.6 35.2 28.8V832z" p-id="57379" /></symbol>'});o.a.add(s);t["default"]=s},"6cdc":function(e,t,n){"use strict";n("10fb")},"6ce9":function(e,t,n){"use strict";n.r(t);var i=n("bc48"),a=n("a0c9");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("54d4");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"e6aaccec",null);t["default"]=s.exports},"6d17":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"app-container",attrs:{"element-loading-text":e.loadText}},[n("el-container",[n("el-aside",{staticClass:"tree-side"},[n("Thresholdvaluetree",{ref:"thresholdValueFolderTree",attrs:{isShowEdit:!0},on:{refreshThresholdvalueList:e.refreshThresholdvalueList}})],1),n("Thresholdvaluelist",{ref:"thresholdValueListTable",on:{loadingSet:e.loadingSet,refreshTree:e.refreshTree}})],1)],1)},a=[]},"6d1c":function(e,t,n){"use strict";n.r(t);var i=n("f0ea"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"6d59":function(e,t,n){"use strict";n("efcc")},"6d5f":function(e,t,n){"use strict";n.r(t);var i=n("7542"),a=n("751f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("4e34");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"22d4503c",null);t["default"]=s.exports},"6db5":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"left-menu relative flex a-center j-between flex-column",style:{width:e.leftWidth+"px"},on:{mouseleave:function(t){return e.menuLeave()}}},[e.isShrink?[i("div",{staticClass:"top flex a-center j-between flex-column"},[i("img",{staticClass:"logo",attrs:{src:n("d7e9")}}),i("div",{staticClass:"menu flex a-center j-between flex-column"},[i("i",{staticClass:"el-icon-arrow-up text-white icon",class:[0===e.currentIndex&&"icon-disable"],on:{click:function(t){return e.action("prev")}}}),i("div",{directives:[{name:"scroll-top",rawName:"v-scroll-top",value:e.scrollTop,expression:"scrollTop"}],ref:"domTopList",staticClass:"list flex a-center j-between flex-column"},[i("div",{ref:"navDom",staticClass:"box",on:{click:function(t){return e.selectMenuIn()}}},[i("img",{staticClass:"img",attrs:{src:e.workbenchImg}})]),e._l(e.applications,(function(t,n){return i("div",{key:n,ref:"navDom",refInFor:!0,staticClass:"box",class:[e.currentIndex===n&&"box-active"],on:{click:function(i){return e.selectMenu(t,n)}}},[i("div",{staticClass:"img",style:[e.getStyle(t.img)]})])}))],2),i("i",{staticClass:"el-icon-arrow-down text-white icon",class:[e.currentIndex===e.applications.length-1&&"icon-disable"],on:{click:function(t){return e.action("next")}}})])]),i("div",{staticClass:"bottom flex a-center j-end flex-column"},[i("span",{staticClass:"label-search",on:{click:function(t){e.isShowToolsList=!e.isShowToolsList,e.isShowTreeList=!1,e.currentIndex=-1}}},[i("i",{staticClass:"el-icon-search"})]),i("span",{staticClass:"label-open",on:{click:function(t){e.isShowToolsList=!e.isShowToolsList,e.isShowTreeList=!1,e.currentIndex=-1}}},[i("i",{staticClass:"el-icon-s-grid"})]),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:e.$store.getters.name,placement:"top"}},[i("span",{staticClass:"label-wang",on:{click:function(t){e.isShowSettingList=!e.isShowSettingList}}},[e._v(e._s(e.$store.getters.name)),e.isThereReminder?i("i",{staticClass:"label-wang-in"}):e._e()])]),i("i",{staticClass:"setting-btn icon iconfont iconmenu-2 setting-btn-Upright",on:{click:e.widthChange}})],1)]:[i("div",{staticClass:"top-open"},[i("div",{staticClass:"logo-wrap flex a-center j-center flex-row",staticStyle:{cursor:"pointer"}},[i("img",{staticClass:"logo",attrs:{src:n("d7e9")},on:{click:function(t){return e.jumpHome()}}}),i("img",{staticClass:"logo-text",attrs:{src:n("1f60")}})]),i("div",{staticClass:"menu flex a-center j-between flex-column"},[i("i",{staticClass:"el-icon-arrow-up text-white icon",class:[0===e.currentIndex&&"icon-disable"],on:{click:function(t){return e.action("prev")}}}),i("div",{directives:[{name:"scroll-top",rawName:"v-scroll-top",value:e.scrollTop,expression:"scrollTop"}],staticClass:"list flex a-center j-between flex-column"},[i("div",{ref:"navDom",staticClass:"box flex a-center j-center flex-column",on:{click:function(t){return e.selectMenuIn()}}},[i("img",{staticClass:"img",attrs:{src:e.workbenchImg}}),i("div",{staticClass:"name"},[e._v("工作台")])]),e._l(e.applications,(function(t,n){return i("div",{key:n,ref:"navDom",refInFor:!0,staticClass:"box flex a-center j-center flex-column",class:[e.currentIndex===n&&"box-active"],on:{click:function(i){return e.selectMenu(t,n)}}},[i("div",{staticClass:"img",style:[e.getStyle(t.img)]}),i("div",{staticClass:"name"},[e._v(e._s(t.name))])])}))],2),i("i",{staticClass:"el-icon-arrow-down text-white icon",class:[e.currentIndex===e.applications.length-1&&"icon-disable"],on:{click:function(t){return e.action("next")}}})])]),i("div",{staticClass:"bottom-open flex a-center j-end flex-column"},[e._m(0),i("div",{staticClass:"label-open flex a-center j-start flex-row",on:{click:function(t){e.isShowToolsList=!e.isShowToolsList,e.isShowTreeList=!1,e.currentIndex=-1}}},[i("i",{staticClass:"el-icon-s-grid"}),i("span",[e._v("更多工具")])]),i("div",{staticClass:"footer-btns flex a-center j-between flex-row"},[i("i",{staticClass:"setting-btn icon iconfont iconmenu-2 setting-btn-right",on:{click:e.widthChange}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:e.$store.getters.name,placement:"top"}},[i("span",{staticClass:"label-wang",on:{click:function(t){e.isShowSettingList=!e.isShowSettingList}}},[e._v(e._s(e.$store.getters.name)),e.isThereReminder?i("i",{staticClass:"label-wang-in"}):e._e()])])],1)])],i("transition",{attrs:{name:"slide-fade"}},[e.isShowTreeList?i("div",{staticClass:"tree-list absolute"},[i("div",{staticClass:"tree-list-title"},[e._v(" "+e._s(e.nowAppName)+" ")]),i("div",{staticClass:"tree-list-content"},[i("menu-tree",{attrs:{list:e.currentMenuGroup},on:{closetree:function(t){e.isShowTreeList=!1,e.isShrink=!0}}})],1)]):e._e()]),i("transition",{attrs:{name:"setting-fade"}},[e.isShowSettingList?i("div",{staticClass:"setting-list absolute",on:{click:function(t){e.isShowSettingList=!e.isShowSettingList},mouseleave:function(t){e.isShowSettingList=!1}}},[i("div",{staticClass:"setting-list-content"},e._l(e.settingList,(function(t,n){return i("div",{key:n,staticClass:"setting-list-line flex flex-row a-center j-start"},[i("i",{staticClass:"el-icon-delete icon"}),i("div",{staticClass:"name-box",on:{click:t.method}},[i("span",[e._v(e._s(t.name))]),t.count?i("span",{staticClass:"count",class:[0===n?"count-red":1===n?"count-green":""]},[e._v(e._s(t.count))]):e._e()])])})),0)]):e._e()]),i("transition",{attrs:{name:"showAnimation"}},[e.isShowToolsList?i("div",{staticClass:"tools-list",style:{left:e.isShrink?"64px":"120px"}},[i("tools-template",{on:{func:e.showWith}})],1):e._e()]),e.showHelpWidth?i("div",{staticClass:"page-left"},[i("el-collapse",{staticClass:"tools-menu-small",attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-collapse-item",{attrs:{title:"审计作业",name:"1"}},["1"===e.activeName?i("el-tree",{ref:"tree",attrs:{data:e.moremenugroup["402883817586fc2a017586fd9e1a0001"],"node-key":"id","highlight-current":"",props:e.defaultProps},on:{"node-click":e.handleNodeClick}}):e._e()],1),i("el-collapse-item",{attrs:{title:"审计分析",name:"2"}},["2"===e.activeName?i("el-tree",{ref:"tree",attrs:{data:e.moremenugroup["4028838175880ded01758835b393006b"],"node-key":"id","highlight-current":"",props:e.defaultProps},on:{"node-click":e.handleNodeClick}}):e._e()],1),i("el-collapse-item",{attrs:{title:"审计资源",name:"3"}},["3"===e.activeName?i("el-tree",{ref:"tree",attrs:{data:e.moremenugroup["4028838175880ded01758816610b001a"],"node-key":"id","highlight-current":"",props:e.defaultProps},on:{"node-click":e.handleNodeClick}}):e._e()],1),i("el-collapse-item",{attrs:{title:"系统配置",name:"4"}},["4"===e.activeName?i("el-tree",{ref:"tree",attrs:{data:e.moremenugroup["4028838175880ded01758828366f0046"],"node-key":"id","highlight-current":"",props:e.defaultProps},on:{"node-click":e.handleNodeClick}}):e._e()],1)],1)],1):e._e(),e.showHelpWidth?i("div",{staticClass:"page-close",on:{click:function(t){e.showHelpWidth=!1,e.showHelpHeight=!1}}}):e._e(),e.showHelpWidth&&e.showHelpHeight?i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"readonlyTo"},[i("div",{staticClass:"readonlyToX",on:{click:function(t){e.showHelpHeight=!1}}},[e._v("X")]),i("div",{staticClass:"readonlyChild",attrs:{id:"readonlyChild"}})]):e._e()],2)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-box flex a-center j-start flex-row"},[n("input",{staticClass:"search-input",attrs:{type:"text",name:"search",placeholder:"Search"}}),n("i",{staticClass:"el-icon-search"})])}]},"6db7":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("switch-roles",{on:{change:e.handleRolesChange}})],1)},a=[]},"6dd4":function(e,t,n){"use strict";n("edbf")},"6e7a":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"560px",padding:"30px 0 0 15px"}},[n("el-row",[n("p",{staticStyle:{color:"red"}},[e._v("注：两张表所勾选融合字段的含义和顺序需保持一致，均可通过拖动行改变字段的的顺序")])]),n("div",{staticClass:"div_table"},[n("el-row",{staticStyle:{padding:"10px 5px"}},[e.isLeftTip?e._e():n("el-col",{ref:"leftTableCol",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:20}},[n("label",[e._v(e._s(e.leftTableName))])]),e.isLeftTip?n("el-col",{ref:"leftTableCol",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:20}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.leftTableName,placement:"top"}},[n("label",[e._v(e._s(e.leftTableName))])])],1):e._e(),n("el-col",{attrs:{span:4}},[n("el-checkbox",{on:{change:e.leftMainTableChange},model:{value:e.leftMainTableChecked,callback:function(t){e.leftMainTableChecked=t},expression:"leftMainTableChecked"}},[e._v("主表")])],1)],1),n("el-table",{ref:"leftElTable",staticStyle:{width:"100%"},attrs:{data:e.leftTableColArr,fit:"",height:"435"}},[n("el-table-column",{attrs:{align:"center",width:"60",resizable:!1},scopedSlots:e._u([{key:"header",fn:function(t){return[n("el-checkbox",{on:{change:e.leftSelectAllChange},model:{value:e.leftSelectAll,callback:function(t){e.leftSelectAll=t},expression:"leftSelectAll"}})]}},{key:"default",fn:function(t){return[n("el-checkbox",{on:{change:e.leftColumnChange},model:{value:t.row.checked,callback:function(n){e.$set(t.row,"checked",n)},expression:"scope.row.checked"}})]}}])}),n("el-table-column",{attrs:{type:"index",label:"编号",width:"60",align:"center",resizable:!1}}),n("el-table-column",{attrs:{"header-align":"center",label:"融合字段",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.colName)+" ")]}}])})],1)],1),n("div",{staticStyle:{width:"130px","margin-top":"230px",float:"left"}},[n("el-select",{on:{change:e.setConnType},model:{value:e.conn_type,callback:function(t){e.conn_type=t},expression:"conn_type"}},e._l(e.connTypeArr,(function(t){return n("el-option",{attrs:{value:t.value,label:t.name}},[e._v(e._s(t.name))])})),1)],1),n("div",{staticClass:"div_table"},[n("el-row",{staticStyle:{padding:"10px 5px"}},[e.isRightTip?e._e():n("el-col",{ref:"rightTableCol",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:20}},[n("label",[e._v(e._s(e.rightTableName))])]),e.isRightTip?n("el-col",{ref:"rightTableCol",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:20}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.rightTableName,placement:"top"}},[n("label",[e._v(e._s(e.rightTableName))])])],1):e._e(),n("el-col",{attrs:{span:4}},[n("el-checkbox",{on:{change:e.rightMainTableChange},model:{value:e.rightMainTableChecked,callback:function(t){e.rightMainTableChecked=t},expression:"rightMainTableChecked"}},[e._v("主表")])],1)],1),n("el-table",{ref:"rightElTable",staticStyle:{width:"100%"},attrs:{data:e.rightTableColArr,fit:"",height:"435"}},[n("el-table-column",{attrs:{align:"center",width:"60",resizable:!1},scopedSlots:e._u([{key:"header",fn:function(t){return[n("el-checkbox",{on:{change:e.rightSelectAllChange},model:{value:e.rightSelectAll,callback:function(t){e.rightSelectAll=t},expression:"rightSelectAll"}})]}},{key:"default",fn:function(t){return[n("el-checkbox",{on:{change:e.rightColumnChange},model:{value:t.row.checked,callback:function(n){e.$set(t.row,"checked",n)},expression:"scope.row.checked"}})]}}])}),n("el-table-column",{attrs:{type:"index",label:"编号",width:"60",align:"center",resizable:!1}}),n("el-table-column",{attrs:{"header-align":"center",label:"融合字段",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.colName)+" ")]}}])})],1)],1)],1)},a=[]},"6f41":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAUCAYAAABSx2cSAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAD6ADAAQAAAABAAAAFAAAAAAQBn2aAAACnElEQVQ4EZVTz0tUURQ+58xMmROa9mPQNhIFIQVZIEYu1X6MM5Q0z0lqEzSbFkGrIhBGWkS0qUULoVGUmZSRGJzBRKZF0B/gZrCiXxvJwjQtm+k5757OHRt7j5LqLt6799zv+8493z0X24PGMWDeB38ZHkvNeL2+XDJ5/2sZiu1+4w6zZZQDG/0RMcEA+yt9VRfGY7EvGkcbgf8YZz688nE5EQpFqv+PzKQAUSHDwYX84jAzo/uPGZByBDwBLiwqSzUCoJ9R+ZBpTONFAKLR6O9kclF0Kp18YBdt7+y5B2wmxBufLX7NLU7jegBpSBNPBrpbVpV1HYBrXOB+NJmO3/WfMS6ZJo+vY2VCUocc4ueo8MQC5yI7hDggok3A0GBx8WpHsDs8kUpOA+FMGar/Drc99dtn898+HxKi1w5SSrXqNTO8tccd5K1zczVupFfaVTvIxfRCr5F5mz0upv6qeTEPZydTI+8AXb0i8L0EJMzW76rs7+o6XyexZifZXjPzlROdoaPZzOjQnt21jZ6aigPZzNjFwcHBwpJZuCGJHFfryCybm4tKDbedCt1+PbvcovLFvR2nQ0d0NmnPEXtWPXe6vba7CUCFkVfjVqGYUqZKBIPh+mw6+UwUUnaBtcyIn8BFGSBaAoQCIj0pzQHfyBrzbPVp0paq2j4mXC4LlNyWTwwVvxc3pwHdN+VSqiUWRYIJOfA8W6qjzW8cTz/snyemWw6yAm6VTqmSIp6Kf6sy30kEpiRdbyAE1ReIRCqnMqNxRnquBUqZAaWjSRpAQSsrFZbMA5ZsWswNUkJcjv5YXlFdYXah1zAue6WfTU12iwkMymqWrrDfYRMX5QUKQB5DQAP1EIGexZUPPWsrIQtgjhFflgP/+s/lcvwDod8VTNu//foAAAAASUVORK5CYII="},"6f4f":function(e,t,n){"use strict";n.r(t);var i=n("58da"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"6f56":function(e,t,n){"use strict";n("cc9a")},"6f87":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"600px","overflow-y":"auto"}},[n("el-collapse",{attrs:{accordion:""},model:{value:e.activeCollapseNames,callback:function(t){e.activeCollapseNames=t},expression:"activeCollapseNames"}},[n("el-collapse-item",{attrs:{title:"分组设置",name:"groupSet"}},[n("el-transfer",{staticStyle:{"padding-left":"90px"},attrs:{filterable:"","filter-placeholder":"请输入搜索内容",data:e.columnData,titles:["可选字段","分组字段"]},model:{value:e.columnDataValue,callback:function(t){e.columnDataValue=t},expression:"columnDataValue"}})],1),n("el-collapse-item",{attrs:{title:"汇总设置",name:"countSet"}},[n("el-table",{staticStyle:{width:"770px","margin-left":"90px"},attrs:{data:e.items,height:"450"}},[n("el-table-column",{attrs:{label:"待汇总字段",width:"350","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("div",{staticClass:"xm-select-demo",attrs:{id:"searchName"+e.row.id}})]}}])}),n("el-table-column",{attrs:{label:"汇总方式",width:"240","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("div",{staticClass:"xm-select-demo",attrs:{id:"searchType"+e.row.id}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.$index?n("el-button",{staticClass:"oper-btn add-3",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:e.addCountTr}}):e._e(),0!==t.$index?n("el-button",{staticClass:"oper-btn delete-7",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.delCountTr(t.$index)}}}):e._e()]}}])})],1)],1)],1)],1)},a=[]},"6fc0":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"",height:"calc(100vh - 300px)","max-height":"calc(100vh - 300px)","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"操作用户",width:"100px",align:"center",prop:"opUserName"}}),n("el-table-column",{attrs:{label:"操作IP",width:"160px",align:"center",prop:"opIp"}}),n("el-table-column",{attrs:{label:"操作模块",width:"200px",align:"center",prop:"moduleName"}}),n("el-table-column",{attrs:{label:"操作子模块",width:"200px",prop:"subModuleName"}}),n("el-table-column",{attrs:{label:"操作类型",width:"100px",prop:"opOperate"}}),n("el-table-column",{attrs:{label:"操作信息",prop:"opInfo"}}),n("el-table-column",{attrs:{label:"操作时间",prop:"opTime",align:"center"}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}})],1)},a=[]},"70da":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},"70e3":function(e,t,n){},7105:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"graphToolDiv",attrs:{id:"graphToolDiv"}},[i("div",{staticClass:"geToolbarContainer",attrs:{id:"geToolbarContainer"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:4!==e.openGraphType,expression:"openGraphType !== 4"}],staticClass:"graphMenu",staticStyle:{width:"320px"}},[i("div",{staticClass:"menuTit"},[i("div",{staticStyle:{float:"left",width:"150px","text-align":"right"}},[e._v("文件")]),i("div",{staticStyle:{float:"left",width:"150px",height:"20px","line-height":"10px","text-align":"left","padding-left":"5px",cursor:"pointer"},on:{click:e.showMoreMenu}},[i("el-image",{staticStyle:{"padding-top":"7px"},attrs:{src:n("e13c"),title:"更多"}})],1)]),i("div",{staticClass:"menuLi"},[i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.newGraph}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("fec5")}})],1),i("div",{staticClass:"iconText"},[e._v("新建")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.openGraph}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("af61")}})],1),i("div",{staticClass:"iconText"},[e._v("打开")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:function(t){return e.saveGraph("saveGraph")}}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("0d62")}})],1),i("div",{staticClass:"iconText"},[e._v("保存")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:function(t){return e.saveGraph("saveAsGraph")}}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("7f06")}})],1),i("div",{staticClass:"iconText"},[e._v("另存为")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.next}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("b5ba")}})],1),i("div",{staticClass:"iconText"},[e._v("恢复")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.back}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("3647")}})],1),i("div",{staticClass:"iconText"},[e._v("后撤")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:4===e.openGraphType,expression:"openGraphType === 4"}],staticClass:"graphMenu",staticStyle:{width:"170px"}},[i("div",{staticClass:"menuTit"},[e._v("文件")]),i("div",{staticClass:"menuLi"},[i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.openGraph}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("af61")}})],1),i("div",{staticClass:"iconText"},[e._v("打开")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.next}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("b5ba")}})],1),i("div",{staticClass:"iconText"},[e._v("恢复")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.back}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("3647")}})],1),i("div",{staticClass:"iconText"},[e._v("后撤")])])])]),i("div",{staticClass:"graphMenu",staticStyle:{width:"320px"}},[i("div",{staticClass:"menuTit"},[e._v("行数据处理")]),i("div",{staticClass:"menuLi"},[i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_filter","data-type":"filter"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("61e8")}})],1),i("div",{staticClass:"iconText"},[e._v("筛选")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_sort","data-type":"sort"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("f7a1")}})],1),i("div",{staticClass:"iconText"},[e._v("排序")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_sample","data-type":"sample"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("17ca")}})],1),i("div",{staticClass:"iconText"},[e._v("抽样")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_delRepeat","data-type":"delRepeat"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("2e44")}})],1),i("div",{staticClass:"iconText"},[e._v("去重")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_layering","data-type":"layering"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("6798")}})],1),i("div",{staticClass:"iconText"},[e._v("分层")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_groupCount","data-type":"groupCount"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("3c4c")}})],1),i("div",{staticClass:"iconText"},[e._v("分组汇总")])])])]),i("div",{staticClass:"graphMenu",staticStyle:{width:"120px"}},[i("div",{staticClass:"menuTit"},[e._v("列数据处理")]),i("div",{staticClass:"menuLi"},[i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_comparison","data-type":"comparison"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("1d99")}})],1),i("div",{staticClass:"iconText"},[e._v("频次分析")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_change","data-type":"change"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("011d")}})],1),i("div",{staticClass:"iconText"},[e._v("转码")])])])]),i("div",{staticClass:"graphMenu",staticStyle:{width:"120px"}},[i("div",{staticClass:"menuTit"},[e._v("表间数据处理")]),i("div",{staticClass:"menuLi"},[i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_union","data-type":"union"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("02fc")}})],1),i("div",{staticClass:"iconText"},[e._v("融合")])]),i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_relation","data-type":"relation"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("42d4")}})],1),i("div",{staticClass:"iconText"},[e._v("关联")])])])]),i("div",{staticClass:"graphMenu",staticStyle:{width:"70px"}},[i("div",{staticClass:"menuTit"},[e._v("SQL")]),i("div",{staticClass:"menuLi"},[i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",attrs:{id:"graphNode_sql","data-type":"sql"}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("6f41")}})],1),i("div",{staticClass:"iconText"},[e._v("SQL查询")])])])]),i("div",{staticClass:"graphMenu",staticStyle:{width:"70px"}},[i("div",{staticClass:"menuTit"},[e._v("参数")]),i("div",{staticClass:"menuLi"},[i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.showParamNodeList}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("6005")}})],1),i("div",{staticClass:"iconText"},[e._v("参数")])])])]),i("div",{staticClass:"graphMenu",staticStyle:{width:"70px"}},[i("div",{staticClass:"menuTit"},[e._v("运行")]),i("div",{staticClass:"menuLi"},[i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.executeAllNode}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("38c9")}})],1),i("div",{staticClass:"iconText"},[e._v("全部运行")])])])]),i("div",{staticClass:"graphMenu",staticStyle:{width:"70px"}},[i("div",{staticClass:"menuTit"},[e._v("帮助")]),i("div",{staticClass:"menuLi"},[i("div",{staticClass:"graphIcon"},[i("div",{staticClass:"graphIconElRow",on:{click:e.help}},[i("el-image",{staticClass:"graphToolImg",attrs:{src:n("f096")}})],1),i("div",{staticClass:"iconText"},[e._v("帮助")])])])]),i("span",{staticStyle:{position:"absolute",right:"0",bottom:"2px","font-weight":"800"},attrs:{id:"toolBarSpan"},on:{click:e.hideAndShow}},[e._v("【折叠/展开】")])]),i("div",{attrs:{id:"accordion"}},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索关键字"},model:{value:e.searchZtreeContent,callback:function(t){e.searchZtreeContent=t},expression:"searchZtreeContent"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchZtree},slot:"append"})],1),e._m(0)],1),i("div",{staticClass:"graphContainer",attrs:{id:"graphContainer"}},[i("div",{staticClass:"geDiagramContainer",attrs:{id:"geDiagramContainer"}},[i("div",{ref:"geBackgroundPage",staticClass:"geBackgroundPage",attrs:{id:"geBackgroundPage"}})]),i("div",{staticClass:"geResultContainer",attrs:{id:"geResultContainer"}},[i("el-tabs",{attrs:{type:"border-card"},model:{value:e.resultTabActiveName,callback:function(t){e.resultTabActiveName=t},expression:"resultTabActiveName"}},[i("el-tab-pane",{attrs:{label:"数据结果集",name:"0"}},[i("div",{attrs:{id:"tableArea"}},[e.showTableResult?i("ChildTabs",{ref:"childTabsRef",attrs:{"use-type":"graph","pre-value":e.resultTableArr}}):e._e()],1)]),i("el-tab-pane",{attrs:{label:"执行信息",name:"1"}},[i("div",{attrs:{id:"sysInfoArea"}})]),i("el-tab-pane",{attrs:{label:"缩略图",name:"2"}},[i("div",{ref:"outLineArea",attrs:{id:"outLineArea"}})])],1)],1)]),i("div",{staticClass:"panel-group",attrs:{id:"detailContainer"}},[i("el-tabs",{attrs:{type:"border-card"},model:{value:e.detailTabActiveName,callback:function(t){e.detailTabActiveName=t},expression:"detailTabActiveName"}},[i("el-tab-pane",{attrs:{label:"图形信息",name:"0"}},[i("el-row",[i("el-col",{attrs:{span:4}},[i("label",{staticStyle:{height:"36px","line-height":"36px",float:"right","padding-right":"5px"}},[e._v("名称")])]),i("el-col",{attrs:{span:20}},[i("el-input",{attrs:{placeholder:"图形名称",readonly:""},model:{value:e.graphName_show,callback:function(t){e.graphName_show=t},expression:"graphName_show"}})],1)],1),i("el-row",{staticStyle:{"padding-top":"10px"}},[i("el-col",{attrs:{span:4}},[i("label",{staticStyle:{height:"36px","line-height":"36px",float:"right","padding-right":"5px"}},[e._v("描述")])]),i("el-col",{attrs:{span:20}},[i("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:5,maxRows:5},placeholder:"图形描述"},model:{value:e.description_show,callback:function(t){e.description_show=t},expression:"description_show"}})],1)],1)],1),i("el-tab-pane",{attrs:{label:"说明",name:"1"}},[i("div",{attrs:{id:"nodeRemark"},domProps:{innerHTML:e._s(e.nodeRemarkHtml)},on:{click:e.viewEgEvent}})]),i("el-tab-pane",{attrs:{label:"所用资源",name:"2"}},[i("div",{style:e.rightZtreeStyle,attrs:{id:"resourceZtreeDiv"}},[i("ul",{staticClass:"ztree",attrs:{id:"resourceZtree"}})])]),i("el-tab-pane",{attrs:{label:"痕迹",name:"3"}},[i("div",{style:e.rightZtreeStyle,attrs:{id:"historyZtreeDiv"}},[i("ul",{staticClass:"ztree",attrs:{id:"historyZtree"}})])])],1)],1),i("div",{attrs:{id:"geHsplit"}}),i("div",{attrs:{id:"geVsplit"}}),i("el-dialog",{attrs:{visible:e.helpDialogVisible,title:"帮助"},on:{"update:visible":function(t){e.helpDialogVisible=t}}},[i("Help")],1),e.graphListDialogVisible?i("el-dialog",{attrs:{visible:e.graphListDialogVisible,title:"选择图形","close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.graphListDialogVisible=t}}},[i("GraphListExport",{ref:"graphListExport",attrs:{"open-type":e.openType}}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.graphListDialogVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.getGraphObject}},[e._v("确定")])],1)],1):e._e(),i("el-dialog",{attrs:{visible:e.graphFormVisible,title:e.graphFormTitle,"close-on-press-escape":!1,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.graphFormVisible=t}}},[i("el-form",[i("el-row",[i("el-col",[i("el-form-item",{attrs:{label:"图形名称",prop:"graphName"}},[i("el-input",{model:{value:e.graphName,callback:function(t){e.graphName=t},expression:"graphName"}})],1)],1)],1),i("el-row",[i("el-col",[i("el-form-item",{attrs:{label:"图形描述",prop:"description"}},[i("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:5,maxRows:5},placeholder:"请输入内容"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.graphFormVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.getGraphFormInfo}},[e._v("保存")])],1)],1),e.nodeParamListDialogVisible?i("el-dialog",{attrs:{visible:e.nodeParamListDialogVisible,title:"参数节点列表","close-on-press-escape":!1,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.nodeParamListDialogVisible=t}}},[i("el-row",{directives:[{name:"show",rawName:"v-show",value:2===e.openGraphType||3===e.openGraphType,expression:"openGraphType === 2 || openGraphType === 3"}],staticStyle:{color:"red","line-height":"35px",height:"30px"}},[e._v("注：可通过上下拖动行对节点进行排序设置")]),i("el-table",{ref:"nodeParamTable",staticStyle:{width:"100%"},attrs:{data:e.nodeParamArr,height:"400",fit:""}},[i("el-table-column",{attrs:{type:"index",label:"编号",align:"center",width:"60",resizable:!1}}),i("el-table-column",{attrs:{prop:"nodeName",label:"节点名称","header-align":"center",resizable:!1}}),i("el-table-column",{attrs:{prop:"lineNum",label:"结果表序号",width:"100",align:"center",resizable:!1}}),i("el-table-column",{attrs:{label:"操作",width:"100",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.hasParamSet?e._e():i("el-button",{staticClass:"oper-btn setting-1",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.settingParam(t.row.nodeId,t.$index)}}}),t.row.hasParamSet?i("el-button",{staticClass:"oper-btn setting-2",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.settingParam(t.row.nodeId,t.$index)}}}):e._e(),t.row.hasParamSet?i("el-button",{staticClass:"oper-btn delete-4",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.clearSettingParam(t.row.nodeId,t.$index)}}}):e._e()]}}],null,!1,329876526)})],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.nodeParamListDialogVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showParamNodeListCallBack()}}},[e._v("保存")])],1)],1):e._e(),e.nodeParamSettingDialogVisible?i("el-dialog",{attrs:{visible:e.nodeParamSettingDialogVisible,title:"设置节点参数","close-on-press-escape":!1,"close-on-click-modal":!1,width:"1000px"},on:{"update:visible":function(t){e.nodeParamSettingDialogVisible=t}}},[i("SettingParams",{ref:"settingParams",attrs:{graph:e.graph,"node-id":e.sp_nodeId,"params-setting":e.sp_paramsSetting}}),e.initNodeSettingVue?i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.nodeParamSettingDialogVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.settingParamsCallBack()}}},[e._v("保存")])],1):e._e()],1):e._e(),e.nodeSettingDialogVisible?i("el-dialog",{attrs:{visible:e.nodeSettingDialogVisible,title:e.nodeSettingTitle,"close-on-press-escape":!1,"close-on-click-modal":!1,"before-close":e.closeNodeSetting,"append-to-body":!0,"destroy-on-close":!0,width:"1000px"},on:{"update:visible":function(t){e.nodeSettingDialogVisible=t}}},["commonSetting"===e.settingType?i("NodeSetting",{ref:"nodeSetting",attrs:{graph:e.graph,"opt-type":e.sp_optType}}):e._e(),"relation"===e.settingType?i("RelationSetting",{ref:"nodeSetting",attrs:{graph:e.graph}}):e._e(),"groupCount"===e.settingType?i("GroupCount",{ref:"nodeSetting",attrs:{graph:e.graph}}):e._e(),e.graph.canEditor?i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.nodeSettingDialogVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveNodeSetting()}}},[e._v("保存")])],1):e._e()],1):e._e(),e.sqlEditorDialogVisible?i("el-dialog",{style:e.sqlEditorStyle,attrs:{visible:e.sqlEditorDialogVisible,title:"SQL编辑器","close-on-press-escape":!1,"close-on-click-modal":!1,width:e.sqlEditorWidth,top:"20px","modal-append-to-body":!1},on:{"update:visible":function(t){e.sqlEditorDialogVisible=t}}},[i("SqlEditor",{ref:"sqlEditor",attrs:{callType:"graphModel",sqlValue:e.sqlEditorCurSql}}),e.graph.canEditor?i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.sqlEditorDialogVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sqlNodeEditCallBack()}}},[e._v("保存")])],1):e._e()],1):e._e(),e.viewNodeSqlDialogVisible?i("el-dialog",{attrs:{visible:e.viewNodeSqlDialogVisible,title:"查看SQL语句","close-on-press-escape":!1,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.viewNodeSqlDialogVisible=t}}},[i("div",{staticStyle:{height:"400px",padding:"20px"}},[e._v(e._s(e.curNodeExecuteSQL))])]):e._e(),e.nodeReNameDialogVisible?i("el-dialog",{attrs:{visible:e.nodeReNameDialogVisible,title:"重命名","close-on-press-escape":!1,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.nodeReNameDialogVisible=t}}},[i("el-form",[i("el-row",[i("el-col",[i("el-form-item",{attrs:{label:e.reNameObj.name}},[e.reNameObj.edge?i("el-input",{attrs:{type:"number"},model:{value:e.reNameObj.value,callback:function(t){e.$set(e.reNameObj,"value",t)},expression:"reNameObj.value"}}):e._e(),e.reNameObj.edge?e._e():i("el-input",{model:{value:e.reNameObj.value,callback:function(t){e.$set(e.reNameObj,"value",t)},expression:"reNameObj.value"}})],1)],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.nodeReNameDialogVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.reNameCallBack}},[e._v("保存")])],1)],1):e._e(),e.nodeParamDialogVisible?i("el-dialog",{attrs:{visible:e.nodeParamDialogVisible,title:"设置执行参数","close-on-press-escape":!1,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.nodeParamDialogVisible=t}}},[i("InputParams",{ref:"inputParams",attrs:{nodeData:e.graph.nodeData,nodeIdArr:e.executeNodeIdArr}}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.nodeParamDialogVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.setExecuteParamCallBack}},[e._v("保存")])],1)],1):e._e(),i("el-dialog",{attrs:{visible:e.imageDialogVisible,title:"图片示例",width:"600px"},on:{"update:visible":function(t){e.imageDialogVisible=t}}},[i("el-image",{staticStyle:{"max-height":"600px"},attrs:{src:e.imageSrc,fit:"contain"}})],1),e.comparisonTableDetailDialogVisible?i("el-dialog",{attrs:{visible:e.comparisonTableDetailDialogVisible,title:"频次分析数据详情","close-on-press-escape":!1,"close-on-click-modal":!1,width:"1000px"},on:{"update:visible":function(t){e.comparisonTableDetailDialogVisible=t}}},[i("AnalysisDetailData",{ref:"analysisDetailData",attrs:{dataTableName:e.comparison_dataTableName,openType:e.openType,columnVal:e.comparison_columnVal}})],1):e._e(),i("div",{staticClass:"rightMenu",attrs:{id:"rMenu"}},[i("ul",[i("li",{on:{click:function(t){return e.viewData(!0)}}},[e._v("预览数据")])])]),i("div",{staticClass:"rightMenu",attrs:{id:"moreMenu"}},[i("ul",[i("li",{on:{click:e.importGraph}},[e._v("图形导入")]),i("li",{on:{click:e.exportGraph}},[e._v("图形导出")])])]),i("div",{staticClass:"rightMenu",attrs:{id:"H_S_Menu"}},[i("ul",[i("li",{on:{click:e.hideAndShowToolBar}},[e._v("折叠上方区域")]),i("li",{on:{click:e.hideAndShowLeftArea}},[e._v("折叠左侧区域")]),i("li",{on:{click:e.hideAndShowRightArea}},[e._v("折叠右侧区域")])])]),i("input",{staticStyle:{display:"none"},attrs:{id:"importGraphInp",type:"file",name:"file"},on:{change:e.importGraphSubmit}})],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"ztree_datasource_div"}},[n("ul",{staticClass:"ztree",attrs:{id:"ztree_datasource"}})])}]},"71d2":function(e,t,n){"use strict";n.r(t);var i=n("c429"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"71ff":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"600px","overflow-y":"auto"}},[n("el-tabs",{model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[n("el-tab-pane",{attrs:{label:"基本信息",name:"basicInfo"}},[n("Basic",{ref:"basicVueRef"})],1),n("el-tab-pane",{attrs:{label:"条件设置",name:"conditionSet"}},["filter"===e.optType?n("FilterSet",{ref:"conditionSet"}):e._e(),"sort"===e.optType?n("ColumnSortSet",{ref:"conditionSet"}):e._e(),"sample"===e.optType?n("DataSampleDrawnSet",{ref:"conditionSet"}):e._e(),"layering"===e.optType?n("HierarchyDataSet",{ref:"conditionSet"}):e._e(),"delRepeat"===e.optType?n("DistinctColumnSet",{ref:"conditionSet"}):e._e(),"comparison"===e.optType?n("FrequencyAnalysisSet",{ref:"conditionSet"}):e._e(),"change"===e.optType?n("TranscodeSet",{ref:"conditionSet"}):e._e(),"union"===e.optType?n("UnionDataSet",{ref:"conditionSet"}):e._e()],1),"comparison"!==e.optType?n("el-tab-pane",{attrs:{label:"输出字段设置",name:"outPutCol"}},["barChart"!==e.optType&&"comparison"!==e.optType?n("OutputColumn",{ref:"outputColumnVueRef"}):e._e()],1):e._e()],1)],1)},a=[]},"722c":function(e,t,n){e.exports=n.p+"static/img/intersect.7f4e37c2.jpg"},"724b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("3b2b");var i=n("4e81"),a={props:["codeOperate"],data:function(){return{formCodeData:{codeUuid:"",codeIndex:"",codeName:"",codeDesc:"",codeValue:"",parentCodeUuid:"",dataSortUuid:"",delTag:"0"},editCodeValue:"",rules:{codeName:[{required:!0,message:"请输入类型名称",trigger:"blur"}],codeValue:[{required:!0,message:"请输入类型编码",trigger:"blur"}],codeIndex:[{required:!0,message:"请输入排序号",trigger:"blur"}],codeDesc:[{required:!0,message:"请填写类型描述",trigger:"blur"}]}}},watch:{codeOperate:function(e){1===e.length?(this.formCodeData.codeUuid=e[0].codeUuid,this.formCodeData.codeName=e[0].codeName,this.formCodeData.codeDesc=e[0].codeDesc,this.formCodeData.codeIndex=e[0].codeIndex,this.formCodeData.codeValue=e[0].codeValue,this.editCodeValue=e[0].codeValue):this.resetForm()}},methods:{number:function(){var e=this.formCodeData.codeValue,t=new RegExp("^[0-9]{4,32}$").test(e);t||(this.$notify.error({title:"错误",message:"请输入4-32位的数字",position:"bottom-right"}),this.formCodeData.codeValue="")},resetForm:function(){var e=this;this.formCodeData={codeUuid:"",codeIndex:"",codeName:"",codeDesc:"",codeValue:"",parentCodeUuid:"",dataSortUuid:"",delTag:""},this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},saveCedeData:function(e,t){var n=this;return void 0===this.formCodeData.codeName||null===this.formCodeData.codeName||""===this.formCodeData.codeName?(this.$message.warning("请输入类型名称(必填)"),!1):void 0===this.formCodeData.codeValue||null===this.formCodeData.codeValue||""===this.formCodeData.codeValue?(this.$message.warning("请输入类型编码(必填)"),!1):void 0===this.formCodeData.codeDesc||null===this.formCodeData.codeDesc||""===this.formCodeData.codeDesc?(this.$message.warning("请输入类型描述(必填)"),!1):void 0===this.formCodeData.codeIndex||null===this.formCodeData.codeIndex||""===this.formCodeData.codeIndex?(this.$message.warning("请输入排序号(必填)"),!1):(""!==e&&null!==e&&void 0!==e||(e=t),this.formCodeData.dataSortUuid=e,this.formCodeData.parentCodeUuid=t,void(0,i.saveSecond)(this.formCodeData).then((function(){n.resetForm(),n.$emit("closeMain"),n.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})})).catch((function(e){console.log(e)})))},editCodeData:function(e,t){var n=this;return void 0===this.formCodeData.codeName||null===this.formCodeData.codeName||""===this.formCodeData.codeName?(this.$message.warning("请输入类型名称(必填)"),!1):void 0===this.formCodeData.codeDesc||null===this.formCodeData.codeDesc||""===this.formCodeData.codeDesc?(this.$message.warning("请输入类型描述(必填)"),!1):void 0===this.formCodeData.codeIndex||null===this.formCodeData.codeIndex||""===this.formCodeData.codeIndex?(this.$message.warning("请输入排序号(必填)"),!1):void this.$confirm("不可以修改类型编码，编码将保持不变，是否确认修改其他信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.formCodeData.dataSortUuid=e,n.formCodeData.parentCodeUuid=t,n.formCodeData.delTag="0",n.formCodeData.codeValue=n.editCodeValue,(0,i.updateSecond)(n.formCodeData).then((function(e){n.$emit("closeMain"),n.resetForm(),n.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"}).catch((function(e){console.log(e)}))}))}))}}};t.default=a},"72df":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHKADAAQAAAABAAAAHAAAAABkvfSiAAADeElEQVRIDb1WTUhUURQ+944tKiqnpwsTzYmioMjKAhUkIfypNlJGFG0iWxRt2tuqWruJWmS0iSKycFOpQ2AEOlBWRkFSODaiLnQYU6JFzXud787c533jm0ml5oP33n3nnnO+e+4999wraAkIJxJ7k7bdQo5T5xCVCqJNMOP2JLcnSIhXASm7G4LBd39zx/rZ0RuPtzqOc40db8+utdDDzkaEEO1NltW1IPW2fAl7Z2dDdjJ5nyOq9qov8U+IiAwETjcVFkYzLRYR9iUSB23bfsyRWZnKy/nnSONSyuONweBL085DmCYLM9kqU+m3bdNgdJwGxmL0ZTpO8R8/Vbe1djVtK7aotqKcakJlVCClacZLK34xaYNJ6hJiGp1k8nVmZAPRGHUODtHU3LzHWeZPyYZ11FZdRbWhck8XIhWBwAE9vS7h83h80Fwzm83uRt5S1/uPysHO4iJq27OLGrdspnJ2DsS+z1Pf6DfqZJ1P0zNK1so6Z6v3kSdWXtPDllUDBUWIbLQd55GySL/upMkwTR0N9XShajcFhDs+U5WSjkO3hj7Q5XA/YfpBeo5JTUghTiB71UCQ+mYnphGRgazn1DG6tL/SQwYCPBoYCHSgCxvYwocJzSGxqc19hhFizQBEdqiizLRTRJW37xEekxRK0IUN0BkZUtGqH36BA1xSVRAt5S+yEQmCNbvIo14uMPWwneL1hS8T4JIoV6YQqQ8gQTwLn1bC9A2fP6MevzWFDLaA9pU25TCdugIOtdQVcAP7DEA2ZoMfkamrbbUv3QcuyXmnCrEW6k2tU1/L9ffow24S1zsI32woW5/aNtqX1gOX36zp/pzfZ1+jOfvRmbmLOEJH8mvStES5ArCp/fD0ZIuf2COLzc2p/41rUr6MzilM6YQhULUR/6ggK0V4NJV4qLMmwCVxeJpCFGIA5QrlLRf81hF7E7aA9uX6YC6Jk9oVcANVv4QXHbXx5pths8ttH9kaUm0uzK5MN1DiYItiDl8mwKUsemZmPvNauqc6ytLV3n63tGVWG9OJ2X4xNk7ND56oCnOlqd5zcjDRSHNR0Q6VpTzSdtMQRwwKMMocHNzgSHNNL/qgo8lg63NMKQ53TvJ6PCG6vB/AIM3rFQOEwP++RC0qbbjw4A7C+zOSGsIK3mwLH+blSXtxk0YLzG/eLsImKdr/8qr/B/+ozVMi+aWJAAAAAElFTkSuQmCC"},7346:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPageGrp=s,t.saveGrp=l,t.updateGrp=u,t.delGrp=c,t.getById=d;var a=i(n("b775")),r="/data",o="sceneGrp";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/listByPage"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}function d(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getById/").concat(e),method:"get"})}},7359:function(e,t,n){"use strict";n.r(t);var i=n("d9ea"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},7361:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7514"),n("20d6"),n("7f7f");var a=i(n("2ef0")),r=i(n("1157")),o={setProjectName:function(e,t){e.projectName=t},setTasks:function(e,t){e.tasks=t},setLocations:function(e,t){e.locations=t},addLocations:function(e,t){e.locations=Object.assign(e.locations,{},t)},setConnects:function(e,t){e.connects=t},setName:function(e,t){e.name=t},setTimeout:function(e,t){e.timeout=t},setTenantId:function(e,t){e.tenantId=t},setGlobalParams:function(e,t){e.globalParams=t},setDesc:function(e,t){e.description=t},setStatus:function(e,t){e.status=t},setOrderNo:function(e,t){e.orderNo=t},setSyncDefine:function(e,t){e.syncDefine=t},setIsEditDag:function(e,t){e.isEditDag=t},setIsDetails:function(e,t){e.isDetails=t},resetParams:function(e,t){(0,r.default)("#canvas").html(""),e.globalParams=t&&t.globalParams||[],e.tasks=t&&t.tasks||[],e.name=t&&t.name||"",e.description=t&&t.description||"",e.status=t&&t.status||"",e.orderNo=t&&t.orderNo||null,e.timeout=t&&t.timeout||0,e.tenantId=t&&t.tenantId||-1,e.processListS=t&&t.processListS||[],e.classListS=t&&t.classListS||[],e.resourcesListS=t&&t.resourcesListS||[],e.resourcesListJar=t&&t.resourcesListJar||[],e.projectListS=t&&t.projectListS||[],e.isDetails=t&&t.isDetails||!1,e.runFlag=t&&t.runFlag||"",e.locations=t&&t.locations||{},e.connects=t&&t.connects||[]},addTasks:function(e,t){var n=a.default.findIndex(e.tasks,(function(e){return e.id===t.id}));-1!==n?e.tasks[n]=Object.assign(e.tasks[n],{},t):e.tasks.push(t),e.cacheTasks[t.id]?e.cacheTasks[t.id]=Object.assign(e.cacheTasks[t.id],{},t):e.cacheTasks[t.id]=t;var i=(0,r.default)("#".concat(t.id));e.locations[t.id]=a.default.assign(e.locations[t.id],{name:i.find(".name-p").text(),targetarr:i.attr("data-targetarr"),nodenumber:i.attr("data-nodenumber"),x:parseInt(i.css("left"),10),y:parseInt(i.css("top"),10)})},cacheTasks:function(e,t){e.cacheTasks[t.id]?e.cacheTasks[t.id]=Object.assign(e.cacheTasks[t.id],{},t):e.cacheTasks[t.id]=t}};t.default=o},7380:function(e,t,n){"use strict";n.r(t);var i=n("74d8"),a=n("f676");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},7399:function(e,t,n){"use strict";n.r(t);var i=n("be1d"),a=n("9d16");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("589c");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"6bbac68e",null);t["default"]=s.exports},7424:function(e,t,n){"use strict";n("336f")},"744f":function(e,t,n){"use strict";n.r(t);var i=n("0c12"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"749d":function(e,t,n){"use strict";n.r(t);var i=n("3399"),a=n("8398");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("38c3");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"02c65fee",null);t["default"]=s.exports},"74c7":function(e,t,n){},"74d8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("div",{staticStyle:{float:"right"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.deleteSqlDraft}},[e._v("删除")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"sqlDraftListTable",attrs:{data:e.list,border:"",fit:"","highlight-current-row":"",height:"300px"}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"草稿名称",width:"300px",align:"center",prop:"draftTitle"}}),n("el-table-column",{attrs:{label:"草稿创建时间",width:"300px",align:"center",prop:"createTime",formatter:e.dateFormatter}}),n("el-table-column",{attrs:{label:"操作",align:"center",width:"150px",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{on:{click:function(n){return e.selectDetail(t)}}},[e._v("查看详情")])]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{height:"30px"},attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),e.sqlDraftDetail?n("el-dialog",{attrs:{title:"草稿SQL",visible:e.sqlDraftDetail,"append-to-body":!0,width:"80%"},on:{"update:visible":function(t){e.sqlDraftDetail=t}}},[n("div",{ref:"sqlValueViewShow",staticStyle:{height:"300px","overflow-y":"auto",border:"1px solid #E0E0E0","margin-left":"30px",width:"95%",padding:"15px"},attrs:{id:"sqlValueViewShow"}})]):e._e()],1)},a=[]},7509:function(e,t,n){"use strict";var i=n("4ea4");n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("448a")),r=i(n("278c"));function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n("ac6a"),n("7f7f"),n("6762"),n("2fdb");var u={visitedViews:[],cachedViews:[]},c={ADD_VISITED_VIEW:function(e,t){e.visitedViews.some((function(e){return e.path===t.path}))||e.visitedViews.push(Object.assign({},t,{title:t.meta.title||"no-name"}))},ADD_CACHED_VIEW:function(e,t){e.cachedViews.includes(t.name)||t.meta.noCache||e.cachedViews.push(t.name)},DEL_VISITED_VIEW:function(e,t){var n,i=o(e.visitedViews.entries());try{for(i.s();!(n=i.n()).done;){var a=(0,r.default)(n.value,2),s=a[0],l=a[1];if(l.path===t.path){e.visitedViews.splice(s,1);break}}}catch(u){i.e(u)}finally{i.f()}},DEL_CACHED_VIEW:function(e,t){var n=e.cachedViews.indexOf(t.name);n>-1&&e.cachedViews.splice(n,1)},DEL_OTHERS_VISITED_VIEWS:function(e,t){e.visitedViews=e.visitedViews.filter((function(e){return e.meta.affix||e.path===t.path}))},DEL_OTHERS_CACHED_VIEWS:function(e,t){var n=e.cachedViews.indexOf(t.name);e.cachedViews=n>-1?e.cachedViews.slice(n,n+1):[]},DEL_ALL_VISITED_VIEWS:function(e){var t=e.visitedViews.filter((function(e){return e.meta.affix}));e.visitedViews=t},DEL_ALL_CACHED_VIEWS:function(e){e.cachedViews=[]},UPDATE_VISITED_VIEW:function(e,t){var n,i=o(e.visitedViews);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.path===t.path){a=Object.assign(a,t);break}}}catch(r){i.e(r)}finally{i.f()}}},d={addView:function(e,t){var n=e.dispatch;n("addVisitedView",t),n("addCachedView",t)},addVisitedView:function(e,t){var n=e.commit;n("ADD_VISITED_VIEW",t)},addCachedView:function(e,t){var n=e.commit;n("ADD_CACHED_VIEW",t)},delView:function(e,t){var n=e.dispatch,i=e.state;return new Promise((function(e){n("delVisitedView",t),n("delCachedView",t),e({visitedViews:(0,a.default)(i.visitedViews),cachedViews:(0,a.default)(i.cachedViews)})}))},delVisitedView:function(e,t){var n=e.commit,i=e.state;return new Promise((function(e){n("DEL_VISITED_VIEW",t),e((0,a.default)(i.visitedViews))}))},delCachedView:function(e,t){var n=e.commit,i=e.state;return new Promise((function(e){n("DEL_CACHED_VIEW",t),e((0,a.default)(i.cachedViews))}))},delOthersViews:function(e,t){var n=e.dispatch,i=e.state;return new Promise((function(e){n("delOthersVisitedViews",t),n("delOthersCachedViews",t),e({visitedViews:(0,a.default)(i.visitedViews),cachedViews:(0,a.default)(i.cachedViews)})}))},delOthersVisitedViews:function(e,t){var n=e.commit,i=e.state;return new Promise((function(e){n("DEL_OTHERS_VISITED_VIEWS",t),e((0,a.default)(i.visitedViews))}))},delOthersCachedViews:function(e,t){var n=e.commit,i=e.state;return new Promise((function(e){n("DEL_OTHERS_CACHED_VIEWS",t),e((0,a.default)(i.cachedViews))}))},delAllViews:function(e,t){var n=e.dispatch,i=e.state;return new Promise((function(e){n("delAllVisitedViews",t),n("delAllCachedViews",t),e({visitedViews:(0,a.default)(i.visitedViews),cachedViews:(0,a.default)(i.cachedViews)})}))},delAllVisitedViews:function(e){var t=e.commit,n=e.state;return new Promise((function(e){t("DEL_ALL_VISITED_VIEWS"),e((0,a.default)(n.visitedViews))}))},delAllCachedViews:function(e){var t=e.commit,n=e.state;return new Promise((function(e){t("DEL_ALL_CACHED_VIEWS"),e((0,a.default)(n.cachedViews))}))},updateVisitedView:function(e,t){var n=e.commit;n("UPDATE_VISITED_VIEW",t)}},h={namespaced:!0,state:u,mutations:c,actions:d};t.default=h},"751d":function(e,t,n){"use strict";n.r(t);var i=n("a4a2"),a=n("8da6");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"751f":function(e,t,n){"use strict";n.r(t);var i=n("c612"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"751f7":function(e,t,n){},7542:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{staticStyle:{border:"0","box-shadow":"0 0 0 0 #000"},attrs:{type:"border-card"}},["modelRunResult"===e.useType?n("el-tab-pane",{staticStyle:{height:"30px"},attrs:{label:"modelRunResult"===e.useType?"主表":"结果1"}},[n("childTabCons",{ref:"onlyChild",attrs:{settingInfo:e.settingInfo,nowtable:e.maintable,"model-uuid":e.modelUuid,useType:e.useType,resultSpiltObjects:e.resultSpiltObjects,modelId:e.modelId,myIndex:1,preLength:1},on:{addBigTabs:e.addBigTabs,setNextValue:e.setNextValue}})],1):e._e(),e._l("modelRunResult"===e.useType?e.helptables:e.preValue,(function(t,i){return n("el-tab-pane",{key:i,staticClass:"qweqwe",attrs:{label:e.tabsName(i)}},[n("childTabCons",{ref:"child",refInFor:!0,attrs:{"is-model-preview":e.isModelPreview,chartModelUuid:e.chartModelUuid,resultSpiltObjects:e.resultSpiltObjects,modelId:e.modelId,nowtable:t,prePersonalVal:t,useType:e.useType,preLength:"sqlEditor"==e.useType||"modelPreview"==e.useType?e.preValue.length:1,myIndex:"sqlEditor"==e.useType||"modelPreview"==e.useType?i:1},on:{addBigTabsModelPreview:e.addBigTabsModelPreview,addBigTabs:e.addBigTabs,setNextValue:e.setNextValue}})],1)}))],2)},a=[]},7565:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={dataSort:[],dataSortUuid:"",dataSortName:"",baseCodes:{},stageStandard:{},treeData:{}},a={getStageStandard:function(e){return e.stageStandard}},r={setdataSort:function(e,t){var n=e.commit;n("getdataSort",{dataSort:t})},setDataSortUuid:function(e,t){var n=e.commit;n("getDataSortUuid",{dataSortUuid:t})},setDataSortName:function(e,t){var n=e.commit;n("getDataSortName",{dataSortName:t})},setBaseCode:function(e,t){var n=e.commit;n("getBaseCode",{baseCode:t})},setStageStandard:function(e,t){var n=e.commit;n("getStageStandard",{stageStandard:t})},setBusiness:function(e,t){var n=e.commit;n("getBusinessTree",{treeData:t})}},o={getdataSort:function(e,t){var n=t.baseData;e.baseData=n},getDataSortUuid:function(e,t){var n=t.dataSortUuid;e.dataSortUuid=n},getDataSortName:function(e,t){var n=t.dataSortName;e.dataSortName=n},getBaseCode:function(e,t){var n=t.baseCode;e.baseCodes=JSON.stringify(n)},getStageStandard:function(e,t){var n=t.stageStandard;e.stageStandard=n},getBusinessTree:function(e,t){var n=t.treeData;e.treeData=JSON.stringify(n)}},s={namespaced:!0,state:i,getters:a,actions:r,mutations:o};t.default=s},"75ac":function(e,t,n){"use strict";n.r(t);var i=n("9c14"),a=n("85d2");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("0cc2");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"29fc2d88",null);t["default"]=s.exports},"75ef":function(e,t,n){"use strict";n.r(t);var i=n("84b5"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"75ff":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.comparisonLoading,expression:"comparisonLoading"}],staticStyle:{height:"600px","overflow-y":"auto"},attrs:{"element-loading-text":e.loadText}},[n("el-tabs",{attrs:{closable:!1},on:{"tab-click":e.clickTab},model:{value:e.detailTableName,callback:function(t){e.detailTableName=t},expression:"detailTableName"}},e._l(e.tableArr,(function(t){return n("el-tab-pane",{key:t.id,attrs:{label:t.name,name:t.index}},[n("el-row",[n("span",[e._v("分析字段：")]),n("em",{staticStyle:{color:"red"}},[e._v(e._s(t.columnName))])]),n("el-row",[n("ChildTabCons",{ref:"childTabCons",refInFor:!0,attrs:{nowtable:t.resultTable,prePersonalVal:t.resultTable,"use-type":"graph",preLength:"1",myIndex:"1"}})],1)],1)})),1)],1)},a=[]},7620:function(e,t,n){"use strict";(function(e){var i,a,r,o=n("4ea4");n("4917"),n("3b2b"),n("a481"),n("28a5"),n("7f7f"),n("6b54");var s=o(n("7037")),l=o(n("b775")),u=o(n("4360"));(function(o){"object"==(0,s.default)(t)&&"object"==(0,s.default)(e)?o(n("cf87"),n("ebfd")):(a=[n("cf87"),n("ebfd")],i=o,r="function"===typeof i?i.apply(t,a):i,void 0===r||(e.exports=r))})((function(e){var t,n,i,a,r={QUERY_DIV:";",ALIAS_KEYWORD:"AS"},o=e.Pos,c=e.cmpPos;function d(e){return"[object Array]"==Object.prototype.toString.call(e)}function h(t){var n=t.doc.modeOption;return"sql"===n&&(n="text/x-sql"),e.resolveMode(n).keywords}function f(e){return"string"==typeof e?e:e.text}function p(e,t){return d(t)&&(t={columns:t}),t.text||(t.text=e),t}function m(e){var t={};if(d(e))for(var n=e.length-1;n>=0;n--){var i=e[n];t[f(i).toUpperCase()]=p(f(i),i)}else if(e)for(var a in e)t[a.toUpperCase()]=p(a,e[a]);return t}function g(e){return t[e.toUpperCase()]}function v(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function y(e,t){var n=e.length,i=f(t),a=f(t).substr(0,n);return i.toUpperCase().indexOf(e.toUpperCase())>-1||e.toUpperCase()==a.toUpperCase()}function b(e,t,n,i){if(d(n))for(var a=0;a<n.length;a++)y(t,n[a])&&e.push(i(n[a]));else for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];o=o&&!0!==o?o.displayText?{text:o.text,displayText:o.displayText}:o.text:r,y(t,o)&&e.push(i(o))}}function A(e){"."==e.charAt(0)&&(e=e.substr(1));for(var t=e.split(a+a),n=0;n<t.length;n++)t[n]=t[n].replace(new RegExp(a,"g"),"");return t.join(a)}function w(e){for(var t=f(e).split("."),n=0;n<t.length;n++)t[n]=a+t[n].replace(new RegExp(a,"g"),a+a)+a;var i=t.join(".");return"string"==typeof e?i:(e=v(e),e.text=i,e)}function x(i,r,s,c){var d=!1,h=[],f=r.start,p=!0;while(p)p="."==r.string.charAt(0),d=d||r.string.charAt(0)==a,f=r.start,h.unshift(A(r.string)),r=c.getTokenAt(o(i.line,r.start)),"."==r.string&&(p=!0,r=c.getTokenAt(o(i.line,r.start)));var m=h.join(".");b(s,m,t,(function(e){return d?w(e):e})),b(s,m,n,(function(e){return d?w(e):e})),m=h.pop();var y=h.join("."),x=!1,C=y;if(!g(y)){var k=y;y=S(y,c),y!==k&&(x=!0)}var T=g(y);if(T&&T.columns&&0!==T.columns.length)T=T.columns;else if(""!=y){var N=u.default.getters.datauserid;(0,l.default)({baseURL:"/data",url:"/tableMeta/getColsInfoByName",method:"get",params:{tableName:y,dataUserId:N}}).then((function(t){if(null!=t.data){for(var n=[],i=0;i<t.data.length;i++)""===t.data[i].chnName||null==t.data[i].chnName||void 0==t.data[i].chnName?n.push(t.data[i].colName):(n.push(t.data[i].colName),c.options.hintOptions.tablesTitle[t.data[i].colName]=t.data[i].chnName);e.tableColMapping[y]=n,c.options.hintOptions.tables[y]=n,T=n}}))}return T&&T.length>0&&b(s,m,T,(function(e){var t=y;return 1==x&&(t=C),"string"==typeof e?e=t+"."+e:(e=v(e),e.text=t+"."+e.text),d?w(e):e})),f}function C(e,t,n,i){var r=!1,s=[],l=t.start,u=!0;while(u)u="."==t.string.charAt(0),r=r||t.string.charAt(0)==a,l=t.start,s.unshift(A(t.string)),t=i.getTokenAt(o(e.line,t.start)),"."==t.string&&(u=!0,t=i.getTokenAt(o(e.line,t.start)));var c=s.pop(),d=s.join("."),h=!1,f=d;if(!g(d)){var p=d;d=S(d,i),d!==p&&(h=!0)}var m=g(d);return m&&m.columns&&0!==m.columns.length&&(m=m.columns),m&&b(n,c,m,(function(e){var t=d;return 1==h&&(t=f),"string"==typeof e?e=t+"."+e:(e=v(e),e.text=t+"."+e.text),r?w(e):e})),l}function k(e,t){for(var n=e.split(/\s+/),i=0;i<n.length;i++)n[i]&&t(n[i].replace(/[,;]/g,""))}function S(e,t){var n=t.doc,i=n.getValue(),a=e.toUpperCase(),s="",l="",u=[],d={start:o(0,0),end:o(t.lastLine(),t.getLineHandle(t.lastLine()).length)},h=i.indexOf(r.QUERY_DIV);while(-1!=h)u.push(n.posFromIndex(h)),h=i.indexOf(r.QUERY_DIV,h+1);u.unshift(o(0,0)),u.push(o(t.lastLine(),t.getLineHandle(t.lastLine()).text.length));for(var f=null,p=t.getCursor(),m=0;m<u.length;m++){if((null==f||c(p,f)>0)&&c(p,u[m])<=0){d={start:f,end:u[m]};break}f=u[m]}if(d.start){var v=n.getRange(d.start,d.end,!1);for(m=0;m<v.length;m++){var y=v[m];if(k(y,(function(e){var t=e.toUpperCase();t===a&&g(s)&&(l=s),t!==r.ALIAS_KEYWORD&&(s=e)})),l)break}}return l}e.tableColMapping={},e.registerHelper("hint","sql",(function(e,a){t=m(a&&a.tables);var r=a&&a.defaultTable,l=a&&a.disableKeywords;n=r&&g(r),i=h(e),r&&!n&&(n=S(r,e)),n=n||[],n.columns&&(n=n.columns);var u,c,d,f=e.getCursor(),p=[],v=e.getTokenAt(f);if(v.end>f.ch&&(v.end=f.ch,v.string=v.string.slice(0,f.ch-v.start)),v.string.match(/^[.`"\w@]\w*$/)||v.string.match(/^[\u4E00-\u9FA5]{1,5}$/)?(d=v.string,u=v.start,c=v.end):(u=c=f.ch,d=""),"."===d.charAt(0))u=x(f,v,p,e);else{var y=e.getTokenAt(o(f.line,v.start));"."===y.string?u=C(f,v,p,e):(l||b(p,d,i,(function(e){return{text:e.toUpperCase(),className:"CodeMirror-hint-keyword"}})),b(p,d,t,(function(e){return"object"===(0,s.default)(e)?e.className="CodeMirror-hint-table":e={text:e,className:"CodeMirror-hint-table"},e})))}return{list:p,from:o(f.line,u),to:o(f.line,c)}}))}))}).call(this,n("62e4")(e))},7649:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.copyTable=s,t.renameResource=l,t.addTable=u,t.updateTable=c,t.deleteDirectory=d,t.movePath=h,t.preview=f,t.nextUpload=p,t.importTable=m,t.shareTableSave=g;var a=i(n("b775")),r="/data",o="directory";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/copyTable"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/renameResource"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/addTable"),method:"post",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/updateTable"),method:"post",data:e})}function d(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/deleteDirectory"),method:"delete",data:e})}function h(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/movePath"),method:"post",data:e})}function f(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/preview"),method:"post",data:e})}function p(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/nextUpload"),method:"post",data:e})}function m(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/importTable"),method:"post",data:e})}function g(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/shareTableSave"),method:"post",data:e})}},7676:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f"),n("28a5");var a=n("7a42"),r=n("35cd"),o=(n("9ac2"),i(n("c164"))),s=i(n("333d")),l=(n("79e3"),i(n("ec98"))),u=(i(n("bc3a")),i(n("2106")),i(n("c72e")),n("d75c"),i(n("f0ed"))),c={components:{Pagination:s.default,QueryField:o.default,runimmediatelycon:l.default,personTree:u.default},data:function(){return{tableKey:"errorUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"模型名称",name:"modelName",type:"fuzzyText"},{label:"运行人",name:"runUserName",type:"fuzzyText"},{label:"运行sql",name:"sql",type:"fuzzyText"},{label:"运行参数",name:"param",type:"fuzzyText"},{label:"执行时间范围",name:"runStartTime",type:"timePeriod"}],formStyle:{width:"700px",height:"400px"},pageQuery:{condition:null,pageNo:1,pageSize:20},share:[],notShare:[],success:!1,success1:!1,selected1:[],buttonIson:{AssociatedBtn:!0,DisassociateBtn:!1,deleteBtn:!0,resultSplitBtn:!0,resultShareBtn:!0,exportBtn:!1},modelResultHandle:{handleState:"",handleIdea:""},handleIdeaDialog:!1,resultSpiltObjects:{},sqlInfo:"",sqlInfoDialog:!1,projectUuid:""}},created:function(){var e=this.getQueryString();void 0!=e.projectUuid?(this.projectUuid=e.projectUuid,this.getLikeList()):this.getLikeList()},methods:{getQueryString:function(){for(var e,t=window.location.href,n=[],i=t.slice(t.indexOf("?")+1).split("&"),a=0;a<i.length;a++)e=i[a].split("="),n[e[0]]=e[1];return n},dateFormatter:function(e,t){var n=e.runStartTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds();s<10&&(s="0"+s),l<10&&(l="0"+l),u<10&&(u="0"+u);var c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},getResultTables:function(e,t,n,i,a){if(3==i){for(var r=[],o=null,s=0;s<e.length;s++)1==e[s].tableType?o=e[s]:r.push(e[s]);this.$emit("addtab",r,o,t,n,a,this.projectUuid)}else this.$message({type:"info",message:"该运行结果不是成功状态"})},dateFormatter1:function(e,t){var n=e.runEndTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds();s<10&&(s="0"+s),l<10&&(l="0"+l),u<10&&(u="0"+u);var c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},dateFormatter2:function(e){var t=e.runTask.timingExecute;if(t){var n=new Date(t),i=n.getFullYear(),a=n.getMonth()+1,r=n.getDate(),o=n.getHours(),s=n.getMinutes(),l=n.getSeconds();o<10&&(o="0"+o),s<10&&(s="0"+s),l<10&&(l="0"+l);var u=i+"-"+a+"-"+r+" "+o+":"+s+":"+l;return u}return"无"},settingInfoSqlFormatter:function(e,t){if(null==e.settingInfo)return"";var n=JSON.parse(e.settingInfo).sql;return n?(n=n.substring(0,10),n+="...",n):""},settingInfoParamsArrFormatter:function(e,t){if(null==e.settingInfo)return"无";var n="",i=JSON.parse(e.settingInfo).paramsArr;if(void 0==i||0==i.length)return"无";for(var a=0;a<i.length;a++)n+=i[a].name+" : "+i[a].paramValue+"\r\n";return n},getLikeList:function(e){var t=this;this.listLoading=!0;var n={},i={};if(e)n=null==e.modelName||""==e.modelName?null:{modelName:e.modelName},i=null==e.runUserName||""==e.runUserName?null:{runUserName:e.runUserName},""!=this.projectUuid&&(o={resultRelProjectUuid:this.projectUuid}),e.resultRelProject=o,e.model=n,e.runTask=i,this.pageQuery.condition=e;else{var a={},o={};""!=this.projectUuid&&(o={resultRelProjectUuid:this.projectUuid}),a.resultRelProject=o,this.pageQuery.condition=a}(0,r.selectLikePageVoHandle)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},handleSelectionChange:function(e){e.length<=0?(this.buttonIson.AssociatedBtn=!0,this.buttonIson.DisassociateBtn=!1,this.buttonIson.deleteBtn=!0,this.buttonIson.resultSplitBtn=!0,this.buttonIson.resultShareBtn=!0,this.buttonIson.exportBtn=!1):1==e.length?(this.buttonIson.AssociatedBtn=!1,this.buttonIson.DisassociateBtn=!1,this.buttonIson.deleteBtn=!1,this.buttonIson.resultSplitBtn=!0,this.buttonIson.resultShareBtn=!1,this.buttonIson.exportBtn=!1):e.length>1&&(this.buttonIson.AssociatedBtn=!1,this.buttonIson.DisassociateBtn=!1,this.buttonIson.deleteBtn=!1,this.buttonIson.resultSplitBtn=!1,this.buttonIson.resultShareBtn=!1,this.buttonIson.exportBtn=!1),this.share.splice(0,this.share.length),this.notShare.splice(0,this.notShare.length);for(var t=0;t<e.length;t++)null!=e[t].runResultShare.runResultShareUuid?this.share.push(e[t]):this.notShare.push(e[t]);this.selected1=e},handleFilter:function(){this.pageQuery.pageNo=1,this.getLikeList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},deleteRunTaskRel:function(){for(var e=this,t=this.selected1,n="",i=[],r=0;r<t.length;r++)null==t[r].resultRelProject.resultRelProjectUuid?n+=t[r].model.modelName+" , ":i.push(t[r].resultRelProject.resultRelProjectUuid);""!=n?(n+="不存在项目关联不能删除",this.$message({message:n})):((0,a.batchDeleteResultRelProject)(i).then((function(t){1==t.data?e.$notify({title:e.$t("提示"),message:e.$t("删除成功"),type:"success",duration:2e3,position:"bottom-right"}):e.$message({type:"error",message:"移除关联项目失败!"})})),this.getLikeList())},runTypeFormate:function(e){var t=e.runTask.runType;return 2==t?"定时运行":3==t?"立即运行":void 0},dataCountFormatter:function(e){for(var t=e.runResultTables,n=0,i=0;i<t.length;i++)1==t[i].tableType&&(n=t[i].dataCount);return n},selectSql:function(e){if(null==e.settingInfo)return"";var t=JSON.parse(e.settingInfo).sql;this.sqlInfo=t,this.sqlInfoDialog=!0},handleResult:function(){var e=this.$refs.resultTable.selection;0!=e.length?this.handleIdeaDialog=!0:this.$message({type:"info",message:"请选择要处理的模型结果"})},updateHandleResult:function(){for(var e=this.$refs.resultTable.selection,t=0;t<e.length;t++)e[t].handleState=this.modelResultHandle.handleState,e[t].handleIdea=this.modelResultHandle.handleIdea,(0,r.updateRunTaskRel)(e[t]).then((function(e){})),this.handleIdeaDialog=!1}}};t.default=c},"76a3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFgAAAABdBcvMAAABr0lEQVRIDbVVMUvDQBT+LummXcWKLaLgLxB00ElF0M1BA4JLqYObi+AgFAedBJ1E0d3+AEWwmxUV/AVKobG16qitQ4fmeUnbu7TEawLNg8D73vve+y73LjlG6bSG55cx1K1+9NJ0rYqJ8TyjBWMGqI/0srfspRciYDQIXc8jNmTJRIdXKjIwbRSWpXVk1FCjBKNieRnDsRPOHFCwy7jJruHoLK7geKYYEZk8k/DMtgcfsLiyA8sXV1TaAiRQN+f9Yx3pg9duNCdf+owALB5MwFdnQfqCaW6GKWArvakEspxwK9bTcOab2Cs+18F1IN+nf+0eS6tbIMgP8PLi2GEbyV1RxVDFVeaU48ACaDaXAoxYs7GMdTkiwT4csWz/TugCqiHnUPl9BKzWtgDR6KSz9krlSb6DRoj2TXE8LWPSUw25BqIfexAuqzk+0beMOflGXAaFpxLIwUhuc6YcaOZ836k0UnuiA/gpus4ccjzrigk39BmELqDaIv6v4q/vHgGxFqqKPbA5ClOdojteZz9u47efY17xVs7N5/eZ//ugrdAnMO0ZpPhT8FkQhGb33PgD1QCAhw/ibswAAAAASUVORK5CYII="},"76e7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findNearestComponent=t.getNodeKey=t.markNodeData=t.NODE_KEY=void 0,n("7f7f");var i="$treeNodeId";t.NODE_KEY=i;var a=function(e,t){t&&!t[i]&&Object.defineProperty(t,i,{value:e.id,enumerable:!1,configurable:!1,writable:!1})};t.markNodeData=a;var r=function(e,t){return e?t[e]:t[i]};t.getNodeKey=r;var o=function(e,t){var n=e;while(n&&"BODY"!==n.tagName){if(n.__vue__&&n.__vue__.$options.name===t)return n.__vue__;n=n.parentNode}return null};t.findNearestComponent=o},"77d9":function(e,t,n){"use strict";n.r(t);var i=n("953d"),a=n("8b42");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("cf94");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"6027943d",null);t["default"]=s.exports},"77f5":function(e,t,n){"use strict";n.r(t);var i=n("a6fd"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},7870:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[]},"788e":function(e,t,n){"use strict";var i=n("dbce"),a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("20d6"),n("5df3"),n("1c4c");var r=a(n("1fc4")),o=a(n("ea27")),s=i(n("dd68"));n("0e94");var l={name:"RelationSetting",components:{Basic:o.default,CustomizeColumn:r.default},props:["graph"],data:function(){return{activeTabName:"nodeSet",myDiagramDivWidth:18,activeCollapseNames:["tableRelation","filterRelation","nounTranslation"],join:[],myDiagram:null,layeX:-1,layeY:-1,joinShow:!1,mainTableName:"",slaverTableName:"",items:[],checkAll:!1,toPort:"",from:"",to:"",showJoinArea:!1,comper:"=",comperArr:[{value:"=",name:"等于"},{value:"!=",name:"不等于"},{value:">",name:"大于"},{value:">=",name:"大于等于"},{value:"<",name:"小于"},{value:"<=",name:"小于等于"}],mainPort:"",showRight:!0,showTableJoin:!1,joinTypeArr:[{value:"LEFT JOIN",name:"左连接",description:"左连接：选取关联字段将两张表进行关联，左表的所有数据均显示，右表的数据只显示关联字段值相等的数据，若右表关联结果无数据则补空显示"},{value:"RIGHT JOIN",name:"右连接",description:"选取关联字段将两张表进行关联，右表的所有数据均显示，左表的数据只显示关联字段值相等的数据，若左表关联结果无数据则补空显示"},{value:"INNER JOIN",name:"内连接",description:"内连接：选取关联字段将两张表进行关联，仅显示两张表中关联字段值相等的数据"},{value:"FULL JOIN",name:"外连接",description:"外连接：选取关联字段将两张表进行关联，显示出左表和右表关联后的所有数据，但去除重复数据，两表中若无关联数据则补空显示"}],joinType:"",joinDescription:"",columnsInfoPre:[],curColumnInfo:null,helpDialogVisible:!1,customizeColumnDialogVisible:!1,customizeColumnTitle:"",customizeColumnType:"",curNodeDataArray:[]}},mounted:function(){this.init(),this.joinType=this.joinTypeArr[2].value,this.joinDescription=this.joinTypeArr[2].description},methods:{init:function(){s.sendVueObj(this),s.init(),$(this.$refs.outPutTable.$refs.bodyWrapper.children[0].children[1]).sortable().disableSelection()},myDiagramMousemove:function(e){this.layeX=e.layerX,this.layeY=e.layerY},saveNodeInfo:function(){return s.saveNodeInfo()},changeType:function(e){this.joinType=e,s.changeType()},amplify:function(){s.amplify()},reduce:function(){s.reduce()},changeCopare:function(e){this.comper=e,s.changeCopare(e)},handleCheckAllChange:function(e){Array.from(this.items,(function(t){return t.checked=e}))},checkBoxChange:function(){for(var e=0,t=0;t<this.items.length;t++)this.items[t].checked&&e++;this.items.length===e?this.checkAll=!0:this.checkAll=!1},vilidata_simple:function(){var e=this,t=this.items.findIndex((function(e){return!0===e.checked}));if(t<0)return this.$message({type:"warning",message:"请选择输出字段"}),!1;for(var n=[],i=!0,a="",r=0;r<this.items.length;r++)if(this.items[r].checked){var o=function(){var t=e.items[r].disColumnName;if(""===$.trim(t))return i=!1,a="第".concat(r+1,"行的输出字段的内容不能为空值，请修改"),"break";if(getStrBytes(t)>30)return i=!1,a="第".concat(r+1,"行的输出字段超过30个字符的长度限制，请修改"),"break";if(!verifyReg(t))return i=!1,a="第".concat(r+1,"行的输出字段中含有特殊字符或以数字开头，请修改"),"break";var o=n.findIndex((function(e){return e.disColumnName===t}));if(o>-1&&n[o].checked)return i=!1,a="第".concat(o+1,"行与第").concat(r+1,"行的输出字段重复，请修改"),"break";n.push({checked:e.items[r].checked,disColumnName:e.items[r].disColumnName})}();if("break"===o)break}return i||this.$message({type:"warning",message:a}),i},inputVerify:function(){var e=JSON.parse(this.myDiagram.model.toJson()),t=e.linkDataArray;return 0===t.length?(this.$message({type:"warning",message:"未设置表间的连接条件"}),!1):!!this.vilidata_simple()},customizeColumn:function(e,t){this.customizeColumnType=e;var n=JSON.parse(this.myDiagram.model.toJson());this.curNodeDataArray=n.nodeDataArray,"1"===e?(this.customizeColumnTitle="自定义字段",this.curColumnInfo=null):(this.customizeColumnTitle="修改设置",this.curColumnInfo=t),this.customizeColumnDialogVisible=!0},customizeColumnBack:function(){var e=this.$refs.customizeColumn.saveInfo();if(!e.isError){this.customizeColumnDialogVisible=!1;var t=e.columnInfo.columnName,n="",i=e.columnInfo,a="",r=!0,o=null,s=e.columnInfo.newColumnName;if("1"===this.customizeColumnType)o=this.items.length+1,a="自定义字段",this.items.push({id:o,columnName:t,columnInfo:i,rtn:a,disColumnName:s,checked:r,resourceTableName:n});else{o=this.curColumnInfo.id,a=this.curColumnInfo.rtn,n=this.curColumnInfo.resourceTableName;var l=this.items.findIndex((function(e){return e.id===o}));l>-1&&(this.items.splice(l,1),this.items.splice(l,1,{id:o,columnName:t,columnInfo:i,rtn:a,disColumnName:s,checked:r,resourceTableName:n}))}}}}};t.default=l},"78e0":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"fatherDiv"}},[n("el-container",[n("el-aside",{attrs:{width:"20%"}},e._l(this.detailModels,(function(t,i){return n("div",{key:i},[n("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"right"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 审计事项 : "+e._s(t.auditItemName)),n("br"),e._v("风险等级 : "+e._s(e.afterTranscod[i])),n("br"),e._v("审计思路 : "+e._s(t.auditIdeas)+" ")]),n("el-button",{staticClass:"tipButton"},[e._v(e._s(t.modelName))])],1)],1)})),0),n("el-container",[n("el-header",[n("div",[e.timing?n("div",[n("span",{staticClass:"demonstration"},[e._v("运行日期时间 ：")]),n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","picker-options":e.executeTimeOptions},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1):e._e(),n("label",{staticStyle:{"margin-right":"-43px",color:"#9B4C4C","margin-left":"15px",cursor:"pointer"},on:{click:function(t){e.modelResultSavePathDialog=!0}}},[e._v(e._s(e.path))])])]),n("el-main",[e._l(this.detailModels,(function(t,i){return n("div",{key:i},[n("paramDrawNew",{ref:"paramassembly",refInFor:!0,attrs:{sql:e.drawsSql[i],arr:e.drawParamarr[i]}})],1)})),n("el-dialog",{attrs:{title:"选择模型结果保存路径",visible:e.modelResultSavePathDialog,width:"30%","append-to-body":!0},on:{"update:visible":function(t){e.modelResultSavePathDialog=t}}},[n("data-tree",{staticStyle:{height:"500px","overflow-y":"scroll"},attrs:{"data-user-id":e.dataUserId,"scene-code":e.sceneCode,"tree-type":e.treeType},on:{"node-click":e.handleClick}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.modelResultSavePathDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelResultSavePathDetermine}},[e._v("确 定")])],1)],1)],2)],1)],1)],1)},a=[]},"78ec":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAByElEQVRIDbWWPUtDMRSGT5JdnO0HV6h/QQu1OAgFNwuKgpOLm7/GzVlBQcHZDxxUUEdRqIIIfvwB95uYN5pram/SpGCgTW7uyfOec3LSlDVbnQWp8m1CE2Lz9uL4yIxH/JpudxYpz7ewnDOxISZq2bkiqurnMUa0XM0aTx+vz/ej8GfanVWSck/zxsEjUnPcBSmlhJJyp9maX3HnY8ZYg7VguPYcaWGM5XYSBpLYrvHGTg7pAccaF26Ymi10Onq1+uQjMdbVHBsR+i7m399eHkJ8H5yTWru5PD004QBSKqJFQyIh+PXV2T4cK/KVKhID7xPAQ6xILBxMXZmDLQSAddmGIuc2LS6xVAAGPhG8+1stPjhsiz3Ag9u86fqtNF14LA/BwfMK4KVHBK+i4LCzdY/xv7RgBGX74HjBcThD5wS2XoEyOHKuP/q3rIh8qEhpFfng2FB4lVKmAxGE4Khzz8Z7I+kTGAaH92gpIoVALPxbIl7ECKTCU0SYuUOlPEg5/lbA9j4HifMlUalmJz93qLGPOf4WbHvfnjClZvtO8ihwK4IKQxmDYefQi1p9qofbXx+IT30/r+Oacw1SxoikkjXu4Dl4+NvyBfpPehxFTbeeAAAAAElFTkSuQmCC"},"78ef":function(e,t,n){"use strict";n.r(t);var i=n("4054"),a=n("1cc4");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("9d78");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"c631e624",null);t["default"]=s.exports},7914:function(e,t,n){"use strict";n("662b")},7982:function(e,t,n){},"798a":function(e,t,n){"use strict";n.r(t);var i=n("833e"),a=n("db96");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},7993:function(e,t,n){"use strict";n.r(t);var i=n("4005"),a=n("223c");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"79bb":function(e,t,n){},"7a42":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getRunTaskRelByPage=s,t.batchDeleteRunTaskRel=l,t.ResultRelProject=u,t.getAllRunTaskRel=c,t.addCoverResultRelProject=d,t.rmResultRelProjectlr=h,t.getResultRelProject=f,t.insertRunResultShare=p,t.deleteRunResultShare=m,t.deleteRunResultShareByRunTaskRelUuid=g,t.selectTable=v,t.exportRunTaskRel=y,t.reRunRunTask=b,t.selectByRunResultTableUUid=A,t.selectByRunResultTableUUids=w,t.getDataAfterResultSpiltToRelateProject=x,t.batchCoverAddResultDetailProjectRel=C,t.batchSaveResultDetailProjectRel=k,t.selectPrimaryKeyByTableName=S,t.removeResultDetailProjectRel=T,t.deleteRunTaskFalse=N,t.selectConditionShow=I,t.selectModel=D,t.findParamModelRelByModelUuid=P,t.replaceParam=L,t.getResultSplitSelectData=O,t.addModelChartSetup=M,t.getModelChartSetup=E,t.updateModelChartSetup=R,t.sendToOA=j,t.batchDeleteResultRelProject=B,t.deleteModelChartSetup=_,n("a481");var a=i(n("7037")),r=i(n("b775")),o="/analysis";function s(e,t){return(0,r.default)({baseURL:o,url:"/RunTaskRelController/getLikeRunTaskRelByPage",method:"post",data:{basePageParam:e,orgNameColumnList:t.orgNameColumnList,orgNameValues:t.orgNameValues,orgUuidColumnList:t.orgUuidColumnList,orgUuidValues:t.orgUuidValues,resultSpiltedRunResultRel:t.resultSpiltedRunResultRel}})}function l(e){return(0,r.default)({baseURL:o,url:"/RunTaskRelController/deleteRunTaskRelFalse/"+e,method:"delete"})}function u(e){return(0,r.default)({baseURL:o,url:"/ResultRelProjectController/addResultRelProject",method:"post",data:e})}function c(){return(0,r.default)({baseURL:o,url:"/RunTaskRelController/getAllRunTaskRel",method:"post"})}function d(e){return(0,r.default)({baseURL:o,url:"/ResultRelProjectController/addCoverResultRelProject",method:"post",data:e})}function h(e){return(0,r.default)({baseURL:o,url:"/ResultRelProjectController/deleteResultRelProject/"+e,method:"delete"})}function f(e){return(0,r.default)({baseURL:o,url:"/ResultRelProjectController/getResultRelProject",method:"get",params:{RunTaskRelUuid:e}})}function p(e,t,n){return(0,r.default)({baseURL:o,url:"/RunResultShareController/addRunResultShare",method:"post",data:{runTaskRelUuids:e,personUuids:t,personNames:n}})}function m(e){return(0,r.default)({baseURL:o,url:"/RunResultShareController/deleteRunResultShare/"+e,method:"delete"})}function g(e){return(0,r.default)({baseURL:o,url:"/RunResultShareController/deleteRunResultShareByRunTaskRelUuid/"+e,method:"delete"})}function v(e,t,n){var i={basePageParam:e,filterSql:t,orgNameColumnList:n.orgNameColumnList,orgNameValues:n.orgNameValues,orgUuidColumnList:n.orgUuidColumnList,orgUuidValues:n.orgUuidValues,resultSpiltedRunResultRel:n.resultSpiltedRunResultRel};return(0,r.default)({baseURL:o,url:"/RunResultTableController/selectTable",method:"post",data:i})}function y(){return(0,r.default)({baseURL:o,url:"/RunTaskRelController/exportRunTaskRelTable",method:"get"})}function b(e,t){var n={runTaskRel:e,timingExecute:t};return(0,r.default)({baseURL:o,url:"/RunTaskController/reRunRunTask",method:"post",data:n})}function A(e){return(0,r.default)({baseURL:o,url:"/ResultDetailProjectRelController/getByRunResultTableUUid/"+e,method:"post"})}function w(e){return(0,r.default)({baseURL:o,url:"/ResultDetailProjectRelController/getByRunResultTableUUids",method:"post",data:e})}function x(e,t,n,i){var a={orgNameColumnList:e.orgNameColumnList,orgNameValues:e.orgNameValues,orgUuidColumnList:e.orgUuidColumnList,orgUuidValues:e.orgUuidValues,resultSpiltedRunResultRel:e.resultSpiltedRunResultRel,projectId:t,projctName:n,selectRunTaskRelUuid:i};return(0,r.default)({baseURL:o,url:"/RunResultTableController/getDataAfterResultSpiltToRelateProject",method:"post",data:a})}function C(e){return(0,r.default)({baseURL:o,url:"/ResultDetailProjectRelController/batchCoverAddResultDetailProjectRel",method:"post",data:e})}function k(e){return(0,r.default)({baseURL:o,url:"/ResultDetailProjectRelController/batchAddResultDetailProjectRel",method:"post",data:e})}function S(){return(0,r.default)({baseURL:o,url:"/ResultDetailProjectRelController/getPrimaryKeyByTableName",method:"post"})}function T(e){return(0,r.default)({baseURL:o,url:"/ResultDetailProjectRelController/deleteResultDetailProjectRel/"+e,method:"delete"})}function N(e){return(0,r.default)({baseURL:o,url:"/RunTaskController/deleteRunTaskFalse",method:"delete",params:{runTaskUuid:e}})}function I(e,t){var n={modelUuid:e,tableName:t};return(0,r.default)({baseURL:o,url:"/RunResultTableController/getConditionShow",method:"post",data:n})}function D(e){return(0,r.default)({baseURL:o,url:"/modelController/selectModel",method:"post",params:{modelId:e}})}function P(e){return(0,r.default)({baseURL:o,url:"/paramController/findParamModelRelByModelUuid",method:"post",params:{modelId:e}})}function L(e,t,n){for(var i=0;i<e.length;i++)for(var r=e[i].moduleParamId,o=0;o<t.length;o++)t[o].copyParamId===r&&void 0!=(0,a.default)(e[i].paramValue)&&(n=n.replace(t[o].id,e[i].paramValue));return n}function O(e){return(0,r.default)({baseURL:o,url:"/RunTaskRelController/getResultSplitSelectData",method:"post",data:e})}function M(e){return(0,r.default)({baseURL:o,url:"/modelChartSetupController/addModelChartSetup",method:"post",data:e})}function E(e){return(0,r.default)({baseURL:o,url:"/modelChartSetupController/getModelChartSetup",method:"get",params:{modelUuid:e}})}function R(e){return(0,r.default)({baseURL:o,url:"/modelChartSetupController/updateModelChartSetup",method:"put",data:e})}function j(e,t,n){return(0,r.default)({baseURL:o,url:"/ResultRelProjectController/sendToOA",method:"get",params:{taskRelUuid:e,dataUserId:t,dataUserName:n}})}function B(e){return(0,r.default)({baseURL:o,url:"/ResultRelProjectController/batchDeleteResultRelProject",method:"delete",data:e})}function _(e){return(0,r.default)({baseURL:o,url:"/modelChartSetupController/deleteModelChartSetup",method:"delete",data:e})}},"7a44":function(e,t,n){},"7ab9":function(e,t,n){e.exports=n.p+"static/img/right_join.3f4d591e.jpg"},"7ac5":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3d37")),r=i(n("445c")),o={name:"ModelFilterShow",components:{Colorpicker:a.default,myQueryBuilder:r.default},props:["columns","treeId","data","operationtype"],data:function(){return{form:{filterName:"",filterMemo:"",filterJson:"",filterValue:"",colorJson:"",fontColor:"",backGroundColor:"",queryBuilderJson:{}},isBanEdit:!1,queryRules:{},queryBuilderDialogVisible:!1,rules:{filterName:[{type:"string",required:!0,message:"请输入名称",trigger:"blur"}],filterValue:[{type:"string",required:!0,message:"请输入过滤条件",trigger:"blur"}]}}},created:function(){this.setQueryBuilderColumn(),this.setColor()},mounted:function(){this.initData()},methods:{initData:function(){if(0!=this.data.length){this.form.filterName=this.data.filterName,this.form.filterMemo=this.data.filterMemo,this.form.queryBuilderJson=JSON.parse(this.data.filterJson),this.form.filterValue=this.data.filterValue;var e=JSON.parse(this.data.colorJson);this.form.fontColor=e.fontColor,this.form.backGroundColor=e.backGroundColor,3==this.operationtype&&(this.isBanEdit=!0)}},getForm:function(){var e=!1;if(this.$refs["basicInfoForm"].validate((function(t){t&&(e=t)})),!e){var t=this.treeId;return{verResult:!1,treeId:t}}var n=this.form.fontColor,i=this.form.backGroundColor,a={fontColor:n,backGroundColor:i};return this.form.colorJson=JSON.stringify(a),this.form.filterJson=JSON.stringify(this.form.queryBuilderJson),this.form},setQueryBuilderColumn:function(){for(var e=[],t=0;t<this.columns.length;t++){var n={};n.columnType=this.columns[t].columnType,n.columnName=this.columns[t].outputColumnName,e.push(n)}this.queryRules.columnList=e},setColor:function(){this.form.fontColor="#000000",this.form.backGroundColor="#000000"},nameValueChange:function(e){this.$emit("updateTreeNode",e)},getSql:function(e){this.form.filterValue=e},showQueryBuilder:function(){this.queryBuilderDialogVisible=!0},queryCondition:function(){var e=this.$refs.myQueryBuilder.getSelectSql();this.form.filterValue=e.sql,this.form.queryBuilderJson=e.queryJson,this.queryBuilderDialogVisible=!1}}};t.default=o},"7aed":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("ca11"),r=i(n("c164")),o=i(n("333d")),s={components:{Pagination:o.default,QueryField:r.default},data:function(){return{logerrortxt:"",tableKey:"errorUuid",list:null,total:0,listLoading:!1,dialogVisible:!1,queryFields:[{label:"操作用户",name:"opUserName",type:"text",value:""},{label:"操作IP",name:"opIp",type:"text"},{label:"异常类",name:"opClass",type:"text"},{label:"异常方法",name:"opMethod",type:"text"},{label:"日志时间区间",name:"logTime",type:"timePeriod"}],tableOptions:{columnDefs:[{headerName:"",checkboxSelection:!0,headerCheckboxSelection:!0,width:30,pinned:"left",display:!1},{field:"errorUuid",hide:!0},{headerName:"操作用户",field:"opUserName",pinned:"left",filter:"agTextColumnFilter"},{headerName:"操作IP",field:"opIp",pinned:"left"},{headerName:"异常类",field:"opClass",pinned:"left"},{headerName:"异常方法",field:"opMethod",filter:"agNumberColumnFilter"},{headerName:"异常时间",field:"logTime",filter:"agNumberColumnFilter"}]},formStyle:{width:"700px",height:"400px"},temp:{errorUuid:"",opUserName:"",opUserId:"",opIp:"",opClass:"",opMethod:"",logContent:"",logTime:"",startTime:"",endTime:""},pageQuery:{condition:{},pageNo:1,pageSize:20,sortBy:"desc",sortName:"logTime"}}},computed:{},created:function(){this.getList()},methods:{getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e,this.pageQuery.pageNo=1),(0,a.listByPageErrorLog)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},resetQuery:function(){this.query={condition:{opUserName:"",opIp:"",opClass:"",opMethod:"",startTime:"",endTime:""}}},handReadError:function(e){this.dialogVisible=!0,this.logerrortxt=e.logContent}}};t.default=s},"7b25":function(e,t,n){e.exports=n.p+"static/img/shuju.e94b4553.png"},"7b8f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-row",["showTable"!==e.openType&&"tableRegister"!==e.openType?n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addCol()}}}),n("el-button",{staticClass:"oper-btn copy",attrs:{type:"primary",size:"mini",disabled:1!==e.selections.length},on:{click:function(t){return e.copyCol()}}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"danger",size:"mini",disabled:0===e.selections.length},on:{click:function(t){return e.delCol()}}})],1):e._e()],1),"showTable"!==e.openType&&"tableRegister"!==e.openType?[n("el-form",{ref:"dataForm",attrs:{model:e.tempTable}},[n("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[n("el-input",{model:{value:e.tempTable.tableName,callback:function(t){e.$set(e.tempTable,"tableName",t)},expression:"tempTable.tableName"}})],1)],1)]:e._e(),n("el-table",{attrs:{data:e.temp,height:"500px"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"colName",label:"字段名称","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tooltip",{attrs:{disabled:t.row.colName.length<12,effect:"dark",content:t.row.colName,placement:"top"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{disabled:"showTable"===e.openType||"tableRegister"===e.openType},model:{value:t.row.colName,callback:function(n){e.$set(t.row,"colName",n)},expression:"scope.row.colName"}})],1)]}}])}),n("el-table-column",{attrs:{prop:"dataType",label:"数据类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{ref:"dataType",staticStyle:{width:"90%"},attrs:{disabled:"showTable"===e.openType||"tableRegister"===e.openType,filterable:"",placeholder:"请选择数据类型"},model:{value:t.row.dataType,callback:function(n){e.$set(t.row,"dataType",n)},expression:"scope.row.dataType"}},e._l(e.sqlType,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)]}}])}),n("el-table-column",{attrs:{prop:"dataLength",label:"数据长度","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{staticStyle:{width:"90%"},attrs:{disabled:"showTable"===e.openType||"tableRegister"===e.openType},model:{value:t.row.dataLength,callback:function(n){e.$set(t.row,"dataLength",n)},expression:"scope.row.dataLength"}})]}}])}),n("el-table-column",{attrs:{prop:"isNullable",label:"是否为空",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-radio",{attrs:{disabled:"showTable"===e.openType||"tableRegister"===e.openType,label:1},nativeOn:{click:function(n){return n.preventDefault(),e.clickitem(t.$index,1)}},model:{value:t.row.isNullable,callback:function(n){e.$set(t.row,"isNullable",n)},expression:"scope.row.isNullable"}},[n("span")])]}}])})],1)],2)},a=[]},"7b94":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-add",use:"icon-oper-add-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-add"><defs><style type="text/css"></style></defs><path d="M925.304287 414.839213 606.244429 414.839213 606.244429 95.677026c0-17.60048-14.223643-31.926451-31.926451-31.926451L446.7145 63.750575c-17.60048 0-31.926451 14.223643-31.926451 31.926451l0 319.059858L95.72819 414.736884c-17.60048 0-31.926451 14.223643-31.926451 31.926451l0 127.603478c0 17.60048 14.223643 31.926451 31.926451 31.926451l319.059858 0 0 319.059858c0 17.60048 14.223643 31.926451 31.926451 31.926451l127.603478 0c17.60048 0 31.926451-14.325972 31.926451-31.926451L606.244429 606.193265l319.059858 0c17.60048 0 31.926451-14.223643 31.926451-31.926451L957.230738 446.663336C957.230738 429.062856 943.007095 414.839213 925.304287 414.839213L925.304287 414.839213z" p-id="70017" /></symbol>'});o.a.add(s);t["default"]=s},"7bbd":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("f39b")),r=i(n("7bec9")),o=i(n("f191")),s=i(n("e36d")),l={strict:!0,namespaced:!0,state:s.default,getters:r.default,mutations:o.default,actions:a.default};t.default=l},"7bec9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},"7c00":function(e,t,n){},"7c6b":function(e,t,n){"use strict";n.r(t);var i=n("56c2"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"7cc1":function(e,t,n){"use strict";n.r(t);var i=n("bec9"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"7d21":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.querySystemTask=s;var a=i(n("b775")),r="/base",o="systemTask";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/querySystemTask"),method:"post"})}},"7e4f":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-setting",use:"icon-oper-setting-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-setting"><defs><style type="text/css"></style></defs><path d="M840.32 512a151.68 151.68 0 0 1 33.28-94.72 37.12 37.12 0 0 0 0-41.6l-64-106.88a40.32 40.32 0 0 0-39.68-21.12 151.68 151.68 0 0 1-158.72-96.64A37.12 37.12 0 0 0 576 128H462.72c-26.88 0-40.96 8.96-46.08 23.04a151.68 151.68 0 0 1-168.32 96 37.12 37.12 0 0 0-38.4 18.56l-64 106.24a37.12 37.12 0 0 0 0 42.24 151.68 151.68 0 0 1 0 195.2 37.12 37.12 0 0 0 0 42.24l64 106.24a37.12 37.12 0 0 0 38.4 18.56 151.68 151.68 0 0 1 168.32 96 37.12 37.12 0 0 0 35.2 23.04h112.64c26.88 0 40.96-8.96 46.08-23.04a151.68 151.68 0 0 1 163.84-96.64 40.32 40.32 0 0 0 39.68-21.12l64-106.88a37.12 37.12 0 0 0 0-41.6A151.68 151.68 0 0 1 840.32 512zM512 666.24A154.24 154.24 0 1 1 666.24 512 154.24 154.24 0 0 1 512 666.24z" p-id="2243" /></symbol>'});o.a.add(s);t["default"]=s},"7e53":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.screenListLoading,expression:"screenListLoading"}],ref:"screenMainContain",staticClass:"tree-list-container",attrs:{"element-loading-text":"数据加载中"}},[n("el-row",[n("el-col",[n("el-page-header",{attrs:{content:e.curScreenGraphName},on:{back:e.toScreenList}})],1)],1),n("el-row",[n("el-tabs",{attrs:{closable:e.tabClosable},on:{"tab-click":e.clickTab},model:{value:e.tabsName,callback:function(t){e.tabsName=t},expression:"tabsName"}},e._l(e.tabArr,(function(t){return n("el-tab-pane",{key:t.id,attrs:{name:t.name}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.title)+" "),"layering"===t.optType?n("el-tooltip",{attrs:{content:"选择区间",placement:"bottom"}},[n("i",{staticClass:"el-icon-s-tools",attrs:{title:"选择区间"},on:{click:function(n){return e.showLayingDialog(t.name)}}})]):e._e()],1),n("ScreenQueryOne",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"item.isShow"}],ref:"screenQueryOne",refInFor:!0,attrs:{screenParam:t.screenParam}})],1)})),1)],1),e.layeringDialogVisible?n("el-dialog",{attrs:{visible:e.layeringDialogVisible,title:"选择分层区间","close-on-press-escape":e.pressEscape,"close-on-click-modal":e.clickModal,width:"600px"},on:{"update:visible":function(t){e.layeringDialogVisible=t}}},[n("div",{staticStyle:{padding:"10px",height:"400px"}},[n("el-row",[n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[n("label",{staticStyle:{"line-height":"36px","padding-right":"10px"}},[e._v("分层区间")])]),n("el-col",{attrs:{span:20}},[n("el-select",{staticStyle:{width:"100%"},on:{change:e.changeRange},model:{value:e.curRangeIndex,callback:function(t){e.curRangeIndex=t},expression:"curRangeIndex"}},e._l(e.layeringRangeArr,(function(e){return n("el-option",{key:e.index,attrs:{label:e.name,value:e.index}})})),1)],1)],1),n("el-row",{staticStyle:{"margin-top":"10px"}},[n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[n("label",{staticStyle:{"line-height":"36px","padding-right":"10px"}},[e._v("SQL语句")])]),n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{type:"textarea",rows:15,disabled:""},model:{value:e.sqlValue,callback:function(t){e.sqlValue=t},expression:"sqlValue"}})],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.layeringDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.layerNodeCallBack}},[e._v("保存")])],1)]):e._e()],1)},a=[]},"7ef0":function(e,t,n){e.exports=n.p+"static/img/shouquan.23060fd5.png"},"7ef6":function(e,t,n){"use strict";n.r(t);var i=n("1ffa"),a=n("5bbd");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("b200");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"7f7b04af",null);t["default"]=s.exports},"7f06":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAABbUlEQVQ4EWN08Q7Z+P8/gwoDMmBkmLp365ppyELIbPegGMk/P37sYWRkeP6fjSt87/pFb2HyLBDD/mvBBEA0439GUWQ+iA20eAmQ4gGx//353gKktIB6tRh+ftvnHBjnBDOUCaSASOD1//9/fxBm+svIidDzXw9qqDBIjBQDEWZgsCCGuoSG8lPJQJAN//WYvzOoU9FAiLOpbiALRnCAHM/AIOPuE2qGLPeXkcGP5R8DI0js738GIWQ5ZDZWA4FGpvz59z8FWSGI/QddAAsfYSAjwwJg+tuARQ1eIUbG/7z//jMshimCG8jEwHhl97Y1G2ESxNLARC3M8PMrXDncQJiIs3dILTCg3GB8fLSNqY7j4Yv3UJRgGAjMw81AFSBMEOzZuoYB6EIUdRgGjroQJXzQOXjD8B/Dfx0XrxB/dE2E+Iy/vvL+Q1KEiJT/DAn/Gf4nIMkRxQQWsiiAhZGVMYIZpcBEkSeJ81+Q4yoA/zOBldn+uW8AAAAASUVORK5CYII="},"7f2f":function(e,t,n){"use strict";n.r(t);var i=n("bbb5"),a=n("3d54");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"7f69":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("3b2b"),n("20d6"),n("7f7f"),n("6b54"),n("ac6a"),n("55dd"),n("96cf");var a=i(n("c973")),r=i(n("a3ac")),o=i(n("03e73")),s=i(n("cc36")),l=i(n("75ac")),u=n("9ac2"),c=i(n("dd1e")),d=i(n("513f")),h=n("ed08"),f=n("05c6"),p=i(n("7f2f")),m=i(n("03bd")),g=i(n("eb02")),v=i(n("c5a9")),y=i(n("3f53")),b=i(n("8803")),A={name:"EditModel",components:{modelshoppingcart:g.default,ModelDetail:r.default,ModelFilterShow:o.default,VRuntimeTemplate:c.default,SQLEditor:s.default,AuditItemTree:l.default,paramShow:d.default,ModelFolderTree:p.default,SelectTransCode:m.default,graph:v.default,messageTips:y.default,paramshownew:b.default},props:["openValue"],data:function(){return{dataUserId:void 0,sceneCode:void 0,treeNodeData:[{id:"1",label:"基本信息",type:"basicInfo"},{id:"2",label:"模型设计",type:"modelDesign"},{id:"3",label:"模型参数",type:"paramDefaultValue"},{id:"4",label:"模型结果",type:"modelResultOutputCol"},{id:"5",label:"模型关联",type:"relInfo",children:[]},{id:"7",label:"模型条件",type:"filterShow",children:[]}],defaultProps:{children:"children",label:"label"},auditItemTree:!1,sqlEditorStr:"002003001",graphEditorStr:"002003002",isShowBtn:!0,editorModel:"editorModel",isBanEdit:!1,modelFolderTreeDialog:!1,columnData:[],form:{modelUuid:"",modelName:"",modelFolderUuid:"",modelFolderName:"",auditItemUuid:"",riskLevelUuid:"",auditIdeas:"",paramConditions:"",sqlValue:"",auditItemName:"",modelType:"",locationName:"",locationUuid:"",graphUuid:""},parammModelRel:{},sqlObj:{sqlValue:"",params:[],column:[]},businessColumnSelect:[],columnTypeSelect:[],modelDetails:[],dragMinWidth:250,dragMinHeight:180,filterShows:[],newRelInfoValue:{},newFilterShowValue:{},sqlEditorParamObj:{},modelDetailIndex:0,paramShowVIf:!0,editorModelLoading:!1,riskLeve:[],modelTypeData:[],modelFilterShowIndex:0,modelOriginalTable:[],modelChartSetup:{},currentSelectTreeNode:null,modelTypeObj:[],formName:"新增模型",operationObj:{},graphColumnInfo:null,sqlEditorParam:null,basicInfoRules:{modelName:[{type:"string",required:!0,message:"请输入模型名称",trigger:"blur"}],auditItemUuid:[{required:!0,message:"请选择审计事项",trigger:"change"}],riskLevelUuid:[{type:"string",required:!0,message:"请选择风险等级",trigger:"change"}],modelType:[{type:"string",required:!0,message:"请选择模型类型",trigger:"change"}]},modelDesignRules:{sqlValue:[{type:"string",required:!0,message:"请选择输入模型SQL",trigger:"blur"}]},imgCus1:n("108d"),imgCus2:n("cb48"),imgCus3:n("3807"),paramShowArr:this.sqlEditorParam}},watch:{newRelInfoValue:function(e){this.$nextTick((function(){this.handleNodeClick(e)}))},newFilterShowValue:function(e){this.$nextTick((function(){this.handleNodeClick(e)}))},paramShowVIf:function(e){this.$nextTick((function(){e&&this.$refs.apple.initSetting(this.sqlEditorParam)}))}},created:function(){this.form.modelUuid=(0,f.getUuid)(),this.operationObj=JSON.parse(sessionStorage.getItem("operationObj")),"undefined"!=this.$route.query.dataUserId&&"undefined"!=this.$route.query.sceneCode?(this.dataUserId=this.$route.query.dataUserId,this.sceneCode=this.$route.query.sceneCode):(this.dataUserId=void 0,this.sceneCode=void 0)},mounted:function(){if(this.initEvent(),this.initData(this.operationObj),2==this.operationObj.operationType){this.isUpdate=!0;var e=this.operationObj.model;this.displayData(e),this.formName="修改模型"}if(3==this.operationObj.operationType){this.isUpdate=!0;e=this.operationObj.model;this.displayData(e),this.formName=this.operationObj.formName,this.isShowBtn=!1,this.isBanEdit=!0}},methods:{initData:function(e){var t=this;""!=e.folderId&&(this.form.modelFolderUuid=e.folderId,this.form.modelFolderName=e.folderName),(0,u.getBusinessAttribute)().then((function(e){null!=e.data&&(t.businessColumnSelect=e.data)}));var n=[{uuid:"int",name:"数值"},{uuid:"varchar",name:"字符串"},{uuid:"date",name:"日期"},{uuid:"money",name:"金额"}];this.columnTypeSelect=n,this.riskLeve=(0,h.getDictList)("002002"),this.modelTypeData=(0,h.getDictList)("002003")},handleNodeClick:function(e,t){this.hideModelDetail(),"basicInfo"==e.type?(this.$refs.modelDesign.style.display="none",this.$refs.paramDefaultValue.style.display="none",this.$refs.modelResultOutputCol.style.display="none",this.$refs.relInfo.style.display="none",this.$refs.chartConfig.style.display="none",this.$refs.modelFilterShowParent.style.display="none",this.$refs.basicInfo.style.display="block"):"modelDesign"==e.type?(this.$refs.basicInfo.style.display="none",this.$refs.paramDefaultValue.style.display="none",this.$refs.modelResultOutputCol.style.display="none",this.$refs.chartConfig.style.display="none",this.$refs.modelFilterShowParent.style.display="none",this.$refs.relInfo.style.display="none",this.$refs.modelDesign.style.display="block",this.modelTypeChangeEvent(this.form.modelType)):"paramDefaultValue"==e.type?(this.$refs.basicInfo.style.display="none",this.$refs.modelDesign.style.display="none",this.$refs.modelResultOutputCol.style.display="none",this.$refs.chartConfig.style.display="none",this.$refs.modelFilterShowParent.style.display="none",this.$refs.relInfo.style.display="none",this.$refs.paramDefaultValue.style.display="block"):"modelResultOutputCol"==e.type?(this.$refs.basicInfo.style.display="none",this.$refs.modelDesign.style.display="none",this.$refs.paramDefaultValue.style.display="none",this.$refs.chartConfig.style.display="none",this.$refs.modelFilterShowParent.style.display="none",this.$refs.relInfo.style.display="none",this.$refs.modelResultOutputCol.style.display="block","002003002"===this.form.modelType&&this.getGraphObj()):"relInfo"==e.type?(this.$refs.basicInfo.style.display="none",this.$refs.modelDesign.style.display="none",this.$refs.paramDefaultValue.style.display="none",this.$refs.modelResultOutputCol.style.display="none",this.$refs.chartConfig.style.display="none",this.$refs.modelFilterShowParent.style.display="none",this.$refs.relInfo.style.display="block"):"chartConfig"==e.type?(this.$refs.basicInfo.style.display="none",this.$refs.modelDesign.style.display="none",this.$refs.paramDefaultValue.style.display="none",this.$refs.modelResultOutputCol.style.display="none",this.$refs.modelFilterShowParent.style.display="none",this.$refs.relInfo.style.display="none",this.$refs.chartConfig.style.display="block"):"filterShow"==e.type?(this.$refs.basicInfo.style.display="none",this.$refs.modelDesign.style.display="none",this.$refs.paramDefaultValue.style.display="none",this.$refs.modelResultOutputCol.style.display="none",this.$refs.relInfo.style.display="none",this.$refs.chartConfig.style.display="none",this.$refs.modelFilterShowParent.style.display="block"):"relDetail"!=e.type&&"filterShowNode"!=e.type||(this.$refs.basicInfo.style.display="none",this.$refs.modelDesign.style.display="none",this.$refs.paramDefaultValue.style.display="none",this.$refs.modelResultOutputCol.style.display="none",this.$refs.relInfo.style.display="none",this.$refs.chartConfig.style.display="none",this.$refs.modelFilterShowParent.style.display="none",void 0!=this.$refs[e.id][0]&&(this.$refs[e.id][0].style.display="block")),this.currentSelectTreeNode=e},hideModelDetail:function(){for(var e=0;e<this.modelDetails.length;e++){var t=this.modelDetails[e].id;this.$refs[t][0].style.display="none"}for(var n=0;n<this.filterShows.length;n++){var i=this.filterShows[n].id;this.$refs[i][0].style.display="none"}},getModelObj:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s,l,u,c,d,h,f,p,m,g,v,y,b,A,w,x,C,k,S=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,i=this.$refs.columnData.data,a=!1,this.$refs["basicInfoForm"].validate((function(e){e&&(a=e)})),a){e.next=7;break}return this.handleNodeClick({id:"1",label:"基本信息",type:"basicInfo"},null),e.abrupt("return",null);case 7:if(void 0==this.$refs.SQLEditor){e.next=23;break}if(r=!1,this.$refs["modelDesignForm"].validate((function(e){e&&(r=e,o="请先编写SQL")})),o="",this.$refs.SQLEditor[0].getSQLIsUpdate()&&(r=!1,o="请先执行或校验SQL"),r){e.next=16;break}return this.handleNodeClick({id:"2",label:"模型设计",type:"modelDesign"},null),this.$message({type:"info",message:o}),e.abrupt("return",null);case 16:if(0==this.sqlEditorParamObj.arr.length){e.next=21;break}if(n=this.$refs.apple.getParamsSetting(),n.verify){e.next=21;break}return this.$message({type:"info",message:n.message}),e.abrupt("return",null);case 21:e.next=41;break;case 23:if(void 0==this.$refs.graph){e.next=39;break}if(n=this.$refs.graph[0].getParamsArr(),"002003002"!=this.form.modelType){e.next=37;break}if(s=!0,l=this.getGraphObj(),l){e.next=32;break}return e.abrupt("return",null);case 32:return i=this.columnData,e.next=35,this.$refs.graph[0].saveModelGraph().then((function(e){e.isError&&(s=!1,S.$message({type:"error",message:e.message})),S.form.graphUuid=e.graphUuid}));case 35:if(s){e.next=37;break}return e.abrupt("return",null);case 37:e.next=41;break;case 39:t=!1,this.handleNodeClick({id:"2",label:"模型设计",type:"modelDesign"},null);case 41:if(t){e.next=43;break}return e.abrupt("return",null);case 43:for(u=0,c=0;c<i.length;c++)void 0==i[c].isShow&&(i[c].isShow=1,i[c].columnOrder=++u);if(this.form.modelOutputColumn=i,void 0!=n&&0!=n.length){for(d=n.paramSettingArr,h=[],f=0;f<d.length;f++)p={ammParamUuid:d[f].copyParamId,resourceType:1,paramValue:JSON.stringify(d[f]),paramSort:d[f].sort,moduleParamId:d[f].moduleParamId},h.push(p);this.form.parammModelRel=h}m=!0,g=[],e.t0=regeneratorRuntime.keys(this.modelDetails);case 50:if((e.t1=e.t0()).done){e.next=63;break}if(v=e.t1.value,y=this.$refs.child[v].getObj(),void 0!=y.verResult){e.next=57;break}g.push(y),e.next=61;break;case 57:return m=!1,b={id:y.treeId,type:"relDetail"},this.handleNodeClick(b,null),e.abrupt("break",63);case 61:e.next=50;break;case 63:if(m){e.next=65;break}return e.abrupt("return");case 65:for(x in this.form.modelDetailRelation=g,this.form.modelChartSetup=this.modelChartSetup,this.form.modelOriginalTable=this.modelOriginalTable,A=!0,w=[],this.filterShows)C=this.$refs.modelFilterSHowChild[x].getForm(),void 0==C.verResult?w.push(C):(k={id:C.treeId,type:"filterShowNode"},this.handleNodeClick(k,null),A=!1);if(A){e.next=73;break}return e.abrupt("return",null);case 73:return this.form.resultFilterShow=w,e.abrupt("return",this.form);case 75:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSqlObj:function(){var e=this.$refs.SQLEditor[0].getSaveInfo();if(void 0!=e){var t=this.changeParamDataFormat(e.params,1),n=this.changeColumnDataFormat(e.columnNames,e.columnTypes),i=this.changeOriginalTable(e.modelOriginalTable),a={sqlValue:e.sqlValue,params:t,column:n,modelChartSetup:e.modelChartSetup,modelOriginalTable:i};this.form.sqlValue=a.sqlValue,this.form.graphUuid="",0!=e.params.length?(this.paramShowVIf=!0,this.sqlEditorParam=e.params):this.paramShowVIf=!1,this.sqlEditorParamObj={arr:e.params};for(var r=[],o=0;o<a.column.length;o++){var s={outputColumnName:a.column[o].columnName,columnType:a.column[o].columnType};r.push(s)}this.columnData=r,this.modelOriginalTable=a.modelOriginalTable,this.modelChartSetup=a.modelChartSetup,this.form.locationName=e.locationName,this.form.locationUuid=e.locationUuid}},getGraphObj:function(){if(""!==this.form.modelType&&void 0!==this.$refs.graph){var e=this.$refs.graph[0].getResultColumnInfo();if(null!=this.graphColumnInfo){if(void 0==e)return!1;if(1==e.isError)return this.$message({type:"info",message:e.message}),!1;var t=this.contrastGraphColumnInfo(e);if(t)return!0}for(var n=[],i=0;i<e.finalTable.columnNameArr.length;i++){var a={outputColumnName:e.finalTable.columnNameArr[i],columnType:e.finalTable.columnTypeArr[i]};n.push(a)}var r=this.$refs.graph[0].getParamsArr();return 0!=r.length?(this.paramShowVIf=!0,this.sqlEditorParam=r):this.paramShowVIf=!1,this.graphColumnInfo=e,this.columnData=n,this.form.sqlValue="",!0}},contrastGraphColumnInfo:function(e){var t=this.graphColumnInfo.finalTable.columnNameArr,n=e.finalTable.columnNameArr;return t.sort().toString()===n.sort().toString()},changeParamDataFormat:function(e,t){if(void 0!=e&&null!=e){if(1==t){for(var n=[],i=0;i<e.length;i++){var a={ammParamUuid:e[i].moduleParamId,paramName:e[i].name,copyParamId:e[i].copyParamId,description:"",paramValue:""};n.push(a)}return n}if(2==t){for(var r={arr:[]},o=0;o<e.length;o++){var s="{#"+e[o].ammParamUuid+"#}",l=e[o].paramName,u=e[o].linkParamUuid,c="undefined"!==typeof e[o].ammParamChoice.allowedNull?e[o].ammParamChoice.allowedNull:1,d={id:s,name:l,moduleParamId:u,copyParamId:s,allowedNull:c};r.arr.push(d)}return r}}},changeColumnDataFormat:function(e,t){for(var n=[],i=0;i<e.length;i++){var a={columnName:e[i],columnType:t[i]};n.push(a)}return n},closeWinfrom:function(){this.$store.commit("aceState/setRightFooterTags",{type:"close",val:{name:this.formName,path:"/analysis/editorModel"}})},changeOriginalTable:function(e){for(var t=[],n=0;n<e.length;n++){var i={originalTableName:e[n].tableName,executionType:e[n].tableType};t.push(i)}return t},displaySQL:function(e){var t=e.sqlValue;$("#sqlValueView").html(t)},createDetail:function(e,t){if(0!=this.columnData.length){$("#drag").css("width",115),++this.modelDetailIndex;var n={id:"rel"+this.modelDetailIndex,label:"关联"+this.modelDetailIndex,children:[],pid:5,type:"relDetail"};void 0==t&&(t=this.$refs.tree.getCurrentNode()),t.children.push(n),this.modelDetails.push({id:"rel"+this.modelDetailIndex,data:[]}),this.newRelInfoValue=n,this.$refs.dragDiv.style.height=this.$refs.dragDiv.style.height+20}else this.$message({type:"info",message:"请先编写SQL，若已经编写则请执行或校验SQL!"})},createFilterShow:function(e,t){if(0!=this.columnData.length){$("#drag").css("width",115),++this.modelFilterShowIndex;var n={id:"filterShow"+this.modelFilterShowIndex,label:"条件显示"+this.modelFilterShowIndex,children:[],type:"filterShowNode"};void 0==t&&(t=this.$refs.tree.getCurrentNode()),t.children.push(n),this.filterShows.push({id:"filterShow"+this.modelFilterShowIndex,data:[]}),this.newFilterShowValue=n,this.$refs.dragDiv.style.height=this.$refs.dragDiv.style.height+20}else this.$message({type:"info",message:"请先编写SQL!"})},clear:function(){this.form={modelName:"",modelFolderUuid:"",modelFolderName:"",auditItemUuid:"",riskLevelUuid:"",auditIdeas:"",paramConditions:"",sqlValue:""},this.parammModelRel={},this.sqlObj={sqlValue:"",params:[],column:[]},this.businessColumnSelect=[],this.columnTypeSelect=[],this.selectTreeNode=null,this.modelDetails=[],this.modelDetailIndex=0,this.filterShows=[],this.treeNodeData=[{id:"1",label:"基本信息",type:"basicInfo"},{id:"2",label:"模型设计",type:"modelDesign"},{id:"3",label:"参数默认值",type:"paramDefaultValue"},{id:"4",label:"模型结果输出列",type:"modelResultOutputCol"},{id:"5",label:"关联详细",type:"relInfo",children:[]},{id:"6",label:"图表配置",type:"chartConfig"},{id:"7",label:"条件展示",type:"filterShow",children:[]}]},deleteFolder:function(e,t){var n=e.parent,i=n.data.children||n.data,a=i.findIndex((function(e){return e.id===t.id}));if(i.splice(a,1),"relDetail"===t.type)for(var r=0;r<this.modelDetails.length;r++){var o=this.modelDetails[r].id;if(o==t.id){this.modelDetails.splice(r,1);break}}else if("filterShowNode"===t.type)for(var s=0;s<this.filterShows.length;s++){var l=this.filterShows[s].id;if(l===t.id){this.filterShows.splice(s,1);break}}},updateTreeNode:function(e){this.currentSelectTreeNode.label=e},displayData:function(e){for(var t=[],n=0;n<e.modelOutputColumn.length;n++){var i={outputColumnName:e.modelOutputColumn[n].columnName,outputColumnType:e.modelOutputColumn[n].columnType};t.push(i)}this.columnData=t,this.form=e;for(var a=[],r=0;r<e.parammModelRel.length;r++)""!==e.parammModelRel[r].paramValue&&a.push(JSON.parse(e.parammModelRel[r].paramValue));var o={};o.arr=a;var s={};if(s.params=o,this.sqlEditorParamObj=o,s.sqlValue=this.form.sqlValue,0!=s.params.arr.length&&this.$refs.apple.initSetting(a),this.columnData=e.modelOutputColumn,this.form.modelType===this.graphEditorStr){this.graphColumnInfo={finalTable:{columnNameArr:[]}};for(var l=0;l<this.columnData.length;l++)this.graphColumnInfo.finalTable.columnNameArr.push(this.columnData[l].outputColumnName)}for(var u=this.treeNodeData[4],c=0;c<e.modelDetailRelation.length;c++){++this.modelDetailIndex;var d={id:"rel"+this.modelDetailIndex,label:e.modelDetailRelation[c].modelDetailName,children:[],pid:5,type:"relDetail"};u.children.push(d),this.modelDetails.push({id:"rel"+this.modelDetailIndex,data:e.modelDetailRelation[c]})}this.modelOriginalTable=e.modelOriginalTable;for(var h=this.treeNodeData[6],f=0;f<e.resultFilterShow.length;f++){++this.modelFilterShowIndex;var p={id:"filterShow"+this.modelFilterShowIndex,label:e.resultFilterShow[f].filterName,children:[],type:"filterShowNode"};h.children.push(p),this.filterShows.push({id:"filterShow"+this.modelFilterShowIndex,data:e.resultFilterShow[f]})}this.displaySQL(s)},showAuditItemTree:function(){this.auditItemTree=!0},getAuditItem:function(){var e=this.$refs.auditItemTreeRef.getTree(),t=e.getCheckedNodes()[0];this.form.auditItemUuid=t.id,this.form.auditItemName=t.label,this.auditItemTree=!1},modelTypeChangeEvent:function(e){if(this.modelTypeObj=[],e===this.sqlEditorStr){var t={id:this.sqlEditorStr};this.modelTypeObj.push(t)}if(e==this.graphEditorStr){var n={id:this.graphEditorStr};this.modelTypeObj.push(n),this.$nextTick((function(){$("#graphDiv").css({height:function(){return $(this).parent().parent().height()}})}))}},setBusinessFolder:function(){var e=this.$refs.modelFolderTree.getSelectNode();void 0!=e.id?0!=e.pid&&null!=e.pid&&void 0!=e.pid?(this.form.modelFolderUuid=e.id,this.form.modelFolderName=e.label,this.modelFolderTreeDialog=!1):this.$message({type:"info",message:"不允许建立在根目录"}):this.$message({type:"info",message:"请选择业务分类"})},save:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getModelObj();case 2:if(t=e.sent,null!=t){e.next=5;break}return e.abrupt("return");case 5:this.editorModelLoading=!0,this.isUpdate?(0,u.updateModel)(t).then((function(e){n.editorModelLoading=!1,0===e.code?(n.$notify({title:"提示",message:"修改成功",type:"success",duration:2e3,position:"bottom-right"}),n.closeWinfrom()):n.$message({type:"error",message:"修改模型失败!"})})):(0,u.saveModel)(t).then((function(e){n.editorModelLoading=!1,0===e.code?(n.$notify({title:"提示",message:"新增成功",type:"success",duration:2e3,position:"bottom-right"}),n.closeWinfrom()):n.$message({type:"error",message:"新增模型失败!"})}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initEvent:function(){var e=document.getElementById("drag"),t=this.byClass("title",e)[0],n=this.byClass("resizeL",e)[0],i=this.byClass("resizeT",e)[0],a=this.byClass("resizeR",e)[0],r=this.byClass("resizeB",e)[0],o=this.byClass("resizeLT",e)[0],s=this.byClass("resizeTR",e)[0],l=this.byClass("resizeBR",e)[0],u=this.byClass("resizeLB",e)[0];this.drag(e,t),this.resize(e,o,!0,!0,!1,!1),this.resize(e,s,!1,!0,!1,!1),this.resize(e,l,!1,!1,!1,!1),this.resize(e,u,!0,!1,!1,!1),this.resize(e,n,!0,!1,!1,!0),this.resize(e,i,!1,!0,!0,!1),this.resize(e,a,!1,!1,!1,!0),this.resize(e,r,!1,!1,!0,!1)},drag:function(e,t){var n=0,i=0,a=this.byClass("min",e)[0],r=this.byClass("max",e)[0],o=this.byClass("revert",e)[0],s=this.byClass("close",e)[0];t=t||e,t.style.cursor="move",t.onmousedown=function(t){t=t||window.event;return i=t.clientX-e.offsetLeft,n=t.clientY-e.offsetTop,document.onmousemove=function(t){t=t||window.event;var a=t.clientX-i,r=t.clientY-n,o=document.documentElement.clientWidth-e.offsetWidth,s=document.documentElement.clientHeight-e.offsetHeight;return a<=0&&(a=0),r<=0&&(r=0),a>=o&&(a=o),r>=s&&(r=s),e.style.left=a+"px",e.style.top=r+"px",!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,this.releaseCapture&&this.releaseCapture()},this.setCapture&&this.setCapture(),!1},r.onclick=function(){e.style.top=e.style.left=0,e.style.width=document.documentElement.clientWidth-2+"px",e.style.height=document.documentElement.clientHeight-2+"px",this.style.display="none",o.style.display="block"},o.onclick=function(){e.style.width=this.dragMinWidth+"px",e.style.height=this.dragMinHeight+"px",e.style.left=(document.documentElement.clientWidth-e.offsetWidth)/2+"px",e.style.top=(document.documentElement.clientHeight-e.offsetHeight)/2+"px",this.style.display="none",r.style.display="block"},a.onclick=s.onclick=function(){e.style.display="none";var t=document.createElement("a");t.className="open",t.href="javascript:;",t.title="还原",document.body.appendChild(t),t.onclick=function(){e.style.display="block",document.body.removeChild(this),this.onclick=null}},a.onmousedown=r.onmousedown=s.onmousedown=function(e){this.onfocus=function(){this.blur()},(e||window.event).cancelBubble=!0}},resize:function(e,t,n,i,a,r){t.onmousedown=function(o){o=o||window.event;var s=o.clientX-t.offsetLeft,l=o.clientY-t.offsetTop,u=e.offsetTop,c=e.offsetLeft,d=e.offsetWidth,h=e.offsetHeight;return document.onmousemove=function(o){o=o||window.event;var f=o.clientX-s,p=o.clientY-l,m=document.documentElement.clientWidth-e.offsetLeft-2,g=document.documentElement.clientHeight-e.offsetTop-2,v=n?d-f:t.offsetWidth+f,y=i?h-p:t.offsetHeight+p;return n&&(e.style.left=c+f+"px"),i&&(e.style.top=u+p+"px"),v<this.dragMinWidth&&(v=this.dragMinWidth),v>m&&(v=m),a||(e.style.width=v+"px"),y<this.dragMinHeight&&(y=this.dragMinHeight),y>g&&(y=g),r||(e.style.height=y+"px"),(n&&v==this.dragMinWidth||i&&y==this.dragMinHeight)&&(document.onmousemove=null),!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null},!1}},byId:function(e){return"string"===typeof e?document.getElementById(e):e},byClass:function(e,t){for(var n=[],i=new RegExp("(^| )"+e+"( |$)"),a=this.byTagName("*",t),r=0;r<a.length;r++)i.test(a[r].className)&&n.push(a[r]);return n},byTagName:function(e,t){return(t||document).getElementsByTagName(e)},customclose:function(){var e=document.getElementById("drag");e.style.display="none"},customup:function(){var e=document.getElementsByClassName("el-tree")[0],t=document.getElementsByClassName("custom-xiala")[0],n=document.getElementsByClassName("custom-shouqi")[0];e.style.display="none",n.style.display="none",t.style.display="inline-block"},customdown:function(){var e=document.getElementsByClassName("el-tree")[0],t=document.getElementsByClassName("custom-xiala")[0],n=document.getElementsByClassName("custom-shouqi")[0];e.style.display="block",n.style.display="inline-block",t.style.display="none"}}};t.default=A},"7faa":function(e,t,n){"use strict";n.r(t);var i=n("ae9f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"803d":function(e,t,n){"use strict";n("ff4a")},8102:function(module,exports,__webpack_require__){__webpack_require__("7514"),__webpack_require__("a481"),__webpack_require__("28a5"),__webpack_require__("6b54");var _typeof=__webpack_require__("7037");__webpack_require__("7f7f"),function(q){var H,I,J,K,L,M,u,r={},v={},w={},N={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},x=[function(e){var t=e.treeObj,n=f.event;t.bind(n.NODECREATED,(function(t,n,i){j.apply(e.callback.onNodeCreated,[t,n,i])})),t.bind(n.CLICK,(function(t,n,i,a,r){j.apply(e.callback.onClick,[n,i,a,r])})),t.bind(n.EXPAND,(function(t,n,i){j.apply(e.callback.onExpand,[t,n,i])})),t.bind(n.COLLAPSE,(function(t,n,i){j.apply(e.callback.onCollapse,[t,n,i])})),t.bind(n.ASYNC_SUCCESS,(function(t,n,i,a){j.apply(e.callback.onAsyncSuccess,[t,n,i,a])})),t.bind(n.ASYNC_ERROR,(function(t,n,i,a,r,o){j.apply(e.callback.onAsyncError,[t,n,i,a,r,o])})),t.bind(n.REMOVE,(function(t,n,i){j.apply(e.callback.onRemove,[t,n,i])})),t.bind(n.SELECTED,(function(t,n,i){j.apply(e.callback.onSelected,[n,i])})),t.bind(n.UNSELECTED,(function(t,n,i){j.apply(e.callback.onUnSelected,[n,i])}))}],y=[function(e){var t=f.event;e.treeObj.unbind(t.NODECREATED).unbind(t.CLICK).unbind(t.EXPAND).unbind(t.COLLAPSE).unbind(t.ASYNC_SUCCESS).unbind(t.ASYNC_ERROR).unbind(t.REMOVE).unbind(t.SELECTED).unbind(t.UNSELECTED)}],z=[function(e){var t=h.getCache(e);t||(t={},h.setCache(e,t)),t.nodes=[],t.doms=[]}],A=[function(e,t,n,i,a,r){if(n){var o=h.getRoot(e),s=e.data.key.children;n.level=t,n.tId=e.treeId+"_"+ ++o.zId,n.parentTId=i?i.tId:null,n.open="string"==typeof n.open?j.eqs(n.open,"true"):!!n.open,n[s]&&n[s].length>0?(n.isParent=!0,n.zAsync=!0):(n.isParent="string"==typeof n.isParent?j.eqs(n.isParent,"true"):!!n.isParent,n.open=!(!n.isParent||e.async.enable)&&n.open,n.zAsync=!n.isParent),n.isFirstNode=a,n.isLastNode=r,n.getParentNode=function(){return h.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return h.getPreNode(e,n)},n.getNextNode=function(){return h.getNextNode(e,n)},n.getIndex=function(){return h.getNodeIndex(e,n)},n.getPath=function(){return h.getNodePath(e,n)},n.isAjaxing=!1,h.fixPIdKeyValue(e,n)}}],t=[function(e){var t=e.target,n=h.getSetting(e.data.treeId),i="",a=null,r="",o="",s=null,l=null,u=null;if(j.eqs(e.type,"mousedown")?o="mousedown":j.eqs(e.type,"mouseup")?o="mouseup":j.eqs(e.type,"contextmenu")?o="contextmenu":j.eqs(e.type,"click")?j.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+f.id.SWITCH)?(i=j.getNodeMainDom(t).id,r="switchNode"):(u=j.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(i=j.getNodeMainDom(u).id,r="clickNode"):j.eqs(e.type,"dblclick")&&(o="dblclick",u=j.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(i=j.getNodeMainDom(u).id,r="switchNode"),o.length>0&&0==i.length&&(u=j.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(i=j.getNodeMainDom(u).id),i.length>0)switch(a=h.getNodeCache(n,i),r){case"switchNode":a.isParent&&(j.eqs(e.type,"click")||j.eqs(e.type,"dblclick")&&j.apply(n.view.dblClickExpand,[n.treeId,a],n.view.dblClickExpand))?s=H:r="";break;case"clickNode":s=I}switch(o){case"mousedown":l=J;break;case"mouseup":l=K;break;case"dblclick":l=L;break;case"contextmenu":l=M}return{stop:!1,node:a,nodeEventType:r,nodeEventCallback:s,treeEventType:o,treeEventCallback:l}}],B=[function(e){var t=h.getRoot(e);t||(t={},h.setRoot(e,t)),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()}],C=[],D=[],E=[],F=[],G=[],h={addNodeCache:function(e,t){h.getCache(e).nodes[h.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){D.push(e)},addBeforeA:function(e){C.push(e)},addInnerAfterA:function(e){F.push(e)},addInnerBeforeA:function(e){E.push(e)},addInitBind:function(e){x.push(e)},addInitUnBind:function(e){y.push(e)},addInitCache:function(e){z.push(e)},addInitNode:function(e){A.push(e)},addInitProxy:function(e,n){n?t.splice(0,0,e):t.push(e)},addInitRoot:function(e){B.push(e)},addNodesData:function(e,t,n,a){var r=e.data.key.children;t[r]?n>=t[r].length&&(n=-1):(t[r]=[],n=-1),t[r].length>0&&0===n?(t[r][0].isFirstNode=!1,i.setNodeLineIcos(e,t[r][0])):t[r].length>0&&n<0&&(t[r][t[r].length-1].isLastNode=!1,i.setNodeLineIcos(e,t[r][t[r].length-1])),t.isParent=!0,n<0?t[r]=t[r].concat(a):(e=[n,0].concat(a),t[r].splice.apply(t[r],e))},addSelectedNode:function(e,t){var n=h.getRoot(e);h.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){(e.callback.onNodeCreated||e.view.addDiyDom)&&h.getRoot(e).createdNodes.push(t)},addZTreeTools:function(e){G.push(e)},exSetting:function(e){q.extend(!0,N,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var i=0,a=D.length;i<a;i++)D[i].apply(this,arguments)},getBeforeA:function(e,t,n){for(var i=0,a=C.length;i<a;i++)C[i].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var i=0,a=F.length;i<a;i++)F[i].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var i=0,a=E.length;i<a;i++)E[i].apply(this,arguments)},getCache:function(e){return w[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var n=e.data.key.children,i=t.parentTId?t.getParentNode():h.getRoot(e),a=0,r=i[n].length-1;a<=r;a++)if(i[n][a]===t)return a;return-1},getNextNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,i=t.parentTId?t.getParentNode():h.getRoot(e),a=0,r=i[n].length-1;a<=r;a++)if(i[n][a]===t)return a==r?null:i[n][a+1];return null},getNodeByParam:function(e,t,n,i){if(!t||!n)return null;for(var a=e.data.key.children,r=0,o=t.length;r<o;r++){if(t[r][n]==i)return t[r];var s=h.getNodeByParam(e,t[r][a],n,i);if(s)return s}return null},getNodeCache:function(e,t){if(!t)return null;var n=w[e.treeId].nodes[h.getNodeCacheId(t)];return n||null},getNodeName:function(e,t){return""+t[e.data.key.name]},getNodePath:function(e,t){return t?((n=t.parentTId?t.getParentNode().getPath():[])&&n.push(t),n):null;var n},getNodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},getNodes:function(e){return h.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,n,i){if(!t||!n)return[];for(var a=e.data.key.children,r=[],o=0,s=t.length;o<s;o++)t[o][n]==i&&r.push(t[o]),r=r.concat(h.getNodesByParam(e,t[o][a],n,i));return r},getNodesByParamFuzzy:function(e,t,n,i){if(!t||!n)return[];for(var a=e.data.key.children,r=[],o=(i=i.toLowerCase(),0),s=t.length;o<s;o++)"string"==typeof t[o][n]&&t[o][n].toLowerCase().indexOf(i)>-1&&r.push(t[o]),r=r.concat(h.getNodesByParamFuzzy(e,t[o][a],n,i));return r},getNodesByFilter:function(e,t,n,i,a){if(!t)return i?null:[];for(var r=e.data.key.children,o=i?null:[],s=0,l=t.length;s<l;s++){if(j.apply(n,[t[s],a],!1)){if(i)return t[s];o.push(t[s])}var u=h.getNodesByFilter(e,t[s][r],n,i,a);if(i&&u)return u;o=i?u:o.concat(u)}return o},getPreNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,i=t.parentTId?t.getParentNode():h.getRoot(e),a=0,r=i[n].length;a<r;a++)if(i[n][a]===t)return 0==a?null:i[n][a-1];return null},getRoot:function(e){return e?v[e.treeId]:null},getRoots:function(){return v},getSetting:function(e){return r[e]},getSettings:function(){return r},getZTreeTools:function(e){return(e=this.getRoot(this.getSetting(e)))?e.treeTools:null},initCache:function(e){for(var t=0,n=z.length;t<n;t++)z[t].apply(this,arguments)},initNode:function(e,t,n,i,a,r){for(var o=0,s=A.length;o<s;o++)A[o].apply(this,arguments)},initRoot:function(e){for(var t=0,n=B.length;t<n;t++)B[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=h.getRoot(e),i=0,a=n.curSelectedList.length;i<a;i++)if(t===n.curSelectedList[i])return!0;return!1},removeNodeCache:function(e,t){var n=e.data.key.children;if(t[n])for(var i=0,a=t[n].length;i<a;i++)arguments.callee(e,t[n][i]);h.getCache(e).nodes[h.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=h.getRoot(e),i=0,a=n.curSelectedList.length;i<a;i++)t!==n.curSelectedList[i]&&h.getNodeCache(e,n.curSelectedList[i].tId)||(n.curSelectedList.splice(i,1),e.treeObj.trigger(f.event.UNSELECTED,[e.treeId,t]),i--,a--)},setCache:function(e,t){w[e.treeId]=t},setRoot:function(e,t){v[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,i=G.length;n<i;n++)G[n].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var n=e.data.key.children,i=[];if(j.isArray(t))for(var a=0,r=t.length;a<r;a++)i.push(t[a]),t[a][n]&&(i=i.concat(h.transformToArrayFormat(e,t[a][n])));else i.push(t),t[n]&&(i=i.concat(h.transformToArrayFormat(e,t[n])));return i},transformTozTreeFormat:function(e,t){var n,i,a=e.data.simpleData.idKey,r=e.data.simpleData.pIdKey,o=e.data.key.children;if(!a||""==a||!t)return[];if(j.isArray(t)){var s=[],l=[];for(n=0,i=t.length;n<i;n++)l[t[n][a]]=t[n];for(n=0,i=t.length;n<i;n++)l[t[n][r]]&&t[n][a]!=t[n][r]?(l[t[n][r]][o]||(l[t[n][r]][o]=[]),l[t[n][r]][o].push(t[n])):s.push(t[n]);return s}return[t]}},l={bindEvent:function(e){for(var t=0,n=x.length;t<n;t++)x[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=y.length;t<n;t++)y[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",u).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,l.proxy),n.bind("dblclick",t,l.proxy),n.bind("mouseover",t,l.proxy),n.bind("mouseout",t,l.proxy),n.bind("mousedown",t,l.proxy),n.bind("mouseup",t,l.proxy),n.bind("contextmenu",t,l.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",u).unbind("click",l.proxy).unbind("dblclick",l.proxy).unbind("mouseover",l.proxy).unbind("mouseout",l.proxy).unbind("mousedown",l.proxy).unbind("mouseup",l.proxy).unbind("contextmenu",l.proxy)},doProxy:function(e){for(var n=[],i=0,a=t.length;i<a;i++){var r=t[i].apply(this,arguments);if(n.push(r),r.stop)break}return n},proxy:function(e){var t=h.getSetting(e.data.treeId);if(!j.uCanDo(t,e))return!0;t=l.doProxy(e);for(var n=!0,i=0,a=t.length;i<a;i++){var r=t[i];r.nodeEventCallback&&(n=r.nodeEventCallback.apply(r,[e,r.node])&&n),r.treeEventCallback&&(n=r.treeEventCallback.apply(r,[e,r.node])&&n)}return n}};H=function(e,t){var n=h.getSetting(e.data.treeId);if(t.open){if(0==j.apply(n.callback.beforeCollapse,[n.treeId,t],!0))return!0}else if(0==j.apply(n.callback.beforeExpand,[n.treeId,t],!0))return!0;return h.getRoot(n).expandTriggerFlag=!0,i.switchNode(n,t),!0},I=function(e,t){var n=h.getSetting(e.data.treeId),a=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&h.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==j.apply(n.callback.beforeClick,[n.treeId,t,a],!0)||(0===a?i.cancelPreSelectedNode(n,t):i.selectNode(n,t,2===a),n.treeObj.trigger(f.event.CLICK,[e,n.treeId,t,a])),!0},J=function(e,t){var n=h.getSetting(e.data.treeId);return j.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&j.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},K=function(e,t){var n=h.getSetting(e.data.treeId);return j.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&j.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},L=function(e,t){var n=h.getSetting(e.data.treeId);return j.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&j.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},M=function(e,t){var n=h.getSetting(e.data.treeId);return j.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&j.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick},u=function(e){return e=e.originalEvent.srcElement.nodeName.toLowerCase(),"input"===e||"textarea"===e};var j={apply:function(e,t,n){return"function"==typeof e?e.apply(O,t||[]):n},canAsync:function(e,t){var n=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[n]&&t[n].length>0)},clone:function(e){if(null===e)return null;var t,n=j.isArray(e)?[]:{};for(t in e)n[t]=e[t]instanceof Date?new Date(e[t].getTime()):"object"===_typeof(e[t])?arguments.callee(e[t]):e[t];return n},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?q(e,n?n.treeObj.get(0).ownerDocument:null):q("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var i=0,a=n.length;t.tagName&&i<a;i++)if(j.eqs(t.tagName,n[i].tagName)&&null!==t.getAttribute(n[i].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return q(e).parent("li").get(0)||q(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return q(e).closest("#"+t).length>0},uCanDo:function(){return!0}},i={addNodes:function(e,t,n,a,r){if(!e.data.keep.leaf||!t||t.isParent)if(j.isArray(a)||(a=[a]),e.data.simpleData.enable&&(a=h.transformTozTreeFormat(e,a)),t){var o=k(t,f.id.SWITCH,e),s=k(t,f.id.ICON,e),l=k(t,f.id.UL,e);t.open||(i.replaceSwitchClass(t,o,f.folder.CLOSE),i.replaceIcoClass(t,s,f.folder.CLOSE),t.open=!1,l.css({display:"none"})),h.addNodesData(e,t,n,a),i.createNodes(e,t.level+1,a,t,n),r||i.expandCollapseParentNode(e,t,!0)}else h.addNodesData(e,h.getRoot(e),n,a),i.createNodes(e,0,a,null,n)},appendNodes:function(e,t,n,a,r,o,s){if(!n)return[];var l,u,c=[],d=e.data.key.children,f=(a||h.getRoot(e))[d];(!f||r>=f.length)&&(r=-1);for(var p=0,m=n.length;p<m;p++){var g=n[p];o&&(l=(0===r||f.length==n.length)&&0==p,u=r<0&&p==n.length-1,h.initNode(e,t,g,a,l,u,s),h.addNodeCache(e,g)),l=[],g[d]&&g[d].length>0&&(l=i.appendNodes(e,t+1,g[d],g,-1,o,s&&g.open)),s&&(i.makeDOMNodeMainBefore(c,e,g),i.makeDOMNodeLine(c,e,g),h.getBeforeA(e,g,c),i.makeDOMNodeNameBefore(c,e,g),h.getInnerBeforeA(e,g,c),i.makeDOMNodeIcon(c,e,g),h.getInnerAfterA(e,g,c),i.makeDOMNodeNameAfter(c,e,g),h.getAfterA(e,g,c),g.isParent&&g.open&&i.makeUlHtml(e,g,c,l.join("")),i.makeDOMNodeMainAfter(c,e,g),h.addCreatedNode(e,g))}return c},appendParentULDom:function(e,t){var n=[],a=k(t,e);!a.get(0)&&t.parentTId&&(i.appendParentULDom(e,t.getParentNode()),a=k(t,e));var r=k(t,f.id.UL,e);r.get(0)&&r.remove(),r=i.appendNodes(e,t.level+1,t[e.data.key.children],t,-1,!1,!0),i.makeUlHtml(e,t,n,r.join("")),a.append(n.join(""))},asyncNode:function asyncNode(b,a,c,d){var e,g;if(a&&!a.isParent)return j.apply(d),!1;if(a&&a.isAjaxing)return!1;if(0==j.apply(b.callback.beforeAsync,[b.treeId,a],!0))return j.apply(d),!1;a&&(a.isAjaxing=!0,k(a,f.id.ICON,b).attr({style:"",class:f.className.BUTTON+" "+f.className.ICO_LOADING}));var n={};for(e=0,g=b.async.autoParam.length;a&&e<g;e++){var o=b.async.autoParam[e].split("="),m=o;o.length>1&&(m=o[1],o=o[0]),n[m]=a[o]}if(j.isArray(b.async.otherParam))for(e=0,g=b.async.otherParam.length;e<g;e+=2)n[b.async.otherParam[e]]=b.async.otherParam[e+1];else for(var l in b.async.otherParam)n[l]=b.async.otherParam[l];var P=h.getRoot(b)._ver;return q.ajax({contentType:b.async.contentType,cache:!1,type:b.async.type,url:j.apply(b.async.url,[b.treeId,a],b.async.url),data:n,dataType:b.async.dataType,success:function success(e){if(P==h.getRoot(b)._ver){var g=[];try{g=e&&0!=e.length?"string"==typeof e?eval("("+e+")"):e:[]}catch(n){g=e}a&&(a.isAjaxing=null,a.zAsync=!0),i.setNodeLineIcos(b,a),g&&""!==g?(g=j.apply(b.async.dataFilter,[b.treeId,a,g],g),i.addNodes(b,a,-1,g?j.clone(g):[],!!c)):i.addNodes(b,a,-1,[],!!c),b.treeObj.trigger(f.event.ASYNC_SUCCESS,[b.treeId,a,e]),j.apply(d)}},error:function(e,t,n){P==h.getRoot(b)._ver&&(a&&(a.isAjaxing=null),i.setNodeLineIcos(b,a),b.treeObj.trigger(f.event.ASYNC_ERROR,[b.treeId,a,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){var i,a,r=h.getRoot(e).curSelectedList;for(i=r.length-1;i>=0;i--)if(a=r[i],t===a||!t&&(!n||n!==a)){if(k(a,f.id.A,e).removeClass(f.node.CURSELECTED),t){h.removeSelectedNode(e,t);break}r.splice(i,1),e.treeObj.trigger(f.event.UNSELECTED,[e.treeId,a])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=h.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();j.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(f.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,a,r){if(n&&0!=n.length){var o=h.getRoot(e),s=e.data.key.children;s=!a||a.open||!!k(a[s][0],e).get(0);o.createdNodes=[];var l,u;t=i.appendNodes(e,t,n,a,r,!0,s);a?(a=k(a,f.id.UL,e),a.get(0)&&(l=a)):l=e.treeObj,l&&(r>=0&&(u=l.children()[r]),r>=0&&u?q(u).before(t.join("")):l.append(t.join(""))),i.createNodeCallback(e)}},destroy:function(e){e&&(h.initCache(e),h.initRoot(e),l.unbindTree(e),l.unbindEvent(e),e.treeObj.empty(),delete r[e.treeId])},expandCollapseNode:function(e,t,n,a,r){var o=h.getRoot(e),s=e.data.key.children;if(t){if(o.expandTriggerFlag){var l=r;r=function(){l&&l(),t.open?e.treeObj.trigger(f.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(f.event.COLLAPSE,[e.treeId,t])};o.expandTriggerFlag=!1}if(!t.open&&t.isParent&&(!k(t,f.id.UL,e).get(0)||t[s]&&t[s].length>0&&!k(t[s][0],e).get(0))&&(i.appendParentULDom(e,t),i.createNodeCallback(e)),t.open==n)j.apply(r,[]);else{n=k(t,f.id.UL,e),o=k(t,f.id.SWITCH,e);var u=k(t,f.id.ICON,e);t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&u.attr("style",i.makeNodeIcoStyle(e,t)),t.open?(i.replaceSwitchClass(t,o,f.folder.OPEN),i.replaceIcoClass(t,u,f.folder.OPEN),0==a||""==e.view.expandSpeed?(n.show(),j.apply(r,[])):t[s]&&t[s].length>0?n.slideDown(e.view.expandSpeed,r):(n.show(),j.apply(r,[]))):(i.replaceSwitchClass(t,o,f.folder.CLOSE),i.replaceIcoClass(t,u,f.folder.CLOSE),0!=a&&""!=e.view.expandSpeed&&t[s]&&t[s].length>0?n.slideUp(e.view.expandSpeed,r):(n.hide(),j.apply(r,[])))):j.apply(r,[])}}else j.apply(r,[])},expandCollapseParentNode:function(e,t,n,a,r){t&&(t.parentTId?(i.expandCollapseNode(e,t,n,a),t.parentTId&&i.expandCollapseParentNode(e,t.getParentNode(),n,a,r)):i.expandCollapseNode(e,t,n,a,r))},expandCollapseSonNode:function(e,t,n,a,r){var o=h.getRoot(e),s=e.data.key.children,l=(o=t?t[s]:o[s],s=!t&&a,h.getRoot(e).expandTriggerFlag);if(h.getRoot(e).expandTriggerFlag=!1,o)for(var u=0,c=o.length;u<c;u++)o[u]&&i.expandCollapseSonNode(e,o[u],n,s);h.getRoot(e).expandTriggerFlag=l,i.expandCollapseNode(e,t,n,a,r)},isSelectedNode:function(e,t){if(!t)return!1;var n,i=h.getRoot(e).curSelectedList;for(n=i.length-1;n>=0;n--)if(t===i[n])return!0;return!1},makeDOMNodeIcon:function(e,t,n){var a=h.getNodeName(t,n);a=t.view.nameIsHTML?a:a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,f.id.ICON,"' title='' treeNode",f.id.ICON," class='",i.makeNodeIcoClass(t,n),"' style='",i.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,f.id.SPAN,"' class='",f.className.NAME,"'>",a,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,f.id.SWITCH,"' title='' class='",i.makeNodeLineClass(t,n),"' treeNode",f.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",f.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var a,r=h.getNodeTitle(t,n),o=i.makeNodeUrl(t,n),s=i.makeNodeFontCss(t,n),l=[];for(a in s)l.push(a,":",s[a],";");e.push("<a id='",n.tId,f.id.A,"' class='",f.className.LEVEL,n.level,"' treeNode",f.id.A,' onclick="',n.click||"",'" ',null!=o&&o.length>0?"href='"+o+"'":""," target='",i.makeNodeTarget(n),"' style='",l.join(""),"'"),j.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&r&&e.push("title='",r.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=j.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeIcoClass:function(e,t){var n=["ico"];return t.isAjaxing||(n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],t.isParent?n.push(t.open?f.folder.OPEN:f.folder.CLOSE):n.push(f.folder.DOCU)),f.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var i=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];i&&n.push("background:url(",i,") 0 0 no-repeat;"),(0==e.view.showIcon||!j.apply(e.view.showIcon,[e.treeId,t],!0))&&n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?n.push(f.line.ROOT):0==t.level&&t.isFirstNode?n.push(f.line.ROOTS):t.isLastNode?n.push(f.line.BOTTOM):n.push(f.line.CENTER):n.push(f.line.NOLINE),t.isParent?n.push(t.open?f.folder.OPEN:f.folder.CLOSE):n.push(f.folder.DOCU),i.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return f.className.BUTTON+" "+f.className.LEVEL+e.level+" "+f.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,a){n.push("<ul id='",t.tId,f.id.UL,"' class='",f.className.LEVEL,t.level," ",i.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(a),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?f.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=e.data.key.children,a=t[n];if(a){for(var r=0,o=a.length;r<o;r++)h.removeNodeCache(e,a[r]);h.removeSelectedNode(e),delete t[n],e.data.keep.parent?k(t,f.id.UL,e).empty():(t.isParent=!1,t.open=!1,n=k(t,f.id.SWITCH,e),a=k(t,f.id.ICON,e),i.replaceSwitchClass(t,n,f.folder.DOCU),i.replaceIcoClass(t,a,f.folder.DOCU),k(t,f.id.UL,e).remove())}}},setFirstNode:function(e,t){var n=e.data.key.children;t[n].length>0&&(t[n][0].isFirstNode=!0)},setLastNode:function(e,t){var n=e.data.key.children,i=t[n].length;i>0&&(t[n][i-1].isLastNode=!0)},removeNode:function(e,t){var n=h.getRoot(e),a=e.data.key.children,r=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},h.getNodeCache(e,t.tId)){k(t,e).remove(),h.removeNodeCache(e,t),h.removeSelectedNode(e,t);for(var o=0,s=r[a].length;o<s;o++)if(r[a][o].tId==t.tId){r[a].splice(o,1);break}i.setFirstNode(e,r),i.setLastNode(e,r);var l;o=r[a].length;if(e.data.keep.parent||0!=o){if(e.view.showLine&&o>0){var u=r[a][o-1];o=k(u,f.id.UL,e),s=k(u,f.id.SWITCH,e);l=k(u,f.id.ICON,e),r==n?1==r[a].length?i.replaceSwitchClass(u,s,f.line.ROOT):(n=k(r[a][0],f.id.SWITCH,e),i.replaceSwitchClass(r[a][0],n,f.line.ROOTS),i.replaceSwitchClass(u,s,f.line.BOTTOM)):i.replaceSwitchClass(u,s,f.line.BOTTOM),o.removeClass(f.line.LINE)}}else r.isParent=!1,r.open=!1,o=k(r,f.id.UL,e),s=k(r,f.id.SWITCH,e),l=k(r,f.id.ICON,e),i.replaceSwitchClass(r,s,f.folder.DOCU),i.replaceIcoClass(r,l,f.folder.DOCU),o.css("display","none")}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing&&(e=t.attr("class"),void 0!=e)){switch(e=e.split("_"),n){case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:e[e.length-1]=n}t.attr("class",e.join("_"))}},replaceSwitchClass:function(e,t,n){if(t){var a=t.attr("class");if(void 0!=a){switch(a=a.split("_"),n){case f.line.ROOT:case f.line.ROOTS:case f.line.CENTER:case f.line.BOTTOM:case f.line.NOLINE:a[0]=i.makeNodeLineClassEx(e)+n;break;case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:a[1]=n}t.attr("class",a.join("_")),n!==f.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||i.cancelPreSelectedNode(e,null,t),k(t,f.id.A,e).addClass(f.node.CURSELECTED),h.addSelectedNode(e,t),e.treeObj.trigger(f.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var n=k(t,f.id.A,e),a=i.makeNodeFontCss(e,t);a&&n.css(a)},setNodeLineIcos:function(e,t){if(t){var n=k(t,f.id.SWITCH,e),a=k(t,f.id.UL,e),r=k(t,f.id.ICON,e),o=i.makeUlLineClass(e,t);0==o.length?a.removeClass(f.line.LINE):a.addClass(o),n.attr("class",i.makeNodeLineClass(e,t)),t.isParent?n.removeAttr("disabled"):n.attr("disabled","disabled"),r.removeAttr("style"),r.attr("style",i.makeNodeIcoStyle(e,t)),r.attr("class",i.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=h.getNodeTitle(e,t),i=k(t,f.id.SPAN,e);i.empty(),e.view.nameIsHTML?i.html(h.getNodeName(e,t)):i.text(h.getNodeName(e,t)),j.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)&&k(t,f.id.A,e).attr("title",n||"")},setNodeTarget:function(e,t){k(t,f.id.A,e).attr("target",i.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=k(t,f.id.A,e),a=i.makeNodeUrl(e,t);null==a||0==a.length?n.removeAttr("href"):n.attr("href",a)},switchNode:function(e,t){t.open||!j.canAsync(e,t)?i.expandCollapseNode(e,t,!t.open):e.async.enable?i.asyncNode(e,t)||i.expandCollapseNode(e,t,!t.open):t&&i.expandCollapseNode(e,t,!t.open)}};q.fn.zTree={consts:{className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_z:{tools:j,view:i,event:l,data:h},getZTreeObj:function(e){return(e=h.getZTreeTools(e))?e:null},destroy:function(e){if(e&&e.length>0)i.destroy(h.getSetting(e));else for(var t in r)i.destroy(r[t])},init:function(e,t,n){var a=j.clone(N);return q.extend(!0,a,t),a.treeId=e.attr("id"),a.treeObj=e,a.treeObj.empty(),r[a.treeId]=a,"undefined"===typeof document.body.style.maxHeight&&(a.view.expandSpeed=""),h.initRoot(a),e=h.getRoot(a),t=a.data.key.children,n=n?j.clone(j.isArray(n)?n:[n]):[],e[t]=a.data.simpleData.enable?h.transformTozTreeFormat(a,n):n,h.initCache(a),l.unbindTree(a),l.bindTree(a),l.unbindEvent(a),l.bindEvent(a),n={setting:a,addNodes:function(e,t,n,r){function o(){i.addNodes(a,e,t,l,1==r)}if(e||(e=null),e&&!e.isParent&&a.data.keep.leaf)return null;var s=parseInt(t,10);if(isNaN(s)?(r=!!n,n=t,t=-1):t=s,!n)return null;var l=j.clone(j.isArray(n)?n:[n]);return j.canAsync(a,e)?i.asyncNode(a,e,r,o):o(),l},cancelSelectedNode:function(e){i.cancelPreSelectedNode(a,e)},destroy:function(){i.destroy(a)},expandAll:function(e){return e=!!e,i.expandCollapseSonNode(a,null,e,!0),e},expandNode:function(e,t,n,r,o){function s(){var t=k(e,a).get(0);if(t&&!1!==r)if(t.scrollIntoView)t.scrollIntoView(!1);else try{t.focus().blur()}catch(n){}}return e&&e.isParent?(!0!==t&&!1!==t&&(t=!e.open),(o=!!o)&&t&&0==j.apply(a.callback.beforeExpand,[a.treeId,e],!0)||o&&!t&&0==j.apply(a.callback.beforeCollapse,[a.treeId,e],!0)?null:(t&&e.parentTId&&i.expandCollapseParentNode(a,e.getParentNode(),t,!1),t!==e.open||n?(h.getRoot(a).expandTriggerFlag=o,!j.canAsync(a,e)&&n?i.expandCollapseSonNode(a,e,t,!0,s):(e.open=!t,i.switchNode(this.setting,e),s()),t):null)):null},getNodes:function(){return h.getNodes(a)},getNodeByParam:function(e,t,n){return e?h.getNodeByParam(a,n?n[a.data.key.children]:h.getNodes(a),e,t):null},getNodeByTId:function(e){return h.getNodeCache(a,e)},getNodesByParam:function(e,t,n){return e?h.getNodesByParam(a,n?n[a.data.key.children]:h.getNodes(a),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?h.getNodesByParamFuzzy(a,n?n[a.data.key.children]:h.getNodes(a),e,t):null},getNodesByFilter:function(e,t,n,i){return t=!!t,e&&"function"==typeof e?h.getNodesByFilter(a,n?n[a.data.key.children]:h.getNodes(a),e,t,i):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=a.data.key.children,n=e.parentTId?e.getParentNode():h.getRoot(a),i=0,r=n[t].length;i<r;i++)if(n[t][i]==e)return i;return-1},getSelectedNodes:function(){for(var e=[],t=h.getRoot(a).curSelectedList,n=0,i=t.length;n<i;n++)e.push(t[n]);return e},isSelectedNode:function(e){return h.isSelectedNode(a,e)},reAsyncChildNodes:function(e,t,n){if(this.setting.async.enable){var r=!e;if(r&&(e=h.getRoot(a)),"refresh"==t){t=this.setting.data.key.children;for(var o=0,s=e[t]?e[t].length:0;o<s;o++)h.removeNodeCache(a,e[t][o]);h.removeSelectedNode(a),e[t]=[],r?this.setting.treeObj.empty():k(e,f.id.UL,a).empty()}i.asyncNode(this.setting,r?null:e,!!n)}},refresh:function(){this.setting.treeObj.empty();var e=h.getRoot(a),t=e[a.data.key.children];h.initRoot(a),e[a.data.key.children]=t,h.initCache(a),i.createNodes(a,0,e[a.data.key.children],null,-1)},removeChildNodes:function(e){if(!e)return null;var t=e[a.data.key.children];return i.removeChildNodes(a,e),t||null},removeNode:function(e,t){e&&(t=!!t,t&&0==j.apply(a.callback.beforeRemove,[a.treeId,e],!0)||(i.removeNode(a,e),t&&this.setting.treeObj.trigger(f.event.REMOVE,[a.treeId,e])))},selectNode:function(e,t){function n(){var t=k(e,a).get(0);if(t)if(t.scrollIntoView)t.scrollIntoView(!1);else try{t.focus().blur()}catch(f){}}if(e&&j.uCanDo(a)){if(t=a.view.selectedMulti&&t,e.parentTId)i.expandCollapseParentNode(a,e.getParentNode(),!0,!1,n);else try{k(e,a).focus().blur()}catch(f){}i.selectNode(a,e,t)}},transformTozTreeNodes:function(e){return h.transformTozTreeFormat(a,e)},transformToArray:function(e){return h.transformToArrayFormat(a,e)},updateNode:function(e){e&&k(e,a).get(0)&&j.uCanDo(a)&&(i.setNodeName(a,e),i.setNodeTarget(a,e),i.setNodeUrl(a,e),i.setNodeLineIcos(a,e),i.setNodeFontCss(a,e))}},e.treeTools=n,h.setZTreeTools(a,n),e[t]&&e[t].length>0?i.createNodes(a,0,e[t],null,-1):a.async.enable&&a.async.url&&""!==a.async.url&&i.asyncNode(a),n}};var O=q.fn.zTree,k=j.$,f=O.consts}(jQuery),function(e){var t,n,i,a={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},r={check:{enable:!1,autoCheckTrigger:!1,chkStyle:a.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:a.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}};t=function(e,t){if(!0===t.chkDisabled)return!1;var n=u.getSetting(e.data.treeId),i=n.data.key.checked;return 0==o.apply(n.callback.beforeCheck,[n.treeId,t],!0)||(t[i]=!t[i],l.checkNodeRelation(n,t),i=c(t,s.id.CHECK,n),l.setChkClass(n,i,t),l.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(s.event.CHECK,[e,n.treeId,t])),!0},n=function(e,t){if(!0===t.chkDisabled)return!1;var n=u.getSetting(e.data.treeId),i=c(t,s.id.CHECK,n);return t.check_Focus=!0,l.setChkClass(n,i,t),!0},i=function(e,t){if(!0===t.chkDisabled)return!1;var n=u.getSetting(e.data.treeId),i=c(t,s.id.CHECK,n);return t.check_Focus=!1,l.setChkClass(n,i,t),!0},e.extend(!0,e.fn.zTree.consts,a),e.extend(!0,e.fn.zTree._z,{tools:{},view:{checkNodeRelation:function(e,t){var n,i,a,r=e.data.key.children,o=e.data.key.checked;if(n=s.radio,e.check.chkStyle==n.STYLE){var d=u.getRadioCheckedList(e);if(t[o])if(e.check.radioType==n.TYPE_ALL){for(i=d.length-1;i>=0;i--)n=d[i],n[o]&&n!=t&&(n[o]=!1,d.splice(i,1),l.setChkClass(e,c(n,s.id.CHECK,e),n),n.parentTId!=t.parentTId&&l.repairParentChkClassWithSelf(e,n));d.push(t)}else for(d=t.parentTId?t.getParentNode():u.getRoot(e),i=0,a=d[r].length;i<a;i++)n=d[r][i],n[o]&&n!=t&&(n[o]=!1,l.setChkClass(e,c(n,s.id.CHECK,e),n));else if(e.check.radioType==n.TYPE_ALL)for(i=0,a=d.length;i<a;i++)if(t==d[i]){d.splice(i,1);break}}else t[o]&&(!t[r]||0==t[r].length||e.check.chkboxType.Y.indexOf("s")>-1)&&l.setSonNodeCheckBox(e,t,!0),!t[o]&&(!t[r]||0==t[r].length||e.check.chkboxType.N.indexOf("s")>-1)&&l.setSonNodeCheckBox(e,t,!1),t[o]&&e.check.chkboxType.Y.indexOf("p")>-1&&l.setParentNodeCheckBox(e,t,!0),!t[o]&&e.check.chkboxType.N.indexOf("p")>-1&&l.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var n=e.data.key.checked,i=s.checkbox,a=s.radio,r="";r=!0===t.chkDisabled?i.DISABLED:t.halfCheck?i.PART:e.check.chkStyle==a.STYLE?t.check_Child_State<1?i.FULL:i.PART:t[n]?2===t.check_Child_State||-1===t.check_Child_State?i.FULL:i.PART:t.check_Child_State<1?i.FULL:i.PART,n=e.check.chkStyle+"_"+(t[n]?i.TRUE:i.FALSE)+"_"+r,n=t.check_Focus&&!0!==t.chkDisabled?n+"_"+i.FOCUS:n;return s.className.BUTTON+" "+i.DEFAULT+" "+n},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===s.checkbox.STYLE)for(var n=e.data.key.checked,i=e.data.key.children,a=u.getRoot(e),r=0,o=a[i].length;r<o;r++){var c=a[i][r];!0!==c.nocheck&&!0!==c.chkDisabled&&(c[n]=t),l.setSonNodeCheckBox(e,c,t)}},repairChkClass:function(e,t){if(t&&(u.makeChkFlag(e,t),!0!==t.nocheck)){var n=c(t,s.id.CHECK,e);l.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();l.repairChkClass(e,n),l.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=e.data.key.children;t[n]&&t[n].length>0?l.repairParentChkClass(e,t[n][0]):l.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,i){if(t){var a=e.data.key.children;if(t.chkDisabled!=n&&(t.chkDisabled=n),l.repairChkClass(e,t),t[a]&&i)for(var r=0,o=t[a].length;r<o;r++)l.repairSonChkDisabled(e,t[a][r],n,i)}},repairParentChkDisabled:function(e,t,n,i){t&&(t.chkDisabled!=n&&i&&(t.chkDisabled=n),l.repairChkClass(e,t),l.repairParentChkDisabled(e,t.getParentNode(),n,i))},setChkClass:function(e,t,n){t&&(!0===n.nocheck?t.hide():t.show(),t.attr("class",l.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,i){var a=e.data.key.children,r=e.data.key.checked,o=c(t,s.id.CHECK,e);if(i||(i=t),u.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(t[r]=n,l.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=i&&e.treeObj.trigger(s.event.CHECK,[null,e.treeId,t])),t.parentTId){if(o=!0,!n){a=t.getParentNode()[a];for(var d=0,h=a.length;d<h;d++)if(!0!==a[d].nocheck&&!0!==a[d].chkDisabled&&a[d][r]||(!0===a[d].nocheck||!0===a[d].chkDisabled)&&a[d].check_Child_State>0){o=!1;break}}o&&l.setParentNodeCheckBox(e,t.getParentNode(),n,i)}},setSonNodeCheckBox:function(e,t,n,i){if(t){var a=e.data.key.children,r=e.data.key.checked,o=c(t,s.id.CHECK,e);i||(i=t);var d=!1;if(t[a])for(var h=0,f=t[a].length;h<f;h++){var p=t[a][h];l.setSonNodeCheckBox(e,p,n,i),!0===p.chkDisabled&&(d=!0)}t!=u.getRoot(e)&&!0!==t.chkDisabled&&(d&&!0!==t.nocheck&&u.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(t[r]=n,d||(t.check_Child_State=t[a]&&t[a].length>0?n?2:0:-1)):t.check_Child_State=-1,l.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=i&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(s.event.CHECK,[null,e.treeId,t]))}}},event:{},data:{getRadioCheckedList:function(e){for(var t=u.getRoot(e).radioCheckedList,n=0,i=t.length;n<i;n++)u.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,i--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=e.data.key.checked;return{checked:t[n],half:t.halfCheck?t.halfCheck:e.check.chkStyle==s.radio.STYLE?2===t.check_Child_State:t[n]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,n,i){if(!t)return[];for(var a=e.data.key.children,r=e.data.key.checked,o=n&&e.check.chkStyle==s.radio.STYLE&&e.check.radioType==s.radio.TYPE_ALL,l=(i=i||[],0),c=t.length;l<c;l++){if(!0!==t[l].nocheck&&!0!==t[l].chkDisabled&&t[l][r]==n&&(i.push(t[l]),o))break;if(u.getTreeCheckedNodes(e,t[l][a],n,i),o&&i.length>0)break}return i},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];for(var i=e.data.key.children,a=e.data.key.checked,r=(n=n||[],0),o=t.length;r<o;r++)!0!==t[r].nocheck&&!0!==t[r].chkDisabled&&t[r][a]!=t[r].checkedOld&&n.push(t[r]),u.getTreeChangeCheckedNodes(e,t[r][i],n);return n},makeChkFlag:function(e,t){if(t){var n=e.data.key.children,i=e.data.key.checked,a=-1;if(t[n])for(var r=0,o=t[n].length;r<o;r++){var l=t[n][r],u=-1;if(e.check.chkStyle==s.radio.STYLE){if(u=!0===l.nocheck||!0===l.chkDisabled?l.check_Child_State:!0===l.halfCheck||l[i]||l.check_Child_State>0?2:0,2==u){a=2;break}0==u&&(a=0)}else if(e.check.chkStyle==s.checkbox.STYLE){if(u=!0===l.nocheck||!0===l.chkDisabled?l.check_Child_State:!0===l.halfCheck?1:l[i]?-1===l.check_Child_State||2===l.check_Child_State?2:1:l.check_Child_State>0?1:0,1===u){a=1;break}if(2===u&&a>-1&&r>0&&u!==a){a=1;break}if(2===a&&u>-1&&u<2){a=1;break}u>-1&&(a=u)}}t.check_Child_State=a}}}});e=e.fn.zTree;var o=e._z.tools,s=e.consts,l=e._z.view,u=e._z.data,c=o.$;u.exSetting(r),u.addInitBind((function(e){e.treeObj.bind(s.event.CHECK,(function(t,n,i,a){t.srcEvent=n,o.apply(e.callback.onCheck,[t,i,a])}))})),u.addInitUnBind((function(e){e.treeObj.unbind(s.event.CHECK)})),u.addInitCache((function(){})),u.addInitNode((function(e,t,n,i){n&&(t=e.data.key.checked,"string"==typeof n[t]&&(n[t]=o.eqs(n[t],"true")),n[t]=!!n[t],n.checkedOld=n[t],"string"==typeof n.nocheck&&(n.nocheck=o.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&i&&!!i.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=o.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&i&&!!i.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=o.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return u.getCheckStatus(e,n)},e.check.chkStyle==s.radio.STYLE&&e.check.radioType==s.radio.TYPE_ALL&&n[t]&&u.getRoot(e).radioCheckedList.push(n))})),u.addInitProxy((function(e){var a=e.target,r=u.getSetting(e.data.treeId),l="",c=null,d="",h=null;if(o.eqs(e.type,"mouseover")?r.check.enable&&o.eqs(a.tagName,"span")&&null!==a.getAttribute("treeNode"+s.id.CHECK)&&(l=o.getNodeMainDom(a).id,d="mouseoverCheck"):o.eqs(e.type,"mouseout")?r.check.enable&&o.eqs(a.tagName,"span")&&null!==a.getAttribute("treeNode"+s.id.CHECK)&&(l=o.getNodeMainDom(a).id,d="mouseoutCheck"):o.eqs(e.type,"click")&&r.check.enable&&o.eqs(a.tagName,"span")&&null!==a.getAttribute("treeNode"+s.id.CHECK)&&(l=o.getNodeMainDom(a).id,d="checkNode"),l.length>0)switch(c=u.getNodeCache(r,l),d){case"checkNode":h=t;break;case"mouseoverCheck":h=n;break;case"mouseoutCheck":h=i}return{stop:"checkNode"===d,node:c,nodeEventType:d,nodeEventCallback:h,treeEventType:"",treeEventCallback:null}}),!0),u.addInitRoot((function(e){u.getRoot(e).radioCheckedList=[]})),u.addBeforeA((function(e,t,n){e.check.enable&&(u.makeChkFlag(e,t),n.push("<span ID='",t.tId,s.id.CHECK,"' class='",l.makeChkClass(e,t),"' treeNode",s.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))})),u.addZTreeTools((function(e,t){t.checkNode=function(e,t,n,i){var a=this.setting.data.key.checked;!0===e.chkDisabled||(!0!==t&&!1!==t&&(t=!e[a]),i=!!i,e[a]===t&&!n||i&&0==o.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0)||!o.uCanDo(this.setting)||!this.setting.check.enable||!0===e.nocheck)||(e[a]=t,t=c(e,s.id.CHECK,this.setting),(n||this.setting.check.chkStyle===s.radio.STYLE)&&l.checkNodeRelation(this.setting,e),l.setChkClass(this.setting,t,e),l.repairParentChkClassWithSelf(this.setting,e),i&&this.setting.treeObj.trigger(s.event.CHECK,[null,this.setting.treeId,e]))},t.checkAllNodes=function(e){l.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(e){var t=this.setting.data.key.children;return u.getTreeCheckedNodes(this.setting,u.getRoot(this.setting)[t],!1!==e)},t.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return u.getTreeChangeCheckedNodes(this.setting,u.getRoot(this.setting)[e])},t.setChkDisabled=function(e,t,n,i){t=!!t,n=!!n,l.repairSonChkDisabled(this.setting,e,t,!!i),l.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,i){if(n&&n.apply(t,arguments),e&&this.setting.check.enable&&c(e,this.setting).get(0)&&o.uCanDo(this.setting)){var a=c(e,s.id.CHECK,this.setting);(1==i||this.setting.check.chkStyle===s.radio.STYLE)&&l.checkNodeRelation(this.setting,e),l.setChkClass(this.setting,a,e),l.repairParentChkClassWithSelf(this.setting,e)}}}));var d=l.createNodes;l.createNodes=function(e,t,n,i,a){d&&d.apply(l,arguments),n&&l.repairParentChkClassWithSelf(e,i)};var h=l.removeNode;l.removeNode=function(e,t){var n=t.getParentNode();h&&h.apply(l,arguments),t&&n&&(l.repairChkClass(e,n),l.repairParentChkClass(e,n))};var f=l.appendNodes;l.appendNodes=function(e,t,n,i,a,r,o){var s="";return f&&(s=f.apply(l,arguments)),i&&u.makeChkFlag(e,i),s}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={onHoverOverNode:function(e,t){var i=s.getSetting(e.data.treeId),a=s.getRoot(i);a.curHoverNode!=t&&n.onHoverOutNode(e),a.curHoverNode=t,o.addHoverDom(i,t)},onHoverOutNode:function(e){e=s.getSetting(e.data.treeId);var t=s.getRoot(e);t.curHoverNode&&!s.isSelectedNode(e,t.curHoverNode)&&(o.removeTreeDom(e,t.curHoverNode),t.curHoverNode=null)},onMousedownNode:function(n,i){function u(n){if(0==m.dragFlag&&Math.abs(E-n.clientX)<p.edit.drag.minMoveSize&&Math.abs(R-n.clientY)<p.edit.drag.minMoveSize)return!0;var i,u,d,h,f;if(f=p.data.key.children,T.css("cursor","pointer"),0==m.dragFlag){if(0==a.apply(p.callback.beforeDrag,[p.treeId,b],!0))return c(n),!0;for(i=0,u=b.length;i<u;i++)0==i&&(m.dragNodeShowBefore=[]),d=b[i],d.isParent&&d.open?(o.expandCollapseNode(p,d,!d.open),m.dragNodeShowBefore[d.tId]=!0):m.dragNodeShowBefore[d.tId]=!1;if(m.dragFlag=1,g.showHoverDom=!1,a.showIfameMask(p,!0),d=!0,h=-1,b.length>1){var v=b[0].parentTId?b[0].getParentNode()[f]:s.getNodes(p);for(f=[],i=0,u=v.length;i<u;i++)if(void 0!==m.dragNodeShowBefore[v[i].tId]&&(d&&h>-1&&h+1!==i&&(d=!1),f.push(v[i]),h=i),b.length===f.length){b=f;break}}for(d&&(C=b[0].getPreNode(),k=b[b.length-1].getNextNode()),A=l("<ul class='zTreeDragUL'></ul>",p),i=0,u=b.length;i<u;i++)d=b[i],d.editNameFlag=!1,o.selectNode(p,d,i>0),o.removeTreeDom(p,d),i>p.edit.drag.maxShowNodeNum-1||(h=l("<li id='"+d.tId+"_tmp'></li>",p),h.append(l(d,r.id.A,p).clone()),h.css("padding","0"),h.children("#"+d.tId+r.id.A).removeClass(r.node.CURSELECTED),A.append(h),i==p.edit.drag.maxShowNodeNum-1&&(h=l("<li id='"+d.tId+"_moretmp'><a>  ...  </a></li>",p),A.append(h)));A.attr("id",b[0].tId+r.id.UL+"_tmp"),A.addClass(p.treeObj.attr("class")),A.appendTo(T),w=l("<span class='tmpzTreeMove_arrow'></span>",p),w.attr("id","zTreeMove_arrow_tmp"),w.appendTo(T),p.treeObj.trigger(r.event.DRAG,[n,p.treeId,b])}if(1==m.dragFlag){for(var y in x&&w.attr("id")==n.target.id&&O&&n.clientX+S.scrollLeft()+2>e("#"+O+r.id.A,x).offset().left?(d=e("#"+O+r.id.A,x),n.target=d.length>0?d.get(0):n.target):x&&(x.removeClass(r.node.TMPTARGET_TREE),O&&e("#"+O+r.id.A,x).removeClass(r.node.TMPTARGET_NODE+"_"+r.move.TYPE_PREV).removeClass(r.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(r.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),O=x=null,N=!1,I=p,d=s.getSettings(),d)d[y].treeId&&d[y].edit.enable&&d[y].treeId!=p.treeId&&(n.target.id==d[y].treeId||e(n.target).parents("#"+d[y].treeId).length>0)&&(N=!0,I=d[y]);y=S.scrollTop(),h=S.scrollLeft(),f=I.treeObj.offset(),i=I.treeObj.get(0).scrollHeight,d=I.treeObj.get(0).scrollWidth,u=n.clientY+y-f.top;var D=I.treeObj.height()+f.top-n.clientY-y,B=n.clientX+h-f.left,_=I.treeObj.width()+f.left-n.clientX-h;f=u<p.edit.drag.borderMax&&u>p.edit.drag.borderMin;v=D<p.edit.drag.borderMax&&D>p.edit.drag.borderMin;var V=B<p.edit.drag.borderMax&&B>p.edit.drag.borderMin,F=_<p.edit.drag.borderMax&&_>p.edit.drag.borderMin,U=(D=u>p.edit.drag.borderMin&&D>p.edit.drag.borderMin&&B>p.edit.drag.borderMin&&_>p.edit.drag.borderMin,B=f&&I.treeObj.scrollTop()<=0,_=v&&I.treeObj.scrollTop()+I.treeObj.height()+10>=i,V&&I.treeObj.scrollLeft()<=0),q=F&&I.treeObj.scrollLeft()+I.treeObj.width()+10>=d;if(n.target&&a.isChildOrSelf(n.target,I.treeId)){for(var z=n.target;z&&z.tagName&&!a.eqs(z.tagName,"li")&&z.id!=I.treeId;)z=z.parentNode;var Q=!0;for(i=0,u=b.length;i<u;i++){if(d=b[i],z.id===d.tId){Q=!1;break}if(l(d,p).find("#"+z.id).length>0){Q=!1;break}}Q&&n.target&&a.isChildOrSelf(n.target,z.id+r.id.A)&&(x=e(z),O=z.id)}if(d=b[0],D&&a.isChildOrSelf(n.target,I.treeId)&&(!x&&(n.target.id==I.treeId||B||_||U||q)&&(N||!N&&d.parentTId)&&(x=I.treeObj),f?I.treeObj.scrollTop(I.treeObj.scrollTop()-10):v&&I.treeObj.scrollTop(I.treeObj.scrollTop()+10),V?I.treeObj.scrollLeft(I.treeObj.scrollLeft()-10):F&&I.treeObj.scrollLeft(I.treeObj.scrollLeft()+10),x&&x!=I.treeObj&&x.offset().left<I.treeObj.offset().left&&I.treeObj.scrollLeft(I.treeObj.scrollLeft()+x.offset().left-I.treeObj.offset().left)),A.css({top:n.clientY+y+3+"px",left:n.clientX+h+3+"px"}),f=i=0,x&&x.attr("id")!=I.treeId){var $=null==O?null:s.getNodeCache(I,O);u=(n.ctrlKey||n.metaKey)&&p.edit.drag.isMove&&p.edit.drag.isCopy||!p.edit.drag.isMove&&p.edit.drag.isCopy,i=!(!C||O!==C.tId),f=!(!k||O!==k.tId),h=d.parentTId&&d.parentTId==O,d=(u||!f)&&a.apply(I.edit.drag.prev,[I.treeId,b,$],!!I.edit.drag.prev),i=(u||!i)&&a.apply(I.edit.drag.next,[I.treeId,b,$],!!I.edit.drag.next),F=(u||!h)&&!(I.data.keep.leaf&&!$.isParent)&&a.apply(I.edit.drag.inner,[I.treeId,b,$],!!I.edit.drag.inner),d||i||F?(u=e("#"+O+r.id.A,x),f=$.isLastNode?null:e("#"+$.getNextNode().tId+r.id.A,x.next()),v=u.offset().top,h=u.offset().left,V=d?F?.25:i?.5:1:-1,F=i?F?.75:d?.5:0:-1,y=(n.clientY+y-v)/u.height(),(1==V||y<=V&&y>=-.2)&&d?(i=1-w.width(),f=v-w.height()/2,M=r.move.TYPE_PREV):(0==F||y>=F&&y<=1.2)&&i?(i=1-w.width(),f=null==f||$.isParent&&$.open?v+u.height()-w.height()/2:f.offset().top-w.height()/2,M=r.move.TYPE_NEXT):(i=5-w.width(),f=v,M=r.move.TYPE_INNER),w.css({display:"block",top:f+"px",left:h+i+"px"}),u.addClass(r.node.TMPTARGET_NODE+"_"+M),P==O&&L==M||(j=(new Date).getTime()),$&&$.isParent&&M==r.move.TYPE_INNER&&(y=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==$.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===$.tId&&(y=!1),y)&&(window.zTreeMoveTimer=setTimeout((function(){M==r.move.TYPE_INNER&&$&&$.isParent&&!$.open&&(new Date).getTime()-j>I.edit.drag.autoOpenTime&&a.apply(I.callback.beforeDragOpen,[I.treeId,$],!0)&&(o.switchNode(I,$),I.edit.drag.autoExpandTrigger&&I.treeObj.trigger(r.event.EXPAND,[I.treeId,$]))}),I.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=$.tId)):(x=null,O="",M=r.move.TYPE_INNER,w.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null))}else M=r.move.TYPE_INNER,x&&a.apply(I.edit.drag.inner,[I.treeId,b,null],!!I.edit.drag.inner)?x.addClass(r.node.TMPTARGET_TREE):x=null,w.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);P=O,L=M,p.treeObj.trigger(r.event.DRAGMOVE,[n,p.treeId,b])}return!1}function c(n){if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),L=P=null,S.unbind("mousemove",u),S.unbind("mouseup",c),S.unbind("selectstart",d),T.css("cursor","auto"),x&&(x.removeClass(r.node.TMPTARGET_TREE),O&&e("#"+O+r.id.A,x).removeClass(r.node.TMPTARGET_NODE+"_"+r.move.TYPE_PREV).removeClass(r.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(r.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),a.showIfameMask(p,!1),g.showHoverDom=!0,0!=m.dragFlag){var i,h,f;for(m.dragFlag=0,i=0,h=b.length;i<h;i++)f=b[i],f.isParent&&m.dragNodeShowBefore[f.tId]&&!f.open&&(o.expandCollapseNode(p,f,!f.open),delete m.dragNodeShowBefore[f.tId]);A&&A.remove(),w&&w.remove();var v=(n.ctrlKey||n.metaKey)&&p.edit.drag.isMove&&p.edit.drag.isCopy||!p.edit.drag.isMove&&p.edit.drag.isCopy;if(!v&&x&&O&&b[0].parentTId&&O==b[0].parentTId&&M==r.move.TYPE_INNER&&(x=null),x){var y=null==O?null:s.getNodeCache(I,O);if(0==a.apply(p.callback.beforeDrop,[I.treeId,b,y,M,v],!0))o.selectNodes(D,b);else{var C=v?a.clone(b):b;i=function(){if(N){if(!v)for(var e=0,t=b.length;e<t;e++)o.removeNode(p,b[e]);M==r.move.TYPE_INNER?o.addNodes(I,y,-1,C):o.addNodes(I,y.getParentNode(),M==r.move.TYPE_PREV?y.getIndex():y.getIndex()+1,C)}else if(v&&M==r.move.TYPE_INNER)o.addNodes(I,y,-1,C);else if(v)o.addNodes(I,y.getParentNode(),M==r.move.TYPE_PREV?y.getIndex():y.getIndex()+1,C);else if(M!=r.move.TYPE_NEXT)for(e=0,t=C.length;e<t;e++)o.moveNode(I,y,C[e],M,!1);else for(e=-1,t=C.length-1;e<t;t--)o.moveNode(I,y,C[t],M,!1);if(o.selectNodes(I,C),e=l(C[0],p).get(0))if(e.scrollIntoView)e.scrollIntoView(!1);else try{e.focus().blur()}catch(c){}p.treeObj.trigger(r.event.DROP,[n,I.treeId,C,y,M,v])},M==r.move.TYPE_INNER&&a.canAsync(I,y)?o.asyncNode(I,y,!1,i):i()}}else o.selectNodes(D,b),p.treeObj.trigger(r.event.DROP,[n,p.treeId,b,null,null,null])}}function d(){return!1}var h,f,p=s.getSetting(n.data.treeId),m=s.getRoot(p),g=s.getRoots();if(2==n.button||!p.edit.enable||!p.edit.drag.isCopy&&!p.edit.drag.isMove)return!0;var v=n.target,y=s.getRoot(p).curSelectedList,b=[];if(s.isSelectedNode(p,i))for(h=0,f=y.length;h<f;h++){if(y[h].editNameFlag&&a.eqs(v.tagName,"input")&&null!==v.getAttribute("treeNode"+r.id.INPUT))return!0;if(b.push(y[h]),b[0].parentTId!==y[h].parentTId){b=[i];break}}else b=[i];o.editNodeBlur=!0,o.cancelCurEditNode(p);var A,w,x,C,k,S=e(p.treeObj.get(0).ownerDocument),T=e(p.treeObj.get(0).ownerDocument.body),N=!1,I=p,D=p,P=null,L=null,O=null,M=r.move.TYPE_INNER,E=n.clientX,R=n.clientY,j=(new Date).getTime();return a.uCanDo(p)&&S.bind("mousemove",u),S.bind("mouseup",c),S.bind("selectstart",d),n.preventDefault&&n.preventDefault(),!0}};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,{tools:{getAbs:function(e){return e=e.getBoundingClientRect(),[e.left+(document.body.scrollLeft+document.documentElement.scrollLeft),e.top+(document.body.scrollTop+document.documentElement.scrollTop)]},inputFocus:function(e){e.get(0)&&(e.focus(),a.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(e,t){for(var n=s.getRoot(e);n.dragMaskList.length>0;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var i=l("iframe",e),r=0,o=i.length;r<o;r++){var u=i.get(r),c=a.getAbs(u);u=l("<div id='zTreeMask_"+r+"' class='zTreeMask' style='top:"+c[1]+"px; left:"+c[0]+"px; width:"+u.offsetWidth+"px; height:"+u.offsetHeight+"px;'></div>",e);u.appendTo(l("body",e)),n.dragMaskList.push(u)}}},view:{addEditBtn:function(e,t){if(!(t.editNameFlag||l(t,r.id.EDIT,e).length>0)&&a.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var n=l(t,r.id.A,e),i="<span class='"+r.className.BUTTON+" edit' id='"+t.tId+r.id.EDIT+"' title='"+a.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+r.id.EDIT+" style='display:none;'></span>";n.append(i),l(t,r.id.EDIT,e).bind("click",(function(){return!(!a.uCanDo(e)||0==a.apply(e.callback.beforeEditName,[e.treeId,t],!0))&&(o.editNode(e,t),!1)})).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||l(t,r.id.REMOVE,e).length>0)&&a.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var n=l(t,r.id.A,e),i="<span class='"+r.className.BUTTON+" remove' id='"+t.tId+r.id.REMOVE+"' title='"+a.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+r.id.REMOVE+" style='display:none;'></span>";n.append(i),l(t,r.id.REMOVE,e).bind("click",(function(){return!(!a.uCanDo(e)||0==a.apply(e.callback.beforeRemove,[e.treeId,t],!0))&&(o.removeNode(e,t),e.treeObj.trigger(r.event.REMOVE,[e.treeId,t]),!1)})).bind("mousedown",(function(){return!0})).show()}},addHoverDom:function(e,t){s.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(o.addEditBtn(e,t),o.addRemoveBtn(e,t)),a.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var i=s.getRoot(e),u=e.data.key.name,c=i.curEditNode;if(c){var d=i.curEditInput;t=t||(n?c[u]:d.val());if(!1===a.apply(e.callback.beforeRename,[e.treeId,c,t,n],!0))return!1;c[u]=t,l(c,r.id.A,e).removeClass(r.node.CURSELECTED_EDIT),d.unbind(),o.setNodeName(e,c),c.editNameFlag=!1,i.curEditNode=null,i.curEditInput=null,o.selectNode(e,c,!1),e.treeObj.trigger(r.event.RENAME,[e.treeId,c,n])}return i.noSelection=!0},editNode:function(e,t){var n=s.getRoot(e);if(o.editNodeBlur=!1,s.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag)setTimeout((function(){a.inputFocus(n.curEditInput)}),0);else{var i=e.data.key.name;t.editNameFlag=!0,o.removeTreeDom(e,t),o.cancelCurEditNode(e),o.selectNode(e,t,!1),l(t,r.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+r.id.INPUT+"' treeNode"+r.id.INPUT+" >");var u=l(t,r.id.INPUT,e);u.attr("value",t[i]),e.edit.editNameSelectAll?a.inputSelect(u):a.inputFocus(u),u.bind("blur",(function(){o.editNodeBlur||o.cancelCurEditNode(e)})).bind("keydown",(function(t){"13"==t.keyCode?(o.editNodeBlur=!0,o.cancelCurEditNode(e)):"27"==t.keyCode&&o.cancelCurEditNode(e,null,!0)})).bind("click",(function(){return!1})).bind("dblclick",(function(){return!1})),l(t,r.id.A,e).addClass(r.node.CURSELECTED_EDIT),n.curEditInput=u,n.noSelection=!1,n.curEditNode=t}},moveNode:function(e,t,n,i,a,u){var c=s.getRoot(e),d=e.data.key.children;if(t!=n&&(!e.data.keep.leaf||!t||t.isParent||i!=r.move.TYPE_INNER)){var h,f=n.parentTId?n.getParentNode():c,p=null===t||t==c;p&&null===t&&(t=c),p&&(i=r.move.TYPE_INNER),c=t.parentTId?t.getParentNode():c,i!=r.move.TYPE_PREV&&i!=r.move.TYPE_NEXT&&(i=r.move.TYPE_INNER),i==r.move.TYPE_INNER&&(p?n.parentTId=null:(t.isParent||(t.isParent=!0,t.open=!!t.open,o.setNodeLineIcos(e,t)),n.parentTId=t.tId)),p?h=p=e.treeObj:(u||i!=r.move.TYPE_INNER?u||o.expandCollapseNode(e,t.getParentNode(),!0,!1):o.expandCollapseNode(e,t,!0,!1),p=l(t,e),h=l(t,r.id.UL,e),p.get(0)&&!h.get(0)&&(h=[],o.makeUlHtml(e,t,h,""),p.append(h.join(""))),h=l(t,r.id.UL,e));var m=l(n,e);m.get(0)?p.get(0)||m.remove():m=o.appendNodes(e,n.level,[n],null,-1,!1,!0).join(""),h.get(0)&&i==r.move.TYPE_INNER?h.append(m):p.get(0)&&i==r.move.TYPE_PREV?p.before(m):p.get(0)&&i==r.move.TYPE_NEXT&&p.after(m);var g=-1,v=0,y=null,b=(p=null,n.level);if(n.isFirstNode)g=0,f[d].length>1&&(y=f[d][1],y.isFirstNode=!0);else if(n.isLastNode)g=f[d].length-1,y=f[d][g-1],y.isLastNode=!0;else for(h=0,m=f[d].length;h<m;h++)if(f[d][h].tId==n.tId){g=h;break}if(g>=0&&f[d].splice(g,1),i!=r.move.TYPE_INNER)for(h=0,m=c[d].length;h<m;h++)c[d][h].tId==t.tId&&(v=h);i==r.move.TYPE_INNER?(t[d]||(t[d]=[]),t[d].length>0&&(p=t[d][t[d].length-1],p.isLastNode=!1),t[d].splice(t[d].length,0,n),n.isLastNode=!0,n.isFirstNode=1==t[d].length):t.isFirstNode&&i==r.move.TYPE_PREV?(c[d].splice(v,0,n),p=t,p.isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&i==r.move.TYPE_NEXT?(c[d].splice(v+1,0,n),p=t,p.isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(i==r.move.TYPE_PREV?c[d].splice(v,0,n):c[d].splice(v+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),s.fixPIdKeyValue(e,n),s.setSonNodeLevel(e,n.getParentNode(),n),o.setNodeLineIcos(e,n),o.repairNodeLevelClass(e,n,b),!e.data.keep.parent&&f[d].length<1?(f.isParent=!1,f.open=!1,t=l(f,r.id.UL,e),i=l(f,r.id.SWITCH,e),d=l(f,r.id.ICON,e),o.replaceSwitchClass(f,i,r.folder.DOCU),o.replaceIcoClass(f,d,r.folder.DOCU),t.css("display","none")):y&&o.setNodeLineIcos(e,y),p&&o.setNodeLineIcos(e,p),e.check&&e.check.enable&&o.repairChkClass&&(o.repairChkClass(e,f),o.repairParentChkClassWithSelf(e,f),f!=n.parent&&o.repairParentChkClassWithSelf(e,n)),u||o.expandCollapseParentNode(e,n.getParentNode(),!0,a)}},removeEditBtn:function(e,t){l(t,r.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){l(t,r.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,o.removeEditBtn(e,t),o.removeRemoveBtn(e,t),a.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){if(n!==t.level){var i=l(t,e),a=l(t,r.id.A,e);e=l(t,r.id.UL,e),n=r.className.LEVEL+n,t=r.className.LEVEL+t.level;i.removeClass(n),i.addClass(t),a.removeClass(n),a.addClass(t),e.removeClass(n),e.addClass(t)}},selectNodes:function(e,t){for(var n=0,i=t.length;n<i;n++)o.selectNode(e,t[n],n>0)}},event:{},data:{setSonNodeLevel:function(e,t,n){if(n){var i=e.data.key.children;if(n.level=t?t.level+1:0,n[i]){t=0;for(var a=n[i].length;t<a;t++)n[i][t]&&s.setSonNodeLevel(e,n,n[i][t])}}}}});var i=e.fn.zTree,a=i._z.tools,r=i.consts,o=i._z.view,s=i._z.data,l=a.$;s.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}}),s.addInitBind((function(e){var t=e.treeObj,n=r.event;t.bind(n.RENAME,(function(t,n,i,r){a.apply(e.callback.onRename,[t,n,i,r])})),t.bind(n.DRAG,(function(t,n,i,r){a.apply(e.callback.onDrag,[n,i,r])})),t.bind(n.DRAGMOVE,(function(t,n,i,r){a.apply(e.callback.onDragMove,[n,i,r])})),t.bind(n.DROP,(function(t,n,i,r,o,s,l){a.apply(e.callback.onDrop,[n,i,r,o,s,l])}))})),s.addInitUnBind((function(e){e=e.treeObj;var t=r.event;e.unbind(t.RENAME),e.unbind(t.DRAG),e.unbind(t.DRAGMOVE),e.unbind(t.DROP)})),s.addInitCache((function(){})),s.addInitNode((function(e,t,n){n&&(n.isHover=!1,n.editNameFlag=!1)})),s.addInitProxy((function(e){var t=e.target,i=s.getSetting(e.data.treeId),o=e.relatedTarget,l="",u=null,c="",d=null,h=null;if(a.eqs(e.type,"mouseover")?(h=a.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+r.id.A}]))&&(l=a.getNodeMainDom(h).id,c="hoverOverNode"):a.eqs(e.type,"mouseout")?(h=a.getMDom(i,o,[{tagName:"a",attrName:"treeNode"+r.id.A}]),h||(l="remove",c="hoverOutNode")):a.eqs(e.type,"mousedown")&&(h=a.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+r.id.A}]))&&(l=a.getNodeMainDom(h).id,c="mousedownNode"),l.length>0)switch(u=s.getNodeCache(i,l),c){case"mousedownNode":d=n.onMousedownNode;break;case"hoverOverNode":d=n.onHoverOverNode;break;case"hoverOutNode":d=n.onHoverOutNode}return{stop:!1,node:u,nodeEventType:c,nodeEventCallback:d,treeEventType:"",treeEventCallback:null}})),s.addInitRoot((function(e){e=s.getRoot(e);var t=s.getRoots();e.curEditNode=null,e.curEditInput=null,e.curHoverNode=null,e.dragFlag=0,e.dragNodeShowBefore=[],e.dragMaskList=[],t.showHoverDom=!0})),s.addZTreeTools((function(e,t){t.cancelEditName=function(e){s.getRoot(this.setting).curEditNode&&o.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(e,t,n,i){if(!t)return null;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===r.move.TYPE_INNER)return null;var s=this,l=a.clone(t);return e||(e=null,n=r.move.TYPE_INNER),n==r.move.TYPE_INNER?(t=function(){o.addNodes(s.setting,e,-1,[l],i)},a.canAsync(this.setting,e)?o.asyncNode(this.setting,e,i,t):t()):(o.addNodes(this.setting,e.parentNode,-1,[l],i),o.moveNode(this.setting,e,l,n,!1,i)),l},t.editName=function(e){e&&e.tId&&e===s.getNodeCache(this.setting,e.tId)&&(e.parentTId&&o.expandCollapseParentNode(this.setting,e.getParentNode(),!0),o.editNode(this.setting,e))},t.moveNode=function(e,t,n,i){function s(){o.moveNode(u.setting,e,t,n,!1,i)}if(!t)return t;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===r.move.TYPE_INNER)return null;if(e&&(t.parentTId==e.tId&&n==r.move.TYPE_INNER||l(t,this.setting).find("#"+e.tId).length>0))return null;e||(e=null);var u=this;return a.canAsync(this.setting,e)&&n===r.move.TYPE_INNER?o.asyncNode(this.setting,e,i,s):s(),t},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}}));var u=o.cancelPreSelectedNode;o.cancelPreSelectedNode=function(e,t){for(var n=s.getRoot(e).curSelectedList,i=0,a=n.length;i<a;i++)if((!t||t===n[i])&&(o.removeTreeDom(e,n[i]),t))break;u&&u.apply(o,arguments)};var c=o.createNodes;o.createNodes=function(e,t,n,i,a){c&&c.apply(o,arguments),n&&o.repairParentChkClassWithSelf&&o.repairParentChkClassWithSelf(e,i)};var d=o.makeNodeUrl;o.makeNodeUrl=function(e,t){return e.edit.enable?null:d.apply(o,arguments)};var h=o.removeNode;o.removeNode=function(e,t){var n=s.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),h&&h.apply(o,arguments)};var f=o.selectNode;o.selectNode=function(e,t,n){var i=s.getRoot(e);return(!s.isSelectedNode(e,t)||i.curEditNode!=t||!t.editNameFlag)&&(f&&f.apply(o,arguments),o.addHoverDom(e,t),!0)};var p=a.uCanDo;a.uCanDo=function(e,t){var n=s.getRoot(e);return!(!t||!(a.eqs(t.type,"mouseover")||a.eqs(t.type,"mouseout")||a.eqs(t.type,"mousedown")||a.eqs(t.type,"mouseup")))||(n.curEditNode&&(o.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(!p||p.apply(o,arguments)))}}(jQuery)},"812d":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},a=[]},8191:function(e,t){(function(e){e.extend(!0,e.fn.zTree._z,{view:{clearOldFirstNode:function(e,t){for(var n=t.getNextNode();n;){if(n.isFirstNode){n.isFirstNode=!1,i.setNodeLineIcos(e,n);break}if(n.isLastNode)break;n=n.getNextNode()}},clearOldLastNode:function(e,t,n){for(t=t.getPreNode();t;){if(t.isLastNode){t.isLastNode=!1,n&&i.setNodeLineIcos(e,t);break}if(t.isFirstNode)break;t=t.getPreNode()}},makeDOMNodeMainBefore:function(e,t,i){e.push("<li ",i.isHidden?"style='display:none;' ":"","id='",i.tId,"' class='",n.className.LEVEL,i.level,"' tabindex='0' hidefocus='true' treenode>")},showNode:function(e,t){t.isHidden=!1,a.initShowForExCheck(e,t),r(t,e).show()},showNodes:function(e,t,n){if(t&&0!=t.length){var r,o,s={};for(r=0,o=t.length;r<o;r++){var l=t[r];if(!s[l.parentTId]){var u=l.getParentNode();s[l.parentTId]=null===u?a.getRoot(e):l.getParentNode()}i.showNode(e,l,n)}for(var c in s)t=s[c][e.data.key.children],i.setFirstNodeForShow(e,t),i.setLastNodeForShow(e,t)}},hideNode:function(e,t){t.isHidden=!0,t.isFirstNode=!1,t.isLastNode=!1,a.initHideForExCheck(e,t),i.cancelPreSelectedNode(e,t),r(t,e).hide()},hideNodes:function(e,t,n){if(t&&0!=t.length){var r,o,s={};for(r=0,o=t.length;r<o;r++){var l=t[r];if((l.isFirstNode||l.isLastNode)&&!s[l.parentTId]){var u=l.getParentNode();s[l.parentTId]=null===u?a.getRoot(e):l.getParentNode()}i.hideNode(e,l,n)}for(var c in s)t=s[c][e.data.key.children],i.setFirstNodeForHide(e,t),i.setLastNodeForHide(e,t)}},setFirstNode:function(e,t){var n=e.data.key.children,a=t[n].length;a>0&&!t[n][0].isHidden?t[n][0].isFirstNode=!0:a>0&&i.setFirstNodeForHide(e,t[n])},setLastNode:function(e,t){var n=e.data.key.children,a=t[n].length;a>0&&!t[n][0].isHidden?t[n][a-1].isLastNode=!0:a>0&&i.setLastNodeForHide(e,t[n])},setFirstNodeForHide:function(e,t){var n,a,r;for(a=0,r=t.length;a<r;a++){if(n=t[a],n.isFirstNode)break;if(!n.isHidden&&!n.isFirstNode){n.isFirstNode=!0,i.setNodeLineIcos(e,n);break}n=null}return n},setFirstNodeForShow:function(e,t){var n,a,r,o,s;for(a=0,r=t.length;a<r;a++){if(n=t[a],!o&&!n.isHidden&&n.isFirstNode){o=n;break}if(o||n.isHidden||n.isFirstNode){if(o&&n.isFirstNode){n.isFirstNode=!1,s=n,i.setNodeLineIcos(e,n);break}}else n.isFirstNode=!0,o=n,i.setNodeLineIcos(e,n)}return{new:o,old:s}},setLastNodeForHide:function(e,t){var n,a;for(a=t.length-1;a>=0;a--){if(n=t[a],n.isLastNode)break;if(!n.isHidden&&!n.isLastNode){n.isLastNode=!0,i.setNodeLineIcos(e,n);break}n=null}return n},setLastNodeForShow:function(e,t){var n,a,r,o;for(a=t.length-1;a>=0;a--){if(n=t[a],!r&&!n.isHidden&&n.isLastNode){r=n;break}if(r||n.isHidden||n.isLastNode){if(r&&n.isLastNode){n.isLastNode=!1,o=n,i.setNodeLineIcos(e,n);break}}else n.isLastNode=!0,r=n,i.setNodeLineIcos(e,n)}return{new:r,old:o}}},data:{initHideForExCheck:function(e,t){t.isHidden&&e.check&&e.check.enable&&("undefined"==typeof t._nocheck&&(t._nocheck=!!t.nocheck,t.nocheck=!0),t.check_Child_State=-1,i.repairParentChkClassWithSelf&&i.repairParentChkClassWithSelf(e,t))},initShowForExCheck:function(e,t){if(!t.isHidden&&e.check&&e.check.enable){if("undefined"!=typeof t._nocheck&&(t.nocheck=t._nocheck,delete t._nocheck),i.setChkClass){var a=r(t,n.id.CHECK,e);i.setChkClass(e,a,t)}i.repairParentChkClassWithSelf&&i.repairParentChkClassWithSelf(e,t)}}}});e=e.fn.zTree;var t=e._z.tools,n=e.consts,i=e._z.view,a=e._z.data,r=t.$;a.addInitNode((function(e,n,i){"string"==typeof i.isHidden&&(i.isHidden=t.eqs(i.isHidden,"true")),i.isHidden=!!i.isHidden,a.initHideForExCheck(e,i)})),a.addBeforeA((function(){})),a.addZTreeTools((function(e,t){t.showNodes=function(t,n){i.showNodes(e,t,n)},t.showNode=function(t,n){t&&i.showNodes(e,[t],n)},t.hideNodes=function(t,n){i.hideNodes(e,t,n)},t.hideNode=function(t,n){t&&i.hideNodes(e,[t],n)};var n=t.checkNode;n&&(t.checkNode=function(e,i,a,r){(!e||!e.isHidden)&&n.apply(t,arguments)})}));var o=a.initNode;a.initNode=function(e,t,n,r,s,l,u){var c=(r||a.getRoot(e))[e.data.key.children];a.tmpHideFirstNode=i.setFirstNodeForHide(e,c),a.tmpHideLastNode=i.setLastNodeForHide(e,c),u&&(i.setNodeLineIcos(e,a.tmpHideFirstNode),i.setNodeLineIcos(e,a.tmpHideLastNode)),s=a.tmpHideFirstNode===n,l=a.tmpHideLastNode===n,o&&o.apply(a,arguments),u&&l&&i.clearOldLastNode(e,n,u)};var s=a.makeChkFlag;s&&(a.makeChkFlag=function(e,t){(!t||!t.isHidden)&&s.apply(a,arguments)});var l=a.getTreeCheckedNodes;l&&(a.getTreeCheckedNodes=function(e,t,n,i){if(t&&t.length>0){var r=t[0].getParentNode();if(r&&r.isHidden)return[]}return l.apply(a,arguments)});var u=a.getTreeChangeCheckedNodes;u&&(a.getTreeChangeCheckedNodes=function(e,t,n){if(t&&t.length>0){var i=t[0].getParentNode();if(i&&i.isHidden)return[]}return u.apply(a,arguments)});var c=i.expandCollapseSonNode;c&&(i.expandCollapseSonNode=function(e,t,n,a,r){(!t||!t.isHidden)&&c.apply(i,arguments)});var d=i.setSonNodeCheckBox;d&&(i.setSonNodeCheckBox=function(e,t,n,a){(!t||!t.isHidden)&&d.apply(i,arguments)});var h=i.repairParentChkClassWithSelf;h&&(i.repairParentChkClassWithSelf=function(e,t){(!t||!t.isHidden)&&h.apply(i,arguments)})})(jQuery)},"81f0":function(e,t,n){"use strict";n("8df1")},8279:function(e,t,n){"use strict";n.r(t);var i=n("8950"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"828b":function(e,t,n){"use strict";n("fd59")},"82a7":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("456d");var a=i(n("7037")),r=function e(t){if(Array.isArray(t))return t.map(e);if(t&&"object"===(0,a.default)(t)){for(var n={},i=Object.keys(t),r=0,o=i.length;r<o;r++){var s=i[r];n[s]=e(t[s])}return n}return t},o=r;t.default=o},"82c6":function(e,t,n){"use strict";n("4da5")},"82c7":function(e,t,n){"use strict";n.r(t);var i=n("7f69"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"830b":function(e,t,n){"use strict";n.r(t);var i=n("38cb"),a=n("03ea");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"66adb6d3",null);t["default"]=s.exports},8324:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("c5f6");var a=i(n("635f")),r=i(n("c0f5d")),o={components:{QueryBuilderChildren:r.default},props:{ruleTypes:Object,type:{type:String,default:"query-builder-group"},query:Object,rules:Array,index:Number,maxDepth:Number,depth:Number,labels:Object},data:function(){return{selectedRule:this.rules[0]}},methods:{ruleById:function(e){var t=null;return this.rules.forEach((function(n){if(n.id===e)return t=n,!1})),t},addRule:function(){var e=(0,a.default)(this.query),t={type:"query-builder-rule",query:{rule:this.selectedRule.id,operator:this.selectedRule.operators[0],operand:"undefined"===typeof this.selectedRule.operands?this.selectedRule.label:this.selectedRule.operands[0],value:null}};"multi-select"===this.ruleById(t.query.rule).type&&(t.query.value=[]),e.children.push(t),this.$emit("update:query",e)},addGroup:function(){var e=(0,a.default)(this.query);this.depth<this.maxDepth&&(e.children.push({type:"query-builder-group",query:{logicalOperator:this.labels.matchTypes[0].id,children:[]}}),this.$emit("update:query",e))},remove:function(){this.$emit("child-deletion-requested",this.index)},removeChild:function(e){var t=(0,a.default)(this.query);t.children.splice(e,1),this.$emit("update:query",t)}}};t.default=o},"833e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vqb-rule card"},[n("div",{staticClass:"form-inline"},[n("label",{staticClass:"mr-5"},[e._v(e._s(e.rule.label))]),"undefined"!==typeof e.rule.operands?n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.operand,expression:"query.operand"}],staticClass:"form-control mr-2",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"operand",t.target.multiple?n:n[0])}}},e._l(e.rule.operands,(function(t){return n("option",{key:t},[e._v(" "+e._s(t)+" ")])})),0):e._e(),"undefined"!==typeof e.rule.operators&&e.rule.operators.length>1?n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.operator,expression:"query.operator"}],staticClass:"form-control mr-2",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"operator",t.target.multiple?n:n[0])}}},e._l(e.rule.operators,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0):e._e(),"text"===e.rule.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.labels.textInputPlaceholder},domProps:{value:e.query.value},on:{input:function(t){t.target.composing||e.$set(e.query,"value",t.target.value)}}}):e._e(),"number"===e.rule.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.query.value},on:{input:function(t){t.target.composing||e.$set(e.query,"value",t.target.value)}}}):e._e(),"date"===e.rule.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.query.value},on:{input:function(t){t.target.composing||e.$set(e.query,"value",t.target.value)}}}):e._e(),e.isCustomComponent?n("div",{staticClass:"vqb-custom-component-wrap"},[n(e.rule.component,{tag:"component",attrs:{value:e.query.value},on:{input:e.updateQuery}})],1):e._e(),"checkbox"===e.rule.inputType?e._l(e.rule.choices,(function(t){return n("div",{key:t.value,staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-check-input",attrs:{id:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+t.value,type:"checkbox"},domProps:{value:t.value,checked:Array.isArray(e.query.value)?e._i(e.query.value,t.value)>-1:e.query.value},on:{change:function(n){var i=e.query.value,a=n.target,r=!!a.checked;if(Array.isArray(i)){var o=t.value,s=e._i(i,o);a.checked?s<0&&e.$set(e.query,"value",i.concat([o])):s>-1&&e.$set(e.query,"value",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.query,"value",r)}}}),n("label",{staticClass:"form-check-label",attrs:{for:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+t.value}},[e._v(" "+e._s(t.label)+" ")])])})):e._e(),"radio"===e.rule.inputType?e._l(e.rule.choices,(function(t){return n("div",{key:t.value,staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-check-input",attrs:{id:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+t.value,name:"depth"+e.depth+"-"+e.rule.id+"-"+e.index,type:"radio"},domProps:{value:t.value,checked:e._q(e.query.value,t.value)},on:{change:function(n){return e.$set(e.query,"value",t.value)}}}),n("label",{staticClass:"form-check-label",attrs:{for:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+t.value}},[e._v(" "+e._s(t.label)+" ")])])})):e._e(),"select"!==e.rule.inputType||e.hasOptionGroups?e._e():n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{multiple:"multi-select"===e.rule.type},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"value",t.target.multiple?n:n[0])}}},e._l(e.selectOptions,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),0),"select"===e.rule.inputType&&e.hasOptionGroups?n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{multiple:"multi-select"===e.rule.type},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"value",t.target.multiple?n:n[0])}}},e._l(e.selectOptions,(function(t,i){return n("optgroup",{key:i,attrs:{label:i}},e._l(t,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),0)})),0):e._e(),"inputselect"===e.rule.inputType?n("el-autocomplete",{ref:"input",staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}},[n("i",{staticClass:"el-icon-arrow-down el-input__icon",attrs:{slot:"suffix"},on:{click:e.handleIconClick},slot:"suffix"})]):e._e(),n("button",{staticClass:"close ml-auto",attrs:{type:"button"},domProps:{innerHTML:e._s(e.labels.removeRule)},on:{click:e.remove}})],2)])},a=[]},8344:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.init=d,t.addCountTr=g,t.delCountTr=v,t.inputVerify=y,t.saveNodeInfo=b,t.sendVueObj=void 0;var a=i(n("9523"));function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("7514"),n("5df3"),n("1c4c"),n("20d6"),n("7f7f");var s=["INTEGER","DECIMAL","NUMBER","FLOAT","REAL","DATE","TIMESTAMP"],l=null,u=null,c=function(e){l=e,u=e.nodeData};function d(){if(u.isSet){l.columnsInfo=u.columnsInfo,h(l.columnsInfo),l.columnDataValue=u.setting.groupData;var e=u.setting.countData;if(e.length>0){for(var t=0;t<e.length;t++)l.items.push({id:t});l.$nextTick((function(){for(var t=0;t<e.length;t++){p(t),l.countTrNum=t+1;var n=xmSelect.get("#searchName".concat(t),!0),i=JSON.parse(JSON.stringify(l.columnData));i.unshift({name:"请选择",value:"",type:""});for(var a=0;a<i.length;a++)if(e[t].columnName===e[t].countTypeValue+"("+i[a].value+")"){i[a].selected=!0;break}n.update({data:i});for(var r=xmSelect.get("#searchType".concat(t),!0),o=[{name:"请选择",value:""},{name:"计数",value:"count"},{name:"求和",value:"sum"},{name:"最大值",value:"max"},{name:"最小值",value:"min"},{name:"平均值",value:"ave"}],u=0;u<o.length;u++){if($.inArray(e[t].columnType,s)<0)switch(o[u].value){case"sum":case"max":case"min":case"ave":o[u].disabled=!0;break}e[t].countTypeValue===o[u].value&&(o[u].selected=!0)}r.update({data:o}),l.items[t].chooseColumnXs=n,l.items[t].chooseTypeXs=r}l.isAllDisabled=!0,l.isDisabled=!0}))}else l.countTrNum=0,g();l.checkAllFun()}else l.columnsInfo=l.columnsInfoPre,h(l.columnsInfo),l.countTrNum=0,g();$(l.$refs.outPutTable.$refs.bodyWrapper.children[0].children[1]).sortable().disableSelection()}function h(e){for(var t=0;t<e.length;t++)if(e[t].isCount){var n=e[t].sign,i=e[t].countType;f(e[t],!0,n,i)}else{f(e[t],!1,null,null);var a=e[t].newColumnName;u.isSet&&(a=e[t].columnName),l.columnData.push({name:a,value:a,pinyin:a,label:a,key:a,type:e[t].columnType})}}function f(e,t,n,i){var a={id:l.ind,nodeId:e.nodeId,columnInfo:e,columnName:u.isSet?e.columnName:e.newColumnName,newColumnName:e.newColumnName,rtn:e.rtn,checked:e.checked};if(t&&(a.sign=n,i&&(a.dataCountType=i,!u.isSet)))if(a.columnName.indexOf("`")>-1){var r=a.columnName.replaceAll("`","");a.newColumnName="`"+r+"_"+i.name+"`"}else a.newColumnName=a.columnName+"_"+i.name;i&&!u.isSet&&(a.columnName=i.value+"("+a.columnName+")"),l.columnItems.push(a),l.ind++}function p(e){var t=l.columnData.slice();t.unshift({name:"请选择",value:"",type:"",selected:!0});var n=[{name:"请选择",value:"",selected:!0},{name:"计数",value:"count"},{name:"求和",value:"sum"},{name:"最大值",value:"max"},{name:"最小值",value:"min"},{name:"平均值",value:"ave"}],i=[{name:"请选择",value:"",selected:!0},{name:"计数",value:"count"},{name:"求和",value:"sum",disabled:!0},{name:"最大值",value:"max",disabled:!0},{name:"最小值",value:"min",disabled:!0},{name:"平均值",value:"ave",disabled:!0}],a=xmSelect.render({el:"#searchName"+e,radio:!0,clickClose:!0,filterable:!0,filterMethod:function(e,t){return!!(e===t.value||t.name&&t.name.indexOf(e)>-1)},on:function(e){var t=e.change[0],o=e.isAdd,u=t.value,c="",d=r.getValue();if(o){var h=a.getValue();if(h.length>0&&d.length>0&&(c=h[0].value+"_"+d[0].value,"_"!==c)){var f=l.columnItems.findIndex((function(e){return e.sign===c}));f>-1&&(l.columnItems.splice(f,1),m())}if(""===u)r.update({data:n});else{var p=t.type;$.inArray(p.toUpperCase(),s)<0?r.update({data:i}):r.update({data:n})}}else if(d.length>0&&(c=u+"_"+d[0].value,"_"!==c)){var g=l.columnItems.findIndex((function(e){return e.sign===c}));g>-1&&(l.columnItems.splice(g,1),m())}},data:t}),r=xmSelect.render({el:"#searchType"+e,radio:!0,clickClose:!0,filterMethod:function(e,t){return!!(e===t.value||t.name&&t.name.indexOf(e)>-1)},data:n,on:function(e){var n=e.change[0],i=e.isAdd,o=n.value,s={name:n.name,value:o},u=a.getValue(),c="";if(i){var d=r.getValue();if(u.length>0&&""!==u[0].value)if(d.length>0){c=u[0].value+"_"+d[0].value;var h=l.columnItems.findIndex((function(e){return e.sign===c}));if(h>-1&&(l.columnItems.splice(h,1),m()),""!==o){c=u[0].value+"_"+o;var p=l.columnItems.findIndex((function(e){return e.sign===c}));if(p>-1)l.$message({type:"warning",message:"字段【".concat(u[0].value,"】已存在【").concat(s.name,"】设置")}),a.update({data:t});else for(var g=0;g<l.columnsInfo.length;g++)if(l.columnsInfo[g].newColumnName===u[0].value){f(l.columnsInfo[g],!0,c,s),m();break}}}else{if(""===o)return;c=u[0].value+"_"+o;var v=l.columnItems.findIndex((function(e){return e.sign===c}));if(v>-1)l.$message({type:"warning",message:"字段【".concat(u[0].value,"】已存在【").concat(s.name,"】设置")}),a.update({data:t});else for(var y=0;y<l.columnsInfo.length;y++)if(l.columnsInfo[y].newColumnName===u[0].value){f(l.columnsInfo[y],!0,c,s),m();break}}}else if(u.length>0&&""!==u[0].value){c=u[0].value+"_"+o;var b=l.columnItems.findIndex((function(e){return e.sign===c}));b>-1&&(l.columnItems.splice(b,1),m())}}})}function m(){var e=0,t=l.columnDataValue.length;Array.from(l.columnItems,(function(t){t.checked=!1,"undefined"!==typeof t.sign&&(t.checked=!0,e++)})),e>0?(l.isAllDisabled=!0,l.isDisabled=!0,Array.from(l.columnDataValue,(function(e){var t=l.columnItems.find((function(t){return t.columnName===e}));"undefined"!==typeof t&&(t.checked=!0)}))):(l.isAllDisabled=!1,l.isDisabled=!1);var n=l.columnItems.length;t+e===n?l.checkAll=!0:l.checkAll&&(l.checkAll=!1)}function g(){l.items.push({id:l.countTrNum}),l.$nextTick((function(){p(l.countTrNum);var e=xmSelect.get("#searchName".concat(l.countTrNum),!0),t=xmSelect.get("#searchType".concat(l.countTrNum),!0),n=l.items.find((function(e){return e.id===l.countTrNum}));"undefined"!==typeof n&&(n.chooseColumnXs=e,n.chooseTypeXs=t),l.countTrNum=l.countTrNum+1}))}function v(e){var t=l.items[e],n=xmSelect.get("#searchName".concat(t.id),!0),i=xmSelect.get("#searchType".concat(t.id),!0),a=n.getValue(),r=i.getValue();if(a.length>0&&r.length>0){var o=a[0].value+"_"+r[0].value,s=l.columnItems.findIndex((function(e){return e.sign===o}));s>-1&&(l.columnItems.splice(s,1),m())}l.items.splice(e,1)}function y(){for(var e=0,t=0;t<l.items.length;t++){var n=l.items[t].chooseColumnXs,i=l.items[t].chooseTypeXs,a=n.getValue(),r=i.getValue();a.length>0&&r.length>0&&""!==a[0].value&&""!==r[0].value&&e++}return 0===l.columnDataValue.length&&0===e?(l.$message.error("未设置分组或汇总的字段"),!1):!!l.vilidata_simple()}function b(){var e=[],t=[],n=l.$refs.outPutTable.$refs.bodyWrapper.children[0].children[1].children;"undefined"!==typeof n&&n.length>0&&$.each(n,(function(){var n=parseInt($(this).find("td:eq(0)>div>div").html())-1,i=o(o({},{}),l.columnItems[n].columnInfo),a=l.columnItems[n].newColumnName;l.columnItems[n].checked?(i.isOutputColumn=1,i.checked=!0):(i.checked=!1,i.isOutputColumn=0),i.columnName=l.columnItems[n].columnName,i.newColumnName=a,"undefined"!==typeof l.columnItems[n].sign?(i.isCount=!0,i.sign=l.columnItems[n].sign,i.countType=l.columnItems[n].dataCountType,t.push({columnName:i.columnName,columnType:i.columnType,countTypeValue:l.columnItems[n].dataCountType.value,newColumnName:a})):i.isCount=!1,e.push(i)})),u.setting.countData=t,u.setting.groupData=l.columnDataValue,u.columnsInfo=e,u.isSet=!0,l.$refs.basicVueRef.save_base()}t.sendVueObj=c},8377:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("a481"),n("7f7f");var a=i(n("a18c")),r={namespaced:!0,state:{rightFooterTags:[],leftMenuShrink:!1},mutations:{setRightFooterTags:function(e,t){var n=e.rightFooterTags,i=t.val.name;switch(t.type){case"reset":a.default.replace(t.val.path);break;case"active":var r=!1;n.forEach((function(e){e.isActive=!1,e.name===i&&(e.isActive=!0,r=!0)})),r||n.push(Object.assign({},t.val,{isActive:!0})),e.rightFooterTags=n,e.rightFooterTags.forEach((function(e){e.isActive&&a.default.push(e.path)}));break;case"close":n=n.filter((function(e){return e.name!==i})),e.rightFooterTags=n,e.rightFooterTags.length?a.default.push(e.rightFooterTags[e.rightFooterTags.length-1].path):a.default.push("/ams/first");break;case"closeOther":e.rightFooterTags=[Object.assign({},t.val,{isActive:!0})],a.default.push(t.val.path);break;case"closeAll":e.rightFooterTags=[],a.default.push("/ams/first");break;default:break}},setLeftMenuShrink:function(e,t){e.leftMenuShrink=t}},actions:{}};t.default=r},8398:function(e,t,n){"use strict";n.r(t);var i=n("883c"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"83d6":function(e,t){e.exports={title:"审计系统",showSettings:!0,tagsView:!0,fixedHeader:!1,sidebarLogo:!0,supportPinyinSearch:!0,errorLog:"production"}},"83d8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-container",[n("el-aside",{staticClass:"tree-side"},[n("div",{staticClass:"tree-container",staticStyle:{height:"700px",overflow:"auto"}},[n("warningresulttree",{on:{getLikeList:e.getLikeList,clickChangeTable:e.clickChangeTable}})],1)]),n("el-container",[n("el-header",[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getLikeList}})],1),n("el-main",{staticStyle:{width:"77.5vw"}},[n("div",{attrs:{align:"right"}},[n("el-row",[n("el-button",{staticClass:"oper-btn link-2",attrs:{type:"primary",disabled:e.buttonIson.AssociatedBtn},on:{click:e.openProjectDialog}}),n("el-button",{staticClass:"oper-btn share",attrs:{type:"primary",disabled:e.buttonIson.resultShareBtn},on:{click:function(t){return e.modelResultOpenDialog()}}}),n("el-button",{staticClass:"oper-btn move",attrs:{type:"primary",disabled:e.buttonIson.DisassociateBtn},on:{click:function(t){return e.RemoverelationProject()}}}),n("el-button",{staticClass:"oper-btn split-2",attrs:{type:"primary",disabled:e.buttonIson.resultSplitBtn},on:{click:e.openResultSplitDialog}}),n("el-button",{staticClass:"oper-btn export-2",attrs:{type:"primary",disabled:e.buttonIson.exportBtn},on:{click:e.exportExcel}}),n("el-button",{staticClass:"oper-btn delete-2",attrs:{disabled:e.buttonIson.deleteBtn,type:"primary"},on:{click:e.deleteRunTaskRel}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{id:"table",data:e.list,border:"",fit:"","highlight-current-row":"",height:"450px"},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),1===e.warringResultType?n("el-table-column",{attrs:{label:"模型名称",width:"300px",align:"center",prop:"model.modelName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("a",{staticStyle:{color:"#409eff"},attrs:{type:"text"},on:{click:function(n){return e.getResultTables(t.row.runResultTables,t.row.model.modelName,t.row.model.modelUuid,t.row.runStatus,e.resultSpiltObjects,void 0)}}},[e._v(e._s(t.row.model.modelName))])]}}],null,!1,1632974274)}):e._e(),2===e.warringResultType?n("el-table-column",{attrs:{label:"指标名称",width:"300px",align:"center",prop:"model.modelName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("a",{staticStyle:{color:"#409eff"},attrs:{type:"text"},on:{click:function(n){return e.getResultTables(t.row.runResultTables,t.row.inOftenindicators.oftenindicatorsName,t.row.inOftenindicators.inOftenindicatorsUuid,t.row.runStatus,e.resultSpiltObjects,t.row.settingInfo)}}},[e._v(e._s(t.row.inOftenindicators.oftenindicatorsName))])]}}],null,!1,2767341792)}):e._e(),n("el-table-column",{attrs:{label:"运行状态",width:"100px",align:"center",prop:"runStatus",formatter:e.readStatusFormatter},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{class:e.runStatusIconFormatter(t.row.runStatus),style:e.runStatusStyleFormatter(t.row.runStatus)})]}}])}),n("el-table-column",{attrs:{label:"运行人",width:"100px",align:"center",prop:"runTask.runUserName"}}),n("el-table-column",{attrs:{label:"运行类型",width:"100px",align:"center",prop:"runTask.runType",formatter:e.runTypeFormate}}),n("el-table-column",{attrs:{label:"执行进度",prop:"executeProgress",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-progress",{attrs:{percentage:e.executeProgressFormate(t.row.executeProgress),color:e.customColorMethod(t.row.executeProgress)}})]}}])}),n("el-table-column",{attrs:{label:"结果总条数",width:"100px",align:"center",prop:"runResultTables",formatter:e.dataCountFormatter}}),n("el-table-column",{attrs:{label:"定时运行时间",width:"200px",align:"center",prop:"runEndTime",formatter:e.dateFormatter2}}),n("el-table-column",{attrs:{label:"运行开始时间",width:"200px",align:"center",prop:"runStartTime",formatter:e.dateFormatter}}),n("el-table-column",{attrs:{label:"运行结束时间",width:"200px",align:"center",prop:"runEndTime",formatter:e.dateFormatter1}}),n("el-table-column",{attrs:{label:"运行SQL",prop:"settingInfo",align:"center",width:"200px",formatter:e.settingInfoSqlFormatter}}),n("el-table-column",{attrs:{label:"运行参数",prop:"settingInfo",align:"center",width:"200px",formatter:e.settingInfoParamsArrFormatter}}),n("el-table-column",{attrs:{label:"运行信息",prop:"runMessage",align:"center",width:"200px"}}),n("el-table-column",{attrs:{label:"关联项目",prop:"projectName",align:"center",width:"200px"}}),e._e()],1)],1),n("el-dialog",{attrs:{title:"请选择要分享的人员",visible:e.resultShareDialogIsSee,width:"50%"},on:{"update:visible":function(t){e.resultShareDialogIsSee=t}}},[n("personTree",{ref:"orgPeopleTree"}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.resultShareDialogIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelResultShare}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"结果拆分",visible:e.resultSplitDialogIsSee,width:"40%"},on:{"update:visible":function(t){e.resultSplitDialogIsSee=t}}},[n("div",{attrs:{align:"center"}},[n("span",[e._v("要拆分的数据：")]),n("el-select",{staticStyle:{width:"50%"},attrs:{multiple:"",size:"medium",placeholder:"请选择"},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}},e._l(e.ResultSplitoptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.resultSplitDialogIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.ResultSplitDialogDetermine}},[e._v("确 定")])],1)]),n("el-dialog",{attrs:{title:"设置定时时间",visible:e.settingTimingIsSee,width:"30%"},on:{"update:visible":function(t){e.settingTimingIsSee=t}}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.setDateTime,callback:function(t){e.setDateTime=t},expression:"setDateTime"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.settingTimingIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.afterSettingTime}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"请选择项目",visible:e.projectDialogIsSee,width:"40%"},on:{"update:visible":function(t){e.projectDialogIsSee=t}}},[e.projectDialogIsSee?n("userProject",{ref:"userproject"}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.projectDialogIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.determineProject}},[e._v("确 定")])],1)],1),n("el-footer",[n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getLikeList}})],1)],1)],1)],1)},a=[]},"84b4":function(e,t){(function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},i=function(e){var t=w.getRoot(e);t.radioCheckedList=[]},a=function(e){},r=function(e){var t=e.treeObj,n=b.event;t.bind(n.CHECK,(function(t,n,i,a){t.srcEvent=n,y.apply(e.callback.onCheck,[t,i,a])}))},o=function(e){var t=e.treeObj,n=b.event;t.unbind(n.CHECK)},s=function(e){var t=e.target,n=w.getSetting(e.data.treeId),i="",a=null,r="",o="",s=null,l=null;if(y.eqs(e.type,"mouseover")?n.check.enable&&y.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+b.id.CHECK)&&(i=y.getNodeMainDom(t).id,r="mouseoverCheck"):y.eqs(e.type,"mouseout")?n.check.enable&&y.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+b.id.CHECK)&&(i=y.getNodeMainDom(t).id,r="mouseoutCheck"):y.eqs(e.type,"click")&&n.check.enable&&y.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+b.id.CHECK)&&(i=y.getNodeMainDom(t).id,r="checkNode"),i.length>0)switch(a=w.getNodeCache(n,i),r){case"checkNode":s=f.onCheckNode;break;case"mouseoverCheck":s=f.onMouseoverCheck;break;case"mouseoutCheck":s=f.onMouseoutCheck;break}var u={stop:"checkNode"===r,node:a,nodeEventType:r,nodeEventCallback:s,treeEventType:o,treeEventCallback:l};return u},l=function(e,t,n,i,a,r,o){if(n){var s=e.data.key.checked;if("string"==typeof n[s]&&(n[s]=y.eqs(n[s],"true")),n[s]=!!n[s],n.checkedOld=n[s],"string"==typeof n.nocheck&&(n.nocheck=y.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&i&&!!i.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=y.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&i&&!!i.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=y.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return w.getCheckStatus(e,n)},e.check.chkStyle==b.radio.STYLE&&e.check.radioType==b.radio.TYPE_ALL&&n[s]){var l=w.getRoot(e);l.radioCheckedList.push(n)}}},u=function(e,t,n){e.data.key.checked;e.check.enable&&(w.makeChkFlag(e,t),n.push("<span ID='",t.tId,b.id.CHECK,"' class='",A.makeChkClass(e,t),"' treeNode",b.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))},c=function(e,t){t.checkNode=function(e,t,n,i){var a=this.setting.data.key.checked;if(!0!==e.chkDisabled&&(!0!==t&&!1!==t&&(t=!e[a]),i=!!i,(e[a]!==t||n)&&(!i||0!=y.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0))&&y.uCanDo(this.setting)&&this.setting.check.enable&&!0!==e.nocheck)){e[a]=t;var r=x(e,b.id.CHECK,this.setting);(n||this.setting.check.chkStyle===b.radio.STYLE)&&A.checkNodeRelation(this.setting,e),A.setChkClass(this.setting,r,e),A.repairParentChkClassWithSelf(this.setting,e),i&&this.setting.treeObj.trigger(b.event.CHECK,[null,this.setting.treeId,e])}},t.checkAllNodes=function(e){A.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(e){var t=this.setting.data.key.children;return e=!1!==e,w.getTreeCheckedNodes(this.setting,w.getRoot(this.setting)[t],e)},t.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return w.getTreeChangeCheckedNodes(this.setting,w.getRoot(this.setting)[e])},t.setChkDisabled=function(e,t,n,i){t=!!t,n=!!n,i=!!i,A.repairSonChkDisabled(this.setting,e,t,i),A.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,i){if(n&&n.apply(t,arguments),e&&this.setting.check.enable){var a=x(e,this.setting);if(a.get(0)&&y.uCanDo(this.setting)){var r=x(e,b.id.CHECK,this.setting);1!=i&&this.setting.check.chkStyle!==b.radio.STYLE||A.checkNodeRelation(this.setting,e),A.setChkClass(this.setting,r,e),A.repairParentChkClassWithSelf(this.setting,e)}}}},d={getRadioCheckedList:function(e){for(var t=w.getRoot(e).radioCheckedList,n=0,i=t.length;n<i;n++)w.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,i--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=e.data.key.checked,i={checked:t[n],half:t.halfCheck?t.halfCheck:e.check.chkStyle==b.radio.STYLE?2===t.check_Child_State:t[n]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0};return i},getTreeCheckedNodes:function(e,t,n,i){if(!t)return[];var a=e.data.key.children,r=e.data.key.checked,o=n&&e.check.chkStyle==b.radio.STYLE&&e.check.radioType==b.radio.TYPE_ALL;i=i||[];for(var s=0,l=t.length;s<l;s++){if(!0!==t[s].nocheck&&!0!==t[s].chkDisabled&&t[s][r]==n&&(i.push(t[s]),o))break;if(w.getTreeCheckedNodes(e,t[s][a],n,i),o&&i.length>0)break}return i},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];var i=e.data.key.children,a=e.data.key.checked;n=n||[];for(var r=0,o=t.length;r<o;r++)!0!==t[r].nocheck&&!0!==t[r].chkDisabled&&t[r][a]!=t[r].checkedOld&&n.push(t[r]),w.getTreeChangeCheckedNodes(e,t[r][i],n);return n},makeChkFlag:function(e,t){if(t){var n=e.data.key.children,i=e.data.key.checked,a=-1;if(t[n])for(var r=0,o=t[n].length;r<o;r++){var s=t[n][r],l=-1;if(e.check.chkStyle==b.radio.STYLE){if(l=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck||s[i]||s.check_Child_State>0?2:0,2==l){a=2;break}0==l&&(a=0)}else if(e.check.chkStyle==b.checkbox.STYLE){if(l=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck?1:s[i]?-1===s.check_Child_State||2===s.check_Child_State?2:1:s.check_Child_State>0?1:0,1===l){a=1;break}if(2===l&&a>-1&&r>0&&l!==a){a=1;break}if(2===a&&l>-1&&l<2){a=1;break}l>-1&&(a=l)}}t.check_Child_State=a}}},h={},f={onCheckNode:function(e,t){if(!0===t.chkDisabled)return!1;var n=w.getSetting(e.data.treeId),i=n.data.key.checked;if(0==y.apply(n.callback.beforeCheck,[n.treeId,t],!0))return!0;t[i]=!t[i],A.checkNodeRelation(n,t);var a=x(t,b.id.CHECK,n);return A.setChkClass(n,a,t),A.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(b.event.CHECK,[e,n.treeId,t]),!0},onMouseoverCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=w.getSetting(e.data.treeId),i=x(t,b.id.CHECK,n);return t.check_Focus=!0,A.setChkClass(n,i,t),!0},onMouseoutCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=w.getSetting(e.data.treeId),i=x(t,b.id.CHECK,n);return t.check_Focus=!1,A.setChkClass(n,i,t),!0}},p={},m={checkNodeRelation:function(e,t){var n,i,a,r=e.data.key.children,o=e.data.key.checked,s=b.radio;if(e.check.chkStyle==s.STYLE){var l=w.getRadioCheckedList(e);if(t[o])if(e.check.radioType==s.TYPE_ALL){for(i=l.length-1;i>=0;i--)n=l[i],n[o]&&n!=t&&(n[o]=!1,l.splice(i,1),A.setChkClass(e,x(n,b.id.CHECK,e),n),n.parentTId!=t.parentTId&&A.repairParentChkClassWithSelf(e,n));l.push(t)}else{var u=t.parentTId?t.getParentNode():w.getRoot(e);for(i=0,a=u[r].length;i<a;i++)n=u[r][i],n[o]&&n!=t&&(n[o]=!1,A.setChkClass(e,x(n,b.id.CHECK,e),n))}else if(e.check.radioType==s.TYPE_ALL)for(i=0,a=l.length;i<a;i++)if(t==l[i]){l.splice(i,1);break}}else t[o]&&(!t[r]||0==t[r].length||e.check.chkboxType.Y.indexOf("s")>-1)&&A.setSonNodeCheckBox(e,t,!0),t[o]||t[r]&&0!=t[r].length&&!(e.check.chkboxType.N.indexOf("s")>-1)||A.setSonNodeCheckBox(e,t,!1),t[o]&&e.check.chkboxType.Y.indexOf("p")>-1&&A.setParentNodeCheckBox(e,t,!0),!t[o]&&e.check.chkboxType.N.indexOf("p")>-1&&A.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var n=e.data.key.checked,i=b.checkbox,a=b.radio,r="";r=!0===t.chkDisabled?i.DISABLED:t.halfCheck?i.PART:e.check.chkStyle==a.STYLE?t.check_Child_State<1?i.FULL:i.PART:t[n]?2===t.check_Child_State||-1===t.check_Child_State?i.FULL:i.PART:t.check_Child_State<1?i.FULL:i.PART;var o=e.check.chkStyle+"_"+(t[n]?i.TRUE:i.FALSE)+"_"+r;return o=t.check_Focus&&!0!==t.chkDisabled?o+"_"+i.FOCUS:o,b.className.BUTTON+" "+i.DEFAULT+" "+o},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===b.checkbox.STYLE)for(var n=e.data.key.checked,i=e.data.key.children,a=w.getRoot(e),r=0,o=a[i].length;r<o;r++){var s=a[i][r];!0!==s.nocheck&&!0!==s.chkDisabled&&(s[n]=t),A.setSonNodeCheckBox(e,s,t)}},repairChkClass:function(e,t){if(t&&(w.makeChkFlag(e,t),!0!==t.nocheck)){var n=x(t,b.id.CHECK,e);A.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();A.repairChkClass(e,n),A.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=e.data.key.children;t[n]&&t[n].length>0?A.repairParentChkClass(e,t[n][0]):A.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,i){if(t){var a=e.data.key.children;if(t.chkDisabled!=n&&(t.chkDisabled=n),A.repairChkClass(e,t),t[a]&&i)for(var r=0,o=t[a].length;r<o;r++){var s=t[a][r];A.repairSonChkDisabled(e,s,n,i)}}},repairParentChkDisabled:function(e,t,n,i){t&&(t.chkDisabled!=n&&i&&(t.chkDisabled=n),A.repairChkClass(e,t),A.repairParentChkDisabled(e,t.getParentNode(),n,i))},setChkClass:function(e,t,n){t&&(!0===n.nocheck?t.hide():t.show(),t.attr("class",A.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,i){var a=e.data.key.children,r=e.data.key.checked,o=x(t,b.id.CHECK,e);if(i||(i=t),w.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(t[r]=n,A.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=i&&e.treeObj.trigger(b.event.CHECK,[null,e.treeId,t])),t.parentTId){var s=!0;if(!n)for(var l=t.getParentNode()[a],u=0,c=l.length;u<c;u++)if(!0!==l[u].nocheck&&!0!==l[u].chkDisabled&&l[u][r]||(!0===l[u].nocheck||!0===l[u].chkDisabled)&&l[u].check_Child_State>0){s=!1;break}s&&A.setParentNodeCheckBox(e,t.getParentNode(),n,i)}},setSonNodeCheckBox:function(e,t,n,i){if(t){var a=e.data.key.children,r=e.data.key.checked,o=x(t,b.id.CHECK,e);i||(i=t);var s=!1;if(t[a])for(var l=0,u=t[a].length;l<u;l++){var c=t[a][l];A.setSonNodeCheckBox(e,c,n,i),!0===c.chkDisabled&&(s=!0)}t!=w.getRoot(e)&&!0!==t.chkDisabled&&(s&&!0!==t.nocheck&&w.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(t[r]=n,s||(t.check_Child_State=t[a]&&t[a].length>0?n?2:0:-1)):t.check_Child_State=-1,A.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=i&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(b.event.CHECK,[null,e.treeId,t]))}}},g={tools:p,view:m,event:h,data:d};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,g);var v=e.fn.zTree,y=v._z.tools,b=v.consts,A=v._z.view,w=v._z.data,x=(v._z.event,y.$);w.exSetting(n),w.addInitBind(r),w.addInitUnBind(o),w.addInitCache(a),w.addInitNode(l),w.addInitProxy(s,!0),w.addInitRoot(i),w.addBeforeA(u),w.addZTreeTools(c);var C=A.createNodes;A.createNodes=function(e,t,n,i,a){C&&C.apply(A,arguments),n&&A.repairParentChkClassWithSelf(e,i)};var k=A.removeNode;A.removeNode=function(e,t){var n=t.getParentNode();k&&k.apply(A,arguments),t&&n&&(A.repairChkClass(e,n),A.repairParentChkClass(e,n))};var S=A.appendNodes;A.appendNodes=function(e,t,n,i,a,r,o){var s="";return S&&(s=S.apply(A,arguments)),i&&w.makeChkFlag(e,i),s}})(jQuery)},"84b5":function(e,t,n){"use strict";var i=n("4ea4");n("ac6a"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("aa7e"),r=i(n("c164")),o=i(n("333d")),s=i(n("4b3f"));function l(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var d={name:"auditWarningList",components:{Pagination:o.default,QueryField:r.default,EditAuditWarning:s.default},data:function(){return{tableKey:"auditWarningTable",list:null,total:0,listLoading:!1,isShowSingleBtn:!1,isShowManyBtn:!1,editDialogTitle:"添加审计预警",editDialogVisible:!1,queryFields:[{label:"预警名称",name:"warningName",type:"fuzzyText",value:""},{label:"创建人",name:"createUserName",type:"fuzzyText"},{label:"创建日期",name:"createTime",type:"timePeriod"}],operationObj:{option:"add",optionUuid:""},pageQuery:{condition:{},pageNo:1,pageSize:20}}},computed:{},created:function(){this.getList()},methods:{startWarning:function(e){var t=this;e?(0,a.startById)(e).then((function(e){0===e.code?(t.$notify({title:"提示",message:"启动成功",type:"success",duration:2e3,position:"bottom-right"}),t.getList()):t.$message({type:"error",message:"启动预警失败"})})):this.$message({type:"info",message:"请先选择要启动的预警!"})},stopWarning:function(e){var t=this;e?(0,a.stopById)(e).then((function(e){0===e.code?(t.$notify({title:"提示",message:"停止成功",type:"success",duration:2e3,position:"bottom-right"}),t.getList()):t.$message({type:"error",message:"停止预警失败"})})):this.$message({type:"info",message:"请先选择要停止的预警!"})},listSelectChange:function(e){e&&0==e.length&&(this.isShowManyBtn=!1,this.isShowSingleBtn=!1),e&&e.length>0&&(this.isShowManyBtn=!0),e&&1==e.length&&(this.isShowSingleBtn=!0),e&&e.length>1&&(this.isShowSingleBtn=!1,this.isShowManyBtn=!0)},dateFormatter:function(e,t){var n=e.createTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds(),c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,a.findAuditWarningList)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},add:function(){this.operationObj.option="add",this.editDialogTitle="添加审计预警",this.editDialogVisible=!0},update:function(){var e=this.$refs.auditWarningList.selection;void 0!=e&&0!==e.length?(this.operationObj.option="update",this.operationObj.optionUuid=e[0].auditWarningUuid,this.editDialogTitle="修改审计预警",this.editDialogVisible=!0):this.$message({type:"info",message:"请先选择要修改的审计预警!"})},detail:function(e,t){this.operationObj.option="detail",this.operationObj.optionUuid=e,this.editDialogTitle="审计预警详情",this.editDialogVisible=!0},deleteWarning:function(e){var t=this,n=this.$refs.auditWarningList.selection;if(void 0!=n&&0!==n.length){var i,r=[],o=l(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&r.push({auditWarningUuid:s.auditWarningUuid,warningName:s.warningName,isDeleted:s.isDeleted})}}catch(u){o.e(u)}finally{o.f()}this.$confirm("确定删除选中的审计预警信息吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,a.deleteAuditWarning)(r).then((function(e){0===e.code?(t.$notify({title:"提示",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"}),t.getList()):t.$message({type:"error",message:"删除失败"})}))}))}else this.$message({type:"info",message:"请先选择要删除的审计预警!"})},save:function(){var e=this,t=this.$refs["edit"].getFormData();t&&("add"==this.operationObj.option?(0,a.addWarning)(t).then((function(t){0==t.code?(e.$notify({title:"提示",message:"保存预警信息成功!",type:"success",duration:2e3,position:"bottom-right"}),e.editDialogVisible=!1,e.getList()):e.$message({type:"error",message:"保存预警信息失败!"})})):"update"==this.operationObj.option&&(0,a.updateWarning)(t).then((function(t){0==t.code?(e.$notify({title:"提示",message:"保存预警信息成功!",type:"success",duration:2e3,position:"bottom-right"}),e.editDialogVisible=!1,e.getList()):e.$message({type:"error",message:"保存预警信息失败!"})})))},warningTypeFormat:function(e,t){var n={1:"模型",2:"指标"};return n[e.warningType]}}};t.default=d},8533:function(e,t,n){"use strict";n.r(t);var i=n("62f8"),a=n("b690");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("fa72");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"7417d677",null);t["default"]=s.exports},"85bb":function(e,t,n){},"85d2":function(e,t,n){"use strict";n.r(t);var i=n("6c44"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},8644:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-size",use:"icon-size-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-size"><path d="M0 54.857h54.796v18.286H36.531V128H18.265V73.143H0V54.857zm127.857-36.571H91.935V128H72.456V18.286H36.534V0h91.326l-.003 18.286z" /></symbol>'});o.a.add(s);t["default"]=s},8646:function(e,t,n){"use strict";n("3320")},8667:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.open?n("childTabs",{attrs:{maintable:this.mainTable,helptables:this.helpTables,"model-uuid":this.modeluuid,useType:"modelRunResult",resultSpiltObjects:e.resultSpiltObjects}}):e._e()],1)},a=[]},8706:function(e,t,n){},8754:function(e,t,n){"use strict";n.r(t);var i=n("4b8f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},8771:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var i={data:function(){return{isShowPopover:!1,popoverLeft:0,popoverTop:0,selectItem:null,popoverList:[{name:"刷新",prop:"reset"},{name:"关闭",prop:"close"},{name:"关闭其他",prop:"closeOther"},{name:"关闭所有",prop:"closeAll"}]}},computed:{computedStyle:function(){return{left:"".concat(this.popoverLeft,"px"),top:"".concat(this.popoverTop-118,"px")}},tagList:function(){return this.$store.state.aceState.rightFooterTags}},mounted:function(){window.addEventListener("click",this.clickOther)},methods:{close:function(e){this.selectItem=e,this.sure({prop:"close"})},select:function(e){this.activeTags({type:"active",val:e})},activeTags:function(e){this.$store.commit("aceState/setRightFooterTags",{type:e.type,val:e.val})},contextmenu:function(e,t,n){this.selectItem=e,this.isShowPopover=!0,this.popoverLeft=t.clientX,this.popoverTop=t.clientY},sure:function(e){this.isShowPopover=!1,this.activeTags({type:e.prop,val:this.selectItem})},clickOther:function(){this.isShowPopover=!1}},watch:{$route:function(e,t){"amsFirst"===e.name&&this.$store.commit("aceState/setRightFooterTags",{type:"closeAll",val:""})}}};t.default=i},"877d":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f"),n("ac6a");var a=i(n("e74e")),r=i(n("ff6f")),o={components:{firstParentTabCon:a.default,childTabs:r.default},data:function(){return{editableTabsValue:"模型分配结果",editableTabs:[],tabIndex:0,mainTable:{},helpTables:[]}},methods:{addTab:function(e,t,n,i,a,r){var o=++this.tabIndex+"";this.mainTable=t,this.helpTables=e,this.editableTabs.push({title:n+"模型结果",name:o,mainTable:t,helpTables:e,modeluuid:i,resultSpiltObjects:a,projectUuid:r}),this.editableTabsValue=o},removeTab:function(e){var t=this.editableTabs,n=this.editableTabsValue;n===e&&t.forEach((function(i,a){if(i.name===e){var r=t[a+1]||t[a-1];n=r?r.name:"模型分配结果"}})),this.editableTabsValue=n,this.editableTabs=t.filter((function(t){return t.name!==e}))}}};t.default=o},8788:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPageFilter=s,t.saveFilter=l,t.updateFilter=u,t.delFilter=c,t.getByIdFilter=d;var a=i(n("b775")),r="/data",o="sceneFilter";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/pageList"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}function d(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getById/").concat(e),method:"get"})}},"87bf":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("el-row",{attrs:{gutter:5}},[n("el-col",{attrs:{span:8}},[n("el-select",{staticStyle:{display:"none"},attrs:{placeholder:"请选择"},model:{value:e.currentSceneUuid,callback:function(t){e.currentSceneUuid=t},expression:"currentSceneUuid"}},e._l(e.allScene,(function(e){return n("el-option",{key:e.sceneUuid,attrs:{label:e.sceneName,value:e.sceneUuid}})})),1),n("el-tabs",{ref:"eltab",on:{"tab-click":e.tabClick},model:{value:e.grpUuid,callback:function(t){e.grpUuid=t},expression:"grpUuid"}},e._l(e.currentScene.groups,(function(t){return n("el-tab-pane",{key:t.sceneGrpUuid,attrs:{label:t.grpName,name:t.sceneGrpUuid}},[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("MyElTree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"A"+t.sceneGrpUuid,refInFor:!0,staticClass:"filter-tree left-tree",attrs:{props:e.props,"highlight-current":!0,data:e.currentTreeData,"node-key":"id","filter-node-method":e.filterNode,"show-checkbox":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node;t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[e._v(e._s(i.label))])])}}],null,!0)})],1)})),1)],1),n("el-col",{staticStyle:{width:"45px","padding-top":"10%"},attrs:{span:2}},[n("div",{staticClass:"transfer-center"},[n("p",{staticClass:"transfer-center-item"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-right",circle:""},on:{click:e.addGrp}})],1)])]),n("el-col",{attrs:{span:15}},[n("el-col",{staticStyle:{"padding-top":"4px","padding-right":"50px"},attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn edit-3",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.setExpireDate}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",disabled:0===e.selections.length},on:{click:e.removeGrp}})],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:"colMetaUuid",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{width:"55",type:"selection"}}),n("el-table-column",{attrs:{label:"类型",width:"150px",align:"center",prop:"userType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1==t.row.userType?"用户组":"用户")+" ")]}}])}),n("el-table-column",{attrs:{label:"名称",width:"200px",align:"center",prop:"userName"}}),n("el-table-column",{attrs:{label:"编码",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.userType?n("span",[e._v(e._s(t.row.grpInstUuid))]):e._e(),2==t.row.userType?n("span",[e._v(e._s(t.row.unitUuid))]):e._e()]}}])}),n("el-table-column",{attrs:{label:"使用期限",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.startTime&&null==t.row.endTime?n("span",[e._v("无限制")]):n("span",[e._v(" "+e._s(null==t.row.startTime?" - ":t.row.startTime)+" 至 "+e._s(null==t.row.endTime?" - ":t.row.endTime)+" ")])]}}])}),n("el-table-column",{attrs:{label:"授权时间",width:"150px",align:"center",prop:"createTime"}})],1)],1)],1),n("div",{staticClass:"bottom-btn"},[n("el-button",{on:{click:e.goBack}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveRoleGrp}},[e._v("保存")])],1)],1)},a=[]},"87f2":function(e,t,n){"use strict";n("ee4d")},8803:function(e,t,n){"use strict";n.r(t);var i=n("abeb"),a=n("cf21");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("fe25");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4f171ad2",null);t["default"]=s.exports},8838:function(e,t,n){"use strict";n.r(t);var i=n("92d1"),a=n("e795");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"883c":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("4917"),n("7514"),n("55dd");var a=i(n("1157")),r=i(n("c4e0")),o={name:"inmeasurefilter",components:{myquerybuilder:r.default},props:["filterIn","filterListIn","analysisListIn","columnName","columnType","filterJson","columnNameCN","analysisRegionId","inId"],data:function(){return{activeName:"convention",loading:!1,queryBuilderJson:{},queryRules:{},inputselectvalue:[],isLoadQueryBuilder:!1,inMeasureFilterSearch:""}},mounted:function(){},created:function(){this.initData(),this.initColData()},methods:{initData:function(){var e=this.filterJson;""===e&&(this.activeName="convention"),""!=e&&"1"!=e&&(this.activeName="filter"),"1"==e&&(this.activeName="convention")},handleClick:function(e,t){},initColData:function(){this.loading=!0;var e=this,t=this.analysisListIn,n=this.analysisRegionId,i=this.columnNameCN,r=this.inId,o=[],s=[];a.default.each(t,(function(e,t){null!=t&&t.id==n&&(o=t.objInList,s=t.objDimList)}));var l=this.contextUrl+"/indicatrixAnalysis/getColDataIn";a.default.post(l,{inMeasures:JSON.stringify(o),listDim:JSON.stringify(s),inId:r,columnName:i},(function(t){if(t.isError)e.$message({type:"error",message:t.message});else{(0,a.default)("#colData").html(""),t=t.result.sort(e.sortNumber);var n=e.filterListIn,i=[];a.default.each(t,(function(t,r){var o={id:r,name:r,outputColumnName:r};e.inputselectvalue.push(o),i.push(o);var s=e.getuuid(),l="<tr id='"+s+"'></tr>";(0,a.default)("#colData").append(l);for(var u=0;u<2;u++)if(0==u){var c="";c=n.indexOf(r)>-1?"<td style='padding-top: 5px;'><input type='checkbox' checked='checked' id='"+r+"'></td>":"<td style='padding-top: 5px;'><input type='checkbox' id='"+r+"'></td>",(0,a.default)("#"+s).append(c)}else{c="<td style='width: 100%;padding: 4px;'>"+r+"</td>";(0,a.default)("#"+s).append(c)}})),e.loading=!1,e.setQueryBuilderColumn(),"filter"===e.activeName&&(e.queryBuilderJson=JSON.parse(e.filterJson)),e.isLoadQueryBuilder=!0}}),"json")},sortNumber:function(e,t){return e-t},enter:function(){var e=this.inId,t=this.analysisRegionId;if("convention"==this.activeName){var n="",i=[];if((0,a.default)("#colData").find("tr").each((function(){var e=(0,a.default)(this).children().find("input[type='checkbox']"),t=((0,a.default)(this).css("display"),e.prop("checked"));if("checked"==t||1==t){var r=(0,a.default)(this).children("td").eq(1).text();n+="'"+r+"',",i.push(r)}})),0!=i.length&&(n=n.substring(0,n.length-1),n="{0} in ({1})".format(this.columnName,n)),""===n)return void this.$message({type:"info",message:"您选择的是常规，请选择条件"});this.$emit("inSetFilter",t,n,e,JSON.stringify(1),i),this.closeDialog()}if("filter"==this.activeName){var r=this.$refs.myQueryBuilder.getSelectSql();if(null==r||""===r)return void this.$message({type:"info",message:"您选择的是条件，请输入条件设置"});var o=r.queryJson;this.$emit("inSetFilter",t,r.sql,e,JSON.stringify(o,null,2),[]),this.closeDialog()}},checkOnClick:function(e){var t=(0,a.default)(e).attr("checked");void 0==t?(0,a.default)(e).attr("checked","checked"):(0,a.default)(e).removeAttr("checked")},isNoSelect:function(e){e?(0,a.default)("input:checkbox").prop("checked","checked"):(0,a.default)("input:checkbox").prop("checked","")},closeDialog:function(){this.$emit("closeInmeasuerFilter")},initQueryBuilder:function(e,t){},getFilters:function(e,t,n){var i;return i={lang:"zh-CN",filters:[{id:t,label:t,type:"string",input:"string",operators:e}],rules:[]},i},antiDisplay:function(e,t){""==e&&(this.activeName="convention"),""!=e&&"1"!=e&&"2"!=e&&(this.activeName="filter",(0,a.default)("#builder").queryBuilder("setRules",JSON.parse(e))),"1"==e&&(this.activeName="convention")},setFilterPage:function(e){this.page=e},setQueryBuilderColumn:function(){var e=[],t={columnType:"INT"};t.columnName=this.columnName,e.push(t),this.queryRules.columnList=e},searchOnChange:function(){var e=this.inMeasureFilterSearch,t=(0,a.default)("#colData").find("tr");t.each((function(){var t=(0,a.default)(this),n=t.text();n.match(e)?t.show():t.hide()}))}}};t.default=o},8842:function(e,t,n){"use strict";n("8fce")},"887a":function(e,t,n){e.exports=n.p+"static/img/gongcheng.77a132b2.png"},"8892a":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPage=s,t.save=l,t.update=u,t.del=c,t.wideTableSQL=d,t.generateIndexSQL=h;var a=i(n("b775")),r="/data",o="calFormula";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/pageList"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}function d(){return(0,a.default)({baseURL:r,url:"/".concat(o,"/wideTableSQL"),method:"get"})}function h(){return(0,a.default)({baseURL:"/analysis",url:"/modelController/generateIndexSQL",method:"get"})}},"890f":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-close-4",use:"icon-icon-close-4-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-close-4"><defs><style type="text/css"></style></defs><path d="M670.6 733.5L512.3 575.2 354 733.5c-17.5 17.5-45.8 17.5-63.3 0s-17.5-45.8 0-63.3L449 511.9 290.7 353.6c-17.5-17.5-17.5-45.8 0-63.3s45.8-17.5 63.3 0l158.3 158.3 158.3-158.3c17.5-17.5 45.8-17.5 63.3 0s17.5 45.8 0 63.3L575.6 511.9l158.3 158.3c17.5 17.5 17.5 45.8 0 63.3-17.5 17.4-45.9 17.4-63.3 0z" p-id="3294" /><path d="M928 928.2H98v-830h830v830z m-64.8-765.1H162.8v700.3h700.3V163.1z" p-id="3295" /></symbol>'});o.a.add(s);t["default"]=s},8950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{days:"09",hours:"03",min:"12",sec:"25"}},created:function(){var e=this;this.init(),setInterval((function(){e.init()}),1e3)},methods:{init:function(){var e=new Date;this.days=e.getDate()<10?"0"+e.getDate():e.getDate(),this.hours=e.getHours()<10?"0"+e.getHours():e.getHours(),this.min=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),this.sec=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds()}}};t.default=i},8975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeAgo=r,t.numberFormatter=o,t.toThousandFilter=s,t.uppercaseFirst=l,Object.defineProperty(t,"parseTime",{enumerable:!0,get:function(){return i.parseTime}}),Object.defineProperty(t,"formatTime",{enumerable:!0,get:function(){return i.formatTime}}),n("6b54"),n("a481"),n("c5f6");var i=n("ed08");function a(e,t){return 1===e?e+t:e+t+"s"}function r(e){var t=Date.now()/1e3-Number(e);return t<3600?a(~~(t/60)," minute"):t<86400?a(~~(t/3600)," hour"):a(~~(t/86400)," day")}function o(e,t){for(var n=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],i=0;i<n.length;i++)if(e>=n[i].value)return(e/n[i].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[i].symbol;return e.toString()}function s(e){return(+e||0).toString().replace(/^-?\d+/g,(function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")}))}function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}},"89b62":function(e,t,n){"use strict";n.r(t);var i=n("d097"),a=n("d413");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"89d8":function(e,t,n){"use strict";n.r(t);var i=n("a2cd"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"8a08":function(e,t,n){"use strict";n.r(t);var i=n("2aa7"),a=n("a747");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"8a0d":function(e,t,n){"use strict";n("2bf4")},"8a21":function(e,t,n){},"8b11":function(e,t,n){"use strict";n.r(t);var i=n("4f59"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"8b42":function(e,t,n){"use strict";n.r(t);var i=n("d699"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"8b4f":function(e,t,n){"use strict";n.r(t);var i=n("51a1"),a=n("7c6b");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"8c0c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={route:{dashboard:"トップ",documentation:"ドキュメント",guide:"ガイド",permission:"権限",rolePermission:"権限ロール",pagePermission:"ページ権限",directivePermission:"ディレクティブ権限",icons:"アイコン",components:"コンポーネント",tinymce:"TinyMCE",markdown:"Markdown",jsonEditor:"JSON Editor",dndList:"Drag-And-Drop",splitPane:"パネル",avatarUpload:"アバターアップロード",dropzone:"Dropzone",sticky:"Sticky",countTo:"Count To",componentMixin:"コンポーネントMixin",backToTop:"BackToTop",dragDialog:"Drag Dialog",dragSelect:"Drag Select",dragKanban:"Drag 看板",charts:"チャート",keyboardChart:"Keyboardチャート",lineChart:"Lineチャート",mixChart:"Mixチャート",example:"Example",nested:"Nested Routes",menu1:"メニュー１","menu1-1":"メニュー 1-1","menu1-2":"メニュー 1-2","menu1-2-1":"メニュー 1-2-1","menu1-2-2":"メニュー 1-2-2","menu1-3":"メニュー 1-3",menu2:"メニュー 2",Table:"Table",dynamicTable:"可変 Table",dragTable:"Drag Table",inlineEditTable:"Inline Edit Table",complexTable:"Complex Table",tab:"Tab",form:"フォーム",createArticle:"投稿作成",editArticle:"投稿編集",articleList:"投稿リスト",errorPages:"エラーページ",page401:"401",page404:"404",errorLog:"エラーログ",excel:"Excel",exportExcel:"一括エクスポート",selectExcel:"複数選択エクスポート",mergeHeader:"ヘッダーマージ",uploadExcel:"アップロード",zip:"Zip",pdf:"PDF",exportZip:"Export Zip",theme:"テーマ変更",clipboardDemo:"Clipboard",i18n:"多言語",externalLink:"外部リンク",profile:"プロフィール"},navbar:{dashboard:"トップ",github:"GitHub",logOut:"ログアウト",profile:"プロフィール",theme:"テーマ変更",size:"画面サイズ"},login:{title:"ユーザログイン",logIn:"ログイン",username:"ユーザ名",password:"パスワード",any:"password"},documentation:{documentation:"ドキュメント",github:"Github Link"},permission:{addRole:"ロール追加",editPermission:"ロール変更",roles:"ロール",switchRoles:"ロール切替",tips:"v-permissionは使えない時があります。例えば: Element-UI の el-tab、 el-table-column 及び他の dom。v-ifを使う必要があります。",delete:"削除",confirm:"確認",cancel:"キャンセル"},guide:{description:"ガイドは各機能の説明です。",button:"ガイドを見る"},components:{documentation:"ドキュメント",tinymceTips:"tinymceは管理画面に重要な機能ですが、その同時に落とし穴がありあす。tinymceを使う道のりが大変でした。Tinymceを使う時に各自のプロジェクト状況で判断が必要です。ドキュメントはこちら",dropzoneTips:"Third partyのパッケージを使わず、独自の実装しています。詳細は @/components/Dropzone",stickyTips:"ページの指定位置へスクロールした場合、表示されます。",backToTopTips1:"トップへスクロールが表示されます。",backToTopTips2:"ボタンのスタイルはカスタマイズできます。例えば、show/hide、height、position。 またはElementのel-tooltipを使って、ツールチップを実装できます。",imageUploadTips:"mockjsは使えないため、カスタマイズしています。公式の最新バージョンを使ってください。"},table:{dynamicTips1:"先頭は固定、最後に追加",dynamicTips2:"戦後に追加せず、指定列に追加",dragTips1:"デフォルト順番",dragTips2:"Drag後の順番",title:"タイトル",importance:"重要",type:"タイプ",remark:"評価",search:"検索",add:"追加",export:"エクスポート",reviewer:"レビュアー",id:"番号",date:"日時",author:"作成者",readings:"閲覧数",status:"ステータス",actions:"操作",edit:"編集",publish:"公開",draft:"下書き",delete:"キャンセル",cancel:"キャンセル",confirm:"確認"},example:{warning:"新規作成と編集画面は keep-alive を使えないです。keep-alive の include はrouteのキャッシュは使えないです。そのため、component name を使ってキャッシュさせるようにします。このようなキャッシュ機能を作りたい場合，localStorageを使う手があります。もしくは keep-alive の includeを使って、全ページキャッシュする方法はあります。"},errorLog:{tips:"右上のbugアイコンをクリックしてください。",description:"管理画面はspaを使う場合が多い、ユーザ体現向上はできますが、想定外エラーが発生する場合があります。Vueはそのエラーハンドリング機能を提供し、エラーレポートができます。",documentation:"ドキュメント"},excel:{export:"エクスポート",selectedExport:"エクスポート対象を選択してください。",placeholder:"ファイル名を入力してください。"},zip:{export:"エクスポート",placeholder:"ファイル名を入力してください。"},pdf:{tips:"window.print() を使ってPDFダウンロードしています。"},theme:{change:"テーマ切替",documentation:"ドキュメント",tips:"Tips: テーマの切り替え方法はnavbarのtheme-pickと異なります、使い方はドキュメントを確認してください。"},tagsView:{refresh:"更新",close:"閉じる",closeOthers:"その他閉じる",closeAll:"すべて閉じる"},settings:{title:"システムテーマ",theme:"テーマ色",tagsView:"Tags-View 開く",fixedHeader:"Fixed Header",sidebarLogo:"Sidebar Logo"}};t.default=i},"8c5f":function(e,t,n){"use strict";n.r(t);var i=n("d7f5"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"8cd2":function(e,t,n){"use strict";n.r(t);var i=n("dfdca"),a=n("82c7");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("246a");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"57d6e065",null);t["default"]=s.exports},"8cf2":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("82a7")),r={props:["query","index","rule","labels","depth"],computed:{isCustomComponent:function(){return"custom-component"===this.rule.type},selectOptions:function(){return"undefined"===typeof this.rule.choices?{}:this.rule.choices.reduce((function(e,t,n){var i=t["group"];return"undefined"!==typeof i?(e[i]=e[i]||[],e[i].push(t)):e[n]=t,e}),{})},hasOptionGroups:function(){return this.selectOptions.length&&Array.isArray(this.selectOptions[0])}},beforeMount:function(){"custom-component"===this.rule.type&&(this.$options.components[this.id]=this.rule.component)},mounted:function(){var e=(0,a.default)(this.query);null===this.query.value&&("checkbox"===this.rule.inputType&&(e.value=[]),"select"===this.rule.type&&(e.value=this.rule.choices[0].value),"custom-component"===this.rule.type&&(e.value=null,"undefined"!==typeof this.rule.default&&(e.value=(0,a.default)(this.rule.default))),this.$emit("update:query",e))},methods:{remove:function(){this.$emit("child-deletion-requested",this.index)},updateQuery:function(e){var t=(0,a.default)(this.query);t.value=e,this.$emit("update:query",t)},querySearch:function(e,t){var n=this.rule.choices,i=e?n.filter(this.createFilter(e)):n;t(i)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleIconClick:function(){this.$refs.input.focus()}}};t.default=r},"8d42":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"sqlEditorDiv",staticClass:"app-container"},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.executeLoading,expression:"executeLoading"}],attrs:{id:"container","element-loading-text":e.loadText}},[n("div",{attrs:{id:"sidebar"}},[n("div",{staticClass:"unfold-shuju add-sidiv"},[n("img",{attrs:{src:e.shuju}}),n("span",[e._v("数据表")])]),"graphModel"!=e.callType?n("div",{staticClass:"unfold-canshu"},[n("img",{attrs:{src:e.canshu}}),n("span",[e._v("参数")])]):e._e(),n("div",{staticClass:"unfold-sql"},[n("img",{attrs:{src:e.sql}}),n("span",[e._v("函数")])])]),n("div",{staticClass:"left-part",attrs:{id:"leftPart"}},[n("div",{staticClass:"left-dataTree"},[n("el-input",{staticStyle:{"margin-top":"5px"},attrs:{id:"dataSearch",placeholder:"输入关键字进行过滤","suffix-icon":"el-icon-search"},on:{change:e.tableTreeSearch},model:{value:e.tableSearchInput,callback:function(t){e.tableSearchInput=t},expression:"tableSearchInput"}}),n("ul",{staticClass:"ztree",staticStyle:{"margin-top":"5px"},attrs:{id:"dataTree"}})],1),n("div",{staticClass:"left-paramTree"},[n("el-input",{staticStyle:{"margin-top":"5px"},attrs:{id:"paramSearch",placeholder:"输入关键字进行过滤","suffix-icon":"el-icon-search"},on:{change:e.paramTreeSearch},model:{value:e.paramSearchInput,callback:function(t){e.paramSearchInput=t},expression:"paramSearchInput"}}),n("ul",{staticClass:"ztree",staticStyle:{"margin-top":"5px"},attrs:{id:"paramTree"}})],1),n("div",{staticClass:"left-sqlFunTree"},[n("el-input",{staticStyle:{"margin-top":"5px"},attrs:{id:"sqlSearch",placeholder:"输入关键字进行过滤","suffix-icon":"el-icon-search"},on:{change:e.functionTreeSearch},model:{value:e.functionInput,callback:function(t){e.functionInput=t},expression:"functionInput"}}),n("ul",{staticClass:"ztree",staticStyle:{"margin-top":"5px"},attrs:{id:"sqlFunTree"}})],1)]),n("div",{staticStyle:{height:"100%"},attrs:{id:"rightPart"}},[n("div",{staticClass:"sql-editor-div",attrs:{id:"sqlEditorDiv"}},[n("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[n("el-col",[n("el-button",{staticClass:"oper-btn clean",staticStyle:{"margin-left":"18px"},attrs:{type:"primary",size:"small"},on:{click:e.sqlFormat}}),n("el-button",{staticClass:"oper-btn start",attrs:{type:"primary",size:"small"},on:{click:e.executeSQL}}),n("el-button",{staticClass:"oper-btn folder-1",attrs:{type:"primary",size:"small"},on:{click:e.openSqlDraftList}}),n("el-button",{staticClass:"oper-btn sqlcheck",attrs:{type:"primary",size:"small"},on:{click:e.getColumnSqlInfo}}),n("el-dropdown",{staticStyle:{"margin-left":"10px"}},[n("el-button",{staticClass:"oper-btn save",attrs:{type:"primary",size:"small"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.openSaveSqlDialog(1)}}},[e._v("SQL保存")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.openSaveSqlDialog(2)}}},[e._v("SQL另存为")])],1)],1),n("el-dropdown",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[n("el-button",{staticClass:"oper-btn maintain",attrs:{type:"primary",size:"small"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.findAndReplace(2)}}},[e._v("查找")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.findAndReplace(1)}}},[e._v("替换")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.caseTransformation(1)}}},[e._v("转大写")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.caseTransformation(2)}}},[e._v("转小写")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.selectSqlNotes()}}},[e._v("注释选中行")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.selectSqlCancelNotes()}}},[e._v("取消注释")])],1)],1),n("label",{staticStyle:{"margin-right":"-43px",color:"#9B4C4C","margin-left":"15px",cursor:"pointer"},on:{click:function(t){e.modelResultSavePathDialog=!0}}},[e._v(e._s(e.path))])],1)],1),n("div",{staticClass:"row",staticStyle:{display:"none","margin-left":"30px",height:"30px","line-height":"30px","font-weight":"bold"},attrs:{id:"sqlDraft"}}),n("textarea",{ref:"sql",staticStyle:{width:"100%",height:"320px"}})],1),n("div",{attrs:{id:"horizontal"}}),n("div",{attrs:{id:"bottomPart","lay-filter":"result-data"}},[n("div",{staticClass:"max-size",attrs:{id:"maxOpen"}},[n("div",{staticClass:"iconImg",attrs:{id:"iconImg",alt:"最大化"},on:{click:e.maxOpen}}),n("div",{staticClass:"iconImg",attrs:{id:"iconImg-huifu"},on:{click:e.maxOpen}})]),e._l(e.resultShow,(function(t){return e.isExecuteError?n("div",{staticClass:"data-show",attrs:{id:"dataShow"}},[n("childTabs",{key:t.id,ref:"childTabsRef",refInFor:!0,staticStyle:{width:"101.5%",height:"450px"},attrs:{"pre-value":e.currentExecuteSQL,"use-type":"sqlEditor",chartModelUuid:e.modelUuid,modelId:e.modelUuid,id:"childTabs1"}})],1):e._e()})),e.isExecuteError?e._e():n("div",{staticClass:"data-show"},[n("el-tabs",{staticStyle:{height:"30px"},attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"错误信息"}},[n("el-card",{staticClass:"box-card",staticStyle:{height:"100px"},attrs:{align:"center"}},[n("div",{staticStyle:{"font-weight":"lighter","font-size":"15px"}},[e._v(e._s(e.errorMessage))])])],1)],1)],1)],2)]),e._m(0),n("input",{attrs:{id:"personId",type:"hidden",value:"<%=LoginUserInfo.getLoginUserId()%>"}}),n("div",{staticClass:"rightMenu",attrs:{id:"tableMenu"}},[n("ul",[n("li",{on:{click:function(t){return e.getSelectSql("tableMenu")}}},[e._v("生成SELECT语句")]),n("li",{on:{click:function(t){return e.selectTableRelInfo("tableMenu")}}},[e._v("查看表关联信息")])])])]),e._m(1),e._m(2),e.sqlDraftDialogFormVisible?n("el-dialog",{attrs:{title:"请填写SQL草稿名称",visible:e.sqlDraftDialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.sqlDraftDialogFormVisible=t}}},[n("el-form",{ref:"sqlDraftForm",attrs:{model:e.sqlDraftForm,rules:e.sqlDraftFormRules}},[n("el-form-item",{attrs:{label:"草稿名称","label-width":e.formLabelWidth,prop:"draftTitle"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.sqlDraftForm.draftTitle,callback:function(t){e.$set(e.sqlDraftForm,"draftTitle",t)},expression:"sqlDraftForm.draftTitle"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.sqlDraftDialogFormVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveSqlDialog()}}},[e._v("确 定")])],1)],1):e._e(),e.sqlDraftDialog?n("el-dialog",{attrs:{title:"SQL草稿列表",visible:e.sqlDraftDialog,"append-to-body":!0,width:"50%"},on:{"update:visible":function(t){e.sqlDraftDialog=t}}},[n("sqlDraftList",{ref:"sqlDraftList"}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.sqlDraftDialog=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.useSql}},[e._v("使用SQL")])],1)],1):e._e(),e.dialogFormVisible?n("el-dialog",{attrs:{title:"请输入参数",visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[e.dialogFormVisible?n("paramDrawNew",{ref:"paramDrawRefNew",attrs:{sql:this.executeData.sql,arr:this.executeData.arr}}):e._e(),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.replaceNodeParam}},[e._v("确定")])],1)],1):e._e(),n("el-dialog",{attrs:{title:"选择SQL结果保存路径",visible:e.modelResultSavePathDialog,width:"30%","append-to-body":!0},on:{"update:visible":function(t){e.modelResultSavePathDialog=t}}},[n("data-tree",{staticStyle:{height:"500px","overflow-y":"scroll"},attrs:{"data-user-id":e.personCode,"scene-code":e.sceneCode,"tree-type":e.treeType},on:{"node-click":e.handleClick}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.modelResultSavePathDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelResultSavePathDetermine}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"表关联信息",visible:e.selectTableRelInfoDialog,width:"60%","append-to-body":!0},on:{"update:visible":function(t){e.selectTableRelInfoDialog=t}}},[n("tablerelation",{attrs:{"table-id":e.selectTableRelInfoTableId,"open-type":e.openTypeOne}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.selectTableRelInfoDialog=!1}}},[e._v("关闭")])],1)],1)],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"vertical"}},[n("div")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"form-horizontal",staticStyle:{display:"none"},attrs:{id:"countForm"}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:" control-label"},[e._v("视图SQL:")]),n("div",[n("textarea",{staticClass:"form-control",staticStyle:{height:"400px"},attrs:{id:"viewSql",name:"viewSql",type:"text",readonly:""}})])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-sm-12",staticStyle:{display:"none"},attrs:{id:"tableNameDiv"}},[n("div",{staticClass:"col-sm-10",staticStyle:{margin:"20px"}},[n("label",{staticClass:"col-sm-10 control-label",staticStyle:{color:"red"},attrs:{id:"saveTips"}}),n("input",{staticClass:"form-control",attrs:{id:"tableName",name:"tableName",type:"text"}})])])}]},"8da6":function(e,t,n){"use strict";n.r(t);var i=n("64ae"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"8db7":function(e,t,n){},"8df1":function(e,t,n){},"8e2e":function(e,t,n){"use strict";n.r(t);var i=n("d711"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"8e5e":function(e,t,n){"use strict";n.r(t);var i=n("90f4"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"8ebc":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.recplaceParams=u,t.getGraphTrees=c,t.getGrapgListByType=d,t.getGraphInfoById=h,t.deleteGraphInfoById=f,t.publicGraph=p,t.cancelPublicGraph=m,t.shareGraph=g,t.selectSharedPerson=v,t.cancelShareGraph=y,t.saveGraphInterface=b,t.createScreenQuery=A,t.getExecuteNodeInfoPost=w,t.getExportGrapgListByType=x,t.exportGraphXml=C,t.importGraphXml=k,t.deleteExecuteNodes=S,t.executeNodeSql=T,t.executeAllNodeSql=N,t.viewNodeData=I,t.verifyLargeData=D,t.getMaxMinColumn=P,t.dealReplaceParamSql=L,t.findParamsAndModelRelParams=O,t.executeParamSql=M,t.getSelectTreeData=E,t.replaceModelSqlByParams=R,t.compareSql=j,t.searchGraphNodes=B,t.getScreenGraphInfo=_,t.getScreenExecuteSql=V,t.selectScreenQueryData=F,t.verifySqlNodeSelectOption=U,t.getAnalysisTableInfo=q,t.getAnalysisDataDetail=z,t.getColumnsByTable=Q;var a=i(n("b775")),r=i(n("1157")),o="/graphtool",s="/analysis",l="/data";function u(e,t){var n,i=s+"/paramController/replaceModelSqlByParamsOne",a={sql:e,paramArr:t};return r.default.ajax({type:"post",url:i,dataType:"json",data:a,async:!1,success:function(e){n=e},error:function(e){}}),n}function c(){return(0,a.default)({baseURL:o,url:"/graphCt/getGraphTrees",method:"post"})}function d(e,t){var n={baseURL:o,url:"/graphCt/pageList",method:"post",data:e};return"undefined"!==typeof t&&(n.params=t),(0,a.default)(n)}function h(e){return(0,a.default)({baseURL:o,url:"/graphCt/getById/".concat(e),method:"get"})}function f(e){return(0,a.default)({baseURL:o,url:"/graphCt/delete/".concat(e),method:"delete"})}function p(e){return(0,a.default)({baseURL:o,url:"/graphCt/publicGraph/".concat(e),method:"post"})}function m(e){return(0,a.default)({baseURL:o,url:"/graphCt/cancelPublicGraph/".concat(e),method:"post"})}function g(e){return(0,a.default)({baseURL:o,url:"/graphShare/shareGraph",method:"post",params:e})}function v(e){return(0,a.default)({baseURL:o,url:"/graphShare/selectSharedPerson/".concat(e),method:"post"})}function y(e){return(0,a.default)({baseURL:o,url:"/graphShare/cancelShareGraph",method:"post",data:e})}function b(e){return(0,a.default)({baseURL:o,url:"/graphCt/save",method:"post",data:e})}function A(e){return(0,a.default)({baseURL:o,url:"/graphCt/createScreenQuery",method:"post",data:e})}function w(e){return(0,a.default)({baseURL:o,url:"/graphExecuteNode/getExecuteNodeInfo",method:"post",params:e})}function x(e,t){var n={baseURL:o,url:"/graphCt/exportPageList",method:"post",data:e};return"undefined"!==typeof t&&(n.params=t),(0,a.default)(n)}function C(e){return(0,a.default)({baseURL:o,url:"/graphCt/exportGraphXml",method:"post",params:e})}function k(e){return(0,a.default)({baseURL:o,url:"/graphCt/importGraphXml",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function S(e){return(0,a.default)({baseURL:o,url:"/graphExecuteNode/delete/".concat(e),method:"get"})}function T(e){return(0,a.default)({baseURL:o,url:"/graphCt/executeNodeSql",method:"post",data:e})}function N(e){return(0,a.default)({baseURL:o,url:"/graphCt/executeAllNodeSql",method:"post",data:e})}function I(e){return(0,a.default)({baseURL:o,url:"/graphCt/viewNodeData",method:"post",data:e})}function D(e){return(0,a.default)({baseURL:o,url:"/graphCt/verifyLargeData",method:"post",params:e})}function P(e){return(0,a.default)({baseURL:o,url:"/graphCt/getMaxMinColumn",method:"post",params:e})}function L(e){return(0,a.default)({baseURL:o,url:"/graphCt/dealReplaceParamSql",method:"post",data:e})}function O(){return(0,a.default)({baseURL:s,url:"/paramController/findParamsAndModelRelParams",method:"post"})}function M(e){return(0,a.default)({baseURL:s,url:"/paramController/executeParamSql",method:"post",async:!1,params:{sql:e}})}function E(e){var t={sqlValue:e};return(0,a.default)({baseURL:s,url:"/paramController/getSelectTreeData",method:"post",data:t})}function R(e,t){var n={sqlValue:e,paramConditions:t};return(0,a.default)({baseURL:s,url:"/paramController/replaceSqlByAllowedNull",method:"post",data:n})}function j(e){return(0,a.default)({baseURL:o,url:"/graphCt/compareSql",method:"post",params:e})}function B(e){return(0,a.default)({baseURL:o,url:"/graphCt/searchGraphNodes",method:"post",params:e})}function _(e){return(0,a.default)({baseURL:o,url:"/graphCt/getScreenGraphInfo",method:"post",params:e})}function V(e){return(0,a.default)({baseURL:o,url:"/graphCt/getScreenExecuteSql",method:"post",data:e})}function F(e){return(0,a.default)({baseURL:o,url:"/graphCt/selectScreenQueryData",method:"post",data:e})}function U(e){return(0,a.default)({baseURL:o,url:"/graphCt/verifySqlNodeSelectOption",method:"post",data:e})}function q(e){return(0,a.default)({baseURL:o,url:"/graphCt/getAnalysisTableInfo",method:"post",data:e})}function z(e){return(0,a.default)({baseURL:o,url:"/graphCt/getAnalysisDataDetail",method:"post",data:e})}function Q(e){return(0,a.default)({baseURL:l,url:"/tableMeta/getCols",method:"post",params:e})}},"8ee8":function(e,t,n){"use strict";n.r(t);var i=n("d5c7"),a=n("9f3b");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"8f37":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("1416")),r={name:"EditThresholdValue",props:["operationObj"],components:{Thresholdvaluetree:a.default},computed:{},data:function(){return{thresholdValue:{thresholdValueUuid:"",thresholdValueName:"",thresholdValueType:null,thresholdValueMemo:"",thresholdValueFolderUuid:"",thresholdValueFolderName:"",filterValue:"",thresholdValueInfoList:[],isDeleted:0},isShow:{threshValueInfoSetIsShow:!1,threshValueIsShow:!0},isBanEdit:!1,folderTreeDialog:!1,loading:!1,loadText:"",basicInfoRules:{thresholdValueName:[{type:"string",required:!0,message:"请输入阈值名称",trigger:"blur"}],thresholdValueFolderName:[{required:!0,message:"请选择阈值分类",trigger:"blur"}],filterValue:[{type:"string",validator:this.verValueMethods}]}}},created:function(){},mounted:function(){1===this.operationObj.operationType&&this.operationObj.folderId&&(this.thresholdValue.thresholdValueFolderUuid=this.operationObj.folderId,this.thresholdValue.thresholdValueFolderName=this.operationObj.folderName),2===this.operationObj.operationType&&(this.thresholdValue=this.operationObj.thresholdValue,this.onSelectChange(this.thresholdValue.thresholdValueType))},methods:{onSelectChange:function(e){1===e&&(this.isShow.threshValueIsShow=!0,this.isShow.threshValueInfoSetIsShow=!1),2===e&&(this.isShow.threshValueIsShow=!1,this.isShow.threshValueInfoSetIsShow=!0)},openFolderTreeDialog:function(){this.folderTreeDialog=!0},verValueMethods:function(e,t,n){if(1===this.thresholdValue.thresholdValueType&&(""===t?n(new Error("请输入值")):n()),2===this.thresholdValue.thresholdValueType)if(0===this.thresholdValue.thresholdValueInfoList.length)this.$message({type:"info",message:"最少输入一个阈值对象和值"});else{for(var i=!0,a=0;a<this.thresholdValue.thresholdValueInfoList.length;a++){var r=this.thresholdValue.thresholdValueInfoList[a].filterValue,o=this.thresholdValue.thresholdValueInfoList[a].filterConditions;if(!o||!r){this.$message({type:"info",message:"阈值对象或值不能为空"}),i=!1;break}}i&&n()}},getFolderTreeObj:function(){var e=this.$refs.Thresholdvaluetree.getSelectNode();this.thresholdValue.thresholdValueFolderUuid=e.id,this.thresholdValue.thresholdValueFolderName=e.label,this.folderTreeDialog=!1},addThreshValueInfo:function(){this.thresholdValue.thresholdValueInfoList.push({})},getSaveObj:function(){var e=!1;if(this.$refs["basicInfoForm"].validate((function(t){if(!t)return!1;e=!0})),e)return this.thresholdValue},deleteRowData:function(e,t){t.splice(e,1)}}};t.default=r},"8fce":function(e,t,n){},9031:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6762"),n("20d6"),n("5df3"),n("1c4c"),n("7514"),n("ac6a"),n("456d");var a=n("009c"),r=i(n("ded1")),o={name:"TranscodeSet",components:{TranscodeDetail:r.default},data:function(){return{transcodeLoading:!0,nodeData:null,columns:[],items:[],ruleArr:[],detailDialogVisible:!1,pressEscape:!1,clickModal:!1,transRuleUuid:""}},mounted:function(){var e=this;(0,a.getTransCodeList)().then((function(t){e.transcodeLoading=!1,null==t.data?e.$message.error("转码规则数据获取失败"):(e.ruleArr=t.data,e.$nextTick((function(){e.init()})))})).catch((function(){e.transcodeLoading=!1}))},methods:{init:function(){var e=this.$parent.$parent.$parent.graph;if(this.nodeData=e.nodeData[e.curCell.id],this.nodeData.isSet){var t=this.nodeData.setting.tableData,n=Object.keys(t);this.columns=JSON.parse(JSON.stringify(this.nodeData.setting.columns));for(var i=0;i<n.length;i++)this.addTranscode(n[i],t[n[i]].transRuleUuid,t[n[i]].ruleName)}else{var a=e.nodeData[e.curCell.id].parentIds[0],r=e.nodeData[a],o=[];r&&("newNullNode"!==r.nodeInfo.optType||r.isSet||(a=e.nodeData[a].parentIds[0],r=e.nodeData[a]),o=r.columnsInfo);for(var s=0;s<o.length;s++)1===o[s].isOutputColumn&&this.columns.push(o[s].newColumnName);this.addTranscode()}},getRuleName:function(e,t){var n=this.ruleArr.find((function(t){return t.transRuleUuid===e}));"undefined"!==typeof n&&(this.items[t].ruleName=n.ruleName)},addTranscode:function(e,t,n){for(var i="",a=[],r=0;r<this.columns.length;r++)e&&e===this.columns[r]&&(i=this.columns[r]),a.push({columnName:this.columns[r]});this.items.push({transRuleUuid:t,ruleName:n,colArr:a,selectColumnName:i})},deleteRule:function(e){this.items.splice(e,1)},previewTransCode:function(e){this.transRuleUuid=e,this.detailDialogVisible=!0},saveSetting:function(){var e={};Array.from(this.items,(function(t){return e[t.selectColumnName]={transRuleUuid:t.transRuleUuid,ruleName:t.ruleName}})),this.nodeData.setting.columns=this.columns,this.nodeData.setting.tableData=e},inputVerify:function(){if(0===this.items.length)return this.$message({type:"warning",message:"未添加转码规则"}),!1;var e=this.items.findIndex((function(e){return""===e.selectColumnName||"undefined"===typeof e.selectColumnName}));if(e>-1)return this.$message({type:"warning",message:"存在未选择转码字段的行"}),!1;if(e=this.items.findIndex((function(e){return""===e.transRuleUuid||"undefined"===typeof e.transRuleUuid})),e>-1)return this.$message({type:"warning",message:"存在未选择转码规则的字段"}),!1;for(var t=!0,n=[],i=0;i<this.items.length;i++){if(n.includes(this.items[i].transRuleUuid)){t=!1;break}n.push(this.items[i].transRuleUuid)}return t||this.$message.error("同一个字段不能选择多个转码规则"),t}}};t.default=o},"90e6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAABNklEQVRIDWP8//+/KwMDQxEQswAxNcEfoGF9IENBhntQ02Rks5iAHGq7HNl8FpAFNAWjFhAMXsoi+NevVob7j66DbWFi+s+gqhQMZAch20qZBTfvXGcoa/oLNpCZ4RfDlhW3kQ0HsYm14D9Q7Rs0zSJofBCXEV2MWAveMPhEVjL8/28DMYBpF8PWZRPRDcPGJ9YCBrDh//8nQAz59wGbYUAxkE9RADYLOhl8I5Yz/GOGeHfRVEUGYYGZKLpwc4gMor+MGgz//0IUf/jwH2gBbiNRZTB8MJqTUQMIC280iLAECqoQzYMIW0bjZnB1uMvACnWJhKgWkMXEoK25muHd+9NgUXExUKEWy6Agy8rg7XgTLMbI+A9IO4LZSAQjsFWxHcinVaW/A+SDPqiF2HyD5BaSmeBmCwD+ZUIMfnt1QAAAAABJRU5ErkJggg=="},"90f4":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e0d1")),r={components:{dataTree:a.default},data:function(){return{sceneCode:"auditor",personCode:this.$store.state.user.code,treeType:"common"}},created:function(){},methods:{handleClick:function(e,t,n){console.log(e,t,n)}}};t.default=r},"911b3":function(e,t,n){"use strict";n.r(t);var i=n("3536"),a=n("3685");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"912e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("el-row",[n("el-col",{attrs:{span:5}},[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText2,callback:function(t){e.filterText2=t},expression:"filterText2"}}),n("el-link",{staticClass:"select-link",attrs:{type:"primary"},on:{click:e.registTable}},[e._v("注册资源")]),n("div",{staticClass:"tree-container"},[n("MyElTree",{ref:"tree2",staticClass:"filter-tree",attrs:{props:e.props,load:e.loadNode2,lazy:"","filter-node-method":e.filterNode,"default-expanded-keys":["ROOT"],"highlight-current":"true","node-key":"id","show-checkbox":""},on:{"node-click":e.nodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},["ROOT"===a.id?n("i",{staticClass:"el-icon-s-home"}):e._e(),"FOLDER"===a.type?n("i",{staticClass:"el-icon-folder"}):e._e(),"TABLE"===a.type?n("i",[n("span",{staticClass:"icon iconfont",staticStyle:{"padding-right":"3px","vertical-align":"bottom"}},[e._v("")])]):e._e(),"COLUMN"===a.type?n("i",{staticClass:"el-icon-c-scale-to-original"}):e._e(),n("span",[e._v(e._s(i.label))]),n("span",{staticStyle:{"margin-left":"10px"}},["ROOT"===a.id||a.extMap&&"maintained"===a.extMap.folder_type?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.handleCreateFolder(i,a)}()}}},[n("i",{staticClass:"el-icon-circle-plus"})]):e._e(),a.extMap&&"maintained"===a.extMap.folder_type?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.handleUpdateFolder(i,a)}()}}},[n("i",{staticClass:"el-icon-edit"})]):e._e(),a.extMap&&"maintained"===a.extMap.folder_type||"TABLE"===a.type?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.handleRemove(i,a)}()}}},[n("i",{staticClass:"el-icon-delete"})]):e._e()],1)])}}])})],1)],1),n("el-col",{staticStyle:{"margin-left":"50px"},attrs:{span:14}},[e.divInfo?n("tabledatatabs",{ref:"tabledatatabs",attrs:{"open-type":"tableRegister","table-id":e.tableId,"tab-show":e.tabShow},on:{"update:tabShow":function(t){e.tabShow=t},"update:tab-show":function(t){e.tabShow=t}}}):e._e()],1)],1),n("el-dialog",{attrs:{title:"选择注册表",visible:e.registTableFlag,width:"600px"},on:{"update:visible":function(t){e.registTableFlag=t}}},[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText1,callback:function(t){e.filterText1=t},expression:"filterText1"}}),n("div",{staticClass:"tree-container"},[n("MyElTree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree1",staticClass:"filter-tree",attrs:{props:e.props,load:e.loadNode1,lazy:"","filter-node-method":e.filterNode,"show-checkbox":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},["USER"===a.type?n("i",{staticClass:"el-icon-menu",staticStyle:{color:"#409EFF"}}):e._e(),"TABLE"===a.type?n("i",{staticClass:"el-icon-tickets",staticStyle:{color:"#409EFF"}}):e._e(),"COLUMN"===a.type?n("i",{staticClass:"el-icon-s-ticket",staticStyle:{color:"#409EFF"}}):e._e(),n("span",[e._v(e._s(i.label))])])}}])})],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.folderFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.flagSelectTable}},[e._v("保存")])],1)],1),n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.folderFormVisible,width:"600px"},on:{"update:visible":function(t){e.folderFormVisible=t}}},[n("el-form",{ref:"folderForm",attrs:{model:e.folderForm,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"文件夹名称","label-width":"120px"}},[n("el-input",{staticStyle:{width:"300px"},model:{value:e.folderForm.folderName,callback:function(t){e.$set(e.folderForm,"folderName",t)},expression:"folderForm.folderName"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.folderFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createFolder():e.updateFolder()}}},[e._v("保存")])],1)],1)],1)},a=[]},"914d":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getByMenuId=o,t.saveHelpDocument=s,t.updateHelpDocument=l,t.getHelpByMenuPath=u;var a=i(n("b775")),r="/base";function o(e){return(0,a.default)({baseURL:r,url:"/helpDocument/getByMenuId/".concat(e),method:"get"})}function s(e){return(0,a.default)({baseURL:r,url:"helpDocument/save",method:"Post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"helpDocument/update",method:"Put",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/helpDocument/getByMenuPath",method:"post",data:e})}},"918d":function(e,t,n){"use strict";n.r(t);var i=n("9383"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"91a9":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("4381")),r=i(n("e350")),o=i(n("8ee8")),s={name:"DirectivePermission",components:{SwitchRoles:o.default},directives:{permission:a.default},data:function(){return{key:1}},methods:{checkPermission:r.default,handleRolesChange:function(){this.key++}}};t.default=s},"91e3":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"basicInfo",staticClass:"detail-form"},[n("el-form",{ref:"basicInfoForm",staticClass:"detail-form",attrs:{model:e.formData}},[n("el-row",[n("el-col",[n("el-form-item",{attrs:{label:"图形名称",prop:"graphName"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.graphName,callback:function(t){e.$set(e.formData,"graphName",t)},expression:"formData.graphName"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"图形类型",prop:"graphType"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0},model:{value:e.formData.graphType,callback:function(t){e.$set(e.formData,"graphType",t)},expression:"formData.graphType"}},[n("el-option",{attrs:{label:"个人图形",value:1}}),n("el-option",{attrs:{label:"他人分享图形",value:2}}),n("el-option",{attrs:{label:"场景查询图形",value:3}}),n("el-option",{attrs:{label:"个人场景查询图形",value:5}}),n("el-option",{attrs:{label:"模型图形",value:4}})],1)],1)],1),n("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:12}},[n("el-form-item",{attrs:{label:"执行状态",prop:"executeStatus"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0},model:{value:e.formData.executeStatus,callback:function(t){e.$set(e.formData,"executeStatus",t)},expression:"formData.executeStatus"}},[n("el-option",{attrs:{label:"全部执行",value:1}}),n("el-option",{attrs:{label:"部分执行",value:2}}),n("el-option",{attrs:{label:"未执行",value:3}})],1)],1)],1)],1),n("el-row",[n("el-col",[n("el-form-item",{attrs:{label:"创建人",prop:"createUserName"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.createUserName,callback:function(t){e.$set(e.formData,"createUserName",t)},expression:"formData.createUserName"}})],1)],1),n("el-col",[n("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.createTime,callback:function(t){e.$set(e.formData,"createTime",t)},expression:"formData.createTime"}})],1)],1)],1),n("el-row",[n("el-col",[n("el-form-item",{attrs:{label:"修改人",prop:"updateUserName"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.updateUserName,callback:function(t){e.$set(e.formData,"updateUserName",t)},expression:"formData.updateUserName"}})],1)],1),n("el-col",[n("el-form-item",{attrs:{label:"修改时间",prop:"updateTime"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.formData.updateTime,callback:function(t){e.$set(e.formData,"updateTime",t)},expression:"formData.updateTime"}})],1)],1)],1),n("el-row",[n("el-col",[n("el-form-item",{attrs:{label:"图形描述",prop:"description"}},[n("el-input",{attrs:{autosize:"",type:"textarea",disabled:!0},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)],1)],1)],1)],1)},a=[]},9236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},9247:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaCAYAAACtv5zzAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGgAAAACY9SbNAAAB8klEQVRIDb1UO0gDQRCdTQIqEjTxR0ASJRpBxcLGxsJCsEgdO8Ei/gqxEuwEsbESLARrsUlKBRGxEgs/WGgqsdGANmrSKCh669sYjsve5rLRw4HH7sy8N7O7t7eMc95NRIOAG/bEGDsqKYQG84BbdlJSHI5PDvzV54mEl16pt1DH63t0vUGhMPNw4kaIvox3VYNdkFY1dzIE3oaVy9LpL/gZHk/UEFcfkRCtW0UO80aHXCGl2kErMgKumOeXVWahawIWKulVDbIQzQErwIeiQAZ3fQt4AcT53yo4Zkh1RFMQHggGfo4GDPIqzabIB5FvE9xyJhowKflm8fcxTwKHwB3QCSyi8A7GZ2AM8ANlTTTAZSqxTRRYQiQERIAYdvQgGIg3YzgDRCMtUx1RP5R7FrWB+XLRF8ehXVxoVB+5WMscZrDyYSCMyJoZ1ZyodiBLxaqP5aCur7MD3VpKnn0Hl1dXtJ3KK9lysKfLoNnJETls9e0Ngo311NeTs5LKziPtdWVzxYS9QUc4SsmJaCWhbt7e4OeepzQLxMCbduKqGtRC0OIksuTEU+JoqgYDUAi4Yv9yTc+x1FVzuacXrRSL5ikQMF9NM1d5ci9TmBzg8fFRMjjeH/Yu56ryGQuAf2P/Bl7vNXk+a+yPbFXlQeZZYv7cN11jtGZax07+AAAAAElFTkSuQmCC"},9281:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALKADAAQAAAABAAAALAAAAAD8buejAAAGA0lEQVRYCe1YXWwVRRQ+s3v7Q1t/sH9ERIumFIuCopEaBIIalcYCpramxp9g4oONIdEXX0xa3vwJT8qLT1WCWEtDAGljUmIUCVgQMFpJWiAiCWmlWoHettze3fE7u3f3zt273W7/xXiS0zlz5puZs2fOnDO3gkBSyjo05SzPIZ0TQjSF2h8G7wXPNXWEMVYLA/o3Yf5zBu+Dd18EvwXuHcPT56GvB78M/mYMDKtbwdXgN8C/gydPCF6/GG5RVwSmFDzsCfQ/0S92cJA18GEPhrt7HAy36N8FHgSrNOUY3qVughvcg36nqoPcAX2fo4NsQv7c6SvtF4pMwF1A/6iqCysHxXCBzyJenbfPU/x0RT5ruSfjMxaswrn4hcR56Bc6MyHXq+eXkE20HJcWQS4DX06Mqc1FdBYruDfVwYQcKiQiziI+LW9wBosdQcveeNAHI6DbA8wxtNfAa8DZYC/dAUVXAsfeXuYFhO0HGcxr3AR+JsRiFSEw84BZHwIXCAmK4cCJczV4wxnMMch58RY0frE3m46MId0NjLehYzBfqMmnmfF2SR3/Ht0oVb16O9H1AjLNPtHW0itranRoy0mn24gi/ZQdPy9aWoZTpxI5Bu/FwGbv4DT3efN6qq1tpiGxliTxqdqkI8tIbT6ZssxRobrEyYx0iPZdV10dhNmKYU55q3HkTTSsLUkxlq0xREWKsayTMkIRcxGLKs2WwVtg7ClrY02TqgGBstDjPI47ZkUCy+OFxG/AfAVeAH4OrIO9dB0KftywFzmsGKvSDtq2bSt1di+iiJZB8Rhi14PRxRB0BkmRi5hWnWjARBgNb0txWrQ3nwsy+CQWWQvPRHl3fGUlGjbe/VrIo+DHgLEeRcDgwtAJ8GIwE3toMW2qW0Bx825Lk/qnl3LlSVyuQVZbF29QKyFdLIfhGSlQISSNZrapX5Myjs52x1gegNyG5keWFfraMZZ1kP9Cs0MZ30dbtvSTkXxHJMdkNx1sPkxUMyw31D0uK2urKZpbyF4kQz+Es4wlsZA4LLLiJUEGW/GTMsn2qKryw6i6VhoYKbQ2U2fp4hrl0s9U+1oBDbYizRmHcBERVkMX5IYXNtiZQf6kTrFkQ2QEGcyvM/etAflRTHrEs8hT0C91dJD5vfC600d7ljKNq3B96kUTGZxjDYoOvQ/XJd8hkjLR/1I++8pCemjZxZR5QotSvt4TZPA6bHgcRrwL/hjyIbD30uVAdwzj28ENkE+D1ZcYG3YFMYkXn+DLaVOE7Nwq6WlHpbR5ZMbWicZGnJRM5uCc3KNi586o60Flgio+gA5zEHEBeHsMgF2psox+GtViuK5ZFs6IJ/aVf6PPWSOVNJP1fL0zESo2DV9bjUt5JMjDCeSUmkLZ2Kihsq0nIfmpapNM/CrR9A8cldsK0U3zyjtg3DwyiUPMJpZHIvfPtMErqasrJ62ymVTCBomDuz8lTWyFKy+BkSKRibIjT4iWxhhF9eWOrW5rGHYFQfzxhUo/Ghc5aeEXFI0e6jxThXi0w8FdSh+goqzDoqlpxFVBgC2CKmvvxYW7T9VbsoicUItA2vh0KeTGl8pQ4Vakrce51hRnSdcu4z0Rw0ncTHL0Hhhb4GI5w/BHaNof9PDS75xKx6ko/QjcWVMSuPJ9Rptql1BcvxXvLWSL+JJQK/IHxYvbKa9Xc56aTpbgsrs51CITB3Eh+VXsbznOU63yO6SVphUTv3UNZIlV+YZo/MhNiTN96dgMdsp+xGapa5OU/A+XVNKFncpULReLhgY8gJLkeDipsaXn0aSXRi9qYv0rDOcKJ6tq4G2xEu8zVDaQrveJA7u/lRvrllPccCpnL+k5p/A+cTKxBXVieC96akhUAPiDhZihP1ZoXNeLURx0lO9LVqnGXtDn0ch8Uxz4hJ+c/oTj8v7nZ5U/cvq02LMI/A64GrwCfGeY1ccKiTBzp4rJxwLvKYvwW+VJpe8rzsal8914ssr/DZ6s58LOGyuGP8QlGAi7yCRxydfbBBYYy+A1E1hjVqE3XAw7hYM9PdfGmyhW6g/YWT25GdvsH6M5N+cdpacPAAAAAElFTkSuQmCC"},"92a8":function(e,t,n){"use strict";n("0c58")},"92d1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("el-link",{attrs:{href:e.indexUrl,target:"_blank"}},[e._v("访问数据挖掘")])],1)},a=[]},9320:function(e,t,n){},9369:function(e,t,n){"use strict";n.r(t);var i=n("f926"),a=n("6570");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("87f2");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"6fc713e2",null);t["default"]=s.exports},9376:function(e,t,n){"use strict";n("9320")},9382:function(e,t,n){"use strict";n.r(t);var i=n("d403"),a=n("c4bf");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("fa58");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"fd34396c",null);t["default"]=s.exports},9383:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("c5f6");var a=i(n("bcad")),r=i(n("635f")),o={matchType:"关系符",matchTypes:[{id:"or",label:"or"},{id:"and",label:"and"}],addRule:"添加条件",removeRule:"&times;",addGroup:"添加条件组",removeGroup:"&times;",textInputPlaceholder:"value"},s={name:"VueQueryBuilder",components:{QueryBuilderGroup:a.default},props:{rules:Array,labels:{type:Object,default:function(){return o}},maxDepth:{type:Number,default:3,validator:function(e){return e>=1}},value:Object},data:function(){return{query:{logicalOperator:this.labels.matchTypes[0].id,children:[]},ruleTypes:{text:{operators:["equals","does not equal","contains","does not contain","is empty","is not empty","begins with","ends with"],inputType:"text",id:"text-field"},numeric:{operators:["=","<>","<","<=",">",">="],inputType:"number",id:"number-field"},custom:{operators:[],inputType:"text",id:"custom-field"},radio:{operators:["="],choices:[],inputType:"radio",id:"radio-field"},checkbox:{operators:[],choices:[],inputType:"checkbox",id:"checkbox-field"},select:{operators:[],choices:[],inputType:"select",id:"select-field"},"multi-select":{operators:["="],choices:[],inputType:"select",id:"multi-select-field"},inputselect:{operators:[],choices:[],inputType:"inputselect",id:"inputselect-field"}},sql:""}},computed:{mergedLabels:function(){return Object.assign({},o,this.labels)},mergedRules:function(){var e=[],t=this;return t.rules.forEach((function(n){"undefined"!==typeof t.ruleTypes[n.type]?e.push(Object.assign({},t.ruleTypes[n.type],n)):e.push(n)})),e},vqbProps:function(){return{index:0,depth:1,maxDepth:this.maxDepth,ruleTypes:this.ruleTypes,rules:this.mergedRules,labels:this.mergedLabels}}},mounted:function(){var e=this;this.$watch("query",(function(t){JSON.stringify(t)!==JSON.stringify(e.value)&&(e.$emit("input",(0,r.default)(t)),e.$emit("sql",e.queryToSql(t)))}),{deep:!0}),this.$watch("value",(function(t){JSON.stringify(t)!==JSON.stringify(e.query)&&(e.query=(0,r.default)(t))}),{deep:!0}),"undefined"!==typeof this.$options.propsData.value&&(this.query=Object.assign(this.query,this.$options.propsData.value))},methods:{queryToSql:function(e){var t=[],n=this,i=e.logicalOperator,a=e.children;return a.forEach((function(e){var a=e.type;"query-builder-rule"===a?(t.push(e.query.rule),t.push(e.query.operator),t.push(e.query.value)):(t.push("("),t.push(n.queryToSql(e.query)),t.push(")")),t.push(i)})),t.splice(t.length-1,t.length),t.join(" ")}}};t.default=s},9396:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7514"),n("20d6"),n("ac6a");var a=i(n("e0d1")),r=i(n("445c")),o=n("d42c"),s=n("0c96"),l={components:{dataTree:a.default,myQueryBuilder:r.default},props:["tableId","openType"],data:function(){return{sceneCode:"auditor",dataUserId:this.$store.getters.personcode,columnList:{},relTableColumn:[],currentFilterInputId:"",queryBuilderJson:{},inputValue:{},inputValueJson:{},sqlJoinCols:[{sqlGenJoinName:"left join",sqlGenJoinType:1},{sqlGenJoinName:"right join",sqlGenJoinType:2},{sqlGenJoinName:"full join",sqlGenJoinType:3},{sqlGenJoinName:"inner join",sqlGenJoinType:4}],options:[{value:"NORMAL",label:"NORMAL"},{value:"BITMAP",label:"BITMAP"}],dataTableTree:!1,queryBuilderDialogVisible:!1,copyColObj:{},selections:[],sqlType:{},temp:[],tempItemInd:0,curItempItemInd:0}},created:function(){"addTable"!==this.openType&&this.initTable(this.tableId)},methods:{initTable:function(e){var t=this;this.temp=[],(0,s.getById)(e).then((function(e){t.temp=e.data,console.log(t.temp),t.temp.forEach((function(e){e.index=t.tempItemInd,t.tempItemInd++}))})),(0,o.getColsInfo)(e).then((function(e){t.colNames=e.data.colMetas;var n=[];e.data.colMetas.forEach((function(e){var t={};t.columnType=e.dataType,t.columnName=e.colName,n.push(t)})),t.columnList.columnList=n}))},queryCondition:function(){var e=this.$refs.myQueryBuilder.getSelectSql();this.queryBuilderDialogVisible=!1,this.setFilter(e.sql,JSON.stringify(e.queryJson))},setFilter:function(e,t){this.temp[this.currentFilterInputId].sqlGenOnStr=e,this.temp[this.currentFilterInputId].sqlGenOnStrJson=t},handleSelectionChange:function(e){this.selections=e},addCol:function(){var e={};e.index=this.tempItemInd,e.colMetaUuid="",e.relTableMetaUuid="",e.relationTableName="",e.relColMetaUuid="",e.relationCol="",e.relationCols=[{colMetaUuid:"",colName:""}],e.sqlGenJoinType=null,e.sqlGenOnStr="",e.sqlGenOnStrJson="",e.outputColum=[],this.temp.push(e),this.tempItemInd++},showDataTree:function(e){this.curItempItemInd=e,this.dataTableTree=!0},delCol:function(){var e=this;this.selections.forEach((function(t,n){var i=e.temp.findIndex((function(e){return JSON.stringify(e)===JSON.stringify(t)}));e.temp.splice(i,1)}))},getDataTable:function(){var e=this,t=this.$refs.dataTableTree.getTree(),n=t.getCurrentNode();if("table"===n.type){this.loadTableCol(n.id);var i=this.temp.find((function(t){return t.index===e.curItempItemInd}));"undefined"!==typeof i&&(i.relationTableName=n.label,i.relTableMetaUuid=n.id,i.tableMetaUuid=this.tableId,(0,o.getColsInfo)(n.id).then((function(e){i.relationCols=e.data.colMetas,e.data.colMetas.forEach((function(e){var t={};t.columnType=e.dataType,t.outputColumnName=e.colName,i.outputColum.push(t)}))}))),this.dataTableTree=!1}else this.$message({type:"info",message:"请选择数据表!"})},formatSqlGenJoinType:function(e){var t="";switch(e.sqlGenJoinType){case 1:t="left join";break;case 2:t="right join";break;case 3:t="full join";break;case 4:t="inner join";break}return t},loadTableCol:function(e){var t=this;(0,o.getColsInfo)(e).then((function(e){null!=e.data?t.relTableColumn=e.data:t.$message({type:"info",message:"加载数据表列失败!"})}))},openQueryBuilder:function(e){""!==this.temp[e].sqlGenOnStrJson&&(this.queryBuilderJson=JSON.parse(this.temp[e].sqlGenOnStrJson)),this.queryBuilderDialogVisible=!0,this.currentFilterInputId=e},saveTableRelation:function(){var e=this;(0,s.saveTableRelation)(this.temp).then((function(){e.$notify({title:"成功",message:"保存成功",type:"success",duration:2e3,position:"bottom-right"})}))},clickitem:function(e,t){this.temp[e].onlyIndex!==t?this.temp[e].onlyIndex=t:this.temp[e].onlyIndex="0"}}};t.default=l},"93b3":function(e,t,n){"use strict";n.r(t);var i=n("edc9"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"93c6":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vqb-group card",class:"depth-"+e.depth.toString()},[n("div",{staticClass:"vqb-group-heading card-header"},[n("div",{staticClass:"match-type-container form-inline"},[n("label",{staticClass:"mr-2",attrs:{for:"vqb-match-type"}},[e._v(" "+e._s(e.labels.matchType)+" ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.logicalOperator,expression:"query.logicalOperator"}],staticClass:"form-control",staticStyle:{"margin-top":"5px"},attrs:{id:"vqb-match-type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"logicalOperator",t.target.multiple?n:n[0])}}},e._l(e.labels.matchTypes,(function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.label)+" ")])})),0),e.depth>1?n("button",{staticClass:"close ml-auto",attrs:{type:"button"},domProps:{innerHTML:e._s(e.labels.removeGroup)},on:{click:e.remove}}):e._e()])]),n("div",{staticClass:"vqb-group-body card-body"},[n("div",{staticClass:"rule-actions form-inline"},[n("div",{staticClass:"form-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedRule,expression:"selectedRule"}],staticClass:"form-control mr-2",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedRule=t.target.multiple?n:n[0]}}},e._l(e.rules,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.label)+" ")])})),0),n("button",{staticClass:"btn btn-secondary mr-2",attrs:{type:"button"},on:{click:e.addRule}},[e._v(" "+e._s(e.labels.addRule)+" ")]),e.depth<e.maxDepth?n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.addGroup}},[e._v(" "+e._s(e.labels.addGroup)+" ")]):e._e()])]),n("query-builder-children",e._b({},"query-builder-children",e.$props,!1))],1)])},a=[]},9445:function(e,t,n){"use strict";n.r(t);var i=n("6ac9"),a=n("918d");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"944d":function(e,t,n){"use strict";n("c318")},9488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{treeData:[Array]},data:function(){return{defaultProps:{children:"children",label:"label"}}},methods:{handleNodeClick:function(e){this.$emit("node-click",e),console.log(e)}}};t.default=i},"94d5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var i={sidebar:function(e){return e.app.sidebar},language:function(e){return e.app.language},size:function(e){return e.app.size},device:function(e){return e.app.device},visitedViews:function(e){return e.tagsView.visitedViews},cachedViews:function(e){return e.tagsView.cachedViews},token:function(e){return e.user.token},personuuid:function(e){return e.user.id},personcode:function(e){return e.user.code},scenecode:function(e){return e.user.scenecode},scenename:function(e){return e.user.scenename},datauserid:function(e){return e.user.datauserid},datausername:function(e){return e.user.datausername},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},introduction:function(e){return e.user.introduction},roles:function(e){return e.user.roles},permission_routes:function(e){return e.permission.routes},errorLogs:function(e){return e.errorLog.logs}},a=i;t.default=a},"94f4":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("0dc2")),r=n("da09"),o={createDatasources:function(e,t){e.state;return t.connectionParams=JSON.stringify(t),new Promise((function(e,n){(0,r.save)(t).then((function(t){e(t)})).catch((function(e){n(e)}))}))},connectDatasources:function(e,t){e.state;return new Promise((function(e,n){(0,r.testConn)(t).then((function(t){e(t)})).catch((function(e){n(e)}))}))},getDatasourcesList:function(e,t){e.state;return new Promise((function(e,n){a.default.get("datasources/list",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getDatasourcesListP:function(e,t){e.state;return new Promise((function(e,n){a.default.get("datasources/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},deleteDatasource:function(e,t){e.state;return new Promise((function(e,n){a.default.get("datasources/delete",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},updateDatasource:function(e,t){e.state;return t.connectionParams=JSON.stringify(t),new Promise((function(e,n){(0,r.update)(t).then((function(t){e(t)})).catch((function(e){n(e)}))}))},getKerberosStartupState:function(e,t){e.state;return new Promise((function(e,n){a.default.get("datasources/kerberos-startup-state",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))}};t.default=o},"953d":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"app-container",attrs:{"element-loading-text":e.loadText}},[n("el-container",[n("el-aside",{staticClass:"tree-side"},[n("ModelFolderTree",{ref:"modelFolderTree",attrs:{power:e.power,spaceFolderName:e.thisFolderName,spaceFolderId:e.thisDataUserId},on:{refreshModelList:e.refreshModelList}})],1),n("ModelListTable",{ref:"modelListTable",attrs:{isAuditWarring:e.isAuditWarring,"data-user-id":e.thisDataUserId,"scene-code":e.thisSceneCode,power:e.power},on:{loadingSet:e.loadingSet,refreshTree:e.refreshTree}})],1)],1)},a=[]},"954e":function(e,t,n){"use strict";n("bfe0")},"955f":function(e,t,n){"use strict";n("0d91")},9641:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-group",attrs:{id:"accordion1"}},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-collapse collapse in",attrs:{id:"collapse1"}},[n("div",{staticClass:"panel-body",staticStyle:{"overflow-x":"auto"}},[e._m(0),n("img",{attrs:{id:"paramSearchImg"},on:{click:e.paramTreeSearch}}),n("input",{staticClass:"form-control",attrs:{id:"paramSearch",name:"paramSearch",type:"text",autocomplete:"off",placeholder:"查询"}}),n("ul",{staticClass:"ztree",staticStyle:{"max-height":"400px"},attrs:{id:"paramTree"}})])])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rightMenu",attrs:{id:"paramFolderMenu2"}},[n("ul",[n("li",{attrs:{onclick:"addParam(2)"}},[e._v("添加参数")]),n("li",{attrs:{onclick:"addFolder(2)"}},[e._v("添加分类")])])])}]},"968d":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-ag-grid-wrap h100"},[n("div",{staticClass:"ag-theme-balham w100 new-ag-grid",attrs:{id:"myGrid"}}),e.gridOptions.isPagination?n("div",{staticClass:"new-pagination flex a-center j-start w100"},[n("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()])},a=[]},"96db":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary"},on:{click:e.add}}),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.update}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",disabled:0===e.selections.length},on:{click:e.deleteBiz}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"业务属性名称",width:"300px",align:"center",prop:"attrName"}}),n("el-table-column",{attrs:{label:"业务属性编码",width:"300px",align:"center",prop:"attrCode"}}),n("el-table-column",{attrs:{label:"创建时间",width:"300px",align:"center",prop:"createTime"}}),n("el-table-column",{attrs:{label:"描述",prop:"describtion"}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[[n("div",{staticClass:"detail-form"},[n("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"right",width:"80%"}},[n("el-form-item",{attrs:{label:"业务属性名称",prop:"attrName"}},[n("el-input",{model:{value:e.temp.attrName,callback:function(t){e.$set(e.temp,"attrName",t)},expression:"temp.attrName"}})],1),n("el-form-item",{attrs:{label:"业务属性编码",prop:"attrCode"}},[n("el-input",{model:{value:e.temp.attrCode,callback:function(t){e.$set(e.temp,"attrCode",t)},expression:"temp.attrCode"}})],1),n("el-form-item",{attrs:{label:"描述",prop:"describtion"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.temp.describtion,callback:function(t){e.$set(e.temp,"describtion",t)},expression:"temp.describtion"}})],1)],1)],1)],n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("保存")])],1)],2)],1)},a=[]},"971e":function(e,t,n){"use strict";n.r(t);var i=n("7b8f"),a=n("272f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},9725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={setProcessStatus:function(e,t){e.processStatus=t},setProcessStartTime:function(e,t){e.processStartTime=t},setProcessEndTime:function(e,t){e.processEndTime=t},setProcessGroupExecutionStatusType:function(e,t){e.processGroupExecutionStatusType=t},setScheduleDetail:function(e,t){e.scheduleDetail=t}};t.default=i},"977f":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a481"),n("6b54"),n("b360"),n("588b");var a=n("401be"),r=i(n("333d")),o=i(n("f2d9")),s=i(n("1aad")),l=i(n("7993")),u=n("abfa"),c=n("7a42"),d=i(n("bc3a")),h=(i(n("2106")),i(n("c72e")),i(n("445c"))),f=(n("322d"),n("6026")),p=n("009c"),m=i(n("3f77"));n("dcad");var g=n("9ac2"),v={name:"childTabCon",components:{AgGridVue:a.AgGridVue,Pagination:r.default,myQueryBuilder:h.default,childtabscopy:s.default,downloadExcel:o.default,mtEditor:m.default,userProject:l.default},watch:{modelDetailModelResultDialogIsShow:function(e){this.$nextTick((function(){e&&this.initWebSocket()}))},nowChartJson:function(){this.chartPreview=!this.chartPreview}},props:["nowtable","modelUuid","useType","prePersonalVal","resultSpiltObjects","modelId","preLength","myIndex","chartModelUuid","settingInfo","isModelPreview"],data:function(){return{chartPreview:!0,dialogVisible:!1,columnDefs:[],rowData:[],pageQuery:{condition:null,pageNo:1,pageSize:20},total:0,imgBaseCode:"",myFlag:!1,selectRows:[],detailTable:[],dataArray:[],queryData:[],queryJson:{},primaryKey:"",isLoading:!0,nextValue:[],modelResultData:[],modelResultColumnNames:[],total1:null,isSee:!0,errorMessage:"",modelResultPageIsSee:!1,modelResultButtonIsShow:!1,modelDetailRelation:[],modelOutputColumn:[],modelDetailButtonIsShow:!1,modelDetailDialogIsShow:!1,options:[],value:"",tableData:[],excelName:"",json_fields:{},modelDetailModelResultDialogIsShow:!1,currentExecuteSQL:[],webSocket:null,dataCoding:{},nowSql:"undefined",modelRunResultBtnIson:{exportBtn:!1,chartDisplayBtn:!1,associatedBtn:!0,disassociateBtn:!1,modelDetailAssBtn:!0},dynamicSelect:[],chartShowIsSee:!1,result:{},chartSaveOrUpdate:"",nowChartJson:void 0,modelChartSetups:[],chartConfigs:[],afterResult:!1,chartLoading:!0,afterAddChartsWithNoConfigure:!1,isHaveCharts:!1,projectDialogIsSee:!1,chartSwitching:!0,modelObj:{},rowIndex:"",tableClass:"el-btn-no-color",chartClass:"el-btn-color",globalDropDownBox:!1,globalDropTop:0,globalDropLeft:0,timeOut:setTimeout}},mounted:function(){this.getRenderTableData(),this.chartReflexion()},created:function(){var e=this;window.openModelDetailNew=e.openModelDetailNew},methods:{clickBigTab:function(){var e=this;window.openModelDetailNew=e.openModelDetailNew},switchDivStyle:function(e){"table"===e?(this.chartSwitching=!1,this.tableClass="el-btn-color",this.chartClass="el-btn-no-color"):"chart"===e&&(this.chartSwitching=!0,this.tableClass="el-btn-no-color",this.chartClass="el-btn-color")},rowChange:function(){var e=this.gridApi.getSelectedRows();0==e.length?(this.modelRunResultBtnIson.exportBtn=!1,this.modelRunResultBtnIson.chartDisplayBtn=!1,this.modelRunResultBtnIson.associatedBtn=!0,this.modelRunResultBtnIson.disassociateBtn=!1,this.modelRunResultBtnIson.modelDetailAssBtn=!0):1==e.length?(this.modelRunResultBtnIson.exportBtn=!1,this.modelRunResultBtnIson.chartDisplayBtn=!1,this.modelRunResultBtnIson.associatedBtn=!1,this.modelRunResultBtnIson.disassociateBtn=!1,this.modelRunResultBtnIson.modelDetailAssBtn=!1):e.length>1&&(this.modelRunResultBtnIson.exportBtn=!1,this.modelRunResultBtnIson.chartDisplayBtn=!1,this.modelRunResultBtnIson.associatedBtn=!1,this.modelRunResultBtnIson.disassociateBtn=!1,this.modelRunResultBtnIson.modelDetailAssBtn=!0)},exportExcel:function(){(0,d.default)({method:"post",url:"/analysis/RunResultTableController/exportRunResultMainTable",responseType:"blob"}).then((function(e){var t=document.createElement("a"),n=new Blob([e.data],{type:"application/vnd.ms-excel"});t.style.display="none",t.href=URL.createObjectURL(n),t.setAttribute("download","模型运行结果表.xlsx"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},removeRelated:function(){var e=this;this.getValues();for(var t=[],n=0;n<this.selectRows.length;n++)t.push(this.selectRows[n].onlyuuid);var i=t.join(",");(0,c.removeResultDetailProjectRel)(i).then((function(t){1==t.data?e.$message({type:"success",message:"移除关联项目成功!"}):e.$message({type:"error",message:"移除关联项目失败!"})}))},openProjectDialog:function(){var e=this;(0,c.getResultRelProject)(this.nowtable.runTaskRelUuid).then((function(t){0==t.data.length?e.projectDialogIsSee=!0:e.$message({message:"模型结果已经关联项目，详细结果就不能再关联"})}))},determineProject:function(){var e=this.$refs.userproject.getSelectValue();0===e.length?this.$message({message:"请选择要关联的项目"}):1===e.length?(this.addDetailRel(e[0].PRJ_PROJECT_UUID,e[0].PRJ_NAME),this.projectDialogIsSee=!1):this.$message({message:"只能关联一个项目"})},addDetailRel:function(e,t){var n=this;this.getValues(),(0,c.selectByRunResultTableUUid)(this.nowtable.runResultTableUuid).then((function(i){n.detailTable=i.data;var a=[];if(0==i.data.length)(0,c.selectPrimaryKeyByTableName)().then((function(i){n.primaryKey=i.data;for(var r=0;r<n.selectRows.length;r++){var o={resultDetailProjectRelId:"",runResultTableUuid:n.nowtable.runResultTableUuid,runTaskRelUuid:n.nowtable.runTaskRelUuid,projectId:e,resultDetailId:n.selectRows[r][n.primaryKey.toLowerCase()],projectName:t};a.push(o)}(0,c.batchSaveResultDetailProjectRel)(a).then((function(e){1==e.data?n.$message({type:"success",message:"关联项目成功!"}):n.$message({type:"error",message:"关联项目失败!"})}))}));else{a=[];var r=[];(0,c.selectPrimaryKeyByTableName)().then((function(i){n.primaryKey=i.data;for(var o=0;o<n.selectRows.length;o++)for(var s=0;s<n.detailTable.length;s++)n.selectRows[o][n.primaryKey.toLowerCase()]==n.detailTable[s].resultDetailId&&r.push(n.selectRows[o][n.primaryKey.toLowerCase()]);if(0==r.length){for(o=0;o<n.selectRows.length;o++){var l={resultDetailProjectRelId:"",runResultTableUuid:n.nowtable.runResultTableUuid,runTaskRelUuid:n.nowtable.runTaskRelUuid,projectId:e,resultDetailId:n.selectRows[o][n.primaryKey.toLowerCase()],projectName:t};a.push(l)}(0,c.batchSaveResultDetailProjectRel)(a).then((function(e){1==e.data?n.$message({type:"success",message:"关联项目成功!"}):n.$message({type:"error",message:"关联项目失败!"})}))}else{var u=[];for(o=0;o<n.selectRows.length;o++){l={resultDetailProjectRelId:"",runResultTableUuid:n.nowtable.runResultTableUuid,runTaskRelUuid:n.nowtable.runTaskRelUuid,projectId:e,resultDetailId:n.selectRows[o][n.primaryKey.toLowerCase()],projectName:t};u.push(l)}(0,c.batchCoverAddResultDetailProjectRel)(u).then((function(e){if(1==e.data){for(var t="",i=0;i<r.length;i++)i!=r.length-1?t+=r[i]+" , ":t+=r[i];n.$message({type:"success",message:"关联成功！ 其中 "+t+" 为主键的结果以前关联的项目被覆盖"})}else n.$message({type:"error",message:"关联失败!"})}))}}))}}))},getValues:function(){var e=this.gridApi.getSelectedRows();0==e.length&&this.$message({type:"info",message:"请选择后再进行关联!"}),this.selectRows=e},onGridReady:function(e){this.gridApi=e.api},initData:function(e,t,n){var i=this;if(this.result={},"modelRunResult"==this.useType){this.isLoading=!0,1==this.nowtable.tableType?this.myFlag=!0:this.chartLoading=!1;var a=[],r=[],o=[],s=[],l={},u=[];if(this.modelObj.modelDetailRelation)for(var d=0;d<this.modelObj.modelDetailRelation.length;d++)for(var h=this.modelObj.modelDetailRelation[d],f=0;f<h.modelDetailConfig.length;f++){var m=h.modelDetailConfig[f];m.resultColumn&&u.push(m.resultColumn.toUpperCase())}var g=[];if(void 0!=this.settingInfo?g.push(JSON.parse(this.settingInfo).thresholdValueRel):g=this.modelObj.modelThresholdValues,void 0!==this.modelUuid){for(var v=0;v<g.length;v++)2==g[v].thresholdValue.thresholdValueType&&-1==s.indexOf(g[v].modelResultColumnName)&&s.push(g[v].modelResultColumnName);for(v=0;v<g.length;v++)2==g[v].thresholdValue.thresholdValueType&&("string"===typeof g[v].colorInfo&&(g[v].colorInfo=JSON.parse(g[v].colorInfo)),l[g[v].modelResultColumnName]=g[v])}this.pageQuery.condition=this.nowtable,"string"!==typeof e&&(e="undefined"),(0,c.selectTable)(this.pageQuery,e,this.resultSpiltObjects).then((function(e){for(var t=e.data.records[0].columns,n=[],c=1;c<t.length;c++)n.push(t[c].toUpperCase());i.result.column=n,i.result.id=i.modelObj.modelUuid,i.result.name=i.modelObj.modelName;var d=[];for(c=0;c<e.data.records[0].result.length;c++){for(var h=[],f=1;f<t.length;f++)h.push(e.data.records[0].result[c][t[f]]);d.push(h)}i.result.data=d;var p=e.data.records[0].columnInfo.columnList,m=[];for(c=1;c<p.length;c++){var g="";-1!=p[c].columnType.toUpperCase().indexOf("VARCHAR")?g="varchar":-1!=p[c].columnType.toUpperCase().indexOf("NUMBER")||-1!=p[c].columnType.toUpperCase().indexOf("INT")?g="number":-1!=p[c].columnType.toUpperCase().indexOf("TIMESTAMP")||-1!=p[c].columnType.toUpperCase().indexOf("DATE")?g="time":-1!=p[c].columnType.toUpperCase().indexOf("FLOAT")&&(g="float"),m.push(g)}if(i.result.columnType=m,i.afterResult=!0,0==e.data.records[0].result.length&&(i.isLoading=!1),i.total=e.data.total,i.dataArray=e.data.records[0].result,i.queryData=e.data.records[0].columnInfo,a=e.data.records[0].columns,void 0!=i.modelUuid){var v=!1;if(void 0!=i.settingInfo)for(c=0;c<a.length;c++){var y={};if(-1!=s.indexOf(a[c].toUpperCase())||-1!=u.indexOf(a[c].toUpperCase())){var b=l[a[c].toUpperCase()];0==v?(y={headerName:a[c],field:a[c],cellRenderer:function(e){return i.changeCellColor(e,b,u)},checkboxSelection:!0},v=!0):y={headerName:a[c],field:a[c],cellRenderer:function(e){return i.changeCellColor(e,b,u)}}}else 0==v?(y={headerName:a[c],field:a[c],checkboxSelection:!0},v=!0):y={headerName:a[c],field:a[c]};r.push(y)}else for(c=0;c<a.length;c++)e:for(f=0;f<i.modelOutputColumn.length;f++)if(i.modelOutputColumn[f].outputColumnName.toLowerCase()==a[c]){if(1==i.modelOutputColumn[f].isShow){y={};if(-1!=s.indexOf(a[c].toUpperCase())||-1!=u.indexOf(a[c].toUpperCase())){b=l[a[c].toUpperCase()];0==v?(y={headerName:i.modelOutputColumn[f].columnAlias,field:a[c],cellRenderer:function(e){return i.changeCellColor(e,b,u)},checkboxSelection:!0},v=!0):y={headerName:i.modelOutputColumn[f].columnAlias,field:a[c],cellRenderer:function(e){return i.changeCellColor(e,b,u)}}}else 0==v?(y={headerName:i.modelOutputColumn[f].columnAlias,field:a[c],checkboxSelection:!0},v=!0):y={headerName:i.modelOutputColumn[f].columnAlias,field:a[c]};r.push(y)}break e}}else{for(c=0;c<a.length;c++){if(0==c)y={headerName:a[c],field:a[c],checkboxSelection:!0};else y={headerName:a[c],field:a[c]};r.push(y)}i.isLoading=!1}if(void 0!=i.modelUuid){for(c=0;c<e.data.records[0].result.length;c++)o.push(e.data.records[0].result[c]);for(c=0;c<o.length;c++)for(f=0;f<a.length;f++)for(var A=0;A<i.modelOutputColumn.length;A++)if(i.modelOutputColumn[A].outputColumnName.toLowerCase()==a[f]&&void 0!=i.modelOutputColumn[A].dataCoding){var w=o[c][a[f]];o[c][a[f]]=i.dataCoding[i.modelOutputColumn[A].dataCoding][w]}}else for(c=0;c<e.data.records[0].result.length;c++)o.push(e.data.records[0].result[c])})),this.columnDefs=r,this.rowData=o}else if("sqlEditor"==this.useType)this.getIntoModelResultDetail(t);else if("modelPreview"==this.useType){this.loading=!0,this.nextValue=t;r=[];var y=[];s=[],l={},g=[];if(this.prePersonalVal.id==this.nextValue.executeSQL.id){if("2"==this.nextValue.executeSQL.state)if("SELECT"==this.nextValue.executeSQL.type){this.modelResultButtonIsShow=!0,this.modelResultPageIsSee=!0,this.modelResultData=this.nextValue.result,this.result.column=this.nextValue.columnNames;var b=this.nextValue.columnTypes,A=[];for(v=0;v<b.length;v++){var w="";-1!=b[v].toUpperCase().indexOf("VARCHAR")?w="varchar":-1!=b[v].toUpperCase().indexOf("NUMBER")||-1!=b[v].toUpperCase().indexOf("INT")?w="number":-1!=b[v].toUpperCase().indexOf("TIMESTAMP")||-1!=b[v].toUpperCase().indexOf("DATE")?w="time":-1!=b[v].toUpperCase().indexOf("FLOAT")&&(w="float"),A.push(w)}var x=this.nextValue.result;this.result.id=this.nextValue.modelUuid,this.result.name=n,this.result.columnType=A;var C=[];for(v=0;v<x.length;v++){for(var k=[],S=0;S<this.nextValue.columnNames.length;S++)k.push(x[v][this.nextValue.columnNames[S]]);C.push(k)}this.result.data=C,this.modelResultColumnNames=this.nextValue.columnNames,(0,c.selectModel)(this.modelId).then((function(e){if(i.modelDetailRelation=e.data.modelDetailRelation,i.preLength==i.myIndex+1){for(var t=0;t<e.data.modelThresholdValues.length;t++)2==g[t].thresholdValue.thresholdValueType&&-1==s.indexOf(g[t].modelResultColumnName)&&s.push(g[t].modelResultColumnName);for(t=0;t<e.data.modelThresholdValues.length;t++)2==g[t].thresholdValue.thresholdValueType&&("string"===typeof g[t].colorInfo&&(g[t].colorInfo=JSON.parse(g[t].colorInfo)),l[g[t].modelResultColumnName]=g[t])}var n=e.data.modelOutputColumn,a=[];if(e.data.modelDetailRelation)for(var o=0;o<e.data.modelDetailRelation.length;o++)for(var u=e.data.modelDetailRelation[o],c=0;c<u.modelDetailConfig.length;c++){var d=u.modelDetailConfig[c];d.resultColumn&&a.push(d.resultColumn.toUpperCase())}var h=[];for(t=0;t<n.length;t++)void 0!=n[t].dataCoding&&h.push(n[t].dataCoding);for(var f=0;f<i.nextValue.columnNames.length;f++){for(var m={},v=0;v<n.length;v++)if(n[v].outputColumnName==i.nextValue.columnNames[f]&&1==n[v].isShow)if(-1!=s.indexOf(i.nextValue.columnNames[f].toUpperCase())||-1!=a.indexOf(i.nextValue.columnNames[f].toUpperCase())){var b=l[i.nextValue.columnNames[f].toUpperCase()];m={headerName:n[v].columnAlias,field:i.nextValue.columnNames[f],width:"180",cellRenderer:function(e){return i.changeCellColor(e,b,a)}}}else m={headerName:n[v].columnAlias,field:i.nextValue.columnNames[f],width:"180"};void 0!=m.field&&r.push(m)}if(h.length>0){for(var A=0;A<i.nextValue.result.length;A++)y.push(i.nextValue.result[A]);(0,p.getTransMap)(h.join(",")).then((function(e){for(var t=e.data,a=0;a<x.length;a++)for(var r=0;r<i.nextValue.columnNames.length;r++)for(var o=0;o<n.length;o++)if(n[o].outputColumnName==i.nextValue.columnNames[r]&&void 0!=n[o].dataCoding){var s=y[a][i.nextValue.columnNames[r]];y[a][i.nextValue.columnNames[r]]=t[n[o].dataCoding][s]}i.rowData=y}))}else{for(A=0;A<i.nextValue.result.length;A++)y.push(i.nextValue.result[A]);i.rowData=y}i.columnDefs=r,i.afterResult=!0}))}else this.isSee=!1,this.modelResultPageIsSee=!1,this.modelResultButtonIsShow=!1,this.errorMessage=this.nextValue.executeSQL.msg;else"3"==this.nextValue.executeSQL.state&&(this.isSee=!1,this.modelResultPageIsSee=!1,this.modelResultButtonIsShow=!1,this.errorMessage=this.nextValue.executeSQL.msg);this.isLoading=!1}}else("previewTable"==this.useType||"graph"==this.useType)&&this.getIntoModelResultDetail(t)},getIntoModelResultDetail:function(e){this.afterAddChartsWithNoConfigure=!0,this.chartLoading=!1,this.loading=!0,this.nextValue=e;var t=[],n=[];if(this.prePersonalVal.id==this.nextValue.executeSQL.id){if("2"==this.nextValue.executeSQL.state)if("SELECT"==this.nextValue.executeSQL.type){this.modelResultButtonIsShow=!0,this.modelResultPageIsSee=!0,this.modelResultData=this.nextValue.result,this.result.column=this.nextValue.columnNames;for(var i=this.nextValue.columnTypes,a=[],r=0;r<i.length;r++){var o="";-1!=i[r].toUpperCase().indexOf("VARCHAR")||-1!=i[r].toUpperCase().indexOf("CHAR")?o="varchar":-1!=i[r].toUpperCase().indexOf("NUMBER")||-1!=i[r].toUpperCase().indexOf("INT")?o="number":-1!=i[r].toUpperCase().indexOf("TIMESTAMP")||-1!=i[r].toUpperCase().indexOf("DATE")?o="time":-1!=i[r].toUpperCase().indexOf("FLOAT")&&(o="float"),a.push(o)}var s=this.nextValue.result;this.result.id=(0,g.uuid2)(),this.result.name="模型",this.result.columnType=a;var l=[];for(r=0;r<s.length;r++){for(var u=[],c=0;c<this.nextValue.columnNames.length;c++)u.push(s[r][this.nextValue.columnNames[c]]);l.push(u)}if(this.result.data=l,this.rowData=this.modelResultData,this.modelResultColumnNames=this.nextValue.columnNames,void 0===this.prePersonalVal["agridColumnDatas"])for(c=0;c<this.nextValue.columnNames.length;c++){var d={headerName:this.nextValue.columnNames[c],field:this.nextValue.columnNames[c],width:"180"};this.nextValue.columnNames[c],this.nextValue.result[c];t.push(d)}else t=this.prePersonalVal["agridColumnDatas"];for(var h=0;h<this.nextValue.result.length;h++)n.push(this.nextValue.result[h]);this.columnDefs=t,this.afterResult=!0}else this.isSee=!1,this.modelResultPageIsSee=!1,this.modelResultButtonIsShow=!1,this.errorMessage=this.nextValue.executeSQL.msg;else"3"==this.nextValue.executeSQL.state&&(this.isSee=!1,this.modelResultPageIsSee=!1,this.modelResultButtonIsShow=!1,this.errorMessage=this.nextValue.executeSQL.msg);this.isLoading=!1}},queryCondition:function(){this.$refs.myquerybuilder.selectSql(),this.dialogVisible=!1},queryConditionChangeTable:function(e,t){this.pageQuery.pageNo=1,this.queryJson=t,""==e&&(e="undefined"),this.nowSql=e,this.initData(e)},queryConditionSetting:function(){this.dialogVisible=!0},reSet:function(){this.nowSql="undefined",this.initData("undefined")},renderTable:function(e){var t=[];void 0!=this.settingInfo?t.push(JSON.parse(this.settingInfo).thresholdValueRel):t=this.modelObj.modelThresholdValues;var n={};this.isLoading=!1;for(var i=0;i<t.length;i++)if(n=t[i],n&&1==n.thresholdValue.thresholdValueType){if("string"===typeof t[i].colorInfo){var a=JSON.parse(t[i].colorInfo);t[i].colorInfo=a}return(0,u.handleDataSingleValue)(e.data,n)}},changeCellColor:function(e,t,n){if(t){var i=(0,u.handleDataManyValue)(e,t);if(-1!=i.toString().indexOf("<span"))return i;var a=e.value,r=e.rowIndex;return-1!=n.indexOf(e.column.colId.toUpperCase())&&(a="<span onmouseover=\"openModelDetailNew('"+r+"')\" style='text-decoration:underline;color:blue;cursor:pointer'>"+e.value+"</span>"),a}var o=e.rowIndex;if(-1!=n.indexOf(e.column.colId.toUpperCase())){var s="<span onmouseover=\"openModelDetailNew('"+o+"')\" style='text-decoration:underline;color:blue;cursor:pointer'>"+e.value+"</span>";return s}return e.value},getRenderTableData:function(){var e=this;"modelRunResult"==this.useType&&(void 0!=this.modelUuid&&void 0===this.settingInfo?(0,c.selectPrimaryKeyByTableName)().then((function(t){e.primaryKey=t.data,(0,c.selectModel)(e.modelUuid).then((function(t){e.modelObj=t.data,e.modelDetailRelation=t.data.modelDetailRelation,e.modelOutputColumn=t.data.modelOutputColumn;for(var n=[],i=0;i<e.modelOutputColumn.length;i++)void 0!=e.modelOutputColumn[i].dataCoding&&n.push(e.modelOutputColumn[i].dataCoding);n.length>0&&(0,p.getTransMap)(n.join(",")).then((function(t){e.dataCoding=t.data})),e.initData(),e.modelDetailRelation.length>0&&(e.modelDetailButtonIsShow=!0)}))})):this.initData())},onCellClicked:function(e){this.rowIndex=e.rowIndex},openModelDetailNew:function(e){var t=this;this.rowIndex=parseInt(e);var n=event||window.event;this.globalDropDownBox=!0,this.globalDropLeft=n.clientX+"px",this.globalDropTop=n.clientY+"px",clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){t.globalDropDownBox=!1}),1e3)},openModelDetailOld:function(){this.globalDropDownBox=!1},StopTime:function(){clearTimeout(this.timeOut)},modelDetailCetermine:function(e){for(var t=this,n=(this.gridApi.getSelectedRows(),null),i="",a=null,r={},o=0;o<this.modelDetailRelation.length;o++)if(e==this.modelDetailRelation[o].relationObjectUuid){n=this.modelDetailRelation[o].relationType,i=this.modelDetailRelation[o].relationObjectName,a=this.modelDetailRelation[o].modelDetailConfig;break}if(1==n){var s=[];for(o=0;o<this.modelDetailRelation.length;o++)if(this.modelDetailRelation[o].relationObjectUuid==e)for(var l=0;l<this.modelDetailRelation[o].modelDetailConfig.length;l++){var u=this.modelDetailRelation[o].modelDetailConfig[l].resultColumn,d={moduleParamId:"",paramValue:""};d.moduleParamId=this.modelDetailRelation[o].modelDetailConfig[l].ammParamUuid,void 0!==this.modelUuid?d.paramValue=this.rowData[this.rowIndex][u.toLowerCase()]:d.paramValue=this.rowData[this.rowIndex][u.toUpperCase()],s.push(d)}(0,c.findParamModelRelByModelUuid)(e).then((function(n){for(var i=[],a=0;a<n.data.length;a++)i.push(JSON.parse(n.data[a]));(0,c.selectModel)(e).then((function(e){var n=(0,c.replaceParam)(s,i,e.data.sqlValue),a={sqls:n,businessField:"modelresultdetail"};r=e.data,(0,f.getExecuteTask)(a).then((function(e){t.currentExecuteSQL=e.data.executeSQLList,(0,f.startExecuteSql)(e.data).then((function(e){!0!==t.isModelPreview?t.$emit("addBigTabs",void 0,void 0,r.modelName,r.modelUuid,void 0,"modelPreview",t.currentExecuteSQL):t.$emit("addBigTabsModelPreview",r.modelName,r.modelUuid,t.currentExecuteSQL)}))})).catch((function(e){t.$message({type:"info",message:"执行失败"})}))}))}))}else if(2==n){var h="SELECT * FROM "+i+" WHERE ",p="";for(o=0;o<a.length;o++){var m=a[o].relFilterValue;e:for(l=0;l<this.modelOutputColumn.length;l++)if(m.indexOf(this.modelOutputColumn[l].outputColumnName)>-1){m=m.replace(this.modelOutputColumn[l].outputColumnName,this.rowData[this.rowIndex][this.modelOutputColumn[l].outputColumnName.toLowerCase()]);break e}o==a.length-1?p+=m:p+=m+" or "}h+=p;var g={sqls:h,businessField:"modelresultdetail"};(0,f.getExecuteTask)(g).then((function(e){t.currentExecuteSQL=e.data.executeSQLList,(0,f.startExecuteSql)(e.data).then((function(e){}))})).catch((function(e){t.$message({type:"info",message:"执行失败"})}))}this.globalDropDownBox=!1,this.initWebSocket()},modelResultExport:function(){this.tableData=this.nextValue.result,this.json_fields={};for(var e=0;e<this.nextValue.columnNames.length;e++)this.json_fields[this.nextValue.columnNames[e]]=this.nextValue.columnNames[e];this.excelName="模型结果导出表"},reSet1:function(){this.isLoading=!0},initWebSocket:function(){this.webSocket=this.getWebSocket()},getWebSocket:function(){var e="ws://"+window.location.host+":"+window.location.port+"/websocket?"+this.$store.getters.personuuid+"modelresultdetail";this.webSocket=new WebSocket(e),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(e){var t=JSON.parse(e.data);n(t)};var t=function(e){this.$emit("setNextValue",e)},n=t.bind(this);this.webSocket.onclose=function(e){},this.webSocket.onerror=function(e){}},saveChart:function(){var e=this;this.isHaveCharts=!1,this.afterAddChartsWithNoConfigure=!1,this.chartShowIsSee=!1;var t=this.$refs.chart.getChartConfig();this.chartConfigs.push(t),this.nowChartJson=t;var n=void 0==this.nowtable.runResultTableUuid?this.chartModelUuid:this.nowtable.runTaskRelUuid,i={chartJson:JSON.stringify(t),modelUuid:n};this.modelChartSetups.push(i),(0,c.addModelChartSetup)(i).then((function(t){t.data&&e.$notify({title:e.$t("提示"),message:e.$t("添加图表成功"),type:"success",duration:2e3,position:"bottom-right"})}))},updateChart:function(){for(var e=this,t=this.$refs.chart.getChartConfig(),n=0;n<this.chartConfigs.length;n++)if(this.nowChartJson.id==this.chartConfigs[n].id){this.chartConfigs.splice(n,1);break}if(this.chartConfigs.push(t),0!=this.modelChartSetups.length){var i={};for(n=0;n<this.modelChartSetups.length;n++){var a=JSON.parse(this.modelChartSetups[n].chartJson);if(a.id==this.nowChartJson.id){i=this.modelChartSetups[n],i.chartJson=JSON.stringify(t);break}}void 0===i.chartSetupUuid?this.$notify({title:this.$t("提示"),message:this.$t("修改成功"),type:"success",duration:2e3,position:"bottom-right"}):(0,c.updateModelChartSetup)(i).then((function(t){t.data&&e.$notify({title:e.$t("提示"),message:e.$t("修改成功"),type:"success",duration:2e3,position:"bottom-right"})}))}else this.$notify({title:this.$t("提示"),message:this.$t("修改成功"),type:"success",duration:2e3,position:"bottom-right"});this.chartShowIsSee=!1},chartReflexion:function(){var e=this;this.chartConfigs=[],this.modelChartSetups=[],void 0!=this.nowtable.runResultTableUuid?(0,c.getModelChartSetup)(this.nowtable.runTaskRelUuid).then((function(t){if(1==t.data.isError)e.chartSaveOrUpdate="save";else{e.modelChartSetups=t.data.modelChartSetups;for(var n=0;n<e.modelChartSetups.length;n++)e.chartConfigs.push(JSON.parse(e.modelChartSetups[n].chartJson));e.nowChartJson=e.chartConfigs[0],e.chartSaveOrUpdate="update"}0==e.chartConfigs.length&&(e.isHaveCharts=!0),e.chartLoading=!1})):void 0!=this.modelUuid?(0,c.getModelChartSetup)(this.modelUuid).then((function(t){if(1==t.data.isError)e.chartSaveOrUpdate="save";else{e.modelChartSetups=t.data.modelChartSetups;for(var n=0;n<e.modelChartSetups.length;n++)e.chartConfigs.push(JSON.parse(e.modelChartSetups[n].chartJson));e.nowChartJson=e.chartConfigs[0],e.chartSaveOrUpdate="update"}0==e.chartConfigs.length&&(e.isHaveCharts=!0),e.chartLoading=!1})):void 0!=this.modelId&&(0,c.getModelChartSetup)(this.modelId).then((function(t){if(1==t.data.isError)e.chartSaveOrUpdate="save";else{e.modelChartSetups=t.data.modelChartSetups;for(var n=0;n<e.modelChartSetups.length;n++)e.chartConfigs.push(JSON.parse(e.modelChartSetups[n].chartJson));e.nowChartJson=e.chartConfigs[0],e.chartSaveOrUpdate="update"}0==e.chartConfigs.length&&(e.isHaveCharts=!0),e.chartLoading=!1}))},openChartDialog:function(){this.afterAddChartsWithNoConfigure=!0,this.chartSaveOrUpdate="save",this.nowChartJson=void 0,this.chartShowIsSee=!0},changeChart:function(e){this.afterAddChartsWithNoConfigure=!1;for(var t=this.chartConfigs,n=0;n<t.length;n++)if(e==t[n].id){this.nowChartJson=t[n];break}},openEditChartDialog:function(){this.chartSaveOrUpdate="update",this.chartShowIsSee=!0},deleteChart:function(){var e=this;if(void 0!==this.nowChartJson){for(var t=0;t<this.chartConfigs.length;t++)if(this.nowChartJson.id==this.chartConfigs[t].id){this.chartConfigs.splice(t,1);break}if(0!=this.modelChartSetups.length){var n={};for(t=0;t<this.modelChartSetups.length;t++){var i=JSON.parse(this.modelChartSetups[t].chartJson);if(i.id==this.nowChartJson.id){n=this.modelChartSetups[t].chartSetupUuid;break}}void 0===n?this.$notify({title:this.$t("提示"),message:this.$t("删除成功"),type:"success",duration:2e3,position:"bottom-right"}):(0,c.deleteModelChartSetup)(n).then((function(t){t.data&&e.$notify({title:e.$t("提示"),message:e.$t("删除成功"),type:"success",duration:2e3,position:"bottom-right"})}))}else this.$notify({title:this.$t("提示"),message:this.$t("删除成功"),type:"success",duration:2e3,position:"bottom-right"});0!=this.chartConfigs.length?this.nowChartJson=this.chartConfigs[0]:(this.nowChartJson=void 0,this.isHaveCharts=!0)}else this.$message({message:"请选择图表后在删除!"})}}};t.default=v},"97d4":function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-view-1",use:"icon-icon-view-1-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-view-1"><defs><style type="text/css"></style></defs><path d="M928 928.2H98v-830h830v830z m-64.8-765.1H162.8v700.3h700.3V163.1z" p-id="2418" /><path d="M515.1 624.8c-65.7 0-119-49.6-119-110.8 0-61.2 53.3-110.8 119-110.8s119 49.6 119 110.8-53.2 110.8-119 110.8z" p-id="2419" /><path d="M830.1 518.8c-0.2 0.9-0.1 1.9-0.4 2.8-0.1 0.3-0.4 0.6-0.5 0.9-0.2 0.6-0.2 1.1-0.5 1.7C771 647.2 645.5 716.7 513 716.7s-258-69.6-315.7-192.6c-0.2-0.5-0.2-1.1-0.4-1.6-0.1-0.4-0.4-0.5-0.6-1-0.3-0.9-0.2-1.9-0.4-2.8-0.4-1.7-0.7-3.3-0.7-5 0-1.7 0.3-3.3 0.7-4.9 0.2-0.9 0.1-1.9 0.4-2.8 0.1-0.3 0.4-0.5 0.6-0.9 0.2-0.6 0.2-1.1 0.4-1.6 57.7-123 184.5-193.7 316.9-193.7 132.5 0 256.7 70.8 314.4 193.8 0.3 0.5 0.2 1.1 0.5 1.6 0.1 0.3 0.4 0.6 0.5 1 0.3 0.9 0.2 1.9 0.4 2.8 0.4 1.7 0.7 3.3 0.7 4.9 0 1.7-0.3 3.3-0.6 4.9zM514.2 355c-107 0-213.4 53.7-264.5 158.7C301.2 619.1 406.3 671.5 513 671.5c107 0 212.2-52.7 263.3-157.6C725.2 408.8 621.1 355 514.2 355z" p-id="2420" /></symbol>'});o.a.add(s);t["default"]=s},9859:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA8CAYAAAA+CQlPAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAPqADAAQAAAABAAAAPAAAAABf43mbAAAE3klEQVRoBe1aX2hbVRg/303aJLWb1VoKKspEcRMFh3Zlk4zMZmLAyfaQsQdBHxRBfBDRl/oSofikD4L1z9tAXyTig0WLW1IymkZtqg/SoQ4UrbWRbXZGm7Q3vfcev5MZenJy/5x1oeTm3gNJvu873/ed73e+8+eecwOjh4/eQzXjGeKh0gPKZJBu0rsMQsc9hJtoCnyqeAkwj9UHzveGF2g/417IMo/RzzjfG16g/Yx7Ics8Rj/jfG94gfYz7oUs8xiDPLNFQwXpn7d4F1NA7iWUhkQEpsAByHfFQvawqOxG/uFDj/6Ace8VY/fnuNgj3c57NuOmc9ws28lkMlAqVXeb1fGycFg1MplMmZdRSiEafWKAl1nR+fznV8S6WOz4gKZtgigX+Xh8pJxKpQxRbsZLA18qlR/UdW3BzAkv26jCEvJ38rIjR54c3NDXL/EyG7oF4Jr67x+E0D4bm3pVJpNn7bL2HYtnh7oP3HFsdJmCn/EuS6gjHD/jjl3UZQp+xrssoY5wpJ/cIsFbz6v6yj4nj0ACm6LO0FD4irqsOtqKdg1eCZD9AT3oODqDwUMrhGQaZra/0sBzudMb6OlHW28Wlel0Wt+uLXM5n89esHAtiM8IPCFAQKGEtsgde7HFwnUCOmQWclcDPzA2NkgpuUkEruuG0dXAyQY5LoJmfH8o8rv0HGf/ldE1Y9LMES/DM+VFvK97ipfF4/Eb/67SNC+zohcK2ces6q5FfjCZjGjLq6+JNnifuJjLTV2WBk4M2I23lUdFRyJPoX4ebxJrWqSH0IqjbZPRdTCJRCJ0eXn1Y1zU9rS6gdNM5oqhPppION78MDB4S9R74JGx5y+V1Z8Q9DEm4wuu8H/d0HvzB0wmn3Heww7TRrl2Dq+Jw7g5LeJU+g2bX8IhW8EbLQOAsu3qbkLh/l+XV0eQHrYKDzUncrn0Gqt3BXCMcxG3Ylw36N7GjoyrNRaE2RCY7NVMY6vA9/090XcImamLXDHUcYhe11sdHB0afp7N5VJaoyNcAZyA8Wcj4O384qCYwJ2myNu6ArhBFdkbWh5bncY14dye2wYnxApXAFcUQ+quXARHAEokFD71/1mhqdoVwClVepqilmAw0+tBJXCimPvCdJpIr+q9ACvrQFKObQJteovC9HftItW1moStlXNqOL5M4E0BQKegnPo6f+YbXs7T0sBnZ78soeHrvLEsPTU1Vd2uLWuDEniAfcsW3NtfLM6d/cxO3xVDHQHstwPB1ykAb8zPzbzPy8zojgfODjiY7RGz4EUZ7tXvzReyLQcTUY/xHQ+8XKEv4yjvNwuel4FC3iwWZl7gZXZ0RwOPRhPs9uQlOwD1Olx0i3MzrzrqcQrSixtnsyNkLHbslkqtMo1Lmu3JDFfwV/Cp7K1rDarjgI/GErfTWu1kRa2OI+hBS0AAKs7U54qFsx9a6thUmALHE89DIwfHztvYtb8KSBDbHdZVFRczh4JPZOzhxG6fdvBgdSylfdjb9zkZt7VecpvGk9p0OND79Ozs9Laf31ncphlvK6A2OUPA/2DfjM8XMu/ivJbsJuvGO3pVvxo2u2WBj3oVZd/CV9nJdoBmfjs24wjwIsb3Ce7Pb8u/SbnaVTLfwb5Q5Nuquv64jPJO6OBzuYZnsaU7hgd+MTtOtiuG/wBRHldwc1e7yAAAAABJRU5ErkJggg=="},"985d":function(e,t,n){"use strict";var i=n("4ea4");n("ac6a");var a=i(n("a026")),r=i(n("c00a3"));a.default.component("svg-icon",r.default);var o=n("51ff"),s=function(e){return e.keys().map(e)};s(o)},9921:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-fullscreen",use:"icon-fullscreen-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-fullscreen"><path d="M38.47 52L52 38.462l-23.648-23.67L43.209 0H.035L0 43.137l14.757-14.865L38.47 52zm74.773 47.726L89.526 76 76 89.536l23.648 23.672L84.795 128h43.174L128 84.863l-14.757 14.863zM89.538 52l23.668-23.648L128 43.207V.038L84.866 0 99.73 14.76 76 38.472 89.538 52zM38.46 76L14.792 99.651 0 84.794v43.173l43.137.033-14.865-14.757L52 89.53 38.46 76z" /></symbol>'});o.a.add(s);t["default"]=s},9923:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguage=b,t.default=void 0,n("ac6a"),n("456d");var a=i(n("9523")),r=i(n("a026")),o=i(n("a925")),s=i(n("a78e")),l=i(n("b2d6")),u=i(n("f0d9")),c=i(n("3ed6")),d=i(n("c3ff")),h=i(n("3fab")),f=i(n("9df6")),p=i(n("34c1")),m=i(n("8c0c"));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r.default.use(o.default);var y={en:v(v({},h.default),l.default),zh:v(v({},f.default),u.default),es:v(v({},p.default),c.default),ja:v(v({},m.default),d.default)};function b(){var e=s.default.get("language");if(e)return e;for(var t=(navigator.language||navigator.browserLanguage).toLowerCase(),n=Object.keys(y),i=0,a=n;i<a.length;i++){var r=a[i];if(t.indexOf(r)>-1)return r}return"en"}var A=new o.default({locale:b(),messages:y}),w=A;t.default=w},9981:function(e,t,n){"use strict";n.r(t);var i=n("1835"),a=n("8e5e");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"998c":function(e,t,n){"use strict";n.r(t);var i=n("acb9"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"9aa4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAYAAAARIY8tAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFwAAAABgZeJ8AAAC2ElEQVRIDa1UzUtVQRT/zX33Pj8q9ZEaQvZFmwgpiAKhhdFKhJbRoqA20jbo4x9on1sfRVmLatEHBhJk9RZBZVIEQZEWD0rUwqzU53u+e2f6HbnJfePVZ9qBHzPnd87MmXPmzChjTALAeWKtMqqUumZvohigkuSsbViFPsgA++11jk1Qf0y8tPh+6gMWJ3ofYSy+VJUMiL/yTKxUJLPhkMyEnEM9G3JfOUppxfdhyL0S3RY7g410TtJpHVETOteT8zhfT2wIORlrQ35TyMUPdIpmQNWMEZMyiYhwPyO6TKeI8QgXm4EbEzbuRHGcZCRYViTAHNG2rNfKjFOms9NDd7fPblq4eLnMCq4fWtkeJV7Pkb5xDr19LTAqgKM+wQR7AZWDU/NUPUjnxHu17+At17ai4/hOoLirJKwoCfMCTalRlU4X7QDTNJ8kpEsuE9KKv4lTRIpIEw5GRlpx+mwllK6DVh4UPnI+CY0GqMR2aO1AKR91br/dphnW70745OWUIk+o3yWucP6OGETnhRlu0ogASZjEALTTCF91sVTb4NIuYoyLKdVkd9Eh3skxmqU7WM95OUzuKGeSQQtxFW4wwfcbwDgaVRU5zMzcJ19NHEGQ3AE1l2dGBsVU1g4gD+wmERUp1+0I4aPYMAH1rcBiefADzZOzEmwco/LwdBEFehtViaofDRJAWupDZINy0yS8sWaWpBo8JILZesDt4IlPsGWuI6/5E2j5QIE8Ui5rW2AJ9pXbtcS+ebeD7Hueky3uqz1I+F8QOBeRULXQwQH2AUvE5kg5n+0uKtlnGaUfmUw7LnXzcvXBRX6uM6R6b70R3r6DM+TyixbEEW1tzejpGcX33C8WuRZu8jWKhS18cB6zyS4sYXmin13Zv2VhYTjh+iYzPSudttW2zev/IUA79xCJ/U3thxZ7iLWQ9h084kn0P24oD3BJkQABcW9Jj/KGcbrIOxqOc/0DjduMFTUOpTAAAAAASUVORK5CYII="},"9ac2":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.findModelFolderTree=l,t.findModel=u,t.deleteModelFolder=c,t.addModelFolder=d,t.updateModelFolder=h,t.saveModel=f,t.updateModel=p,t.deleteModel=m,t.selectModel=g,t.updateModelBasicInfo=v,t.setModelSession=y,t.exportModel=b,t.getBusinessAttribute=A,t.getTableCol=w,t.getAuditItem=x,t.shareModel=C,t.findModelList=k,t.addRunTaskAndRunTaskRel=S,t.uuid2=T;var a=i(n("b775")),r=i(n("4360")),o="/analysis",s="/data";function l(e,t,n){return(0,a.default)({baseURL:o,url:"/modelFolderController/findModelFolderTree",method:"get",params:{isShowModel:e,spaceFolderName:t,spaceFolderId:n}})}function u(e){return(0,a.default)({baseURL:o,url:"/modelController/listByPage",method:"post",data:e})}function c(e){return(0,a.default)({baseURL:o,url:"/modelFolderController/deleteModelFolder",method:"delete",params:e})}function d(e){return(0,a.default)({baseURL:o,url:"/modelFolderController/addModelFolder",method:"post",data:e})}function h(e){return(0,a.default)({baseURL:o,url:"/modelFolderController/updateModelFolder",method:"put",data:e})}function f(e){return(0,a.default)({baseURL:o,url:"/modelController/saveModel",method:"post",data:e})}function p(e){return(0,a.default)({baseURL:o,url:"/modelController/updateModel",method:"post",data:e})}function m(e){return(0,a.default)({baseURL:o,url:"/modelController/deleteModel",method:"post",data:e})}function g(e){return(0,a.default)({baseURL:o,url:"/modelController/selectModel",method:"post",params:{modelId:e}})}function v(e){return(0,a.default)({baseURL:o,url:"/modelController/updateModelBasicInfo",method:"post",data:e})}function y(e){return(0,a.default)({baseURL:o,url:"/modelController/setModelSession",method:"post",data:e})}function b(){var e=o+"/modelController/exportModel";window.location.href=e}function A(){return(0,a.default)({baseURL:s,url:"/bizAttr/list",method:"post"})}function w(e){return(0,a.default)({baseURL:s,url:"/tableMeta/getCols",method:"post",params:{tableMetaUuid:e}})}function x(){return(0,a.default)({baseURL:o,url:"/modelFolderController/getAuditItemTree",method:"get"})}function C(e){return(0,a.default)({baseURL:o,url:"/modelController/shareModel",method:"post",data:e})}function k(e){return(0,a.default)({baseURL:o,url:"/modelController/findModelList",method:"post",data:e})}function S(e,t,n){var i="",s="";return"undefined"!=typeof t&&"undefined"!=typeof n?(i=t,s=n):(i=r.default.getters.datauserid,s=r.default.getters.scenecode),e.sceneCode=s,e.dataUserId=i,(0,a.default)({baseURL:o,url:"/RunTaskController/addRunTaskAndRunTaskRel",method:"post",data:e})}function T(){for(var e=[],t="0123456789abcdef",n=0;n<32;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23];var i=e.join("");return i}},"9aff":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{staticClass:"detail-form"},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"节点名称",prop:"graphName"}},[n("el-input",{staticStyle:{width:"90%"},model:{value:e.node_name,callback:function(t){e.node_name=t},expression:"node_name"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"执行状态",prop:"graphName"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{disabled:e.statusDisabled},model:{value:e.nodeExcuteStatus,callback:function(t){e.nodeExcuteStatus=t},expression:"nodeExcuteStatus"}})],1)],1)],1),n("el-row",[n("el-form-item",{attrs:{label:"节点备注",prop:"graphName"}},[n("el-input",{staticStyle:{width:"95%"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"请输入内容"},model:{value:e.nodeDescription,callback:function(t){e.nodeDescription=t},expression:"nodeDescription"}})],1)],1)],1)],1)},a=[]},"9b30":function(e,t,n){e.exports=n.p+"static/img/union.d32b0a8f.jpg"},"9bb80":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{pageNum:1,pageSize:20,total:120}}};t.default=i},"9be4":function(e,t,n){"use strict";n("d676")},"9beb":function(e,t,n){e.exports=n.p+"static/img/resultConfig.f4f15a0e.png"},"9bee":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"550px"}},[n("el-row",[n("el-col",[n("span",{staticStyle:{color:"red"}},[e._v(e._s(e.preNodeName))])])],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("label",[e._v("筛选字段 ")]),n("el-select",{attrs:{filterable:""},on:{change:e.setSelectColms},model:{value:e.select_colms,callback:function(t){e.select_colms=t},expression:"select_colms"}},e._l(e.selectColms,(function(t){return n("el-option",{key:t.newColumnName,attrs:{label:t.newColumnName,value:t.newColumnName}},[e._v(e._s(t.displayName))])})),1)],1),n("el-col",{attrs:{span:8}},[n("label",[e._v("条件 ")]),n("el-select",{on:{change:e.selectCzChange},model:{value:e.select_cz,callback:function(t){e.select_cz=t},expression:"select_cz"}},e._l(e.selectCzArr,(function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.name}},[e._v(e._s(t.name))])})),1)],1),e.showMoreVal?n("el-col",{attrs:{span:8}},[n("span",{staticStyle:{color:"red","line-height":"36px"}},[e._v("多个值请用英文逗号（“,”）隔开")])]):e._e()],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("label",[e._v("筛选对象 ")]),n("el-select",{attrs:{disabled:e.compareObjDisabled},on:{change:e.compareObjChange},model:{value:e.compareObj,callback:function(t){e.compareObj=t},expression:"compareObj"}},e._l(e.compareArr,(function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.name}},[e._v(e._s(t.name))])})),1)],1),n("el-col",{staticClass:"colInp",attrs:{span:8}},[e.showConnValue?n("el-input",{staticStyle:{width:"78%"},model:{value:e.conn_value,callback:function(t){e.conn_value=t},expression:"conn_value"}}):e._e(),e.showConnValue?e._e():n("el-select",{staticStyle:{width:"78%"},attrs:{filterable:""},on:{change:e.setCompareColumnSel},model:{value:e.compareColumnSel,callback:function(t){e.compareColumnSel=t},expression:"compareColumnSel"}},e._l(e.compareColumnArr,(function(t){return n("el-option",{key:t.newColumnName,attrs:{label:t.newColumnName,value:t.newColumnName}},[e._v(e._s(t.displayName))])})),1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-checkbox",{model:{value:e.blankSpace,callback:function(t){e.blankSpace=t},expression:"blankSpace"}},[e._v(" 是否去除数据中的空格")])],1),n("el-col",{attrs:{span:10}},[n("el-checkbox",{attrs:{disabled:e.quotesDisabled},model:{value:e.quotes,callback:function(t){e.quotes=t},expression:"quotes"}},[e._v(" 是否带引号（"),n("span",{staticStyle:{color:"red"}},[e._v("筛选值在比较数值大小时不能带引号")]),e._v("） ")])],1),n("el-col",{attrs:{span:6}},[n("span",[e._v("[ ")]),n("el-radio",{attrs:{label:"and"},model:{value:e.connType,callback:function(t){e.connType=t},expression:"connType"}},[e._v("与")]),n("el-radio",{attrs:{label:"or"},model:{value:e.connType,callback:function(t){e.connType=t},expression:"connType"}},[e._v("或")]),n("span",[e._v(" ]")])],1)],1),n("el-row",[n("div",{staticStyle:{height:"390px"}},[n("el-col",{attrs:{span:16}},[n("div",{staticStyle:{border:"1px solid gray",height:"390px",overflow:"auto"}},[n("ul",{ref:"filterZtree",staticClass:"ztree"})])]),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"新增筛选条件",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"80px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("add")}}},[e._v("新增条件")])],1)],1),n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"对选中的单个非合并条件进行修改",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("edit")}}},[e._v("修改条件")])],1)],1),n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"对选中的条件进行删除，支持批量删除（按住Ctrl键多选）",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("del")}}},[e._v("删除条件")])],1)],1),n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"对选中的多个非合并条件用括号进行合并（按住Ctrl键多选）",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("addbrack")}}},[e._v("合并条件")])],1)],1),n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"对选中的单个合并条件进行拆分",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("delbrack")}}},[e._v("拆分条件")])],1)],1)])],1)])],1)},a=[]},"9bf1":function(e,t,n){},"9c14":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container",staticStyle:{height:"500px","overflow-y":"scroll"}},[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText1,callback:function(t){e.filterText1=t},expression:"filterText1"}}),n("MyElTree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree1",staticClass:"filter-tree",attrs:{props:e.props,"highlight-current":!0,data:e.treeData1,"filter-node-method":e.filterNode,"node-key":"id","show-checkbox":"","check-strictly":""},on:{"check-change":e.handleNodeClick1},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},["root"===a.id?n("i",{staticClass:"el-icon-s-home",staticStyle:{color:"#409EFF"}}):e._e(),"folder"===a.type?n("i",{staticClass:"el-icon-folder",staticStyle:{color:"#409EFF"}}):e._e(),"table"===a.type?n("i",{staticClass:"el-icon-tickets",staticStyle:{color:"#409EFF"}}):e._e(),"column"===a.type?n("i",{staticClass:"el-icon-c-scale-to-original",staticStyle:{color:"#409EFF"}}):e._e(),n("span",{attrs:{title:i.name}},[e._v(e._s(i.label))])])}}])})],1)},a=[]},"9c6e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getListSelect}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",disabled:0===e.selections.length},on:{click:e.delData}}),n("el-button",{staticClass:"oper-btn copy",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.copyResource}}),n("el-button",{staticClass:"oper-btn move-1",attrs:{type:"primary",disabled:0===e.selections.length},on:{click:e.movePath}}),n("el-button",{staticClass:"oper-btn rename",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.renameResource}}),n("el-button",{staticClass:"oper-btn add-2",attrs:{type:"primary",disabled:"table"==e.clickData.type||"undefined"!==typeof e.clickData.extMap.sceneInstUuid},on:{click:e.add}}),n("el-button",{staticClass:"oper-btn export",attrs:{type:"primary",disabled:"table"==e.clickData.type||"undefined"!==typeof e.clickData.extMap.sceneInstUuid},on:{click:e.uploadTable}}),n("el-button",{staticClass:"oper-btn add-folder-1",attrs:{type:"primary",disabled:"table"==e.clickData.type},on:{click:e.createFolder}}),n("el-button",{staticClass:"oper-btn  edit",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.update}}),n("el-button",{staticClass:"oper-btn  link-3",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.relationTable}}),n("el-button",{staticClass:"oper-btn  detail",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.showTable}}),n("el-button",{staticClass:"oper-btn search-1",attrs:{type:"primary",disabled:e.infoFlag},on:{click:e.preview}}),n("el-button",{staticClass:"oper-btn share-1",attrs:{type:"primary",disabled:0===e.selections.length},on:{click:e.shareTable}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%",height:"500px",overflow:"auto"},attrs:{data:e.temp,border:"",fit:""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"名称",prop:"label"}}),n("el-table-column",{attrs:{label:"资源类型",formatter:e.formatTableType,prop:"type"}}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.formatCreateTime(t.row.extMap.createTime)))]}}])}),n("el-table-column",{attrs:{prop:"tbSizeByte",label:"大小",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.formatTableSize(t.row.extMap.tbSizeByte)))]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getListSelect}}),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.folderFormVisible,width:"600px"},on:{"update:visible":function(t){e.folderFormVisible=t}}},[n("el-form",{ref:"folderForm",attrs:{model:e.resourceForm,"label-width":"80px"}},[n("el-form-item",{attrs:{label:e.typeLabel,"label-width":"120px"}},[n("el-input",{staticStyle:{width:"300px"},model:{value:e.resourceForm.resourceName,callback:function(t){e.$set(e.resourceForm,"resourceName",t)},expression:"resourceForm.resourceName"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.folderFormVisible=!1}}},[e._v("取消")]),"copyTable"===e.dialogStatus?n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.copyResourceSave()}}},[e._v("保存")]):e._e(),"createFolder"===e.dialogStatus?n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createFolderSave()}}},[e._v("保存")]):e._e(),"updateFolder"===e.dialogStatus||"updateTable"===e.dialogStatus?n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.renameResourceSave()}}},[e._v("保存")]):e._e()],1)],1),n("el-dialog",{attrs:{visible:e.moveTreeVisible,width:"600px"},on:{"update:visible":function(t){e.moveTreeVisible=t}}},[""!==e.personcode?n("dataTree",{ref:"dataTree",attrs:{"data-user-id":e.personcode,"scene-code":e.currentSceneUuid,"tree-type":e.treeType},on:{"node-click":e.nodeclick}}):e._e(),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.moveTreeVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.movePathSave()}}},[e._v("保存")])],1)],1),e.uploadVisible?n("el-dialog",{attrs:{visible:e.uploadVisible,width:"800px"},on:{"update:visible":function(t){e.uploadVisible=t}}},[n("el-row",[n("el-col",[1===e.uploadStep?n("directory-file-upload",{on:{fileuploadname:e.fileuploadname}}):e._e()],1)],1),n("el-row",[n("el-col",[1===e.uploadStep?n("el-form",{ref:"dataForm",staticStyle:{width:"750px"},attrs:{rules:e.uploadRules,model:e.uploadtemp,"label-position":"right"}},[n("el-form-item",{attrs:{label:"导入表名称：(若导入数据为TXT数据需用','分割,列信息用换行即可)",prop:"tbName"}},[n("el-input",{attrs:{label:"请输入表名称"},model:{value:e.uploadtemp.tbName,callback:function(t){e.$set(e.uploadtemp,"tbName",t)},expression:"uploadtemp.tbName"}})],1)],1):e._e()],1)],1),n("el-row",[n("el-col",[2===e.uploadStep?n("el-table",{attrs:{data:e.uploadtempInfo.colMetas,height:"600px"}},[n("el-table-column",{attrs:{prop:"colName",label:"字段名称","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{staticStyle:{width:"90%"},model:{value:t.row.colName,callback:function(n){e.$set(t.row,"colName",n)},expression:"scope.row.colName"}})]}}],null,!1,1562307937)}),n("el-table-column",{attrs:{prop:"dataType",label:"数据类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{ref:"dataType",staticStyle:{width:"90%"},attrs:{filterable:"",placeholder:"请选择数据类型"},model:{value:t.row.dataType,callback:function(n){e.$set(t.row,"dataType",n)},expression:"scope.row.dataType"}},e._l(e.options,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)]}}],null,!1,1464625550)})],1):e._e()],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[1===e.uploadStep?n("el-button",{attrs:{type:"primary"},on:{click:e.nextImport}},[e._v("下一步")]):e._e(),2===e.uploadStep?n("el-button",{attrs:{type:"primary"},on:{click:e.importTable}},[e._v("导入")]):e._e(),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.uploadVisible=!1}}},[e._v("关闭")])],1)],1):e._e(),e.tableShowVisible?n("el-dialog",{attrs:{visible:e.tableShowVisible,width:"800px"},on:{"update:visible":function(t){e.tableShowVisible=t}}},[n("el-row",[n("el-col",[n("tabledatatabs",{ref:"tabledatatabs",attrs:{"table-id":e.tableId,"forder-id":e.clickData.id,"open-type":e.openType,"tab-show":e.tabShow},on:{"update:tabShow":function(t){e.tabShow=t},"update:tab-show":function(t){e.tabShow=t},"table-show":e.tableshow}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.tableShowVisible=!1}}},[e._v("关闭")])],1)],1):e._e(),e.tableColumnVisible?n("el-dialog",{attrs:{visible:e.tableColumnVisible,"lock-scroll":"",width:"800px"},on:{"update:visible":function(t){e.tableColumnVisible=t}}},[n("el-row",[n("el-col",[n("column",{ref:"column",attrs:{"table-id":e.tableId,"forder-id":e.clickData.id,"open-type":e.openType,"tab-show":e.tabShow},on:{"update:tabShow":function(t){e.tabShow=t},"update:tab-show":function(t){e.tabShow=t},"append-node":e.appendnode,"table-show":e.tableshow}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.tableColumnVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveTableInfo}},[e._v("保存")])],1)],1):e._e(),e.tableRelationVisible?n("el-dialog",{attrs:{fullscreen:"",visible:e.tableRelationVisible,width:"800px"},on:{"update:visible":function(t){e.tableRelationVisible=t}}},[n("el-row",[n("el-col",[n("tablerelation",{ref:"tablerelation",attrs:{"table-id":e.tableId,"forder-id":e.clickData.id,"open-type":e.openType}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.tableRelationVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveTableRelation}},[e._v("保存")])],1)],1):e._e(),e.previewVisible?n("el-dialog",{attrs:{visible:e.previewVisible,width:"800px"},on:{"update:visible":function(t){e.previewVisible=t}}},[n("el-row",[n("el-col",[n("childTabs",{ref:"childTabs",attrs:{"pre-value":e.executeSQLList,"use-type":"previewTable"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.previewVisible=!1}}},[e._v("关闭")])],1)],1):e._e(),e.previewVisible?n("el-dialog",{attrs:{visible:e.previewVisible,width:"800px"},on:{"update:visible":function(t){e.previewVisible=t}}},[n("el-row",[n("el-col",[n("childTabs",{ref:"childTabs",attrs:{"pre-value":e.executeSQLList,"use-type":"previewTable"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.previewVisible=!1}}},[e._v("关闭")])],1)],1):e._e(),e.shareVisible?n("el-dialog",{attrs:{visible:e.shareVisible,width:"800px"},on:{"update:visible":function(t){e.shareVisible=t}}},[n("el-row",[n("el-col",[n("PersonTree",{ref:"personTree"})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.shareVisible=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.shareTableSave}},[e._v("确定")])],1)],1):e._e()],1)},a=[]},"9c7b":function(e,t,n){"use strict";n.r(t);var i=n("c96c"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"9c8e":function(e,t,n){e.exports=n.p+"static/img/zhenggai.5eb7130f.png"},"9ce44":function(e,t,n){"use strict";n.r(t);var i=n("14ad"),a=n("eef0");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"14dd16d4",null);t["default"]=s.exports},"9cff":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-row",["showTable"!==e.openType&&"tableRegister"!==e.openType?n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addCol()}}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"danger",size:"mini",disabled:0===e.selections.length},on:{click:function(t){return e.delCol()}}})],1):e._e()],1),"showTable"===e.openType||"tableRegister"===e.openType?n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.temp,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"表名称",width:"150px",prop:"tbName"}}),n("el-table-column",{attrs:{label:"字段名称",width:"150px",prop:"colName"}}),n("el-table-column",{attrs:{label:"从表名称",width:"200px",prop:"relationTableName"}}),n("el-table-column",{attrs:{label:"关联字段",width:"150px",prop:"relationCol"}}),n("el-table-column",{attrs:{label:"关联关系",align:"center",prop:"sqlGenJoinType",formatter:e.formatSqlGenJoinType}}),n("el-table-column",{attrs:{label:"过滤条件",prop:"describtion"},scopedSlots:e._u([{key:"default",fn:function(t){return null!=t.row.sqlGenOnStr&&t.row.sqlGenOnStr.length>0?[n("el-popover",{attrs:{trigger:"hover",placement:"top",width:"500"}},[n("el-row",[n("el-col",{attrs:{span:24}},[e._v(" "+e._s(t.row.sqlGenOnStr)+" ")])],1),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-link",{attrs:{underline:!1,type:"primary"}},[e._v("查看过滤")])],1)],1)]:void 0}}],null,!0)})],1):e._e(),"showTable"!==e.openType&&"tableRegister"!==e.openType?n("el-table",{attrs:{data:e.temp,height:"700px"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"colMetaUuid",label:"关联字段"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{staticStyle:{width:"90%"},attrs:{filterable:"",placeholder:"请选择关联列"},model:{value:t.row.colMetaUuid,callback:function(n){e.$set(t.row,"colMetaUuid",n)},expression:"scope.row.colMetaUuid"}},e._l(e.colNames,(function(e){return n("el-option",{key:e.colMetaUuid,attrs:{label:e.colName,value:e.colMetaUuid,disabled:e.disabled}})})),1)]}}],null,!1,1957712167)}),n("el-table-column",{attrs:{prop:"relTableMetaUuid",label:"从表名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-row",[n("el-col",{attrs:{span:16}},[n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:t.row.relTableMetaUuid,callback:function(n){e.$set(t.row,"relTableMetaUuid",n)},expression:"scope.row.relTableMetaUuid"}}),n("el-input",{attrs:{disabled:!0},model:{value:t.row.relationTableName,callback:function(n){e.$set(t.row,"relationTableName",n)},expression:"scope.row.relationTableName"}})],1),n("el-col",{attrs:{span:6}},[n("el-button",{on:{click:function(n){return e.showDataTree(t.row.index)}}},[e._v("选择")])],1)],1)]}}],null,!1,220777297)}),n("el-table-column",{attrs:{prop:"relColMetaUuid",label:"关联字段"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{staticStyle:{width:"90%"},attrs:{filterable:"",placeholder:"请选择关联列"},model:{value:t.row.relColMetaUuid,callback:function(n){e.$set(t.row,"relColMetaUuid",n)},expression:"scope.row.relColMetaUuid"}},e._l(t.row.relationCols,(function(e){return n("el-option",{key:e.colMetaUuid,attrs:{label:e.colName,value:e.colMetaUuid,disabled:e.disabled}})})),1)]}}],null,!1,1271602909)}),n("el-table-column",{attrs:{prop:"sqlGenJoinType",label:"关联关系"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{staticStyle:{width:"90%"},attrs:{filterable:"",placeholder:"请选择关联关系"},model:{value:t.row.sqlGenJoinType,callback:function(n){e.$set(t.row,"sqlGenJoinType",n)},expression:"scope.row.sqlGenJoinType"}},e._l(e.sqlJoinCols,(function(e){return n("el-option",{key:e.sqlGenJoinType,attrs:{label:e.sqlGenJoinName,value:e.sqlGenJoinType,disabled:e.disabled}})})),1)]}}],null,!1,1556608763)}),n("el-table-column",{attrs:{label:"过滤条件",align:"center",prop:"sqlGenOnStr"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-row",[n("el-col",{attrs:{span:5}},[n("el-popover",{attrs:{trigger:"hover",placement:"top",width:"500"}},[n("el-row",[n("el-col",{attrs:{span:24}},[e._v(" "+e._s(t.row.sqlGenOnStr)+" ")])],1),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-link",{attrs:{underline:!1,type:"primary"}},[e._v("查看过滤")])],1)],1),n("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{disabled:!0},model:{value:t.row.sqlGenOnStrJson,callback:function(n){e.$set(t.row,"sqlGenOnStrJson",n)},expression:"scope.row.sqlGenOnStrJson "}})],1),n("el-button",{on:{click:function(n){return e.openQueryBuilder(t.row.index)}}},[e._v("设置")])],1),n("el-dialog",{attrs:{title:"条件设置",visible:e.queryBuilderDialogVisible,width:"30%","append-to-body":!0},on:{"update:visible":function(t){e.queryBuilderDialogVisible=t}}},[e.queryBuilderDialogVisible?n("myQueryBuilder",{ref:"myQueryBuilder",attrs:{columns:e.columnList,data:e.queryBuilderJson,inputselectvalue:t.row.outputColum}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.queryBuilderDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.queryCondition}},[e._v("确定")])],1)],1)]}}],null,!1,1952907054)}),e.dataTableTree?n("el-dialog",{attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.dataTableTree,title:"请选择数据表",width:"80%"},on:{"update:visible":function(t){e.dataTableTree=t}}},[n("data-tree",{ref:"dataTableTree",attrs:{"data-user-id":e.dataUserId,"scene-code":e.sceneCode}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{tvype:"primary"},on:{click:e.getDataTable}},[e._v("确定")]),n("el-button",{on:{click:function(t){e.dataTableTree=!1}}},[e._v("取消")])],1)],1):e._e()],1):e._e()],1)},a=[]},"9d16":function(e,t,n){"use strict";n.r(t);var i=n("49d1"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"9d27":function(e,t,n){"use strict";n.r(t);var i=n("96db"),a=n("0b84");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"9d78":function(e,t,n){"use strict";n("4767")},"9db6":function(e,t,n){},"9de7":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[]},"9df6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={route:{dashboard:"首页",StudyExample:"学习示例",documentation:"文档",guide:"引导页",permission:"权限测试页",rolePermission:"角色权限",pagePermission:"页面权限",directivePermission:"指令权限",icons:"图标",components:"组件",tinymce:"富文本编辑器",markdown:"Markdown",jsonEditor:"JSON 编辑器",dndList:"列表拖拽",splitPane:"Splitpane",avatarUpload:"头像上传",dropzone:"Dropzone",sticky:"Sticky",countTo:"Count To",componentMixin:"小组件",backToTop:"返回顶部",dragDialog:"拖拽 Dialog",dragSelect:"拖拽 Select",dragKanban:"可拖拽看板",charts:"图表",keyboardChart:"键盘图表",lineChart:"折线图",mixChart:"混合图表",example:"综合实例",nested:"路由嵌套",menu1:"菜单1","menu1-1":"菜单 1-1","menu1-2":"菜单 1-2","menu1-2-1":"菜单 1-2-1","menu1-2-2":"菜单 1-2-2","menu1-3":"菜单 1-3",menu2:"菜单 2",Table:"Table",dynamicTable:"动态 Table",dragTable:"拖拽 Table",inlineEditTable:"Table 内编辑",complexTable:"综合 Table",tab:"Tab",form:"表单",createArticle:"创建文章",editArticle:"编辑文章",articleList:"文章列表",errorPages:"错误页面",page401:"401",page404:"404",errorLog:"错误日志",excel:"Excel",exportExcel:"导出 Excel",selectExcel:"导出 已选择项",mergeHeader:"导出 多级表头",uploadExcel:"上传 Excel",zip:"Zip",pdf:"PDF",exportZip:"Export Zip",theme:"换肤",clipboardDemo:"Clipboard",i18n:"国际化",externalLink:"外链",profile:"个人中心",etlscheduler:"ETL调度",datasource:"数据源管理",paramfield:"参数管理",dataresource:"数据资源管理",resources:"资源管理",processdefinition:"流程定义管理",processschedule:"调度任务管理",taskmonitor:"调度监控",processinstance:"流程实例",taskinstance:"任务实例",servermonitor:"服务器监控",resourcestatistics:"资源消耗统计",workflow:"流程定义管理",etlconfigure:"调度配置",fileresource:"文件管理",datafilestatistics:"上游数据文件统计",datafilestatisticslist:"数据表文件详细",filedirectory:"文件目录管理"},navbar:{dashboard:"首页",github:"项目地址",logOut:"退出登录",profile:"个人中心",theme:"换肤",size:"布局大小"},login:{title:"系统登录",logIn:"登录",username:"账号",password:"密码",any:"随便填"},documentation:{documentation:"文档",github:"Github 地址"},permission:{addRole:"新增角色",editPermission:"编辑权限",roles:"你的权限",switchRoles:"切换权限",tips:"在某些情况下，不适合使用 v-permission。例如：Element-UI 的 el-tab 或 el-table-column 以及其它动态渲染 dom 的场景。你只能通过手动设置 v-if 来实现。",delete:"删除",confirm:"确定",cancel:"取消"},guide:{description:"引导页对于一些第一次进入项目的人很有用，你可以简单介绍下项目的功能。本 Demo 是基于",button:"打开引导"},components:{documentation:"文档",tinymceTips:"富文本是管理后台一个核心的功能，但同时又是一个有很多坑的地方。在选择富文本的过程中我也走了不少的弯路，市面上常见的富文本都基本用过了，最终权衡了一下选择了Tinymce。更详细的富文本比较和介绍见",dropzoneTips:"由于我司业务有特殊需求，而且要传七牛 所以没用第三方，选择了自己封装。代码非常的简单，具体代码你可以在这里看到 @/components/Dropzone",stickyTips:"当页面滚动到预设的位置会吸附在顶部",backToTopTips1:"页面滚动到指定位置会在右下角出现返回顶部按钮",backToTopTips2:"可自定义按钮的样式、show/hide、出现的高度、返回的位置 如需文字提示，可在外部使用Element的el-tooltip元素",imageUploadTips:"由于我在使用时它只有vue@1版本，而且和mockjs不兼容，所以自己改造了一下，如果大家要使用的话，优先还是使用官方版本。"},table:{dynamicTips1:"固定表头, 按照表头顺序排序",dynamicTips2:"不固定表头, 按照点击顺序排序",dragTips1:"默认顺序",dragTips2:"拖拽后顺序",title:"标题",importance:"重要性",type:"类型",remark:"点评",search:"搜索",add:"添加",export:"导出",reviewer:"审核人",id:"序号",date:"时间",author:"作者",readings:"阅读数",status:"状态",actions:"操作",edit:"编辑",publish:"发布",draft:"草稿",delete:"删除",cancel:"取 消",confirm:"确 定"},etlscheduler_table:{key:"请输入关键字",dsName:"数据源名称",dsStatus:"数据库状态",dsType:"数据库类型",jdbcUrl:"jdbc url",driverClass:"驱动类",loginType:"登录方式",authFilePath:"认证文件路径",loginName:"用户名",loginPassword:"密码",updateTime:"修改时间",switchDsType:"请选择数据库类型",dsTypeOne:"oracle",dsTypeTwo:"hive",switchLoginType:"请选择登录方式",loginTypeOne:"用户名密码登录",loginTypeTwo:"kerbors认证",switchDsStatus:"请选择数据源状态",dsStatusTypeOne:"启用",dsStatusTypeTwo:"停用"},example:{warning:"创建和编辑页面是不能被 keep-alive 缓存的，因为keep-alive 的 include 目前不支持根据路由来缓存，所以目前都是基于 component name 来进行缓存的。如果你想类似的实现缓存效果，可以使用 localStorage 等浏览器缓存方案。或者不要使用 keep-alive 的 include，直接缓存所有页面。详情见"},errorLog:{tips:"请点击右上角bug小图标",description:"现在的管理后台基本都是spa的形式了，它增强了用户体验，但同时也会增加页面出问题的可能性，可能一个小小的疏忽就导致整个页面的死锁。好在 Vue 官网提供了一个方法来捕获处理异常，你可以在其中进行错误处理或者异常上报。",documentation:"文档介绍"},excel:{export:"导出",selectedExport:"导出已选择项",placeholder:"请输入文件名(默认excel-list)"},zip:{export:"导出",placeholder:"请输入文件名(默认file)"},pdf:{tips:"这里使用   window.print() 来实现下载pdf的功能"},theme:{change:"换肤",documentation:"换肤文档",tips:"Tips: 它区别于 navbar 上的 theme-pick, 是两种不同的换肤方法，各自有不同的应用场景，具体请参考文档。"},tagsView:{refresh:"刷新",close:"关闭",closeOthers:"关闭其它",closeAll:"关闭所有"},settings:{title:"系统布局配置",theme:"主题色",tagsView:"开启 Tags-View",fixedHeader:"固定 Header",sidebarLogo:"侧边栏 Logo"},confirm:{title:"提示",okBtn:"确定",cancelBtn:"取消",delete:"确定删除吗？"},message:{title:"消息",default:{success:"操作成功",fail:"操作失败"},insert:{success:"新增成功",fail:"新增失败"},update:{success:"修改成功",fail:"修改失败"},delete:{success:"删除成功",fail:"删除失败"}}};t.default=i},"9e25":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"title"},[e._v("查询结构列表")])]),n("div",[n("el-table",{ref:"multipleTable",attrs:{height:"calc(93.9vh - 450px)",data:e.tableData,"tooltip-effect":"dark",border:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"45"}}),n("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),n("el-table-column",{attrs:{prop:"codeName",label:e.dataSortName+"类型名称",width:"300"}}),n("el-table-column",{attrs:{prop:"codeValue",label:e.dataSortName+"类型编码",width:"180"}}),n("el-table-column",{attrs:{prop:"codeDesc",label:e.dataSortName+"类型描述"}})],1),n("div",{staticClass:"divBtn",staticStyle:{float:"right",padding:"20px 0 0 0"}},[1!=this.editTag?n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary",size:"mini"},on:{click:e.saveCodeData}}):e._e(),1!=this.editTag?n("el-button",{staticClass:"oper-btn again-2",attrs:{type:"primary",size:"mini"},on:{click:e.resetForm}}):e._e(),1!=this.editTag?n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",size:"mini",disabled:1!==e.handleSelectionChange.length},on:{click:e.editCodeData}}):e._e(),1!=this.editTag?n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",size:"mini",disabled:0===e.handleSelectionChange.length},on:{click:e.delCodeData}}):e._e()],1),n("div",{staticClass:"operate-div"},[n("BaseCodeTreeOperate",{ref:"baseCodeOperate",attrs:{"code-operate":e.seleteLengthData},on:{closeMain:e.query}}),n("div",{staticClass:"divBtn",staticStyle:{float:"right"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.returnList}},[e._v("返回")])],1)],1)],1)])],1)},a=[]},"9e52":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIEAYAAAD9yHLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAABVVJREFUeNrt3D1uU00AheE7VylAdEiUZhM0LlkArVNSsoAsJD0llPYSaJGSgl2YLdB6vuLyIYL4SY5jz/15nia6ReSJFOV1fKQp3QPVQz3Uw2bTla50Zbt96PcDv1G72tXLy9KXvvS73cle5lAP9fDmzfD0/Pnweh8/tv7xmaa+9QGAc3v6dHgD+OFDrbXW+v79EJaLi9YnY1oEBBbv3bvh66dPQ0hevGh9IqZBQIBu+I/k9evh65cvw38mr161PhbjJiDAL16+HL5+/jz8R/L2besTMU4CAvzBkye2Ev5GQIB7spVwl4AA92cr4ScCAoRsJUsnIMCRbCVLJSDAI7OVLIWAAI/PVrIIAgKcmK1krgQEOBNbydwICNCIrWTqBARox1YyaQICjIStZGoEBBgZW8lUCAgwcraSsRIQYPxsJaMkIMDE2ErGQkCAibKVtCYgwEzYSs5NQID5sJWclYAAM2UrOTUBAWbOVnIqAgIsjK3ksQgIsDy2kkchIMDC2UpSAgLQdZ2t5OEEBOC3bCX/IiAAf2Ir+SsBAbgXW8mvBATgQWwl/xMQgKMsdysREIBjLXQrERCAR7WcrURAAE5i/luJgACcxfy2EgEBOJeZbSUCAtDE9LcSAQFoarpbiYAAjMp0thIBARibiWwlAgIwauPdSgQEYBLGt5UICMAktd9KBARgqhpvJQICMAvn30oEBGBWzreVCAjArJ1uKxEQgLk70VYiIACL8nhbyejvWpmd2tWu3t4OD9fXrY8zTev18E7q6qr1Sabp5mb4Pby8bH0SxqB+9+xZKaWU8u3bfb9TQJrY70tf+tLvdq1PMjXDO6bWp5iu4ffu69fhye8fx/ERFgARAQEgIiAARAQEgIiAABAREAAiAgJAREAAiAgIABEBASAiIABE3IXVxGo13Om02bQ+yTSt161PcKqfy11ftHNzc/eutH8rD32JH3/4Sle6st22/pEBONL325kfesmrj7AAiAgIABEBASAiIABEBASAiIAAEBEQACICAkBEQACICAgAEQEBICIgAEQEBICIgAAQERAAIgICQERAAIgICAARAQEgIiAARAQEgIiAABAREAAiAgJAREAAiFy0PsDi1K529fZ2eLi+bn0cmI+rq650pSvrdeuTLIWANLHfl770pd/tWp8E5qAe6qEeNpvhSUDOxUdYAEQEBICIgAAQERAAIgICQERAAIgICAARAQEgIiAARAQEgIiAABBxF1YTq9Xdu3uA461WrU+wNAJybnduC91uWx8HIOUjLAAiAgJAREAAiAgIABEBASAiIABEBASAiIAAEBEQACICAkBEQACICAgAEQEBICIgAEQEBICIgAAQERAAIgICQERAAIgICAARAQEgIiAARAQEgIiAABAREAAiF60PsDi1q129vR0erq9bHwfm4+qqK13pynrd+iRLISBN7PelL33pd7vWJ4E5qId6qIfNZngSkHPxERYAEQEBICIgAEQEBICIgAAQERAAIgICQERAAIgICAARAQEgIiAARNyF1cRqdffuHuB4q1XrEyyNgJzbndtCt9vWxwFI+QgLgIiAABAREAAiAgJAREAAiAgIABEBASAiIABEBASAiIAAEBEQACICAkBEQACICAgAEQEBICIgAEQEBICIgAAQERAAIgICQERAAIgICAARAQEgIiAARAQEgIiAABAREAAiAgJAREAAiAgIABEBASAiIABEBASAiIAAEBEQACICAkBEQACICAgAEQEBICIgAEQEBICIgAAQERAAIgICQERAAIgICAARAQEgIiAARAQEgIiAABAREAAiAgJA5D9CfJFqZEsmtQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0xMi0xNFQxMDozNjozNSswODowMF4oKxoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMTItMTRUMTA6MzY6MzUrMDg6MDAvdZOmAAAASHRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl80NHdrNDFwOHlzL3ppeXVhbi5zdmfk4ym/AAAAAElFTkSuQmCC"},"9e82":function(e,t,n){},"9eb3":function(e,t,n){"use strict";n.r(t);var i=n("ee6d"),a=n("8279");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("aca6");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"aa60c646",null);t["default"]=s.exports},"9ed1":function(e,t,n){"use strict";n.r(t);var i=n("ca8a"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"9ed6":function(e,t,n){"use strict";n.r(t);var i=n("1c13"),a=n("998c");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("9376");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"d0633f04",null);t["default"]=s.exports},"9f17":function(e,t,n){"use strict";n.r(t);var i=n("f196"),a=n("7359");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("ff15");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"bed12662",null);t["default"]=s.exports},"9f3b":function(e,t,n){"use strict";n.r(t);var i=n("4b5e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"9f58":function(e,t,n){"use strict";n.r(t);var i=n("4320"),a=n("3515");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"9f66":function(e,t,n){"use strict";n.r(t);var i=n("b88b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"9f6f":function(e,t,n){"use strict";n.r(t);var i=n("09da"),a=n("05b6");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"ea204028",null);t["default"]=s.exports},"9fa5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIEAYAAAD9yHLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAC69JREFUeNrt3V2MnFUZB/BzZvuF0SIQRIsWxTaiYlFJSxBISGmMF34Qq0EiliIkflyIkUg0kaBe9QK50iaGopuoIcEqjYleaEhEY2KifK3YED+iplhtMQGrRmFljhfPDjqUbXeOM3tmdn6/m5PzTvvOM+/uvv993q/NaUKUbumW7urVMdu+PeWUU7788lRSSWXr1phv2hSvn356jC96Ueu6YXI98UT8fB05Ej9fv/pVLP/pT2P5D36QO7mTOz//eetKaSO3LmAxERgbN8bsxhvjG/jaa2N+xhmt6wN6fvObGPfujWDZty+C5W9/a10ZozU2ARKB0esYbrklAuPGG2O+Zk3r+oClevzxCJLez/Edd+Scc87dbuvKGK7mARLBcdFFMfvGN+Ib7tWvbl0XMAQllVTuvTd+rnftiiA5fLh1WQxHswAppZRSrroqZrOzMa5b13qDAKPy2GMRKG9/exzievjh1hXx/1n2AInguPLKmO3fH+PMTOsNASyXJ5+Mcfv26EgefLB1RdRZtgCJ4Ljwwpj95Ccxrl3begMArRw+HB3Jm98cHcmRI60rYjCdUb9BBMcpp8TsrrtiFBzAhg0xfv3rsZ/Izc/JMpiRB0i4+eYYN29u/YGBMZJTTnnHjuhEPvCB1uUwmJElfvxGcdppMfvDH2J0Yx+wmEOHIkg2bYpDWk8/3boiTmx0HUhJJZUbboiJ4ABO5hWviI7k6qtbV8LSjC5AcsopX3NN6w8ITJCSSiq7d7cug6UZ+iGsOHR19tkxe+yx1h8QmDTPPBPjmWfGZb5PPNG6Ip7fiDqQSy5p/cGASTUzE52I/ci4G1GAvPa1rT8YMMFyyim//vWty+DERhQgL3tZ6w8GTLpzzmldASc2ogDp3TgIUGv9+tYVcGIjChDPtgL+X70/IMe4WqY70QFYaQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVQQIAFUECABVBAgAVVa1LgDgOCWVVLZsKaWUUvbsaV3OcD5Pt5tyyikfPRoLf//7WH7//bmTO7lz6FDrMgclQIDxk1NO+bzzYtIbJ1hOOeXFl0dQ/u53ESj798fyr3wl55xzfvTR1uUvxiEsgLHwqldFcHzykzH/5S8jWA4ciHH8glSAAIylzsL++V3vinFuLoLk1ltjnJlpXmHrAgBYitWrY/zsZ+NQ1/e/H0Hy4he3qkiAAEyanHLK27fH5L77IkjOOGO5yxAgABNty5YYv/e9CJJ165brnQUIwIqwbVuMX/zicr2jAAFYUa6/vnRLt3Tf8Y5Rv5MAAVhpcsop3357BMmqkd3vJ0AAVqRNmyJIrrlmVO8gQABWtI98ZFRrFiAAK9q2bXEoa/PmYa9ZgACsdDnllN/2tmGvVoAATIWtW4e9RgECMBVe97phr1GAAEyFs84a9hoFCMBUWL9+2GsUIABToZRhr1GAAEyFbnfYaxQgAFNBBwJAFQECQBWHsACoogMBoIoOBIAqOhAAqgy/AxnZX6qihaeeSiWVVL7znXj65v33x/yPf3z2dQawdm1sx5e/PLbjjh0xv/zyeH1mpnWFsHTD70AEyIpw552xg/vUp3Ind3LnL39pXdHKtGdP/F2F88+PINm7N5ZfdlnryuDkHMIipfTfb4QPfjDnnHO+4QbBsTxiOz/ySAT2FVfE0rvual0XnJyT6JRUUtmzJ4Ljq19tXc60iiCZn4+vx3XXxdIHHmhdFyxOBzLljh6N8XOfa10JIYKkd27pppta1wPPq6SSig5kys3O9u+wGBfREf7wh/GD+tvftq4HjqcDmXIPPdS6Ak4ip5zyj3/cugzok1NOWQcy5Y4caV0BS/HnP7euAI6nA5leJZVUNmxoXQZLceqprSuAPs6BTLmccsrbtrUug6V4wxtaVwB9csop60Cm3K5dcSPbC1/YuhL6lVJKKWefHbOLL25dDxxPBzLleodGPv/51pXwHCWVVHpfF484YRzpQMgpp/zxj8dvvFde2bqcaRdfh/e/P74uvRsKYRzpQEgppZRzjPv3xw7sppti7C1nVGI7dzoxfuITsXR2Nkbbn3GmA6FP71DJbbfFIZSDB2PH9tGPxrmSLVtivm5d60onTWy/NWti+517bsw/9KF49cEHY/zCF2Jc5aGkjLcRXYXlG3+lyCmnfN55MfnSl2L+35djR9i6yAn2nO0JE8WNhABUKamkEfwKKUAAVjodCABVdCAAVNGBAFBPBwJAFQECQBWHsACoogMBYFD+HggAVfw9EACq6EAAqKcDAWBQbiQEoJ4OBIBBOQcCQBVXYQFQTwcCQBUdCABVdCAAVNGBADAoV2EBUMVVWABU0YEAUEUHAkA9HQgAVXQgAFTRgQBQRQcCQBUdCABVdCAAVBEgAAzKjYQAVHEjIQBVdCAAVNGBAFBPBwJAleF3IKtafySGpKSSyqOPRqu6b18svPfeWH74cCyfn29d5sQoqaSyenVMXvrS2H5bt8Z89+4YL720dZmwdAKEPs88E+NnPhPjbbflnHPO//5368pWlqNHY5ybi/HOO0sppZSdO2N+xx0xnnZa60phcQ5hkVJKqZT4Dfm66yIw9uzJndzJHcGxXGK7f+tbMet1IseOta4LFuckOiWVVPbti8D42tdalzPtIkgOHoxZ79AWjCMdyJSbn49j8bfe2roS+kWQ3HNPzB54oHU9cDwdyPQqqaTyox/FjupPf2pdDifSOycCY8KNhKT00EOtK+AkSiqp9A5pwTgRINMrp5zyX//augxOIqec8uOPty4DloMAmSgveUnrCliKV76ydQXQJ6ecsg5kepVUUrnkktZlsBQXXdS6Ajiek+jTK6ec8hvfWLqlW7oXXNC6HPrFjYXr1sXswx9uXQ/0cRKdlHKO8fbbY4c1M9O6Iv7XLbfEeNZZrSuBPp7GS0pp4Rth+/aY9IKkFywst9j+114bs09/unU9sDgdCH0+9rEYDxyIQ1sbN7auaKWL7bx+fQTH3r2xdHY2RkHOOPMwRZ7XO98Znclb3xo7tu9+N5b3nsZ76FDM//Wv1pVOllNOifGcc/qfxvue98T4ghe0rhCWbvgdiABZUXoncXtPid25M3Z8resC2nMIC4AqTqIDUEUHAkAVHQgAVXQgAFTRgQBQRYAAMCjPwgKgimdhAVBPBwJAFR0IAINyDgSAKs6BAFBPBwJAFR0IAFV0IAAMqqSSig4EgCo6EACq6EAAGFROOWUdCABVdCAAVNGBADAoV2EBUE8HAsCgPAsLgHo6EACq6EAAqKIDAWBQrsICoIo70QGopwMBoIoOBIAqOhAAqggQAAZVUkll+IewVrX+XACMWE455YsvLt3SLd1zz42FGzfG8g0bImD+8Y+Yz83F/MCB3Mmd3Dl0aPHVLiLeaM2aWOHu3bHC97435m96U/yr009fWM2i6wFgEs3Px/jlL8d4880555zzP//Z+xfH7fgjOC64IILim9+MpZs3t/4oALT0s59FI7FjR3Qmx449GyD9wXHffbH01FNblwzAmCippPLtb0eA7NyZ+w9Vzc3Fv3rNa1rXCcA4u+KKhauwdu2KUXAAsBTXX78QIO97X+tSAJgkl12WSymllKNHY8GZZ7YuCYBJMD+/0IHMzLQuBYBJ8uSTCwHyi1+0LgWACVFSSWVubiFA7r67dT0ATIiccsp3371wGe/atbH04MF4oXerOwD8r1//OjqQ88/vxA0hTz0VL7z73TEeO9a6RADGyd//3nukVeTG008/+zTeWPDwwzF7y1tiPHiwdckAtNTrOC69tD8nTvowxVULT+u9+uo4tHXVVTG/8MIYe5f9uooLYLIdORJB8cgjvXMcMZ+d7XUcz/0f/wFr2VcraH8ivAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0xMi0xNFQxMDozNjozNSswODowMF4oKxoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMTItMTRUMTA6MzY6MzUrMDg6MDAvdZOmAAAAR3RFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl80NHdrNDFwOHlzL2ppZ291LnN2Z6Y3QPkAAAAASUVORK5CYII="},a02b:function(e,t,n){"use strict";var i=n("dbce"),a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("20d6"),n("5df3"),n("1c4c");var r=a(n("ea27")),o=a(n("1fc4")),s=i(n("8344")),l={name:"GroupCountSet",components:{Basic:r.default,CustomizeColumn:o.default},data:function(){return{items:[],nodeData:null,columnsInfoPre:[],countTrNum:1,isAllDisabled:!1,checkAll:!1,columnItems:[],isDisabled:!1,columnData:[],columnDataValue:[],columnsInfo:[],curColumnInfo:null,helpDialogVisible:!1,customizeColumnDialogVisible:!1,customizeColumnTitle:"",customizeColumnType:"",ind:0,activeTabName:"nodeSet",activeCollapseNames:["groupSet"]}},props:["graph"],mounted:function(){this.nodeData=this.graph.nodeData[this.graph.curCell.id],s.sendVueObj(this),s.init()},methods:{handleCheckAllChange:function(e){Array.from(this.columnItems,(function(t){return t.checked=e}))},checkBoxChange:function(){for(var e=0,t=0;t<this.columnItems.length;t++)this.columnItems[t].checked&&e++;this.columnItems.length===e?this.checkAll=!0:this.checkAll=!1},changeGroupData:function(e,t,n){var i=this;this.isAllDisabled&&(this.isDisabled=!1,Array.from(n,(function(e){var n=i.columnItems.findIndex((function(t){return t.columnName===e}));n>-1&&(i.columnItems[n].checked="right"===t)})),this.checkAllFun(),this.isDisabled=!0)},checkAllFun:function(){for(var e=0,t=0;t<this.columnItems.length;t++)this.columnItems[t].checked&&e++;e===this.columnItems.length?this.checkAll=!0:this.checkAll=!1},addCountTr:function(){s.addCountTr()},delCountTr:function(e){s.delCountTr(e)},vilidata_simple:function(){var e=this,t=this.columnItems.findIndex((function(e){return!0===e.checked}));if(t<0)return this.$message({type:"warning",message:"请选择输出字段"}),!1;for(var n=[],i=!0,a="",r=0;r<this.columnItems.length;r++){if(this.columnItems[r].checked){var o=function(){var t=e.columnItems[r].newColumnName;if(""===$.trim(t))return i=!1,a="第".concat(r+1,"行的输出字段的内容不能为空值，请修改"),"break";if(getStrBytes(t)>30)return i=!1,a="第".concat(r+1,"行的输出字段的内容超过30个字符的长度限制，请修改"),"break";if(!verifyReg(t))return i=!1,a="第".concat(r+1,"行的输出字段的内容含有特殊字符或以数字开头，请修改"),"break";var o=n.findIndex((function(e){return e.newColumnName===t}));return o>-1&&n[o].checked?(i=!1,a="第".concat(o+1,"行与第").concat(r+1,"行的输出字段的内容重复，请修改"),"break"):void 0}();if("break"===o)break}n.push({checked:this.columnItems[r].checked,newColumnName:this.columnItems[r].newColumnName})}return i||this.$message({type:"warning",message:a}),i},saveNodeInfo:function(){return s.saveNodeInfo()},inputVerify:function(){return s.inputVerify()},customizeColumn:function(e,t){if(this.customizeColumnType=e,"1"===e)this.customizeColumnTitle="自定义字段",this.curColumnInfo=null;else{if("undefined"!==typeof t.sign&&""!==t.sign)return void this.$message({type:"warning",message:"汇总字段不可被修改"});this.customizeColumnTitle="修改设置",this.curColumnInfo=t}this.customizeColumnDialogVisible=!0},customizeColumnBack:function(){var e=this.$refs.customizeColumn.saveInfo();if(!e.isError){this.customizeColumnDialogVisible=!1;var t=e.columnInfo.columnName,n=null,i="",a=e.columnInfo,r="",o=!0,s=e.columnInfo.newColumnName;if("1"===this.customizeColumnType)n=this.ind,i="customizeColumn",r="自定义字段",a.nodeId=i,a.rtn=r,this.columnItems.push({id:n,nodeId:i,columnName:t,columnInfo:a,rtn:r,newColumnName:s,checked:o}),this.ind++;else{n=this.curColumnInfo.id,r=this.curColumnInfo.rtn,i=this.curColumnInfo.nodeId,a.nodeId=i,a.rtn=r;var l=this.columnItems.findIndex((function(e){return e.id===n}));l>-1&&(this.columnItems.splice(l,1),this.columnItems.splice(l,1,{id:n,nodeId:i,columnName:t,columnInfo:a,rtn:r,newColumnName:s,checked:o}))}}}}};t.default=l},a036:function(e,t,n){"use strict";n.r(t);var i=n("d1e9"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a03e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var i={props:{currentDate:{type:String,default:"2020/09/10"},type:{type:String,default:"dark"}},data:function(){return{weekList:["SUN","MON","TUE","WED","THU","FRI","SAT"],monthList:[31,28,31,30,31,30,31,31,30,31,30,31],timestamp:null,nowYear:1991,nowMonth:2,nowDay:1,todayYear:1991,todayMonth:2,todayDay:1,weekDay:1,lastWeekDay:1,clickActiveIndex:1,nowZhMonth:"",zhMonth:[{num:1,zh:"一"},{num:2,zh:"二"},{num:3,zh:"三"},{num:4,zh:"四"},{num:5,zh:"五"},{num:6,zh:"六"},{num:7,zh:"七"},{num:8,zh:"八"},{num:9,zh:"九"},{num:10,zh:"十"},{num:11,zh:"十一"},{num:12,zh:"十二"}]}},computed:{preMonthSize:function(){return this.nowMonth-1===0?31:this.monthList[this.nowMonth-2]}},watch:{nowMonth:{handler:function(e,t){this.nowMonthChange()},immediate:!0}},created:function(){this.init()},methods:{selectDate:function(e){var t=this.nowMonth<10?"0"+this.nowMonth:this.nowMonth,n=e<10?"0"+e:e,i="".concat(this.nowYear,"/").concat(t,"/").concat(n);this.$emit("selectDate",i),console.log(i)},getSelectData:function(e){var t=this.nowMonth<10?"0"+this.nowMonth:this.nowMonth,n=e<10?"0"+e:e,i="".concat(this.nowYear,"/").concat(t,"/").concat(n);return this.currentDate===i},actionHandle:function(e){switch(e){case"prevMonth":this.nowMonth>1?this.nowMonth-=1:(this.nowMonth=12,this.nowYear-=1);break;case"nextMonth":this.nowMonth<12?this.nowMonth+=1:(this.nowMonth=1,this.nowYear+=1);break;default:break}this.initDate()},nowMonthChange:function(){var e=this;this.zhMonth.forEach((function(t){t.num==e.nowMonth&&(e.nowZhMonth=t.zh)}))},init:function(){this.timestamp=new Date,this.todayYear=this.nowYear=this.timestamp.getFullYear(),this.todayMonth=this.nowMonth=this.timestamp.getMonth()+1,this.todayDay=this.nowDay=this.timestamp.getDate(),this.clickActiveIndex=this.nowDay,this.initDate()},initDate:function(){this.nowYear%4===0&&this.nowYear%100!==0||this.nowYear%400===0?this.monthList[1]=29:this.monthList[1]=28;var e=this.getWeekDay(this.nowYear,this.nowMonth,1);this.weekDay=7===e?0:e;var t=this.getWeekDay(this.nowYear,this.nowMonth,this.monthList[this.nowMonth-1]);this.lastWeekDay=7===t?6:6-t},getWeekDay:function(e,t,n){return new Date("".concat(e,"/").concat(t,"/").concat(n)).getDay()}}};t.default=i},a04d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("d75c"),a={data:function(){return{}},methods:{createParamTableHtml:function(e,t,n){(0,i.createParamTableHtml)(e,t,n)},getParamSettingArr:function(e){return(0,i.getParamSettingArr)(e)}},props:["myId"]};t.default=a},a054:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.findSqlDraft=o,t.deleteSqlDraft=s,t.updateDraft=l;var a=i(n("b775")),r="/analysis";function o(e){return(0,a.default)({baseURL:r,url:"/sqlDraft/pageList",method:"post",data:e})}function s(e){return(0,a.default)({baseURL:r,url:"/sqlDraft/delete",method:"post",params:{ids:e}})}function l(e){return(0,a.default)({baseURL:r,url:"/sqlDraft/update",method:"put",data:e})}},a0a4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"centerDiv"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"text item treeDiv"},[n("el-tree",{ref:"tree",attrs:{data:e.data,lazy:"","node-key":"id","check-strictly":"",load:e.loadnode,props:e.defaultProps},on:{"node-click":e.nodeclick}})],1)])],1)},a=[]},a0c9:function(e,t,n){"use strict";n.r(t);var i=n("30f3"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a0e4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB5ElEQVRYR+2Wv27UQBCHZ/wAFFDwCggJqAMB7iCQHkRNEHTn8TVIlOQVzr/dAgk6JEoKaMK/XEggRZo0IIREQ0XDG3D7Q464yIB13ksWItBt48Lj3W+/Gc+uygEPPeD1ZQbw7xjo9/tHQwinSJ5uqZuPWZZtlGX5Oaa+og2Y2UMROUbyqYhQZKd+xs/dtVT1uIgcBrCQGuAryavOueGkic3svIg8AXAoNQBJdtsA8jzvqOoqgCi7jUF5ni+rarWT+uiIyMTd14J/iyW55pxb/tVKI0Cv15tT1cUYhbExJFe895tRALGTpohrzVOVjmqhur48z0uS97z376p3P/J+HcCNMVTTd03AUQCq2gFQ5XVnmNm3EMI17/3jGsBdAN1azJDksCnvdZC9AjCEcOWvAWRZ1i3LcvevMLNWgKIo1kIIq6kMXABwbqyuKIpPo9HodouB1yRf/TcAFwGcndLAOsmXqQwsAJivVXhrDZjZBskXqQAuATgzJcAbks//FMB2lmV3BoPByoQ+kBTgMoC2i8hPjc7M3pJ8lsrAIoC5aXq/mW1WB1AKgJuqemuPAPedcw8mgbe2YjOrrliPROTkNAZEZEtElgC83xdA7XQ7ISJHIiG+OOc+xMS2GoiZZD8xM4CZge++3Vgw+2JiDwAAAABJRU5ErkJggg=="},a0e6:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.saveFolder=s,t.updateFolder=l,t.delFolder=u;var a=i(n("b775")),r="/data",o="folder";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}},a15c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"errPage-container"},[n("el-button",{staticClass:"pan-back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v(" 返回 ")]),n("el-row",[n("el-col",{attrs:{span:12}},[n("h1",{staticClass:"text-jumbo text-ginormous"},[e._v(" Oops! ")]),e._v(" gif来源"),n("a",{attrs:{href:"https://zh.airbnb.com/",target:"_blank"}},[e._v("airbnb")]),e._v(" 页面 "),n("h2",[e._v("你没有权限去该页面")]),n("h6",[e._v("如有不满请联系你领导")]),n("ul",{staticClass:"list-unstyled"},[n("li",[e._v("或者你可以去:")]),n("li",{staticClass:"link-type"},[n("router-link",{attrs:{to:"/dashboard"}},[e._v(" 回首页 ")])],1),n("li",{staticClass:"link-type"},[n("a",{attrs:{href:"https://www.taobao.com/"}},[e._v("随便看看")])]),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.dialogVisible=!0}}},[e._v("点我看图")])])])]),n("el-col",{attrs:{span:12}},[n("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"随便看"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("img",{staticClass:"pan-img",attrs:{src:e.ewizardClap}})])],1)},a=[]},a165:function(e,t,n){},a17d:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("ac6a"),n("20d6"),n("c5f6"),n("3b2b");var a=i(n("333d")),r=n("4e81"),o=i(n("c164")),s={components:{Pagination:a.default,QueryField:o.default},data:function(){return{dialogTreeVisible:!1,tableKey:"dataSortUuid",tableSecondKey:"codeUuid",list:null,listSecond:null,total:0,totalSecond:0,listLoading:!1,listLoadingSecond:!1,queryFields:[{label:"代码类别名称",name:"dataSortName",type:"text",value:""},{label:"代码类别编码",name:"dataSortValue",type:"text",value:""}],pageQuery:{condition:{},pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},pageQuerySecond:{condition:{},pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},temp:{dataSortUuid:"",dataSortName:"",dataSortValue:"",dataSortDesc:"",extendTag:-1},tempSecond:{codeUuid:"",dataSortUuid:"",codeVaule:"",codeName:"",codeDesc:"",codeState:-1,codeIndex:""},selections:[],selectionSecond:[],dialogFormVisible:!1,dialogFormSecond:!1,dialogStatus:"",dialogSecondStatus:"",textMap:{update:"修改代码",create:"新增代码"},dialogPvVisible:!1,rules:{dataSortName:[{required:!0,message:"请填写代码类别名称",trigger:"blur"}],dataSortValue:[{required:!0,message:"请填写代码类别编码",trigger:"blur"}],dataSortDesc:[{max:100,message:"长度不得超过100",trigger:"blur"}],extendTag:[{required:!0,message:"请选择数据展示类型",trigger:"blur"}]},rulesSecond:{codeName:[{required:!0,message:"请填写通用代码类别名称",trigger:"blur"}],codeValue:[{required:!0,message:"请填写通用代码编码",trigger:"blur"}],codeDesc:[{max:100,message:"长度不得超过100",trigger:"blur"}],codeIndex:[{required:!0,message:"请填写通用代码排序号",trigger:"blur"}],codeState:[{required:!0,message:"请选择代码状态",trigger:"blur"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.pageNo=1,this.pageQuery.condition=e),(0,r.listByPage)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},number:function(){var e=this.temp.dataSortValue,t=new RegExp("^[0-9]{4,32}$").test(e);t||(this.$notify.error({title:"错误",message:"请输入4-32位的数字",position:"bottom-right"}),this.temp.dataSortValue="")},numberSecond:function(){var e=this.tempSecond.codeValue,t=new RegExp("^[0-9]{4,32}$").test(e);t||(this.$notify.error({title:"错误",message:"请输入4-32位的数字",position:"bottom-right"}),this.tempSecond.codeValue="")},numberIndex:function(){var e=this.tempSecond.codeIndex,t=new RegExp("^[0-9]$").test(e);t||(this.$notify.error({title:"错误",message:"请输入纯数字",position:"bottom-right"}),this.tempSecond.codeIndex="")},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},formatTag:function(e,t){return"0"===e.extendTag?"列表类":"树形类"},formatState:function(e,t){return"0"===e.codeState?"可用":"禁用"},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},resetTemp:function(){this.temp={dataSortUuid:void 0,attrName:"",attrCode:"",describe:""}},resetTempSecond:function(){var e=this;this.tempSecond={codeUuid:"",dataSortUuid:this.selections[0].dataSortUuid,codeVaule:"",codeName:"",codeDesc:"",codeState:"",codeIndex:""},this.$nextTick((function(){e.$refs["dataSecondForm"].clearValidate()}))},addCode:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},closeDialog:function(){this.dialogFormVisible=!1},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(0,r.save)(e.temp).then((function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},updateCode:function(){var e=this;this.temp=Object.assign({},this.selections[0]),this.temp.extendTag=Number(this.temp.extendTag),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var n=Object.assign({},e.temp);(0,r.update)(n).then((function(){var t=e.list.findIndex((function(t){return t.dataSortUuid===e.temp.dataSortUuid}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},deleteCode:function(){var e=this;this.$confirm(this.$t("confirm.delete"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.okBtn"),cancelButtonText:this.$t("confirm.cancelBtn"),type:"warning"}).then((function(){var t=[];e.selections.forEach((function(e,n){t.push(e.dataSortUuid)})),(0,r.del)(t).then((function(){e.getList(),e.$notify({title:e.$t("message.title"),message:e.$t("message.delete.success"),type:"success",duration:2e3,position:"bottom-right"})}))})).catch((function(){}))},setBaseCode:function(){var e=this,t=Object.assign({},this.selections[0]);"0"===t.extendTag?(this.resetTempSecond(),this.dialogFormSecond=!0,this.pageQuerySecond.condition=Object.assign({},this.selections[0]),this.tempSecond.dataSortUuid=this.selections[0].dataSortUuid,(0,r.inItCode)(this.pageQuerySecond).then((function(t){e.totalSecond=t.data.total,e.listSecond=t.data.records})),this.$nextTick((function(){e.$refs["dataSecondForm"].clearValidate()}))):this.openTree()},openTree:function(){this.$store.dispatch("dataSort/setDataSortUuid",this.selections[0].dataSortUuid),this.$store.dispatch("dataSort/setDataSortName",this.selections[0].dataSortName),this.$router.push({path:"/base/basecodetree"})},addSecondCode:function(){var e=this;this.$refs["dataSecondForm"].validate((function(t){t&&(0,r.saveSecond)(e.tempSecond).then((function(){e.setBaseCode(),e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},updateDataSecond:function(){var e=this;this.$refs["dataSecondForm"].validate((function(t){if(t){var n=Object.assign({},e.tempSecond);(0,r.updateSecond)(n).then((function(){var t=e.listSecond.findIndex((function(t){return t.codeUuid===e.tempSecond.codeUuid}));e.listSecond.splice(t,1,n),e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},deleteDataSecond:function(){var e=this;this.$confirm(this.$t("confirm.delete"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.okBtn"),cancelButtonText:this.$t("confirm.cancelBtn"),type:"warning"}).then((function(){var t=[];e.selectionSecond.forEach((function(e,n){t.push(e)})),(0,r.delSecond)(t).then((function(){e.setBaseCode(),e.$notify({title:e.$t("message.title"),message:e.$t("message.delete.success"),type:"success",duration:2e3,position:"bottom-right"})}))}))},handleSelectionChange:function(e){this.selections=e},handleSelectionChangeSecond:function(e){this.selectionSecond=e,this.tempSecond=Object.assign({},this.selectionSecond[0]),0!==e.length&&(this.tempSecond.codeState=Number(this.tempSecond.codeState))},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"}}};t.default=s},a188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},a18c:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.resetRouter=v,t.default=t.asyncRoutes=t.constantRoutes=void 0;var a=i(n("dbce")),r=i(n("a026")),o=i(n("8c4f")),s=i(n("351f")),l=i(n("eec3")),u=i(n("e1b5")),c=i(n("20d8")),d=i(n("b361"));r.default.use(o.default);var h=[{path:"/",redirect:"/ams/first"},{path:"/screenList",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("2e36"))}))}},{path:"publicScreenList",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("98ce"))}))}},{path:"/screenEditor",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("c7f4"))}))}},{path:"/modelresulthandle",name:"模型结果处理",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("5934"))}))}},{name:"canvasPreview",path:"/canvasPreview",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("c7bb"))}))}},{path:"/screenOp",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("ee37"))}))}},{path:"/ams/assembly",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("c99f"))}))}},{path:"/ams",name:"ams",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b574"))}))},children:[{path:"",redirect:"/ams/first"},{path:"first",name:"amsFirst",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("e4df"))}))}},{path:"main",name:"amsMain",meta:{isShowRightFooter:!0},component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("aa2f"))}))}}]},{path:"/frameto",name:"frameto",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("59c2"))}))}},{path:"/datamining",name:"数据挖掘",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b574"))}))},children:[{path:"/datamining/index",name:"数据挖掘",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("8838"))}))}}]},s.default,l.default,c.default,u.default,d.default],f=[{path:"/redirect",hidden:!0,children:[{path:"/redirect/:path(.*)",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("ef3c"))}))}}]},{path:"/login",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("9ed6"))}))},hidden:!0},{path:"/auth-redirect",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b829"))}))},hidden:!0},{path:"/404",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("1db4"))}))},hidden:!0},{path:"/401",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("24e2"))}))},hidden:!0}];t.constantRoutes=f;var p=[{path:"/permission",redirect:"/permission/page",alwaysShow:!0,name:"Permission",meta:{title:"permission",icon:"lock",roles:["admin","editor"]},children:[{path:"page",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("3252"))}))},name:"PagePermission",meta:{title:"pagePermission",roles:["admin"]}},{path:"directive",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("a99f"))}))},name:"DirectivePermission",meta:{title:"directivePermission"}},{path:"role",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("d78e"))}))},name:"RolePermission",meta:{title:"rolePermission",roles:["admin"]}}]},{path:"*",redirect:"/404",hidden:!0}];t.asyncRoutes=p;var m=function(){return new o.default({scrollBehavior:function(){return{y:0}},routes:[].concat(h,f,p)})},g=m();function v(){var e=m();g.matcher=e.matcher}var y=g;t.default=y},a1b0:function(e,t,n){"use strict";n.r(t);var i=n("cc66"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a1b7:function(e,t,n){"use strict";n.r(t);var i=n("a04d"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a1f5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{ref:"tabs",staticStyle:{},model:{value:e.tabShowName,callback:function(t){e.tabShowName=t},expression:"tabShowName"}},[n("el-tab-pane",{attrs:{label:"数据资源目录",name:"directory"}},[n("directory",{attrs:{"data-user-id":e.dataUserId,"scene-code":e.sceneCode}})],1),n("el-tab-pane",{attrs:{label:"模型编写",name:"auditmodel"}},[n("auditmodel",{attrs:{"data-user-id":e.dataUserId,"scene-code":e.sceneCode,"folder-name":e.folderName}})],1)],1)],1)},a=[]},a221:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-input flex a-center j-between flex-row",style:e.styleClass},["suffix"===e.iconAround?[n("input",e._b({staticClass:"input h100",attrs:{type:"text",placeholder:"placeholder"},domProps:{value:e.value},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.keydown(t)},input:e.input}},"input",e.$attrs,!1)),n("i",{staticClass:"el-icon-search icon flex-shrink suffix-icon"})]:e._e(),"prefix"===e.iconAround?[n("i",{staticClass:"el-icon-search icon flex-shrink prefix-icon"}),n("input",e._b({staticClass:"input h100",attrs:{type:"text",placeholder:"placeholder"},domProps:{value:e.value},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.keydown(t)},input:e.input}},"input",e.$attrs,!1))]:e._e()],2)},a=[]},a28a:function(e,t,n){e.exports=n.p+"static/img/firstcercle.a74d2e10.png"},a296:function(e,t,n){"use strict";n.r(t);var i=n("7676"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a2cd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("d42c"),a={props:["tableId"],data:function(){return{temp:{tableMetaUuid:void 0,tbName:"",tablePath:"",fieldsNum:"",rowNum:"",tableSize:""}}},created:function(){this.initBasicInfo(this.tableId)},methods:{initBasicInfo:function(e){var t=this;"addTable"!==this.openType&&(0,i.getBasicInfo)(e).then((function(e){t.temp=e.data}))}}};t.default=a},a30d:function(e,t,n){"use strict";n("a507")},a31d:function(e,t,n){"use strict";n("70e3")},a347:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("635f")),r={props:["query","index","rule","labels","depth"],computed:{isCustomComponent:function(){return"custom-component"===this.rule.type},selectOptions:function(){return"undefined"===typeof this.rule.choices?{}:this.rule.choices.reduce((function(e,t,n){var i=t["group"];return"undefined"!==typeof i?(e[i]=e[i]||[],e[i].push(t)):e[n]=t,e}),{})},hasOptionGroups:function(){return this.selectOptions.length&&Array.isArray(this.selectOptions[0])}},beforeMount:function(){"custom-component"===this.rule.type&&(this.$options.components[this.id]=this.rule.component)},mounted:function(){var e=(0,a.default)(this.query);null===this.query.value&&("checkbox"===this.rule.inputType&&(e.value=[]),"select"===this.rule.type&&(e.value=this.rule.choices[0].value),"custom-component"===this.rule.type&&(e.value=null,"undefined"!==typeof this.rule.default&&(e.value=(0,a.default)(this.rule.default))),this.$emit("update:query",e))},methods:{remove:function(){this.$emit("child-deletion-requested",this.index)},updateQuery:function(e){var t=(0,a.default)(this.query);t.value=e,this.$emit("update:query",t)},querySearch:function(e,t){var n=this.rule.choices,i=e?n.filter(this.createFilter(e)):n;t(i)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleIconClick:function(){this.$refs.input.focus()}}};t.default=r},a36b:function(e,t,n){e.exports=n.p+"static/img/404.a57b6f31.png"},a39c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{ref:"info",staticClass:"detail-form",attrs:{model:e.thresholdValueRelObj,rules:e.basicInfoRules}},[n("el-row",[n("el-col",{attrs:{span:23}},[n("el-form-item",{attrs:{label:"阈值字段",prop:"modelResultColumnName"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:e.thresholdValueRelObj.modelResultColumnName,callback:function(t){e.$set(e.thresholdValueRelObj,"modelResultColumnName",t)},expression:"thresholdValueRelObj.modelResultColumnName"}},e._l(e.setThreasholdValueObj.columns,(function(t,i){return n("el-option",{key:t,attrs:{value:t,label:t}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"运算符",prop:"operator"}},[n("el-select",{model:{value:e.thresholdValueRelObj.operator,callback:function(t){e.$set(e.thresholdValueRelObj,"operator",t)},expression:"thresholdValueRelObj.operator"}},e._l(e.operatorObj,(function(t,i){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"阈值名称",prop:"thresholdValue.thresholdValueName"}},[n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.thresholdValueRelObj.thresholdValue.thresholdValueUuid,callback:function(t){e.$set(e.thresholdValueRelObj.thresholdValue,"thresholdValueUuid",t)},expression:"thresholdValueRelObj.thresholdValue.thresholdValueUuid"}}),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.thresholdValueRelObj.thresholdValue.thresholdValueName,callback:function(t){e.$set(e.thresholdValueRelObj.thresholdValue,"thresholdValueName",t)},expression:"thresholdValueRelObj.thresholdValue.thresholdValueName"}},[n("el-option",{staticStyle:{height:"auto"},attrs:{label:e.thresholdValueRelObj.thresholdValue.thresholdValueName,value:e.thresholdValueRelObj.thresholdValue.thresholdValueName}},[n("thresholdvaluetree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"thresholdvaluetree",attrs:{isShowEdit:!1},on:{thresholdValueClick:e.setSelectTreeNode}})],1)],1)],1)],1)],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isShowThresholdValueObject,expression:"isShowThresholdValueObject"}]},[n("el-col",{attrs:{span:23}},[n("el-form-item",{attrs:{label:"关联阈值对象列",prop:"thresholdValueObject"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:e.thresholdValueRelObj.thresholdValueObject,callback:function(t){e.$set(e.thresholdValueRelObj,"thresholdValueObject",t)},expression:"thresholdValueRelObj.thresholdValueObject"}},e._l(e.setThreasholdValueObj.columns,(function(t,i){return n("el-option",{key:t,attrs:{value:t,label:t}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:10}},[n("el-form-item",{attrs:{label:"背景色",prop:"backgroundColor"}},[n("Colorpicker",{model:{value:e.thresholdValueRelObj.colorInfoObj.backgroundColor,callback:function(t){e.$set(e.thresholdValueRelObj.colorInfoObj,"backgroundColor",t)},expression:"thresholdValueRelObj.colorInfoObj.backgroundColor"}})],1)],1),n("el-col",{attrs:{span:10}},[n("el-form-item",{attrs:{label:"字体颜色",prop:"fontColor"}},[n("Colorpicker",{model:{value:e.thresholdValueRelObj.colorInfoObj.fontColor,callback:function(t){e.$set(e.thresholdValueRelObj.colorInfoObj,"fontColor",t)},expression:"thresholdValueRelObj.colorInfoObj.fontColor"}})],1)],1)],1)],1)],1)},a=[]},a3ac:function(e,t,n){"use strict";n.r(t);var i=n("6bc3"),a=n("3aa5");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},a3e3:function(e,t,n){},a413:function(e,t,n){},a4a2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},[n("el-tab-pane",{attrs:{name:"预警结果",label:"预警结果"}},[n("firstParentTabCon",{on:{addtab:e.addTab}})],1),e._l(e.editableTabs,(function(e){return n("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[n("childTabs",{attrs:{maintable:e.mainTable,helptables:e.helpTables,"model-uuid":e.modeluuid,useType:"modelRunResult",resultSpiltObjects:e.resultSpiltObjects,settingInfo:e.settingInfo}})],1)}))],2)],1)},a=[]},a4c6:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-show",use:"icon-oper-show-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-show"><defs><style type="text/css"></style></defs><path d="M813.1 98.2H210.9c-48.9 0-88.5 39.6-88.5 88.5v653.9c0 48.9 39.6 88.5 88.5 88.5H552c193 0 349.5-156.5 349.5-349.5V186.7c0.1-48.9-39.6-88.5-88.4-88.5zM575.7 752H280.6c-25.7 0-46.5-20.8-46.5-46.5s20.8-46.5 46.5-46.5h295.1c25.7 0 46.5 20.8 46.5 46.5S601.4 752 575.7 752zM234.1 504c0-25.7 20.8-46.5 46.5-46.5h207.6c25.7 0 46.5 20.8 46.5 46.5s-20.8 46.5-46.5 46.5H280.6c-25.7 0-46.5-20.9-46.5-46.5zM649 348.9H280.6c-25.7 0-46.5-20.8-46.5-46.5s20.8-46.5 46.5-46.5H649c25.7 0 46.5 20.8 46.5 46.5-0.1 25.7-20.9 46.5-46.5 46.5z" p-id="8753" /></symbol>'});o.a.add(s);t["default"]=s},a4cf:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("46e5")),r=i(n("217b")),o=i(n("7361")),s=i(n("3905")),l={strict:!0,namespaced:!0,state:s.default,getters:r.default,mutations:o.default,actions:a.default};t.default=l},a507:function(e,t,n){},a542:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIEAYAAAD9yHLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAACHtJREFUeNrt3c+LVeUfwPHnGQcNacyK6MeiTSTTLsVmoD8gtJVtQjFDaWO1qE0g0aIoiKCWgZsgs2wXFaW1C4oWjY27SrOW0cYojfDHjM938ekKl77q3M/cO2dmfL02D+fKnfucQ5x3zzn3RykAAAAAAAAAAADk1a4nsFDtcrvcLo+Pl1pqqVNT8ejmzTFOTpZWWml33hnbGzf+u3srZv+A1a61GP/8M85jv/8e2z/9FOOJE3Eem5mpY3Wsjs3NdT3j61l2J9jWWmttzZo4kNu3x4Hesyf+dfv2GCcmup4nwGicOxfj0aMxHj4c4xdf1FprrfPzXc+wp/OAXFlZlFJK2bs3xgMHIhz33df1/ACWh9OnY3z99RgPHeo6KJ0FJMIxPR1bBw9GMB58sKv5AKwss7NxpWb//rjkNTOz1DMYW6oXiktTtcb43HMRjK+/Fg6AjC1b4vz57bdxXn355RjHluy8PvIVSKw01q6NHT10KB7duXOpdhDghtFKK+2jj+J8u3t3XOI6f35ULzeygPSH45NP4tFt20b1egD8q5VW2rFjsbFjR1ziunhx2C8z9KXOlSVULbXU3rsHhANgydRSS+29i/Xdd3u3EIb9MiO6VnbgQIyPPz7KYwTA9ezaFeMLLwz7Lw+tSFfeVVVLLfWbb+LR3ttzAejW3Fxc2nr44WG9a2vRAen/4N/MTASk9wlxAJaX2dkYp6YW+zmSxV/CaqWVtm+fcACsBFu2xNj7ho+89ArkysqjlFLKjz/GeP/9XR8aAK6jlVbaL7/ExuRk9ru38iuQ3ndVlVKEA2AF6X1VVC211Eceyf6ZfED6vuQQgJXpySezzxz4Elb/16qfOROPbtjQ9SEAIOPcubiidNttg17KGnwF0vd7HMIBsLJNTMR5fevWQZ85eEBaaaX17uIDsDoM/i7a5Apk06audxWAYZqcHPQZyZvo99zT9a4CMEx33TXoM5IBufnmrncVgGEa/J528h7IunVd7yoAQ9JKK+2mmwZ92pL9chUAq4uAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkjHc9ARieCxdi/OefrmdybevXx7huXdczgcUQEFaRd96ptdZan32265lcTWuttfb227H1zDNdzwcWwyUsAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBICU8a4ncGM7cybGqamuZ3Jt09MxHjnS9UyA5UNAOjU/X2uttf76a9czuZrWWmvt3nu7ngew/LiEBUCKgACQIiAApAgIACkCAkCKgACQIiAApAgIACkCAkCKgACQIiAApAgIACkCAkCKgACQIiAApAgIACkCAkCKgACQIiAApAgIACkCAkCKgACQIiAApAgIACkCAkCKgACQIiAApAgIACkCAkDKeNcTAJahVlppb71VaqmlnjrV9XSu7c03Y5yY6HomNxoBAf6rllrqZ5/VWmutX33V9XSuprXWWnv11dgSkKXmEhYAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkjHc9gRvbHXe01lprf/zR9UyubXyF/Hfy1FNxPHft6nom17Z+fdczWJhPP43jOTfX9UyubePGrmdwo1ohJ4bVqtYYb72165msDuvW9Y8szsRE1zNgeXMJC4AUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBk8ILXUUi9c6HriAAxJLbXU8+cHfVpyBfL3313vLwDDdPbsoM9IBuS337reVQCGafDzejIgJ092vasADNPg5/VkQGZnu95VAIaklVbaiRODPq0O/DqX2+V2eXw8brqcOROPbtjQ9f4DkPHXXzHefnuttdY6P7/QZw68AqljdayOzc3F1rFjXe86AItx7Nig4ehZ5OdADh/uetcBWIz33ss+c+BLWD2ttdbamjWx9cMPMW7a1PWhAGAhTp+Oex8PPNB/ZWnh0iuQ/iXPG290fSgAGMRrr2XD0ZNegfRcWYm00kqbmYmb65s3d31oAPh/vv8+xunp7L2PnkV/F1b/BPbvjzFfNABG4dKl+B/9/fsXG46eoX2ZYiyFvvsutl56qbuDBECfVlppL74Y5+njx4f1Zxd9Ces/82yttVb//btHjsS4c+fSHCUA+n3wQYx79sTKo7Vh/eWhB6QnPnC4dm1sffxx3BvZvn20BwqAcPRorDweeyxWHhcvDvsVRvZ7IP0T3rEjxg8/HNXrAVBKKUeOjDocPSP/Qan+Hdi9O8bnn4/x0qVRvz7A6tZ709Irr8S4Z8+ow9EzsktY1xOXuB56KC5tHTwYj27Z0tV8AFaMVlppvZvhTz897JvjC9XZT9rGDs/MxNbUVIz79sX4889dzQtgeTp1Ksa9e+N/vKenuwpHT2crkKvp/4qUbdtifOKJGB99NEbf/gusVr1fBvz88xjffz/GL78c1uc3hmXZBeRq+r9GfuvWeLT3iffJyVjS3X13/Pstt8T2WGcrLIAraqmlzs/Heens2dju/QLgyZPx+OxsPH78+HILBQAAAAAAAAAAAKPwP6T5EEv++M14AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEyLTE0VDEwOjM2OjM1KzA4OjAwXigrGgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMi0xNFQxMDozNjozNSswODowMC91k6YAAABGdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uXzQ0d2s0MXA4eXMvTWFzay5zdmdGScx2AAAAAElFTkSuQmCC"},a543f:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("28a5"),n("7f7f");var a=n("7a42"),r=i(n("c164")),o=i(n("333d")),s=(n("79e3"),i(n("bc3a"))),l=(i(n("2106")),i(n("c72e")),n("d75c"),i(n("8b4f"))),u=i(n("f0ed")),c={components:{Pagination:o.default,QueryField:r.default,warningresulttree:l.default,personTree:u.default},data:function(){return{tableKey:"errorUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"模型名称",name:"modelName",type:"fuzzyText"},{label:"运行人",name:"runUserName",type:"fuzzyText"},{label:"运行sql",name:"sql",type:"fuzzyText"},{label:"运行参数",name:"param",type:"fuzzyText"},{label:"执行时间范围",name:"runStartTime",type:"timePeriod"}],formStyle:{width:"700px",height:"400px"},pageQuery:{condition:null,pageNo:1,pageSize:20},share:[],notShare:[],success:!1,success1:!1,selected1:[],buttonIson:{AssociatedBtn:!0,DisassociateBtn:!0,deleteBtn:!0,resultSplitBtn:!0,resultShareBtn:!0,exportBtn:!1},settingTimingIsSee:!1,setDateTime:"",nowRunTaskRel:null,resultSpiltObjects:{},resultSplitDialogIsSee:!1,ResultSplitoptions:[],selectedValue:[],resultShareDialogIsSee:!1,warringResultType:1,projectDialogIsSee:!1}},created:function(){},methods:{determineProject:function(){var e=this.$refs.userproject.getSelectValue();0===e.length?this.$message({message:"请选择要关联的项目"}):1===e.length?(this.relationProject(e[0].PRJ_PROJECT_UUID,e[0].PRJ_NAME),this.projectDialogIsSee=!1):this.$message({message:"只能关联一个项目"})},openProjectDialog:function(){for(var e=!0,t=0;t<this.selected1.length;t++)if(3!=this.selected1[t].runStatus){e=!1;break}e?this.projectDialogIsSee=!0:this.$message({message:"未运行成功的结果不能关联项目"})},exportExcel:function(){(0,s.default)({method:"get",url:"/analysis/RunTaskRelController/exportRunTaskRelTable",responseType:"blob"}).then((function(e){var t=document.createElement("a"),n=new Blob([e.data],{type:"application/vnd.ms-excel"});t.style.display="none",t.href=URL.createObjectURL(n),t.setAttribute("download","模型运行结果表.xlsx"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},customColorMethod:function(e){return e<30?"#909399":e<70?"#e6a23c":"#67c23a"},dateFormatter:function(e,t){var n=e.runStartTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds(),c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},dateFormatter1:function(e,t){var n=e.runEndTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds(),c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},dateFormatter2:function(e){var t=e.timingExecute;if(t){var n=new Date(t),i=n.getFullYear(),a=n.getMonth()+1,r=n.getDate(),o=n.getHours(),s=n.getMinutes(),l=n.getSeconds(),u=i+"-"+a+"-"+r+" "+o+":"+s+":"+l;return u}return"无"},settingInfoSqlFormatter:function(e,t){if(null==e.settingInfo)return"";var n=JSON.parse(e.settingInfo).sql;return n},settingInfoParamsArrFormatter:function(e,t){if(null==e.settingInfo)return"";var n="",i=JSON.parse(e.settingInfo).paramsArr;if(void 0==i)return"";for(var a=0;a<i.length;a++)n+=i[a].name+" : "+i[a].paramValue+"\r\n";return n},readStatusFormatter:function(e,t){var n=e.runStatus;return 1==n?"待运行":2==n?"运行中":3==n?"运行成功":"运行失败"},runStatusIconFormatter:function(e){return 1==e?"el-icon-video-play":2==e?"el-icon-loading":3==e?"el-icon-success":"el-icon-error"},runStatusStyleFormatter:function(e){return 1==e?"color:blue":2==e?"el-icon-loading":3==e?"color:green":"color:red"},getLikeList:function(e){var t=this;this.listLoading=!0;var n={},i={};if(void 0==e){var r={runTaskUuid:null};r.runTaskUuid="1",this.pageQuery.condition=r,(0,a.getRunTaskRelByPage)(this.pageQuery,this.resultSpiltObjects).then((function(e){t.total=e.data.total,t.list=e.data.records,t.list.length>0&&(1===t.list[0].runRecourceType?t.warringResultType=1:t.warringResultType=2),t.listLoading=!1}))}if(e){if(n=null==e.modelName||""==e.modelName?null:{modelName:e.modelName},null==e.runUserName||""==e.runUserName)i=null;else i={runUserName:e.runUserName};void 0==e.runTaskUuid&&(e.runTaskUuid="1"),e.model=n,e.runTask=i,this.pageQuery.condition=e,(0,a.getRunTaskRelByPage)(this.pageQuery,this.resultSpiltObjects).then((function(e){t.total=e.data.total,t.list=e.data.records,t.list.length>0&&(1===t.list[0].runRecourceType?t.warringResultType=1:t.warringResultType=2),t.listLoading=!1}))}},handleSelectionChange:function(e){e.length<=0?(this.buttonIson.AssociatedBtn=!0,this.buttonIson.DisassociateBtn=!0,this.buttonIson.deleteBtn=!0,this.buttonIson.resultSplitBtn=!0,this.buttonIson.resultShareBtn=!0,this.buttonIson.exportBtn=!1):1==e.length?(this.buttonIson.AssociatedBtn=!1,this.buttonIson.DisassociateBtn=!1,this.buttonIson.deleteBtn=!1,this.buttonIson.resultSplitBtn=!0,this.buttonIson.resultShareBtn=!1,this.buttonIson.exportBtn=!1):e.length>1&&(this.buttonIson.AssociatedBtn=!1,this.buttonIson.DisassociateBtn=!1,this.buttonIson.deleteBtn=!1,this.buttonIson.resultSplitBtn=!1,this.buttonIson.resultShareBtn=!1,this.buttonIson.exportBtn=!1),this.share.splice(0,this.share.length),this.notShare.splice(0,this.notShare.length);for(var t=0;t<e.length;t++)null!=e[t].runResultShare.runResultShareUuid?this.share.push(e[t]):this.notShare.push(e[t]);this.selected1=e},handleFilter:function(){this.pageQuery.pageNo=1,this.getLikeList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},deleteRunTaskRel:function(){if(0==this.share.length&&0==this.notShare.length)this.$message({message:"请选择要删除的运行结果"});else if(0!=this.notShare.length&&0==this.share.length){for(var e=!0,t=0;t<this.notShare.length;t++)if(null!=this.notShare[t].projectName){e=!1;break}0==e?this.$message({message:"选择的运行结果有项目关联，请取消关联，再删除！"}):this.open()}else if(0==this.notShare.length&&0!=this.share.length)this.open1();else{for(e=!0,t=0;t<this.notShare.length;t++)if(null!=this.notShare[t].projectName){e=!1;break}0==e?this.$message({message:"选择的运行结果有项目关联，请取消关联，再删除！"}):this.open2()}},open:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){for(var t=[],n=0;n<e.notShare.length;n++)t[n]=e.notShare[n].runTaskRelUuid;(0,a.batchDeleteRunTaskRel)(t.join(",")).then((function(t){1==t.data?(e.getLikeList(),e.$message({type:"success",message:"删除成功!"})):e.$message({type:"error",message:"删除失败!"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},open1:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){for(var t=[],n=0;n<e.share.length;n++)t[n]=e.share[n].runResultShare.runResultShareUuid;(0,a.deleteRunResultShare)(t.join(",")).then((function(t){1==t.data?(e.getLikeList(),e.$message({type:"success",message:"删除成功!"})):e.$message({type:"error",message:"删除失败!"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},open2:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){e.success=!1,e.success1=!1;for(var t=[],n=[],i=0;i<e.notShare.length;i++)t[i]=e.notShare[i].runTaskRelUuid;(0,a.batchDeleteRunTaskRel)(t.join(",")).then((function(t){1==t.data&&(e.success=!0)}));for(i=0;i<e.share.length;i++)n[i]=e.share[i].runResultShare.runResultShareUuid;(0,a.deleteRunResultShare)(n.join(",")).then((function(t){1==t.data&&(e.success1=!0),1==e.success&&1==e.success1?(e.getLikeList(),e.$message({type:"success",message:"删除成功!"})):e.$message({type:"error",message:"删除失败!"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},relationProject:function(e,t){var n=this,i=this.selected1;if(0==i.length)this.$message({message:"请选择运行结果"});else if(this.listLoading=!0,void 0!=this.resultSpiltObjects.orgNameValues){for(var r=[],o=[],s=0;s<this.selected1.length;s++){o.push(this.selected1[s].runTaskRelUuid);for(var l=this.selected1[s].runResultTables,u=0;u<l.length;u++)1==l[u].tableType&&r.push(l[u].runResultTableUuid)}(0,a.selectPrimaryKeyByTableName)().then((function(i){i.data;(0,a.getDataAfterResultSpiltToRelateProject)(n.resultSpiltObjects,e,t,o).then((function(e){1==e.data?(n.listLoading=!1,n.getLikeList(),n.$message({type:"success",message:"关联成功!"})):(n.listLoading=!1,n.$message({type:"error",message:"关联失败!"}))}))}))}else{this.listLoading=!0;var c=[];for(s=0;s<i.length;s++){var d={runTaskRelUuid:i[s].runTaskRelUuid,projectUuid:e,projectName:t};c.push(d)}(0,a.ResultRelProject)(c).then((function(r){var o=r.data.flag,s=r.data.resultRelProjects;if("haveRelated"==o){for(var l=[],u=0;u<s.length;u++)for(var c=0;c<n.selected1.length;c++)s[u].runTaskRelUuid==n.selected1[c].runTaskRelUuid&&l.push(n.selected1[c].model.modelName);var d=[];for(u=0;u<i.length;u++){var h={runTaskRelUuid:i[u].runTaskRelUuid,projectUuid:e,projectName:t};d.push(h)}(0,a.addCoverResultRelProject)(d).then((function(e){if(1==e.data){for(var t="关联成功！其中  ",i=0;i<l.length;i++)t+=l[i]+" , ";n.getLikeList(),n.listLoading=!1,t+="之前关联的项目已被覆盖",n.listLoading=!1,n.$message({type:"success",message:t})}else n.listLoading=!1,n.$message({type:"error",message:"关联失败!"})}))}else 1==o?(n.listLoading=!1,n.getLikeList(),n.$message({type:"success",message:"关联成功!"})):0==o&&(n.listLoading=!1,n.$message({type:"error",message:"关联失败!"}))}))}},RemoverelationProject:function(){for(var e=this,t=[],n=0;n<this.selected1.length;n++)t.push(this.selected1[n].runTaskRelUuid);var i=t.join(",");(0,a.rmResultRelProjectlr)(i).then((function(t){1==t.data?(e.getLikeList(),e.$message({type:"success",message:"取消关联成功!"})):e.$message({type:"error",message:"取消关联失败!"})}))},modelResultShare:function(){var e=this;this.listLoading=!0;for(var t=[],n=[],i=[],r=this.$refs.orgPeopleTree.getSelectValue(),o=0;o<r.length;o++)n.push(r[o].personuuid),i.push(r[o].cnname);for(o=0;o<this.selected1.length;o++)t.push(this.selected1[o].runTaskRelUuid);n.length>0?(0,a.insertRunResultShare)(t,n,i).then((function(t){e.listLoading=!1,1==t.data?e.$message({type:"success",message:"结果共享成功!"}):e.$message({type:"error",message:"结果共享失败!"}),e.resultShareDialogIsSee=!1})):(this.listLoading=!1,this.$message({message:"请选择要关联的人员！"}))},getResultTables:function(e,t,n,i,a,r){if(3==i){for(var o=[],s=null,l=0;l<e.length;l++)1==e[l].tableType?s=e[l]:o.push(e[l]);this.$emit("addtab",o,s,t,n,a,r)}else this.$message({type:"info",message:"该运行结果不是成功状态"})},runTypeFormate:function(e){var t=e.runTask.runType;return 2==t?"定时运行":3==t?"立即运行":void 0},executeProgressFormate:function(e){if(null==e)return 0;var t=parseInt(e);return t},afterSettingTime:function(){var e=this;(0,a.reRunRunTask)(this.nowRunTaskRel,this.setDateTime).then((function(t){1==t.data?e.getLikeList():e.$message({type:"info",message:"重新执行失败!"})})),this.settingTimingIsSee=!1},clickChangeTable:function(e){var t={runTaskUuid:e};this.getLikeList(t)},openResultSplitDialog:function(){var e=this;this.listLoading=!0,this.ResultSplitoptions=[];for(var t=!0,n=0;n<this.selected1.length;n++)if(3!=this.selected1[n].runStatus){t=!1;break}1==t?(0,a.getResultSplitSelectData)(this.selected1).then((function(t){e.resultSpiltObjects.orgNameColumnList=t.data.orgNameColumnList,e.resultSpiltObjects.orgUuidColumnList=t.data.orgUuidColumnList;var n=t.data.message,i=t.data.selectValue;if(""==n){for(var a=0;a<i.length;a++){var r={value:i[a].org_uuid+","+i[a].org_name,label:i[a].org_uuid+"("+i[a].org_name+")"};e.ResultSplitoptions.push(r)}e.listLoading=!1,e.resultSplitDialogIsSee=!0}else e.listLoading=!1,e.$message({showClose:!0,message:n})})):(this.listLoading=!1,this.$message({showClose:!0,message:"只有运行成功的才可以结果拆分"}))},ResultSplitDialogDetermine:function(){for(var e=this.selectedValue,t=[],n=[],i=0;i<e.length;i++){var a=e[i].split(",");t[i]=a[1],n[i]=a[0]}this.resultSpiltObjects.orgUuidValues=n,this.resultSpiltObjects.orgNameValues=t,this.resultSpiltObjects.resultSpiltedRunResultRel=this.selected1,this.getLikeList(),this.resultSplitDialogIsSee=!1},modelResultOpenDialog:function(){this.resultShareDialogIsSee=!0},dataCountFormatter:function(e){for(var t=e.runResultTables,n=0,i=0;i<t.length;i++)1==t[i].tableType&&(n=t[i].dataCount);return n}}};t.default=c},a578:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":t.expanded,"is-current":t.node.isCurrent,"is-hidden":!t.node.visible,"is-focusable":!t.node.disabled,"is-checked":!t.node.disabled&&t.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.draggable},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)},contextmenu:function(t){return e.handleContextMenu(t)},dragstart:function(e){return e.stopPropagation(),t.handleDragStart(e)},dragover:function(e){return e.stopPropagation(),t.handleDragOver(e)},dragend:function(e){return e.stopPropagation(),t.handleDragEnd(e)},drop:function(e){return e.stopPropagation(),t.handleDrop(e)}}},[i("div",{staticClass:"el-tree-node__content",style:{"padding-left":(t.node.level-1)*t.tree.indent+"px"}},[i("span",{class:[{"is-leaf":t.node.isLeaf,expanded:!t.node.isLeaf&&t.expanded},"el-tree-node__expand-icon",t.tree.iconClass?t.tree.iconClass:"el-icon-caret-right"],on:{click:function(e){return e.stopPropagation(),t.handleExpandIconClick(e)}}}),t.showCheckbox&&t.node.data.showCheckbox?i("el-checkbox",{attrs:{indeterminate:t.node.indeterminate,disabled:!!t.node.disabled},on:{change:t.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:t.node.checked,callback:function(e){t.$set(t.node,"checked",e)},expression:"node.checked"}}):t._e(),t.showCheckbox&&!t.node.data.showCheckbox&&t.node.data.leaf?i("span",{staticClass:"margin-left: 14px;"}):t._e(),t.node.loading?i("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):t._e(),i("node-content",{attrs:{node:t.node}})],1),i("el-collapse-transition",[!t.renderAfterExpand||t.childNodeRendered?i("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":t.expanded}},t._l(t.node.childNodes,(function(e){return i("el-tree-node",{key:t.getNodeKey(e),attrs:{"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:e},on:{"node-expand":t.handleChildNodeExpand}})})),1):t._e()])],1)},a=[]},a598:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"colorPicker",staticClass:"m-colorPicker",attrs:{tabindex:"-1"},on:{blur:function(t){return e.closePanel()},click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"colorBtn",class:{disabled:e.disabled},style:"background-color: "+e.showColor,on:{click:function(t){e.openStatus=!e.disabled}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.html5Color,expression:"html5Color"}],ref:"html5Color",attrs:{type:"color"},domProps:{value:e.html5Color},on:{change:function(t){return e.updataValue(e.html5Color)},input:function(t){t.target.composing||(e.html5Color=t.target.value)}}}),n("div",{staticClass:"box",class:{open:e.openStatus}},[n("div",{staticClass:"hd"},[n("div",{staticClass:"colorView",style:"background-color: "+e.showPanelColor}),n("div",{staticClass:"defaultColor",on:{click:e.handleDefaultColor,mouseover:function(t){e.hoveColor=e.defaultColor},mouseout:function(t){e.hoveColor=null}}},[e._v("默认颜色")])]),n("div",{staticClass:"bd"},[n("h3",[e._v("主题颜色")]),n("ul",{staticClass:"tColor"},e._l(e.tColor,(function(t,i){return n("li",{key:i,style:{backgroundColor:t},on:{mouseover:function(n){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(n){return e.updataValue(t)}}})})),0),n("ul",{staticClass:"bColor"},e._l(e.colorPanel,(function(t,i){return n("li",{key:i},[n("ul",e._l(t,(function(t,i){return n("li",{key:i,style:{backgroundColor:t},on:{mouseover:function(n){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(n){return e.updataValue(t)}}})})),0)])})),0),n("h3",[e._v("标准颜色")]),n("ul",{staticClass:"tColor"},e._l(e.bColor,(function(t,i){return n("li",{key:i,style:{backgroundColor:t},on:{mouseover:function(n){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(n){return e.updataValue(t)}}})})),0),n("h3",{on:{click:e.triggerHtml5Color}},[e._v("更多颜色...")])])])])},a=[]},a6d8:function(e,t,n){"use strict";n.r(t);var i=n("2b6f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a6e1:function(e,t,n){"use strict";n.r(t);var i=n("7e53"),a=n("bc85");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("265f");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"5852cb96",null);t["default"]=s.exports},a6fd:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("ec6c")),r=i(n("89b62")),o={name:"QueryBuilderGroup",components:{QueryBuilderRule:r.default},extends:a.default};t.default=o},a701:function(e,t,n){"use strict";n.r(t);var i=n("9c6e"),a=n("a1b0");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},a70a:function(e,t,n){"use strict";n.r(t);var i=n("ae2a"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a737:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{staticClass:"international",attrs:{trigger:"click"},on:{command:e.handleSetLanguage}},[n("div",[n("svg-icon",{attrs:{"class-name":"international-icon","icon-class":"language"}})],1),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{disabled:"zh"===e.language,command:"zh"}},[e._v(" 中文 ")]),n("el-dropdown-item",{attrs:{disabled:"en"===e.language,command:"en"}},[e._v(" English ")]),n("el-dropdown-item",{attrs:{disabled:"es"===e.language,command:"es"}},[e._v(" Español ")]),n("el-dropdown-item",{attrs:{disabled:"ja"===e.language,command:"ja"}},[e._v(" 日本語 ")])],1)],1)},a=[]},a747:function(e,t,n){"use strict";n.r(t);var i=n("53f2"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a751:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pop-up",class:this.bacColor},[n("img",{attrs:{src:this.theSomeImg}}),n("span",[e._v(" "+e._s(this.message)+" ")])])},a=[]},a76a:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-start",use:"icon-oper-start-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-start"><defs><style type="text/css"></style></defs><path d="M510.9 60.7c-245.6 0-446.7 199.8-446.7 446.7C64.2 753 263.9 954 510.8 954s446.6-199.7 446.6-446.6c0.1-245.6-199.6-446.7-446.5-446.7zM692 525.9l-272.1 157c-10.7 6.2-24-1.5-24-13.9V354.9c0-12.3 13.3-20 24-13.9L692 498.1c10.6 6.2 10.6 21.6 0 27.8z" p-id="994" /></symbol>'});o.a.add(s);t["default"]=s},a794:function(e,t,n){},a7a9:function(e,t,n){"use strict";n.r(t);var i=n("6fc0"),a=n("0d20");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},a845:function(e,t,n){"use strict";n.r(t);var i=n("71ff"),a=n("068e");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("0e22");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4529fc1e",null);t["default"]=s.exports},a85a:function(e,t,n){"use strict";n.r(t);var i=n("4932"),a=n("a8f8");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("8842");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"508cce1a",null);t["default"]=s.exports},a8b4:function(e,t,n){},a8d1:function(e,t,n){"use strict";n("5367")},a8f8:function(e,t,n){"use strict";n.r(t);var i=n("170e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a91e:function(e,t,n){"use strict";n.r(t);var i=n("ed29"),a=n("09cf");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("f040");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"15acd62e",null);t["default"]=s.exports},a92a:function(e,t,n){},a939:function(e,t,n){"use strict";var i=n("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("d75c")),r={name:"paramshownew",data:function(){return{arr:[],setParamArr:[],paramsSetting:[]}},mounted:function(){a.sendSettingVue(this)},methods:{initSetting:function(e){this.paramsSetting=e,this.arr=e,a.initSetting()},getParamsSetting:function(){return a.getParamsSetting()}}};t.default=r},a93d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType},attrs:{role:"tree"}},[e._l(e.root.childNodes,(function(t){return n("el-tree-node",{key:e.getNodeKey(t),attrs:{node:t,props:e.props,"node-key":"id","render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent},on:{"node-expand":e.handleNodeExpand}})})),e.isEmpty?n("div",{staticClass:"el-tree__empty-block"},[n("span",{staticClass:"el-tree__empty-text"},[e._v(e._s(e.emptyText))])]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)},a=[]},a942:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var a=n("ca11"),r=n("7a42"),o=n("7212");n("dfa4");var s=i(n("bc3a")),l=i(n("3f77")),u={components:{mtEditor:l.default,swiper:o.swiper,swiperSlide:o.swiperSlide},data:function(){return{resultSpiltObjects:{},cardList:[{img:n("36c9"),title:"提醒事项",bg:"#EDF1F5",cardBg:"#353A43",path:"",des:[]},{img:n("1a4c"),title:"审计预警",bg:"#fff",cardBg:"#353A43",path:"",des:[]}],TopTodo:[{text:"暂无待办事项",iconColor:"#D81020",icon:"",url:"",title:"",content:""}],pageQuery:{condition:null,pageNo:1,pageSize:5},warningMatters:[{text:"暂无预警事项",iconColor:"#D81020",icon:"",url:"",title:"",content:""}],projectDetails:[],myProjectIn:[],dialogFormVisible:!1,PopUpContent:[{text:"",content:""}],projectAnimation:!0,swiperOption:{loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!0,disableOnInteraction:!1},stopOnLastSlide:!0,pagination:{el:".swiper-pagination",clickable:!0}},linshiImg1:n("a28a"),linshiImg2:n("696d"),showDetailedData:{FINDPROBLEMCOUNT:12,WORKCOUNT:0,TAKECHIEFJUDGECOUNT:14,TAKEPROJECTCOUNT:15}}},mounted:function(){var e=this;(0,a.getRemindByDescTime)().then((function(t){e.cardList[0].des=[];for(var n=0;n<5;n++)e.cardList[0].des.push({text:t.data.records[n].remindTitle,iconColor:"#D81020",icon:"",url:t.data.records[n].modeUrl,content:t.data.records[n].remindContent,index:n,Uuid:t.data.records[n].remindUuid}),0===t.data.records[n].readStatus&&(e.cardList[0].des[n].icon=" NEW")}));var t={runTaskUuid:null};t.runTaskUuid="1",this.pageQuery.condition=t,(0,r.getRunTaskRelByPage)(this.pageQuery,this.resultSpiltObjects).then((function(t){e.warningMatters=t.data.records})),s.default.get("/psbcaudit/homepage/loadTodoInfo").then((function(t){""!==t.data&&(e.TopTodo=t.data)})),s.default.get("/psbcaudit/homepage/loadPrjInfo").then((function(t){if(t.data.prjList.length>0){e.projectDetails=[];for(var n=0;n<t.data.prjList.length;n++)e.projectDetails.push({name:t.data.prjList[n].prjName,time:t.data.prjList[n].createTime,lengthIn:t.data.prjList.length,idProject:t.data.prjList[n].projectUUID,idPlan:t.data.prjList[n].planUUID});e.myProject(0)}})),s.default.get("/psbcaudit/homepage/hasCount").then((function(e){console.log(e)}))},methods:{formatter:function(e){return e<10?"0"+e.toFixed(0):e.toFixed(0)},formatter1:function(e){return e.toFixed(1)},activeTags:function(e){this.$store.commit("aceState/setRightFooterTags",{type:e.type,val:e.val})},toDoJump:function(e){null==this.cardList[0].des[e].url?(this.dialogFormVisible=!0,this.PopUpContent=[],this.PopUpContent.push({text:this.cardList[0].des[e].text,content:this.cardList[0].des[e].content}),location.reload()):this.$router.push({path:this.cardList[0].des[e].url}),(0,a.updateRemind)(this.cardList[0].des[e].Uuid)},moreJump:function(e){"提醒事项"===e.title?(this.$router.push({path:"/base/remind"}),this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:"系统提醒",path:"/base/remind"}})):(this.$router.push({path:"/analysis/auditwarning"}),this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:"审计预警",path:"/analysis/auditwarning"}}))},toDoSomeJump:function(){this.$router.push({path:"/base/frameto?url=psbcaudit/todoInfo/todoInfoList"})},projectDetailsIn:function(){this.$router.push({path:"/base/frameto?url=/psbcaudit_pmrs/plPrj/prjProjectToEnd"})},displayItem:function(e){for(var t=document.getElementsByClassName("bottom"),n=0;n<t.length;n++)t[n].style.zIndex=1;t[e].style.zIndex=10},action:function(e,t){"before"===e?(t+1===4&&(t=-1),this.displayItem(t+1)):"next"===e&&(t-1===-1&&(t=4),this.displayItem(t-1))},myProject:function(e){var t;this.myProjectIn=[],t=e===this.projectDetails.length-1?0:e+1,this.myProjectIn.push({name:this.projectDetails[e].name,time:this.projectDetails[e].time,lengthIn:this.projectDetails.length,idProject:this.projectDetails[e].idProject,idPlan:this.projectDetails[e].idPlan,next:this.projectDetails[t].name,theIndex:e})},toTheNext:function(e){var t=e+1;t===this.projectDetails.length&&(t=0),this.myProject(t),this.projectAnimation=!this.projectAnimation}}};t.default=u},a99f:function(e,t,n){"use strict";n.r(t);var i=n("fe47"),a=n("36e9");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("afdd");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"2c6b2aa6",null);t["default"]=s.exports},a9f7:function(e,t,n){"use strict";n.r(t);var i=n("342e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},a9fe:function(e,t,n){},aa05:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-import",use:"icon-oper-import-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-import"><defs><style type="text/css"></style></defs><path d="M628.1 357.9h107.4c2.8 0 5.7 0.7 8.1 2.4 18.4 13.1 18.2 34.3 6.4 46.3L532.4 627.5c-11.1 11.2-29.2 11.4-40.4 0.3l-0.3-0.3-217.6-220.9c-11.1-11.3-10.9-29.4 0.4-40.4 5.3-5.2 12.5-8.2 19.9-8.2H396V142.3c0-7.9 6.4-14.3 14.3-14.3h203.5c7.9 0 14.3 6.4 14.3 14.3v215.6zM283.4 652.4v87.5c0 7.9 6.4 14.3 14.3 14.3h428.8c7.9 0 14.3-6.4 14.3-14.3v-87.5c0-7.9 6.4-14.3 14.3-14.3H898c7.9 0 14.3 6.4 14.3 14.3V914c0 7.9-6.4 14.3-14.3 14.3H126.2c-7.9 0-14.3-6.4-14.3-14.3V652.4c0-7.9 6.4-14.3 14.3-14.3h142.9c7.9 0 14.3 6.4 14.3 14.3z" p-id="2126" /></symbol>'});o.a.add(s);t["default"]=s},aa27:function(e,t,n){},aa2f:function(e,t,n){"use strict";n.r(t);var i=n("e9f1"),a=n("c7a1");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("803d");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"8e3ccea2",null);t["default"]=s.exports},aa7e:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.findAuditWarningList=l,t.findModelsWithParam=u,t.addWarning=c,t.getWarningById=d,t.deleteAuditWarning=h,t.updateWarning=f,t.stopById=p,t.startById=m,t.getCommonlyAnalysisListByIds=g,t.bingLieQuery=v,t.supQuery=y;var a=i(n("b775")),r=i(n("1157")),o=(n("5c96"),"/analysis"),s="/indicator";function l(e){return(0,a.default)({baseURL:o,url:"/auditWarning/pageList",method:"post",data:e})}function u(e){return(0,a.default)({baseURL:o,url:"/modelController/findModelList",method:"post",data:e})}function c(e){return(0,a.default)({baseURL:o,url:"/auditWarning/add",method:"post",data:e})}function d(e){return(0,a.default)({baseURL:o,url:"/auditWarning/getById/".concat(e),method:"get"})}function h(e){return(0,a.default)({baseURL:o,url:"/auditWarning/delete",method:"post",data:e})}function f(e){return(0,a.default)({baseURL:o,url:"/auditWarning/update",method:"post",data:e})}function p(e){return(0,a.default)({baseURL:o,url:"/auditWarning/stopById/".concat(e),method:"get"})}function m(e){return(0,a.default)({baseURL:o,url:"/auditWarning/startById/".concat(e),method:"get"})}function g(e){return(0,a.default)({baseURL:s,url:"/InOftenindicators/getCommonlyAnalysisListByIds/",method:"post",data:e})}function v(e,t){for(var n,i=null,a=0;a<e.length;a++){if(null==e[a])return;i=e[a]}var o={dimList:t,inMeasure:i},l=s+"/indicatrixAnalysis/getInDataSql";return r.default.ajax({type:"post",url:l,data:{param:JSON.stringify(o)},async:!1,success:function(e){n=e},error:function(e){}}),n}function y(e,t){for(var n,i=[],a=0;a<e.length;a++){if(null==e[a])return;i.push(e[a])}var o={inMeasures:i,listDims:t},l=s+"/indicatrixAnalysis/getSupAnalysisSql";return r.default.ajax({type:"post",url:l,data:{param:JSON.stringify(o)},async:!1,success:function(e){n=e},error:function(e){}}),n}},aac4:function(e,t,n){},aad4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var i=n("0f45"),a={watch:{filterText:function(e){this.$refs.tree.filter(e)}},components:{},created:function(){this.findOrgTree(),this.initData("")},data:function(){return{data:[],defaultProps:{children:"children",label:"name"},filterText:null,list:null,listLoading:!0,dataList:[],total:0,page:1,limit:10,selectValue:[]}},methods:{findOrgTree:function(){var e=this;(0,i.findOrgTree)().then((function(t){e.data=t.data}))},handleNodeClick:function(e){this.listLoading=!0,this.initData(e.id)},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},initData:function(e){var t=this;(0,i.findPeopleByOrgId)(e).then((function(e){t.dataList=e.data,t.listLoading=!1,null!=t.dataList&&t.getList()}))},getList:function(){var e=this;this.list=this.dataList.filter((function(t,n){return n<e.page*e.limit&&n>=e.limit*(e.page-1)})),this.total=this.dataList.length},handleSizeChange:function(e){this.limit=e,this.getList()},handleCurrentChange:function(e){this.page=e,this.getList()},handleSelectionChange:function(e){this.selectValue=e},getSelectValue:function(){return this.selectValue}}};t.default=a},aaeb:function(e,t,n){"use strict";n.r(t);var i=n("e838"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ab38:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-close-2",use:"icon-icon-close-2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-close-2"><defs><style type="text/css"></style></defs><path d="M779.8 557.7H246.2c-24.6 0-44.5-19.9-44.5-44.5s19.9-44.5 44.5-44.5h533.6c24.6 0 44.5 19.9 44.5 44.5-0.1 24.6-20 44.5-44.5 44.5z" p-id="3877" /><path d="M928 928.2H98v-830h830v830z m-64.8-765.1H162.8v700.3h700.3V163.1z" p-id="3878" /></symbol>'});o.a.add(s);t["default"]=s},abc6:function(e,t,n){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},abeb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"settingParamDiv",attrs:{id:"setParam"}},[n("el-row",[n("table",{staticClass:"table table-bordered",attrs:{id:"setParamTable"}},[n("thead",[n("tr",[n("th",{attrs:{align:"center",width:"200px"}},[e._v("参数名称")]),n("th",{attrs:{align:"center",width:"300px"}},[e._v("默认值设置")]),n("th",{attrs:{align:"center"}},[e._v("参数说明")])])]),n("tbody",{ref:"setParamTbody"},[0==e.setParamArr.length?n("tr",{ref:"setParamTr"},[n("td",{attrs:{align:"center"}}),n("td",{attrs:{align:"left"}},[n("span",{staticStyle:{"padding-left":"61px"}},[e._v("暂无数据")])]),n("td",{attrs:{align:"center"}})]):e._e(),e._l(e.setParamArr,(function(t,i){return n("tr",{ref:"setParamTr",refInFor:!0,attrs:{index:i}},[n("td",{attrs:{align:"center"}},[e._v(e._s(t.name))]),"lineinp"===t.inputType?n("td",{ref:"selectParam",refInFor:!0},[n("div",{staticClass:"xm-select-demo paramTr",attrs:{id:t.id,title:t.title}})]):e._e(),"textinp"===t.inputType?n("td",{ref:"textParam",refInFor:!0},[n("el-input",{staticClass:"paramOption paramTr",staticStyle:{width:"90%"},attrs:{title:t.title},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"setParamObj.value"}})],1):e._e(),"timeinp"===t.inputType?n("td",{ref:"dataParam",refInFor:!0},[n("el-date-picker",{staticClass:"paramOption paramTr",staticStyle:{width:"100%"},attrs:{title:t.title,type:"date",placeholder:"选择日期"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"setParamObj.value"}})],1):e._e(),"treeinp"===t.inputType?n("td",{ref:"selectTreeParam",refInFor:!0},[n("div",{staticClass:"xm-select-demo paramTr",attrs:{id:t.id,title:t.title}})]):e._e(),n("td",[e._v(e._s(t.description))])])}))],2)])])],1)},a=[]},abfa:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.findThresholdValueFolderTree=o,t.addThresholdValueFolder=s,t.updateThresholdValueFolder=l,t.deleteThresholdValueData=u,t.findThresholdValueList=c,t.addThresholdValue=d,t.updateThresholdValue=h,t.findThresholdValueById=f,t.batchThresholdValueDel=p,t.handleDataSingleValue=m,t.handleDataManyValue=g,n("6b54");var a=i(n("b775")),r="/analysis";function o(e){return(0,a.default)({baseURL:r,url:"/thresholdValueFolder/getThresholdValueFolderTree",method:"get",params:{isShowThresholdValue:e}})}function s(e){return(0,a.default)({baseURL:r,url:"/thresholdValueFolder/save",method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/thresholdValueFolder/update",method:"put",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/thresholdValueFolder/delete/"+e,method:"delete"})}function c(e){return(0,a.default)({baseURL:r,url:"/thresholdValue/pageList",method:"post",data:e})}function d(e){return(0,a.default)({baseURL:r,url:"/thresholdValue/addThresholdValue",method:"post",data:e})}function h(e){return(0,a.default)({baseURL:r,url:"/thresholdValue/updateThresholdValue",method:"put",data:e})}function f(e){return(0,a.default)({baseURL:r,url:"/thresholdValue/getById/"+e,method:"get"})}function p(e){return(0,a.default)({baseURL:r,url:"/thresholdValue/batchThresholdValueDel",method:"delete",data:e})}function m(e,t){var n=t.colorInfo.backgroundColor,i=t.colorInfo.fontColor,a=e[t.modelResultColumnName.toLowerCase()],r=t.thresholdValue.filterValue,o=t.operator;t.thresholdValue.thresholdValueMemo;if(null!=a&&null!=r){if(">"===o&&a>r)return{"background-color":n,color:i};if(">="===o&&a>=r)return{"background-color":n,color:i};if("<"===o&&a<r)return{"background-color":n,color:i};if("<="===o&&a<=r)return{"background-color":n,color:i};if("="===o&&a==r)return{"background-color":n,color:i};if("like"===o&&-1!=a.indexOf(r))return{"background-color":n,color:i};if("notlike"===o&&-1==a.indexOf(r))return{"background-color":n,color:i};if("startswith"===o){if(r=r.toString(),a=a.toString(),a.length>=r.length&&a.substring(0,r.length)===r)return{"background-color":n,color:i}}else if("endingwith"===o&&(r=r.toString(),a=a.toString(),a.length>=r.length&&a.substring(a.length-r.length,a.length)===r))return{"background-color":n,color:i}}}function g(e,t){var n=e.data,i=t.colorInfo.backgroundColor,a=t.colorInfo.fontColor,r=n[t.modelResultColumnName.toLowerCase()],o=n[t.thresholdValueObject.toLowerCase()],s=t.operator,l=(t.thresholdValue.thresholdValueInfoList,e.value),u=t.thresholdValue.thresholdValueMemo;if(">"===s){for(var c=0;c<t.thresholdValue.thresholdValueInfoList.length;c++){var d=t.thresholdValue.thresholdValueInfoList[c].filterValue;r=parseFloat(r),d=parseFloat(d);var h=t.thresholdValue.thresholdValueInfoList[c].filterConditions;if(-1!=o.indexOf(h)&&r>d){l="<span style='color:"+a+";background-color:"+i+"' title='"+u+"'>"+l+"</span>";break}}return l}if(">="===s){for(var f=0;f<t.thresholdValue.thresholdValueInfoList.length;f++){var p=t.thresholdValue.thresholdValueInfoList[f].filterValue;r=parseFloat(r),p=parseFloat(p);var m=t.thresholdValue.thresholdValueInfoList[f].filterConditions;if(-1!=o.indexOf(m)&&r>=p){l="<span style='color:"+a+";background-color:"+i+"' title='"+u+"'>"+l+"</span>";break}}return l}if("<"===s){for(var g=0;g<t.thresholdValue.thresholdValueInfoList.length;g++){var v=t.thresholdValue.thresholdValueInfoList[g].filterValue;r=parseFloat(r),v=parseFloat(v);var y=t.thresholdValue.thresholdValueInfoList[g].filterConditions;if(-1!=o.indexOf(y)&&r<v){l="<span style='color:"+a+";background-color:"+i+"' title='"+u+"'>"+l+"</span>";break}}return l}if("<="===s){for(var b=0;b<t.thresholdValue.thresholdValueInfoList.length;b++){var A=t.thresholdValue.thresholdValueInfoList[b].filterValue;r=parseFloat(r),A=parseFloat(A);var w=t.thresholdValue.thresholdValueInfoList[b].filterConditions;if(-1!=o.indexOf(w)&&r<=A){l="<span style='color:"+a+";background-color:"+i+"' title='"+u+"'>"+l+"</span>";break}}return l}if("="===s){for(var x=0;x<t.thresholdValue.thresholdValueInfoList.length;x++){var C=t.thresholdValue.thresholdValueInfoList[x].filterValue,k=t.thresholdValue.thresholdValueInfoList[x].filterConditions;if(-1!=o.indexOf(k)&&r==C){l="<span style='color:"+a+";background-color:"+i+"' title='"+u+"'>"+l+"</span>";break}}return l}if("like"===s){for(var S=0;S<t.thresholdValue.thresholdValueInfoList.length;S++){var T=t.thresholdValue.thresholdValueInfoList[S].filterValue;r=r.toString(),T=T.toString();var N=t.thresholdValue.thresholdValueInfoList[S].filterConditions;if(-1!=o.indexOf(N)&&-1!=r.indexOf(T)){l="<span style='color:"+a+";background-color:"+i+"' title='"+u+"'>"+l+"</span>";break}}return l}if("notlike"===s){for(var I=0;I<t.thresholdValue.thresholdValueInfoList.length;I++){var D=t.thresholdValue.thresholdValueInfoList[I].filterValue;r=r.toString(),D=D.toString();var P=t.thresholdValue.thresholdValueInfoList[I].filterConditions;if(-1!=o.indexOf(P)&&-1==r.indexOf(D)){l="<span style='color:"+a+";background-color:"+i+"' title='"+u+"'>"+l+"</span>";break}}return l}if("startswith"===s){for(var L=0;L<t.thresholdValue.thresholdValueInfoList.length;L++){var O=t.thresholdValue.thresholdValueInfoList[L].filterValue;O=O.toString(),r=r.toString();var M=t.thresholdValue.thresholdValueInfoList[L].filterConditions;if(-1!=o.indexOf(M)&&r.length>=O.length&&r.substring(0,O.length)===O){l="<span style='color:"+a+";background-color:"+i+"' title='"+u+"'>"+l+"</span>";break}}return l}if("endingwith"===s){for(var E=0;E<t.thresholdValue.thresholdValueInfoList.length;E++){var R=t.thresholdValue.thresholdValueInfoList[E].filterValue;R=R.toString(),r=r.toString();var j=t.thresholdValue.thresholdValueInfoList[E].filterConditions;if(-1!=o.indexOf(j)&&r.length>=R.length&&r.substring(r.length-R.length,r.length)===R){l="<span style='color:"+a+";background-color:"+i+"' title='"+u+"'>"+l+"</span>";break}}return l}}},ac9e:function(e,t,n){"use strict";n.r(t);var i=n("bb7c"),a=n("6f4f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("954e");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"18e98ad6",null);t["default"]=s.exports},aca6:function(e,t,n){"use strict";n("4c8d")},acb9:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("456d");n("61f7");var a=i(n("1131")),r={name:"Login",components:{LangSelect:a.default},data:function(){var e=function(e,t,n){t.length<1?n(new Error("请输入用户名!")):n()},t=function(e,t,n){t.length<1?n(new Error("请输入密码!")):n()};return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{checkCapslock:function(e){var t=e.key;this.capsTooltip=t&&1===t.length&&t>="A"&&t<="Z"},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return e.$message.error("用户名或密码不能为空!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}),e.loading=!1})).catch((function(){e.loading=!1}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,n){return"redirect"!==n&&(t[n]=e[n]),t}),{})}}};t.default=r},ad10:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("28a5"),n("242a"),n("7514"),n("a481"),n("55dd"),n("7f7f"),n("ac6a"),n("5df3"),n("f400"),n("b360"),n("588b");var a=n("401be"),r=(i(n("b775")),i(n("3f77"))),o=i(n("1157")),s=n("5c96"),l=n("2d2b"),u=n("7212");n("dfa4");var c=i(n("749d")),d=i(n("c2beb")),h=n("abfa"),f={name:"index",components:{Inmeasurefilter:c.default,tree:function(e){return n.e("chunk-46cc1826").then(function(){var t=[n("aa39")];e.apply(null,t)}.bind(this)).catch(n.oe)},addderivein:function(e){return Promise.all([n.e("chunk-2b3cbb4a"),n.e("chunk-166e0db0")]).then(function(){var t=[n("1d93")];e.apply(null,t)}.bind(this)).catch(n.oe)},edittemdim:function(e){return Promise.all([n.e("chunk-2b3cbb4a"),n.e("chunk-f920fa6c")]).then(function(){var t=[n("164e")];e.apply(null,t)}.bind(this)).catch(n.oe)},dimfilter:function(e){return n.e("chunk-3088b1a8").then(function(){var t=[n("93d8")];e.apply(null,t)}.bind(this)).catch(n.oe)},saveanalysis:function(e){return n.e("chunk-873c9ca4").then(function(){var t=[n("a749")];e.apply(null,t)}.bind(this)).catch(n.oe)},indicatordesign:function(e){return n.e("chunk-99eac50e").then(function(){var t=[n("064d")];e.apply(null,t)}.bind(this)).catch(n.oe)},inmeasurefilter:function(e){return Promise.resolve().then(function(){var t=[n("749d")];e.apply(null,t)}.bind(this)).catch(n.oe)},mtEditor:r.default,swiper:u.swiper,swiperSlide:u.swiperSlide,AgGridVue:a.AgGridVue,ThresholdValueRel:d.default},data:function(){return{inTree:null,commonTree:null,inTreeNodes:null,inTreeSetting:null,commonTreeNodes:null,commonTreeSetting:null,uuidArr:new Array,uuidName:new Array,currentLoginUser:null,webSocket:null,currentPageWebSocketUuid:"",currentPageWebSocketBusinessId:"_indicator",analysisList:[{id:"inAnalysisRegion",objInList:[],objDimList:[],supDimIdList:[],dimDivIdList:[]}],inRegionAndDimRegionMapping:[{inAnalysisRegionId:"inAnalysisRegion",dimAnalysisRegionId:"inDimAnalysisRegion"}],updateInObj:{inId:"",analysisRegionId:"",group:"",yesNoTem:"",type:"",columnName:"",columnNameCN:""},dimTriangleClick:{analysisRegionId:"",inId:"",dimName:"",dimId:"",sup:""},dataMap:new Map,number:0,nodeList:[],key:null,keyAnalysisZtree:null,className:"dark",classNameAnalysisZtree:"dark",path:"",pathNameTree:"",node:null,analysisNode:null,isInManager:"",isOrgManager:"",dataList:[],personInfo:null,temDimList:[],oftenAnalysisId:"",oftenAnalysisName:"",promptList:[],inDimList:[],nowAnalysisRegionId:null,nowDimAnalysisRegionId:null,dimId:null,dimDivId:null,nowInMeasureUuid:null,nowParentUuid:null,nowFilterObj:{filterJson:""},deriveInType:null,addDeriveInType:null,dialogAddderiveinVisible:!1,dialogEdittemdimVisible:!1,dialogFilterVisible:!1,dialogsSaveAnalysisVisible:!1,dialogDesignVisible:!1,currentInMeasureTreeParentNode:null,searchAnalysis:"",currentLoading:null,swiperOption:{loop:!1,observer:!0,pagination:{el:".swiper-pagination",clickable:!0}},addTempDimAnalysisRegionId:"",inMeasureFilter:!1,thresholdValueDialog:!1,setThreasholdValueObj:{},chartBoxStyle:{height:"200px",width:"100%"},tableHeight:"height:60%"}},watch:{dialogAddderiveinVisible:function(e){var t=this.contextUrl+"/InMeasure/castResources";o.default.post(t,{},(function(){}))}},mounted:function(){this.initPower(),this.initIndicatrixZtree(),this.initCommonlyAnalysisZtree(),this.initEvent(),this.initMenu(),this.getLoginUuid(),this.initCurrentLoginUser(),this.initWebSocket()},created:function(){var e=this;window.searchOnChange=e.searchOnChange,window.switchDim=e.switchDim,window.addTempIn=e.addTempIn,window.delAnalysisRegion=e.delAnalysisRegion,window.setValue=e.setValue,window.createAnalysisRegion=e.createAnalysisRegion,window.queryData=e.queryData,window.clearAnalysis=e.clearAnalysis,window.saveChangYongAnalysis=e.saveChangYongAnalysis,window.addTempDim=e.addTempDim,window.inFilter=e.inFilter,window.showAppointMenu=e.showAppointMenu,window.updateInGroup=e.updateInGroup,window.dimFilterBtn=e.dimFilterBtn,window.openChart=e.openChart,window.updateTempIn=e.updateTempIn,window.delAnalysisListDownIn=e.delAnalysisListDownIn,window.inTriangle=e.inTriangle,window.dimClickSup=e.dimClickSup,window.plusClick=e.plusClick,window.filterBtn=e.filterBtn,window.delTemDim=e.delTemDim,window.updateTemDim=e.updateTemDim,window.switchDim=e.switchDim,window.changeChartType=e.changeChartType,window.featuresValue=e.featuresValue,window.addConstantForm=e.addConstantForm,window.saveToSpace=e.saveToSpace,window.addDeriveIn=e.addDeriveIn,window.nativeIndicatrixDesign=e.nativeIndicatrixDesign},methods:{initWebSocket:function(){this.webSocket=this.getWebSocket()},getWebSocket:function(){this.currentPageWebSocketUuid=this.getuuid();var e="ws://"+window.location.host+":"+window.location.port+"/websocket?"+this.currentPageWebSocketUuid+this.currentPageWebSocketBusinessId;this.webSocket=new WebSocket(e),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(e){var t=JSON.parse(e.data);n(t)};var t=function(e){for(var t,n=this,i={},a=0;a<this.dataList.length;a++)this.dataList[a].id===e.analysisRegionId&&(i=this.dataList[a]);for(var r=0;r<this.analysisList.length;r++)this.analysisList[r].id===e.analysisRegionId&&(t=this.analysisList[r].thresholdValueRelObj);if(2==e.executeSQL.state){for(var o=[],s=0;s<e.columnNames.length;s++){var l=void 0;l=t&&2==t.thresholdValue.thresholdValueType&&t.modelResultColumnName===e.columnNames[s]?{headerName:e.columnNames[s],field:e.columnNames[s],width:300,cellRenderer:function(i){return n.changeCellColor(i,e.analysisRegionId,t)}}:{headerName:e.columnNames[s],field:e.columnNames[s],width:300},o.push(l)}var u={column:e.columnNames,columnType:e.columnTypes,data:e.result,columnDefs:o,id:e.analysisRegionId,name:e.measureName};e.analysisRegionId,e.measureName,e.chartConfig;i.data=u,i.loading=!1,i.isLoad=!0,i.icon="el-icon-check",i.isError=!1}else i.loading=!1,i.isLoad=!1,i.icon="el-icon-close",i.message=e.executeSQL.msg,i.isError=!0},n=t.bind(this);this.webSocket.onclose=function(e){},this.webSocket.onerror=function(e){}},initCurrentLoginUser:function(){var e=this,t=this.baseContextUrl+"/getUserByCookie";o.default.ajax({type:"get",url:t,data:{},async:!1,dataType:"json",success:function(t){e.currentLoginUser=t.data}})},inTreeCreate:function(e){this.inTree=e,this.inTree.expandAll(!0),(0,l.fuzzySearch)(this.inTree,"#search",null,!1)},commonTreeCreate:function(e){this.commonTree=e,this.commonTree.expandAll(!0),(0,l.fuzzySearch)(this.commonTree,"#searchAnalysis",null,!1)},initIndicatrixZtree:function(){var e=this.contextUrl+"/InFolder/getIndicatrixTree",t=this;o.default.post(e,{},(function(e){var n={check:{enable:!1,chkboxType:{Y:"s",N:"ps"},drag:{autoExpandTrigger:!0,prev:!1,inner:!1,next:!1}},data:{key:{name:"name",title:"title"},simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}},callback:{beforeDrag:t.beforeDragOne,beforeDrop:t.beforeDrop,onDrop:t.onDrop,beforeEditName:t.beforeEditName,beforeRemove:t.beforeRemove,beforeRename:t.beforeRename,onRemove:t.onRemove,onRename:t.onRename,onClick:t.onClick},view:{addDiyDom:t.addIndicatrixDiyDom,addHoverDom:t.addHoverDom,removeHoverDom:t.removeHoverDom,selectedMulti:!1,fontCss:t.getFontCss,showLine:!1,dblClickExpand:!1},edit:{drag:{autoExpandTrigger:!0,prev:t.dropPrev,inner:t.dropInner,next:t.dropNext},enable:!0,editNameSelectAll:!0,showRemoveBtn:t.showRemoveBtn,showRenameBtn:t.showRenameBtn}};t.inTreeNodes=e,t.inTreeSetting=n}),"json")},refreshInTree:function(){this.initIndicatrixZtree()},dropPrev:function(e,t,n){return!1},dropInner:function(e,t,n){return!!this.verDrop(t[0].auditorOrauditorgan)&&(t[0].auditorOrauditorgan==n.auditorOrauditorgan&&(("folder"==n.type||t[0].getParentNode().id==n.getParentNode().id)&&("folder"==n.type&&0!=n.level)))},dropNext:function(e,t,n){return!!this.verDrop(t[0].auditorOrauditorgan)&&(t[0].auditorOrauditorgan==n.auditorOrauditorgan&&("folder"==n.type||t[0].getParentNode().id==n.getParentNode().id))},verDrop:function(e){return 1==e&&"true"==this.isInManager||(2==e&&"true"==this.isInManager||(2==e&&"true"==this.isOrgManager||3==e))},beforeDragOne:function(e,t){for(var n=0,i=t.length;n<i;n++)if(!1===t[n].drag)return!1;return this.addAnalysisRegionDiyDom(),!0},beforeDrop:function(e,t,n,i){var a=this.getTargetTreeCN(t[0].auditorOrauditorgan),r=!1;if("folder"==n.type&&0!=n.level){r=this.updateMeasureFolder(t[0].id,n.id);"'{0}'指标'{1}'被移动到了'{2}'文件夹内".format(a,t[0].name,n.name);this.addOperLogByParam(this.log_module,this.log_edit,this.log_info)}if("folder"==n.type&&0==n.level)return(0,s.Message)("不允许拖动到根目录！"),r;if("indicatrix"==n.type&&"indicatrix"==t[0].type){"编辑{0}指标'{1}'和'{2}'的排序位置".format(a,t[0].name,n.name);this.addOperLogByParam(this.log_module,this.log_edit,this.log_info),r=this.updateIndex(t[0].id,n.id,n.getParentNode().id)}if("folder"==n.type&&"folder"==t[0].type){var o=n.getParentNode().id,l=t[0].getParentNode().id;r=o==l?this.updateFolderIndex(t[0].id,n.id,o):this.updateFolderPar(t[0].id,o)}return"folder"==n.type&&"folder"==t[0].type&&"inner"==i&&(r=this.updateFolderPar(t[0].id,n.id)),r},updateFolderPar:function(e,t){var n=this.contextUrl+"/InFolder/updateFolderPan",i=!1;return o.default.ajax({type:"post",url:n,data:{folderId:e,parId:t},async:!1,dataType:"json",success:function(e){0==e.state?(0,s.Message)("排序失败"):i=!0}}),i},updateFolderIndex:function(e,t,n){var i=this.contextUrl+"/InFolder/updateIndex",a=!1;return o.default.ajax({type:"post",url:i,data:{folderIdOne:e,folderIdTwo:t,parFolderId:n},async:!1,dataType:"json",success:function(e){0==e.state?(0,s.Message)("排序失败"):a=!0}}),a},updateIndex:function(e,t,n){var i=this.contextUrl+"/InMeasure/updateIndex",a=!1;return o.default.ajax({type:"post",url:i,data:{inIdOne:e,inIdTwo:t,folderId:n},async:!1,dataType:"json",success:function(e){0==e.state?(0,s.Message)("排序失败"):a=!0}}),a},updateMeasureFolder:function(e,t){var n=this.contextUrl+"/InMeasure/updateMeasureFolder",i=!1;return o.default.ajax({type:"post",url:n,data:{inId:e,folderId:t},async:!1,dataType:"json",success:function(e){0==e.state?(0,s.Message)("排序失败"):i=!0}}),i},onDrop:function(e,t,n,i,a){if(null!=i&&"folder"==i.type&&"indicatrix"==n[0].type){var r=getPah(),s=this.contextUrl+"/InMeasure/updateByPrimaryKeySelective",l={inMeasureUuid:n[0].id,measureName:null,measureType:null,inFolderUuid:null,measureMemo:null,measureGroup:null,measureFormula:null,tableUuid:null,isDelete:0,createTime:null,updateTime:null,createPersonUuid:null,createPersonName:null,measurePath:r,measureAlias:null,belongOrg:null,belongType:null,pbScopeUuid:null};o.default.post(s,{inMeasure:JSON.stringify(l)},(function(){}),"json")}this.removeAnalysisRegionDiyDom();var u=n[0].indicatrixType,c=e.target.id,d=(0,o.default)(e.target).attr("analysisregion"),h=n[0].id;if(-1!=c.indexOf("inAnalysisRegion"))this.loadInMeasueData(u,c,h,!1);else{if(void 0==d)return;-1!=d.indexOf("inAnalysisRegion")&&this.loadInMeasueData(u,d,h,!1)}},beforeEditName:function(e,t){if(2==t.indicatrixType)return this.nowInMeasureUuid=t.id,this.nowParentUuid=t.pid,this.dialogAddderiveinVisible=!0,!1;this.className="dark"===this.className?"":"dark",this.inTree.selectNode(t);var n=this;return setTimeout((function(){setTimeout((function(){n.inTree.editName(t)}),0)}),0),!1},beforeRemove:function(e,t){var n=this.contextUrl+"/InFolder/deleteVer",i=!1,a="确认删除-- "+t.name+" 吗？",r=this;return this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.default.ajax({type:"post",url:n,data:"inFolderUuid="+t.id,async:!1,success:function(n){if(0==n.state)return(0,s.Message)({type:"info",message:n.message}),i;r.className="dark"===r.className?"":"dark",r.inTree.selectNode(t),r.onRemove("",e,t),r.inTree.removeNode(t)}})})).catch((function(){})),i},beforeRename:function(e,t,n,i){var a=!1,r="";if(t.name==n)return!0;var l=this.contextUrl+"/InFolder/verNodeName",u=this;if(o.default.ajax({type:"post",url:l,data:{newName:n,pbScopeUuid:t.pbScopeUuid},dataType:"json",async:!1,success:function(e){if(0==e.state)r=e.message,a=e.state;else{a=!0;var i=u.getTargetTreeCN(t.auditorOrauditorgan);"编辑{0}指标业务分类'{1}'为'{2}'".format(i,t.name,n);u.addOperLogByParam(u.log_module,u.log_edit,u.log_info)}return a}}),0==a)return(0,s.Message)(r),!1;if(this.className="dark"===this.className?"":"dark",0==n.trim().length){u=this;return setTimeout((function(){u.inTree.cancelEditName(),(0,s.Message)("节点名称不能为空.")}),0),!1}return this.editNodeName(t,n),!0},onRemove:function(e,t,n){var i=n.indicatrixType;if(2==i){"删除了派生指标:'{0}'".format(n.name);this.addOperLogByParam(this.log_module,this.log_del,this.log_info)}else{var a=this.getTargetTreeCN(n.auditorOrauditorgan);"删除了{0}指标分类:'{1}'".format(a,n.name);this.addOperLogByParam(this.log_module,this.log_del,this.log_info)}this.removeTreeNode(n.id,i)},onRename:function(e,t,n,i){},onClick:function(e,t,n){this.inTree.expandNode(n)},addHoverDom:function(e,t){(0,o.default)("#"+t.tId+"_remove").attr("title","删除"),(0,o.default)("#"+t.tId+"_edit").attr("title","编辑");var n=(0,o.default)("#"+t.tId+"_span");(0,o.default)("#"+t.tId+"_span");if(!(t.editNameFlag||(0,o.default)("#addBtn_"+t.tId).length>0)){var i,a="<span class='button add' id='addBtn_"+t.tId+"' title='新增' onfocus='this.blur();'></span>";if(!(t.editNameFlag||(0,o.default)("#shareBtn_"+t.id).length>0)){if("indicatrix"==t.type&&t.auditorOrauditorgan,"indicatrix"==t.type)return!1;1==t.auditorOrauditorgan&&"true"==this.isInManager&&n.after(a),2==t.auditorOrauditorgan&&"true"==this.isInManager&&n.after(a),2==t.auditorOrauditorgan&&"true"==this.isOrgManager&&n.after(a),3==t.auditorOrauditorgan&&n.after(a),i=(0,o.default)("#addBtn_"+t.tId);var r=this;i&&i.bind("click",(function(e){var n=r.inTree.expandNode(t,!0);if(!n&&null!=n)return!1;var i=r.contextUrl+"/InFolder/getNewFolderNameCount";o.default.post(i,{},(function(e){var n=r.getuuid(),i="新文件夹("+(parseInt(e.message)+1)+")",a={id:n,pId:t.id,type:"folder",name:i,isParent:!0,open:!0,auditorOrauditorgan:t.auditorOrauditorgan,iconSkin:"ztree_2",nocheck:!0,pbScopeUuid:t.pbScopeUuid};r.inTree.addNodes(t,a),r.addFolder(n,t.id,i,t.pbScopeUuid),void 0!=t.children&&r.inTree.editName(t.children[t.children.length-1]);var o=r.getTargetTreeCN(t.auditorOrauditorgan);"新增了{0}指标分类:'{1}'".format(o,i);return r.addOperLogByParam(r.log_module,r.log_add,r.log_info),!1}),"json")}))}}},getFontCss:function(e,t){return t.highlight?{color:"#FF8000","font-weight":"bold"}:{color:"#333","font-weight":"normal"}},showRemoveBtn:function(e,t){if(this.getParentTreeNode(t),t.auditorOrauditorgan=this.currentInMeasureTreeParentNode.auditorOrauditorgan,0==t.level)return!1;if(2==t.indicatrixType)return 1==t.auditorOrauditorgan&&"true"==this.isInManager||2==t.auditorOrauditorgan&&"true"==this.isInManager||2==t.auditorOrauditorgan&&"true"==this.isOrgManager||t.auditorOrauditorgan,!0;if("folder"==t.type){if(1==t.auditorOrauditorgan&&"true"==this.isInManager)return!0;if(2==t.auditorOrauditorgan&&"true"==this.isInManager)return!0;if(2==t.auditorOrauditorgan&&"true"==this.isOrgManager)return!0;if(3==t.auditorOrauditorgan)return!0}return!1},getParentTreeNode:function(e){var t=e.getParentNode();if(null==t)this.currentInMeasureTreeParentNode=e;else{var n=t.getParentNode();void 0!=n&&this.getParentTreeNode(n)}},showRenameBtn:function(e,t){return this.getParentTreeNode(t),t.auditorOrauditorgan=this.currentInMeasureTreeParentNode.auditorOrauditorgan,0!=t.level&&(2==t.indicatrixType?(1==t.auditorOrauditorgan&&"true"==this.isInManager||2==t.auditorOrauditorgan&&"true"==this.isInManager||2==t.auditorOrauditorgan&&"true"==this.isOrgManager||t.auditorOrauditorgan,!0):(1!=t.auditorOrauditorgan&&2!=t.auditorOrauditorgan||"indicatrix"!=t.type)&&(1==t.auditorOrauditorgan&&"true"==this.isInManager||(2==t.auditorOrauditorgan&&"true"==this.isInManager||(2==t.auditorOrauditorgan&&"true"==this.isOrgManager||3==t.auditorOrauditorgan&&"folder"==t.type))))},removeHoverDom:function(e,t){(0,o.default)("#addBtn_"+t.tId).unbind().remove(),(0,o.default)("#shareBtn_"+t.id).unbind().remove()},initCommonlyAnalysisZtree:function(){var e=this.contextUrl+"/InOfteninfolder/getCommonlyAnalysisZtree",t=this;o.default.post(e,{},(function(e){var n=e,i={check:{enable:!0,chkboxType:{Y:"s",N:"ps"}},data:{key:{name:"name"},simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}},async:{enable:!1},callback:{beforeDrop:t.beforeDropAnalysisZtree,beforeDrag:t.beforeDragAnalysisZtree,beforeEditName:t.beforeEditNameAnalysisZtree,beforeRemove:t.beforeRemoveAnalysisZtree,beforeRename:t.beforeRenameAnalysisZtree,onRemove:t.onRemoveAnalysisZtree,onRename:t.onRenameAnalysisZtree,onClick:t.onClickAnalysisZtree},view:{addDiyDom:t.addDiyDom,addHoverDom:t.addHoverDomAnalysisZtree,removeHoverDom:t.removeHoverDomAnalysisZtree,selectedMulti:!1,fontCss:t.getFontCssAnalysisZtree,showLine:!1,dblClickExpand:!1},edit:{drag:{autoExpandTrigger:!0,prev:t.dropPrevAnalysisZtree,inner:t.dropInnerAnalysisZtree,next:t.dropNextAnalysisZtree},enable:!0,editNameSelectAll:!0,showRemoveBtn:t.showRemoveBtnAnalysisZtree,showRenameBtn:t.showRenameBtnAnalysisZtree}};t.commonTreeNodes=n,t.commonTreeSetting=i}),"json")},beforeDropAnalysisZtree:function(e,t,n,i){var a=this.getTargetTreeCN(t[0].auditorOrauditorgan),r=!1;if("analysis"==t[0].type&&"folder"==n.type&&0!=n.level){r=this.updateAnalysisFolder(t[0].id,n.id);"'{0}'分析'{1}'被移动到了'{2}'文件夹内".format(a,t[0].name,n.name);return this.addOperLogByParam(this.log_module,this.log_edit,this.log_info),r}if("folder"==n.type&&0==n.level)return(0,s.Message)({type:"info",message:"不允许拖动到根目录！"}),falg;if("folder"!=n.type&&"folder"!=t[0].type){"编辑{0}分析'{1}'和'{2}'的排序位置".format(a,t[0].name,n.name);return this.addOperLogByParam(this.log_module,this.log_edit,this.log_info),r=this.updateAnalysisIndex(t[0].id,n.id,n.getParentNode().id),r}if("folder"==n.type&&"folder"==t[0].type&&"inner"==i)return r=this.updateFolderParent(t[0].id,n.id),r;if("folder"==n.type&&"folder"==t[0].type&&"next"==i){var o=n.getParentNode().id,l=t[0].getParentNode().id;return o==l?(r=this.updateAnalysisFolderIndex(t[0].id,n.id,o),r):(r=this.updateFolderParent(t[0].id,o),r)}return r},updateAnalysisFolderIndex:function(e,t,n){var i=this.contextUrl+"/InOfteninfolder/updateFolderIndex",a=!1;return o.default.ajax({type:"post",url:i,data:{folderIdOne:e,folderIdTwo:t,parFolderId:n},async:!1,dataType:"json",success:function(e){0==e.state?(0,s.Message)({type:"info",message:"排序失败"}):a=!0}}),a},updateFolderParent:function(e,t){var n=this.contextUrl+"/InOfteninfolder/updateFolderParent",i=!1;return o.default.ajax({type:"post",url:n,data:{folderId:e,parId:t},async:!1,dataType:"json",success:function(e){0==e.state?(0,s.Message)({type:"info",message:"排序失败"}):i=!0}}),i},updateAnalysisFolder:function(e,t){var n=this.contextUrl+"/InOftenindicators/updateAnalysisFolder",i=!1;return o.default.ajax({type:"post",url:n,data:{analysisId:e,folderId:t},async:!1,dataType:"json",success:function(e){0==e.state?(0,s.Message)({type:"info",message:"排序失败"}):i=!0}}),i},updateAnalysisIndex:function(e,t,n){var i=this.contextUrl+"/InOftenindicators/updateTwoAnalysisIndex",a=!1;return o.default.ajax({type:"post",url:i,data:{analysisIdOne:e,analysisIdTwo:t,folderId:n},async:!1,dataType:"json",success:function(e){0==e.state?(0,s.Message)({type:"info",message:"排序失败"}):a=!0}}),a},dropPrevAnalysisZtree:function(e,t,n){return!1},dropInnerAnalysisZtree:function(e,t,n){return!!this.verDrop(t[0].auditorOrauditorgan)&&(t[0].auditorOrauditorgan==n.auditorOrauditorgan&&(("folder"==n.type||t[0].getParentNode().id==n.getParentNode().id)&&("folder"==n.type&&0!=n.level&&"共享文件夹"!=n.name)))},dropNextAnalysisZtree:function(e,t,n){return!!this.verDrop(t[0].auditorOrauditorgan)&&(t[0].auditorOrauditorgan==n.auditorOrauditorgan&&("folder"==n.type||t[0].getParentNode().id==n.getParentNode().id))},addDiyDom:function(e,t){var n=(0,o.default)("#"+t.tId+"_span").html();n.length>10&&(n=n.substring(0,10)+"...",(0,o.default)("#"+t.tId+"_span").html(n));var i=(0,o.default)("#"+t.tId+"_a"),a="<i class='icon-circle-3'></i>",r="<i class='icon-circle-4'></i>";"ztree_2"===t.iconSkin&&i.append(a),"ztree_3"===t.iconSkin&&i.append(r),t.iconSkin,t.iconSkin},addIndicatrixDiyDom:function(e,t){var n=(0,o.default)("#"+t.tId+"_span").html();if(n.length>10){var i=n.substring(0,10)+"...";(0,o.default)("#"+t.tId+"_span").html(i)}(0,o.default)("#"+t.tId+"_span").attr("title",n);var a=(0,o.default)("#"+t.tId+"_a");"folder"==t.type&&void 0!=t.title&&a.append("<span class='node_num'>"+t.childCount+"</span>")},onClickAnalysisZtree:function(e,t,n){if("folder"==n.type)this.commonTree.expandNode(n);else{var i=this.contextUrl+"/InOftenindicators/selectByPrimaryKey",a=this;o.default.post(i,{inOftenindicatorsUuid:n.id},(function(e){a.clearAnalysis(),a.oftenAnalysisId=n.id,a.oftenAnalysisName=n.name,a.displayAnalisys(e)}),"json")}this.analysisNode=n},showRemoveBtnAnalysisZtree:function(e,t){return this.getParentTreeNode(t),t.auditorOrauditorgan=this.currentInMeasureTreeParentNode.auditorOrauditorgan,0!=t.level&&(4!=t.verButton&&(1==t.auditorOrauditorgan&&"true"==this.isInManager||(2==t.auditorOrauditorgan&&"true"==this.isInManager||(2==t.auditorOrauditorgan&&"true"==this.isOrgManager||3==t.auditorOrauditorgan))))},showRenameBtnAnalysisZtree:function(e,t){return this.getParentTreeNode(t),t.auditorOrauditorgan=this.currentInMeasureTreeParentNode.auditorOrauditorgan,0!=t.level&&(4!=t.verButton&&(1==t.auditorOrauditorgan&&"true"==this.isInManager||(2==t.auditorOrauditorgan&&"true"==this.isInManager||(2==t.auditorOrauditorgan&&"true"==this.isOrgManager||3==t.auditorOrauditorgan))))},beforeDragAnalysisZtree:function(e,t){return!0},addHoverDomAnalysisZtree:function(e,t){this.getParentTreeNode(t),t.auditorOrauditorgan=this.currentInMeasureTreeParentNode.auditorOrauditorgan;var n=this;(0,o.default)("#"+t.tId+"_remove").attr("title","删除"),(0,o.default)("#"+t.tId+"_edit").attr("title","编辑");var i=(0,o.default)("#"+t.tId+"_span");(0,o.default)("#"+t.tId+"_span");if(!(t.editNameFlag||(0,o.default)("#addBtn_"+t.tId).length>0)){var a="<span class='button add' id='addBtn_"+t.tId+"' title='新增' onfocus='this.blur();'></span>";if(4==t.verButton)return!1;if(!(t.editNameFlag||(0,o.default)("#shareBtn_"+t.id).length>0)){if("analysis"==t.type&&t.auditorOrauditorgan,"analysis"==t.type)return!1;var r;1==t.auditorOrauditorgan&&"true"==this.isInManager&&i.after(a),2==t.auditorOrauditorgan&&"true"==this.isInManager&&i.after(a),2==t.auditorOrauditorgan&&"true"==this.isOrgManager&&i.after(a),3==t.auditorOrauditorgan&&i.after(a),r=(0,o.default)("#addBtn_"+t.tId),r&&r.bind("click",(function(){var e=n.contextUrl+"/InOfteninfolder/getNewFolderNameCount";o.default.post(e,{},(function(e){var i=n.getuuid(),a="新文件夹("+(parseInt(e.message)+1)+")";n.commonTree.addNodes(t,{id:i,pId:t.id,type:"folder",name:a,auditorOrauditorgan:t.auditorOrauditorgan,isParent:!0,iconSkin:"ztree_5",nocheck:!0,pbScopeUuid:t.pbScopeUuid}),void 0!=t.children&&n.commonTree.editName(t.children[t.children.length-1]),n.addCommonlyAnalysisFolder(i,t.id,a,t.pbScopeUuid);var r=n.getTargetTreeCN(t.auditorOrauditorgan);"新增了{0}常用分析分类:'{1}'".format(r,a);return n.addOperLogByParam(n.log_module,n.log_add,n.log_info),!1}),"json")}))}}},onRenameAnalysisZtree:function(e,t,n,i){},removeHoverDomAnalysisZtree:function(e,t){(0,o.default)("#addBtn_"+t.tId).unbind().remove(),(0,o.default)("#shareBtn_"+t.id).unbind().remove()},beforeEditNameAnalysisZtree:function(e,t){this.classNameAnalysisZtree="dark"===this.classNameAnalysisZtree?"":"dark",this.commonTree.selectNode(t);var n=this;return setTimeout((function(){setTimeout((function(){n.commonTree.editName(t)}),0)}),0),!1},beforeRemoveAnalysisZtree:function(e,t){var n=!1,i=this.contextUrl+"/InOfteninfolder/verFolderAnalysis",a="确认删除-- "+t.name+" 吗？",r=this;return this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.default.ajax({type:"post",url:i,data:{inOfteninfolderUuid:t.id},dataType:"json",async:!1,success:function(n){0!=n.state?(r.classNameAnalysisZtree="dark"===r.classNameAnalysisZtree?"":"dark",r.commonTree.selectNode(t),r.commonTree.removeNode(t),r.onRemoveAnalysisZtree("",e,t)):(0,s.Message)({type:"info",message:n.message})}})})).catch((function(){})),n},beforeRenameAnalysisZtree:function(e,t,n,i){if(t.name==n)return!0;var a=!1,r="",l="";l="folder"==t.type?this.contextUrl+"/InOfteninfolder/verNodeName":this.contextUrl+"/InOftenindicators/verAnalysisName";this.getTargetTreeCN(t.auditorOrauditorgan);var u=this;return o.default.ajax({type:"post",url:l,data:{newName:n,pbScopeUuid:t.pbScopeUuid},dataType:"json",async:!1,success:function(e){return 0==e.state?(r=e.message,a=e.state):a=!0,a}}),0==a?((0,s.Message)({type:"info",message:r}),!1):(this.classNameAnalysisZtree="dark"===this.classNameAnalysisZtree?"":"dark",0==n.trim().length?(setTimeout((function(){u.commonTree.cancelEditName(),(0,s.Message)({type:"info",message:"节点名称不能为空"})}),0),!1):(this.editNodeNameCommonlyAnalysisZtree(t,n),!0))},onRemoveAnalysisZtree:function(e,t,n){this.removeTreeNodeAnalysisZtree(n)},removeTreeNodeAnalysisZtree:function(e){if("folder"==e.type){var t=this.contextUrl+"/InOfteninfolder/deleteByPrimaryKey";o.default.post(t,{inOfteninfolderUuid:e.id},(function(e){0!=e.state||(0,s.Message)({type:"info",message:e.message})}),"json")}else{t=this.contextUrl+"/InOftenindicators/deleteByPrimaryKey";o.default.post(t,{inOftenindicatorsUuid:e.id},(function(e){0!=e.state||(0,s.Message)({type:"info",message:e.message})}),"json")}},addAnalysisRegionDiyDom:function(){o.default.each(this.inRegionAndDimRegionMapping,(function(e,t){(0,o.default)("#"+t.inAnalysisRegionId).parent().addClass("analysisRegionSelected")}))},removeAnalysisRegionDiyDom:function(){o.default.each(this.inRegionAndDimRegionMapping,(function(e,t){(0,o.default)("#"+t.inAnalysisRegionId).parent().removeClass("analysisRegionSelected")}))},getTargetTreeCN:function(e){return 1==e?"全行":2==e?"机构":3==e?"个人":void 0},searchOnChange:function(){},getLoginUuid:function(){var e=this.contextUrl+"/indicatrixAnalysis/getLoginUuid",t=this;o.default.post(e,{},(function(e){t.personInfo=e}),"json")},initPower:function(){var e=this.contextUrl+"/indicatrixAnalysis/getVerLoginPersonPower",t=this;o.default.ajax({type:"post",url:e,data:{},async:!1,dataType:"json",success:function(e){void 0==e.isInManager?t.isInManager="false":t.isInManager=e.isInManager,void 0==e.isOrgManager?t.isOrgManager="false":t.isOrgManager=e.isOrgManager,sessionStorage.setItem("isOrgManager",t.isOrgManager),sessionStorage.setItem("isInManager",t.isInManager)}})},resizeChartView:function(e){var t=41,n=(0,o.default)(".top-collapse-container").outerHeight(),i=(0,o.default)(window).height();1!==e?(0,o.default)(".main-view-con").css("height",i-n):(0,o.default)(".main-view-con").css("height",i-t)},J_slideup_btnClick:function(e){(0,o.default)("#analysisIn a").remove();var t="",n=0;o.default.each(this.analysisList,(function(e,i){null!=i&&void 0!=i&&o.default.each(i.objInList,(function(e,i){t+="<a href='#'>"+i.measureName+"</a>",n++}))})),(0,o.default)("#analysisIn").append(t),(0,o.default)("#count").text(n),(0,o.default)(".J_slideup_btn").parents(".top-collapse-container").slideUp(200),(0,o.default)(".slide-container").slideDown(200);var i=this;setTimeout(i.resizeChartView(1),500)},J_slidedown_btnClick:function(e){(0,o.default)(".J_slidedown_btn").parents(".slide-container").slideUp(200),(0,o.default)(".top-collapse-container").slideDown(200);var t=this;setTimeout(t.resizeChartView,500)},initEvent:function(){var e=this;(0,o.default)(".J_slideup_btn").on("click",(function(){e.J_slideup_btnClick(this)})),(0,o.default)(".J_slidedown_btn").on("click",(function(){e.J_slidedown_btnClick(this)})),this.resizeChartView()},beforeDrag:function(e,t){return!1},AddFolderOdIn:function(e,t){if(0==t.level){var n=this.getuuid(),i="新文件夹";return this.inTree.addNodes(t,{id:n,pId:t.id,type:"folder",name:i,isParent:!0,auditorOrauditorgan:t.auditorOrauditorgan,iconSkin:"ztree_2",nocheck:!0}),void this.addFolder(n,t.id,i)}var a=this;this.$confirm("请选择是文件夹或派生指标","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"文件夹",cancelButtonText:"派生指标"}).then((function(){var e=a.contextUrl+"/InFolder/getNewFolderNameCount";o.default.post(e,{},(function(e){var n=a.getuuid(),i="新文件夹("+(parseInt(e.message)+1)+")";a.inTree.addNodes(t,{id:n,pId:t.id,type:"folder",name:i,isParent:!0,auditorOrauditorgan:t.auditorOrauditorgan,iconSkin:"ztree_2",nocheck:!0}),a.addFolder(n,t.id,i),layer.closeAll()}),"json")})).catch((function(e){node=t,a.addDeriveIn()}))},addFolder:function(e,t,n,i){var a=this.contextUrl+"/InFolder/insertSelective",r={inFolderUuid:e,folderName:n,panentUuid:t,createTime:"",updateTime:"",createPersonName:"",createPersonUuid:"",pbScopeUuid:i};o.default.post(a,{inFolderObject:JSON.stringify(r)},(function(e){}),"json")},closeThresholdValueRel:function(){this.thresholdValueDialog=!1},addCommonlyAnalysisFolder:function(e,t,n,i){var a=this.contextUrl+"/InOfteninfolder/insertSelective",r={inOfteninfolderUuid:e,ofteninfolderName:n,parentUuid:t,createTime:"",updateTime:"",createPersonName:"",createPersonUuid:"",pbScopeUuid:i};o.default.post(a,{inOfteninfolder:JSON.stringify(r)},(function(e){}),"json")},editNodeName:function(e,t){var n=this.contextUrl+"/InFolder/updateByPrimaryKeySelective",i={inFolderUuid:e.id,folderName:t,panentUuid:e.pid,createTime:"",updateTime:"",createPersonName:"",createPersonUuid:""};o.default.post(n,{inFolderObject:JSON.stringify(i)},(function(e){}),"json")},editNodeNameCommonlyAnalysisZtree:function(e,t){var n=this;if("folder"==e.type){var i=this.contextUrl+"/InOfteninfolder/updateByPrimaryKeySelective",a={inOfteninfolderUuid:e.id,ofteninfolderName:t,parentUuid:null,createTime:null,updateTime:null,createPersonName:null,createPersonUuid:null};o.default.post(i,{inOfteninfolder:JSON.stringify(a)},(function(e){0==e.state&&(0,s.Message)({type:"info",message:e.message})}),"json")}else{var r=this.contextUrl+"/InOftenindicators/updateByPrimaryKeySelective",l={inOftenindicatorsUuid:e.id,oftenindicatorsName:t,ofteninfolderUuid:null,oftenindicatorsAnalysisobject:null,oftenindicatorsIsdelete:null,oftenindicatorsMemo:null,createTime:null,updateTime:null,createPersonUuid:null,createPersonName:null};o.default.post(r,{inOftenindicators:JSON.stringify(l)},(function(e){0==e.state&&n.$message(e.message)}),"json")}},removeTreeNode:function(e,t){if(2==t){var n=this.contextUrl+"/InMeasure/delDeriveIn";o.default.post(n,{inMeasureUuid:e},(function(e){1==e?(0,s.Message)("删除成功"):(0,s.Message)(e)}),"json")}else{n=this.contextUrl+"/InFolder/deleteByPrimaryKey";o.default.post(n,{inFolderUuid:e},(function(e){}),"json")}},getzTreePath:function(e){var t=this.inTree.getNodesByParam("id",e[0].pid,null);return this.path+=e[0].id+",",this.pathNameTree+=e[0].name+",",0!=t.length&&this.getzTreePath(t),path},nativeIndicatrixDesign:function(){(void 0!=this.isInManager||void 0!=this.isOrgManager)&&(0!=this.isInManager||0!=this.isOrgManager)?this.dialogDesignVisible=!0:(0,s.Message)("您没有添加此指标的权限")},getPah:function(){this.path="";var e=this.inTree.getSelectedNodes(),t=this.getzTreePath(e);return t},openFirstTreenode:function(){var e=treeObj.transformToArray(treeObj.getNodes());this.inTree.expandNode(e[0],!0),this.inTree.expandNode(e[1],!0),this.inTree.expandNode(e[2],!0)},addDeriveIn:function(){this.nowInMeasureUuid="",this.nowParentUuid="",this.deriveInType="2",this.addDeriveInType="1",this.dialogAddderiveinVisible=!0},addDeriveNode:function(e,t){this.inTree.addNodes(node,{id:e,pId:node.id,type:"indicatrix",name:t,isParent:!1,auditorOrauditorgan:node.auditorOrauditorgan,iconSkin:"ztree_3",nocheck:!1,indicatrixType:2})},focusKey:function(e){key.hasClass("empty")&&key.removeClass("empty")},focusKeyAnalysisZtree:function(e){this.keyAnalysisZtree.hasClass("empty")&&this.keyAnalysisZtree.removeClass("empty")},blurKey:function(e){""===key.get(0).value&&key.addClass("empty")},blurKeyAnalysisZtree:function(e){""===this.keyAnalysisZtree.get(0).value&&this.keyAnalysisZtree.addClass("empty")},clickChange:function(e){this.searchNode(e)},clickChangeAnalysisZtree:function(e){this.searchNodeAnalysisZtree(e)},searchNode:function(e){var t=o.default.trim(key.get(0).value),n="name";this.updateNodes(!1),this.nodeList=this.inTree.getNodesByParamFuzzy(n,t),this.updateNodes(!0);var i=(0,o.default)("#name").val();""==i&&void 0!=i&&this.updateNodes(!1)},searchNodeAnalysisZtree:function(e){var t=o.default.trim(this.keyAnalysisZtree.get(0).value),n="name";this.updateNodesAnalysisZtree(!1),this.nodeList=this.commonTree.getNodesByParamFuzzy(n,t),this.updateNodesAnalysisZtree(!0);var i=(0,o.default)("#search").val();""==i&&void 0!=i&&this.updateNodesAnalysisZtree(!1)},updateNodes:function(e){for(var t=0,n=this.nodeList.length;t<n;t++)this.nodeList[t].highlight=e,this.inTree.updateNode(this.nodeList[t])},updateNodesAnalysisZtree:function(e){for(var t=0,n=this.nodeList.length;t<n;t++)this.nodeList[t].highlight=e,this.commonTree.updateNode(this.nodeList[t])},getFontCssAnalysisZtree:function(e,t){return t.highlight?{color:"#FF8000","font-weight":"bold"}:{color:"#333","font-weight":"normal"}},organizeSupAnaColData:function(e,t){var n=[];return o.default.each(e,(function(e,i){if(-1==t.indexOf(i)){var a={};a.columnName=i,n.push(a)}})),n},getconAnalysisPrompt:function(e,t){var n=t.result;e=e.toLowerCase();var i=[],a=0;o.default.each(n,(function(t,n){"null"!=n[e]&&""!=n[e]&&void 0!=n[e]&&(a+=n[e],i.push(n[e]))})),i=i.sort(softNumber);var r=this.getMedian(i),s=n.length,l=a/n.length,u=this.getStandardDeviation(i,l),c=u/l,d=Math.max.apply(Math,i),h=Math.min.apply(Math,i),f=e+"<br>最大值:{0}  <br>最小值:{1}  <br>计数:{2}  <br>合计:{3}  <br>平均值:{4} <br>中位数:{5} <br>标准差(样本):{6} <br>离散系数(样本):{7}".format(d,h,s,a,l,r,u,c);return f},getModeNumber:function(e){for(var t=[],n=0;n<e.length;n++)e[n]==e[n+1]&&t.push(e[n]);return t},softNumber:function(e,t){return e-t},getStandardDeviation:function(e,t){if(0==e.length)return 0;var n=function(e,t){return e+t},i=function(e){return e*e},a=e.map((function(e){return e-t})),r=Math.sqrt(a.map(i).reduce(n)/(e.length-1));return r},getMedian:function(e){var t;if(0==Math.round(e.length%2)){var n=Math.round(e.length/2),i=e[n],a=e[n-1];t=(i+a)/2}else t=e[Math.round(e.length/2)];return t},getSupAnalysisPrompt:function(e,t){var n=t.result,i="";return o.default.each(e,(function(e,t){var a=[],r=0;o.default.each(n,(function(e,n){r+=parseInt(n[t]),a.push(parseInt(n[t]))}));var s=n.length,l=r/n.length,u=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=getMedian(a),h=getStandardDeviation(a,l),f=h/l;i+=t+"<br>最大值:{0}  <br>最小值:{1}  <br>计数:{2}  <br>合计:{3}  <br>平均值:{4} <br>中位数:{5} <br>标准差(样本):{6} <br>离散系数(样本):{7}".format(u,c,s,r,l,d,h,f)+"<br><br>"})),i},addDataViewRegion:function(e,t,n,i){n.substring(0,n.length-4);var a="<div class=\"view-grid\"  style='overflow: auto' analysisRegionId ='"+n+"' id='"+e+t+"'>\n                    <div class=\"table-view\" ditem='true' itemobj='"+e+"' objname='"+t+"' id='table-view_"+e+"'>                        <table class=\"table table-striped\" id='"+e+"'></table>\n<div id='pagger"+e+"'></div>                    </div>\n        </div>";(0,o.default)("#dataView").append(a),this.uuidArr.push(e),this.uuidName.push({id:e,name:t,prompt:i,analysisRegionId:n})},openChart:function(e,t){layer.open({type:1,title:!1,area:["100%","98%"],content:(0,o.default)(e),cancel:function(){(0,o.default)(e).children().css({width:"45%",height:"298"})}}),(0,o.default)(e).children().css({width:"100%",height:"800px"})},loadChart:function(e,t,n,i,a){var r="<div onclick='openChart(this,\""+n+"\")' ditem='true' itemobj='"+n+"' objname='"+i+"' id='chartFrameDiv_"+n+"'><iframe  id='chartFrame_"+n+"' frameborder='0' name='chartFrame' width='100%' height='350px' src='../../lib/chart-editor/index.html' scrolling='no'></iframe></div>";(0,o.default)("#"+e).parent().append(r);var s=document.getElementById("chartFrame_"+n);s.onload=function(){s.contentWindow.loadChart(t,a,!1)}},resizeGrid:function(e,t,n){(0,o.default)("#"+e+t).css({width:"100%"}),(0,o.default)("#table-view_"+e).css({width:"50%",float:"left"})},buildChars:function(e,t){var n=e+t,i=getChartData(n),a=getChartXYJSON(n);null!=a&&loadChart("table-view_"+e,i,e,t,a)},getChartYsrcJSON:function(e,t,n,i){var a=i.substring(36,i.lengh),r={},s=[];return o.default.each(n,(function(n,i){var a={mode:"markers",orientation:"v",type:"bar",x:1==e.length?e[0]:e,xsrc:1==t.length?t[0]:t,y:"{#"+i+"#}",ysrc:i,name:i};s.push(a)})),r.data=s,r.layout={autosize:!0,xaxis:{autorange:!0,type:"category",title:{text:"这是X轴"}},yaxis:{autorange:!0,type:"linear",title:{text:"这是y轴"}},title:{text:a}},r},delEcharts:function(e){(0,o.default)("#"+(0,o.default)(e).attr("name")).remove()},bigDiv:function(e){var t=(0,o.default)("#"+e);layer.open({type:1,title:"数据",shadeClose:!0,shade:!1,maxmin:!1,area:["100%","100%"],content:(0,o.default)(t)})},checkInDisplayDim:function(e){var t=(0,o.default)("#"+e).attr("check");void 0==t||""==t?((0,o.default)("#"+e).removeClass(),(0,o.default)("#"+e).addClass("tag-select tag-warning"),(0,o.default)("#"+e).attr("check","true")):((0,o.default)("#"+e).removeClass(),(0,o.default)("#"+e).addClass("tag-select tag-warning tag-ouline"),(0,o.default)("#"+e).attr("check",""))},updateAnalysisCount:function(){var e=0;o.default.each(this.analysisList,(function(t,n){null!=n&&(e+=n.objInList.length)})),(0,o.default)("#analysisCount").text(e)},addTempIn:function(e){var t=(0,o.default)(e).attr("analysisRegion");this.deriveInType="3",this.addDeriveInType="2",this.nowAnalysisRegionId=t,this.nowInMeasureUuid=null,this.dialogAddderiveinVisible=!0},updateTempIn:function(e,t,n,i,a){1==a||"true"==a?(this.nowInMeasureUuid=n,this.nowAnalysisRegionId=t,this.nowParentUuid=e,this.dialogAddderiveinVisible=!0):(0,s.Message)("只有临时指标才能在此处更改！")},addTempDim:function(e){this.addTempDimAnalysisRegionId=e,this.dimId=null,this.dimDivId=null;var t=this,n=this.getAnalysisRegionInAndDim(e);if(n.success){var i=n.objInList,a=n.supDimIdList;this.nowDimAnalysisRegionId=n.dimAnalysisRegionId;var r=this.contextUrl+"/indicatrixAnalysis/getInRelDimCol";o.default.post(r,{objInList:JSON.stringify(i),supDimIdList:JSON.stringify(a)},(function(n,i){0==n.state&&t.$message(n.message);var a=n.resultObj;sessionStorage.setItem("resultObj",JSON.stringify(a));for(var r=0;r<a.length;r++)t.inDimList.push(a[r].dimensionName);t.nowAnalysisRegionId=e,t.dialogEdittemdimVisible=!0}),"json")}},getInDimList:function(){return this.inDimList},clearInDimList:function(){this.inDimList=[]},getAnalysisRegionInAndDim:function(e){var t={objInList:null,supDimIdList:null,dimAnalysisRegionId:"",success:!1},n=!1;o.default.each(this.analysisList,(function(i,a){if(null!=a&&a.id==e){if(0==a.objInList.length)return!1;n=!0,t.success=!0,t.objInList=a.objInList,t.supDimIdList=a.supDimIdList}}));var i=this.getAnalysisRegionDimId(e);return n?(t.dimAnalysisRegionId=i,t):((0,s.Message)("该分析区下没有任何指标，不能新增临时维度！"),!1)},saveChangYongAnalysis:function(){if(0!=this.analysisList[0].objInList.length)if(""!=this.oftenAnalysisId){var e=this;this.$confirm("保存为常用分析","提示",{confirmButtonText:"覆盖",cancelButtonText:"另存为",type:"warning"}).then((function(){e.saveAnalysisOne()})).catch((function(){e.saveAnalysis()}))}else this.saveAnalysis();else(0,s.Message)("请先选择指标！")},saveAnalysis:function(){this.openSaveAnalysis()},saveAnalysisOne:function(){var e=this,t=this;this.$confirm("是否保存常用分析“{0}”？".format(this.oftenAnalysisName),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.handleChartConfig();var n={analysisList:e.analysisList},i=(0,o.default)("#inRegion").html(),a=(0,o.default)("#dimAnalysisRegion").html(),r=JSON.stringify(t.inRegionAndDimRegionMapping),s={inOftenindicatorsUuid:t.oftenAnalysisId,oftenindicatorsName:null,ofteninfolderUuid:null,oftenindicatorsAnalysisobject:JSON.stringify(n),oftenindicatorsIsdelete:0,oftenindicatorsMemo:null,createTime:null,updateTime:null,createPersonUuid:null,createPersonName:null,pbScopeUuid:null,inRegionStyle:i,dimRegionStyle:a,mapping:r},l=t.contextUrl+"/InOftenindicators/updateByPrimaryKeySelective";o.default.post(l,{inOftenindicators:JSON.stringify(s)},(function(e){if(0!=e.state){"编辑了常用分析:'{0}'".format(t.oftenAnalysisName);t.addOperLogByParam(t.log_module,t.log_add,t.log_info),t.oftenAnalysisId="",t.oftenAnalysisName="",t.$message("保存成功！")}else t.$message(e.message)}),"json")})).catch((function(){}))},openSaveAnalysis:function(){this.dialogsSaveAnalysisVisible=!0},addAnalistsNode:function(e,t,n){var i=(0,o.default)("#inRegion").html(),a=(0,o.default)("#dimAnalysisRegion").html(),r=JSON.stringify(this.inRegionAndDimRegionMapping),s=this;this.handleChartConfig();var l={analysisList:this.analysisList},u=this.getuuid(),c={inOftenindicatorsUuid:u,oftenindicatorsName:e,ofteninfolderUuid:n,oftenindicatorsAnalysisobject:JSON.stringify(l),oftenindicatorsIsdelete:0,oftenindicatorsMemo:"",createTime:"",updateTime:"",createPersonUuid:"",createPersonName:"",pbScopeUuid:t,inregionstyle:i,dimregionstyle:a,mapping:r},d=this.contextUrl+"/InOftenindicators/insertSelective";o.default.post(d,{inOftenindicators:JSON.stringify(c)},(function(t){if(0!=t.state){""!=s.oftenAnalysisId?"将常用分析'{0}'另存为'{1}'".format(s.oftenAnalysisName,e):"新增了常用分析:'{0}'".format(e),s.addOperLogByParam(s.log_module,s.log_add,s.log_info)}else s.$message(t.message)}),"json"),this.oftenAnalysisId="",this.oftenAnalysisName=""},handleChartConfig:function(){for(var e=0;e<this.analysisList.length;e++)void 0!=this.$refs[this.analysisList[e].id]&&0!=this.$refs[this.analysisList[e].id].length&&(console.log(this.$refs[this.analysisList[e].id][0].getChartConfig),this.$refs[this.analysisList[e].id][0].getChartConfig&&(console.log(this.$refs[this.analysisList[e].id][0].getChartConfig()),this.analysisList[e].chartConfig=this.$refs[this.analysisList[e].id][0].getChartConfig()))},shareIndicatrix:function(e,t){var n=this,i=analysisUrl+"/tree/personOrgTree?ismore=1&isjurid=1&notSelData=''";pubDialog({id:"getPerson",title:"共享人员选择",url:i,params:{jsondata:""},width:"1000px",height:"600px",scrollbar:!1,closureObj:"personOrgTree",callBackFun:function(e){if(!e||e.length<=0)return!1;if(n.personInfo.orgName!=e[0].orgname)return n.$message("不允许不同机构下的派生指标共享"),!1;var i=new Array,a=new Array;o.default.each(e,(function(e,t){i.push(t.personuuid),a.push(t.fullName)}));var r=n.getuuid(),s=n.contextUrl+"/InMeasure/shareIndicatix";o.default.post(s,{inMesureUuid:t.id,newUuid:r,sharePersonUuid:JSON.stringify(i),sharePersonName:JSON.stringify(a)},(function(e){if(0!=e.state){n.$message("共享成功");analysisUrl;o.default.each(i,(function(e,i){n.personInfo.orgPathName,n.personInfo.personName,t.name;n.addOperLogByParam("派生指标","派生指标共享",log_info),n.addMessage("指标共享["+t.name+"]",log_info,i,1)}))}else n.$message(e.message)}),"json")}})},shareAnalysis:function(e,t){var n=this,i=t;if("folder"!=i.type)if(1!=i.auditorOrauditorgan&&2!=i.auditorOrauditorgan){var a=analysisUrl+"/tree/personOrgTree?ismore=1&isjurid=1&notSelData=''";pubDialog({id:"getPerson",title:"共享人员选择",url:a,params:{jsondata:""},width:"1000px",height:"600px",scrollbar:!1,closureObj:"personOrgTree",callBackFun:function(e){if(!e||e.length<=0)return!1;if(n.personInfo.orgName!=e[0].orgname)return n.$message("不允许不同机构下的常用分析共享"),!1;var a=new Array,r=new Array;o.default.each(e,(function(e,t){a.push(t.personuuid),r.push(t.fullName)}));var s=n.getuuid(),l=n.contextUrl+"/InOftenindicators/shareAnalysis";o.default.post(l,{inOftenindicatorsUuid:i.id,newUuid:s,sharePersonUuid:JSON.stringify(a),sharePersonName:JSON.stringify(r)},(function(e){if(0!=e.state){n.$message("共享成功");analysisUrl;o.default.each(a,(function(e,i){n.personInfo.orgPathName,n.personInfo.personName,t.name;n.addOperLogByParam("常用分析","常用分析共享",log_info),n.addMessage("常用分析["+t.name+"]",log_info,i,2)}))}else n.$message(e.message)}),"json")}})}else(0,s.Message)("只能共享个人的常用分析！");else(0,s.Message)("您选择的是分类，不能共享！")},copyAnalysis:function(){var e=this.commonTree.getSelectedNodes(),t=this.commonTree.getSelectedNodes()[0].getParentNode();if(0!=e.length)if(e.length>1)(0,s.Message)("不允许批量复制！");else if("folder"!=e[0].type){var n=this.getuuid(),i=this.contextUrl+"/InOftenindicators/copyAnalysis",a=this;o.default.post(i,{inOftenindicatorsUuid:e[0].id,newUuid:n},(function(e){0!=e.state?a.commonTree.addNodes(t,{id:n,pId:t.id,type:"analysis",name:e.message,auditorOrauditorgan:t.auditorOrauditorgan,iconSkin:"ztree_no",nocheck:!0}):a.$message(e.message)}),"json")}else(0,s.Message)("您选择的是分类，不能复制！");else(0,s.Message)("请选择要复制的分析！")},loadInMeasueData:function(e,t,n,i,a){var r=[];o.default.each(this.analysisList,(function(e,n){null!=n&&void 0!=n&&(n.id==t&&(r=n.supDimIdList),null!=a&&(r=a))})),1==i&&-1!=r.indexOf(n)&&r.splice([r.indexOf(n),1]);var s=this.contextUrl+"/indicatrixAnalysis/supAnalysisVerification",l=this;o.default.ajax({type:"post",url:s,data:{indicatrixId:n,listDimId:JSON.stringify(r)},async:!1,dataType:"json",success:function(a){if(0==a.length)return l.$message("该指标与当前指标没有任何关联维度，不能进行叠加分析"),void(1==i&&l.delDer(n));l.clearAnalysisRegionAppoingArray(t,"supDimIdList"),l.initInToForm(n,e,t,i);var r=l.getAnalysisRegionDimId(t);l.nativeInDimSup(n,a,r,t)}})},initInToForm:function(e,t,n,i){var a=this,r=this.contextUrl+"/indicatrixAnalysis/getIndicatrixAnalysis";o.default.ajax({type:"post",url:r,data:{indicatrixId:e,type:t},async:!1,dataType:"json",success:function(r){null==r&&a.$message("该指标表被删除，请联系数据管理员。",{time:3e4,btn:["知道了"]});var s=a.verInMeasureExist(n,e);if(0!=s.length){var l=a.getGroup(s);if(void 0==l)return void a.$message("该指标的所有聚合方式均已存在，不能再继续新增！",{time:3e4,btn:["知道了"]});a.$message("指标已经存在,聚合方式更改为："+l),r.measureGroup=l}var u=a.getuuid(),c=a.getuuid(),d="";2==t&&(d=r.measureName),1==t&&(d=a.updateGroupDisplay(r.measureGroup,r.measureName));var h="";2==t&&(h='"{0}","{1}","{2}","{3}","{4}","{5}"'.format(u,n,e,t,i,"false")),1==t&&(h='"{0}","{1}","{2}","{3}","{4}","{5}"'.format(u,n,e,r.measureGroup,"false"));var f=d.replace("(","").replace(")",""),p="",m=a.getuuid();if("2"==r.measureType){var g=r.measureName;p='"{0}","{1}","{2}","{3}","{4}","{5}","{6}","{7}","{8}"'.format(u,n,e,r.measureGroup,t,i,g,g,c)}else p='"{0}","{1}","{2}","{3}","{4}","{5}","{6}","{7}","{8}","{9}"'.format(u,n,e,r.measureGroup,t,i,r.columnName,f,c,m);var v='"{0}","{1}","{2}","{3}","{4}"'.format(u,n,e,t,i),y="<div id='"+u+"' onclick='updateTempIn("+v+")'><i class='icon-close' onclick='delAnalysisListDownIn("+h+")'></i><span id='"+c+"'></span><i class='icon-down' id = '"+m+"' onclick='inTriangle("+p+")'></i></div>";(0,o.default)("#"+n).children(":first").after(y),1==i?((0,o.default)("#"+u).addClass("tag-select tag-info active"),(0,o.default)("#"+c).html("<i class='icon-clock'></i>"+d)):((0,o.default)("#"+u).addClass("tag-select tag-info"),(0,o.default)("#"+c).html(d)),(0,o.default)("#"+u).attr("title",r.measureMemo),(0,o.default)("#"+u).attr("name",e),(0,o.default)("#"+u).attr("updateGroup",n+e+r.measureGroup),r.updateGroup=n+e+r.measureGroup,o.default.each(a.analysisList,(function(e,t){null!=t&&t.id==n&&t.objInList.push(r)})),a.updateAnalysisCount()}})},verInMeasureExist:function(e,t){var n=[];return o.default.each(this.analysisList,(function(i,a){null!=a&&a.id==e&&o.default.each(a.objInList,(function(e,i){null!=i&&i.inMeasureUuid==t&&n.push(i.measureGroup)}))})),n},getGroup:function(e){for(var t=["sum","count","distinct","max","min","avg"],n=0;n<t.length;n++)if(-1==e.indexOf(t[n]))return t[n]},nativeInDimSup:function(e,t,n,i){o.default.each(this.analysisList,(function(e,t){if(null!=t&&void 0!=t&&t.id==i){if(void 0==t.dimDivIdList)return;return o.default.each(t.dimDivIdList,(function(e,t){null!=t&&void 0!=t&&(0,o.default)("#"+t).remove()})),(0,o.default)("#"+n).html(""),t.dimDivIdList=[],t.objDimList=[],t.supDimList=[],!1}}));var a="<div class=\"tag-select\">\n<i class='icon-add'>+</i><span style='margin-top: -5px;' onclick='addTempDim(\""+i+"\")'>新增临时维度</span></div>";(0,o.default)("#"+n).append(a);var r=[],s=[],l=this;o.default.each(t,(function(t,a){var o=n+e;r.push(a.inDimensionUuid),s.push(o),3==a.dimensionOperation?l.prependDimShow(e,n,i,a,o,!0,null):l.prependDimShow(e,n,i,a,o,!1,null)})),this.addTemporaryDataDynamically(t),o.default.each(this.analysisList,(function(e,t){null!=t&&t.id==i&&(t.supDimIdList=r,t.dimDivIdList=s)}))},prependDimShow:function(e,t,n,i,a,r,s){var l=t+this.getuuid(),u=this.getuuid(),c=this.getuuid(),d=this.getuuid(),h="";h=(3==i.dimensionOperation||2==i.dimensionOperation)&&1==r?"<div id='"+a+"'parentElmUuid='"+d+"'onclick='dimClickSup(this,\""+n+"\")'><i id='"+c+"' onclick='plusClick(this)' style='font-size: 20px' class='icon-add'>+</i><span id='"+l+"'>+</span><i id='"+u+"' onclick='filterBtn(this,\""+n+"\")'></i></div>":"<div id='"+a+"'parentElmUuid='"+d+"'onclick='dimClickSup(this,\""+n+"\")'><i id='"+c+"' style='display:none;' onclick='plusClick(this)' class='icon-add'>+</i><span id='"+l+"'>+</span><i id='"+u+"' onclick='filterBtn(this,\""+n+"\")'></i></div>";var f=0;void 0!=i.level&&(f=i.level);var p=!1;void 0!=i.yesNoSplitLevel&&(p=!0);var m="无";void 0!=i.splitLevelType&&(m=i.splitLevelType);var g="";g=void 0==i.oldName?i.dimensionName:i.oldName,null!=s?(0,o.default)(s).parent().after(h):(0,o.default)("#"+t).prepend(h),(0,o.default)("[parentElmUuid='"+d+"']").addClass("tag-select tag-warning tag-ouline"),(0,o.default)("[parentElmUuid='"+d+"']").attr("name",i.inDimensionUuid),(0,o.default)("[parentElmUuid='"+d+"']").attr("isChecked",!1),(0,o.default)("[parentElmUuid='"+d+"']").attr("dimId",i.inDimensionUuid),(0,o.default)("[parentElmUuid='"+d+"']").attr("dimIdAndName",i.inDimensionUuid+i.dimensionName+a),(0,o.default)("[parentElmUuid='"+d+"']").attr("title",i.dimensionMemo),(0,o.default)("[parentElmUuid='"+d+"']").attr("yesNoTem",!1),(0,o.default)("[parentElmUuid='"+d+"']").attr("custom",i.dimensionName),(0,o.default)("[parentElmUuid='"+d+"']").attr("operation",i.dimensionOperation),(0,o.default)("[parentElmUuid='"+d+"']").attr("level",f),(0,o.default)("[parentElmUuid='"+d+"']").attr("yesNoSplitLevel",p),(0,o.default)("[parentElmUuid='"+d+"']").attr("splitLevelType",m),(0,o.default)("[parentElmUuid='"+d+"']").attr("oldName",g),(0,o.default)("[parentElmUuid='"+d+"']").addClass("tag-select tag-warning tag-ouline"),(0,o.default)("#"+l).attr("name",i.inDimensionUuid),(0,o.default)("#"+l).attr("isChecked",!1),(0,o.default)("#"+l).text(i.dimensionName),(0,o.default)("#"+l).attr("dimId",i.inDimensionUuid),(0,o.default)("#"+l).attr("operation",i.dimensionOperation),(0,o.default)("#"+u).attr("dimId",i.inDimensionUuid),(0,o.default)("#"+u).attr("name",i.dimensionName),(0,o.default)("#"+u).attr("sup",!0),(0,o.default)("#"+u).attr("operation",i.dimensionOperation),(0,o.default)("#"+u).addClass("icon-down"),(0,o.default)("#"+c).attr("dimId",i.inDimensionUuid),(0,o.default)("#"+c).attr("dimName",i.dimensionName),(0,o.default)("#"+c).attr("oldName",g),(0,o.default)("#"+c).attr("newId",a),(0,o.default)("#"+c).attr("level",f),(0,o.default)("#"+c).attr("inMeasureId",e),(0,o.default)("#"+c).attr("analysisDimRegionId",t),(0,o.default)("#"+c).attr("inAnalysisRegionId",n)},initTemDimToFrom:function(e){void 0!=this.dataMap.get(e.id)?(this.dataMap.delete(e.id),this.dataMap.set(e.id,e)):this.dataMap.set(e.id,e);var t=e.analysisRegionId,n=e.dimAnalysisRegionId,i=this.getuuid(),a=n+this.getuuid(),r=this.getuuid(),s='"{0}","{1}","{2}","{3}"'.format(t,e.id,i,"false"),l='"{0}","{1}","{2}"'.format(e.id,i,t),u="<div id='"+i+"'  onclick='dimClickSup(this,\""+t+"\")'><i class='icon-close' onclick='delTemDim("+s+")'></i><i class='icon-edit' onclick='updateTemDim("+l+")'></i><span id='"+a+"'>+</span><i id='"+r+"' onclick='filterBtn(this,\""+t+"\")'></i></div>";(0,o.default)("#"+n).prepend(u);var c="";c=void 0!=e.dimIdAndName?e.dimIdAndName:e.id+e.dimensionName+i,(0,o.default)("#"+i).addClass("tag-select tag-warning tag-ouline"),(0,o.default)("#"+i).attr("name",e.columnName),(0,o.default)("#"+i).attr("isChecked",!1),(0,o.default)("#"+i).attr("dimId",e.id),(0,o.default)("#"+i).attr("dimIdAndName",c),(0,o.default)("#"+i).attr("title",e.dimMemo),(0,o.default)("#"+i).attr("yesNoTem",e.yesNoTem),(0,o.default)("#"+i).attr("custom",e.dimensionName),(0,o.default)("#"+a).attr("name",e.columnName),(0,o.default)("#"+a).attr("isChecked",!1),(0,o.default)("#"+a).text(e.dimensionName),(0,o.default)("#"+a).attr("dimId",e.id),(0,o.default)("#"+r).attr("dimId",e.id),(0,o.default)("#"+r).attr("name",e.dimensionName),(0,o.default)("#"+r).attr("sup",!0),(0,o.default)("#"+r).addClass("icon-down");var d={dimId:e.id,temDimObj:e,dimDivId:i,analysisRegionId:t};this.temDimList.push(d),this.inDimList.push(e.dimensionName)},verTemDimName:function(e,t){var n=!0;return o.default.each(this.analysisList,(function(i,a){a.id==e&&o.default.each(a.objDimList,(function(e,i){i.dimensionName==t&&(n=!1)})),"inAnalysisRegion"==a.id&&o.default.each(a.objDimList,(function(e,i){i.dimensionName==t&&(n=!1)}))})),n},createAnalysisRegion:function(){var e=this.getuuid(),t="inAnalysisRegion"+e,n="dimAnalysisRegion"+e;this.createInAnalysisRegion(t,n),this.createDimAnalysisRegion(t,n),this.addMapping(t,n),this.switchDim(null,n),this.addAnalysisList(t)},createInAnalysisRegion:function(e,t){var n=this.inRegionAndDimRegionMapping.length+1,i="<div class='tags-item-con'   style='cursor:pointer' onclick='switchDim(this,\""+t+"\")'> <div class='tags-item' id='"+e+"'  analysisRegion='"+e+"'><div class='tags-order' id='"+e+"Count' >"+n+"</div><div class='tag-select'><i class='icon-add'>+</i><span style='margin-top: -5px;' onclick='addTempIn(this)' analysisRegion='"+e+"'>新增临时指标</span></div><div title=\"设置阈值\" class='tags-set'>\n<span class='icon iconfont' id='setValue"+e+"' style='color:#aeaeae;' onclick='setValue(\""+e+"\")'>&#xe606;</span>\n</div><div class='tags-del'><i class='icon-del' onclick='delAnalysisRegion(\""+e+"\")'></i></div></div></div>";(0,o.default)("#createAnalysis").before(i)},createDimAnalysisRegion:function(e,t){var n="<div class='tags-item-con' id='"+t+"'><div class='tag-select'><i class='icon-add'>+</i><span style='margin-top: -5px;' onclick='addTempDim(\""+e+"\")'>新增临时维度</span></div></div>";(0,o.default)("#dimAnalysisRegion").append(n)},addMapping:function(e,t){var n={inAnalysisRegionId:e,dimAnalysisRegionId:t};this.inRegionAndDimRegionMapping.push(n)},addAnalysisList:function(e){var t={id:e,objInList:[],objDimList:[],supDimIdList:[],dimDivIdList:[]};this.analysisList.push(t)},switchDim:function(e,t){event.stopPropagation(),o.default.each(this.inRegionAndDimRegionMapping,(function(e,t){(0,o.default)("#"+t.inAnalysisRegionId).parent().removeClass("analysisRegionSelected"),(0,o.default)("#"+t.dimAnalysisRegionId).hide()})),(0,o.default)("#"+t).show(),null!=e&&((0,o.default)(e).removeClass(),(0,o.default)(e).addClass("tags-item-con analysisRegionSelected"))},selectJson:function(){var e=this.contextUrl+"/InCalculationColumn/geeee";o.default.post(e,{},(function(){}),"json")},delAnalysisListDownIn:function(e,t,n,i,a,r,s,l){var u=this;null!=event&&event.stopPropagation();var c=this;if("true"==a&&"false"==r)this.$confirm("该指标为临时指标，若删除将不可恢复，是否继续删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){c.clearAnalysisRegionAppoingArray(t,"supDimIdList"),o.default.ajax({url:c.contextUrl+"/InMeasure/deleteName",method:"POST",cache:!1,dataType:"json",data:{id:n},traditional:!0,async:!1}),o.default.each(u.analysisList,(function(e,n){null!=n&&n.id==t&&o.default.each(n.dimDivIdList,(function(e,t){(0,o.default)("#"+t).remove()}))})),c.clearAnalysisRegionAppoingArray(t,"dimDivIdList"),(0,o.default)("#"+e).remove(),o.default.each(u.analysisList,(function(e,i){null!=i&&i.id==t&&o.default.each(i.objInList,(function(e,t){if(null!=t)return t.inMeasureUuid==n?(i.objInList.splice(e,1),!1):void 0}))})),c.getInIntersectionDim(t),c.updateAnalysisCount()})).catch((function(){}));else{var d=c.clearAnalysisRegionAppoingArray(t,"supDimIdList",s);c.clearAnalysisRegionTemDim(t),o.default.each(this.analysisList,(function(e,n){null!=n&&n.id==t&&o.default.each(n.dimDivIdList,(function(e,t){(0,o.default)("#"+t).remove()}))})),c.clearAnalysisRegionTemDim(t),d=c.clearAnalysisRegionAppoingArray(t,"dimDivIdList",s),(0,o.default)("#"+e).remove(),o.default.each(this.analysisList,(function(e,i){null!=i&&i.id==t&&o.default.each(i.objInList,(function(e,t){if(null!=t)return t.inMeasureUuid==n?(i.objInList.splice(e,1),!1):void 0}))})),"modify"!=s&&c.getInIntersectionDim(t),c.updateAnalysisCount()}if("modify"==s)return l&&l(d),d},plusClick:function(e){event.stopPropagation();var t=(0,o.default)(e).text();if("-"!=t){var n=(0,o.default)(e).attr("dimId"),i=(0,o.default)(e).attr("level"),a=(0,o.default)(e).attr("oldName");""==a&&(a=(0,o.default)(e).attr("dimName"));var r=(0,o.default)(e).attr("newId"),s=(0,o.default)(e).attr("inMeasureId"),l=(0,o.default)(e).attr("analysisDimRegionId"),u=(0,o.default)(e).attr("inAnalysisRegionId"),c=this.getDimColumnType(n);if(-1!=c.indexOf("TIME")||-1!=c.indexOf("DATE")){var d=this.getTimeSplitLeveDimName(a,i),h={inDimensionUuid:n,dimensionName:d.newDimName,dimensionMemo:"这是维度"+a+"所拆分出来的"+d.type+"维度",dimensionTemporary:0,dimensionIsdeletetemp:0,dimensionOperation:3,level:d.level,yesNoSplitLevel:!0,splitLevelType:"time",oldName:a};3==i?this.prependDimShow(s,l,u,h,r,!1,e):this.prependDimShow(s,l,u,h,r,!0,e)}else{d=getUnitySplitLeveDimName(a,i),h={inDimensionUuid:n,dimensionName:d.newDimName,dimensionMemo:"这是维度"+a+"所拆分出来的"+d.type+"维度",dimensionTemporary:0,dimensionIsdeletetemp:0,dimensionOperation:3,level:d.level,yesNoSplitLevel:!0,splitLevelType:"unity",oldName:a};3==i?this.prependDimShow(s,l,u,h,r,!1,e):this.prependDimShow(s,l,u,h,r,!0,e)}(0,o.default)(e).parent().attr("operationLevel","true"),(0,o.default)(e).text("-")}else this.packUpDim(e)},packUpDim:function(e){var t=this,n=(0,o.default)(e).attr("oldName"),i=(0,o.default)("[oldName="+n+"]"),a=parseInt((0,o.default)(e).attr("level")),r=(0,o.default)(e).attr("inanalysisregionid"),s=(0,o.default)(e).attr("analysisdimregionid");o.default.each(i,(function(e,n){var i=parseInt((0,o.default)(n).attr("level")),l=(0,o.default)(n).attr("analysisdimregionid");if(i>a&&s==l){var u=(0,o.default)(n).parent(),c=(0,o.default)(u).attr("name"),d=(0,o.default)(u).attr("custom");t.delAnalysisRegionDim(c,d,r),(0,o.default)(n).parent().remove()}})),(0,o.default)(e).text("+")},getTimeSplitLeveDimName:function(e,t){var n="",i="",a={newDimName:"",type:"",level:0};return 0==t?(t++,i="年",n=i+"_"+e,a.newDimName=n,a.type=i,a.level=t,a):1==t?(t++,i="季度",n=i+"_"+e,a.newDimName=n,a.type=i,a.level=t,a):2==t?(t++,i="月",n=i+"_"+e,a.newDimName=n,a.type=i,a.level=t,a):3==t?(t++,i="日",n=i+"_"+e,a.newDimName=n,a.type=i,a.level=t,a):void 0},getUnitySplitLeveDimName:function(e,t){var n="",i="",a={newDimName:"",type:"",level:0};return 0==t?(t++,i="一级分行",n=i,a.newDimName=n,a.type=i,a.level=t,a):1==t?(t++,i="二级分行",n=i,a.newDimName=n,a.type=i,a.level=t,a):2==t?(t++,i="一级支行",n=i,a.newDimName=n,a.type=i,a.level=t,a):3==t?(t++,i="二级支行",n=i,a.newDimName=n,a.type=i,a.level=t,a):void 0},getDimColumnType:function(e){var t="",n=this.contextUrl+"/indicatrixAnalysis/getDimType";return o.default.ajax({type:"post",url:n,data:{dimId:e},async:!1,dataType:"json",success:function(e){e.resultObj&&(t=e.resultObj.toUpperCase())}}),t},delDer:function(e){var t=this,n=this.contextUrl+"/InMeasure/delDeriveIn";o.default.post(n,{inMeasureUuid:e},(function(e){1==e||t.$message(e)}),"json")},getInIntersectionDim:function(e){var t,n=this,i=this.contextUrl+"/indicatrixAnalysis/getInIntersectionDim",a=[];o.default.each(this.analysisList,(function(n,i){null!=i&&i.id==e&&o.default.each(i.objInList,(function(e,n){void 0==t&&null!=i?t=n:null!=i&&a.push(n)}))})),o.default.post(i,{inObj:JSON.stringify(t),supAnalysisList:JSON.stringify(a)},(function(t){if(null!=t){var i=n.getAnalysisRegionDimId(e);n.nativeInDimSup(n.getuuid(),t,i,e)}else n.dataMap=new Map}),"json")},inTriangle:function(e,t,n,i,a,r,s,l,u,c){this.updateInObj.inId=n,this.updateInObj.analysisRegionId=t,this.updateInObj.group=i,this.updateInObj.yesNoTem=r,this.updateInObj.id=c,this.updateInObj.type=a,s=(0,o.default)("#"+u).text().replace("(","").replace(")",""),this.updateInObj.columnName=s,this.updateInObj.columnNameCN=s,this.showMenu(event.clientX,event.clientY,"inMenu"),event.stopPropagation()},showMenu:function(e,t,n){(0,o.default)("#"+n).show(),t+=document.body.scrollTop,e+=document.body.scrollLeft,(0,o.default)("#"+n).css({top:t+"px",left:e+"px",visibility:"visible",position:"fixed"});var i=this;(0,o.default)("body").bind("mousedown",(function(){i.onBodyMouseDownHideMenu(event,n)}))},onBodyMouseDownHideMenu:function(e,t){e.target.id==t||(0,o.default)(e.target).parents("#"+t).length>0||((0,o.default)("#"+t).hide(),(0,o.default)("#switchHierarchy").hide(),(0,o.default)("#measure").hide())},initMenu:function(){(0,o.default)(".hoverLi").hover((function(){(0,o.default)(this).css("background-color","beige")}),(function(){(0,o.default)(this).css("background-color","white")}))},updateInGroup:function(e){var t=this.updateInObj.inId,n=this.updateInObj.analysisRegionId,i=this.updateInObj.type;if(2==i)return(0,s.Message)("派生指标不能更改聚合方式！"),void(0,o.default)("#inMenu").hide();var a=this.verInMeasureExist(n,t);if(-1!=a.indexOf(e))return(0,s.Message)("您选择的聚合方式在该分析区内已经有同样的指标存在。",{area:["430px"],time:3e4,btn:["知道了"]}),void(0,o.default)("#inMenu").hide();var r=n+t+this.updateInObj.group,l=this;o.default.each(this.analysisList,(function(t,i){null!=i&&i.id==n&&o.default.each(i.objInList,(function(t,n){if(null!=n&&n.updateGroup==r){var i=(0,o.default)("[updategroup='"+r+"']"),a=l.updateGroupDisplay(e,n.measureName);i.find("span").html(a),n.measureGroup=e}}))})),(0,o.default)("#inMenu").hide()},dimClickSup:function(e,t){var n=(0,o.default)(e).attr("isChecked");if("false"==n){(0,o.default)(e).removeClass(),(0,o.default)(e).addClass("tag-select tag-warning"),(0,o.default)(e).attr("isChecked","true");var i={};i.columnName=(0,o.default)(e).attr("name"),i.filterType="",i.values=[],i.id=(0,o.default)(e).attr("dimId"),i.custom=(0,o.default)(e).attr("custom"),i.dimensionName=(0,o.default)(e).attr("custom"),i.filter="",i.filterJson="",i.isCheck=!0,i.dimIdAndName=(0,o.default)(e).attr("dimIdAndName"),i.yesNoTem=(0,o.default)(e).attr("yesNoTem"),i.yesNoSplitLevel=(0,o.default)(e).attr("yesNoSplitLevel"),i.level=(0,o.default)(e).attr("level"),i.splitLevelType=(0,o.default)(e).attr("splitLevelType"),i.operationLevel=(0,o.default)(e).attr("operationLevel"),i.oldName=(0,o.default)(e).attr("oldName"),o.default.each(this.analysisList,(function(e,n){null!=n&&n.id==t&&n.objDimList.push(i)}))}else{(0,o.default)(e).removeClass(),(0,o.default)(e).addClass("tag-select tag-warning tag-ouline"),(0,o.default)(e).attr("isChecked","false");var a=(0,o.default)(e).attr("name"),r=(0,o.default)(e).attr("custom");this.delAnalysisRegionDim(a,r,t)}},delAnalysisRegionDim:function(e,t,n){o.default.each(this.analysisList,(function(i,a){null!=a&&a.id==n&&o.default.each(a.objDimList,(function(n,i){null!=i&&void 0!=i&&i.columnName==e&&i.custom==t&&a.objDimList.splice(n,1)}))}))},getAnalysisRegionDimId:function(e){var t="";return o.default.each(this.inRegionAndDimRegionMapping,(function(n,i){i.inAnalysisRegionId==e&&(t=i.dimAnalysisRegionId)})),t},filterBtn:function(e,t){if(this.dimTriangleClick.analysisRegionId=t,this.dimTriangleClick.inId=event.srcElement.parentElement.id,this.dimTriangleClick.dimName=(0,o.default)(e).attr("name"),this.dimTriangleClick.dimId=(0,o.default)(e).attr("dimId"),this.dimTriangleClick.sup=(0,o.default)(e).attr("sup"),this.dimTriangleClick.operation=(0,o.default)(e).attr("operation"),this.dimTriangleClick.id=(0,o.default)(e).attr("id"),null==this.verDimCheck(t,this.dimTriangleClick.dimId,this.dimTriangleClick.sup,this.dimTriangleClick.inId,this.dimTriangleClick.dimName))return(0,s.Message)("请先选择维度！"),void(0,o.default)("#dimMenu").hide();this.dimFilterBtn(),event.stopPropagation()},dimFilterBtn:function(){var e=this.dimTriangleClick.analysisRegionId,t=this.dimTriangleClick.inId,n=this.dimTriangleClick.dimName,i=this.dimTriangleClick.dimId,a=this.dimTriangleClick.sup;this.nowFilterObj=this.getDimFilterJson(e,i,a,t,n);this.getDimColumnType(i);this.dialogFilterVisible=!0,(0,o.default)("#dimMenu").hide()},inFilter:function(){this.nowFilterObj=this.getInFilterObj(this.updateInObj.analysisRegionId,this.updateInObj.inId),this.inMeasureFilter=!0,(0,o.default)("#inMenu").hide()},getInFilterObj:function(e,t){var n={};return o.default.each(this.analysisList,(function(i,a){null!=a&&a.id==e&&o.default.each(a.objInList,(function(e,i){void 0!=i&&i.inMeasureUuid==t&&(void 0==i.filterJson?n.filterJson="":n.filterJson=i.filterJson,void 0==i.filter?n.filter="":n.filter=i.filter,void 0==i.filterList?n.filterList="":n.filterList=i.filterList)}))})),n},getDimFilterJson:function(e,t,n,i,a){var r={};return o.default.each(this.analysisList,(function(n,i){null!=i&&i.id==e&&o.default.each(i.objDimList,(function(e,n){void 0!=n&&n.id==t&&n.custom==a&&(r.filterJson=n.filterJson,r.filter=n.filter,r.filterList=n.filterList)}))})),r},verDimCheck:function(e,t,n,i,a){var r=null;return o.default.each(this.analysisList,(function(n,i){null!=i&&i.id==e&&o.default.each(i.objDimList,(function(e,n){void 0!=n&&n.id==t&&n.custom==a&&(r=n)}))})),r},dimSetFilter:function(e,t,n,i,a,r,s,l){var u=this;o.default.each(this.analysisList,(function(n,a){null!=a&&a.id==e&&o.default.each(a.objDimList,(function(e,n){if(void 0!=n&&n.id==i&&n.custom==l){if(0!=t.length){var a=u.dimTriangleClick.id;(0,o.default)("#"+a).removeClass("icon-down"),(0,o.default)("#"+a).addClass("icon-filter"),n.filter="("+t+")"}else{a=u.dimTriangleClick.id;(0,o.default)("#"+a).removeClass("icon-filter"),(0,o.default)("#"+a).addClass("icon-down"),n.filter=""}n.filterJson=r,n.filterList=s}}))})),this.queryData()},inSetFilter:function(e,t,n,i,a){var r=this;o.default.each(this.analysisList,(function(s,l){null!=l&&l.id==e&&o.default.each(l.objInList,(function(e,s){if(void 0!=s&&s.inMeasureUuid==n){if(0!=t.length){var l=r.updateInObj.id;(0,o.default)("#"+l).removeClass("icon-down"),(0,o.default)("#"+l).addClass("icon-filter")}else{l=r.updateInObj.id;(0,o.default)("#"+l).removeClass("icon-filter"),(0,o.default)("#"+l).addClass("icon-down")}s.filter=t,s.filterJson=i,s.filterList=a}}))})),this.queryData()},test:function(){(0,h.handleDataManyValue)()},queryData:function(){this.uuidArr=new Array,this.uuidName=new Array,this.dataList=[];var e=this.queryVer();if(0!=e.state){var t=this;o.default.each(this.analysisList,(function(e,n){if(null!=n){var i=0;o.default.each(n.objInList,(function(e,t){null!=t&&i++})),i>1?t.supQuery(n.objInList,n.objDimList,n.id+"data",n.chartConfig):t.bingLieQuery(n.objInList,n.objDimList,n.id+"data",n.chartConfig)}}))}else(0,s.Message)(e.message,{area:["430px"],time:3e4,btn:["知道了"]})},queryAnalysisRegionData:function(e){var t=e+"data";(0,o.default)("[analysisregionid='"+t+"']").html("");var n=this;o.default.each(this.analysisList,(function(i,a){if(null!=a&&a.id==e){var r=0;o.default.each(a.objInList,(function(e,t){null!=t&&r++})),r>1?n.supQuery(a.objInList,a.objDimList,t):n.bingLieQuery(a.objInList,a.objDimList,t)}}))},addRunLog:function(e){var t=analysisUrl+"/pbOperLog/addOperLogRunKpi";o.default.post(t,{kpiName:e},(function(e){}),"json")},queryVer:function(){var e={},t="",n=!1;return o.default.each(this.analysisList,(function(e,n){if(null!=n&&void 0!=n){o.default.each(n.objInList,(function(i,a){if(null!=a){0;var r=0;2==a.measureType&&(o.default.each(n.objDimList,(function(e,t){null!=t&&void 0!=t&&++r})),0==r&&(t+="第{0}个分析区的指标是派生指标，不能没有维度，请选择维度！".format(e+1)))}}));var i=0;o.default.each(n.objDimList,(function(e,t){null!=t&&void 0!=t&&++i})),0==i&&(t+="第{0}个分析区没有维度，请选择维度！".format(e+1))}})),""==t&&(n=!0),e.state=n,e.message=t,e},getAnalysisRegionIn:function(e){var t=0;return o.default.each(this.analysisList,(function(n,i){i.id==e&&o.default.each(i.objInList,(function(e,n){null!=n&&void 0!=n&&t++}))})),t},getAnalysisRegionDerIn:function(e){var t=0;return o.default.each(this.analysisList,(function(n,i){i.id==e&&o.default.each(i.objInList,(function(e,n){null!=n&&void 0!=n&&2==n.measureType&&t++}))})),t},supQuery:function(e,t,n,i){var a=this,r=this.contextUrl+"/indicatrixAnalysis/supAnalysis",l=s.Loading.service({fullscreen:!0}),u=[];o.default.each(e,(function(e,t){if(null!=t){u.push(t);a.updateGroupDisplay(t.measureGroup,t.measureName).replace("(","").replace(")","")}})),o.default.ajax({type:"post",url:r,data:{inMeasures:JSON.stringify(u),listDim:JSON.stringify(t)},async:!0,dataType:"json",success:function(e){a.getuuid();var t="",r=[],s="";if(o.default.each(u,(function(e,n){var i=a.updateGroupDisplay(n.measureGroup,n.measureAlias);i=i.replace("(","").replace(")",""),r.push(i),t=n.measureName,s+=n.measureName+","})),l.close(),1!=e.isError){var c=n.substring(0,n.length-4);a.executeSql(e.executeSQLList,s,c,i)}else{var d={id:n,measureName:t,chartConfig:i,isLoad:!1,loading:!1,icon:"el-icon-close",isError:!0,message:"分析出错，"+e.message};a.dataList.push(d)}},error:function(e){l.close(),a.$message("分析出错，"+e.message,{time:3e4,btn:["知道了"]})}})},bingLieQuery:function(e,t,n,i){var a=this,r=this.contextUrl+"/indicatrixAnalysis/getInData",l=s.Loading.service({fullscreen:!0}),u=null;o.default.each(e,(function(e,t){if(null!=t){u=t;a.updateGroupDisplay(u.measureGroup,u.measureName).replace("(","").replace(")","")}})),o.default.ajax({type:"post",url:r,data:{inMeasure:JSON.stringify(u),listDim:JSON.stringify(t)},async:!0,success:function(e){if(l.close(),1!=e.isError){var t=n.substring(0,n.length-4);a.executeSql(e.executeSQLList,u.measureName,t,i)}else{var r={id:n,measureName:u.measureName,chartConfig:i,isLoad:!1,loading:!1,icon:"el-icon-close",isError:!0,message:"分析出错，"+e.message};a.dataList.push(r)}},error:function(e){if(0==e.state)return l.close(),void a.$message("分析出错，"+e.message,{time:3e4,btn:["知道了"]});l.close()}})},executeSql:function(e,t,n,i){var a={id:n,measureName:t,chartConfig:i,isLoad:!1,loading:!0,icon:"el-icon-loading",isError:!1,isShowTable:!0,isShowChart:!1,btnChartClass:"el-btn-no-color",btnTableClass:"el-btn-color"};this.dataList.push(a);var r=this.contextUrl+"/indicatrixAnalysis/executeSql",s={executeSQLList:e,webSocketUuid:this.currentPageWebSocketUuid+this.currentPageWebSocketBusinessId,measureName:t,analysisRegionId:n};void 0!=i&&(s.chartConfig=i),o.default.ajax({type:"post",url:r,data:{param:JSON.stringify(s)},async:!1,success:function(e){},error:function(e){}})},addPromptList:function(e,t){var n={id:e,prompt:t};this.promptList.push(n)},clearAnalysisRegionAppoingArray:function(e,t,n){if("modify"==n)return this.analysisList[0].supDimIdList;o.default.each(this.analysisList,(function(n,i){i.id==e&&("dimDivIdList"==t&&(i.dimDivIdList=[]),"supDimIdList"==t&&(i.supDimIdList=[]))}))},clearAnalysis:function(){this.oftenAnalysisId="",this.oftenAnalysisName="",this.dataMap=new Map,this.dataList=[],o.default.each(this.inRegionAndDimRegionMapping,(function(e,t){if(0==e){(0,o.default)("#analysisRegion").html(""),(0,o.default)("#dimAnalysisRegion").html("");var n='<div class="tags-item" id="inAnalysisRegion" analysisRegion=\'inAnalysisRegion\'><div class="tags-order" id="inAnalysisRegionCount" >1</div><div class="tag-select"><i class="icon-add">+</i><span style=\'margin-top: -5px;\' onclick="addTempIn(this)" analysisRegion=\'inAnalysisRegion\'>新增临时指标</span></div><div title="设置阈值" class=\'tags-set\'>\n<span class="icon iconfont" id="setValueinAnalysisRegion" style="color:#aeaeae;" onclick="setValue(\'inAnalysisRegion\')">&#xe606;</span>\n</div><div class=\'tags-del\'><i class=\'icon-del\' onclick=\'delAnalysisRegion("inAnalysisRegion")\'></i></div></div>';(0,o.default)("#analysisRegion").append(n);var i="<div class=\"tags-item-con\" id=\"inDimAnalysisRegion\"><div class='tag-sele0ct'><i class='icon-add'>+1</i><span onclick='addTempDim(\"inAnalysisRegion\")'>新增临时维度</span></div></div>";return(0,o.default)("#dimAnalysisRegion").append(i),void(0,o.default)("#dimAnalysisRegion").show()}null!=t&&void 0!=t&&((0,o.default)("#"+t.inAnalysisRegionId).parent().remove(),(0,o.default)("#"+t.dimAnalysisRegionId).remove())})),this.analysisList=[];var e={id:"inAnalysisRegion",objInList:[],objDimList:[],supDimIdList:[],dimDivIdList:[]};this.analysisList.push(e),this.inRegionAndDimRegionMapping=[];var t={inAnalysisRegionId:"inAnalysisRegion",dimAnalysisRegionId:"inDimAnalysisRegion"};this.inRegionAndDimRegionMapping.push(t)},displayAnalisys:function(e){this.analysisList=JSON.parse(e.oftenindicatorsAnalysisobject).analysisList,this.inRegionAndDimRegionMapping=JSON.parse(e.mapping),(0,o.default)("#inRegion").html(e.inRegionStyle),(0,o.default)("#dimAnalysisRegion").html(e.dimRegionStyle)},addDimStyle:function(e,t,n){var i=this;o.default.each(e,(function(e,a){if(null!=a&&void 0!=a){if("true"==a.yesNoTem&&(a.analysisRegionId=t,a.dimAnalysisRegionId=n,i.initTemDimToFrom(a)),"true"==a.yesNoSplitLevel){var r="测试",s=i.getTimeSplitLeveDimName(r,a.level);a.dimId,s.newDimName,s.type,s.level;a.level}1==a.isCheck&&((0,o.default)("[dimidandname='"+a.dimIdAndName+"']").removeClass(),(0,o.default)("[dimidandname='"+a.dimIdAndName+"']").addClass("tag-select tag-warning"),(0,o.default)("[dimidandname='"+a.dimIdAndName+"']").attr("ischecked",!0))}}))},delAnalysisRegion:function(e){var t=this;if(1!=this.inRegionAndDimRegionMapping.length){o.default.each(this.inRegionAndDimRegionMapping,(function(n,i){null!=i&&i.inAnalysisRegionId==e&&((0,o.default)("#"+e).parent().remove(),(0,o.default)("#"+i.dimAnalysisRegionId).remove(),t.inRegionAndDimRegionMapping.splice(n,1))})),o.default.each(this.inRegionAndDimRegionMapping,(function(e,t){null!=t&&(0,o.default)("#"+t.inAnalysisRegionId+"Count").text(e+1)})),o.default.each(this.analysisList,(function(n,i){null!=i&&i.id==e&&t.analysisList.splice(n,1)}));var n=this.inRegionAndDimRegionMapping[0].dimAnalysisRegionId;(0,o.default)("#"+n).show()}else(0,s.Message)("只剩下一个分析区，不允许删除！")},showAppointMenu:function(e){(0,o.default)("#"+e).show()},mouseRemoveHide:function(e){},splitSwitch:function(e){(0,o.default)("#dimMenu").hide();var t=this.dimTriangleClick.analysisRegionId,n=this.dimTriangleClick.dimId,i=this.dimTriangleClick.operation;if(2==i){this.setDimColumnName(t,n,n,!1,0);var a=this.selAnalysisRegionInDim(t),r=JSON.stringify(a.objInList),l=JSON.stringify(a.objDimList);if(0!=e){var u=this.contextUrl+"/indicatrixAnalysis/getSplitSwitchData",c=this;o.default.ajax({type:"post",url:u,data:{inMeasures:r,listDim:l,level:e,splitDimId:n},async:!1,dataType:"json",success:function(i){0!=i.state?(c.setDimColumnName(t,i.resultObj,n,!0,e),c.queryData()):c.$message("分析出错，"+i.message,{time:3e4,btn:["知道了"]})}})}else this.queryData()}else(0,s.Message)("该维度不能进行层级切换！")},setDimColumnName:function(e,t,n,i,a){o.default.each(this.analysisList,(function(r,s){null!=s&&s.id==e&&o.default.each(s.objDimList,(function(e,r){r.id==n&&(r.columnName=t,r.yesNoSwitchlevel=i,r.level=a,r.filter="",r.filterJson="",r.filterList="")}))}))},selAnalysisRegionInDim:function(e){var t={};return o.default.each(this.analysisList,(function(n,i){null!=i&&i.id==e&&(t.objInList=i.objInList,t.objDimList=i.objDimList)})),t},delTemDim:function(e,t,n,i){var a=this;null!=event&&event.stopPropagation(),"false"==i?this.$confirm("该维度为临时维度，若删除将不可恢复，是否继续删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.default.each(a.analysisList,(function(n,i){null!=i&&i.id==e&&o.default.each(i.objDimList,(function(e,n){null!=n&&void 0!=n&&n.id==t&&i.objDimList.splice(e,1)}))})),o.default.each(a.temDimList,(function(e,n){t==n.dimId&&a.inDimList.splice(o.default.inArray(n.temDimObj.dimensionName,a.inDimList),1)})),(0,o.default)("#"+n).remove(),a.dataMap.delete(t)})).catch((function(){})):o.default.each(a.analysisList,(function(i,r){null!=r&&(r.id==e&&o.default.each(r.objDimList,(function(e,n){null!=n&&void 0!=n&&n.id==t&&r.objDimList.splice(e,1)})),"inAnalysisRegion"==r.id&&o.default.each(r.objDimList,(function(e,n){null!=n&&void 0!=n&&n.id==t&&r.objDimList.splice(e,1)})),(0,o.default)("#"+n).remove(),a.dataMap.delete(t))}))},clearAnalysisRegionTemDim:function(e){var t=this;o.default.each(t.analysisList,(function(t,n){null!=n&&n.id==e&&o.default.each(n.objDimList,(function(e,t){null!=t&&void 0!=t&&(1!=t.yesNoTem&&"true"!=t.yesNoTem||n.objDimList.splice(e,1))}))})),o.default.each(t.temDimList,(function(n,i){void 0!=i&&e==i.analysisRegionId&&((0,o.default)("#"+i.dimDivId).remove(),t.temDimList.splice(n,1))}))},updateTemDim:function(e,t,n){var i=this,a=this.getAnalysisRegionInAndDim(n),r=this.contextUrl+"/indicatrixAnalysis/getInRelDimCol";o.default.ajax({type:"post",url:r,data:{objInList:JSON.stringify(a.objInList),supDimIdList:JSON.stringify(a.supDimIdList)},async:!1,dataType:"json",success:function(e){0==e.state&&i.$message(e.message);var t=e.resultObj;sessionStorage.setItem("resultObj",JSON.stringify(t))}}),event.stopPropagation();var s=null;o.default.each(i.temDimList,(function(t,n){e==n.dimId&&(s=n.temDimObj)})),null!=s&&(sessionStorage.setItem("temDimObj",JSON.stringify(s)),i.dialogEdittemdimVisible=!0,this.nowAnalysisRegionId=s.analysisRegionId,this.nowDimAnalysisRegionId=s.dimAnalysisRegionId,this.dimId=s.id,this.dimDivId=t)},saveToSpace:function(e,t){var n="../../content/indicatrixAnalysis/saveData.html?id={0}&name={1}".format(e,t);this.openLayer("300px","230px",n,"保存数据",2)},openLayer:function(e,t,n,i,a){layer.open({type:a,title:i,shadeClose:!1,shade:[0],resize:!1,maxmin:!0,area:[e,t],content:encodeURI(n)})},determineWhetherTIsIncluded:function(e){if(this.number=1,e.indexOf("]+[")>0){var t=e.split("]+[").length-1;this.number=this.number+t}if(e.indexOf("]-[")>0){t=e.split("]+[").length-1;this.number=this.number+t}if(e.indexOf("]*[")>0){t=e.split("]+[").length-1;this.number=this.number+t}if(e.indexOf("]/[")>0){t=e.split("]+[").length-1;this.number=this.number+t}},addTemporaryDataDynamically:function(e){var t=this,n=0;if(t.dataMap.size>0){var i=t.dataMap.size,a=0;t.dataMap.forEach((function(r,s,l){if(a!=i){a+=1;var u=r;t.determineWhetherTIsIncluded(u.columnName),o.default.each(e,(function(e,t){if(u.columnName.indexOf(t.inDimensionUuid)>=0){var i=u.columnName.split(t.inDimensionUuid).length-1;n+=i}})),t.number==n?(t.initTemDimToFrom(u),n=0):(t.dataMap.delete(s),n=0)}}))}},refreshTree:function(){},changeChartType:function(e,t,n){var i=(0,o.default)("#data-select"+e).val();if((0,o.default)(t).hasClass("active")){if(0==n&&!(0,o.default)("#result-type-chart"+e).hasClass("active")||1==n&&!(0,o.default)("#result-type-table"+e).hasClass("active"))return;(0,o.default)(t).removeClass("active")}else(0,o.default)(t).addClass("active");if((0,o.default)("#result-type-table"+e).hasClass("active")&&(0,o.default)("#result-type-chart"+e).hasClass("active"))i="1";else if((0,o.default)("#result-type-table"+e).hasClass("active")&&!(0,o.default)("#result-type-chart"+e).hasClass("active"))i="2";else{if((0,o.default)("#result-type-table"+e).hasClass("active")||!(0,o.default)("#result-type-chart"+e).hasClass("active"))return;i="3"}"1"==i?((0,o.default)("#table-view_"+e).attr("itemobj",e),(0,o.default)("#chartFrameDiv_"+e).attr("itemobj",e)):"2"==i?((0,o.default)("#table-view_"+e).attr("itemobj",e),(0,o.default)("#chartFrameDiv_"+e).attr("itemobj","")):"3"==i&&((0,o.default)("#table-view_"+e).attr("itemobj",""),(0,o.default)("#chartFrameDiv_"+e).attr("itemobj",e)),this.changeBtnType(i,e),(0,o.default)("#data-select"+e).val(i)},changeBtnType:function(e,t){"1"==e?((0,o.default)("#result-type-table"+t).addClass("active"),(0,o.default)("#result-type-chart"+t).addClass("active")):"2"==e?((0,o.default)("#result-type-table"+t).addClass("active"),(0,o.default)("#result-type-chart"+t).removeClass("active")):"3"==e&&((0,o.default)("#result-type-table"+t).removeClass("active"),(0,o.default)("#result-type-chart"+t).addClass("active"))},featuresValue:function(e,t){var n="";o.default.each(this.promptList,(function(t,i){i.id==e&&(n=i.prompt)})),layer.confirm(n,{title:"统计量",btn:["确定"]})},addConstantForm:function(e,t,n){var i="../../content/indicatrixAnalysis/constant.html?uuid={0}&name={1}&promptList={2}".format(e,t,JSON.stringify(n));this.openLayer("360px","280px",i,"新增常量",2)},addConstant:function(e,t,n,i){var a=e+t,r=this.getChartDataConstant(a,n,i),o=this.getChartXYJSONConstant(a,n);if(null!=o){var s=document.getElementById("chartFrame_"+e);s.src="../../lib/chart-editor/index.html",s.onload=function(){s.contentWindow.loadChart(r,o,!1)}}},closeAddderiveinDialog:function(){this.dialogAddderiveinVisible=!1},closeEdittemdimDialog:function(){this.dialogEdittemdimVisible=!1},closeFilterDialog:function(){this.dialogFilterVisible=!1},closeSaveAnalysisDialog:function(){this.dialogsSaveAnalysisVisible=!1},closeInmeasuerFilter:function(){this.inMeasureFilter=!1},getCurrentLogin:function(){return this.currentLoginUser},jump:function(e){this.$refs.mySwiper.swiper.slideTo(e,500,!1)},switchDivStyle:function(e,t){for(var n=0;n<this.dataList.length;n++)this.dataList[n].id==t&&(-1!=e.indexOf("btnTable")?(this.dataList[n].isShowTable=!0,this.dataList[n].isShowChart=!1,this.dataList[n].btnChartClass="el-btn-no-color",this.dataList[n].btnTableClass="el-btn-color"):-1!=e.indexOf("btnChart")&&(this.dataList[n].isShowTable=!1,this.dataList[n].isShowChart=!0,this.dataList[n].btnChartClass="el-btn-color",this.dataList[n].btnTableClass="el-btn-no-color"))},setRowColor:function(e,t){for(var n,i=0;i<this.analysisList.length;i++)this.analysisList[i].id===t&&(n=this.analysisList[i].thresholdValueRelObj);if(n&&1==n.thresholdValue.thresholdValueType)return(0,h.handleDataSingleValue)(e.data,n)},setValue:function(e){var t=this;this.setThreasholdValueObj={},this.setThreasholdValueObj.analysisRegionId=e;for(var n=[],i=0;i<this.analysisList.length;i++)if(this.analysisList[i].id===e){this.setThreasholdValueObj.isDisplay=!1;var a=this.analysisList[i].objInList,r=this.analysisList[i].objDimList;a.forEach((function(e){var i=t.updateGroupDisplay(e.measureGroup,e.measureName).replace("(","").replace(")","");n.push(i)})),r.forEach((function(e){n.push(e.dimensionName)})),this.analysisList[i].thresholdValueRelObj&&(this.setThreasholdValueObj.isDisplay=!0,this.setThreasholdValueObj.thresholdValueRelObj=this.analysisList[i].thresholdValueRelObj)}this.setThreasholdValueObj.columns=n,this.thresholdValueDialog=!0},changeCellColor:function(e,t,n){return n?(0,h.handleDataManyValue)(e,n):e.value},inSetThresholdValue:function(e,t){for(var n=0;n<this.analysisList.length;n++)if(this.analysisList[n].id===t){this.analysisList[n].thresholdValueRelObj=e;break}(0,o.default)("#setValue"+t).css("color","#3D80C4")},clearThresholdValue:function(e){for(var t=0;t<this.analysisList.length;t++)if(this.analysisList[t].id===e){this.analysisList[t].thresholdValueRelObj=void 0;break}(0,o.default)("#setValue"+e).css("color","#aeaeae")},packUpClick:function(){this.tableHeight="height:80%"},openDisplay:function(){this.tableHeight="height:60%"}}};t.default=f},adc6:function(e,t,n){"use strict";n.r(t);var i=n("8324"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ae2a:function(e,t,n){"use strict";var i=n("dbce"),a=n("4ea4");n("8e6e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a481"),n("7f7f"),n("7514");var r=a(n("9523"));n("ac6a"),n("456d"),n("96cf");var o=a(n("c973"));n("47c6");var s=n("8ebc"),l=i(n("0217"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"InputParams",data:function(){return{selectNum:0,selectTreeNum:0,nodeParamInfoArr:[],activeName:[],loading:null}},props:["nodeData","nodeIdArr"],methods:{createParamNodeHtml:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,l,u,d,h,f,p,m,g,v,y,b,A,w,x,C=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=$(this.$refs.inputParamContent).mLoading({text:"正在初始化数据，请稍后……",hasCancel:!1}),t=[],e.next=5,(0,s.findParamsAndModelRelParams)();case 5:if(n=e.sent,null!=n.data){e.next=11;break}return this.$message.error("获取参数信息失败"),e.abrupt("return");case 11:if(!n.data.isError){e.next=16;break}return this.$message.error(n.data.message),e.abrupt("return");case 16:t=n.data.paramList;case 17:i={},a=0;case 19:if(!(a<this.nodeIdArr.length)){e.next=46;break}if(r=this.nodeData[this.nodeIdArr[a]].hasParam,o=this.nodeData[this.nodeIdArr[a]].paramsSetting,!(r&&o&&o.arr&&0!==o.arr.length)){e.next=43;break}l=[],u=o.arr,d=[],h=0;case 27:if(!(h<u.length)){e.next=42;break}f=0;case 29:if(!(f<t.length)){e.next=39;break}if(p=t[f].ammParamUuid,!(p===u[h].moduleParamId&&$.inArray(p,d)<0)){e.next=36;break}return u[h].defaultVal&&(t[f].defaultVal=u[h].defaultVal),l.push(t[f]),d.push(p),e.abrupt("break",39);case 36:f++,e.next=29;break;case 39:h++,e.next=27;break;case 42:l.length>0&&(i[this.nodeIdArr[a]]=l);case 43:a++,e.next=19;break;case 46:m=Object.keys(i),g=0;case 48:if(!(g<m.length)){e.next=77;break}v=m[g],y={curInd:g,nodeId:v,nodeName:"【".concat(this.nodeData[v].nodeInfo.nodeName,"】节点"),paramInfoArr:[]},0===g&&this.activeName.push(g),b=i[m[g]],A=0;case 54:if(!(A<b.length)){e.next=73;break}return w={paramName:b[A].paramName,description:"（参数说明：无）",inputType:b[A].inputType},"undefined"!==typeof b[A].description&&null!=b[A].description&&(w.description="（参数说明："+b[A].description+"）"),e.next=59,this.initParamHtml(b[A],w,this.selectNum,this.selectTreeNum);case 59:if(x=e.sent,"undefined"!==typeof x.selectNum&&(this.selectNum=x.selectNum,w.selectNum=x.selectNum),"undefined"!==typeof x.selectTreeNum&&(this.selectTreeNum=x.selectTreeNum,w.selectTreeNum=x.selectTreeNum),!x.isError){e.next=67;break}return this.$message.error(x.message),e.abrupt("return");case 67:w=c(c({},w),x.setParamObj),w.description+="".concat(w.title);case 69:y.paramInfoArr.push(w);case 70:A++,e.next=54;break;case 73:this.nodeParamInfoArr.push(y);case 74:g++,e.next=48;break;case 77:this.$nextTick((function(){C.initParamInputAndSelect()})),e.next=84;break;case 80:e.prev=80,e.t0=e["catch"](0),this.loading.destroy(),console.info(e.t0);case 84:case"end":return e.stop()}}),e,this,[[0,80]])})));function t(){return e.apply(this,arguments)}return t}(),initParamHtml:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(t,n,i,a){var r,o,u,d,h,f,p,m,g,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r={selectNum:i,selectTreeNum:a,setParamObj:c(c({},{}),n),isError:!1,message:""},o=[],u=[],d=[],h=t.paramChoice.optionsSql,r.setParamObj.title=0===t.paramChoice.allowedNull?"不可为空":"可为空",r.setParamObj.allowedNull=!1,0===t.paramChoice.allowedNull&&(r.setParamObj.allowedNull=!0),f=!1,e.t0=r.setParamObj.inputType,e.next="lineinp"===e.t0?12:"textinp"===e.t0?32:"timeinp"===e.t0?39:"treeinp"===e.t0?41:57;break;case 12:if(h){e.next=16;break}$.each(t.paramChoice.paramOptionsList,(function(e,t){t.optionsVal&&t.optionsName&&o.push({name:t.optionsName,value:t.optionsVal})})),e.next=23;break;case 16:if(""===h){e.next=23;break}if(f=!0,"undefined"===typeof t.defaultVal||null==t.defaultVal){e.next=23;break}return e.next=21,(0,s.executeParamSql)(h);case 21:if(p=e.sent,null==p.data)r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败");else if(p.data.isError)r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败，原因：").concat(p.data.message);else if(m=p.data,m.valueList&&m.valueList.length>0)for(g=0;g<m.valueList.length;g++)o.push({name:m.valueList[g].paramName,value:m.valueList[g].paramValue});case 23:return"undefined"!==typeof r.selectNum&&null!=r.selectNum?(r.selectNum++,r.setParamObj.id="selectParam".concat(r.selectNum)):r.setParamObj.id="selectParam".concat(t.ammParamUuid),r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,r.setParamObj.dataChoiceType=t.paramChoice.choiceType,f&&(r.setParamObj.dataSql=h,r.setParamObj.dataParamArr=u,r.setParamObj.dataAssociatedParamIdArr=d),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal),o.length>0&&(r.setParamObj.data=o),"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),e.abrupt("break",57);case 32:return"undefined"!==typeof t.dataLength&&null!=t.dataLength&&(r.setParamObj.title+=",参数值的长度为".concat(t.dataLength)),r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal),"undefined"!==typeof t.dataLength&&null!=t.dataLength&&(r.setParamObj.dataDataLength=t.dataLength),e.abrupt("break",57);case 39:return"date"===t.dataType&&(r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal)),e.abrupt("break",57);case 41:if(""===h){e.next=48;break}if(f=!0,"undefined"===typeof t.defaultVal||null==t.defaultVal){e.next=48;break}return e.next=46,(0,s.getSelectTreeData)(h);case 46:v=e.sent,null==v.data?(r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败")):v.data.isError?(r.isError=!0,r.message="获取参数【".concat(t.paramName,"】的值的失败，原因：").concat(v.data.message)):o=v.data.result&&v.data.result.length>0?l.organizeSelectTreeData(v.data.result):[];case 48:return"undefined"!==typeof r.selectTreeNum&&null!=r.selectTreeNum?(r.selectTreeNum++,r.setParamObj.id="selectTreeParam".concat(r.selectTreeNum)):r.setParamObj.id="selectTreeParam".concat(t.ammParamUuid),r.setParamObj.dataId=t.ammParamUuid,r.setParamObj.dataName=t.paramName,r.setParamObj.dataChoiceType=t.paramChoice.choiceType,f&&(r.setParamObj.dataSql=h,r.setParamObj.dataParamArr=u,r.setParamObj.dataAssociatedParamIdArr=d),"undefined"!==typeof t.defaultVal&&null!=t.defaultVal&&(r.setParamObj.dataDefaultVal=t.defaultVal),o.length>0&&(r.setParamObj.data=o),"undefined"!==typeof t.paramChoice.allowedNull&&null!=t.paramChoice.allowedNull&&(r.setParamObj.dataAllowedNull=t.paramChoice.allowedNull),e.abrupt("break",57);case 57:return e.abrupt("return",r);case 58:case"end":return e.stop()}}),e)})));function t(t,n,i,a){return e.apply(this,arguments)}return t}(),initParamInputAndSelect:function(){var e=this,t=this,n=this.$refs.selectParam;if(n&&n.length>0)for(var i=function(i){var a=n[i].getAttribute("nodeId"),r=n[i].getAttribute("id"),o=e.nodeParamInfoArr.find((function(e){return e.nodeId===a}));if("undefined"===typeof o)return"continue";var s=o.paramInfoArr.find((function(e){return e.id===r}));if("undefined"===typeof s)return"continue";var l=s.dataChoiceType,u="undefined"!==typeof s.dataSql?s.dataSql:"",c="undefined"!==typeof s.data?s.data:[],d=!1,h={el:"#".concat(r),filterable:!0,filterMethod:function(e,t){return!!(e===t.value||t.name&&t.name.indexOf(e)>-1)},data:c};if("1"===l&&(h.radio=!0,h.clickClose=!0),""!==u){var f="undefined"!==typeof s.dataAssociatedParamIdArr?s.dataAssociatedParamIdArr:[],p="undefined"!==typeof s.dataParamArr?s.dataParamArr:[];h.show=function(){d=t.selectShow($(t.$refs.inputParamContent),"#selectParam",s.selectNum,s,u,p,c,d)},h.hide=function(){if(d&&0===c.length){var e=xmSelect.get("#".concat(r),!0);c=e.options.data,d=!1}$.inArray(s.dataId,f)>-1&&t.selectHide("#selectParam",s.selectNum,f)}}var m=s.dataDefaultVal;"undefined"!==typeof m&&(h.initValue=m),xmSelect.render(h)},a=0;a<n.length;a++)i(a);var r=this.$refs.selectTreeParam;if(r&&r.length>0)for(var o=function(n){var i=r[n].getAttribute("nodeId"),a=r[n].getAttribute("id"),o=e.nodeParamInfoArr.find((function(e){return e.nodeId===i}));if("undefined"===typeof o)return"continue";var s=o.paramInfoArr.find((function(e){return e.id===a}));if("undefined"===typeof s)return"continue";var u=s.dataChoiceType,c="undefined"!==typeof s.dataSql?s.dataSql:"",d="undefined"!==typeof s.data?s.data:[],h=!1,f={el:"#".concat(a),filterable:!0,tree:{show:!0,showFolderIcon:!0,showLine:!0,indent:30,strict:!1},height:"auto",data:d};if(""!==c){var p="undefined"!==typeof s.dataAssociatedParamIdArr?s.dataAssociatedParamIdArr:[],m="undefined"!==typeof s.dataParamArr?s.dataParamArr:[];f.show=function(){h=t.selectShow($(t.$refs.inputParamContent),"#selectTreeParam",s.selectTreeNum,s,c,m,d,h)},f.hide=function(){if(h&&0===d.length){var e=xmSelect.get("#".concat(a),!0);d=e.options.data,h=!1}$.inArray(s.dataId,p)>-1&&t.selectHide("#selectTreeParam",s.selectTreeNum,p)}}var g=s.dataDefaultVal;"undefined"!==typeof g&&(f.initValue=g),"1"===u?(f.radio=!0,f.clickClose=!0):f.on=function(e){var t=e.arr,n=e.change.slice(0,1),i=l.getChildrenData(n[0],[n[0]]);if(e.isAdd){for(var a=0;a<i.length;a++)for(var r=t.length-1;r>=0;r--)if(t[r].value===i[a].value&&t[r].pValue===i[a].pValue){t.splice(r,1);break}var o=l.getSplitDataArr(d),s=l.getParentUnChecked(n[0],[],o,t);i=i.concat(s),t.push.apply(t,i)}else{for(var u=l.getParentChecked(n[0],[],t),c=0;c<u.length;c++)for(var h=t.length-1;h>=0;h--)if(t[h].value===u[c].value&&t[h].pValue===u[c].pValue){t.splice(h,1);break}for(var f=0;f<i.length;f++)for(var p=t.length-1;p>=0;p--)if(t[p].value===i[f].value&&t[p].pValue===i[f].pValue){t.splice(p,1);break}}return t},xmSelect.render(f)},s=0;s<r.length;s++)o(s);this.loading.destroy()},selectShow:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(t,n,i,a,r,o,u,c){var d,h,f,p,m,g,v,y,b,A,w,x,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.loading=$(t).mLoading({text:"参数数据请求中，请稍后……",hasCancel:!1}),e.prev=1,d="",h=null,f=0;case 5:if(!(f<o.length)){e.next=14;break}if(o[f].paramId!==a.dataId){e.next=11;break}if(h=xmSelect.get(n+i,!0),p=h.getValue(),p&&p.length>0)if(m=o[f].associatedParamCol,g="realValue"===o[f].paramValueType?"value":"name","1"===a.dataChoiceType)d+=" and "+m+"='"+p[0][g]+"'";else{for(v="",y=0;y<p.length;y++)v+="'"+p[y][g]+"',";""!==v&&(v=v.substring(0,v.length-1)),d+=" and "+m+" in ("+v+")"}return e.abrupt("break",14);case 11:f++,e.next=5;break;case 14:if(h=xmSelect.get(n+i,!0),b="undefined"!==typeof $(n+i).attr("data-sqlWhereStr")?$(n+i).attr("data-sqlWhereStr"):"",A=null,""===d){e.next=33;break}if(""!==b&&b===d){e.next=32;break}if(r="SELECT * FROM ("+r+") where 1=1"+d,"#selectParam"!==n){e.next=26;break}return e.next=23,(0,s.executeParamSql)(r);case 23:A=e.sent,e.next=29;break;case 26:return e.next=28,(0,s.getSelectTreeData)(r);case 28:A=e.sent;case 29:if(A.data.isError)this.loading.destroy(),this.$message.error("获取参数".concat(a.dataName,"的值的失败，原因：").concat(A.data.message));else{if(w=[],"#selectParam"===n)for(x=0;x<A.data.paramList.length;x++)w.push({name:A.data.paramList[x].paramName,value:A.data.paramList[x].paramValue});else w=l.organizeSelectTreeData(A.data.result);h.update({data:w}),$(n+i).attr("data-sqlWhereStr",d),this.loading.destroy()}e.next=33;break;case 32:this.loading.destroy();case 33:if(""!==d||0!==u.length){e.next=45;break}if(c=!0,"#selectParam"!==n){e.next=41;break}return e.next=38,(0,s.executeParamSql)(r);case 38:A=e.sent,e.next=44;break;case 41:return e.next=43,(0,s.getSelectTreeData)(r);case 43:A=e.sent;case 44:if(A.data.isError)this.loading.destroy(),this.$message.error("获取参数".concat(a.dataName,"的值的失败，原因：").concat(A.data.message));else{if("#selectParam"===n)for(C=0;C<A.data.paramList.length;C++)u.push({name:A.data.paramList[C].paramName,value:A.data.paramList[C].paramValue});else u=l.organizeSelectTreeData(A.data.result);h.update({data:u}),this.loading.destroy()}case 45:""===d&&0!==u.length&&(0!==o.length&&h.update({data:u}),$(n+i).removeAttr("data-sqlWhereStr"),this.loading.destroy()),e.next=53;break;case 48:e.prev=48,e.t0=e["catch"](1),this.loading.destroy(),this.$message.error("程序执行出错，刷新参数数据失败"),console.info(e.t0);case 53:return e.abrupt("return",c);case 54:case"end":return e.stop()}}),e,this,[[1,48]])})));function t(t,n,i,a,r,o,s,l){return e.apply(this,arguments)}return t}(),selectHide:function(e,t,n){var i=xmSelect.get(e+t,!0),a=i.getValue();a&&a.length>0&&i.setValue([])},replaceNodeParam:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,l,u,c,d,h,f,p,m,g,v,y,b,A,w,x,C,k,S,T,N,I,D,P,L,O,M,E,R,j,B,_,V,F,U,q,z,Q,H,G,Y,W,K,J,X,Z,ee,te,ne,ie,ae,re;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t={verify:!0,message:""},n=this.$refs.nodeParam,!(n&&n.length>0)){e.next=63;break}i=0;case 4:if(!(i<n.length)){e.next=63;break}for(a=[],r=0,o=!1,l=n[i].$attrs.index,u=this.nodeParamInfoArr[l].nodeName,c=this.nodeParamInfoArr[l].nodeId,d=this.nodeData[c].paramsSetting,h=d.sql,f=d.arr,p=0;p<f.length;p++)"undefined"!==typeof f[p].value&&delete f[p].value;if(m=this.nodeParamInfoArr[l].paramInfoArr,g=null,v=this.$refs.paramOption,v&&v.length>0)for(y=0;y<v.length;y++)if(b=v[y].$attrs.index,g=m[b],A=g.dataId,w="undefined"!==typeof g.dataAllowedNull?g.dataAllowedNull:"1",x="undefined"!==typeof g.value?g.value:"",C={moduleParamId:A,paramValue:$.trim(x),allowedNull:"0"},1===w){if(C.allowedNull="1",""===x)for(o=!0,k=0;k<f.length;k++)f[k].moduleParamId===A&&(f[k]["value"]="");a.push(C)}else""!==x?a.push(C):r++;if(S=this.$refs.selectParam,S&&S.length>0)for(T=0;T<S.length;T++)if(N=S[T].getAttribute("index"),g=m[N],I=g.dataId,D="undefined"!==typeof g.dataAllowedNull?g.dataAllowedNull:"1",P=g.dataChoiceType,L=xmSelect.get("#selectParam"+g.selectNum,!0),O=L.getValue(),M={moduleParamId:I,paramValue:"",allowedNull:"0"},1===D){if(M.allowedNull="1",0===O.length)for(o=!0,E=0;E<f.length;E++)f[E].moduleParamId===I&&(f[E]["value"]="");else if("1"===P)M.paramValue=O[0].value;else{for(R=0;R<O.length;R++)M.paramValue+="'"+O[R].value+"',";M.paramValue=M.paramValue.substring(0,M.paramValue.length-1)}a.push(M)}else if(0!==O.length){if("1"===P)M.paramValue=O[0].value;else{for(j=0;j<O.length;j++)M.paramValue+="'"+O[j].value+"',";M.paramValue=M.paramValue.substring(0,M.paramValue.length-1)}a.push(M)}else r++;if(B=this.$refs.selectTreeParam,B&&B.length>0)for(_=0;_<B.length;_++)if(V=B[_].getAttribute("index"),g=m[V],F=g.dataId,U="undefined"!==typeof g.dataAllowedNull?g.dataAllowedNull:"1",q=g.dataChoiceType,z=xmSelect.get("#selectTreeParam"+g.selectTreeNum,!0),Q=z.getValue(),H={moduleParamId:F,paramValue:"",allowedNull:"0"},1===U){if(H.allowedNull="1",0===Q.length)for(o=!0,G=0;G<f.length;G++)f[G].moduleParamId===F&&(f[G]["value"]="");else if("1"===q)H.paramValue=Q[0].value;else{for(Y=0;Y<Q.length;Y++)H.paramValue+="'"+Q[Y].value+"',";H.paramValue=H.paramValue.substring(0,H.paramValue.length-1)}a.push(H)}else if(0!==Q.length){if("1"===q)H.paramValue=Q[0].value;else{for(W=0;W<Q.length;W++)H.paramValue+="'"+Q[W].value+"',";H.paramValue=H.paramValue.substring(0,H.paramValue.length-1)}a.push(H)}else r++;if(0===r){e.next=30;break}return t.verify=!1,t.message+=u+"含有未输入值的参数项，请重新输入\n",delete this.nodeData[c].replaceParamSql,e.abrupt("break",63);case 30:K=$(n[i]).find(".textParam").length,J=0;case 32:if(!(J<K)){e.next=45;break}if(X=$(n[i]).find(".textParam:eq("+J+")"),Z=X.attr("index"),g=m[Z],ee=g.dataDatalength,te=g.dataName,"undefined"===typeof ee||g.value.length===parseInt(ee)){e.next=42;break}return t.verify=!1,t.message+=u+"的参数【"+te+"】输入值的长度与设置的长度值【"+parseInt(ee)+"】不相等",e.abrupt("break",45);case 42:J++,e.next=32;break;case 45:if(t.verify){e.next=49;break}return e.abrupt("break",63);case 49:if(!o){e.next=54;break}return e.next=52,(0,s.replaceModelSqlByParams)(h,JSON.stringify(f));case 52:ne=e.sent,null==ne.data||ne.data.isError?(t.verify=!1,t.message=u+"替换空值参数时出错"):h=ne.data.sql;case 54:if(""===h){e.next=59;break}for(ie=0;ie<a.length;ie++)for(ae=a[ie].moduleParamId,re=0;re<f.length;re++)f[re].moduleParamId===ae&&(h=h.replace(f[re].id,a[ie].paramValue));this.nodeData[c].replaceParamSql=h,e.next=60;break;case 59:return e.abrupt("break",63);case 60:i++,e.next=4;break;case 63:return e.abrupt("return",t);case 64:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};t.default=d},ae8f:function(e,t,n){"use strict";n.r(t);var i=n("530b"),a=n("0512");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},ae9f:function(e,t,n){"use strict";var i=n("dbce"),a=n("4ea4");n("8e6e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("9523"));n("7f7f"),n("ac6a"),n("456d");var o=i(n("547e"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("ebfd"),n("7620"),n("e74d"),n("e1db");var u={name:"SettingParams",data:function(){return{activeTabName:"editParam",activeName:"nodeColumn",nodeZtreeObj:null,paramZtreeObj:null,nodeZtreeSetting:null,searchColumnContent:"",nodeZtreeRoot:null,settingLoading:!0,loadText:"正在初始化数据，请稍后……",setParamArr:[],paramDivArr:[],isAdd:0===Object.keys(this.paramsSetting).length,editor:null,cursor:null,arr:this.paramsSetting.arr?this.paramsSetting.arr:[],sql:this.paramsSetting.sql?this.paramsSetting.sql:"",initTreeSuccess:!1,paramIdsdArr:[],isFirstPaste:!0,checkSqlText:"",signArr:[{name:"''",value:"''"},{name:",",value:","},{name:"=",value:"="},{name:"!=",value:"!="},{name:">",value:">"},{name:">=",value:">="},{name:"<",value:"<"},{name:"<=",value:"<="},{name:"(",value:"("},{name:")",value:")"},{name:"与",value:"AND"},{name:"或",value:"OR"},{name:"空值",value:"IS NULL"},{name:"非空",value:"IS NOT NULL"},{name:"匹配",value:"LIKE"},{name:"介于",value:"BETWEEN AND"},{name:"包含",value:"IN"}]}},props:["graph","nodeId","paramsSetting"],mounted:function(){var e=this;o.sendSettingVue(this),this.initSqlEditor(347),this.initSetting(),this.$nextTick((function(){e.$parent.$parent.initNodeSettingVue=!0}))},watch:{searchColumnContent:function(){this.searchColumnZtree()}},methods:{initSqlEditor:function(e){var t=document.getElementById("settingParamsSql");this.editor=o.initSqlEditor(t,e),this.arr.length>0&&(this.editor.setValue(this.sql),o.replaceParam(this.paramsSetting)),o.init(this.nodeId)},initSetting:function(e){"undefined"!==typeof e&&"setParam"!==e.name||o.initSetting()},operatorsFun:function(e){this.editor.replaceRange(e,this.editor.getCursor(),this.editor.getCursor())},getOptMessage:function(){return o.getOptMessage()},getParamsSetting:function(){return o.getParamsSetting()},searchColumnZtree:function(){var e=$.trim(this.searchColumnContent);if(0===e.length)this.nodeZtreeObj=$.fn.zTree.init($("#nodeZtree"),this.nodeZtreeSetting,[this.nodeZtreeRoot]);else{var t=l(l({},{}),this.nodeZtreeRoot),n=[];t.children.forEach((function(t){t.name.indexOf(e)>-1&&n.push(t)})),t.children=n,this.nodeZtreeObj=$.fn.zTree.init($("#nodeZtree"),this.nodeZtreeSetting,[t])}}}};t.default=u},af31:function(e,t,n){"use strict";n.r(t);var i=n("ccbb"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},af61:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAEwAAAAAA/SztAAACSUlEQVQ4EY1UTWgTURCeebvbJC5BWg/+IBQvPRW8qCD2IKQemkBUklh/EKOHgIccRIrX4EE8eBKvgjcxq/Qg9ZJ486JnL0pRtGIxhCxpuqTpbnacl7LN7mYTOrB5733zzbcz8zaD4LNUJncHCe8CAvlgb6sSUXNGFzcNw+h6YHhFP5BK5z/M6JiLCshm7yUtp72FiGsLZ+evVCoVxx/r7YW3kSsi5zbGYrHOIGvOMvPpy9eXY2gQEBxHkni1WrVQiDII8RCQFkqlkhbFV4MgYXtHm13M5F8BUeBllzL5AVUgPCfCddM0I6tRi8VifKPRKSmIDZfvIgbJ311hXhOASvBle6cTR/TNP43t21E+iYmN5naOm7fsgmhKIB43SdFitqJNRT6WZbmSN864Apzmy6jV16p1IOSS1dl+b+e93etFPmaXrkuxTg9OZbM3joaFQz0EOBx3fhnG2zNhov+8mM7fchz3tIP2ecYf+H2Bxvsdk/YoaBUUpU9AyTBvJENJKBQKiZZF7wBoLhwgz67sIro6/+qpdO4irwPj9tWCgkj88SK0unCfxZY8YuQqqXs2zFLA65GStwAS/A2ueOyDrpxdCxL4LChI+NPpQpEFjx1UaMjDp3XDaAdKFpr6xLXtz/vFDNkTdzww/k4fgheSFMjQ7fcvs9jxidERTiR47E2ogSBPEFwql2Pkuo8i+BMhzm79wrn5/ekjhIBvfLOl3R+bNY48OTF61EkssOKfjYOJkbq6PKfu9kf+RqPxQcSZUv59XH3z3Y/+B/jq2PjLjqakAAAAAElFTkSuQmCC"},af91:function(e,t,n){"use strict";n.r(t);var i=n("1244"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},afac:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-edit-2",use:"icon-icon-edit-2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-edit-2"><defs><style type="text/css"></style></defs><path d="M592.1 318.4L317.3 593.1c-8 8-8 20.9 0 28.9l86.8 86.8c8 8 20.9 8 28.9 0L707.8 434c8-8 8-20.9 0-28.9L621 318.4c-8-8-20.9-8-28.9 0z m101.2-72.3l86.8 86.8c8 8 8 20.9 0 28.9l-28.9 28.9c-8 8-20.9 8-28.9 0l-86.8-86.8c-8-8-8-20.9 0-28.9l28.9-28.9c8-8 20.9-8 28.9 0zM304.6 629.2l92.4 92.4c5.4 5.4 3.2 14.5-4 16.9l-139.6 47.2c-8 2.7-15.7-4.9-13-13l47.2-139.6c2.5-7.1 11.6-9.3 17-3.9z" p-id="2127" /><path d="M928 928.1H98v-830h830v830zM863.2 163H162.8v700.3h700.3V163z" p-id="2128" /></symbol>'});o.a.add(s);t["default"]=s},afaf:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("20d6"),n("5df3"),n("1c4c");var a=i(n("9523"));n("7514");var r=i(n("1fc4"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"OutputColumnSetting",components:{CustomizeColumn:r.default},data:function(){return{nodeData:null,columnsInfoPre:this.$parent.$parent.$parent.columnsInfoPre,items:[],isIndeterminate:!0,checkAll:!1,isAllDisabled:!1,isDisabled:!1,helpDialogVisible:!1,customizeColumnDialogVisible:!1,curColumnInfo:null,customizeColumnType:"",customizeColumnTitle:""}},mounted:function(){this.init()},methods:{init:function(){var e=this.$parent.$parent.$parent.graph;this.nodeData=e.nodeData[e.curCell.id],this.initConfig()},initConfig:function(){this.createTrFacture();for(var e=0,t=0;t<this.items.length;t++)if(!this.items[t].checked){this.checkAll=!1,e++;break}0===e&&(this.checkAll=!0),"delRepeat"!==this.nodeData.nodeInfo.optType&&"union"!==this.nodeData.nodeInfo.optType||(this.isAllDisabled=!0,this.isDisabled=!0)},re_checkbox:function(e,t){for(var n=0,i=0;i<this.items.length;i++)this.items[i].checked=!1;for(var a=0;a<this.items.length;a++){var r=this.items[a].nodeId,o=this.items[a].nullNodeId;if(e&&e.length>0)for(var s=0;s<e.length;s++)if(t){if(e[s].value===this.items[a].curColumnName&&e[s].nodeId===r&&e[s].nullNodeId===o){this.items[a].checked=!0,n++;break}}else if(e[s]===this.items[a].curColumnName){this.items[a].checked=!0,n++;break}}n===this.items.length?this.checkAll=!0:this.checkAll&&(this.checkAll=!1)},createTrFacture:function(){for(var e=this,t=this.nodeData.isSet,n=t?this.nodeData.columnsInfo:this.columnsInfoPre,i=0;i<n.length;i++){var a=t?n[i].columnName:n[i].newColumnName,r=n[i].nodeId,o=n[i].nullNodeId,s=n[i].resourceTableName,l=n[i],u=n[i].rtn,c=!1,d=i,h=n[i].newColumnName;t&&1===n[i].isOutputColumn&&(c=!0),this.items.push({id:d,curColumnName:a,nodeId:r,nullNodeId:o,columnInfo:l,rtn:u,disColumnName:h,checked:c,resourceTableName:s})}this.$nextTick((function(){$(e.$refs.outPutTable.$refs.bodyWrapper.children[0].children[1]).sortable().disableSelection()}))},get_column:function(){var e=this,t=[],n=this.$refs.outPutTable.$refs.bodyWrapper.children[0].children[1].children;"undefined"!==typeof n&&n.length>0&&$.each(n,(function(){var n=parseInt($(this).find("td:eq(0)>div>div").html())-1,i=e.items[n].checked,a=s(s({},{}),e.items[n].columnInfo),r=e.items[n].curColumnName;a.isOutputColumn=i?1:0,a.newColumnName=e.items[n].disColumnName,a.columnName=r,a.rtn=e.items[n].rtn,a.nodeId=e.items[n].nodeId,t.push(a)})),this.nodeData.columnsInfo=t},handleCheckAllChange:function(e){Array.from(this.items,(function(t){return t.checked=e}))},checkBoxChange:function(){for(var e=0,t=0;t<this.items.length;t++)this.items[t].checked&&e++;this.items.length===e?this.checkAll=!0:this.checkAll=!1},vilidata_simple:function(){var e=this,t=this.items.findIndex((function(e){return!0===e.checked}));if(t<0)return this.$message({type:"warning",message:"请选择输出字段"}),!1;for(var n=[],i=!0,a="",r=0;r<this.items.length;r++){if(this.items[r].checked){var o=function(){var t=e.items[r].disColumnName;if(""===$.trim(t))return i=!1,a="第".concat(r+1,"行的输出字段的内容不能为空值，请修改"),"break";if(getStrBytes(t)>30)return i=!1,a="第".concat(r+1,"行的输出字段超过30个字符的长度限制，请修改"),"break";if(!verifyReg(t))return i=!1,a="第".concat(r+1,"行的输出字段中含有特殊字符或以数字开头，请修改"),"break";var o=n.findIndex((function(e){return e.disColumnName===t}));return o>-1&&n[o].checked?(i=!1,a="第".concat(o+1,"行与第").concat(r+1,"行的输出字段重复，请修改"),"break"):void 0}();if("break"===o)break}n.push({checked:this.items[r].checked,disColumnName:this.items[r].disColumnName})}return i||this.$message({type:"warning",message:a}),i},outputVerify:function(){return this.vilidata_simple()},customizeColumn:function(e,t){if(this.customizeColumnType=e,"1"===e)this.customizeColumnTitle="自定义字段",this.curColumnInfo=null;else{if(("delRepeat"===this.nodeData.nodeInfo.optType||"union"===this.nodeData.nodeInfo.optType)&&"customizeColumn"!==t.nodeId)return void this.$message({type:"warning",message:"当前字段信息不可被修改"});this.customizeColumnTitle="修改设置",this.curColumnInfo=t}this.customizeColumnDialogVisible=!0},customizeColumnBack:function(){var e=this,t=this.$refs.customizeColumn.saveInfo();if(!t.isError){this.customizeColumnDialogVisible=!1;var n=t.columnInfo.columnName,i="",a="",r="",o=t.columnInfo,s="",l=!0,u=null,c=t.columnInfo.newColumnName;if("1"===this.customizeColumnType)i="customizeColumn",a="customizeColumn",r="customizeColumnTempTable",u=this.items.length+1,s="自定义字段",this.items.push({id:u,curColumnName:n,nodeId:i,nullNodeId:a,columnInfo:o,rtn:s,disColumnName:c,checked:l,resourceTableName:r});else{u=this.curColumnInfo.id,i=this.curColumnInfo.nodeId,a=this.curColumnInfo.nullNodeId,s=this.curColumnInfo.rtn,r=this.curColumnInfo.resourceTableName;var d=this.items.findIndex((function(t){return t.id===e.curColumnInfo.id}));d>-1&&(this.items.splice(d,1),this.items.splice(d,1,{id:u,curColumnName:n,nodeId:i,nullNodeId:a,columnInfo:o,rtn:s,disColumnName:c,checked:l,resourceTableName:r}))}}}}};t.default=l},afdd:function(e,t,n){"use strict";n("8a21")},b065:function(e,t,n){},b0cc:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEqADAAQAAAABAAAAEgAAAACaqbJVAAAB00lEQVQ4EZ1UwU7CQBDdaQnxpH4BQkw8+wfCvWC9mHjUiFcTf0D8Au9ihDsHK3CnvXvQDzCRk1fPht3xzZaF0tQoNmn37fTNdGbebEkVXA/N5qFm7hHR8+bGRnA8GHwV0FZM1G21Osrz4nYUxRbLa2NO8NyzTKI7RfSR5fjMk7PRKLHv548SnK7nOM7gJYf5QjErzxiG0XIABOcCLV1UezymzHYtWLJs5vqirN/cjSlkuEAHSP+gkPFHo5fnwdD5T4k2EBoTQ5WbfNB19jYQe17SHg47eUfMUV+VSg2xC/aJ6nJzudzPc9Me5a3zPTG/n8t8BYESfDYeJ90wrGNMalhrWTfX7FQ1KGKIGlCQQF7BC6fZbLLAGeACLVUT9ZyCWeycUKqvNWvfp+y6KA09uML9Zox5cj6FKzLCWHeU1g3DGHljEpzLaxsIAaLz0eh2Xn+hvzPKeIAfY51CJJwdbyrHx5U2FSI2LyyqEG39lJn0EIHekck+MmNPaxJbKj/RUS8Mt0+j6FNONTLelcDy9fxwQj34Ly8EqUpPXUaVmdav90HwiIHZATcUalZB5yozZ8th5C0cparyLg0kiLmCT11ilV16FamG3470xJYo2RElQv4GuPf5JC1p5jsAAAAASUVORK5CYII="},b0ef:function(e,t,n){e.exports=n.p+"static/img/guanxi.162a8450.png"},b1af:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("c5f6");var a=i(n("82a7")),r=i(n("ae8f")),o={components:{QueryBuilderChildren:r.default},props:{ruleTypes:Object,type:{type:String,default:"query-builder-group"},query:Object,rules:Array,index:Number,maxDepth:Number,depth:Number,labels:Object},data:function(){return{selectedRule:this.rules[0]}},methods:{ruleById:function(e){var t=null;return this.rules.forEach((function(n){if(n.id===e)return t=n,!1})),t},addRule:function(){var e=(0,a.default)(this.query),t={type:"query-builder-rule",query:{rule:this.selectedRule.id,operator:this.selectedRule.operators[0],operand:"undefined"===typeof this.selectedRule.operands?this.selectedRule.label:this.selectedRule.operands[0],value:null}};"multi-select"===this.ruleById(t.query.rule).type&&(t.query.value=[]),e.children.push(t),this.$emit("update:query",e)},addGroup:function(){var e=(0,a.default)(this.query);this.depth<this.maxDepth&&(e.children.push({type:"query-builder-group",query:{logicalOperator:this.labels.matchTypes[0].id,children:[]}}),this.$emit("update:query",e))},remove:function(){this.$emit("child-deletion-requested",this.index)},removeChild:function(e){var t=(0,a.default)(this.query);t.children.splice(e,1),this.$emit("update:query",t)}}};t.default=o},b1e7:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("28a5"),n("7f7f"),n("ac6a");var a=i(n("e5aa")),r=n("c24f"),o=n("914d"),s={components:{wangeditor:a.default},data:function(){return{applications:[],menugroup:[],moremenugroup:[],defaultProps:{children:"children",label:"label",checkStrictly:!0,disabled:this.ifFather},richText:"",activeName:"1",refreshRichText:!0,helpDocumentUuid:"",loading:!1,canSave:!0}},computed:{},created:function(){},mounted:function(){var e=this;(0,r.getUserRes)().then((function(t){t.data.application.forEach((function(t,n){e.applications.push({name:t.name,id:t.id})})),t.data.menugroup.forEach((function(t){var n=[];t.menuList.forEach((function(t){n.push({label:t.name,id:t.id,path:e.getCleanSrc(t.src)})})),e.menugroup[t.appuuid]||(e.menugroup[t.appuuid]=[]),e.menugroup[t.appuuid].push({label:t.name,path:t.navurl,children:n})})),e.moremenugroup=e.menugroup})).catch((function(e){console.error(e)}))},watch:{richText:function(){var e=this;this.refreshRichText=!1,this.$nextTick((function(){e.refreshRichText=!0}))}},methods:{getCleanSrc:function(e){return-1!==e.indexOf("&resUUID")?e=e.split("&resUUID")[0]:-1!==e.indexOf("?resUUID")&&(e=e.split("?resUUID")[0]),e},saveNew:function(){this.$refs.wangeditor.displayIn()},retrieveData:function(e){var t=this,n=[];n.push({menuId:this.$refs.tree.getCheckedNodes()[0].id,menuName:this.$refs.tree.getCheckedNodes()[0].label,menuPath:this.$refs.tree.getCheckedNodes()[0].path,helpDocument:e,helpDocumentUuid:this.helpDocumentUuid}),(0,o.updateHelpDocument)(n[0]).then((function(e){0===e.code&&t.$notify({title:"提示",message:"保存成功",type:"success",duration:2e3,position:"bottom-right"})}))},handleCheckChange:function(e,t,n){var i=this;t?(this.canSave=!1,this.loading=!0,this.$refs.tree.setCheckedNodes([e]),(0,o.getByMenuId)(e.id).then((function(t){if(0===t.code&&null!==t.data)console.log(t.data),i.richText=t.data.helpDocument,i.helpDocumentUuid=t.data.helpDocumentUuid,i.loading=!1;else if(0===t.code&&null===t.data){var n=[];n.push({menuId:i.$refs.tree.getCheckedNodes()[0].id,menuName:i.$refs.tree.getCheckedNodes()[0].label,menuPath:i.$refs.tree.getCheckedNodes()[0].path,helpDocument:""}),(0,o.saveHelpDocument)(n[0]),(0,o.getByMenuId)(e.id).then((function(e){i.helpDocumentUuid=e.data.helpDocumentUuid,i.loading=!1}))}}))):this.canSave=!0},ifFather:function(e){return!!e.children}}};t.default=s},b1f3:function(e,t,n){},b1fc:function(e,t,n){"use strict";var i=n("4ea4");n("6762"),n("2fdb");var a=i(n("a026")),r=i(n("4360")),o=n("61f7"),s=i(n("83d6")),l=s.default.errorLog;function u(){var e="production";return(0,o.isString)(l)?e===l:!!(0,o.isArray)(l)&&l.includes(e)}u()&&(a.default.config.errorHandler=function(e,t,n,i){a.default.nextTick((function(){r.default.dispatch("errorLog/addErrorLog",{err:e,vm:t,info:n,url:window.location.href}),console.error(e,n)}))})},b200:function(e,t,n){"use strict";n("0142")},b20e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAGQAAAABY85deAAABWklEQVRIDWNgIAH8//+fB4i7gJidBG3EKwUazAXEB4EYBLYAMRvxuolQCTSQA4h3AzEyWAfksBChnbASoEFsQLwN2XQk9gogm5mwKXhUAA1gAeINSIZiYy4CCjLhMQa3FFAjMxCvwmYqFrHZQDFG3KZhkQFqYALixVgMwyc0BYtR2IWApjAC8Vx8puGR68VuKpoo0IBpeAwhRqoNzUhULtCEfmJMIUJNParJUB5QYwcRmklRUo5iEVBnIym6SVBbALIIFMkhQLoRaqs0kOaHsimh3gM1Pwfi/0BchGIQ0MIlcFfevLP8v2doOBh3TMyGiyMzfKMe/vcM+w/Gm3ccQ5KajGwweTkV2QQi2KOWEBFICCWjwYUICyJYdAku3HW0sKACQ266Htih4iIiWB1sYnCX4d2HB2A5JQVRrGrQBYE5FpHjkbIvGUyUHI/ukytAi/egW04G/wayHgBgQ/k5N+HsXwAAAABJRU5ErkJggg=="},b20f8:function(e,t,n){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},b253:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6b54");var a=i(n("1157")),r={name:"commonlyAnalysisList",data:function(){return{tableData:[],loading:!1}},created:function(){this.loading=!0;var e=this,t=this.contextUrl+"/InOftenindicators/getCommonlyAnalysisListByUserUuid";a.default.post(t,"",(function(t){1==t.isError&&e.$message({type:"info",message:t.message}),e.tableData=t.result,e.loading=!1}),"json")},methods:{dateFormatter:function(e,t){var n=e.createTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds();1==r.toString().length&&(r="0"+r),1==o.toString().length&&(o="0"+o),1==s.toString().length&&(s="0"+s),1==l.toString().length&&(l="0"+l),1==u.toString().length&&(u="0"+u);var c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}},getSelectOption:function(){return this.$refs.table.selection}}};t.default=r},b2ad:function(e,t,n){},b31b:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("20d6");var a=i(n("e858")),r=n("64dc"),o=n("d908"),s=n("7346"),l=n("8788"),u={components:{MyElTree:a.default},data:function(){return{treeData1:[],tableKey:"sceneUuid",tableKeyFilter:"sceneUuid",list:null,listFilter:null,props:{label:"label",isLeaf:"leaf"},total:0,totalFilter:0,listLoading:!1,listLoadingFilter:!1,tree1Loading:!1,bizJson:[],pageQuery:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},pageQueryFilter:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},temp:{sceneUuid:void 0,sceneName:"",sceneCode:"",describtion:""},tempGrp:{sceneGrpUuid:void 0,grpName:"",grpCode:"",grpSql:""},tempFilter:{sceneGrpUuid:void 0,inValueSql:"",describtion:"",bizAttrUuid:""},selections:[],selectionsFilter:[],dialogFormVisible:!1,dialogFormVisibleFilter:!1,dialogFormVisibleTree:!1,dialogStatus:"",dialogStatusFilter:"",textMap:{update:"修改用户组定义",create:"新增用户组定义"},textMapFilter:{update:"修改数据筛选器",create:"新增数据筛选器"},rules:{sceneName:[{required:!0,message:"请填写场景名称",trigger:"change"}],sceneCode:[{required:!0,message:"请填写场景编码",trigger:"change"}]},rulesGrp:{grpName:[{required:!0,message:"请填写组名称",trigger:"change"}],grpCode:[{required:!0,message:"请填写组编号",trigger:"change"}],grpSql:[{required:!0,message:"请填写组SQL",trigger:"change"}]},rulesFilter:{filterName:[{required:!0,message:"请填写筛选器名称",trigger:"change"}],inValueSql:[{required:!0,message:"请填写IN值SQL",trigger:"change"}],describtion:[{required:!0,message:"请填写描述",trigger:"change"}],bizAttrUuid:[{required:!0,message:"请选择业务属性",trigger:"change"}]},downloadLoading:!1}},created:function(){this.allList()},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},allList:function(){this.temp.sceneUuid=this.$route.query.sceneUuid,this.temp.sceneName=this.$route.query.sceneName,this.temp.sceneCode=this.$route.query.sceneCode,this.getList(),this.getListFilter()},selectFilterOne:function(e){var t=this;this.dialogFormVisibleTree=!0,(0,r.initSceneTree)(e).then((function(e){t.treeData1=e.data}))},getList:function(){var e=this;this.listLoading=!0,this.pageQuery.condition=this.temp,(0,s.listByPageGrp)(this.pageQuery).then((function(t){e.total=t.data.total,e.list=t.data.records,e.listLoading=!1}))},getListFilter:function(){var e=this;this.listLoadingFilter=!0,this.pageQueryFilter.condition=this.temp,(0,l.listByPageFilter)(this.pageQueryFilter).then((function(t){e.totalFilter=t.data.total,e.listFilter=t.data.records,e.listLoadingFilter=!1}))},formatCreateTime:function(e,t){var n=new Date(e.createTime),i=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();return i},selectGrpOne:function(){},deleteGrp:function(e){var t=this;this.$confirm("确定删除场景?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){(0,s.delGrp)(e).then((function(){t.getList(),t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},deleteFilter:function(e){var t=this;this.$confirm("确定删除数据筛选器?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){(0,l.delFilter)(e).then((function(){t.getListFilter(),t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},sortChangeFilter:function(e){var t=e.prop,n=e.order;this.pageQueryFilter.sortBy=n,this.pageQueryFilter.sortName=t,this.handleFilter()},resetTemp:function(){this.tempGrp={sceneGrpUuid:void 0,grpName:"",grpCode:"",grpSql:""}},resetTempFilter:function(){this.tempFilter={sceneFilterUuid:void 0,bizAttrUuid:"",filterName:"",inValueSql:"",describtion:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataFormGrp"].clearValidate()}))},handleCreateFilter:function(){var e=this;(0,o.listByPage)(this.pageQueryFilter).then((function(t){e.bizJson=t.data.records})),this.resetTempFilter(),this.dialogStatusFilter="create",this.dialogFormVisibleFilter=!0,this.$nextTick((function(){e.$refs["dataFormFilter"].clearValidate()}))},createData:function(){var e=this;this.tempGrp.sceneUuid=this.$route.query.sceneUuid,this.$refs["dataFormGrp"].validate((function(t){t&&(0,s.saveGrp)(e.tempGrp).then((function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},createDataFilter:function(){var e=this;this.tempFilter.sceneUuid=this.$route.query.sceneUuid,this.$refs["dataFormFilter"].validate((function(t){t&&(0,l.saveFilter)(e.tempFilter).then((function(){e.getListFilter(),e.dialogFormVisibleFilter=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},updateGrp:function(e){var t=this;(0,s.getById)(e).then((function(e){t.tempGrp=Object.assign({},e.data)})),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataFormGrp"].clearValidate()}))},updateFilter:function(e){var t=this;(0,l.getByIdFilter)(e).then((function(e){t.tempFilter=Object.assign({},e.data)})),(0,o.listByPage)(this.pageQueryFilter).then((function(e){t.bizJson=e.data.records})),this.dialogStatusFilter="update",this.dialogFormVisibleFilter=!0,this.$nextTick((function(){t.$refs["dataFormFilter"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataFormGrp"].validate((function(t){if(t){var n=Object.assign({},e.tempGrp);(0,s.updateGrp)(n).then((function(){var t=e.list.findIndex((function(t){return t.sceneGrpUuid===e.tempGrp.sceneGrpUuid}));e.list.splice(t,1,e.tempGrp),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},updateDataFilter:function(){var e=this;this.$refs["dataFormFilter"].validate((function(t){if(t){var n=Object.assign({},e.tempFilter);console.log(n),(0,l.updateFilter)(n).then((function(){var t=e.listFilter.findIndex((function(t){return t.sceneFilterUuid===e.tempFilter.sceneFilterUuid}));e.listFilter.splice(t,1,e.tempFilter),e.dialogFormVisibleFilter=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},saveScene:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var n=Object.assign({},e.temp);(0,r.update)(n).then((function(){e.closeEdit(),e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},closeEdit:function(){this.$router.push({path:"/data/scene"})},handleSelectionChange:function(e){this.selections=e},handleSelectionChangeFilter:function(e){this.selectionsFilter=e},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"}}};t.default=u},b32d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getGraphList}})],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"graphListTable",attrs:{height:"500",data:e.dataList,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"图形名称",align:"left",prop:"graphName","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.detail(t.row.graphUuid)}}},[e._v(" "+e._s(t.row.graphName)+" ")])]}}])}),n("el-table-column",{attrs:{label:"图形类型",align:"center",prop:"graphType",formatter:e.graphTypeFormatter}}),n("el-table-column",{attrs:{label:"创建人",align:"center",prop:"createUserName"}}),n("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",formatter:e.dateFormatter}}),n("el-table-column",{attrs:{label:"修改人",align:"center",prop:"updateUserName"}}),n("el-table-column",{attrs:{label:"修改时间",align:"center",prop:"updateTime",formatter:e.dateFormatter}}),n("el-table-column",{attrs:{label:"执行状态",align:"center",prop:"executeStatus",formatter:e.stasusFormatter}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getGraphList}}),e.initPreviewGraph?n("el-dialog",{attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.initPreviewGraph,title:"图形详情信息",width:"600px"},on:{"update:visible":function(t){e.initPreviewGraph=t}}},[n("PreviewGraph",{attrs:{"graph-uuid":e.graphUuid}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.initPreviewGraph=!1}}},[e._v("关闭")])],1)],1):e._e()],1)},a=[]},b361:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("dbce")),r={path:"/graphtool",name:"图形化工具",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b574"))}))},meta:{},children:[{path:"graphlist/index",name:"图形列表",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("0a35"))}))}},{path:"/graphtool/tooldic",name:"图形化工具",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("c5a9"))}))}}]},o=r;t.default=o},b373:function(e,t,n){},b390:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("46fe")),r={components:{indicatorAnalysis:a.default}};t.default=r},b3a5:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-add-1",use:"icon-icon-add-1-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-add-1"><defs><style type="text/css"></style></defs><path d="M928.1 928.2H98v-830h830.1v830z m-104.8-415c0-24.6-19.9-44.5-44.5-44.5H556.5V246.4c0-24.6-19.9-44.5-44.5-44.5s-44.5 19.9-44.5 44.5v222.3H245.2c-24.6 0-44.5 19.9-44.5 44.5s19.9 44.5 44.5 44.5h222.3V780c0 24.6 19.9 44.5 44.5 44.5s44.5-19.9 44.5-44.5V557.7h222.3c24.6 0 44.5-20 44.5-44.5z" p-id="4314" /></symbol>'});o.a.add(s);t["default"]=s},b3b5:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-user",use:"icon-user-usage",viewBox:"0 0 130 130",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130 130" id="icon-user"><path d="M63.444 64.996c20.633 0 37.359-14.308 37.359-31.953 0-17.649-16.726-31.952-37.359-31.952-20.631 0-37.36 14.303-37.358 31.952 0 17.645 16.727 31.953 37.359 31.953zM80.57 75.65H49.434c-26.652 0-48.26 18.477-48.26 41.27v2.664c0 9.316 21.608 9.325 48.26 9.325H80.57c26.649 0 48.256-.344 48.256-9.325v-2.663c0-22.794-21.605-41.271-48.256-41.271z" stroke="#979797" /></symbol>'});o.a.add(s);t["default"]=s},b467:function(e,t,n){"use strict";n.r(t);var i=n("14b4"),a=n("cf45");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("5372");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"da847ffc",null);t["default"]=s.exports},b488:function(e,t,n){"use strict";n.r(t);var i=n("87bf"),a=n("cae2");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("dadf");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"b78da6f6",null);t["default"]=s.exports},b4eb:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523")),r=n("8ebc");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"PreviewGraph",props:["graphUuid"],data:function(){return{formData:{graphName:"",graphType:"",executeStatus:"",createUserName:"",createTime:"",updateUserName:"",updateTime:"",description:""}}},created:function(){var e=this;(0,r.getGraphInfoById)(this.graphUuid).then((function(t){t.data?(t.data.createTime=e.dateFormatter(t.data.createTime),t.data.updateTime=e.dateFormatter(t.data.updateTime),e.formData=s(s({},e.formData),t.data)):e.$message.error("加载图形详情信息失败")}))},methods:{dateFormatter:function(e){var t="";if(e&&e.trim().length>0){var n=new Date(e),i=n.getFullYear(),a=this.convertData(n.getMonth()+1),r=this.convertData(n.getDate()),o=this.convertData(n.getHours()),s=this.convertData(n.getMinutes()),l=this.convertData(n.getSeconds());t=i+"-"+a+"-"+r+" "+o+":"+s+":"+l}return t},convertData:function(e){return e<10&&(e="0".concat(e)),e}}};t.default=l},b506c:function(e,t,n){},b574:function(e,t,n){"use strict";n.r(t);var i=n("6275"),a=n("2411");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("0ef3");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"1d9fa155",null);t["default"]=s.exports},b5ba:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAA5ElEQVQ4T8XUoQoCQRCA4f+eQgy+gE+hD2AUkwaTRQwmDYJFixgsYhDkBBWzVbTaBIPZ5DMIgjKwC8dydzK46LXdu/12dmb2Ajw/gWePv4N5IAvsk06mjbAP9IA2MI5DteAA6BhoCdRcVAuOTHTWuQAl4GYnBDxEdik642gA8m4CNGOOKuhO5gV8RT6wGxScRUdAwCnQSChIFxhqwTlQT+ndtRYMgWoKuNKCG6CSALYkx9qibIGyA55NXk+2KJrr7IIzt0jaPrTgw0CLbxtbwIzBrj6uXg54AndfP4eP+dbm8PfgG43bLWB7U+kMAAAAAElFTkSuQmCC"},b5ca:function(e,t,n){},b5e7:function(e,t,n){"use strict";n.r(t);var i=n("2b43"),a=n("1e7d");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("92a8");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"5726db27",null);t["default"]=s.exports},b666:function(e,t,n){e.exports=n.p+"static/img/yuzhi.dd8f1f01.png"},b690:function(e,t,n){"use strict";n.r(t);var i=n("3808"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},b6a6:function(e,t,n){},b6a8:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-close-3",use:"icon-icon-close-3-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-close-3"><defs><style type="text/css"></style></defs><path d="M98 98.2v830h830v-830H98zM733.9 670c17.5 17.5 17.5 45.8 0 63.3s-45.8 17.5-63.3 0L512.3 575 354 733.3c-17.5 17.5-45.8 17.5-63.3 0s-17.5-45.8 0-63.3L449 511.7 290.7 353.5c-17.5-17.5-17.5-45.8 0-63.3s45.8-17.5 63.3 0l158.3 158.3 158.3-158.3c17.5-17.5 45.8-17.5 63.3 0s17.5 45.8 0 63.3L575.6 511.7 733.9 670z" p-id="3440" /></symbol>'});o.a.add(s);t["default"]=s},b6d5:function(e,t,n){"use strict";n("d3a0")},b6d7:function(e,t,n){"use strict";n.r(t);var i=n("ea34"),a=n("6b33");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},b775:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("bc3a")),r=n("5c96"),o=i(n("4360")),s=n("5f87"),l=a.default.create({baseURL:"/r1",timeout:12e4});l.interceptors.request.use((function(e){return o.default.getters.token&&(e.headers["X-Token"]=(0,s.getToken)()),e}),(function(e){return console.log(e),Promise.reject(e)})),l.interceptors.response.use((function(e){var t=e.data;return 0!==t.code&&2e4!==t.code?((0,r.Message)({message:t.message||"Error",type:"error",duration:5e3}),2012===t.code&&r.MessageBox.confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){o.default.dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.msg||t||"Error"))):t}),(function(e){return console.log("err"+e),(0,r.Message)({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var u=l;t.default=u},b7a5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},b7b8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIEAYAAAD9yHLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAACG1JREFUeNrt3U2oVHUfwPFzbheDNLtC9KIEUWYRbQKrRfYe0cJVtQjShb2tgra1ye6uEgIhhN7gEr0QhBC4iSLMohbVLgspDQW9VIuyF82w+T+L3x0e7kOP5M+Z+z8z8/ls/pxB5Hfnzsx3zjkz57YNnELplV7prVvXtE3btLfeGrdee22s11wT65o1TWlKUy64IP7d8uW15+ZUTpyI9YcfYj18OH5/X30V219+Gb/HPXvatm3b9ptvak9MN7W1B6AbSimllMsvj62HH471vvtiXbu29nzU9N13se7cGaF5+eV2qp1qp/q3M6kEZELFnsX69fFOc3Y2br377linpmrPR5f1ehGS996L7a1bIyiff157MpaWgEyI2MNYsya2tm+P9Z57Ym09DjgDpcS6c2esjz8eh74OH649GcPlneaYi3A8+GBs7d0b6733xiocDEL/cdR/XO3dG4+7LVtqT8ZweQEZM3Fo6uyzY+uFF+IQVf+cBtTw+uuxPvpo7JkcP157IgZDQMZEhGPlygjGrl1x60031Z4L/uvjj+PcycaNcc7k119rT8SZEZARF4cKZmbiifn++xGQ9etrzwX/X/9k+113xR7JL7/Unogc50BGVOxxLFsW4XjnHeFgdFx3Xazvvrv4kCujRkBGVdu0TfvSS7HecUftceD03XxzrDt21J6EHIewRky8Y9u8OcLx2mu154HBeeCBOKT15pu1J+HfEZARsfh7HF9/HevKlbXngsE5ejTWq6+OkBw5UnsiTs0hrJGybVuswsE4Ou+8WJ95pvYk/Dv2QDouDlndcEMcsvrss7jVFwAZZ6XEh0Ouvz4+7vvFF7Un4p/ZA+m6tmmb9sknFzaEgwnQtvG4f+KJ2pNwal6QOir2PNaujSfSvn1xq4scMkn+/jvWK6+McyL799eeiMW8IHVV27RNu3lzbAgHk+iss2LdtKn2JPwzeyAdFZ+6+vbb2PL3OJhk+/bFHshVV9WehMUEpGMW/2Enf7AHmqZp4qT6pZfGSfWDB2uPQ3BopJNuuaX2BNA9nhddIyCd5JpWsEjbtE3bv4YWXSEgXVOa0pR162qPAd1zxRW1J2AxAematmmbtn8OBGiaZuGNlQ+TdI2AdFL/kg5A0zQLb6xmZmqPwWLTtQfgnyxfXnuCbvnzz1g//DDWPXviHen8fLyw/PhjbJ88WXvS09P/nsOFF8bPccklsb1hQ6y33x7rsmW1J+2Gc8+tPQGL+Rhvx5QFteeoa34+gjA7G9tvvBEf3/z999qTLZV4FKxaFVubNsX98dRTEZrzz689Xy3tgtpzQCeVidTrxaVbnnsutu2B/a+4X2ZmYt2xo/ZvrJbavwcWU/KOmawnysmT8c76scdiD+PFF2tPNCoiuI88Ensk/b/oNz32h6TtgXSLX0THTFZA7r8/Xg7efrv2JKMqHi0PPRRbr7xSe55hE5Bu8SksKti+XTgGI+7HV1+Nrbm52vMwWZS8Y8Z7D+Tgwf4XJeOQ1V9/1Z5oXMSj5pxzYqt/2fOLLqo916DZA+kWeyAsoW3bhGM44mX12LEI9PPP156HyaDkHTOeeyBHj8Z68cXxQnf8eO2JxlWcXF+xIk6uz8/HrStW1J5rUOyBdIs9EJbAnj3CsTQWf1/m009rz8N4ExCWwEcf1Z5gMu3eXXsCxpuAsAS+/772BJPJ3xBnuASEJXDsWO0JJtMff9SegPEmICyBEydqTzCZhJvhEhCWwLh9qmxUuN8ZLgEBIEVAAEgREABSBASAlHY8L51Bt+zaFeuRI7UnmSyrV8e6cWPtSQamNKUpBw7UHoMgIACkOIQFQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAMERzcy1VxP0/O1v7EcB4ExAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIma49AGSUXumV3oYNTdu0TXvjjbXnOf0foClNeeutdqqdaqcOHao9DmS0pZRSymWX1R6EMVOa0pTffosXyJ9+Gvh/X0op5emnY2vr1to/bs5tt8W1c3fvHvT/HPfPqlWx1V9hsKbjAXzgQO1BgMGJ5/XPP8dWf4XBcg4EgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgJRplzJhKIZ8KRNOj+c5w7BwMcX9+2sPwphpm7Zp5+ZiY8uW2uPQNJ7nDJpDWACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQMp07QEgpTSlKZ98EtfcevbZ2uPkHDpUewI4EwLCSIqr/H7wQWz1V2ApOYQFQIqAAJAiIACkCAgAKQICQIqAAJAiIACkCAgAKQICQIqAAJAiIACkuBYWQ7R6demVXundeWftSYDBa8uC2oMAMFocwgIgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEgRUAASBEQAFIEBIAUAQEg5T+dKySLt0L0AAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0xMi0xNFQxMDozNjozNSswODowMF4oKxoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMTItMTRUMTA6MzY6MzUrMDg6MDAvdZOmAAAASnRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl80NHdrNDFwOHlzL2J1c2luZXNzLnN2Z0cKa7AAAAAASUVORK5CYII="},b7d6:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("ea27")),r=i(n("5386")),o=i(n("5d74")),s=i(n("38f8")),l=i(n("d608")),u=i(n("bd1d")),c=i(n("ef14")),d=i(n("9f17")),h=i(n("3883")),f=i(n("c65a")),p={name:"NodeSetting",components:{Basic:a.default,OutputColumn:r.default,FilterSet:o.default,ColumnSortSet:s.default,DataSampleDrawnSet:l.default,HierarchyDataSet:u.default,DistinctColumnSet:c.default,FrequencyAnalysisSet:d.default,TranscodeSet:h.default,UnionDataSet:f.default},props:["optType","graph"],data:function(){return{activeTabName:"conditionSet",columnsInfoPre:[]}},methods:{saveGraphNodeSetting:function(){this.$refs.outputColumnVueRef.get_column(),this.$refs.basicVueRef.save_base(),this.$refs.conditionSet.saveSetting(),this.graph.nodeData[this.graph.curCell.id].isSet=!0}}};t.default=p},b829:function(e,t,n){"use strict";n.r(t);var i=n("c816");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var r,o,s=n("0c7c"),l=Object(s["a"])(i["default"],r,o,!1,null,null,null);t["default"]=l.exports},b832:function(e,t,n){"use strict";n.r(t);var i=n("c5a4"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},b88b:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("437c")),r=i(n("77d9")),o={components:{directory:a.default,auditmodel:r.default},props:["dataUserId","sceneCode","tabShow"],data:function(){return{tabShowName:"",folderName:"项目模型"}},watch:{tabShowName:{handler:function(e,t){this.$emit("update:tab-show",e)},deep:!0}},created:function(){this.tabShowName=this.tabShow},methods:{}};t.default=o},b8ad:function(e,t,n){"use strict";n.r(t);var i=n("3eec"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},b8dd:function(e,t,n){"use strict";n.r(t);var i=n("ddc0"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},b8f5:function(e,t,n){"use strict";n.r(t);var i=n("4d4d"),a=n("03ff");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("1467");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"1a8a8a97",null);t["default"]=s.exports},b90e:function(e,t,n){"use strict";n.r(t);var i=n("50df"),a=n("ce6e");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("b6d5");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},b96b:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6b54");var a=i(n("c164")),r=i(n("333d")),o=n("abfa"),s=i(n("9ce44")),l={name:"Thresholdvaluelist",components:{QueryField:a.default,Pagination:r.default,EditThresholdValue:s.default},data:function(){return{tableKey:"errorUuid",list:null,total:0,listLoading:!1,dialogFormVisibleEdit:!1,activeNames:["1","2"],editModelShow:!1,publicModelValue:"publicModel",selectTreeNode:null,editorModelLoading:!1,isUpdate:!1,btnState:{addBtnState:!1,editBtnState:!0,deleteBtnState:!0,previewBtn:!0,otherBtn:!0},queryFields:[{label:"阈值名称",name:"thresholdValueName",type:"fuzzyText",value:""},{label:"阈值类型",name:"thresholdValueType",type:"select",data:[{name:"单值",value:1},{name:"多值",value:2}],default:"-1"}],operationObj:{},formStyle:{width:"700px",height:"400px"},temp:{thresholdValueUuid:"",thresholdValueName:"",thresholdValueType:"",thresholdValueMemo:""},pageQuery:{condition:null,pageNo:1,pageSize:20},editThresholdValueTitle:""}},computed:{},created:function(){},mounted:function(){},methods:{dateFormatter:function(e,t){var n=e.createTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds();1==r.toString().length&&(r="0"+r),1==o.toString().length&&(o="0"+o),1==s.toString().length&&(s="0"+s),1==l.toString().length&&(l="0"+l),1==u.toString().length&&(u="0"+u);var c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}},threshTypeFormatter:function(e,t){return 1===e.thresholdValueType?"单值":2===e.thresholdValueType?"多值":void 0},getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e,null!=this.selectTreeNode&&(e.thresholdValueFolderUuid=this.selectTreeNode.id)),(0,o.findThresholdValueList)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},setSelectTreeNode:function(e){this.selectTreeNode=e},resetQuery:function(){this.query={condition:{opIp:"",moduleName:"",opOperate:"",opInfo:"",endTime:"",opTime:"",opUserName:""}}},thresholdvalueTableSelectEvent:function(e,t){var n=this.$refs.modelListTable.selection;1==n.length?(this.btnState.otherBtn=!1,this.btnState.deleteBtnState=!1,this.btnState.addBtnState=!1,this.btnState.editBtnState=!1):n.length>1?(this.btnState.otherBtn=!1,this.btnState.deleteBtnState=!1,this.btnState.addBtnState=!1,this.btnState.editBtnState=!0,this.btnState.previewBtn=!0,this.isShowShoppingCart=!0):0==n.length&&(this.btnState.otherBtn=!0,this.btnState.deleteBtnState=!0,this.btnState.addBtnState=!1,this.btnState.editBtnState=!0)},addThreshValue:function(){if(this.editThresholdValueTitle="添加阈值",this.isUpdate=!1,this.operationObj={operationType:1,folderId:null,folderName:null},null!=this.selectTreeNode){if(0==this.selectTreeNode.pid||null==this.selectTreeNode.pid)return void this.$message({type:"info",message:"不允许建立在根目录"});this.operationObj={operationType:1,folderId:this.selectTreeNode.id,folderName:this.selectTreeNode.label}}this.dialogFormVisibleEdit=!0},updateThresholdValue:function(){var e=this;this.isUpdate=!0;var t=this.$refs.modelListTable.selection;0!=t.length?t.length>1?this.$message({type:"info",message:"只能选择一个阈值!"}):(this.editThresholdValueTitle="修改阈值",this.$emit("loadingSet",!0,"正在获取阈值信息..."),(0,o.findThresholdValueById)(t[0].thresholdValueUuid).then((function(t){e.$emit("loadingSet",!1,""),0==t.code?(e.operationObj={operationType:2,thresholdValue:t.data,folderId:"",folderName:""},e.dialogFormVisibleEdit=!0):e.$message({type:"error",message:"修改失败"})})).catch((function(t){e.$emit("loadingSet",!1,"")}))):this.$message({type:"info",message:"最少选择一个阈值!"})},deleteThresholdValue:function(){var e=this,t=this.$refs.modelListTable.selection;void 0!=t&&0!==t.length?this.$confirm("此操作将永久删除该阈值, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,o.batchThresholdValueDel)(t).then((function(t){0==t.code?(e.getList(e.query),e.$emit("refreshTree"),e.$notify({title:"提示",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})):e.$message({type:"error",message:"删除失败"})}))})):this.$message({type:"info",message:"请先选择要删除的阈值!"})},publicThresholdValue:function(e){if(null!=this.selectTreeNode&&-1==this.selectTreeNode.path.indexOf("gonggong")){this.publicModelValue=e;var t=this.$refs.modelListTable.selection;void 0!=t&&0!==t.length?this.treeSelectShow=!0:this.$message({type:"info",message:"请先选择要发布的阈值!"})}else this.$message({type:"info",message:"只能发布非公共阈值下的阈值"})},cancelThresholdValue:function(){if(null!=this.selectTreeNode&&-1!=this.selectTreeNode.path.indexOf("gonggong")){var e=this.$refs.modelListTable.selection;void 0!=e&&0!==e.length?this.$confirm("是否确定将选中的阈值撤销发布?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){})):this.$message({type:"info",message:"请先选择要撤销发布的阈值!"})}else this.$message({type:"info",message:"只能撤销公共阈值下的阈值"})},updatePublicModel:function(){var e=this;this.$confirm("是否确定将选中的模型发布到公共模型下?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t=e.$refs.modelFolderTree.getSelectNode(),n=e.$refs.modelListTable.selection,i=0;i<n.length;i++)n[i].modelFolderUuid=t.id;e.updateModelBasicInfo(n,"发布")}))},updateModelBasicInfo:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this;updateModelBasicInfo(e).then((function(e){0==e.code?(n.treeSelectShow=!1,n.$notify({title:"提示",message:t+"成功",type:"success",duration:2e3,position:"bottom-right"}),n.getList(n.query),n.$emit("refreshTree")):n.$message({type:"error",message:t+"失败"})}))})),getSaveObj:function(){var e=this,t=this.$refs.EditThresholdValue.getSaveObj();t&&(this.isUpdate?(0,o.updateThresholdValue)(t).then((function(t){t.data?(e.dialogFormVisibleEdit=!1,e.getList(e.query),e.$emit("refreshTree")):e.$message({type:"error",message:"阈值修改失败"})})):(0,o.addThresholdValue)(t).then((function(t){t.data?(e.dialogFormVisibleEdit=!1,e.getList(e.query),e.$emit("refreshTree")):e.$message({type:"error",message:"阈值添加失败"})})))}}};t.default=l},ba0e:function(e,t,n){"use strict";n.r(t);var i=n("0de2"),a=n("68de");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("c073");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"5a203a47",null);t["default"]=s.exports},ba91:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary",size:"mini"},on:{click:e.handleCreate}}),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",size:"mini",disabled:1!==e.selections.length},on:{click:e.handleUpdate}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",size:"mini",disabled:0===e.selections.length},on:{click:e.handleDelete}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"tb",staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"规则名称",prop:"ruleName"}}),n("el-table-column",{attrs:{label:"转码方式",align:"center",prop:"ruleType",formatter:e.formatTag}}),n("el-table-column",{attrs:{label:"规则描述",prop:"ruleDesc"}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),e.dialogFormVisible?n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"dataForm",staticStyle:{width:"700px"},attrs:{rules:e.rules,model:e.temp,"label-position":"right","label-width":"120px"}},[n("el-form-item",{attrs:{label:"规则名称",prop:"ruleName"}},[n("el-input",{model:{value:e.temp.ruleName,callback:function(t){e.$set(e.temp,"ruleName",t)},expression:"temp.ruleName"}})],1),n("el-form-item",{attrs:{label:"规则描述",prop:"ruleDesc"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.temp.ruleDesc,callback:function(t){e.$set(e.temp,"ruleDesc",t)},expression:"temp.ruleDesc"}})],1),n("el-form-item",{attrs:{label:"转码方式",prop:"ruleType"}},[n("el-radio",{attrs:{label:1},model:{value:e.temp.ruleType,callback:function(t){e.$set(e.temp,"ruleType",t)},expression:"temp.ruleType"}},[e._v("SQL语句")]),n("el-radio",{attrs:{label:2},model:{value:e.temp.ruleType,callback:function(t){e.$set(e.temp,"ruleType",t)},expression:"temp.ruleType"}},[e._v("手动输入")])],1),1===e.temp.ruleType?n("el-form-item",{attrs:{label:"转码规则",prop:"sqlContent",placeholder:"请输入SQL"}},[1===e.temp.ruleType?n("el-link",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.exSql()}}},[e._v("执行SQL")]):e._e(),n("el-input",{attrs:{type:"textarea"},model:{value:e.temp.sqlContent,callback:function(t){e.$set(e.temp,"sqlContent",t)},expression:"temp.sqlContent"}})],1):e._e(),1===e.temp.ruleType?n("el-table",{attrs:{data:e.sqlRule}},[n("el-table-column",{attrs:{prop:"codeValue",label:"真实值"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{ref:"codeValue",attrs:{placeholder:"请选择真实值"},model:{value:t.row.codeValue,callback:function(n){e.$set(t.row,"codeValue",n)},expression:"scope.row.codeValue"}},e._l(e.colsJson,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:e}})})),1)]}}],null,!1,3604839134)}),n("el-table-column",{attrs:{prop:"transValue",label:"显示值"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{ref:"transValue",attrs:{placeholder:"请选择显示值"},model:{value:t.row.transValue,callback:function(n){e.$set(t.row,"transValue",n)},expression:"scope.row.transValue"}},e._l(e.colsJson,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:e}})})),1)]}}],null,!1,2596986203)})],1):e._e(),e.previewVisible?n("el-dialog",{attrs:{visible:e.previewVisible,width:"800px"},on:{"update:visible":function(t){e.previewVisible=t}}},[n("el-row",[n("el-col",[n("childTabs",{ref:"childTabs",attrs:{"pre-value":e.executeSQLList,"use-type":"previewTable"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.previewVisible=!1}}},[e._v("关闭")])],1)],1):e._e()],1),2===e.temp.ruleType?n("el-upload",{staticClass:"upload",attrs:{"show-file-list":!1,action:"",multiple:!1,"http-request":e.beforeUpload,accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}},[n("el-link",{attrs:{size:"mini",type:"primary"}},[e._v("导入")]),n("span",{staticStyle:{"font-size":"2px",color:"red"}},[e._v("(请选择xls或者xlsx格式,导入第一列为真实值,第二列为转码值)")])],1):e._e(),2===e.temp.ruleType?n("el-table",{attrs:{data:e.transColRelsData,height:"200"}},[n("el-table-column",{attrs:{prop:"codeValue",label:"真实值","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["0"!=t.row.start||void 0==t.row.start?n("el-input",{staticStyle:{width:"90%"},model:{value:t.row.codeValue,callback:function(n){e.$set(t.row,"codeValue",n)},expression:"scope.row.codeValue"}}):e._e(),"0"==t.row.start?n("el-input",{staticStyle:{width:"90%"},model:{value:e.tableInput.transColRels.codeValue,callback:function(t){e.$set(e.tableInput.transColRels,"codeValue",t)},expression:"tableInput.transColRels.codeValue"}}):e._e()]}}],null,!1,2416462696)}),n("el-table-column",{attrs:{prop:"transValue",label:"转码值","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["0"!=t.row.start||void 0==t.row.start?n("el-input",{staticStyle:{width:"90%"},model:{value:t.row.transValue,callback:function(n){e.$set(t.row,"transValue",n)},expression:"scope.row.transValue"}}):e._e(),"0"==t.row.start?n("el-input",{staticStyle:{width:"90%"},model:{value:e.tableInput.transColRels.transValue,callback:function(t){e.$set(e.tableInput.transColRels,"transValue",t)},expression:"tableInput.transColRels.transValue"}}):e._e()]}}],null,!1,1569976136)}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"!=t.row.start||void 0==t.row.start?n("el-link",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.lineDelete(t.$index,"transColRels")}}},[e._v(" 删除 ")]):e._e(),"0"==t.row.start?n("el-link",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.lineAdd(t.$index,"transColRels")}}},[e._v(" 添加 ")]):e._e()]}}],null,!1,710096322)})],1):e._e(),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("保存")])],1)],1):e._e()],1)},a=[]},bb7c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow?i("div",{staticClass:"alert",class:["{}"===JSON.stringify(e.styleClass)&&"flex a-center j-center"]},[i("div",{ref:"contentDom",staticClass:"content flex a-center j-start flex-row",class:["{}"!==JSON.stringify(e.styleClass)&&"absolute"],style:{background:e.styleBg}},[i("img",{staticClass:"img",attrs:{src:e.imgUrl}}),i("div",{staticClass:"name flex1"},[e._v(e._s(e.msg))]),i("div",{staticClass:"close flex a-center j-center",on:{click:e.close}},[i("img",{staticClass:"close-img",attrs:{src:n("78ec")}})])])]):e._e()},a=[]},bbb5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"appContainerDiv",staticClass:"app-container",style:e.appContainerDivStyle},[n("el-input",{staticClass:"tree-search",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("MyElTree",{ref:"tree",attrs:{data:e.data,props:e.defaultProps,"filter-node-method":e.filterNode,"default-expand-all":"","expand-on-click-node":!1,"node-key":"id","check-strictly":"","show-checkbox":"editorModel"===this.publicModel||"relationModel"===this.publicModel||"publicModel"===this.publicModel},on:{"node-click":e.handleNodeClick,"check-change":e.handleNodeClick1},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[n("i",{class:a.icon}),e._v(e._s(i.label)+" ")]),"folder"!=a.type||"warning"==e.power||e.isBussinessType?e._e():n("span",[n("el-button",{staticClass:"tree-line-btn",attrs:{title:"添加模型分类",type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.setSelectTreeNode(i,a,1)}()}}},[n("svg-icon",{attrs:{"icon-class":"icon-add-1"}})],1),n("el-button",{staticClass:"tree-line-btn",attrs:{title:"修改模型分类",type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.setSelectTreeNode(i,a,2)}()}}},[n("svg-icon",{attrs:{"icon-class":"icon-edit-1"}})],1),n("el-button",{staticClass:"tree-line-btn",attrs:{title:"删除模型分类",type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.deleteFolder(i,a)}()}}},[n("svg-icon",{attrs:{"icon-class":"icon-delete-1"}})],1)],1)])}}])}),e.dialogFormVisible?n("el-dialog",{attrs:{title:"请填写分类信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{attrs:{model:e.form}},[n("el-form-item",{attrs:{label:"分类名称"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.modelFolderName,callback:function(t){e.$set(e.form,"modelFolderName",t)},expression:"form.modelFolderName"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(){return e.enterBtn()}}},[e._v("确 定")])],1)],1):e._e()],1)},a=[]},bc0f:function(e,t,n){"use strict";n("7a44")},bc43:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"inputParamContent",staticStyle:{height:"400px","overflow-y":"auto"}},[n("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.nodeParamInfoArr,(function(t,i){return n("el-collapse-item",{key:t.nodeId,ref:"nodeParam",refInFor:!0,attrs:{title:t.nodeName,name:t.curInd,index:i}},[n("div",{staticStyle:{"min-height":"290px","overflow-y":"auto"}},e._l(t.paramInfoArr,(function(i,a){return n("el-row",{key:a},[n("el-col",{staticStyle:{"line-height":"36px","padding-right":"10px","text-align":"right"},attrs:{span:7}},[n("el-tooltip",{attrs:{content:i.description,placement:"bottom"}},[n("label",[e._v(e._s(i.paramName))])])],1),n("el-col",{attrs:{span:15}},["lineinp"===i.inputType?n("div",{ref:"selectParam",refInFor:!0,staticClass:"xm-select-demo",attrs:{index:a,id:i.id,title:i.title,nodeId:t.nodeId}}):e._e(),"textinp"===i.inputType?n("el-input",{ref:"paramOption",refInFor:!0,staticClass:"textParam",attrs:{index:a,title:i.title},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"paramInfo.value"}}):e._e(),"timeinp"===i.inputType?n("el-date-picker",{ref:"paramOption",refInFor:!0,staticStyle:{width:"100%"},attrs:{index:a,title:i.title,type:"date",placeholder:"选择日期"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"paramInfo.value"}}):e._e(),"treeinp"===i.inputType?n("div",{ref:"selectTreeParam",refInFor:!0,staticClass:"xm-select-demo",attrs:{index:a,id:i.id,title:i.title,nodeId:t.nodeId}}):e._e()],1),n("el-col",{directives:[{name:"show",rawName:"v-show",value:i.allowedNull,expression:"paramInfo.allowedNull"}],attrs:{span:2}},[n("div",{staticStyle:{color:"red",display:"inline-block","font-weight":"bold","font-size":"20px"}},[e._v("*")])])],1)})),1)])})),1)],1)},a=[]},bc48:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:e.myId+"1"}},[n("div",{attrs:{id:e.myId+"collapse"}},[n("div",{staticStyle:{padding:"10px 0"},attrs:{id:e.myId}})])])},a=[]},bc61:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUFCMEM3N0MzMTREMTFFQjg5NDlBMjg2NUNBMzRFQkYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUFCMEM3N0QzMTREMTFFQjg5NDlBMjg2NUNBMzRFQkYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozRUJFRDZGRjMxNDkxMUVCODk0OUEyODY1Q0EzNEVCRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozRUJFRDcwMDMxNDkxMUVCODk0OUEyODY1Q0EzNEVCRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg26ykkAAAEnSURBVHjapNO9SgNBFIbhWY3/RixMJQFBRCy8B8F7sLO0sAmoELAQjIV2kiKKleUi3oOW9oJF0EJULEMKMWj8fQ98uxyQhcUMPOzJhP1m5uxuFMfxT/j/iPpCj6PngIKuy7pe5KiDm0sDLt0feeo/O/CNzKrfMIR3nGLL92AEM6onMJd0GXV8o4FFHGINZb8DS39Q/SI2xrCOI2zjA/t4VPBGEjCPV9WTmFJtuxpEBQM6QgfXmk+PYA16Ut3GneobdLGKcRQVsqT5NGBa503OHbn5YzWtooAq9nDie5A1ZrGphawHu1r5DLU8b+KVdmMho+jHMFbw7HfQdTf5+jMjuKSncW4BC+pw0GPy9a3egaDV7Qm19PseOxbQzPndfLmbbRyYXwEGAK7QPzZT4T9KAAAAAElFTkSuQmCC"},bc85:function(e,t,n){"use strict";n.r(t);var i=n("1cd7"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},bcad:function(e,t,n){"use strict";n.r(t);var i=n("93c6"),a=n("1190");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("2227");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"453f157d",null);t["default"]=s.exports},bd1d:function(e,t,n){"use strict";n.r(t);var i=n("cba3"),a=n("4b50");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},bd65:function(e,t,n){"use strict";n.r(t);var i=n("4075"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},bd7b:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=i(n("c973")),r=i(n("6ce9")),o=n("9ac2"),s=(n("d75c"),n("ed08")),l=i(n("e0d1")),u=i(n("db2a")),c={watch:{detailModels:function(e){this.$nextTick((function(){this.creatParamWindow()}))}},created:function(){this.initDialog(),this.tempPath="根路径",void 0!=this.dataUserId?(this.tempId=this.dataUserId,this.modelResultSavePathId=this.dataUserId,this.personCode=this.dataUserId):(this.tempId=this.$store.getters.datauserid,this.modelResultSavePathId=this.$store.getters.datauserid),this.path="当前执行模型保存路径:根路径"},components:{paramDraw:r.default,dataTree:l.default,paramDrawNew:u.default},data:function(){return{modelIds:[],detailModels:[],afterTranscod:[],dateTime:"",executeTimeOptions:{disabledDate:function(e){return new Date(e.toLocaleDateString())<new Date((new Date).toLocaleDateString())}},modelResultSavePathDialog:!1,personCode:this.$store.state.user.code,treeType:"save",path:"",modelResultSavePathId:"",tempPath:"",nodeType:"",tempId:"",drawsSql:[],drawParamarr:[]}},props:["models","timing","dataUserId","sceneCode"],methods:{initDialog:function(){for(var e=this,t=0;t<this.models.length;t++)this.modelIds.push(this.models[t].modelUuid);(0,o.findModelList)(this.modelIds).then((function(t){e.detailModels=t.data,e.findRiskLevelCode()}))},creatParamWindow:function(){for(var e=0;e<this.detailModels.length;e++){var t=[];if(this.detailModels[e].parammModelRel.length>0)for(var n=0;n<this.detailModels[e].parammModelRel.length;n++)t.push(JSON.parse(this.detailModels[e].parammModelRel[n].paramValue));var i="";"002003001"==this.detailModels[e].modelType&&(i=this.detailModels[e].sqlValue),"002003002"==this.detailModels[e].modelType&&(i=this.detailModels[e].modelSql),this.drawsSql.push(i),this.drawParamarr.push(t),this.$refs.paramassembly[e].createParamNodeHtml(this.detailModels[e].modelUuid,this.detailModels[e].modelName+"  参数")}},replaceParams:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=[],n=0;n<this.detailModels.length;n++)i=this.$refs.paramassembly[n].replaceNodeParam(this.detailModels[n].modelUuid),t.push(i);return i={dateTime:this.dateTime,models:this.detailModels,replaceInfo:t,modelResultSavePathId:this.modelResultSavePathId},e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),findRiskLevelCode:function(){for(var e=0;e<this.detailModels.length;e++){var t=(0,s.getOneDict)(this.detailModels[e].riskLevelUuid);this.afterTranscod.push(t[0].codeName)}},handleClick:function(e,t,n){this.tempPath=e.label,this.tempId=e.id,this.nodeType=e.type},modelResultSavePathDetermine:function(){"folder"==this.nodeType?(this.path="当前执行模型保存路径:"+this.tempPath,this.modelResultSavePathId=this.tempId,this.modelResultSavePathDialog=!1):""==this.nodeType?this.$message("请选择路径"):this.$message("只能选择文件夹")}}};t.default=c},bdf6:function(e,t,n){"use strict";n.r(t);var i=n("9cff"),a=n("dc8f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},be1d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ace-select flex a-center j-between flex-row",class:[e.isFocus&&"ace-select-focus"],on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.ace(t)}}},[n("input",{staticClass:"input flex1",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.input,focus:e.focus}}),n("i",{staticClass:"el-icon-search"}),e.isFocus?n("div",{staticClass:"list absolute"},e._l(e.list,(function(t,i){return n("div",{key:i,staticClass:"list-line",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.select(t)}}},[e._v(e._s(t.name))])})),0):e._e()])},a=[]},be6a:function(e,t,n){"use strict";n("f3d1")},bec9:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("28a5"),n("7f7f");var a=n("7a42"),r=(n("9ac2"),i(n("c164"))),o=i(n("333d")),s=(n("79e3"),i(n("ec98"))),l=i(n("bc3a")),u=(i(n("2106")),i(n("c72e")),i(n("7993"))),c=(n("d75c"),i(n("f0ed"))),d={components:{Pagination:o.default,QueryField:r.default,runimmediatelycon:s.default,personTree:c.default,userProject:u.default},data:function(){return{tableKey:"errorUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"模型名称",name:"modelName",type:"fuzzyText"},{label:"运行人",name:"runUserName",type:"fuzzyText"},{label:"运行sql",name:"sql",type:"fuzzyText"},{label:"运行参数",name:"param",type:"fuzzyText"},{label:"执行时间范围",name:"runStartTime",type:"timePeriod"}],formStyle:{width:"700px",height:"400px"},pageQuery:{condition:null,pageNo:1,pageSize:20},share:[],notShare:[],success:!1,success1:!1,selected1:[],buttonIson:{AssociatedBtn:!0,DisassociateBtn:!0,deleteBtn:!0,resultSplitBtn:!0,resultShareBtn:!0,exportBtn:!1},sqlInfoDialog:!1,runMessageInfoDialog:!1,setDateTime:"",nowRunTaskRel:null,executeTimeOptions:{disabledDate:function(e){return new Date(e.toLocaleDateString())<new Date((new Date).toLocaleDateString())}},runimmediatelyIsSee:!1,timingExecutionIsSee:!1,currentData:[],resultSplitDialogIsSee:!1,ResultSplitoptions:[],selectedValue:[],resultSpiltedRunResultRel:[],resultSpiltObjects:{},resultShareDialogIsSee:!1,projectDialogIsSee:!1}},created:function(){this.getLikeList()},methods:{openProjectDialog:function(){for(var e=!0,t=0;t<this.selected1.length;t++)if(3!=this.selected1[t].runStatus){e=!1;break}e?this.projectDialogIsSee=!0:this.$message({message:"未运行成功的结果不能分配项目"})},exportExcel:function(){(0,l.default)({method:"get",url:"/analysis/RunTaskRelController/exportRunTaskRelTable",responseType:"blob"}).then((function(e){var t=document.createElement("a"),n=new Blob([e.data],{type:"application/vnd.ms-excel"});t.style.display="none",t.href=URL.createObjectURL(n),t.setAttribute("download","模型运行结果表.xlsx"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},customColorMethod:function(e){return e<30?"#909399":e<70?"#e6a23c":"#67c23a"},dateFormatter:function(e,t){var n=e.runStartTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds();s<10&&(s="0"+s),l<10&&(l="0"+l),u<10&&(u="0"+u);var c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},dateFormatter1:function(e,t){var n=e.runEndTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds();s<10&&(s="0"+s),l<10&&(l="0"+l),u<10&&(u="0"+u);var c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},dateFormatter2:function(e){var t=e.runTask.timingExecute;if(t){var n=new Date(t),i=n.getFullYear(),a=n.getMonth()+1,r=n.getDate(),o=n.getHours(),s=n.getMinutes(),l=n.getSeconds();o<10&&(o="0"+o),s<10&&(s="0"+s),l<10&&(l="0"+l);var u=i+"-"+a+"-"+r+" "+o+":"+s+":"+l;return u}return"无"},settingInfoSqlFormatter:function(e,t){if(null==e.settingInfo)return"";var n=JSON.parse(e.settingInfo).sql;return null==n?"":(n=n.substring(0,10),n+="...",n)},runMessageFormatter:function(e,t){if(null==e.runMessage)return"";var n=e.runMessage;return n=n.substring(0,4),n+="...",n},settingInfoParamsArrFormatter:function(e,t){if(null==e.settingInfo)return"无";var n="",i=JSON.parse(e.settingInfo).paramsArr;if(void 0==i)return"无";for(var a=0;a<i.length;a++)n+=i[a].name+" : "+i[a].paramValue+"\r\n";return n},readStatusFormatter:function(e,t){var n=e.runStatus;return 1==n?"待运行":2==n?"运行中":3==n?"运行成功":"运行失败"},runStatusIconFormatter:function(e){return 1==e?"el-icon-video-play":2==e?"el-icon-loading":3==e?"el-icon-success":"el-icon-error"},runStatusStyleFormatter:function(e){return 1==e?"color:blue":2==e?"el-icon-loading":3==e?"color:green":"color:red"},getLikeList:function(e){var t=this;this.listLoading=!0;var n={},i={};if(e){if(n=null==e.modelName||""==e.modelName?null:{modelName:e.modelName},null==e.runUserName||""==e.runUserName)i=null;else i={runUserName:e.runUserName};e.model=n,e.runTask=i,this.pageQuery.condition=e}(0,a.getRunTaskRelByPage)(this.pageQuery,this.resultSpiltObjects).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},handleSelectionChange:function(e){e.length<=0?(this.buttonIson.AssociatedBtn=!0,this.buttonIson.DisassociateBtn=!0,this.buttonIson.deleteBtn=!0,this.buttonIson.resultSplitBtn=!0,this.buttonIson.resultShareBtn=!0,this.buttonIson.exportBtn=!1):1==e.length?(this.buttonIson.AssociatedBtn=!1,this.buttonIson.DisassociateBtn=!1,this.buttonIson.deleteBtn=!1,this.buttonIson.resultSplitBtn=!0,this.buttonIson.resultShareBtn=!1,this.buttonIson.exportBtn=!1):e.length>1&&(this.buttonIson.AssociatedBtn=!1,this.buttonIson.DisassociateBtn=!1,this.buttonIson.deleteBtn=!1,this.buttonIson.resultSplitBtn=!1,this.buttonIson.resultShareBtn=!1,this.buttonIson.exportBtn=!1),this.share.splice(0,this.share.length),this.notShare.splice(0,this.notShare.length);for(var t=0;t<e.length;t++)null!=e[t].runResultShare.runResultShareUuid?this.share.push(e[t]):this.notShare.push(e[t]);this.selected1=e},handleFilter:function(){this.pageQuery.pageNo=1,this.getLikeList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},deleteRunTaskRel:function(){if(0==this.share.length&&0==this.notShare.length)this.$message({message:"请选择要删除的运行结果"});else if(0!=this.notShare.length&&0==this.share.length){for(var e=!0,t=0;t<this.notShare.length;t++)if(null!=this.notShare[t].projectName){e=!1;break}0==e?this.$message({message:"选择的运行结果有项目分配，请取消分配，再删除！"}):this.open()}else if(0==this.notShare.length&&0!=this.share.length)this.open1();else{for(e=!0,t=0;t<this.notShare.length;t++)if(null!=this.notShare[t].projectName){e=!1;break}0==e?this.$message({message:"选择的运行结果有项目分配，请取消分配，再删除！"}):this.open2()}},open:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){for(var t=[],n=0;n<e.notShare.length;n++)t[n]=e.notShare[n].runTaskRelUuid;(0,a.batchDeleteRunTaskRel)(t.join(",")).then((function(t){1==t.data?(e.getLikeList(),e.$message({type:"success",message:"删除成功!"})):e.$message({type:"error",message:"删除失败!"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},open1:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){for(var t=[],n=0;n<e.share.length;n++)t[n]=e.share[n].runResultShare.runResultShareUuid;(0,a.deleteRunResultShare)(t.join(",")).then((function(t){1==t.data?(e.getLikeList(),e.$message({type:"success",message:"删除成功!"})):e.$message({type:"error",message:"删除失败!"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},open2:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){e.success=!1,e.success1=!1;for(var t=[],n=[],i=0;i<e.notShare.length;i++)t[i]=e.notShare[i].runTaskRelUuid;(0,a.batchDeleteRunTaskRel)(t.join(",")).then((function(t){1==t.data&&(e.success=!0)}));for(i=0;i<e.share.length;i++)n[i]=e.share[i].runResultShare.runResultShareUuid;(0,a.deleteRunResultShare)(n.join(",")).then((function(t){1==t.data&&(e.success1=!0),1==e.success&&1==e.success1?(e.getLikeList(),e.$message({type:"success",message:"删除成功!"})):e.$message({type:"error",message:"删除失败!"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},determineProject:function(){var e=this.$refs.userproject.getSelectValue();0===e.length?this.$message({message:"请选择要分配的项目"}):1===e.length?(this.relationProject(e[0].PRJ_PROJECT_UUID,e[0].PRJ_NAME),this.projectDialogIsSee=!1):this.$message({message:"只能分配一个项目"})},relationProject:function(e,t){var n=this,i=this.selected1;if(0==i.length)this.$message({message:"请选择运行结果"});else if(this.listLoading=!0,void 0!=this.resultSpiltObjects.orgNameValues){for(var r=[],o=[],s=0;s<this.selected1.length;s++){o.push(this.selected1[s].runTaskRelUuid);for(var l=this.selected1[s].runResultTables,u=0;u<l.length;u++)1==l[u].tableType&&r.push(l[u].runResultTableUuid)}(0,a.selectPrimaryKeyByTableName)().then((function(i){i.data;(0,a.getDataAfterResultSpiltToRelateProject)(n.resultSpiltObjects,e,t,o).then((function(e){1==e.data?(n.listLoading=!1,n.getLikeList(),n.$message({type:"success",message:"分配成功!"})):(n.listLoading=!1,n.$message({type:"error",message:"分配失败!"}))}))}))}else{this.listLoading=!0;var c=[];for(s=0;s<i.length;s++){var d={runTaskRelUuid:i[s].runTaskRelUuid,projectUuid:e,projectName:t};c.push(d)}(0,a.ResultRelProject)(c).then((function(r){var o=r.data.flag,s=r.data.resultRelProjects;if("haveRelated"==o){for(var l=[],u=0;u<s.length;u++)for(var c=0;c<n.selected1.length;c++)s[u].runTaskRelUuid==n.selected1[c].runTaskRelUuid&&l.push(n.selected1[c].model.modelName);var d=[];for(u=0;u<i.length;u++){var h={runTaskRelUuid:i[u].runTaskRelUuid,projectUuid:e,projectName:t};d.push(h)}(0,a.addCoverResultRelProject)(d).then((function(e){if(1==e.data){for(var t="分配成功！其中  ",i=0;i<l.length;i++)t+=l[i]+" , ";n.getLikeList(),n.listLoading=!1,t+="之前分配的项目已被覆盖",n.listLoading=!1,n.$message({type:"success",message:t})}else n.listLoading=!1,n.$message({type:"error",message:"分配失败!"})}))}else 1==o?(n.listLoading=!1,n.getLikeList(),n.$message({type:"success",message:"分配成功!"})):0==o&&(n.listLoading=!1,n.$message({type:"error",message:"分配失败!"}))}))}},RemoverelationProject:function(){for(var e=this,t=[],n=0;n<this.selected1.length;n++)t.push(this.selected1[n].runTaskRelUuid);var i=t.join(",");(0,a.rmResultRelProjectlr)(i).then((function(t){(0,a.deleteRunResultShareByRunTaskRelUuid)(i).then((function(t){1==t.data?(e.getLikeList(),e.$message({type:"success",message:"取消分配成功!"})):e.$message({type:"error",message:"取消分配失败!"})}))}))},modelResultShare:function(){var e=this;this.listLoading=!0;for(var t=[],n=[],i=[],r=this.$refs.orgPeopleTree.getSelectValue(),o=0;o<r.length;o++)n.push(r[o].personuuid),i.push(r[o].cnname);for(o=0;o<this.selected1.length;o++)t.push(this.selected1[o].runTaskRelUuid);n.length>0?(0,a.insertRunResultShare)(t,n,i).then((function(t){e.listLoading=!1,1==t.data?e.$message({type:"success",message:"结果共享成功!"}):e.$message({type:"error",message:"结果共享失败!"}),e.resultShareDialogIsSee=!1})):(this.listLoading=!1,this.$message({message:"请选择要分配的人员！"}))},getResultTables:function(e,t,n,i,a){if(3==i){for(var r=[],o=null,s=0;s<e.length;s++)1==e[s].tableType?o=e[s]:r.push(e[s]);this.$emit("addtab",r,o,t,n,a)}else this.$message({type:"info",message:"该运行结果不是成功状态"})},runTypeFormate:function(e){var t=e.runTask.runType;return 2==t?"定时运行":3==t?"立即运行":void 0},dataCountFormatter:function(e){for(var t=e.runResultTables,n=0,i=0;i<t.length;i++)1==t[i].tableType&&(n=t[i].dataCount);return n},executeProgressFormate:function(e){if(null==e)return 0;var t=parseInt(e);return t},reRunReParam:function(e){var t=e.runTask.runType;this.nowRunTaskRel=e,this.currentData=[],this.currentData.push(e.model),3==t?this.runimmediatelyIsSee=!0:2==t&&(this.timingExecutionIsSee=!0)},modelRunSetting:function(){var e=this,t=this.nowRunTaskRel.runTask.runType,n=this.$refs.modelsetting.replaceParams();this.replacedInfo=n.replaceInfo;var i=n.modelResultSavePathId,r=n.dateTime,o={sql:this.replacedInfo[0].sql,paramsArr:this.replacedInfo[0].paramsArr};this.nowRunTaskRel.model=n.models[0],this.nowRunTaskRel.settingInfo=o,this.nowRunTaskRel.locationUuid=i,this.timingExecutionIsSee?""==r?this.$message({message:"请输入定时时间",type:"warning"}):""==this.replacedInfo[0].sql?this.$message({message:"请输入参数",type:"warning"}):""==i?this.$message({message:"请选择模型结果保存路径",type:"warning"}):(3==t?(0,a.reRunRunTask)(this.nowRunTaskRel).then((function(t){1==t.data?e.getLikeList():e.$message({type:"info",message:"重新执行失败!"})})):2==t&&(0,a.reRunRunTask)(this.nowRunTaskRel,r).then((function(t){1==t.data?e.getLikeList():e.$message({type:"info",message:"重新执行失败!"})})),this.runimmediatelyIsSee=!1,this.timingExecutionIsSee=!1):this.runimmediatelyIsSee&&(""==this.replacedInfo[0].sql?this.$message({message:"请输入参数",type:"warning"}):""==i?this.$message({message:"请选择模型结果保存路径",type:"warning"}):(3==t?(0,a.reRunRunTask)(this.nowRunTaskRel).then((function(t){1==t.data?e.getLikeList():e.$message({type:"info",message:"重新执行失败!"})})):2==t&&(0,a.reRunRunTask)(this.nowRunTaskRel,r).then((function(t){1==t.data?e.getLikeList():e.$message({type:"info",message:"重新执行失败!"})})),this.runimmediatelyIsSee=!1,this.timingExecutionIsSee=!1))},openResultSplitDialog:function(){var e=this;this.listLoading=!0,this.ResultSplitoptions=[];for(var t=!0,n=0;n<this.selected1.length;n++)if(3!=this.selected1[n].runStatus){t=!1;break}1==t?(0,a.getResultSplitSelectData)(this.selected1).then((function(t){e.resultSpiltObjects.orgNameColumnList=t.data.orgNameColumnList,e.resultSpiltObjects.orgUuidColumnList=t.data.orgUuidColumnList;var n=t.data.message,i=t.data.selectValue;if(""==n){for(var a=0;a<i.length;a++){var r={value:i[a].org_uuid+","+i[a].org_name,label:i[a].org_uuid+"("+i[a].org_name+")"};e.ResultSplitoptions.push(r)}e.listLoading=!1,e.resultSplitDialogIsSee=!0}else e.listLoading=!1,e.$message({showClose:!0,message:n})})):(this.listLoading=!1,this.$message({showClose:!0,message:"只有运行成功的才可以结果拆分"}))},ResultSplitDialogDetermine:function(){for(var e=this.selectedValue,t=[],n=[],i=0;i<e.length;i++){var a=e[i].split(",");t[i]=a[1],n[i]=a[0]}this.resultSpiltObjects.orgUuidValues=n,this.resultSpiltObjects.orgNameValues=t,this.resultSpiltObjects.resultSpiltedRunResultRel=this.selected1,this.getLikeList(),this.resultSplitDialogIsSee=!1},selectSql:function(e){if(null==e.settingInfo)return"";var t=JSON.parse(e.settingInfo).sql;this.sqlInfo=t,this.sqlInfoDialog=!0},selectrunMessage:function(e){if(null==e.runMessage)return"";var t=e.runMessage;this.runMessageInfo=t,this.runMessageInfoDialog=!0},modelResultOpenDialog:function(){this.resultShareDialogIsSee=!0},sendToOA:function(){var e=this,t=this.$store.getters.datauserid,n=this.$store.getters.datausername,i=this.selected1[0].runTaskRelUuid;(0,a.sendToOA)(i,t,n).then((function(t){e.$message({type:"success",message:"发送成功!"})}))}}};t.default=d},bedf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.screenLoading,expression:"screenLoading"}],ref:"screenTableMain",style:e.screenStyle,attrs:{"element-loading-text":"数据请求中，请稍后……"}},[e.queryFilter?n("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-collapse-item",{attrs:{name:"1",title:"查询条件"}},[n("div",{style:e.collapseStyle},e._l(e.queryFilterArr,(function(t,i){return n("el-row",{key:i},[n("el-col",{staticStyle:{"line-height":"36px","padding-right":"10px","text-align":"right"},attrs:{span:4}},[n("label",[e._v(e._s(t.paramName))])]),n("el-col",{attrs:{span:6}},["lineinp"===t.inputType?n("div",{ref:"selectParamScreen",refInFor:!0,staticClass:"xm-select-demo",attrs:{index:i,id:t.id,title:t.title}}):e._e(),"textinp"===t.inputType?n("el-input",{ref:"paramOptionScreen",refInFor:!0,staticClass:"textParam",attrs:{index:i,title:t.title},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"filter.value"}}):e._e(),"timeinp"===t.inputType?n("el-date-picker",{ref:"paramOptionScreen",refInFor:!0,staticStyle:{width:"100%"},attrs:{index:i,title:t.title,type:"date",placeholder:"选择日期"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"filter.value"}}):e._e(),"treeinp"===t.inputType?n("div",{ref:"selectTreeParamScreen",refInFor:!0,staticClass:"xm-select-demo",attrs:{index:i,id:t.id,title:t.title}}):e._e()],1),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.allowedNull,expression:"filter.allowedNull"}],attrs:{span:1}},[n("div",{staticStyle:{color:"red",display:"inline-block","font-weight":"bold","font-size":"20px"}},[e._v("*")])]),n("el-col",{staticStyle:{"line-height":"36px"},attrs:{span:9}},[n("label",[e._v(e._s(t.description))])]),n("el-col",{directives:[{name:"show",rawName:"v-show",value:0===i,expression:"ind === 0"}],staticStyle:{"text-align":"center"},attrs:{span:4}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.initQuery,expression:"!initQuery"}],attrs:{type:"primary"},on:{click:e.queryData}},[e._v("查询")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.initQuery,expression:"!initQuery"}],attrs:{type:"primary"},on:{click:e.resetQuery}},[e._v("清空")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.initQuery,expression:"initQuery"}],attrs:{type:"primary"},on:{click:e.initQueryData}},[e._v("初始化查询")])],1)],1)})),1)]),n("el-collapse-item",{attrs:{name:"2",title:"查询结果"}},[n("el-row",[n("el-col",{staticStyle:{"text-align":"right","padding-right":"30px"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dealData("filter")}}},[e._v("筛选")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dealData("sort")}}},[e._v("排序")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dealData("groupCount")}}},[e._v("分组统计")])],1)],1),n("el-row",[e.showTableResult?n("ChildTabCons",{ref:"resultTable",attrs:{"use-type":"graph",nowtable:e.resultInfo,prePersonalVal:e.resultInfo}}):e._e()],1)],1)],1):e._e(),e.queryFilter?e._e():n("div",[n("el-row",[n("el-col",{attrs:{span:10}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dealData("filter")}}},[e._v("筛选")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dealData("sort")}}},[e._v("排序")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dealData("groupCount")}}},[e._v("分组统计")])],1),n("el-col",{staticStyle:{float:"right","text-align":"right","padding-right":"30px"},attrs:{span:10}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.initQuery,expression:"!initQuery"}],attrs:{type:"primary"},on:{click:e.queryData}},[e._v("查询")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.initQuery,expression:"!initQuery"}],attrs:{type:"primary"},on:{click:e.resetQuery}},[e._v("清空")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.initQuery,expression:"initQuery"}],attrs:{type:"primary"},on:{click:e.initQueryData}},[e._v("初始化查询")])],1)],1),n("el-row",[e.showTableResult?n("ChildTabCons",{ref:"resultTable",attrs:{"use-type":"graph",nowtable:e.resultInfo,prePersonalVal:e.resultInfo}}):e._e()],1)],1),e.nodeParamDialogVisible?n("el-dialog",{attrs:{visible:e.nodeParamDialogVisible,title:"前置节点参数设置","close-on-press-escape":e.autoCloseDialog,"close-on-click-modal":e.autoCloseDialog,width:"600px"},on:{"update:visible":function(t){e.nodeParamDialogVisible=t}}},[n("InputParams",{ref:"inputParams",attrs:{nodeData:e.allNodeData,nodeIdArr:e.executeNodeIdArr}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.nodeParamDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.executeParamCallBack}},[e._v("保存")])],1)],1):e._e(),e.dataDealDialogVisible?n("el-dialog",{attrs:{visible:e.dataDealDialogVisible,title:e.dataDealDialogTitle,"close-on-press-escape":e.autoCloseDialog,"close-on-click-modal":e.autoCloseDialog,width:"1000px"},on:{"update:visible":function(t){e.dataDealDialogVisible=t}}},["filter"===e.dataDealType?n("ScreenQueryFilter",{ref:"dataDealScreen",attrs:{columnInfoArr:e.columnInfoArr,nodes:e.settingObj.filterSetting}}):e._e(),"sort"===e.dataDealType?n("ScreenQuerySort",{ref:"dataDealScreen",attrs:{columnInfoArr:e.columnInfoArr,setting:e.settingObj.sortSetting}}):e._e(),"groupCount"===e.dataDealType?n("ScreenQueryGroupCount",{ref:"dataDealScreen",attrs:{columnInfoArr:e.columnInfoArr,setting:e.settingObj.groupCountSetting}}):e._e(),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dataDealDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.dealDataCallBack}},[e._v("保存")])],1)],1):e._e()],1)},a=[]},bf8b:function(e,t,n){"use strict";n.r(t);var i=n("f999"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},bfe0:function(e,t,n){},c00a3:function(e,t,n){"use strict";n.r(t);var i=n("c042"),a=n("8c5f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("68fa");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"f9f7fefc",null);t["default"]=s.exports},c042:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isExternal?n("div",e._g({staticClass:"svg-external-icon svg-icon",style:e.styleExternalIcon},e.$listeners)):n("svg",e._g({class:e.svgClass,attrs:{"aria-hidden":"true"}},e.$listeners),[n("use",{attrs:{"xlink:href":e.iconName}})])},a=[]},c073:function(e,t,n){"use strict";n("a165")},c07f:function(e,t,n){"use strict";n("46c6")},c0d1:function(e,t,n){"use strict";n.r(t);var i=n("e6b6"),a=n("3f54");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6c96");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"140bed83",null);t["default"]=s.exports},c0f5d:function(e,t,n){"use strict";n.r(t);var i=n("0b5a"),a=n("0fc5");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},c12b:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getQuickMenuList=o,t.saveQuickMenuList=s;var a=i(n("b775")),r="/base";function o(){return(0,a.default)({baseURL:r,url:"/quickMenu/getList",method:"get"})}function s(e){return(0,a.default)({baseURL:r,url:"/quickMenu/saveList",method:"post",data:e})}},c164:function(e,t,n){"use strict";n.r(t);var i=n("5977"),a=n("a9f7");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("538e");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"6a4f8143",null);t["default"]=s.exports},c1f4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"itxst"},[i("el-dialog",{attrs:{title:"查询条件设置",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?i("myQueryBuilder",{ref:"myquerybuilder",attrs:{columns:e.queryData,data:e.queryJson},on:{queryconditionchangetable:e.queryConditionChangeTable}}):e._e(),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.queryCondition}},[e._v("查 询")])],1)],1),"graph"!==e.useType?i("el-row",{staticStyle:{"margin-right":"35px"}},[i("div",{class:e.chartClass,attrs:{title:"图表"},on:{click:function(t){return e.switchDivStyle("chart")}}},[i("span",{staticClass:"icon iconfont"},[e._v("")])]),i("div",{class:e.tableClass,attrs:{title:"表格"},on:{click:function(t){return e.switchDivStyle("table")}}},[i("span",{staticClass:"icon iconfont"},[e._v("")])])]):e._e(),e.chartSwitching?i("div",{staticStyle:{position:"relative"}},[e.myFlag?i("div",[i("div",{staticStyle:{position:"absolute",top:"-29px",right:"0"},attrs:{align:"right"}},[i("el-dropdown",[i("el-button",{staticClass:"oper-btn link-2",attrs:{type:"primary",disabled:e.modelRunResultBtnIson.associatedBtn},on:{click:e.openProjectDialog}}),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(t){return e.openProjectDialog(t)}}},[e._v("分配项目")]),i("el-dropdown-item",{nativeOn:{click:function(t){return e.removeRelated()}}},[e._v("移除分配项目")])],1)],1),i("el-button",{staticClass:"oper-btn search",staticStyle:{"margin-left":"10px"},attrs:{disabled:!1,type:"primary"},on:{click:e.queryConditionSetting}}),i("el-button",{staticClass:"oper-btn again-3",attrs:{disabled:!1,type:"primary"},on:{click:e.reSet}}),i("el-button",{staticClass:"oper-btn export-2",attrs:{disabled:e.modelRunResultBtnIson.exportBtn,type:"primary"},on:{click:e.exportExcel}})],1)]):e._e(),e.isSee?i("ag-grid-vue",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"table ag-theme-balham",style:"sqlEditor"===this.useType||"graph"===this.useType?"height:32vh":"height:59vh",attrs:{"column-defs":e.columnDefs,"row-data":e.rowData,rowMultiSelectWithClick:"true","enable-col-resize":!0,"get-row-style":"modelRunResult"==e.useType&&void 0!==this.modelUuid?this.renderTable:void 0,"row-selection":"multiple"},on:{cellClicked:e.onCellClicked,gridReady:e.onGridReady,rowSelected:e.rowChange}}):e._e(),e.isSee?e._e():i("el-card",{staticClass:"box-card",staticStyle:{height:"100px"}},[i("div",[e._v(e._s(e.errorMessage))])]),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:function(t){return e.initData(e.nowSql)}}}),i("el-row",[i("el-col",{attrs:{span:22}},[e.modelResultPageIsSee?i("div",[e._v(" 共"),i("span",{staticClass:"paging-z",attrs:{title:"只显示前10000条数据"}},[e._v(e._s(e.rowData.length))]),e._v("条 ")]):e._e()]),i("el-col",{attrs:{span:2}},[e.modelResultButtonIsShow?i("el-row",{staticStyle:{display:"flex"}},[this.preLength==this.myIndex+1&&"sqlEditor"!==this.useType?i("downloadExcel",{staticClass:"thechard-z",attrs:{data:e.tableData,fields:e.json_fields,name:e.excelName}},[i("el-button",{staticClass:"oper-btn export-2",attrs:{type:"primary",title:"导出"},on:{click:e.modelResultExport}})],1):e._e()],1):e._e()],1)],1)],1):e._e(),e.modelDetailModelResultDialogIsShow?i("el-dialog",{attrs:{title:"模型详细结果",visible:e.modelDetailModelResultDialogIsShow,width:"80%",fullscreen:!0},on:{"update:visible":function(t){e.modelDetailModelResultDialogIsShow=t}}},[i("childtabscopy",{ref:"childTabsRef",attrs:{"pre-value":e.currentExecuteSQL,"use-type":"sqlEditor"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.modelDetailModelResultDialogIsShow=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.modelDetailModelResultDialogIsShow=!1}}},[e._v("确 定")])],1)],1):e._e(),i("el-dialog",{attrs:{title:"提示",visible:e.chartShowIsSee,width:"90%",fullscreen:!0,"append-to-body":!0},on:{"update:visible":function(t){e.chartShowIsSee=t}}},[e.chartShowIsSee?i("div",[i("mtEditor",{key:e.chartPreview,ref:"chart",attrs:{data:e.result,"chart-config":e.nowChartJson}})],1):e._e(),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.chartShowIsSee=!1}}},[e._v("取 消")]),"sqlEditor"==e.useType||"modelRunResult"==e.useType?i("el-button",{attrs:{type:"primary"},on:{click:function(t){"save"==e.chartSaveOrUpdate?e.saveChart():e.updateChart()}}},[e._v("保 存")]):e._e()],1)]),i("el-dialog",{attrs:{title:"请选择项目",visible:e.projectDialogIsSee,width:"40%"},on:{"update:visible":function(t){e.projectDialogIsSee=t}}},[e.projectDialogIsSee?i("userProject",{ref:"userproject"}):e._e(),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.projectDialogIsSee=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.determineProject}},[e._v("确 定")])],1)],1),e.chartSwitching?e._e():i("el-row",[this.preLength==this.myIndex+1||e.myFlag?i("div",{attrs:{align:"right"}},[i("div",{staticClass:"smallImgs"},[i("div",{attrs:{align:"right"}},["sqlEditor"!=e.useType&&!e.myFlag||e.chartSwitching?e._e():i("a",{staticStyle:{margin:"10px 6px 10px 0",float:"right"},attrs:{title:"添加图表"},on:{click:e.openChartDialog}},[e._v("添加")])]),e._l(e.chartConfigs,(function(t,n){return i("img",{key:n,staticClass:"chartSwitching",attrs:{src:t.dataUrl},on:{click:function(n){return e.changeChart(t.id)}}})}))],2),e.isHaveCharts||e.afterAddChartsWithNoConfigure?e._e():i("div",["sqlEditor"==e.useType||e.myFlag?i("img",{staticClass:"change-pos",attrs:{src:n("e437"),type:"primary",title:"修改图表"},on:{click:e.openEditChartDialog}}):e._e(),"sqlEditor"==e.useType||e.myFlag?i("img",{staticClass:"delete-pos",attrs:{src:n("a0e4"),type:"primary",title:"删除图表"},on:{click:e.deleteChart}}):e._e()])]):e._e(),this.preLength==this.myIndex+1||e.myFlag?i("div",{staticStyle:{height:"450px"}},[e.afterAddChartsWithNoConfigure?i("div",{staticStyle:{"font-weight":"lighter","font-size":"15px"},attrs:{align:"center"}},[e._v("请选择图表")]):e._e(),e.isHaveCharts?i("div",{staticStyle:{"font-weight":"lighter","font-size":"15px"},attrs:{align:"center"}},[e._v("暂无图表")]):e._e(),e.afterResult?i("div",{staticStyle:{height:"350px"}},[i("mtEditor",{directives:[{name:"loading",rawName:"v-loading",value:e.chartLoading,expression:"chartLoading"}],key:e.chartPreview,ref:"chart1",attrs:{data:e.result,"chart-config":e.nowChartJson,preview:!0}})],1):e._e()]):e._e()]),e.globalDropDownBox?i("div",{staticClass:"globalDropDownBox",style:{top:e.globalDropTop,left:e.globalDropLeft},on:{mouseover:e.StopTime,mouseleave:e.openModelDetailOld}},e._l(e.modelDetailRelation,(function(t){return i("li",{staticClass:"globalDDBli",on:{click:function(n){return e.modelDetailCetermine(t.relationObjectUuid)}}},[e._v(" "+e._s(t.modelDetailName)+" ")])})),0):e._e()],1)},a=[]},c21f:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("c5f6");var a=i(n("66c9")),r=i(n("82a7")),o={matchType:"关系符",matchTypes:[{id:"or",label:"or"},{id:"and",label:"and"}],addRule:"添加条件",removeRule:"&times;",addGroup:"添加条件组",removeGroup:"&times;",textInputPlaceholder:"value"},s={name:"VueQueryBuilder",components:{QueryBuilderGroup:a.default},props:{rules:Array,labels:{type:Object,default:function(){return o}},maxDepth:{type:Number,default:3,validator:function(e){return e>=1}},value:Object},data:function(){return{query:{logicalOperator:this.labels.matchTypes[0].id,children:[]},ruleTypes:{text:{operators:["equals","does not equal","contains","does not contain","is empty","is not empty","begins with","ends with"],inputType:"text",id:"text-field"},numeric:{operators:["=","<>","<","<=",">",">="],inputType:"number",id:"number-field"},custom:{operators:[],inputType:"text",id:"custom-field"},radio:{operators:["="],choices:[],inputType:"radio",id:"radio-field"},checkbox:{operators:[],choices:[],inputType:"checkbox",id:"checkbox-field"},select:{operators:[],choices:[],inputType:"select",id:"select-field"},"multi-select":{operators:["="],choices:[],inputType:"select",id:"multi-select-field"},inputselect:{operators:[],choices:[],inputType:"inputselect",id:"inputselect-field"}},sql:""}},computed:{mergedLabels:function(){return Object.assign({},o,this.labels)},mergedRules:function(){var e=[],t=this;return t.rules.forEach((function(n){"undefined"!==typeof t.ruleTypes[n.type]?e.push(Object.assign({},t.ruleTypes[n.type],n)):e.push(n)})),e},vqbProps:function(){return{index:0,depth:1,maxDepth:this.maxDepth,ruleTypes:this.ruleTypes,rules:this.mergedRules,labels:this.mergedLabels}}},mounted:function(){var e=this;this.$watch("query",(function(t){JSON.stringify(t)!==JSON.stringify(e.value)&&(e.$emit("input",(0,r.default)(t)),e.$emit("sql",e.queryToSql(t)))}),{deep:!0}),this.$watch("value",(function(t){JSON.stringify(t)!==JSON.stringify(e.query)&&(e.query=(0,r.default)(t))}),{deep:!0}),"undefined"!==typeof this.$options.propsData.value&&(this.query=Object.assign(this.query,this.$options.propsData.value))},methods:{queryToSql:function(e){var t=[],n=this,i=e.logicalOperator,a=e.children;return a.forEach((function(e){var a=e.type;"query-builder-rule"===a?(t.push(e.query.rule),t.push(e.query.operator),t.push(e.query.value)):(t.push("("),t.push(n.queryToSql(e.query)),t.push(")")),t.push(i)})),t.splice(t.length-1,t.length),t.join(" ")}}};t.default=s},c24f:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.login=o,t.getInfo=s,t.getUserRes=l,t.logout=u;var a=i(n("b775")),r="/base";function o(e){return(0,a.default)({baseURL:r,url:"/login",method:"post",data:e})}function s(){return(0,a.default)({baseURL:r,url:"/userInfo",method:"get",params:{}})}function l(){return(0,a.default)({baseURL:r,url:"/menu/index",method:"post"})}function u(){return(0,a.default)({url:"/logout",method:"post"})}},c2beb:function(e,t,n){"use strict";n.r(t);var i=n("1782"),a=n("d8ec");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},c2dc:function(e,t,n){"use strict";n.r(t);var i=n("4280"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},c318:function(e,t,n){},c31d:function(e,t,n){"use strict";n.r(t);var i=n("efbe"),a=n("0cdf");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("c971");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"5eaab947",null);t["default"]=s.exports},c373:function(e,t,n){(function(e){var i,a,r;n("8449");var o=n("7037");(function(s){"object"==o(t)&&"object"==o(e)?s(n("cf87")):(a=[n("cf87")],i=s,r="function"===typeof i?i.apply(t,a):i,void 0===r||(e.exports=r))})((function(e){"use strict";var t="CodeMirror-activeline",n="CodeMirror-activeline-background",i="CodeMirror-activeline-gutter";function a(e){for(var a=0;a<e.state.activeLines.length;a++)e.removeLineClass(e.state.activeLines[a],"wrap",t),e.removeLineClass(e.state.activeLines[a],"background",n),e.removeLineClass(e.state.activeLines[a],"gutter",i)}function r(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function s(e,s){for(var l=[],u=0;u<s.length;u++){var c=s[u],d=e.getOption("styleActiveLine");if("object"==o(d)&&d.nonEmpty?c.anchor.line==c.head.line:c.empty()){var h=e.getLineHandleVisualStart(c.head.line);l[l.length-1]!=h&&l.push(h)}}r(e.state.activeLines,l)||e.operation((function(){a(e);for(var r=0;r<l.length;r++)e.addLineClass(l[r],"wrap",t),e.addLineClass(l[r],"background",n),e.addLineClass(l[r],"gutter",i);e.state.activeLines=l}))}function l(e,t){s(e,t.ranges)}e.defineOption("styleActiveLine",!1,(function(t,n,i){var r=i!=e.Init&&i;n!=r&&(r&&(t.off("beforeSelectionChange",l),a(t),delete t.state.activeLines),n&&(t.state.activeLines=[],s(t,t.listSelections()),t.on("beforeSelectionChange",l)))}))}))}).call(this,n("62e4")(e))},c379:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"assembly"},[n("div",{staticClass:"line"},[n("h5",{staticClass:"title"},[e._v("全局弹窗")]),n("button",{on:{click:e.alertHandle}},[e._v("全局弹窗")])]),n("div",{staticClass:"line"},[n("h5",{staticClass:"title"},[e._v("对话框")]),n("button",{on:{click:function(t){e.isShowDialog=!0}}},[e._v("全局对话框")]),n("ace-dialog",{attrs:{"is-show":e.isShowDialog},on:{"update:isShow":function(t){e.isShowDialog=t},"update:is-show":function(t){e.isShowDialog=t}}},[n("span",[e._v("删除后不可恢复")])])],1),n("div",{staticClass:"line"},[n("h5",{staticClass:"title"},[e._v("搜索下拉框")]),n("ace-select",{attrs:{value:e.selectVal},on:{"update:value":function(t){e.selectVal=t}}})],1),n("div",{staticClass:"line"},[n("h5",{staticClass:"title"},[e._v("下拉选择日历")]),n("ace-select-calender",{attrs:{value:e.calenderVal,"current-date":e.calenderVal},on:{"update:value":function(t){e.calenderVal=t}}})],1)])},a=[]},c39b:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn export-5",attrs:{type:"primary"},on:{click:e.exportFile}}),n("el-button",{staticClass:"oper-btn import-2",attrs:{type:"primary"},on:{click:e.importFile}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%",height:"500px",overflow:"auto"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"所属系统名称",width:"300px",align:"center",prop:"folderName"}}),n("el-table-column",{attrs:{label:"数据表名称",width:"300px",prop:"displayTbName"}}),n("el-table-column",{attrs:{label:"汉化表名称",width:"300px",prop:"chnName"}}),n("el-table-column",{attrs:{label:"创建时间",width:"300px",align:"center",formatter:e.formatCreateTime,prop:"createTime"}}),n("el-table-column",{attrs:{label:"操作",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"oper-btn detail",attrs:{type:"primary",title:"预览",size:"mini"},on:{click:function(n){return e.selectFilterOne(t.row.tableMetaUuid)}}})]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisibleTable},on:{"update:visible":function(t){e.dialogFormVisibleTable=t}}},[[n("div",{staticClass:"detail-form"},[n("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.tempObj,"label-position":"right",width:"80%"}},[n("el-form-item",{attrs:{label:"所属系统名称",prop:"folderName"}},[n("el-input",{attrs:{disabled:""},model:{value:e.tempObj.folderName,callback:function(t){e.$set(e.tempObj,"folderName",t)},expression:"tempObj.folderName"}})],1),n("el-form-item",{attrs:{label:"数据表名称",prop:"displayTbName"}},[n("el-input",{attrs:{disabled:""},model:{value:e.tempObj.displayTbName,callback:function(t){e.$set(e.tempObj,"displayTbName",t)},expression:"tempObj.displayTbName"}})],1),n("el-form-item",{attrs:{label:"汉化表名称",prop:"chnName"}},[n("el-input",{attrs:{disabled:""},model:{value:e.tempObj.chnName,callback:function(t){e.$set(e.tempObj,"chnName",t)},expression:"tempObj.chnName"}})],1)],1),n("el-table",{key:e.colKey,staticStyle:{width:"100%",height:"500px",overflow:"auto"},attrs:{data:e.tempObj.colMetas,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"字段名称",width:"250px",prop:"colName"}}),n("el-table-column",{attrs:{label:"字段汉化名称",width:"250px",prop:"chnName"}}),n("el-table-column",{attrs:{label:"字段类型",width:"150px",align:"center",prop:"dataType"}}),n("el-table-column",{attrs:{label:"字段长度",width:"150px",align:"center",prop:"dataLength"}})],1)],1)],n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogFormVisibleTable=!1}}},[e._v("关闭")])],1)],2),e.importVisible?n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.importVisible,width:"800px"},on:{"update:visible":function(t){e.importVisible=t}}},[n("el-row",[n("el-col",[n("directory-file-import",{on:{fileuploadname:e.fileuploadname}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.importVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.importTable}},[e._v("导入")])],1)],1):e._e()],1)},a=[]},c3ae:function(e,t,n){"use strict";n("3538")},c3cd:function(e,t,n){},c41d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"tree"},[n("BaseCodeTree")],1),n("div",{staticClass:"divContent"},[n("BaseCodeTreeList",{ref:"listData"})],1)])},a=[]},c429:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}};t.default=i},c461:function(e,t,n){},c47b:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6b54"),n("456d"),n("55dd");var a=i(n("7037"));n("ac6a");var r=i(n("970b")),o=i(n("5bc3")),s=i(n("16c8")),l=n("76e7"),u=function(){function e(t){var n=this;for(var i in(0,r.default)(this,e),this.currentNode=null,this.currentNodeKey=null,t)t.hasOwnProperty(i)&&(this[i]=t[i]);if(this.nodesMap={},this.root=new s.default({data:this.data,store:this}),this.lazy&&this.load){var a=this.load;a(this.root,(function(e){n.root.doCreateChildren(e),n._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}return(0,o.default)(e,[{key:"filter",value:function(e){var t=this.filterNodeMethod,n=this.lazy,i=function i(a){var r=a.root?a.root.childNodes:a.childNodes;if(r.forEach((function(n){n.visible=t.call(n,e,n.data,n),i(n)})),!a.visible&&r.length){var o=!0;o=!r.some((function(e){return e.visible})),a.root?a.root.visible=!1===o:a.visible=!1===o}e&&(!a.visible||a.isLeaf||n||a.expand())};i(this)}},{key:"setData",value:function(e){var t=e!==this.root.data;t?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}},{key:"getNode",value:function(e){if(e instanceof s.default)return e;var t="object"!==(0,a.default)(e)?e:(0,l.getNodeKey)(this.key,e);return this.nodesMap[t]||null}},{key:"insertBefore",value:function(e,t){var n=this.getNode(t);n.parent.insertBefore({data:e},n)}},{key:"insertAfter",value:function(e,t){var n=this.getNode(t);n.parent.insertAfter({data:e},n)}},{key:"remove",value:function(e){var t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}},{key:"append",value:function(e,t){var n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})}},{key:"_initDefaultCheckedNodes",value:function(){var e=this,t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach((function(t){var i=n[t];i&&i.setChecked(!0,!e.checkStrictly)}))}},{key:"_initDefaultCheckedNode",value:function(e){var t=this.defaultCheckedKeys||[];-1!==t.indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)}},{key:"setDefaultCheckedKey",value:function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}},{key:"registerNode",value:function(e){var t=this.key;if(t&&e&&e.data){var n=e.key;void 0!==n&&(this.nodesMap[e.key]=e)}}},{key:"deregisterNode",value:function(e){var t=this,n=this.key;n&&e&&e.data&&(e.childNodes.forEach((function(e){t.deregisterNode(e)})),delete this.nodesMap[e.key])}},{key:"getCheckedNodes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],i=function i(a){var r=a.root?a.root.childNodes:a.childNodes;r.forEach((function(a){(a.checked||t&&a.indeterminate)&&(!e||e&&a.isLeaf)&&n.push(a.data),i(a)}))};return i(this),n}},{key:"getCheckedKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(t).map((function(t){return(t||{})[e.key]}))}},{key:"getHalfCheckedNodes",value:function(){var e=[],t=function t(n){var i=n.root?n.root.childNodes:n.childNodes;i.forEach((function(n){n.indeterminate&&e.push(n.data),t(n)}))};return t(this),e}},{key:"getHalfCheckedKeys",value:function(){var e=this;return this.getHalfCheckedNodes().map((function(t){return(t||{})[e.key]}))}},{key:"_getAllNodes",value:function(){var e=[],t=this.nodesMap;for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}},{key:"updateChildren",value:function(e,t){var n=this.nodesMap[e];if(n){for(var i=n.childNodes,a=i.length-1;a>=0;a--){var r=i[a];this.remove(r.data)}for(var o=0,s=t.length;o<s;o++){var l=t[o];this.append(l,n.data)}}}},{key:"_setCheckedKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this._getAllNodes().sort((function(e,t){return t.level-e.level})),a=Object.create(null),r=Object.keys(n);i.forEach((function(e){return e.setChecked(!1,!1)}));for(var o=0,s=i.length;o<s;o++){var l=i[o],u=l.data[e].toString(),c=r.indexOf(u)>-1;if(c){var d=l.parent;while(d&&d.level>0)a[d.data[e]]=!0,d=d.parent;l.isLeaf||this.checkStrictly?l.setChecked(!0,!1):(l.setChecked(!0,!0),t&&function(){l.setChecked(!1,!1);var e=function e(t){var n=t.childNodes;n.forEach((function(t){t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(l)}())}else l.checked&&!a[u]&&l.setChecked(!1,!1)}}},{key:"setCheckedNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.key,i={};e.forEach((function(e){i[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,i)}},{key:"setCheckedKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=e;var n=this.key,i={};e.forEach((function(e){i[e]=!0})),this._setCheckedKeys(n,t,i)}},{key:"setDefaultExpandedKeys",value:function(e){var t=this;e=e||[],this.defaultExpandedKeys=e,e.forEach((function(e){var n=t.getNode(e);n&&n.expand(null,t.autoExpandParent)}))}},{key:"setChecked",value:function(e,t,n){var i=this.getNode(e);i&&i.setChecked(!!t,n)}},{key:"getCurrentNode",value:function(){return this.currentNode}},{key:"setCurrentNode",value:function(e){var t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}},{key:"setUserCurrentNode",value:function(e){var t=e[this.key],n=this.nodesMap[t];this.setCurrentNode(n)}},{key:"setCurrentNodeKey",value:function(e){if(null===e||void 0===e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var t=this.getNode(e);t&&this.setCurrentNode(t)}}]),e}();t.default=u},c4bf:function(e,t,n){"use strict";n.r(t);var i=n("7aed"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},c4e0:function(e,t,n){"use strict";n.r(t);var i=n("1df4"),a=n("0f47");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},c564:function(e,t,n){"use strict";n("7982")},c5a4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={inheritAttrs:!1,props:{value:[String],width:{type:String,default:"180px"},size:{type:String,default:"default"},iconAround:{type:String,default:"suffix"},iconColor:{type:String,default:"#343942"},inputColor:{type:String,default:"#343942"},placeholder:{type:String,default:"查找..."}},computed:{styleClass:function(){var e="32px",t="12px";return"default"===this.size?(e="32px",t="12px"):"big"===this.size&&(e="38px",t="14px"),{width:"".concat(this.width),height:"".concat(e),fontSize:"".concat(t),color:"".concat(this.inputColor),borderColor:"".concat(this.inputColor)}}},methods:{input:function(e){this.$emit("input",e.target.vlaue)},keydown:function(){this.$emit("keydown")}}};t.default=i},c5a9:function(e,t,n){"use strict";n.r(t);var i=n("7105"),a=n("eccf");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("0917");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"5659653c",null);t["default"]=s.exports},c610:function(e,t,n){},c612:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var a=i(n("e344")),r=(n("c1df"),{components:{childTabCons:a.default},data:function(){return{index:0,hasButton:!1}},methods:{loadTableData:function(e,t){this.$refs.child[this.index].initData(null,e,t),this.index++},reSetTable:function(){for(var e=0;e<this.preValue.length;e++)this.$refs.child[e].reSet1();this.index=0},tabsName:function(e){return"modelRunResult"===this.useType?"辅表"+(e+1):"sqlEditor"===this.useType||"modelPreview"===this.useType?this.preValue.length===e+1?"主表":"辅助"+(e+1):"previewTable"===this.useType?"数据详情":"graph"===this.useType?this.preValue[e].name:void 0},addBigTabs:function(e,t,n,i,a,r,o){this.$emit("addTab",void 0,void 0,n,i,void 0,r,o)},addBigTabsModelPreview:function(e,t,n){var i={modelName:e,modelUuid:t};this.$emit("addTab",i,!1,n,!0)},setNextValue:function(e){this.$emit("setNextValue",e)},clickBigTab:function(){"modelResult"===this.resultMark?this.$refs.onlyChild.clickBigTab():this.$refs.child[this.index-1].clickBigTab()}},props:["maintable","helptables","modelUuid","useType","preValue","resultSpiltObjects","modelId","chartModelUuid","settingInfo","resultMark","isModelPreview","isRelation"]});t.default=r},c653:function(e,t,n){var i={"./aceState.js":"8377","./app.js":"d9cd","./dag/actions.js":"46e5","./dag/getters.js":"217b","./dag/index.js":"a4cf","./dag/mutations.js":"7361","./dag/state.js":"3905","./dataSort.js":"7565","./datasource/actions.js":"94f4","./datasource/getters.js":"17bb","./datasource/index.js":"4ef7","./datasource/mutations.js":"66aa","./datasource/state.js":"5e97","./errorLog.js":"4d49","./monitor/actions.js":"d89f","./monitor/getters.js":"cc24","./monitor/index.js":"4c9b","./monitor/mutations.js":"9725","./monitor/state.js":"37c9","./permission.js":"31c2","./projects/actions.js":"f39b","./projects/getters.js":"7bec9","./projects/index.js":"7bbd","./projects/mutations.js":"f191","./projects/state.js":"e36d","./resource/actions.js":"28a9","./resource/getters.js":"b7a5","./resource/index.js":"4872","./resource/mutations.js":"f600","./resource/state.js":"47ad","./security/actions.js":"3215","./security/getters.js":"a188","./security/index.js":"4242","./security/mutations.js":"70da","./security/state.js":"67b4","./settings.js":"0781","./tagsView.js":"7509","./user.js":"0f9a"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="c653"},c65a:function(e,t,n){"use strict";n.r(t);var i=n("6e7a"),a=n("53cf");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6d59");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"dd8c79ce",null);t["default"]=s.exports},c664:function(e,t,n){"use strict";n("b1f3")},c66d:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("456d"),n("ac6a");var a=i(n("d275")),r=i(n("e858")),o=n("d42c"),s=n("a0e6"),l=n("ed08"),u={components:{MyElTree:r.default,tabledatatabs:a.default},data:function(){return{tabShow:"basicinfo",tableId:"",registTableFlag:!1,divInfo:!1,filterText1:null,filterText2:null,fromData:[],props:{label:"label",isLeaf:"leaf"},folderForm:{folderUuid:null,folderName:null,parentFolderUuid:null,orderNum:0,fullPath:null},folderFormVisible:!1,dialogStatus:"",parentNode:{},tempData:{},textMap:{update:"编辑文件夹",create:"添加文件夹"},selectValue:1,treeLoading:!1}},computed:{dialogTitle:function(){return(null==this.parentNode.label?"":"在<"+this.parentNode.label+">下")+this.textMap[this.dialogStatus]},fromDisabled:function(){return!1},toDisabled:function(){return!1}},watch:{filterText1:function(e){this.$refs.tree1.filter(e)},filterText2:function(e){this.$refs.tree2.filter(e)}},created:function(){},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},loadNode1:function(e,t){var n=this;if(e.level<=3){var i="",a="";if(1===e.level)i=e.data.id;else if(2===e.level){var r=this.$refs.tree2.getNodePath(e);i=r[1].id,a=e.data.label}console.log(i+" "+a),this.treeLoading=!0,(0,o.listUnCached)(e.level,i,a).then((function(e){n.treeLoading=!1,t(e.data)}))}else t([])},loadNode2:function(e,t){e.data?(0,o.getDataTreeNode)(e.data.id).then((function(e){t(e.data)})):t([{id:"ROOT",label:"数据集",leaf:!1}])},registTable:function(){var e=this.$refs.tree2.getCurrentNode();if(!e||"FOLDER"!==e.type)return this.$notify((0,l.commonNotify)({type:"warning",message:"请选中文件夹"})),!1;this.registTableFlag=!0},flagSelectTable:function(){var e=this,t=this.$refs.tree2.getCurrentNode();if(!t||"FOLDER"!==t.type)return this.$notify((0,l.commonNotify)({type:"warning",message:"请选中文件夹"})),!1;var n=this.$refs.tree1.getCheckedNodes();null!=this.filterText1&&(n=n.filter((function(t){return-1!==t.label.indexOf(e.filterText1)}))),n.filter((function(e){return"TABLE"===e.type})).forEach((function(n){var i={tableMetaUuid:n.id,displayTbName:n.label,dbName:n.pid,tbName:n.label,folderUuid:t.id};(0,o.saveTable)(i).then((function(a){var r={disable:!1,id:i.tableMetaUuid,label:i.tbName,leaf:!0,pid:t.id,showCheckbox:!0,type:"TABLE"};e.$refs.tree2.remove(r),e.$refs.tree2.append(r,t),e.$notify((0,l.commonNotify)({type:"success",message:"表<".concat(n.label,">成功同步成功！")}))}))})),this.registTableFlag=!1},nodeClick:function(e,t,n){var i=this;this.divInfo=!1,"TABLE"===t.data.type&&this.$nextTick((function(){i.divInfo=!0,i.tableId=t.data.id}))},resetFolderForm:function(){var e=this;Object.keys(this.folderForm).forEach((function(t){e.$set(e.folderForm,t,null)}))},handleCreateFolder:function(e,t){this.resetFolderForm(),this.parentNode=e,this.dialogStatus="create",this.folderForm.parentFolderUuid=t.id;var n=this.$refs.tree2.getNodePath(t),i=[];n.forEach((function(e){i.push(e.id)})),this.folderForm.fullPath=i.join("/"),this.folderFormVisible=!0},handleUpdateFolder:function(e,t){this.resetFolderForm(),this.tempData=t,this.dialogStatus="update",this.folderForm.folderUuid=t.id,this.folderForm.folderName=t.label,this.folderForm.fullPath=this.$refs.tree2.getNodePath(t),this.folderFormVisible=!0},handleRemove:function(e,t){var n=this;this.$confirm("是否删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){"TABLE"===t.type?(0,o.delTable)(t.id).then((function(e){n.$notify((0,l.commonNotify)({type:"success",message:"删除成功！"})),n.$refs.tree2.remove(t)})):(0,s.delFolder)(t.id).then((function(e){n.$notify((0,l.commonNotify)({type:"success",message:"删除成功！"})),n.$refs.tree2.remove(t)}))})).catch((function(){}))},createFolder:function(){var e=this;(0,s.saveFolder)(this.folderForm).then((function(t){var n={id:t.data,label:e.folderForm.folderName,pid:e.folderForm.parentFolderUuid,type:"FOLDER",extMap:{folder_type:"maintained"}};e.$refs.tree2.append(n,e.parentNode),e.$notify((0,l.commonNotify)({type:"success",message:"创建成功！"})),e.folderFormVisible=!1}))},updateFolder:function(){var e=this;(0,s.updateFolder)(this.folderForm).then((function(t){e.tempData.label=e.folderForm.folderName,e.$refs.tree2.updateKeyChildren(e.folderForm.folderUuid,e.tempData),e.folderFormVisible=!1}))},handleSelectChange:function(e){},removeTable:function(){var e=this,t=this.$refs.tree2.getCheckedKeys();(0,o.delTable)(t.join(",")).then((function(n){e.$notify((0,l.commonNotify)({type:"success",message:"成功移除".concat(t.length,"张表")})),t.forEach((function(t){e.$refs.tree2.remove({id:t})}))}))}}};t.default=u},c762:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",[n("div",{staticClass:"detail-form"},[n("el-card",{staticStyle:{height:"500px"},attrs:{title:"SQL内容"}},[n("el-input",{attrs:{type:"textarea",value:e.parentContent,rows:25,readonly:""}})],1)],1)])])},a=[]},c799:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn excel-2",attrs:{type:"primary"},on:{click:e.buildModelSQL}}),n("el-button",{staticClass:"oper-btn excel-3",attrs:{type:"primary"},on:{click:e.exportSQL}}),n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary"},on:{click:e.add}}),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.update}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",disabled:0===e.selections.length},on:{click:e.deleteBiz}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"指标模块",width:"150px",align:"center",prop:"indexModule"}}),n("el-table-column",{attrs:{label:"指标名称",width:"150px",align:"center",prop:"indexName"}}),n("el-table-column",{attrs:{label:"公式内容",width:"500px",align:"center",prop:"formulaContent"}}),n("el-table-column",{attrs:{label:"创建人名称",width:"300px",align:"center",prop:"createPersonName"}}),n("el-table-column",{attrs:{label:"创建时间",width:"300px",align:"center",prop:"createTime"}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[[n("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"right",width:"80%","close-on-click-modal":!1}},[n("el-form-item",{attrs:{label:"指标模块",prop:"indexModule"}},[n("el-select",{attrs:{value:""},model:{value:e.temp.indexModule,callback:function(t){e.$set(e.temp,"indexModule",t)},expression:"temp.indexModule"}},[n("el-option",{attrs:{value:"营运能力"}}),n("el-option",{attrs:{value:"盈利能力"}}),n("el-option",{attrs:{value:"偿债能力"}})],1)],1),n("el-form-item",{attrs:{label:"指标名称",prop:"indexName"}},[n("el-input",{model:{value:e.temp.indexName,callback:function(t){e.$set(e.temp,"indexName",t)},expression:"temp.indexName"}})],1),n("el-form-item",{attrs:{label:"公式内容",prop:"formulaContent"}},[n("el-input",{attrs:{type:"textarea",placeholder:"示例： [现金流量表.营业收入]/[现金流量表.平均总资产]+30  科目名称请查询作业平台的 “基础数据” "},model:{value:e.temp.formulaContent,callback:function(t){e.$set(e.temp,"formulaContent",t)},expression:"temp.formulaContent"}})],1),n("el-form-item",{attrs:{label:"公式说明",prop:"formulaComment"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.temp.formulaComment,callback:function(t){e.$set(e.temp,"formulaComment",t)},expression:"temp.formulaComment"}})],1)],1)],n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("保存")])],1)],2)],1)},a=[]},c7a1:function(e,t,n){"use strict";n.r(t);var i=n("1fc0"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},c7e9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALKADAAQAAAABAAAALAAAAAD8buejAAABp0lEQVRYCWP8//9/CAMDw1QgFgPiwQxeAR2XzQh08EsgY7A7FhaQr0AO/g/jDQWaaSg4EtmNow5GDg1asEdDmBahimzmaAgjhwYt2KMhTItQRTZzyIUwC7Lr6cQOB9pzF49dZ/DIMQyEg68xeEWpMDD9Q43dv4z/GXesWE+oaTMQDgYG4H92hr8MjCghychAVCMM1ZcoJgxOzpBzMDWThA7DsfNfMOKFnf0/g7EWL1D8CoYcGQLUczDIsS0dD7C44R3DtpWaWMTJEhpySWLIOZhwkmhsZGY494gbI/74f/9jWLRIESh+GUOOhgKEHXz1IzvDr6/eGG54w/QVKHYfQ5zGAkMuSYw6mMYpgmE0hEdDGC0ERpMEWoBQnTsawlQPUjQDR0MYLUCozh0NYaoHKZqBQy6ECbeHBb/+YfjEcAvNowwMrAw/gWKIsQVZkd9AXj+GOgZwuxlVmJHpJsO/v6iBReS4BDGzSLmotqHwpIC8SqhIFZD+jCKL4IB6zW1QLoh+jpDCYE3GEEESIMbBSMoHngmKFtAM41ABr0AOzgbioeBo8NQtADhLU8ggwu3lAAAAAElFTkSuQmCC"},c816:function(e,t,n){"use strict";n.r(t);var i=n("cf66"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},c846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("d42c"),a={props:["tableId","openType"],data:function(){return{parentContent:"",temp:{createSql:""}}},created:function(){this.initTable(this.tableId)},methods:{initTable:function(e){var t=this;"addTable"!==this.openType&&(0,i.getCreateSql)(e).then((function(e){t.parentContent=e.data}))}}};t.default=a},c8b0:function(e,t,n){"use strict";n.r(t);var i=n("ed24"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},c96c:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("ce79")),r=n("64dc"),o={components:{projectTabs:a.default},data:function(){return{tabShow:"directory",divInfo:!1,sceneCode:this.$route.params.sceneCode,allProject:[],projectSelect:"",dataUserId:"",isTreeShow:!0}},watch:{dataUserId:{handler:function(e,t){var n=this;this.dataUserId=e,this.projectSelect=this.allProject.filter((function(e){return e.id===n.dataUserId}))[0].label,this.divInfo=!1,this.$nextTick((function(){n.divInfo=!0}))}},deep:!0},created:function(){var e=this;(0,r.getAllGropSelect)(this.sceneCode).then((function(t){e.allProject=t.data,console.log(e.allProject[0]),e.dataUserId=e.allProject[0].id,e.projectSelect=e.allProject[0].label,e.divInfo=!1,e.$nextTick((function(){e.divInfo=!0}))}))},methods:{}};t.default=o},c971:function(e,t,n){"use strict";n("9db6")},c99f:function(e,t,n){"use strict";n.r(t);var i=n("c379"),a=n("39ec");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("82c6");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"5decda8e",null);t["default"]=s.exports},ca11:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPageErrorLog=o,t.listByPageOperationLog=s,t.listByPageRemind=l,t.updateRemind=u,t.getUnReadRemind=c,t.getRemindByDescTime=d,t.updateReminds=h;var a=i(n("b775")),r="/base";function o(e){return(0,a.default)({baseURL:r,url:"/logSysErrorController/listByPage",method:"post",data:e})}function s(e){return(0,a.default)({baseURL:r,url:"/logSysActiController/listByPage",method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/remindController/listByPage",method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/remindController/update/".concat(e),method:"put"})}function c(e){return(0,a.default)({baseURL:r,url:"/remindController/getUnReadRemind",method:"get",params:e})}function d(e){return(0,a.default)({baseURL:r,url:"/remindController/getRemindByDescTime/5",method:"get",params:e})}function h(e){return(0,a.default)({baseURL:r,url:"/remindController/updateReminds/".concat(e),method:"put"})}},ca19:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6762"),n("2fdb");var a=i(n("33a7")),r=i(n("e647")),o=i(n("a6e1")),s={components:{GraphTree:a.default,GraphListTable:r.default,screenQueryList:o.default},data:function(){return{defaultNodeKey:"privateGraph",rightType:"graphList",screenParam:{graphUuid:"",graphName:"",nodeData:null,publicType:1,screenQueryNodeArr:[],treeNodeData:null}}},methods:{refreshGraphList:function(e){if(this.screenParam.treeNodeData=e,this.rightType="graphList","screenGraphType"===e.type){var t=this.$store.getters.roles,n="screenManager";t&&t.includes(n)?this.$refs.graphListTable.showDelBtn=!0:this.$refs.graphListTable.showDelBtn=!1}else"privateGraphType"===e.type||"personScreenGraphType"===e.type?this.$refs.graphListTable.showDelBtn=!0:this.$refs.graphListTable.showDelBtn=!1;this.$refs.graphTree.defaultNodeKey=e.id,this.$refs.graphListTable.type=e.type,this.$refs.graphListTable.listSelectChange([]),this.$refs.graphListTable.getGraphList()},refreshGraphTree:function(){this.$refs.graphTree.initGraphTree()}}};t.default=s},ca26:function(e,t,n){},ca38:function(e,t,n){"use strict";n.r(t);var i=n("19a7"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ca49:function(e,t,n){},ca6c:function(e,t,n){"use strict";n.r(t);var i=n("5bf2"),a=n("e1cc");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("467d");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"31e43740",null);t["default"]=s.exports},ca8a:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var a=i(n("c0d1")),r=(n("c1df"),{components:{childTabCons:a.default},data:function(){return{index:0}},methods:{loadTableData:function(e){this.$refs.child[this.index].initData(null,e),this.index++},reSetTable:function(){for(var e=0;e<this.preValue.length;e++)this.$refs.child[e].reSet1();this.index=0},tabsName:function(e){return"modelRunResult"===this.useType?"辅表"+(e+1):"sqlEditor"===this.useType||"modelPreview"===this.useType?"结果"+(e+1):"previewTable"===this.useType?"数据详情":"graph"===this.useType?this.preValue[e].name:void 0}},props:["maintable","helptables","modelUuid","useType","preValue","resultSpiltObjects","projectUuid"]});t.default=r},cae2:function(e,t,n){"use strict";n.r(t);var i=n("fba3"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},caf1:function(e,t,n){"use strict";n.r(t);var i=n("fc19"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},cb48:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABFklEQVQ4EWMMDQ1le/D0fdN/hv9xDP//SzIQAxgZnzMyMC5SkBasY+YWkGr9//9fOVAfLzF6oWqAav/bfPz8k40JbDMJOpGVgvSyIDubkZ1D8vSBbS+QFYHYpg5eEv9//niOLg7Sy4IsiK7ZxNLpP0geKM4IZCMrhbOZ4CwyGSgGpKWlsaKYw8SmwQDEGOJIikBOAzsTJMbIyHgGGDDvgFEEF4OqFf7//78Jkj44EyUMWBmYvY8d2/UKLouFYWXlJvbr/5+XMCkULxDSDNKErgbFAJippNDUNcDKykuekO2gMEBWw2hi5fwMOTUiSxJkAzMVEyhXEVSIW8FiZmsL40OgXMXAyKAMVEdcjgTaDEw00xWlhWoBIVFVn5057goAAAAASUVORK5CYII="},cba3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.layeringLoading,expression:"layeringLoading"}],ref:"hierarchyDataDiv",staticStyle:{height:"560px","padding-top":"20px"},attrs:{"element-loading-text":"正在加载字段的区间值，请稍后……"}},[n("el-row",[n("el-col",{attrs:{span:5}},[n("p",{staticStyle:{color:"red",height:"30px","line-height":"30px"}},[e._v("注：分层区间数不能超过五个")])]),n("el-col",{attrs:{span:7}},[n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[n("label",{staticStyle:{"line-height":"36px"}},[e._v("分层字段：")])]),n("el-col",{attrs:{span:16}},[n("el-select",{attrs:{filterable:""},on:{change:e.empty_set},model:{value:e.hierarchy_column,callback:function(t){e.hierarchy_column=t},expression:"hierarchy_column"}},e._l(e.hierarchyColumnArr,(function(t){return n("el-option",{key:t.newColumnName,attrs:{value:t.newColumnName}},[e._v(e._s(t.newColumnName))])})),1)],1)],1),e.rangeTip?e._e():n("el-col",{ref:"rangeCol",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:12}},[n("span",{staticStyle:{height:"30px","line-height":"30px","padding-left":"20px"}},[e._v(e._s(e.range))])]),e.rangeTip?n("el-col",{ref:"rangeCol",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{span:12}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.range,placement:"bottom"}},[n("span",{staticStyle:{height:"30px","line-height":"30px","padding-left":"20px"}},[e._v(e._s(e.range))])])],1):e._e()],1),n("el-table",{staticStyle:{width:"600px"},attrs:{data:e.items,height:"450"}},[n("el-table-column",{attrs:{label:"分层区间",width:"500","header-align":"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{type:"number",min:"1"},model:{value:t.row.c_col_1,callback:function(n){e.$set(t.row,"c_col_1",n)},expression:"scope.row.c_col_1"}})],1),n("el-col",{attrs:{span:4}},[n("div",{staticStyle:{height:"36px","line-height":"36px","text-align":"center"}},[e._v("至")])]),n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{type:"number",min:"1"},model:{value:t.row.c_col_2,callback:function(n){e.$set(t.row,"c_col_2",n)},expression:"scope.row.c_col_2"}})],1)]}}])}),n("el-table-column",{attrs:{label:"操作",width:"100",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.$index?n("el-button",{staticClass:"oper-btn add-5",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:e.addRows}}):e._e(),0!==t.$index?n("el-button",{staticClass:"oper-btn delete-1",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.clickDel(t.$index)}}}):e._e()]}}])})],1)],1)},a=[]},cbbf:function(e,t,n){"use strict";n.r(t);var i=n("a221"),a=n("b832");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("1803");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"6a8186fa",null);t["default"]=s.exports},cc24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},cc36:function(e,t,n){"use strict";n.r(t);var i=n("8d42"),a=n("c2dc");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("fdf9");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"dc08fad0",null);t["default"]=s.exports},cc5e:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getRoutes=r,t.getRoles=o,t.addRole=s,t.updateRole=l,t.deleteRole=u;var a=i(n("b775"));function r(){return(0,a.default)({url:"/vue-element-admin/routes",method:"get"})}function o(){return(0,a.default)({url:"/vue-element-admin/roles",method:"get"})}function s(e){return(0,a.default)({url:"/vue-element-admin/role",method:"post",data:e})}function l(e,t){return(0,a.default)({url:"/vue-element-admin/role/".concat(e),method:"put",data:t})}function u(e){return(0,a.default)({url:"/vue-element-admin/role/".concat(e),method:"delete"})}},cc66:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("ac6a");var a=i(n("9523")),r=i(n("f0ed")),o=i(n("971e")),s=i(n("b5e7")),l=n("d42c"),u=i(n("d275")),c=i(n("bdf6")),d=i(n("6d5f")),h=i(n("333d")),f=i(n("c164")),p=n("ed08"),m=n("7649"),g=n("a0e6"),v=i(n("e0d1")),y=n("2f62");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={computed:A({},(0,y.mapState)({personcode:function(e){return e.user.code}})),components:{Pagination:h.default,QueryField:f.default,dataTree:v.default,childTabs:d.default,tabledatatabs:u.default,directoryFileUpload:s.default,column:o.default,tablerelation:c.default,PersonTree:r.default},props:["dataUserId","sceneCode"],data:function(){return{saveFlag:!0,infoFlag:!0,currentSceneUuid:"auditor",directyDataUserId:this.$store.state.user.code,openType:"",tableKey:"id",treeType:"save",tableId:"",typeLabel:"",list:null,executeSQLList:[],arrSql:{},data:null,node:null,tree:null,total:0,listLoading:!1,loading:!1,queryFields:[{label:"名称",name:"label",type:"text",value:""}],pageQuery:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},temp:[{id:"",label:"",type:"",extMap:{createTime:"",tbSizeByte:""}}],folderForm:{folderUuid:null,folderName:null,parentFolderUuid:null,orderNum:0,fullPath:null},clickData:{id:"",type:""},clickNode:{},clickFullPath:[],allList:[],selections:[],moveSelect:[],resourceForm:{folderUuid:null,resourceName:null,parentFolderUuid:null,orderNum:0,fullPath:null,extMap:{}},folderFormVisible:!1,dialogStatus:"",tabShow:"",previewVisible:!1,tableShowVisible:!1,tableColumnVisible:!1,tableRelationVisible:!1,moveTreeVisible:!1,shareVisible:!1,uploadVisible:!1,uploadtemp:{tbName:"",tableFileName:"",folderUuid:""},uploadRules:{tbName:[{required:!0,message:"请填写导入表名称",trigger:"change"}]},uploadStep:1,uploadtempInfo:[],options:[],textMap:{updateFolder:"重命名文件夹",updateTable:"重命名表",copyTable:"复制表",createFolder:"新建文件夹"},downloadLoading:!1}},created:function(){this.initDirectory()},methods:{initDirectory:function(){"undefined"!==typeof this.dataUserId&&(this.directyDataUserId=this.dataUserId),"undefined"!==typeof this.sceneCode&&(this.currentSceneUuid=this.sceneCode)},fileuploadname:function(e){this.uploadtemp.tableFileName=e},formatTableType:function(e){return""===e.type?"":"table"===e.type?"数据表":"文件夹"},delData:function(){var e=this,t=[],n=!0;this.selections.forEach((function(i,a){if("folder"===i.type){"virtual"===i.extMap.folderType&&(e.$message({type:"info",message:"该文件为系统文件夹不允许删除!"}),n=!1);var r=e.allList.filter((function(e){return e.label===i.label})),o=(0,p.getArrLength)(r[0].children);o>0&&(e.$message({type:"info",message:"删除失败！文件夹："+r[0].label+"不为空无法删除"}),n=!1)}t.push(i)})),n&&this.$confirm("确定删除该资源?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){(0,m.deleteDirectory)(t).then((function(){e.$notify({title:"成功",message:"删除成功",type:"success",duration:5e3,position:"bottom-right"}),e.$emit("remove",e.selections,e.clickNode)}))}))},copyResource:function(){"folder"!==this.selections[0].type?(this.dialogStatus="copyTable",this.typeLabel="复制表名称",this.resourceForm.resourceName="",this.folderFormVisible=!0):this.$message({type:"info",message:"所选资源为文件夹而非数据表!"})},copyResourceSave:function(){var e=this,t=Object.assign({},this.selections[0]);t.label=this.resourceForm.resourceName,(0,m.copyTable)(t).then((function(t){t.data?(e.$notify({title:"成功",message:"复制表成功",type:"success",duration:2e3,position:"bottom-right"}),e.$emit("refresh")):e.$message({type:"info",message:"复制失败!复制表名称已由现有对象使用"})})),this.resourceForm.resourceName="",this.folderFormVisible=!1},nextImport:function(){var e=this;this.uploadtemp.folderUuid=this.clickData.id,this.$refs["dataForm"].validate((function(t){t&&(0,l.getSqlType)().then((function(t){e.options=t.data,(0,m.nextUpload)(e.uploadtemp).then((function(t){e.uploadStep=2,e.uploadtempInfo=t.data}))}))}))},importTable:function(){var e=this;(0,m.importTable)(this.uploadtempInfo).then((function(t){if(e.uploadVisible=!1,!0===t.data.resCode){var n={id:t.data.importTable.tableMetaUuid,label:t.data.importTable.displayTbName,pid:t.data.importTable.folderUuid,type:"table",extMap:{accessType:["FETCH_TABLE_DATA","BASIC_PRIV"],createTime:t.data.importTable.createTime,tableName:t.data.importTable.tbName,tbSizeByte:0,tblType:"T"}};e.$emit("append-node",n,e.clickNode),e.$notify({title:"成功",message:t.data.msg,type:"success",duration:5e3,position:"bottom-right"})}else e.$message({type:"error",message:t.data.msg})}))},renameResource:function(){if(this.resourceForm.resourceName="","folder"===this.selections[0].type){if("virtual"===this.selections[0].extMap.folderType)return void this.$message({type:"info",message:"重命名失败!该文件为系统文件夹不允许重命名"});this.dialogStatus="updateFolder",this.typeLabel="重命名文件夹名称",this.folderFormVisible=!0}else this.dialogStatus="updateTable",this.typeLabel="重命名数据表名称",this.folderFormVisible=!0},nodeclick:function(e,t,n){var i=[],a=t.parent;while(null!=a.parent)i.push(a.data.label),null!=a.parent&&(a=a.parent);this.moveSelect=e},movePath:function(){var e=this.selections.filter((function(e){return"folder"===e.type})),t=(0,p.getArrLength)(e);t>0?this.$message({type:"info",message:"移动失败!移动文件夹操作不允许"}):this.moveTreeVisible=!0},movePathSave:function(){var e=this,t=[];this.selections.forEach((function(n,i){n.pid=e.moveSelect.id,t.push(n)})),(0,m.movePath)(t).then((function(){e.moveTreeVisible=!1,e.$notify({title:"成功",message:"移动成功",type:"success",duration:5e3,position:"bottom-right"}),e.$emit("refresh")}))},renameResourceSave:function(){var e=this,t=Object.assign({},this.selections[0]);t.label=this.resourceForm.resourceName,(0,m.renameResource)(t).then((function(t){t.data?e.$notify({title:"成功",message:"重命名资源成功",type:"success",duration:2e3,position:"bottom-right"}):e.$message({type:"info",message:"重命名失败!重命名资源名称已由现有对象使用"})})),this.resourceForm.resourceName="",this.folderFormVisible=!1,this.$emit("refresh")},add:function(){this.openType="addTable",this.tableColumnVisible=!0,this.tabShow="column",this.tableId="1"},uploadTable:function(){this.uploadtemp={},this.uploadtempInfo=[],this.uploadStep=1,this.uploadVisible=!0},update:function(){this.openType="updateTable",this.tableColumnVisible=!0,this.tabShow="column",this.tableId=this.selections[0].id},relationTable:function(){this.openType="updateTable",this.tableRelationVisible=!0,this.tabShow="column",this.tableId=this.selections[0].id},getListSelect:function(e){if(e){var t=this.allList.filter((function(t){return-1!==t.label.indexOf(e.label)}));this.total=(0,p.getArrLength)(t),this.temp=t}else this.temp=this.allList,this.total=(0,p.getArrLength)(this.temp)},getList:function(e,t,n){this.clickData=e,console.log(e),this.clickNode=t,this.clickFullPath=[],this.clickFullPath.push(e.label);var i=t.parent;while(null!=i.parent)this.clickFullPath.push(i.data.label),null!=i.parent&&(i=i.parent);if("table"===e.type){this.temp=[],this.allList=[];var a={};a=e,this.temp.push(a),this.allList.push(a),this.total=1}else this.temp=e.children,this.allList=e.children,this.total=(0,p.getArrLength)(e.children),this.getListSelect()},createFolder:function(){"virtual"!==this.clickData.extMap.folderType?(this.dialogStatus="createFolder",this.typeLabel="新建文件夹名称",this.resourceForm.resourceName="",this.folderFormVisible=!0):this.$message({type:"info",message:"创建失败!该文件为系统文件夹不允许创建"})},createFolderSave:function(){var e=this;"undefined"!==typeof this.clickData.extMap.sceneInstUuid&&(this.resourceForm.sceneInstUuid=this.clickData.extMap.sceneInstUuid),this.resourceForm.parentFolderUuid=this.clickData.id,this.resourceForm.fullPath=this.clickFullPath.reverse().join("/"),this.resourceForm.folderName=this.resourceForm.resourceName,this.resourceForm.createUserUuid=this.$store.state.user.code,(0,g.saveFolder)(this.resourceForm).then((function(t){var n={id:t.data,label:e.resourceForm.folderName,pid:e.resourceForm.parentFolderUuid,type:"folder",extMap:{folder_type:"maintained"}};e.$emit("append-node",n,e.clickNode),e.$notify({title:"成功",message:"新建成功",type:"success",duration:3e3,position:"bottom-right"}),e.folderFormVisible=!1}))},showTable:function(){"folder"===this.selections[0].type?this.$message({type:"info",message:"请选择数据表进行查看!"}):(this.openType="showTable",this.tableShowVisible=!0,this.tabShow="basicinfo",this.tableId=this.selections[0].id)},preview:function(){var e=this;this.loading=!0,(0,m.preview)(this.selections[0]).then((function(t){200===t.data.code?(e.executeSQLList=t.data.executeTask.executeSQL,e.arrSql=t.data,e.previewVisible=!0,e.$nextTick((function(){e.$refs.childTabs.loadTableData(e.arrSql),e.loading=!1}))):(e.loading=!1,e.$message({type:"info",message:t.data.msg}))}))},shareTable:function(){var e=this,t=!0;this.selections.forEach((function(n,i){if("folder"===n.type)return e.$message({type:"info",message:"无法分享文件夹!"}),void(t=!1)})),t&&(this.shareVisible=!0)},shareTableSave:function(){for(var e=this,t=this.$store.getters.personuuid,n=[],i=!0,a=this.selections,r=this.$refs.personTree.getSelectValue(),o=0;o<a.length;o++)for(var s=0;s<r.length;s++){if(r[s].personuuid===t){i=!1;break}console.log(r);var l={tableMetaUuid:a[o].id,seneInstUuid:r[s].personcode,folderName:r[s].cnname};n.push(l)}i?(0,m.shareTableSave)(n).then((function(t){0===t.code?(e.$notify({title:"提示",message:"共享成功",type:"success",duration:2e3,position:"bottom-right"}),e.shareVisible=!1):e.$message({type:"error",message:"共享模型失败!"})})):this.$message({type:"info",message:"不能共享给自己!"})},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},handleSelectionChange:function(e){this.selections=e;var t=(0,p.getArrLength)(this.selections);1===t?(this.selections[0].extMap.accessType.indexOf("SAVE_TO_FOLDER")>-1?this.saveFlag=!1:this.saveFlag=!0,this.selections[0].extMap.accessType.indexOf("FETCH_TABLE_DATA")>-1?this.infoFlag=!1:this.infoFlag=!0):(this.saveFlag=!0,this.infoFlag=!0)},appendnode:function(e,t){this.$emit("append-node",e,this.clickNode)},tableshow:function(e){this.tableShowVisible=e},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"},saveTableInfo:function(){this.$refs.column.saveTableInfo(),this.tableColumnVisible=!1},saveRelationInfo:function(){this.$refs.tablerelation.saveRelationInfo(),this.tableRelationVisible=!1},saveTableRelation:function(){this.$refs.tablerelation.saveTableRelation(),this.tableRelationVisible=!1},formatTableSize:function(e){if(""===e)return"";void 0===e&&(e=0);var t="";t=e<1024?parseFloat(e).toFixed(2)+"B":e<1048576?(e/1024).toFixed(2)+"KB":e<1073741824?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB";var n=t+"",i=n.indexOf("."),a=n.substr(i+1,2);return"00"===a?n.substring(0,i)+n.substr(i+3,2):t},formatCreateTime:function(e){if(e){var t=new Date(e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),r=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return i<10&&(i="0"+i),a<10&&(a="0"+a),r<10&&(r="0"+r),o<10&&(o="0"+o),s<10&&(s="0"+s),n+"-"+i+"-"+a+" "+r+":"+o+":"+s}return""}}};t.default=w},cc6c:function(e,t,n){e.exports=n.p+"static/img/401.089007e7.gif"},cc9a:function(e,t,n){},ccbb:function(e,t,n){"use strict";function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n("ac6a"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6b54");var o={name:"colorPicker",props:{value:{type:String,required:!0},defaultColor:{type:String,default:"#000000"},disabled:{type:Boolean,default:!1}},data:function(){return{openStatus:!1,hoveColor:null,tColor:["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],colorConfig:[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],bColor:["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],html5Color:this.value}},computed:{showPanelColor:function(){return this.hoveColor?this.hoveColor:this.showColor},showColor:function(){return this.value?this.value:this.defaultColor},colorPanel:function(){var e,t=[],n=i(this.colorConfig);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(this.gradient(a[1],a[0],5))}}catch(r){n.e(r)}finally{n.f()}return t}},methods:{closePanel:function(){this.openStatus=!1},triggerHtml5Color:function(){this.$refs.html5Color.click()},updataValue:function(e){this.$emit("input",e),this.$emit("change",e),this.openStatus=!1},handleDefaultColor:function(){this.updataValue(this.defaultColor)},parseColor:function(e){if(4!==e.length)return e;e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]},rgbToHex:function(e,t,n){var i=(e<<16|t<<8|n).toString(16);return"#"+new Array(Math.abs(i.length-7)).join("0")+i},hexToRgb:function(e){e=this.parseColor(e);for(var t=[],n=1;n<7;n+=2)t.push(parseInt("0x"+e.slice(n,n+2)));return t},gradient:function(e,t,n){for(var i=this.hexToRgb(e),a=this.hexToRgb(t),r=(a[0]-i[0])/n,o=(a[1]-i[1])/n,s=(a[2]-i[2])/n,l=[],u=0;u<n;u++)l.push(this.rgbToHex(parseInt(r*u+i[0]),parseInt(o*u+i[1]),parseInt(s*u+i[2])));return l}}};t.default=o},cd54:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAOKADAAQAAAABAAAAOAAAAAANV2hTAAAIM0lEQVRoBd1bWWxUVRj+7+0C3Wg7A2jBapWwyKayCFTAoCDSBAiEB1EwBolPmJCUF5ZIMCAvNiHRFw0SI1V8IDRAUsSiKGABEYysBYJWK1SBme4tdJnr/93OHc+c3jn3zrRMdb5kes89y3/+757tP/851aiPYRhG0jeNjZM6OjtnaURjWDx++fzLMviH6ji+iR/41fCviuOrUpKTj784aNA5TdO6OK7PwHX1Hj8ZRsrd+voiIxBYwQLnMcnsWKQyuQYmW6HpeungnJzyKZrWEYscsUyvCFYaRlqDz7eWFStmUl5RcG/DLNPHMkuyvd4dhZrWFqu8mAiiG37t978RINpChjE81spdldO0mzrR5pc8nk9j6b5REzzs9y8IGMb7TGysKwX7KpOmXdY1bd18j+dQNCL547gDt5r2ld+/LRAIlMedHFTkD4q6oQN0cae1OaE5Zz1qGJn3fb5SngAWO+d+8DmY3f4BXu+KOZrW7FSb45c4VFdXQIHAAf6CE5yExTVd0y6Qri9akJtbrapXSRDktK6u09xyQ1VC7NJqG5voZHUNXb/jI19LG/lbW80n8noz0siTnm4+Rw7x0oyCfMobZC6RdqIixrHyt42kpGkqkhEJolve8/sro2m5+rZ7dPBiFVX+9gdV++sjKmaXUODJocLHH6WF48dQTtpAuyz2cdySAz2ewkjd1ZYgBvFhn6/M7Zi719FJ+85fpr2/XKK29t6tzWmpKbTsqXG0dOJYGpiSbE9KimUS++d7vUt4GWGVw2FL0JypAoEN4Vnt39BaHx4/TXWtMa/FtoJz09NozaxpZqvaZpAi2fp572WPZ6MUDbMwHOY6h6XABfacu0Cf/fizbc6UpCSa81g+LR41gsYO8dCwzEwalpVh5r3V1EK3mpvpEo/PA9d+paO/11BHl70J+vqzz9DySe7mN13Xi+R1Mowgd80kbr3zTutcOytT8u0PdOxGdQ9yD2Vm0Dszp9OKCWNoUGpqj3S7iIb77fQ5j913T5yiv5tbemSZPaKAil94jlL5oynBxgC34kTR4gkjyOPuTbZSdiqFcOL2imM9yA1ITqb1hVOpePpkykxJcRJhm97c0UElp87S9sozdL+zMywPSK6fNzsszu6FrZ3VPB4/sdJCBE3D2e+/zq2ntC3tuiVabd+yhVQ4PM+S26tn5c1aWrr3YI/WdNVd2XbN9nhGWgZ6yFTDrsCJHCYUecyNHzqYzqx6tc/I4cvgQ0EmZItA3dBBCW4gk0swk0kQ+znut8WqglgKMFuKQMuVv7KE8rMyxeiI4b9aWgk/N4BMyEYdIqADdFEBXMAJeUyC5mbVYT+HdU5cCjDmyrhbuiW36ftKytvxkflD2A0gG10fdVmADtBFBZ4sveCEPN1dNBBYqSoACwWLuAhMKDNcjrlanhm3nfi39RFGnBugu6IuEdAFOqkA7wLSdSwN/JyrygzzS7RQ0G3WTZ+iKuKYxt3IMY+VATOz2FWhC3RSgaXDdZKk89IwmQNKH4o8sLHOZbg0o6BEHn+QjTOnhfRB+OGM9NC7UwDLDuoUIeskpiEMTnB+JRuaNpPf5PTQO3YFouEMCwWLeLTY+nwhrZnytFksGnJWPa+xEb624ruQxQOdoJtqFwLPns5N+aQlxO6JLY8ImF9uLRSxHMIgFgs5lM0ekGqafghbkHWz4q0nuGGSGW1F2D2xnxMB27K/sGjUE2FVy7qFJXa/jAbBfJuEUBQ2qyJgOPcXxvHmWISsm5gWDOdjgVFupbETF4FdQTQ4xAb5W+VH6E8eL8AjvHP/uGguLRhRYL5H80euW9bNRlaWztOLkqD8lawtj40w2yiRHDKAKOJiAWZjEbJuYhrC4IYuGndYrRmPijGLdvedCLXBQSQCm9VogO6IbtkXkK0fWTe5DnBDCyoJwvslAjvxaICxVvP26miKRMwr1y3rZlPQJBi+0Em55K90+Y5fyhG/V7g4RMi6iWnBcA1a8KpNQigKfksR+6/dEF/jGob/RoSsm5gWDFdhFr1ikxCKglNWBBxEje3tYlRcwqgTdYuQdRPTEGZuVTpOVuUE8R22HpyyFuD9Kr2gtuStvKpn/gc7CWukW6BO0fMGnVR2KOSCmx48Nm5QVQSPswh4v+Ag6g2iWQ9RF+oUIeskpiHM27EGcGMnlHkmrlx54U6Hx9kCXHvwfkWD3iwVqEt0J0IX6KQCd88KcOte6HV9tyozzgrgThcB1x68X24hr4eWyeZUHnWgLhHQxen8Auf8KMNrIZF5icDvr+VNYviUicQg4OhZtacszC+DXTa8X279MpYst8+apmaauuuLsNaDS3/X8iXKcwtuOd9gjycPlxjMFkSAyZWoKsZBCM4KRKDbFH1ZRlCkrwGZkC12TdQBHZwOZcDFuqHR3UW5IG4z8Mi8qVIUAxvOVxEXb981v/LJKLqrWN4uDFloOcgWgbqdJhdwMLkEC4YIwhPML5tFgXZhHITAjS4CX3lO6V7acvwUtTj4LMVychhlIQOy5JZDnW4OYcDB8mpDvjkGrYq4afvl8AWLONa5B374AqLxPD6DXQvTL27HZ1ZLJvQBKEhyV03sI2yQPJrIlxBAEEjoayTdFLtJJuxFIIskumvCXuWySJoTT13dVj6W2mDF9ccT10Xm5+ZuYnuTNwzOCFvonbMH18n/0XXKqAniI3BrJu6FWLGVE/ZKs0gSYetSOs+2K/l1Lrew8kBVLm+987iC6+QIX5Pc/Z+4lG4pJj7Rfc1TYz5Y5f6Ps0ccz8E1F+nfCq7ybHFFM4wTfIHnLNwMorzehv8BrWwOZoa/GT0AAAAASUVORK5CYII="},cdd0:function(e,t,n){"use strict";var a=n("4ea4");n("8e6e"),Object.defineProperty(t,"__esModule",{value:!0}),t.replaceNodeType=p,t.onclick=m,t.onRightClick=g,t.rootDataRefresh=v,t.maxOpen=y,t.openGraph=b,t.autoSaveGraph=A,t.getExecuteDetail=x,t.openCallBack=C,t.getExecuteNodeInfo=k,t.nodeRemark=S,t.refrashResourceZtree=N,t.updateResourceZtreeNodeName=I,t.deleteResourceZtreeNode=D,t.undoResourceZtreeNode=P,t.redoResourceZtreeNode=L,t.refrashHistoryZtree=M,t.showRMenu=R,t.hideRMenu=j,t.importGraph=_,t.exportGraph=V,t.exportGraphBack=F,t.next=U,t.back=q,t.getResultColumnInfo=z,t.saveModelGraph=Q,t.showParamNodeList=G,t.showParamNodeListCallBack=Y,t.settingParam=K,t.settingParamsCallBack=J,t.clearSettingParam=X,t.searchZtree=Z,t.hideAndShow=le,t.hideAndShowToolBar=ue,t.hideAndShowLeftArea=ce,t.hideAndShowRightArea=de,t.modifyParam=he,t.getParamsArr=fe,t.showComparisonTableDetail=pe,t.resourceSetting=t.historySetting=t.sendIndexJs=void 0,n("96cf"),n("5df3"),n("1c4c"),n("7514");var r=a(n("c973")),o=a(n("9523"));n("28a5"),n("ac6a"),n("456d"),n("7f7f");var s=n("8ebc"),l=n("0dff");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=null,h=null,f=function(e){d=e,h=e.graph};function p(e){var t=n("5535"),i=n("bc61");$(e).each((function(){var e=this.type;switch(e){case"datasource":this.icon=t,this.isParent=!0;break;case"table":this.icon=t,this.type="datasource",this.oldType=e,this.isParent=!0;break;case"view":this.icon=i,this.type="datasource",this.oldType=e,this.isParent=!0;break}null!=this.pid&&"undefined"!==typeof this.pid&&""!==this.pid&&"ROOT"!==this.pid.toUpperCase()||(this.open=!0)}))}function m(e,t,n){j("rMenu"),j("folderMenu_dev"),j("moreMenu")}function g(e,t,n){if(null!=n){var i="";switch(h.openType){case 1:break;case 2:d.zTreeObj.selectNode(n),"datasource"===n.type&&(i="rMenu");break}if(""!==i){var a=$(document).height(),r=a-e.clientY;r<$("#"+i).height()?R(i,"node",e.clientX,e.clientY-$("#"+i).height()):R(i,"node",e.clientX,e.clientY)}}}function v(e){var t=e||d.zTreeObj.getSelectedNodes()[0],n="",i={};1===openType?(j("folderMenu_dev"),n=contextPath+"/graphEditor/refreshDevZtreeNode",i.folderId=t.id,"bussRootNode_dev"===t.id?i.refreshType="1":"my_space_dev"===t.id?i.refreshType="3":"other_space_dev"===t.id?i.refreshType="4":i.refreshType="2"):(j("rootMenu"),n=contextPathAuditAnalysis+"/sqlEditor/getBusinessTableSingle",i.id=t.id);var a=$("#ztree_datasource").mLoading({text:"",hasCancel:!1});$.post(n,i,(function(e){if(e.isError)a.destroy(),alertMsg("提示","刷新"+[t.name]+"节点出错，资源树加载失败","error");else{var n=[];n=1===openType?e.nodeList:e,p(n),d.zTreeObj.removeChildNodes(t),d.zTreeObj.addNodes(t,n),a.destroy()}}),"json")}function y(){var e=$("#tableArea"),t=e.height();layer.open({id:"maxOpen11",type:1,title:"数据结果集",content:e,area:["90%","90%"],skin:"layui-layer-lan",resize:!1,scrollbar:!1,success:function(e,t){$(".layui-layer-shade").appendTo(e.parent()),$("#tableArea").css("height","100%")},end:function(e){$("#tableArea").css("height",t+"px")}})}function b(){d.graphListDialogVisible=!0,d.showGraphListType="open"}function A(){if(!1!==h.canEditor&&4!==h.openGraphType){var e=new mxCodec,t=e.encode(h.getModel()),n=mxUtils.getPrettyXml(t);"undefined"!==typeof d.graphUuid&&""!==d.graphUuid||(d.graphName="自动保存的副本_"+w(),d.description="系统自动保存的副本",d.graphName_show="自动保存的副本_"+w(),d.description_show="系统自动保存的副本");var i=$.extend(!0,{},h.nodeData),a={graphName:d.graphName,description:d.description,graphXml:n,graphUuid:d.graphUuid,createType:h.openType,graphType:h.graphType,nodeData:JSON.stringify(i)};switch(h.openGraphType){case 1:a.executeStatus=x();break;case 2:a.executeStatus=x(),a.graphType=3,a.publicType=0;break;case 3:a.executeStatus=3,a.publicType=1,a.graphType=3;break;case 4:a.executeStatus=x(),a.modelSql=d.curModelSql;break}(0,s.saveGraphInterface)(a).then((function(e){e.data?d.graphUuid=e.data:d.$message.error("自动保存图形失败")}))}}function w(){var e=function(e){return e<10?"0"+e:e},t=new Date,n=e(t.getMonth()+1),i=e(t.getDate()),a=e(t.getHours()),r=e(t.getMinutes());return""+t.getFullYear()+n+i+a+r}function x(){var e=3;h.selectVertices();for(var t=h.getSelectionModel(),n=[],i=0,a=0;a<t.cells.length;a++){var r=t.cells[a].id;h.nodeData[r]&&h.nodeData[r].nodeInfo&&"newNullNode"===h.nodeData[r].nodeInfo.optType&&n.push(r)}if(0===n.length)e=3;else{for(var o=0;o<n.length;o++){var s=n[o];h.nodeData[s]&&h.nodeData[s].nodeInfo&&(3===h.nodeData[s].nodeInfo.nodeExcuteStatus||4===h.nodeData[s].nodeInfo.nodeExcuteStatus)&&i++}e=0===i?3:i>0&&i<n.length?2:1}return h.clearSelection(),e}function C(e){var t=[];d.graphUuid=e.graphUuid,d.graphName=e.graphName,d.description=e.description,d.graphName_show=e.graphName,d.description_show=e.description,h.nodeData=JSON.parse(e.nodeData),mxUtils.setPrettyXmlLayout(e.graphXml),4===h.openGraphType&&"undefined"!==typeof e.modelSql&&(d.curModelSql=e.modelSql);for(var n=Object.keys(h.nodeData),i=0;i<n.length;i++)if(h.nodeData[n[i]]&&h.nodeData[n[i]].nodeInfo){var a=h.nodeData[n[i]].nodeInfo.nodeId,r=h.nodeData[n[i]].nodeInfo.nodeName,o=h.nodeData[n[i]].nodeInfo.optType,s=h.nodeData[n[i]].nodeInfo.nodeExcuteStatus,u=h.nodeData[n[i]].hasParam,c=h.nodeData[n[i]].paramsSetting;u&&c&&0!==Object.keys(c).length&&(d.nodeParamRelArr[n[i]]=$.extend(!0,{},c)),N(a,"加载"+r,o),3===h.openGraphType||1===h.openGraphType&&""!==d.createUserId&&d.createUserId!==d.loginUserUuid||parseInt(d.openType_graph)!==parseInt(h.openType)?"datasource"!==o&&1!==s&&(h.nodeData[n[i]].nodeInfo.nodeExcuteStatus=1,(0,l.changeNodeIcon)(1,null,n[i])):2===s&&t.push(n[i]),"sql"===o&&"undefined"!==typeof h.nodeData[n[i]].sqlIsChanged&&delete h.nodeData[n[i]].sqlIsChanged}M("打开图形化"),3!==h.openGraphType&&0!==t.length&&k(e.graphUuid,null,t,!0);for(var f=h.getModel().cells,p=Object.keys(f),m=0;m<p.length;m++)f[p[m]].edge&&(h.edgeArr||(h.edgeArr=[]),h.edgeArr[p[m]]={source:f[p[m]].source,target:f[p[m]].target});ownerEditor.editor.undoManager.history.pop(),ownerEditor.editor.undoManager.indexOfNextAdd=0}function k(e,t,n,i){var a={graphUuid:"",executeId:""},r=n.length;e&&""!==e&&(a.graphUuid=e),t&&""!==t&&(a.executeId=t);var o=null,u=function e(){(0,s.getExecuteNodeInfoPost)(a).then((function(t){var n=t.data;if(n&&n.length>0){d.resultTabActiveName="1";for(var a=0,u=[],c=0;c<n.length;c++){for(var f=n[c].executeNodeIds.split(","),p=n[c].executeId,m=JSON.parse(n[c].executeNodeData),g=n[c].message,v=0;v<f.length;v++){if(!h.nodeData[f[v]])break;var y=h.nodeData[f[v]].nodeInfo.nodeExcuteStatus,b=h.nodeData[f[v]].setting.settingId;$.inArray(f[v],u)>-1&&2===y&&m[f[v]]&&b===m[f[v]].setting.settingId&&a++}a===f.length&&((0,l.nodeCallBack)(f,m,p),i&&$("#sysInfoArea").append(g),A(),r-=a,u.push(p))}null!=o&&0===r&&(clearInterval(o),u.length>0&&(0,s.deleteExecuteNodes)(u.join(",")).then()),i&&M("执行中的节点执行完毕")}else null==o&&(o=setInterval(e,6e4))}))};u()}function S(e){switch(e){case"filter":d.nodeRemarkHtml="根据前置原表或结果表的表数据设置筛选条件";break;case"sort":d.nodeRemarkHtml="根据前置原表或结果表对部分字段设置排序，包括正序和倒序";break;case"sample":d.nodeRemarkHtml="根据前置原表或结果表对表数据进行抽样设置，包括按样本量（个）、比例（%）、前N个、等距抽样";break;case"layering":d.nodeRemarkHtml="根据前置原表或结果表对某个字段进行分层设置，分层字段的数据必须是数值型或日期类型";break;case"groupCount":d.nodeRemarkHtml="根据前置原表或结果表对部分字段进行分组和汇总设置，汇总时会根据字段类型的不同进行不同方式的汇总，汇总方式包括汇总、求和、最大值、最小值、平均值<span style='color:red'>（注：若同时进行分组和汇总的设置，则结果集中只显示设置的字段，其他字段不显示；若只设置分组，则可自定义选择显示结果集的输出字段）</span>";break;case"delRepeat":d.nodeRemarkHtml="根据前置原表或结果表对部分字段进行去重设置，从而达到对表数据的去重<span style='color:red'>（注：去重后的结果集中只显示设置去重的字段，其他字段不显示）</spn>";break;case"comparison":d.nodeRemarkHtml="<p>描述：</p><p>（1）根据前置原表或结果表的表数据，分析表的某字段中XX内容在表中出现的次数，本节点支持对多个表进行分析</p><p>（2）例子（两表）：分析【表A】的【姓名】字段和【表B】的【客户名称】字段中【张三】在【表A】和【表B】中出现的次数</p>";break;case"change":d.nodeRemarkHtml="<p>描述：</p><p>（1）根据前置原表或结果表对部分字段设置转码规则，从而将表中的原数据转换成转码后的数据</p><p>（2）转码规则有特定的人员负责维护，图形化工具中只会选择需要的规则，并不会进行维护</p><p>（3）在结果集中会追加显示一列数据（该字段未转码前的数据），追加的列仅作为对比列进行显示，不会作为输出字段被应用到下一个节点中</p><p>（4）例子：可将将【表A】中【性别】字段中的0或1对应的转换为男和女</p>";break;case"union":d.nodeRemarkHtml="<p>1、描述</p><p>（1）根据前置原表或结果表对部分字段中的数据进行横向结果处理，包括合并、交集、补集</p><p>（2）本节点仅支持对两个表进行操作</p><p>2、名称解释</p><p>（1）合并：选取两个表的合并字段（字段的数据含义和数据类型必须相同），根据合并字段显示两个表所选字段内容合并后的结果数据，输出结果中的字段将以主表（基表）为主（<a data_type='union' class='viewEg'>点击查看图例</a>）</p><p>（2）交集：选取两个表的交集字段（字段的数据含义和数据类型必须相同），根据交集字段显示两个表所选字段内容中完全相同部分的结果数据，输出结果中的字段将以主表（基表）为主（<a data_type='intersect' class='viewEg'>点击查看图例</a>）</p><p>（3）补集：选取两个表的补集字段（字段的数据含义和数据类型必须相同），根据补集字段显示副表（从表）所选取字段中的内容不存在于主表（基表）所选取字段中的内容的数据，输出结果中的字段将以主表（基表）为主（<a data_type='exclude' class='viewEg'>点击查看图例</a>）</p>";break;case"barChart":d.nodeRemarkHtml="根据前置原表或结果表的表数据，可对其进行多维度的图表、图形分析，从而更加直观的了解数据的变化趋势，包括柱状图、饼图、折线图、散点图等";break;case"sql":d.nodeRemarkHtml="用户可借助SQL查询器自定义编写SQL语句，对数据进行实时查询";break;case"newNullNode":d.nodeRemarkHtml="根据前置节点的配置自动生成，展示的数据是根据前置配置节点的条件设置所执行后的过滤数据";break;case"datasource":d.nodeRemarkHtml="包括数据库中原始表、汉化表、个人数据表";break;case"relation":d.nodeRemarkHtml="<p>1、描述</p><p>（1）根据前置原表或结果表对其进行联查设置，关联方式包括左连接、右连接、内连接、外连接</p><p>（2）本节点支持多张表同时做关联设置（至少两张表）</p><p>2、名称解释</p><p>（1）左连接：选取关联字段将两张表进行关联，左表的所有数据均显示，右表的数据只显示关联字段值相等的数据，若右表关联结果无数据则补空显示（<a data_type='left_join' class='viewEg'>点击查看图例</a>）</p><p>（2）右连接：选取关联字段将两张表进行关联，右表的所有数据均显示，左表的数据只显示关联字段值相等的数据，若左表关联结果无数据则补空显示（<a data_type='right_join' class='viewEg'>点击查看图例</a>）</p><p>（3）内连接：选取关联字段将两张表进行关联，仅显示两张表中关联字段值相等的数据（<a data_type='inner_join' class='viewEg'>点击查看图例</a>）</p><p>（4）外连接：选取关联字段将两张表进行关联，显示出左表和右表关联后的所有数据，但去除重复数据，两表中若无关联数据则补空显示（<a data_type='join' class='viewEg'>点击查看图例</a>）</p>";break}d.detailTabActiveName="1"}t.sendIndexJs=f;var T={view:{selectedMulti:!1},data:{simpleData:{enable:!0},key:{title:"displayName"}},callback:{onClick:function(e,t,n){confirmMsg("提示","确定跳转到到此处？","info",(function(){var e=d.resourceRootNode;h.nodeData=JSON.parse(h.historyNodeInfo[n.id].nodeData),mxUtils.setPrettyXmlLayout(h.historyNodeInfo[n.id].xml),d.resourceZtree.removeChildNodes(e),e.children=h.historyNodeInfo[n.id].resourceZtreeNodes,e.open=!0,d.resourceZtree=$.fn.zTree.init($("#resourceZtree"),O,e),ownerEditor.resetHistory();for(var t=[],i=Object.keys(h.nodeData),a=$("#graphUuid").val(),r=0;r<i.length;r++){var o=h.nodeData[i[r]].nodeInfo.nodeExcuteStatus;2===o&&t.push(i[r])}k(a,null,t,!1)}),(function(){}))}}};function N(e,t,n){var i={name:t,displayName:t,id:e,pid:"resourceRoot",level:1,type:"resourceNode",isParent:!1,open:!1,icon:"images/icon/text.png"},a=d.resourceZtree.getNodesByParam("pid",null,null);a[0].children.push(i),$.fn.zTree.init($("#resourceZtree"),O,a[0])}function I(e,t){var n=d.resourceZtree.getNodesByParam("id",e,null);n[0].name=t,n[0].displayName=t,d.resourceZtree.updateNode(n[0])}function D(e){for(var t=0;t<e.length;t++){var n=d.resourceZtree.getNodesByParam("id",e[t],null);d.resourceZtree.hideNode(n[0])}}function P(e,t){if(0===e.length)for(var n=h.getDefaultParent(),i=n.children,a=0;a<i.length;a++)i[a].vertex&&e.push(i[a].id);for(var r=0;r<e.length;r++){var o=d.resourceZtree.getNodesByParam("id",e[r],null);if(0!==o.length){if(o[0].isHidden&&t)for(var s=0;s<o.length;s++)d.resourceZtree.showNode(o[s]);if(!o[0].isHidden&&!t)for(var l=0;l<o.length;l++)d.resourceZtree.hideNode(o[l])}}}function L(e,t){if(0===e.length)for(var n=h.getDefaultParent(),i=n.children,a=0;a<i.length;a++)i[a].vertex&&e.push(i[a].id);for(var r=0;r<e.length;r++){var o=d.resourceZtree.getNodesByParam("id",e[r],null);if(0!==o.length){if(o[0].isHidden&&!t)for(var s=0;s<o.length;s++)d.resourceZtree.showNode(o[s]);if(!o[0].isHidden&&t)for(var l=0;l<o.length;l++)d.resourceZtree.hideNode(o[l])}}}t.historySetting=T;var O={view:{selectedMulti:!1},data:{simpleData:{enable:!0},key:{title:"displayName"}},callback:{onClick:function(e,t,n){var i=h.model.getCell(n.id);h.setSelectionCell(i),lightHeight(n.id)}}};function M(e){var t=(new UUIDGenerator).id,n={name:e,displayName:e,id:t,pid:"historyRoot",level:1,type:"historyNode",isParent:!1,open:!1,icon:"images/icon/text.png"},i=d.historyZtree.getNodesByParam("pid",null,null);i[0].children.push(n),$.fn.zTree.init($("#historyZtree"),T,i[0]),E(t)}function E(e){var t=new mxCodec,n=t.encode(h.getModel()),i=mxUtils.getPrettyXml(n),a=d.resourceZtree.getNodesByParam("pid","resourceRoot",null);h.historyNodeInfo[e]={node:n,xml:i,nodeData:JSON.stringify(h.nodeData),resourceZtreeNodes:a}}function R(e,t,n,i,a){n+=document.body.scrollLeft,i+=document.body.scrollTop,$("#"+e+" ul").show(),$("#"+e).css({top:i+"px",left:n+"px",visibility:"visible"}),$("body").bind("mousedown",{menuId:e},B)}function j(e){$("#"+e)[0]&&$("#"+e).css({visibility:"hidden"}),$("body").unbind("mousedown",B)}function B(e){e.target.id===e.data.menuId||$(e.target).parents("#"+e.data.menuId).length>0||$("#"+e.data.menuId).css({visibility:"hidden"})}function _(e){var t=$("#importGraphInp").val();if(""!==t)if("xml"!==t.split(".")[1])d.$message({type:"warning",message:"导入的文件仅支持xml格式"});else{var n=2===h.openGraphType||3===h.openGraphType?3:1,i=new FormData;i.append("file",e.target.files[0]),i.append("graphType",n);var a=$("body").mLoading({text:"正在导入文件，请稍后……",hasCancel:!1});(0,s.importGraphXml)(i).then((function(e){a.destroy(),e.data?d.$notify({title:"提示",message:"文件导入成功",position:"bottom-right"}):d.$message.error("导入时解析文件出错")}))}else d.$message({type:"warning",message:"未选择待上传的文件"})}function V(){j("moreMenu"),d.graphListDialogVisible=!0,d.showGraphListType="export","undefined"!==typeof d.$refs.graphListExport&&d.$refs.graphListExport.getGraphList()}function F(e){var t=$("body").mLoading({text:"正在导出图形，请稍后……",hasCancel:!1}),n=d.$store.getters.personcode+"_exportGraph_"+(new Date).Format("yyyyMMddHHmmssS")+".xml";(0,s.exportGraphXml)(c({fileName:n},e)).then((function(e){e.data?(0,l.progressDownLoad)("/graphtool/graphCt/downLoadXml",n,{fileName:n},(function(){t.destroy(),d.$notify({title:"提示",message:"图形文件下载成功",position:"bottom-right"})}),(function(){t.destroy(),d.$message.error("图形文件下载失败")}),(function(){})):(t.destroy(),d.$message.error("图形导出失败"))}))}function U(){!1!==h.canEditor?ownerEditor.redo():d.$message({type:"warning",message:"当前图形您没有【恢复】操作的权限"})}function q(){!1!==h.canEditor?ownerEditor.undo():d.$message({type:"warning",message:"当前图形您没有【撤销】操作的权限"})}function z(){for(var e=[],t={},n=!1,i="",a="",r=!1,o=Object.keys(h.nodeData),s=0;s<o.length;s++){var u=h.nodeData[o[s]].nodeInfo.resultTableStatus;if(2===u){r=!0,a=o[s];break}}if(r){var c=[];c="datasource"===h.nodeData[a].nodeInfo.optType?[a]:(0,l.getPreNodes)(a,[a]);for(var d=0;d<c.length;d++){var f=h.nodeData[c[d]].nodeInfo;if(("datasource"===f.optType||"newNullNode"===f.optType)&&(2===f.midTableStatus||2===f.resultTableStatus)){var p=null;if("datasource"===f.optType)p=h.nodeData[c[d]].columnsInfo;else{if("newNullNode"!==f.optType)continue;var m=h.nodeData[c[d]].parentIds;m.length>0&&$.inArray(m[0],c)>-1&&(p=h.nodeData[m[0]].columnsInfo)}for(var g=[],v=[],y=0;y<p.length;y++){var b=p[y].isOutputColumn;1===b&&(g.push(p[y].newColumnName),v.push(p[y].columnType))}if(2===f.midTableStatus&&e.push({columnNameArr:g,columnTypeArr:v}),2===f.resultTableStatus){t={columnNameArr:g,columnTypeArr:v};break}}}}else n=!0,i="未将结果表标记为最终结果表";return{isError:n,message:i,middleTableArr:e,finalTable:t}}function Q(){return H.apply(this,arguments)}function H(){return H=(0,r.default)(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,u,f,p,m,g,v,y,b,A,C,k,S,T,N,I,D,P,L,O,M,E,R,j,B,_,V,F,U,q,z,Q,H,G;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("=====调用模型图形的保存方法====="),t=!1,n="",i="",a=[],r=[],o="",u="",f=!1,p=Object.keys(h.nodeData),m=0;case 11:if(!(m<p.length)){e.next=20;break}if(g=h.nodeData[p[m]].nodeInfo.resultTableStatus,2!==g){e.next=17;break}return f=!0,u=p[m],e.abrupt("break",20);case 17:m++,e.next=11;break;case 20:if(f){e.next=25;break}t=!0,n="未将结果表标记为最终结果表",e.next=104;break;case 25:if(v=c(c({},{}),h.nodeData),"datasource"!==v[u].nodeInfo.optType){e.next=30;break}i+="/*原表【"+v[u].nodeInfo.nodeName+"】的查询SQL语句*/\n"+v[u].nodeInfo.nodeSql+"\n",e.next=95;break;case 30:return y=(0,l.getPreNodes)(u,[u]),b={openType:h.openType,nodeIdList:y.join(","),nodeData:JSON.stringify(h.nodeData)},console.log("=====模型图形开始执行====="),e.next=35,(0,s.executeNodeSql)(b);case 35:if(A=e.sent,null==A.data){e.next=93;break}if(console.log("=====模型图形执行结果====="),console.log(A.data),!A.data.isError){e.next=44;break}t=!0,n="模型设计校验图形未通过：存在运行出错的节点",e.next=91;break;case 44:(0,l.nodeCallBack)(y,A.data.nodeData),v=c(c({},{}),h.nodeData),C="",k="",S="",T="",console.log("开始组织节点结果表语句======"),N=0;case 52:if(!(N<y.length)){e.next=89;break}if(I=v[y[N]].nodeInfo,"datasource"===I.optType&&(2===I.midTableStatus||2===I.resultTableStatus)){if(S=I.nodeSql,v[y[N]].hasParam&&v[y[N]].paramsSetting)for(S+=" WHERE "+v[y[N]].paramsSetting.sql,D=v[y[N]].paramsSetting.arr,P=0;P<D.length;P++)a.push(D[P].copyParamId),r.push(c(c({},{}),D[P]));i+="/*原表【"+I.nodeName+"】的查询SQL语句*/\n"+S+"\n"}if("newNullNode"!==I.optType){e.next=86;break}if(L=v[y[N]].parentIds,!(L.length>0&&$.inArray(L[0],y)>-1)){e.next=86;break}for(O=v[L[0]].nodeInfo,M=h.nodeData[L[0]].columnsInfo,E=[],R=0;R<M.length;R++)1===M[R].isOutputColumn&&E.push(M[R].newColumnName);if("layering"===O.optType?(j=I.index,B=O.resultTableNameArr,B.length>j&&(S=O.nodeSqlArr[j],T=B[j])):"sql"===O.optType?(S=O.resultSql,T=O.resultTableName):(S=O.nodeSql,T=O.resultTableName),2!==I.midTableStatus&&2!==I.resultTableStatus){e.next=84;break}if(k+="/*节点【"+O.nodeName+"】的删除结果表的SQL语句*/\n DROP TABLE "+T+"\n",i+="/*节点【"+O.nodeName+"】的创建结果表的SQL语句*/\n CREATE TABLE "+T+" AS "+S+"\n",S="SELECT ".concat(E.join(",")," FROM ").concat(T),!v[L[0]].hasParam||!v[L[0]].paramsSetting){e.next=81;break}return _={sql:S,replaceParamSql:v[L[0]].paramsSetting.sql,optType:O.optType},e.next=71,(0,s.dealReplaceParamSql)(_);case 71:if(V=e.sent,null!=V.data&&!V.data.isError){e.next=78;break}return t=!0,n="未正确获取模型语句",e.abrupt("break",89);case 78:S=V.data.dealSql;case 79:for(F=v[L[0]].paramsSetting.arr,U=0;U<F.length;U++)a.push(F[U].copyParamId),r.push(c(c({},{}),F[U]));case 81:i+="/*节点【"+O.nodeName+"】的查询结果表的SQL语句*/\n "+S+"\n",e.next=86;break;case 84:C+="/*节点【"+O.nodeName+"】的删除结果视图的SQL语句*/\n DROP VIEW "+T+"\n",i+="/*节点【"+O.nodeName+"】的创建结果视图的SQL语句*/\n CREATE VIEW "+T+" AS "+S+"\n";case 86:N++,e.next=52;break;case 89:i=k+i+C,console.log("=====组织节点结果表语句结束=====");case 91:e.next=95;break;case 93:t=!0,n="模型设计校验图形的请求失败";case 95:if(t){e.next=104;break}return console.log("=====模型图形开始保存====="),q=new mxCodec,z=q.encode(h.getModel()),Q=mxUtils.getPrettyXml(z),H=w(),G={graphUuid:d.graphUuid,createType:d.openType_graph,graphType:4,executeStatus:x(),graphName:"模型图形_"+H,description:"系统自动保存的模型图形_"+H,graphXml:Q,nodeData:JSON.stringify(v),modelSql:i},e.next=104,(0,s.saveGraphInterface)(G).then((function(e){console.log("=====模型图形保存结果====="),console.log(e.data),e.data?(d.graphUuid=e.data,o=e.data):(t=!0,n="模型设计保存图形信息失败")}));case 104:return e.abrupt("return",{isError:t,message:n,graphUuid:o,modelSql:i,modelParamIdArr:a,paramArr:r});case 105:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function G(){for(var e=["filter","sort","sample","layering","groupCount","delRepeat","change","union","relation","sql"],t=[],n=Object.keys(h.nodeData),i=0;i<n.length;i++){var a=h.nodeData[n[i]].nodeInfo.optType;$.inArray(a,e)>-1&&h.nodeData[n[i]].isSet&&t.push(n[i])}2!==d.openGraphType&&3!==d.openGraphType||(t=W(t));for(var r=[],o=h.getModel().cells,s=Object.keys(o),l=0;l<s.length;l++)o[s[l]].edge&&r.push(o[s[l]]);d.nodeParamArr=[];for(var u=0;u<t.length;u++){for(var c=t[u],f=h.nodeData[t[u]].nodeInfo.nodeName,p=$.extend(!0,{},d.nodeParamRelArr[t[u]]),m=!1,g=0,v=0;v<r.length;v++)if(r[v].source&&r[v].source.id===t[u]){g=r[v].value;break}p&&p.arr&&p.arr.length>0&&(m=!0),d.nodeParamArr.push({nodeId:c,nodeName:f,hasParamSet:m,lineNum:g})}d.nodeParamArr.length>0?(d.nodeParamListDialogVisible=!0,2!==d.openGraphType&&3!==d.openGraphType||d.$nextTick((function(){$(d.$refs.nodeParamTable.$refs.bodyWrapper.children[0].children[1]).sortable().disableSelection()}))):d.$message({type:"warning",message:"暂无可设置参数的节点"})}function Y(){for(var e=Object.keys(h.nodeData),t=function(t){var n=e[t],a=d.$refs.nodeParamTable.$refs.bodyWrapper.children[0].children[1].children;"undefined"!==typeof a&&a.length>0&&$.each((function(){var e=parseInt($(this).find("td:eq(0)>div>div").html())-1;if(d.nodeParamArr[e].nodeId===n){h.nodeData[n].nodeInfo.dataSourceType=h.openType;var t=$.extend(!0,{},d.nodeParamRelArr[n]);if("undefined"!==typeof t&&Object.keys(t).length>0)return h.nodeData[n].hasParam=!0,h.nodeData[n].paramsSetting=t,h.nodeData[n].nodeInfo.nodeSort=i,!1}}))},n=0;n<e.length;n++)t(n);d.nodeParamListDialogVisible=!1}function W(e){for(var t=[],n=[],i=0;i<e.length;i++)"undefined"!==typeof h.nodeData[e[i]].nodeInfo.nodeSort?t.push(e[i]):n.push(e[i]);if(0===t.length)return n;for(var a=0,r=1;r<t.length;r++){a=0;for(var o=0;o<=t.length-r;o++)parseInt(h.nodeData[t[o]].nodeInfo.nodeSort)>parseInt(h.nodeData[t[a]].nodeInfo.nodeSort)&&(a=o);var s=t[t.length-r];t[t.length-r]=t[a],t[a]=s}return n.length>0&&t.push.apply(t,n),t}function K(e,t){var n="undefined"===typeof d.nodeParamRelArr[e]?{}:d.nodeParamRelArr[e];d.sp_nodeId=e,d.sp_paramsSetting=n,d.nodeParamSettingDialogVisible=!0}function J(){var e=d.$refs.settingParams.getOptMessage();d.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){var e=d.$refs.settingParams.getParamsSetting();if(e.verify){var t=d.sp_nodeId,n=d.nodeParamArr.find((function(e){return e.nodeId===t}));if(""!==e.paramsSetting.sql&&e.paramsSetting.arr.length>0)"undefined"!==typeof n&&(n.hasParamSet=!0),d.nodeParamRelArr[t]=c(c({},{}),e.paramsSetting),h.nodeData[t].hasParam=!0,h.nodeData[t].paramsSetting=e.paramsSetting;else{"undefined"!==typeof n&&(n.hasParamSet=!1);var i=h.nodeData[t].nodeInfo.nodeName;d.$message({type:"warning",message:"节点【".concat(i,"】参数设置不正确，不对参数配置信息进行保存")}),delete h.nodeData[t].hasParam,delete h.nodeData[t].paramsSetting,delete d.nodeParamRelArr[t]}d.initNodeSettingVue=!1,d.nodeParamSettingDialogVisible=!1,A()}else d.$message({type:"warning",message:e.message})})).catch((function(){}))}function X(e,t){d.$confirm("确定清除参数信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){d.nodeParamArr[t].hasParamSet=!1,delete d.nodeParamRelArr[e],h.nodeData[e]&&h.nodeData[e].hasParam&&(delete h.nodeData[e].hasParam,delete h.nodeData[e].paramsSetting,delete h.nodeData[e].nodeInfo.nodeSort,delete h.nodeData[e].replaceParamSql)})).catch((function(){}))}function Z(){var e=$.trim(d.searchZtreeContent);if(""===e)d.isSearchExpand&&(ae(),d.zTreeObj.expandAll(!1),d.isSearchExpand=!1);else{d.isSearchExpand&&ae(),d.isSearchExpand=!0,se(!1,e);var t=d.zTreeObj.getNodesByFilter(ee);if(t&&t.length>0)te(t),ne(t,!0),ie(t,e);else for(var n=re(),i=0;i<n.length;i++)n[i].pid&&d.zTreeObj.hideNode(n[i])}}function ee(e){var t=$.trim(d.searchZtreeContent);return e.name.indexOf(t)>-1||e.name.indexOf(t.toUpperCase())>-1||e.name.indexOf(t.toLowerCase())>-1}function te(e){for(var t=0,n=e.length;t<n;t++){var i=e[t].getParentNode();i&&d.zTreeObj.expandNode(i,!0,!1,!1)}}function ne(e,t){for(var n=0;n<e.length;n++)e[n].highlight=t,d.zTreeObj.updateNode(e[n])}function ie(e,t){se(!0,t);for(var n=0;n<e.length;n++){e[n].isHidden=!1,d.zTreeObj.updateNode(e[n]);var i=e[n].getParentNode();i&&i.isHidden&&(i.isHidden=!1,i.open=!0,d.zTreeObj.updateNode(i))}}function ae(){for(var e=re(),t=0;t<e.length;t++)e[t].isHidden&&(e[t].isHidden=!1,d.zTreeObj.updateNode(e[t])),d.zTreeObj.showNode(e[t])}function re(){for(var e=[],t=d.zTreeObj.getNodes(),n=0;n<t.length;n++)e.push(t[n]),e=oe(t[n],e);return e}function oe(e,t){var n=e.children;if(n&&n.length>0)for(var i=0;i<n.length;i++)t.push(n[i]),n[i].children&&n[i].children.length>0&&(t=oe(n[i],t));return t}function se(e,t){var n=d.zTreeObj.transformToArray(d.zTreeObj.getNodes());if(e)for(var i=0;i<n.length;i++)null!=n[i].pid&&0===d.zTreeObj.getNodesByFilter(ee,!1,n[i]).length&&n[i].name.indexOf(t)<0&&n[i].name.indexOf(t.toUpperCase())<0&&n[i].name.indexOf(t.toLowerCase())<0&&d.zTreeObj.hideNode(n[i]);else for(i=0;i<n.length;i++)!0===n[i].isHidden&&(n[i].isHidden=!1,d.zTreeObj.updateNode(n[i]))}function le(){var e=e||window.event,t=e.clientX,n=e.clientY,i=$("#H_S_Menu"),a=($("#geToolbarContainer"),document.documentElement.clientWidth-t);a<i.width()&&(t=document.documentElement.clientWidth-i.width()-20),n+=document.body.scrollTop,$("#H_S_Menu ul").show(),i.css({top:n+"px",left:t+"px",visibility:"visible"}),$("body").bind("mousedown",{menuId:"H_S_Menu"},B)}function ue(){j("H_S_Menu"),ownerEditor.toolBarH_S()}function ce(){j("H_S_Menu"),ownerEditor.leftAreaH_S()}function de(){j("H_S_Menu"),ownerEditor.rightAreaH_S()}function he(){var e=h.curCell.id,t=d.nodeParamRelArr[e]?d.nodeParamRelArr[e]:{};d.sp_nodeId=e,d.sp_paramsSetting=t,d.nodeParamSettingDialogVisible=!0}function fe(){for(var e=[],t=Object.keys(d.nodeParamRelArr),n=0;n<t.length;n++){var i=Object.keys(d.nodeParamRelArr[t[n]]);if(0!==i.length&&"undefined"!==typeof h.nodeData[t[n]]&&h.nodeData[t[n]].hasParam){var a=d.nodeParamRelArr[t[n]].arr;Array.from(a,(function(t){return e.push(t)}))}}return e}function pe(e,t){d.comparison_dataTableName=e,d.comparison_columnVal=t,d.comparisonTableDetailDialogVisible=!0}t.resourceSetting=O},ce31:function(e,t,n){"use strict";n.r(t);var i=n("071e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ce40:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRole}},[e._v(" "+e._s(e.$t("permission.addRole"))+" ")]),n("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.rolesList,border:""}},[n("el-table-column",{attrs:{align:"center",label:"Role Key",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.key)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"Role Name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),n("el-table-column",{attrs:{align:"header-center",label:"Description"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.description)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"Operations"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.handleEdit(t)}}},[e._v(" "+e._s(e.$t("permission.editPermission"))+" ")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return e.handleDelete(t)}}},[e._v(" "+e._s(e.$t("permission.delete"))+" ")])]}}])})],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"edit"===e.dialogType?"Edit Role":"New Role"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{attrs:{model:e.role,"label-width":"80px","label-position":"left"}},[n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Role Name"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})],1),n("el-form-item",{attrs:{label:"Desc"}},[n("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"Role Description"},model:{value:e.role.description,callback:function(t){e.$set(e.role,"description",t)},expression:"role.description"}})],1),n("el-form-item",{attrs:{label:"Menus"}},[n("el-tree",{ref:"tree",staticClass:"permission-tree",attrs:{"check-strictly":e.checkStrictly,data:e.routesData,props:e.defaultProps,"show-checkbox":"","node-key":"path"}})],1)],1),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" "+e._s(e.$t("permission.cancel"))+" ")]),n("el-button",{attrs:{type:"primary"},on:{click:e.confirmRole}},[e._v(" "+e._s(e.$t("permission.confirm"))+" ")])],1)],1)],1)},a=[]},ce42:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.initLoading,expression:"initLoading"}],staticStyle:{width:"100%",height:"600px","overflow-y":"auto"}},[n("el-col",{staticStyle:{"border-color":"#DCDFE6","border-style":"solid","border-width":"0 1px 1px 1px"},attrs:{span:6}},[n("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-collapse-item",{attrs:{name:"columnZtreeList"}},[n("template",{slot:"title"},[n("span",{staticStyle:{"padding-left":"10px"}},[e._v("字段列表")])]),n("el-input",{attrs:{placeholder:"搜索关键字"},model:{value:e.searchColumnContent,callback:function(t){e.searchColumnContent=t},expression:"searchColumnContent"}}),n("ul",{staticClass:"ztree",staticStyle:{height:"436px",margin:"10px 0"},attrs:{id:"columnZtree"}})],2),n("el-collapse-item",{attrs:{name:"funZtreeList"}},[n("template",{slot:"title"},[n("span",{staticStyle:{"padding-left":"10px"}},[e._v("函数列表")])]),n("el-input",{attrs:{placeholder:"搜索关键字"},model:{value:e.searchFunContent,callback:function(t){e.searchFunContent=t},expression:"searchFunContent"}}),n("ul",{staticClass:"ztree",staticStyle:{height:"436px",margin:"10px 0"},attrs:{id:"funZtree"}})],2)],1)],1),n("el-col",{staticStyle:{border:"1px solid #DCDFE6",padding:"0 10px"},attrs:{span:18}},[n("el-row",[n("el-divider",[e._v("字段信息")])],1),n("el-row",{staticStyle:{padding:"3px 0"}},[n("el-row",[n("el-col",{attrs:{span:3}},[n("label",{staticClass:"labelClass"},[e._v("输出字段")])]),n("el-col",{attrs:{span:9}},[n("el-input",{staticStyle:{width:"100%"},model:{value:e.outputColumnName,callback:function(t){e.outputColumnName=t},expression:"outputColumnName"}})],1),n("el-col",{attrs:{span:3}},[n("label",{staticClass:"labelClass"},[e._v("字段类型")])]),n("el-col",{attrs:{span:9}},[n("el-select",{staticStyle:{width:"100%"},model:{value:e.columnType,callback:function(t){e.columnType=t},expression:"columnType"}},e._l(e.columnTypeArr,(function(t){return n("el-option",{key:t.val,attrs:{label:t.name,value:t.val}},[e._v(e._s(t.name))])})),1)],1)],1)],1),n("el-row",[n("el-divider",[e._v("函数公式")])],1),n("el-row",[n("el-input",{ref:"customizeColumnInp",staticStyle:{"font-size":"18px"},attrs:{type:"textarea",resize:"none",autosize:{minRows:15,maxRows:15}},model:{value:e.customizeColumnVal,callback:function(t){e.customizeColumnVal=t},expression:"customizeColumnVal"}})],1),n("el-row",[n("el-tag",{staticStyle:{height:"35px","line-height":"35px"}},e._l(e.signArr,(function(t){return n("div",{staticClass:"signSpan",on:{click:function(n){return e.inputSign(t.value)}}},[e._v(e._s(t.name))])})),0)],1)],1)],1)},a=[]},ce4f:function(e,t,n){},ce6e:function(e,t,n){"use strict";n.r(t);var i=n("3c18"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ce79:function(e,t,n){"use strict";n.r(t);var i=n("a1f5"),a=n("9f66");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},ceb7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary"},on:{click:e.add}}),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.update}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",disabled:0===e.selections.length},on:{click:e.deleteRel}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"表名称",prop:"tbName"}}),n("el-table-column",{attrs:{label:"字段名称",prop:"colName"}}),n("el-table-column",{attrs:{label:"从表名称",prop:"relationTableName"}}),n("el-table-column",{attrs:{label:"从表字段",prop:"relationCol"}}),n("el-table-column",{attrs:{label:"关联关系",align:"center",prop:"sqlGenJoinType",formatter:e.formatSqlGenJoinType}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[[n("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"right",width:"80%"}},[n("el-form-item",{attrs:{prop:"tableMetaUuid",label:"表名称"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.temp.tbName,callback:function(t){e.$set(e.temp,"tbName",t)},expression:"temp.tbName"}}),n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.temp.tableMetaUuid,callback:function(t){e.$set(e.temp,"tableMetaUuid",t)},expression:"temp.tableMetaUuid"}})],1),n("el-form-item",{attrs:{prop:"colMetaUuid",label:"字段名称"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{disabled:!0},model:{value:e.temp.colName,callback:function(t){e.$set(e.temp,"colName",t)},expression:"temp.colName"}}),n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.temp.colMetaUuid,callback:function(t){e.$set(e.temp,"colMetaUuid",t)},expression:"temp.colMetaUuid"}})],1),n("el-col",{attrs:{span:4}},[n("el-button",{on:{click:function(t){return e.showDataTree(1)}}},[e._v("选择")])],1)],1)],1),n("el-form-item",{attrs:{prop:"relTableMeataUuid",label:"从表名称"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.temp.relationTableName,callback:function(t){e.$set(e.temp,"relationTableName",t)},expression:"temp.relationTableName"}}),n("el-input",{staticStyle:{display:"none"},attrs:{disabled:!0},model:{value:e.temp.relTableMetaUuid,callback:function(t){e.$set(e.temp,"relTableMetaUuid",t)},expression:"temp.relTableMetaUuid"}})],1),n("el-form-item",{attrs:{prop:"relColMetaUuid",label:"从表字段"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{disabled:!0},model:{value:e.temp.relationCol,callback:function(t){e.$set(e.temp,"relationCol",t)},expression:"temp.relationCol"}}),n("el-input",{staticStyle:{display:"none"},attrs:{hidden:"",disabled:!0},model:{value:e.temp.relColMetaUuid,callback:function(t){e.$set(e.temp,"relColMetaUuid",t)},expression:"temp.relColMetaUuid"}})],1),n("el-col",{attrs:{span:4}},[n("el-button",{on:{click:function(t){return e.showDataTree(2)}}},[e._v("选择")])],1)],1)],1),n("el-form-item",{attrs:{prop:"sqlGenJoinType",label:"关联关系"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择关联关系"},model:{value:e.temp.sqlGenJoinType,callback:function(t){e.$set(e.temp,"sqlGenJoinType",t)},expression:"temp.sqlGenJoinType"}},e._l(e.sqlJoinCols,(function(e){return n("el-option",{key:e.sqlGenJoinType,attrs:{label:e.sqlGenJoinName,value:e.sqlGenJoinType,disabled:e.disabled}})})),1)],1)],1)],n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("保存")])],1),e.dataTableTree?n("el-dialog",{staticClass:"abow_dialog",attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.dataTableTree,title:"请选择数据表",width:"600px"},on:{"update:visible":function(t){e.dataTableTree=t}}},[n("data-tree",{ref:"dataTableTree",attrs:{"data-user-id":e.dataUserId,"scene-code":e.sceneCode}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dataTableTree=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.getDataTable}},[e._v("确定")])],1)],1):e._e()],2)],1)},a=[]},ced6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAYAAAARIY8tAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFwAAAABgZeJ8AAAB0UlEQVRIDc1VPUsDQRCdMUFFQUETRZCIgoWlhYJCsLSIomXETisbUVCwTCmxESw1oJVBEWIR6xTiD4gIVkJM4QciWgSLwJ1vLjGcJPsRKwdedm7mvZndu7kcu64bJaIJQGf3zHylIyhzaJAETPYFQr+yiCbRosn5U+242PIHbP2gLRG8NZxil+aXe4jdVitd2S0106ATRTepXD4m5nGrBgF6ZuwqCfK2lYDoE7whii2NEjkdRo0T+GjmBFKvGzih7OmtsXiFcN1sA5EtVFEpof/ds50ifRlN9t81GMZmRzQbrkuZnoEDxQYgb3Ef8AiIHQIvwCuwD6jvhIwpoLIiEsqXCrk2QDgqS5pOMIjdLQJnbiw+TfImizHvcDZ9A08mSjhKUx+N6AGqdSDrJhJBFL8Eoh4cJ+PFkKtyhNvQdA3y+Is+AEp0V+xC4ZCvQlhikhMO4nlf7peraxDFjU0BIT5PveO2XNSU8CUmOeEgLt+UhqZr0AvFCjDjKSfH4hTkWQ/iV0xywhFuY8MOdFNUEBU4dRv5iWEtACozTlEEyiP0CGMdwDoFMCAT9ITYG9YIoDTTmIpw1aeeq/qmb3hNYtOgRoaT8V/Y+NIgZ0P8Iyf3DWnlJVQT2cG7AAAAAElFTkSuQmCC"},cf21:function(e,t,n){"use strict";n.r(t);var i=n("a939"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},cf41:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"600px","overflow-y":"auto"}},[n("el-tabs",{model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[n("el-tab-pane",{attrs:{label:"基本信息",name:"basicInfo"}},[n("Basic",{ref:"basicVueRef"})],1),n("el-tab-pane",{attrs:{label:"条件设置",name:"nodeSet"}},[n("el-collapse",{attrs:{accordion:""},model:{value:e.activeCollapseNames,callback:function(t){e.activeCollapseNames=t},expression:"activeCollapseNames"}},[n("el-collapse-item",{attrs:{title:"分组设置",name:"groupSet"}},[n("el-transfer",{staticStyle:{"padding-left":"90px"},attrs:{filterable:"","filter-placeholder":"请输入搜索内容",data:e.columnData,titles:["可选字段","分组字段"]},on:{change:e.changeGroupData},model:{value:e.columnDataValue,callback:function(t){e.columnDataValue=t},expression:"columnDataValue"}})],1),n("el-collapse-item",{attrs:{title:"汇总设置",name:"countSet"}},[n("el-table",{staticStyle:{width:"770px","margin-left":"90px"},attrs:{id:"graphCountNodeTable",data:e.items,height:"450"}},[n("el-table-column",{attrs:{label:"待汇总字段",width:"350","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("div",{staticClass:"xm-select-demo",attrs:{id:"searchName"+e.row.id}})]}}])}),n("el-table-column",{attrs:{label:"汇总方式",width:"240","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("div",{staticClass:"xm-select-demo",attrs:{id:"searchType"+e.row.id}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.$index?n("el-button",{staticClass:"oper-btn add-3",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:e.addCountTr}}):e._e(),0!==t.$index?n("el-button",{staticClass:"oper-btn delete-7",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.delCountTr(t.$index)}}}):e._e()]}}])})],1)],1)],1)],1),n("el-tab-pane",{attrs:{label:"输出字段设置",name:"outPutCol"}},[n("el-row",{staticStyle:{"padding-top":"10px"}},[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn customfield",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(t){return e.customizeColumn("1")}}}),n("el-button",{staticClass:"oper-btn help",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(t){e.helpDialogVisible=!0}}})],1)],1),n("el-table",{ref:"outPutTable",staticStyle:{width:"100%"},attrs:{data:e.columnItems,border:"",height:"527"}},[n("el-table-column",{attrs:{type:"index",label:"编号",width:"60",align:"center",resizable:!1}}),n("el-table-column",{attrs:{label:"上一节点名称",width:"200","show-overflow-tooltip":!0,prop:"rtn","header-align":"center",resizable:!1}}),n("el-table-column",{attrs:{label:"字段名称",width:"260","show-overflow-tooltip":!0,prop:"columnName","header-align":"center",resizable:!1}}),n("el-table-column",{attrs:{label:"输出字段名称",width:"240","header-align":"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.newColumnName,callback:function(n){e.$set(t.row,"newColumnName",n)},expression:"scope.row.newColumnName"}})]}}])}),n("el-table-column",{attrs:{align:"center",width:"100",resizable:!1},scopedSlots:e._u([{key:"header",fn:function(t){return[e._v(" 输出字段"),n("el-checkbox",{staticStyle:{"padding-left":"5px"},attrs:{disabled:e.isAllDisabled},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})]}},{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{disabled:e.isDisabled},on:{change:e.checkBoxChange},model:{value:t.row.checked,callback:function(n){e.$set(t.row,"checked",n)},expression:"scope.row.checked"}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"100",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"oper-btn setting",staticStyle:{"line-height":"normal"},attrs:{type:"primary"},on:{click:function(n){return e.customizeColumn("2",t.row)}}})]}}])})],1)],1)],1),n("el-dialog",{attrs:{visible:e.helpDialogVisible,"append-to-body":!0,title:"说明",width:"400px"},on:{"update:visible":function(t){e.helpDialogVisible=t}}},[n("div",{staticStyle:{height:"260px",padding:"10px"}},[n("p",{staticStyle:{"text-indent":"2em"}},[e._v("（1）如果修改了【输出字段名称】且存在已配置过或执行过的后续节点，则后续节点关于该字段的配置信息会失效")]),n("p",{staticStyle:{"text-indent":"2em"}},[e._v("（2）如果继续使用后续节点，则需重新配置和执行相关节点")]),n("p",{staticStyle:{"text-indent":"2em"}},[e._v("（3）如果修改了【输出字段名称】后并执行了当前节点，则后续节点的执行结果会发生变化")]),n("p",{staticStyle:{"text-indent":"2em"}},[e._v("（4）支持通过拖拽更改输出字段的顺序，同时在结果集中同步展示")])])]),e.customizeColumnDialogVisible?n("el-dialog",{attrs:{visible:e.customizeColumnDialogVisible,title:e.customizeColumnTitle,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"1000px"},on:{"update:visible":function(t){e.customizeColumnDialogVisible=t}}},[n("CustomizeColumn",{ref:"customizeColumn",attrs:{columnInfoArr:e.columnsInfoPre,"cur-column-info":e.curColumnInfo,"node-type":"groupCount"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.customizeColumnDialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.customizeColumnBack()}}},[e._v("保存")])],1)],1):e._e()],1)},a=[]},cf45:function(e,t,n){"use strict";n.r(t);var i=n("788e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},cf5f:function(e,t,n){"use strict";n.r(t);var i=n("4728"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},cf66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("386d");var i={name:"AuthRedirect",created:function(){var e=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",e),window.close())},render:function(e){return e()}};t.default=i},cf87:function(t,n,i){var a,r;i("55dd"),i("8449"),i("6b54"),i("7514"),i("a481"),i("7f7f"),i("386d"),i("28a5"),i("3b2b"),i("c5f6"),i("4917");var o=i("7037");(function(e,s){"object"===o(n)&&"undefined"!==typeof t?t.exports=s():(a=s,r="function"===typeof a?a.call(n,i,n,t):a,void 0===r||(t.exports=r))})(0,(function(){"use strict";var t=navigator.userAgent,n=navigator.platform,i=/gecko\/\d/i.test(t),a=/MSIE \d/.test(t),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),s=/Edge\/(\d+)/.exec(t),l=a||r||s,u=l&&(a?document.documentMode||6:+(s||r)[1]),c=!s&&/WebKit\//.test(t),d=c&&/Qt\/\d+\.\d+/.test(t),h=!s&&/Chrome\//.test(t),f=/Opera\//.test(t),p=/Apple Computer/.test(navigator.vendor),m=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),g=/PhantomJS/.test(t),v=!s&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),y=/Android/.test(t),b=v||y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),A=v||/Mac/.test(n),w=/\bCrOS\b/.test(t),x=/win/i.test(n),C=f&&t.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(f=!1,c=!0);var k=A&&(d||f&&(null==C||C<12.11)),S=i||l&&u>=9;function T(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var N,I=function(e,t){var n=e.className,i=T(t).exec(n);if(i){var a=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(a?i[1]+a:"")}};function D(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function P(e,t){return D(e).appendChild(t)}function L(e,t,n,i){var a=document.createElement(e);if(n&&(a.className=n),i&&(a.style.cssText=i),"string"==typeof t)a.appendChild(document.createTextNode(t));else if(t)for(var r=0;r<t.length;++r)a.appendChild(t[r]);return a}function O(e,t,n,i){var a=L(e,t,n,i);return a.setAttribute("role","presentation"),a}function M(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function E(){var t;try{t=document.activeElement}catch(e){t=document.body||null}while(t&&t.shadowRoot&&t.shadowRoot.activeElement)t=t.shadowRoot.activeElement;return t}function R(e,t){var n=e.className;T(t).test(n)||(e.className+=(n?" ":"")+t)}function j(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!T(n[i]).test(t)&&(t+=" "+n[i]);return t}N=document.createRange?function(e,t,n,i){var a=document.createRange();return a.setEnd(i||e,n),a.setStart(e,t),a}:function(t,n,i){var a=document.body.createTextRange();try{a.moveToElementText(t.parentNode)}catch(e){return a}return a.collapse(!0),a.moveEnd("character",i),a.moveStart("character",n),a};var B=function(e){e.select()};function _(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function V(e,t,n){for(var i in t||(t={}),e)!e.hasOwnProperty(i)||!1===n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function F(e,t,n,i,a){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var r=i||0,o=a||0;;){var s=e.indexOf("\t",r);if(s<0||s>=t)return o+(t-r);o+=s-r,o+=n-o%n,r=s+1}}v?B=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:l&&(B=function(e){try{e.select()}catch(t){}});var U=function(){this.id=null,this.f=null,this.time=0,this.handler=_(this.onTimeout,this)};function q(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}U.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},U.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var z=50,Q={toString:function(){return"CodeMirror.Pass"}},$={scroll:!1},H={origin:"*mouse"},G={origin:"+move"};function Y(e,t,n){for(var i=0,a=0;;){var r=e.indexOf("\t",i);-1==r&&(r=e.length);var o=r-i;if(r==e.length||a+o>=t)return i+Math.min(o,t-a);if(a+=r-i,a+=n-a%n,i=r+1,a>=t)return i}}var W=[""];function K(e){while(W.length<=e)W.push(J(W)+" ");return W[e]}function J(e){return e[e.length-1]}function X(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Z(e,t,n){var i=0,a=n(t);while(i<e.length&&n(e[i])<=a)i++;e.splice(i,0,t)}function ee(){}function te(e,t){var n;return Object.create?n=Object.create(e):(ee.prototype=e,n=new ee),t&&V(t,n),n}var ne=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ie(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ne.test(e))}function ae(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ie(e))||t.test(e):ie(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function se(e){return e.charCodeAt(0)>=768&&oe.test(e)}function le(e,t,n){while((n<0?t>0:t<e.length)&&se(e.charAt(t)))t+=n;return t}function ue(e,t,n){for(var i=t>n?-1:1;;){if(t==n)return t;var a=(t+n)/2,r=i<0?Math.ceil(a):Math.floor(a);if(r==t)return e(r)?t:n;e(r)?n=r:t=r+i}}function ce(e,t,n,i){if(!e)return i(t,n,"ltr",0);for(var a=!1,r=0;r<e.length;++r){var o=e[r];(o.from<n&&o.to>t||t==n&&o.to==t)&&(i(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr",r),a=!0)}a||i(t,n,"ltr")}var de=null;function he(e,t,n){var i;de=null;for(var a=0;a<e.length;++a){var r=e[a];if(r.from<t&&r.to>t)return a;r.to==t&&(r.from!=r.to&&"before"==n?i=a:de=a),r.from==t&&(r.from!=r.to&&"before"!=n?i=a:de=a)}return null!=i?i:de}var fe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,r=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var u="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!i.test(e))return!1;for(var c=e.length,d=[],h=0;h<c;++h)d.push(n(e.charCodeAt(h)));for(var f=0,p=u;f<c;++f){var m=d[f];"m"==m?d[f]=p:p=m}for(var g=0,v=u;g<c;++g){var y=d[g];"1"==y&&"r"==v?d[g]="n":r.test(y)&&(v=y,"r"==y&&(d[g]="R"))}for(var b=1,A=d[0];b<c-1;++b){var w=d[b];"+"==w&&"1"==A&&"1"==d[b+1]?d[b]="1":","!=w||A!=d[b+1]||"1"!=A&&"n"!=A||(d[b]=A),A=w}for(var x=0;x<c;++x){var C=d[x];if(","==C)d[x]="N";else if("%"==C){var k=void 0;for(k=x+1;k<c&&"%"==d[k];++k);for(var S=x&&"!"==d[x-1]||k<c&&"1"==d[k]?"1":"N",T=x;T<k;++T)d[T]=S;x=k-1}}for(var N=0,I=u;N<c;++N){var D=d[N];"L"==I&&"1"==D?d[N]="L":r.test(D)&&(I=D)}for(var P=0;P<c;++P)if(a.test(d[P])){var L=void 0;for(L=P+1;L<c&&a.test(d[L]);++L);for(var O="L"==(P?d[P-1]:u),M="L"==(L<c?d[L]:u),E=O==M?O?"L":"R":u,R=P;R<L;++R)d[R]=E;P=L-1}for(var j,B=[],_=0;_<c;)if(o.test(d[_])){var V=_;for(++_;_<c&&o.test(d[_]);++_);B.push(new l(0,V,_))}else{var F=_,U=B.length,q="rtl"==t?1:0;for(++_;_<c&&"L"!=d[_];++_);for(var z=F;z<_;)if(s.test(d[z])){F<z&&(B.splice(U,0,new l(1,F,z)),U+=q);var Q=z;for(++z;z<_&&s.test(d[z]);++z);B.splice(U,0,new l(2,Q,z)),U+=q,F=z}else++z;F<_&&B.splice(U,0,new l(1,F,_))}return"ltr"==t&&(1==B[0].level&&(j=e.match(/^\s+/))&&(B[0].from=j[0].length,B.unshift(new l(0,0,j[0].length))),1==J(B).level&&(j=e.match(/\s+$/))&&(J(B).to-=j[0].length,B.push(new l(0,c-j[0].length,c)))),"rtl"==t?B.reverse():B}}();function pe(e,t){var n=e.order;return null==n&&(n=e.order=fe(e.text,t)),n}var me=[],ge=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||me).concat(n)}};function ve(e,t){return e._handlers&&e._handlers[t]||me}function ye(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers,a=i&&i[t];if(a){var r=q(a,n);r>-1&&(i[t]=a.slice(0,r).concat(a.slice(r+1)))}}}function be(e,t){var n=ve(e,t);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),a=0;a<n.length;++a)n[a].apply(null,i)}function Ae(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),be(e,n||t.type,e,t),Te(t)||t.codemirrorIgnore}function we(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==q(n,t[i])&&n.push(t[i])}function xe(e,t){return ve(e,t).length>0}function Ce(e){e.prototype.on=function(e,t){ge(this,e,t)},e.prototype.off=function(e,t){ye(this,e,t)}}function ke(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Se(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Te(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ne(e){ke(e),Se(e)}function Ie(e){return e.target||e.srcElement}function De(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),A&&e.ctrlKey&&1==t&&(t=3),t}var Pe,Le,Oe=function(){if(l&&u<9)return!1;var e=L("div");return"draggable"in e||"dragDrop"in e}();function Me(e){if(null==Pe){var t=L("span","​");P(e,L("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Pe=t.offsetWidth<=1&&t.offsetHeight>2&&!(l&&u<8))}var n=Pe?L("span","​"):L("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ee(e){if(null!=Le)return Le;var t=P(e,document.createTextNode("AخA")),n=N(t,0,1).getBoundingClientRect(),i=N(t,1,2).getBoundingClientRect();return D(e),!(!n||n.left==n.right)&&(Le=i.right-n.right<3)}var Re=3!="\n\nb".split(/\n/).length?function(e){var t=0,n=[],i=e.length;while(t<=i){var a=e.indexOf("\n",t);-1==a&&(a=e.length);var r=e.slice(t,"\r"==e.charAt(a-1)?a-1:a),o=r.indexOf("\r");-1!=o?(n.push(r.slice(0,o)),t+=o+1):(n.push(r),t=a+1)}return n}:function(e){return e.split(/\r\n?|\n/)},je=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){var n;try{n=t.ownerDocument.selection.createRange()}catch(e){}return!(!n||n.parentElement()!=t)&&0!=n.compareEndPoints("StartToEnd",n)},Be=function(){var e=L("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),_e=null;function Ve(e){if(null!=_e)return _e;var t=P(e,L("span","x")),n=t.getBoundingClientRect(),i=N(t,0,1).getBoundingClientRect();return _e=Math.abs(n.left-i.left)>1}var Fe={},Ue={};function qe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Fe[e]=t}function ze(e,t){Ue[e]=t}function Qe(e){if("string"==typeof e&&Ue.hasOwnProperty(e))e=Ue[e];else if(e&&"string"==typeof e.name&&Ue.hasOwnProperty(e.name)){var t=Ue[e.name];"string"==typeof t&&(t={name:t}),e=te(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Qe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Qe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function $e(e,t){t=Qe(t);var n=Fe[t.name];if(!n)return $e(e,"text/plain");var i=n(e,t);if(He.hasOwnProperty(t.name)){var a=He[t.name];for(var r in a)a.hasOwnProperty(r)&&(i.hasOwnProperty(r)&&(i["_"+r]=i[r]),i[r]=a[r])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)i[o]=t.modeProps[o];return i}var He={};function Ge(e,t){var n=He.hasOwnProperty(e)?He[e]:He[e]={};V(t,n)}function Ye(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var a=t[i];a instanceof Array&&(a=a.concat([])),n[i]=a}return n}function We(e,t){var n;while(e.innerMode){if(n=e.innerMode(t),!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}}function Ke(e,t,n){return!e.startState||e.startState(t,n)}var Je=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Xe(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");var n=e;while(!n.lines)for(var i=0;;++i){var a=n.children[i],r=a.chunkSize();if(t<r){n=a;break}t-=r}return n.lines[t]}function Ze(e,t,n){var i=[],a=t.line;return e.iter(t.line,n.line+1,(function(e){var r=e.text;a==n.line&&(r=r.slice(0,n.ch)),a==t.line&&(r=r.slice(t.ch)),i.push(r),++a})),i}function et(e,t,n){var i=[];return e.iter(t,n,(function(e){i.push(e.text)})),i}function tt(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function nt(e){if(null==e.parent)return null;for(var t=e.parent,n=q(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var a=0;;++a){if(i.children[a]==t)break;n+=i.children[a].chunkSize()}return n+t.first}function it(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var a=e.children[i],r=a.height;if(t<r){e=a;continue e}t-=r,n+=a.chunkSize()}return n}while(!e.lines);for(var o=0;o<e.lines.length;++o){var s=e.lines[o],l=s.height;if(t<l)break;t-=l}return n+o}function at(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ot(e,t,n){if(void 0===n&&(n=null),!(this instanceof ot))return new ot(e,t,n);this.line=e,this.ch=t,this.sticky=n}function st(e,t){return e.line-t.line||e.ch-t.ch}function lt(e,t){return e.sticky==t.sticky&&0==st(e,t)}function ut(e){return ot(e.line,e.ch)}function ct(e,t){return st(e,t)<0?t:e}function dt(e,t){return st(e,t)<0?e:t}function ht(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ft(e,t){if(t.line<e.first)return ot(e.first,0);var n=e.first+e.size-1;return t.line>n?ot(n,Xe(e,n).text.length):pt(t,Xe(e,t.line).text.length)}function pt(e,t){var n=e.ch;return null==n||n>t?ot(e.line,t):n<0?ot(e.line,0):e}function mt(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=ft(e,t[i]);return n}Je.prototype.eol=function(){return this.pos>=this.string.length},Je.prototype.sol=function(){return this.pos==this.lineStart},Je.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Je.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Je.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t)return++this.pos,n},Je.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e));return this.pos>t},Je.prototype.eatSpace=function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},Je.prototype.skipToEnd=function(){this.pos=this.string.length},Je.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Je.prototype.backUp=function(e){this.pos-=e},Je.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Je.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Je.prototype.match=function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var a=function(e){return n?e.toLowerCase():e},r=this.string.substr(this.pos,e.length);if(a(r)==a(e))return!1!==t&&(this.pos+=e.length),!0},Je.prototype.current=function(){return this.string.slice(this.start,this.pos)},Je.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Je.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Je.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var gt=function(e,t){this.state=e,this.lookAhead=t},vt=function(e,t,n,i){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function yt(e,t,n,i){var a=[e.state.modeGen],r={};Nt(e,t.text,e.doc.mode,n,(function(e,t){return a.push(e,t)}),r,i);for(var o=n.state,s=function(i){n.baseTokens=a;var s=e.state.overlays[i],l=1,u=0;n.state=!0,Nt(e,t.text,s.mode,n,(function(e,t){var n=l;while(u<e){var i=a[l];i>e&&a.splice(l,1,e,a[l+1],i),l+=2,u=Math.min(e,i)}if(t)if(s.opaque)a.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var r=a[n+1];a[n+1]=(r?r+" ":"")+"overlay "+t}}),r),n.state=o,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:a,classes:r.bgClass||r.textClass?r:null}}function bt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=At(e,nt(t)),a=t.text.length>e.options.maxHighlightLength&&Ye(e.doc.mode,i.state),r=yt(e,t,i);a&&(i.state=a),t.stateAfter=i.save(!a),t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function At(e,t,n){var i=e.doc,a=e.display;if(!i.mode.startState)return new vt(i,!0,t);var r=It(e,t,n),o=r>i.first&&Xe(i,r-1).stateAfter,s=o?vt.fromSaved(i,o,r):new vt(i,Ke(i.mode),r);return i.iter(r,t,(function(n){wt(e,n.text,s);var i=s.line;n.stateAfter=i==t-1||i%5==0||i>=a.viewFrom&&i<a.viewTo?s.save():null,s.nextLine()})),n&&(i.modeFrontier=s.line),s}function wt(e,t,n,i){var a=e.doc.mode,r=new Je(t,e.options.tabSize,n);r.start=r.pos=i||0,""==t&&xt(a,n.state);while(!r.eol())Ct(a,r,n.state),r.start=r.pos}function xt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=We(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ct(e,t,n,i){for(var a=0;a<10;a++){i&&(i[0]=We(e,n).mode);var r=e.token(t,n);if(t.pos>t.start)return r}throw new Error("Mode "+e.name+" failed to advance stream.")}vt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},vt.prototype.baseToken=function(e){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=e)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},vt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vt.fromSaved=function(e,t,n){return t instanceof gt?new vt(e,Ye(e.mode,t.state),n,t.lookAhead):new vt(e,Ye(e.mode,t),n)},vt.prototype.save=function(e){var t=!1!==e?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gt(t,this.maxLookAhead):t};var kt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function St(e,t,n,i){var a,r=e.doc,o=r.mode;t=ft(r,t);var s,l=Xe(r,t.line),u=At(e,t.line,n),c=new Je(l.text,e.options.tabSize,u);i&&(s=[]);while((i||c.pos<t.ch)&&!c.eol())c.start=c.pos,a=Ct(o,c,u.state),i&&s.push(new kt(c,a,Ye(r.mode,u.state)));return i?s:new kt(c,a,u.state)}function Tt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Nt(e,t,n,i,a,r,o){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,d=new Je(t,e.options.tabSize,i),h=e.options.addModeClass&&[null];""==t&&Tt(xt(n,i.state),r);while(!d.eol()){if(d.pos>e.options.maxHighlightLength?(s=!1,o&&wt(e,t,i,d.pos),d.pos=t.length,l=null):l=Tt(Ct(n,d,i.state,h),r),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){while(u<d.start)u=Math.min(d.start,u+5e3),a(u,c);c=l}d.start=d.pos}while(u<d.pos){var p=Math.min(d.pos,u+5e3);a(p,c),u=p}}function It(e,t,n){for(var i,a,r=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=r.first)return r.first;var l=Xe(r,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof gt?u.lookAhead:0)<=r.modeFrontier))return s;var c=F(l.text,null,e.options.tabSize);(null==a||i>c)&&(a=s-1,i=c)}return a}function Dt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,i=t-1;i>n;i--){var a=Xe(e,i).stateAfter;if(a&&(!(a instanceof gt)||i+a.lookAhead<t)){n=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Pt=!1,Lt=!1;function Ot(){Pt=!0}function Mt(){Lt=!0}function Et(e,t,n){this.marker=e,this.from=t,this.to=n}function Rt(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function jt(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function Bt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function _t(e,t,n){var i;if(e)for(var a=0;a<e.length;++a){var r=e[a],o=r.marker,s=null==r.from||(o.inclusiveLeft?r.from<=t:r.from<t);if(s||r.from==t&&"bookmark"==o.type&&(!n||!r.marker.insertLeft)){var l=null==r.to||(o.inclusiveRight?r.to>=t:r.to>t);(i||(i=[])).push(new Et(o,r.from,l?null:r.to))}}return i}function Vt(e,t,n){var i;if(e)for(var a=0;a<e.length;++a){var r=e[a],o=r.marker,s=null==r.to||(o.inclusiveRight?r.to>=t:r.to>t);if(s||r.from==t&&"bookmark"==o.type&&(!n||r.marker.insertLeft)){var l=null==r.from||(o.inclusiveLeft?r.from<=t:r.from<t);(i||(i=[])).push(new Et(o,l?null:r.from-t,null==r.to?null:r.to-t))}}return i}function Ft(e,t){if(t.full)return null;var n=at(e,t.from.line)&&Xe(e,t.from.line).markedSpans,i=at(e,t.to.line)&&Xe(e,t.to.line).markedSpans;if(!n&&!i)return null;var a=t.from.ch,r=t.to.ch,o=0==st(t.from,t.to),s=_t(n,a,o),l=Vt(i,r,o),u=1==t.text.length,c=J(t.text).length+(u?a:0);if(s)for(var d=0;d<s.length;++d){var h=s[d];if(null==h.to){var f=Rt(l,h.marker);f?u&&(h.to=null==f.to?null:f.to+c):h.to=a}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=c),null==m.from){var g=Rt(s,m.marker);g||(m.from=c,u&&(s||(s=[])).push(m))}else m.from+=c,u&&(s||(s=[])).push(m)}s&&(s=Ut(s)),l&&l!=s&&(l=Ut(l));var v=[s];if(!u){var y,b=t.text.length-2;if(b>0&&s)for(var A=0;A<s.length;++A)null==s[A].to&&(y||(y=[])).push(new Et(s[A].marker,null,null));for(var w=0;w<b;++w)v.push(y);v.push(l)}return v}function Ut(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function qt(e,t,n){var i=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=q(i,n)||(i||(i=[])).push(n)}})),!i)return null;for(var a=[{from:t,to:n}],r=0;r<i.length;++r)for(var o=i[r],s=o.find(0),l=0;l<a.length;++l){var u=a[l];if(!(st(u.to,s.from)<0||st(u.from,s.to)>0)){var c=[l,1],d=st(u.from,s.from),h=st(u.to,s.to);(d<0||!o.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(h>0||!o.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),a.splice.apply(a,c),l+=c.length-3}}return a}function zt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Qt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function $t(e){return e.inclusiveLeft?-1:0}function Ht(e){return e.inclusiveRight?1:0}function Gt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),a=t.find(),r=st(i.from,a.from)||$t(e)-$t(t);if(r)return-r;var o=st(i.to,a.to)||Ht(e)-Ht(t);return o||t.id-e.id}function Yt(e,t){var n,i=Lt&&e.markedSpans;if(i)for(var a=void 0,r=0;r<i.length;++r)a=i[r],a.marker.collapsed&&null==(t?a.from:a.to)&&(!n||Gt(n,a.marker)<0)&&(n=a.marker);return n}function Wt(e){return Yt(e,!0)}function Kt(e){return Yt(e,!1)}function Jt(e,t){var n,i=Lt&&e.markedSpans;if(i)for(var a=0;a<i.length;++a){var r=i[a];r.marker.collapsed&&(null==r.from||r.from<t)&&(null==r.to||r.to>t)&&(!n||Gt(n,r.marker)<0)&&(n=r.marker)}return n}function Xt(e,t,n,i,a){var r=Xe(e,t),o=Lt&&r.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var u=l.marker.find(0),c=st(u.from,n)||$t(l.marker)-$t(a),d=st(u.to,i)||Ht(l.marker)-Ht(a);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(l.marker.inclusiveRight&&a.inclusiveLeft?st(u.to,n)>=0:st(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&a.inclusiveLeft?st(u.from,i)<=0:st(u.from,i)<0)))return!0}}}function Zt(e){var t;while(t=Wt(e))e=t.find(-1,!0).line;return e}function en(e){var t;while(t=Kt(e))e=t.find(1,!0).line;return e}function tn(e){var t,n;while(t=Kt(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function nn(e,t){var n=Xe(e,t),i=Zt(n);return n==i?t:nt(i)}function an(e,t){if(t>e.lastLine())return t;var n,i=Xe(e,t);if(!rn(e,i))return t;while(n=Kt(i))i=n.find(1,!0).line;return nt(i)+1}function rn(e,t){var n=Lt&&t.markedSpans;if(n)for(var i=void 0,a=0;a<n.length;++a)if(i=n[a],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&on(e,t,i))return!0}}function on(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return on(e,i.line,Rt(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var a=void 0,r=0;r<t.markedSpans.length;++r)if(a=t.markedSpans[r],a.marker.collapsed&&!a.marker.widgetNode&&a.from==n.to&&(null==a.to||a.to!=n.from)&&(a.marker.inclusiveLeft||n.marker.inclusiveRight)&&on(e,t,a))return!0}function sn(e){e=Zt(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var a=n.lines[i];if(a==e)break;t+=a.height}for(var r=n.parent;r;n=r,r=n.parent)for(var o=0;o<r.children.length;++o){var s=r.children[o];if(s==n)break;t+=s.height}return t}function ln(e){if(0==e.height)return 0;var t,n=e.text.length,i=e;while(t=Wt(i)){var a=t.find(0,!0);i=a.from.line,n+=a.from.ch-a.to.ch}i=e;while(t=Kt(i)){var r=t.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function un(e){var t=e.display,n=e.doc;t.maxLine=Xe(n,n.first),t.maxLineLength=ln(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=ln(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var cn=function(e,t,n){this.text=e,Qt(this,t),this.height=n?n(this):1};function dn(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),zt(e),Qt(e,n);var a=i?i(e):1;a!=e.height&&tt(e,a)}function hn(e){e.parent=null,zt(e)}cn.prototype.lineNo=function(){return nt(this)},Ce(cn);var fn={},pn={};function mn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?pn:fn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function gn(e,t){var n=O("span",null,null,c?"padding-right: .1px":null),i={pre:O("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var a=0;a<=(t.rest?t.rest.length:0);a++){var r=a?t.rest[a-1]:t.line,o=void 0;i.pos=0,i.addToken=yn,Ee(e.display.measure)&&(o=pe(r,e.doc.direction))&&(i.addToken=An(i.addToken,o)),i.map=[];var s=t!=e.display.externalMeasured&&nt(r);xn(r,i,bt(e,r,s)),r.styleClasses&&(r.styleClasses.bgClass&&(i.bgClass=j(r.styleClasses.bgClass,i.bgClass||"")),r.styleClasses.textClass&&(i.textClass=j(r.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Me(e.display.measure))),0==a?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(c){var l=i.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return be(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=j(i.pre.className,i.textClass||"")),i}function vn(e){var t=L("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function yn(e,t,n,i,a,r,o){if(t){var s,c=e.splitSpaces?bn(t,e.trailingSpace):t,d=e.cm.state.specialChars,h=!1;if(d.test(t)){s=document.createDocumentFragment();var f=0;while(1){d.lastIndex=f;var p=d.exec(t),m=p?p.index-f:t.length-f;if(m){var g=document.createTextNode(c.slice(f,f+m));l&&u<9?s.appendChild(L("span",[g])):s.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;f+=m+1;var v=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;v=s.appendChild(L("span",K(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?(v=s.appendChild(L("span","\r"==p[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",p[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(p[0]),v.setAttribute("cm-text",p[0]),l&&u<9?s.appendChild(L("span",[v])):s.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,s=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,s),l&&u<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||i||a||h||r){var A=n||"";i&&(A+=i),a&&(A+=a);var w=L("span",[s],A,r);if(o)for(var x in o)o.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&w.setAttribute(x,o[x]);return e.content.appendChild(w)}e.content.appendChild(s)}}function bn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",a=0;a<e.length;a++){var r=e.charAt(a);" "!=r||!n||a!=e.length-1&&32!=e.charCodeAt(a+1)||(r=" "),i+=r,n=" "==r}return i}function An(e,t){return function(n,i,a,r,o,s,l){a=a?a+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+i.length;;){for(var d=void 0,h=0;h<t.length;h++)if(d=t[h],d.to>u&&d.from<=u)break;if(d.to>=c)return e(n,i,a,r,o,s,l);e(n,i.slice(0,d.to-u),a,r,null,s,l),r=null,i=i.slice(d.to-u),u=d.to}}}function wn(e,t,n,i){var a=!i&&n.widgetNode;a&&e.map.push(e.pos,e.pos+t,a),!i&&e.cm.display.input.needsContentAttribute&&(a||(a=e.content.appendChild(document.createElement("span"))),a.setAttribute("cm-marker",n.id)),a&&(e.cm.display.input.setUneditable(a),e.content.appendChild(a)),e.pos+=t,e.trailingSpace=!1}function xn(e,t,n){var i=e.markedSpans,a=e.text,r=0;if(i)for(var o,s,l,u,c,d,h,f=a.length,p=0,m=1,g="",v=0;;){if(v==p){l=u=c=s="",h=null,d=null,v=1/0;for(var y=[],b=void 0,A=0;A<i.length;++A){var w=i[A],x=w.marker;if("bookmark"==x.type&&w.from==p&&x.widgetNode)y.push(x);else if(w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,u=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&w.from==p&&(c+=" "+x.startStyle),x.endStyle&&w.to==v&&(b||(b=[])).push(x.endStyle,w.to),x.title&&((h||(h={})).title=x.title),x.attributes)for(var C in x.attributes)(h||(h={}))[C]=x.attributes[C];x.collapsed&&(!d||Gt(d.marker,x)<0)&&(d=w)}else w.from>p&&v>w.from&&(v=w.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==v&&(u+=" "+b[k]);if(!d||d.from==p)for(var S=0;S<y.length;++S)wn(t,0,y[S]);if(d&&(d.from||0)==p){if(wn(t,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=f)break;var T=Math.min(f,v);while(1){if(g){var N=p+g.length;if(!d){var I=N>T?g.slice(0,T-p):g;t.addToken(t,I,o?o+l:l,c,p+I.length==v?u:"",s,h)}if(N>=T){g=g.slice(T-p),p=T;break}p=N,c=""}g=a.slice(r,r=n[m++]),o=mn(n[m++],t.cm.options)}}else for(var D=1;D<n.length;D+=2)t.addToken(t,a.slice(r,r=n[D]),mn(n[D+1],t.cm.options))}function Cn(e,t,n){this.line=t,this.rest=tn(t),this.size=this.rest?nt(J(this.rest))-n+1:1,this.node=this.text=null,this.hidden=rn(e,t)}function kn(e,t,n){for(var i,a=[],r=t;r<n;r=i){var o=new Cn(e.doc,Xe(e.doc,r),r);i=r+o.size,a.push(o)}return a}var Sn=null;function Tn(e){Sn?Sn.ops.push(e):e.ownsGroup=Sn={ops:[e],delayedCallbacks:[]}}function Nn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var a=e.ops[i];if(a.cursorActivityHandlers)while(a.cursorActivityCalled<a.cursorActivityHandlers.length)a.cursorActivityHandlers[a.cursorActivityCalled++].call(null,a.cm)}}while(n<t.length)}function In(e,t){var n=e.ownsGroup;if(n)try{Nn(n)}finally{Sn=null,t(n)}}var Dn=null;function Pn(e,t){var n=ve(e,t);if(n.length){var i,a=Array.prototype.slice.call(arguments,2);Sn?i=Sn.delayedCallbacks:Dn?i=Dn:(i=Dn=[],setTimeout(Ln,0));for(var r=function(e){i.push((function(){return n[e].apply(null,a)}))},o=0;o<n.length;++o)r(o)}}function Ln(){var e=Dn;Dn=null;for(var t=0;t<e.length;++t)e[t]()}function On(e,t,n,i){for(var a=0;a<t.changes.length;a++){var r=t.changes[a];"text"==r?jn(e,t):"gutter"==r?_n(e,t,n,i):"class"==r?Bn(e,t):"widget"==r&&Vn(e,t,i)}t.changes=null}function Mn(e){return e.node==e.text&&(e.node=L("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),l&&u<8&&(e.node.style.zIndex=2)),e.node}function En(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=Mn(t);t.background=i.insertBefore(L("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function Rn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):gn(e,t)}function jn(e,t){var n=t.text.className,i=Rn(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,Bn(e,t)):n&&(t.text.className=n)}function Bn(e,t){En(e,t),t.line.wrapClass?Mn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function _n(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var a=Mn(t);t.gutterBackground=L("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),a.insertBefore(t.gutterBackground,t.text)}var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var o=Mn(t),s=t.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),o.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(L("div",rt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=r.hasOwnProperty(u)&&r[u];c&&s.appendChild(L("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[u]+"px; width: "+i.gutterWidth[u]+"px"))}}}function Vn(e,t,n){t.alignable&&(t.alignable=null);for(var i=T("CodeMirror-linewidget"),a=t.node.firstChild,r=void 0;a;a=r)r=a.nextSibling,i.test(a.className)&&t.node.removeChild(a);Un(e,t,n)}function Fn(e,t,n,i){var a=Rn(e,t);return t.text=t.node=a.pre,a.bgClass&&(t.bgClass=a.bgClass),a.textClass&&(t.textClass=a.textClass),Bn(e,t),_n(e,t,n,i),Un(e,t,i),t.node}function Un(e,t,n){if(qn(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)qn(e,t.rest[i],t,n,!1)}function qn(e,t,n,i,a){if(t.widgets)for(var r=Mn(n),o=0,s=t.widgets;o<s.length;++o){var l=s[o],u=L("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),zn(l,u,n,i),e.display.input.setUneditable(u),a&&l.above?r.insertBefore(u,n.gutter||n.text):r.appendChild(u),Pn(l,"redraw")}}function zn(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var a=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(a-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=a+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function Qn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!M(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),P(t.display.measure,L("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function $n(e,t){for(var n=Ie(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Hn(e){return e.lineSpace.offsetTop}function Gn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Yn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=P(e.measure,L("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Wn(e){return z-e.display.nativeBarWidth}function Kn(e){return e.display.scroller.clientWidth-Wn(e)-e.display.barWidth}function Jn(e){return e.display.scroller.clientHeight-Wn(e)-e.display.barHeight}function Xn(e,t,n){var i=e.options.lineWrapping,a=i&&Kn(e);if(!t.measure.heights||i&&t.measure.width!=a){var r=t.measure.heights=[];if(i){t.measure.width=a;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],u=o[s+1];Math.abs(l.bottom-u.bottom)>2&&r.push((l.bottom+u.top)/2-n.top)}}r.push(n.bottom-n.top)}}function Zn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var a=0;a<e.rest.length;a++)if(nt(e.rest[a])>n)return{map:e.measure.maps[a],cache:e.measure.caches[a],before:!0}}function ei(e,t){t=Zt(t);var n=nt(t),i=e.display.externalMeasured=new Cn(e.doc,t,n);i.lineN=n;var a=i.built=gn(e,i);return i.text=a.pre,P(e.display.lineMeasure,a.pre),i}function ti(e,t,n,i){return ai(e,ii(e,t),n,i)}function ni(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Bi(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function ii(e,t){var n=nt(t),i=ni(e,n);i&&!i.text?i=null:i&&i.changes&&(On(e,i,n,Oi(e)),e.curOp.forceUpdate=!0),i||(i=ei(e,t));var a=Zn(i,t,n);return{line:t,view:i,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function ai(e,t,n,i,a){t.before&&(n=-1);var r,o=n+(i||"");return t.cache.hasOwnProperty(o)?r=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xn(e,t.view,t.rect),t.hasHeights=!0),r=ui(e,t,n,i),r.bogus||(t.cache[o]=r)),{left:r.left,right:r.right,top:a?r.rtop:r.top,bottom:a?r.rbottom:r.bottom}}var ri,oi={left:0,right:0,top:0,bottom:0};function si(e,t,n){for(var i,a,r,o,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(a=0,r=1,o="left"):t<l?(a=t-s,r=a+1):(u==e.length-3||t==l&&e[u+3]>t)&&(r=l-s,a=r-1,t>=l&&(o="right")),null!=a){if(i=e[u+2],s==l&&n==(i.insertLeft?"left":"right")&&(o=n),"left"==n&&0==a)while(u&&e[u-2]==e[u-3]&&e[u-1].insertLeft)i=e[2+(u-=3)],o="left";if("right"==n&&a==l-s)while(u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft)i=e[(u+=3)+2],o="right";break}return{node:i,start:a,end:r,collapse:o,coverStart:s,coverEnd:l}}function li(e,t){var n=oi;if("left"==t){for(var i=0;i<e.length;i++)if((n=e[i]).left!=n.right)break}else for(var a=e.length-1;a>=0;a--)if((n=e[a]).left!=n.right)break;return n}function ui(e,t,n,i){var a,r=si(t.map,n,i),o=r.node,s=r.start,c=r.end,d=r.collapse;if(3==o.nodeType){for(var h=0;h<4;h++){while(s&&se(t.line.text.charAt(r.coverStart+s)))--s;while(r.coverStart+c<r.coverEnd&&se(t.line.text.charAt(r.coverStart+c)))++c;if(a=l&&u<9&&0==s&&c==r.coverEnd-r.coverStart?o.parentNode.getBoundingClientRect():li(N(o,s,c).getClientRects(),i),a.left||a.right||0==s)break;c=s,s-=1,d="right"}l&&u<11&&(a=ci(e.display.measure,a))}else{var f;s>0&&(d=i="right"),a=e.options.lineWrapping&&(f=o.getClientRects()).length>1?f["right"==i?f.length-1:0]:o.getBoundingClientRect()}if(l&&u<9&&!s&&(!a||!a.left&&!a.right)){var p=o.parentNode.getClientRects()[0];a=p?{left:p.left,right:p.left+Li(e.display),top:p.top,bottom:p.bottom}:oi}for(var m=a.top-t.rect.top,g=a.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1;b++)if(v<y[b])break;var A=b?y[b-1]:0,w=y[b],x={left:("right"==d?a.right:a.left)-t.rect.left,right:("left"==d?a.left:a.right)-t.rect.left,top:A,bottom:w};return a.left||a.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=m,x.rbottom=g),x}function ci(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ve(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function di(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function hi(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)di(e.display.view[t])}function fi(e){hi(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function pi(){return h&&y?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function mi(){return h&&y?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function gi(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Qn(e.widgets[n]));return t}function vi(e,t,n,i,a){if(!a){var r=gi(t);n.top+=r,n.bottom+=r}if("line"==i)return n;i||(i="local");var o=sn(t);if("local"==i?o+=Hn(e.display):o-=e.display.viewOffset,"page"==i||"window"==i){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==i?0:mi());var l=s.left+("window"==i?0:pi());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function yi(e,t,n){if("div"==n)return t;var i=t.left,a=t.top;if("page"==n)i-=pi(),a-=mi();else if("local"==n||!n){var r=e.display.sizer.getBoundingClientRect();i+=r.left,a+=r.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:i-o.left,top:a-o.top}}function bi(e,t,n,i,a){return i||(i=Xe(e.doc,t.line)),vi(e,i,ti(e,i,t.ch,a),n)}function Ai(e,t,n,i,a,r){function o(t,o){var s=ai(e,a,t,o?"right":"left",r);return o?s.left=s.right:s.right=s.left,vi(e,i,s,n)}i=i||Xe(e.doc,t.line),a||(a=ii(e,i));var s=pe(i,e.doc.direction),l=t.ch,u=t.sticky;if(l>=i.text.length?(l=i.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return o("before"==u?l-1:l,"before"==u);function c(e,t,n){var i=s[t],a=1==i.level;return o(n?e-1:e,a!=n)}var d=he(s,l,u),h=de,f=c(l,d,"before"==u);return null!=h&&(f.other=c(l,h,"before"!=u)),f}function wi(e,t){var n=0;t=ft(e.doc,t),e.options.lineWrapping||(n=Li(e.display)*t.ch);var i=Xe(e.doc,t.line),a=sn(i)+Hn(e.display);return{left:n,right:n,top:a,bottom:a+i.height}}function xi(e,t,n,i,a){var r=ot(e,t,n);return r.xRel=a,i&&(r.outside=i),r}function Ci(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,n<0)return xi(i.first,0,null,-1,-1);var a=it(i,n),r=i.first+i.size-1;if(a>r)return xi(i.first+i.size-1,Xe(i,r).text.length,null,1,1);t<0&&(t=0);for(var o=Xe(i,a);;){var s=Ni(e,o,a,t,n),l=Jt(o,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==a)return u;o=Xe(i,a=u.line)}}function ki(e,t,n,i){i-=gi(t);var a=t.text.length,r=ue((function(t){return ai(e,n,t-1).bottom<=i}),a,0);return a=ue((function(t){return ai(e,n,t).top>i}),r,a),{begin:r,end:a}}function Si(e,t,n,i){n||(n=ii(e,t));var a=vi(e,t,ai(e,n,i),"line").top;return ki(e,t,n,a)}function Ti(e,t,n,i){return!(e.bottom<=n)&&(e.top>n||(i?e.left:e.right)>t)}function Ni(e,t,n,i,a){a-=sn(t);var r=ii(e,t),o=gi(t),s=0,l=t.text.length,u=!0,c=pe(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?Di:Ii)(e,t,n,r,c,i,a);u=1!=d.level,s=u?d.from:d.to-1,l=u?d.to:d.from-1}var h,f,p=null,m=null,g=ue((function(t){var n=ai(e,r,t);return n.top+=o,n.bottom+=o,!!Ti(n,i,a,!1)&&(n.top<=a&&n.left<=i&&(p=t,m=n),!0)}),s,l),v=!1;if(m){var y=i-m.left<m.right-i,b=y==u;g=p+(b?0:1),f=b?"after":"before",h=y?m.left:m.right}else{u||g!=l&&g!=s||g++,f=0==g?"after":g==t.text.length?"before":ai(e,r,g-(u?1:0)).bottom+o<=a==u?"after":"before";var A=Ai(e,ot(n,g,f),"line",t,r);h=A.left,v=a<A.top?-1:a>=A.bottom?1:0}return g=le(t.text,g,1),xi(n,g,f,v,i-h)}function Ii(e,t,n,i,a,r,o){var s=ue((function(s){var l=a[s],u=1!=l.level;return Ti(Ai(e,ot(n,u?l.to:l.from,u?"before":"after"),"line",t,i),r,o,!0)}),0,a.length-1),l=a[s];if(s>0){var u=1!=l.level,c=Ai(e,ot(n,u?l.from:l.to,u?"after":"before"),"line",t,i);Ti(c,r,o,!0)&&c.top>o&&(l=a[s-1])}return l}function Di(e,t,n,i,a,r,o){var s=ki(e,t,i,o),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,h=0;h<a.length;h++){var f=a[h];if(!(f.from>=u||f.to<=l)){var p=1!=f.level,m=ai(e,i,p?Math.min(u,f.to)-1:Math.max(l,f.from)).right,g=m<r?r-m+1e9:m-r;(!c||d>g)&&(c=f,d=g)}}return c||(c=a[a.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Pi(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==ri){ri=L("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)ri.appendChild(document.createTextNode("x")),ri.appendChild(L("br"));ri.appendChild(document.createTextNode("x"))}P(e.measure,ri);var n=ri.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),D(e.measure),n||1}function Li(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=L("span","xxxxxxxxxx"),n=L("pre",[t],"CodeMirror-line-like");P(e.measure,n);var i=t.getBoundingClientRect(),a=(i.right-i.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function Oi(e){for(var t=e.display,n={},i={},a=t.gutters.clientLeft,r=t.gutters.firstChild,o=0;r;r=r.nextSibling,++o){var s=e.display.gutterSpecs[o].className;n[s]=r.offsetLeft+r.clientLeft+a,i[s]=r.clientWidth}return{fixedPos:Mi(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function Mi(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Ei(e){var t=Pi(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/Li(e.display)-3);return function(a){if(rn(e.doc,a))return 0;var r=0;if(a.widgets)for(var o=0;o<a.widgets.length;o++)a.widgets[o].height&&(r+=a.widgets[o].height);return n?r+(Math.ceil(a.text.length/i)||1)*t:r+t}}function Ri(e){var t=e.doc,n=Ei(e);t.iter((function(e){var t=n(e);t!=e.height&&tt(e,t)}))}function ji(e,t,n,i){var a=e.display;if(!n&&"true"==Ie(t).getAttribute("cm-not-content"))return null;var r,o,s=a.lineSpace.getBoundingClientRect();try{r=t.clientX-s.left,o=t.clientY-s.top}catch(d){return null}var l,u=Ci(e,r,o);if(i&&u.xRel>0&&(l=Xe(e.doc,u.line).text).length==u.ch){var c=F(l,l.length,e.options.tabSize)-l.length;u=ot(u.line,Math.max(0,Math.round((r-Yn(e.display).left)/Li(e.display))-c))}return u}function Bi(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,t<0)return i}function _i(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var a=e.display;if(i&&n<a.viewTo&&(null==a.updateLineNumbers||a.updateLineNumbers>t)&&(a.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=a.viewTo)Lt&&nn(e.doc,t)<a.viewTo&&Fi(e);else if(n<=a.viewFrom)Lt&&an(e.doc,n+i)>a.viewFrom?Fi(e):(a.viewFrom+=i,a.viewTo+=i);else if(t<=a.viewFrom&&n>=a.viewTo)Fi(e);else if(t<=a.viewFrom){var r=Ui(e,n,n+i,1);r?(a.view=a.view.slice(r.index),a.viewFrom=r.lineN,a.viewTo+=i):Fi(e)}else if(n>=a.viewTo){var o=Ui(e,t,t,-1);o?(a.view=a.view.slice(0,o.index),a.viewTo=o.lineN):Fi(e)}else{var s=Ui(e,t,t,-1),l=Ui(e,n,n+i,1);s&&l?(a.view=a.view.slice(0,s.index).concat(kn(e,s.lineN,l.lineN)).concat(a.view.slice(l.index)),a.viewTo+=i):Fi(e)}var u=a.externalMeasured;u&&(n<u.lineN?u.lineN+=i:t<u.lineN+u.size&&(a.externalMeasured=null))}function Vi(e,t,n){e.curOp.viewChanged=!0;var i=e.display,a=e.display.externalMeasured;if(a&&t>=a.lineN&&t<a.lineN+a.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var r=i.view[Bi(e,t)];if(null!=r.node){var o=r.changes||(r.changes=[]);-1==q(o,n)&&o.push(n)}}}function Fi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ui(e,t,n,i){var a,r=Bi(e,t),o=e.display.view;if(!Lt||n==e.doc.first+e.doc.size)return{index:r,lineN:n};for(var s=e.display.viewFrom,l=0;l<r;l++)s+=o[l].size;if(s!=t){if(i>0){if(r==o.length-1)return null;a=s+o[r].size-t,r++}else a=s-t;t+=a,n+=a}while(nn(e.doc,n)!=n){if(r==(i<0?0:o.length-1))return null;n+=i*o[r-(i<0?1:0)].size,r+=i}return{index:r,lineN:n}}function qi(e,t,n){var i=e.display,a=i.view;0==a.length||t>=i.viewTo||n<=i.viewFrom?(i.view=kn(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=kn(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(Bi(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(kn(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Bi(e,n)))),i.viewTo=n}function zi(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var a=t[i];a.hidden||a.node&&!a.changes||++n}return n}function Qi(e){e.display.input.showSelection(e.display.input.prepareSelection())}function $i(e,t){void 0===t&&(t=!0);for(var n=e.doc,i={},a=i.cursors=document.createDocumentFragment(),r=i.selection=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++)if(t||o!=n.sel.primIndex){var s=n.sel.ranges[o];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Hi(e,s.head,a),l||Yi(e,s,r)}}return i}function Hi(e,t,n){var i=Ai(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),a=n.appendChild(L("div"," ","CodeMirror-cursor"));if(a.style.left=i.left+"px",a.style.top=i.top+"px",a.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var r=n.appendChild(L("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));r.style.display="",r.style.left=i.other.left+"px",r.style.top=i.other.top+"px",r.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Gi(e,t){return e.top-t.top||e.left-t.left}function Yi(e,t,n){var i=e.display,a=e.doc,r=document.createDocumentFragment(),o=Yn(e.display),s=o.left,l=Math.max(i.sizerWidth,Kn(e)-i.sizer.offsetLeft)-o.right,u="ltr"==a.direction;function c(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),r.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(i-t)+"px"))}function d(t,n,i){var r,o,d=Xe(a,t),h=d.text.length;function f(n,i){return bi(e,ot(t,n),"div",d,i)}function p(t,n,i){var a=Si(e,d,null,t),r="ltr"==n==("after"==i)?"left":"right",o="after"==i?a.begin:a.end-(/\s/.test(d.text.charAt(a.end-1))?2:1);return f(o,r)[r]}var m=pe(d,a.direction);return ce(m,n||0,null==i?h:i,(function(e,t,a,d){var g="ltr"==a,v=f(e,g?"left":"right"),y=f(t-1,g?"right":"left"),b=null==n&&0==e,A=null==i&&t==h,w=0==d,x=!m||d==m.length-1;if(y.top-v.top<=3){var C=(u?b:A)&&w,k=(u?A:b)&&x,S=C?s:(g?v:y).left,T=k?l:(g?y:v).right;c(S,v.top,T-S,v.bottom)}else{var N,I,D,P;g?(N=u&&b&&w?s:v.left,I=u?l:p(e,a,"before"),D=u?s:p(t,a,"after"),P=u&&A&&x?l:y.right):(N=u?p(e,a,"before"):s,I=!u&&b&&w?l:v.right,D=!u&&A&&x?s:y.left,P=u?p(t,a,"after"):l),c(N,v.top,I-N,v.bottom),v.bottom<y.top&&c(s,v.bottom,null,y.top),c(D,y.top,P-D,y.bottom)}(!r||Gi(v,r)<0)&&(r=v),Gi(y,r)<0&&(r=y),(!o||Gi(v,o)<0)&&(o=v),Gi(y,o)<0&&(o=y)})),{start:r,end:o}}var h=t.from(),f=t.to();if(h.line==f.line)d(h.line,h.ch,f.ch);else{var p=Xe(a,h.line),m=Xe(a,f.line),g=Zt(p)==Zt(m),v=d(h.line,h.ch,g?p.text.length+1:null).end,y=d(f.line,g?0:null,f.ch).start;g&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(s,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(s,v.bottom,null,y.top)}n.appendChild(r)}function Wi(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ki(e){e.state.focused||(e.display.input.focus(),Xi(e))}function Ji(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Zi(e))}),100)}function Xi(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(be(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),c&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Wi(e))}function Zi(e,t){e.state.delayingBlurEvent||(e.state.focused&&(be(e,"blur",e,t),e.state.focused=!1,I(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function ea(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var a=t.view[i],r=e.options.lineWrapping,o=void 0,s=0;if(!a.hidden){if(l&&u<8){var c=a.node.offsetTop+a.node.offsetHeight;o=c-n,n=c}else{var d=a.node.getBoundingClientRect();o=d.bottom-d.top,!r&&a.text.firstChild&&(s=a.text.firstChild.getBoundingClientRect().right-d.left-1)}var h=a.line.height-o;if((h>.005||h<-.005)&&(tt(a.line,o),ta(a.line),a.rest))for(var f=0;f<a.rest.length;f++)ta(a.rest[f]);if(s>e.display.sizerWidth){var p=Math.ceil(s/Li(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=a.line,e.display.maxLineChanged=!0)}}}}function ta(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function na(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Hn(e));var a=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,r=it(t,i),o=it(t,a);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<r?(r=s,o=it(t,sn(Xe(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(r=it(t,sn(Xe(t,l))-e.wrapper.clientHeight),o=l)}return{from:r,to:Math.max(o,r+1)}}function ia(e,t){if(!Ae(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),a=null;if(t.top+i.top<0?a=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(a=!1),null!=a&&!g){var r=L("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Hn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Wn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(r),r.scrollIntoView(a),e.display.lineSpace.removeChild(r)}}}function aa(e,t,n,i){var a;null==i&&(i=0),e.options.lineWrapping||t!=n||(t=t.ch?ot(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?ot(t.line,t.ch+1,"before"):t);for(var r=0;r<5;r++){var o=!1,s=Ai(e,t),l=n&&n!=t?Ai(e,n):s;a={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-i,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+i};var u=oa(e,a),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(fa(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=u.scrollLeft&&(ma(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(o=!0)),!o)break}return a}function ra(e,t){var n=oa(e,t);null!=n.scrollTop&&fa(e,n.scrollTop),null!=n.scrollLeft&&ma(e,n.scrollLeft)}function oa(e,t){var n=e.display,i=Pi(e.display);t.top<0&&(t.top=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,r=Jn(e),o={};t.bottom-t.top>r&&(t.bottom=t.top+r);var s=e.doc.height+Gn(n),l=t.top<i,u=t.bottom>s-i;if(t.top<a)o.scrollTop=l?0:t.top;else if(t.bottom>a+r){var c=Math.min(t.top,(u?s:t.bottom)-r);c!=a&&(o.scrollTop=c)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=Kn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),f=t.right-t.left>h;return f&&(t.right=t.left+h),t.left<10?o.scrollLeft=0:t.left<d?o.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>h+d-3&&(o.scrollLeft=t.right+(f?0:10)-h),o}function sa(e,t){null!=t&&(da(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function la(e){da(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ua(e,t,n){null==t&&null==n||da(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function ca(e,t){da(e),e.curOp.scrollToPos=t}function da(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=wi(e,t.from),i=wi(e,t.to);ha(e,n,i,t.margin)}}function ha(e,t,n,i){var a=oa(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-i,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+i});ua(e,a.scrollLeft,a.scrollTop)}function fa(e,t){Math.abs(e.doc.scrollTop-t)<2||(i||Qa(e,{top:t}),pa(e,t,!0),i&&Qa(e),ja(e,100))}function pa(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ma(e,t,n,i){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i||(e.doc.scrollLeft=t,Ya(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ga(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Gn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Wn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var va=function(e,t,n){this.cm=n;var i=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),a=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=a.tabIndex=-1,e(i),e(a),ge(i,"scroll",(function(){i.clientHeight&&t(i.scrollTop,"vertical")})),ge(a,"scroll",(function(){a.clientWidth&&t(a.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,l&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};va.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var a=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+a)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var r=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+r)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},va.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},va.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},va.prototype.zeroWidthHack=function(){var e=A&&!m?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new U,this.disableVert=new U},va.prototype.enableZeroWidthBar=function(e,t,n){function i(){var a=e.getBoundingClientRect(),r="vert"==n?document.elementFromPoint(a.right-1,(a.top+a.bottom)/2):document.elementFromPoint((a.right+a.left)/2,a.bottom-1);r!=e?e.style.pointerEvents="none":t.set(1e3,i)}e.style.pointerEvents="auto",t.set(1e3,i)},va.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var ya=function(){};function ba(e,t){t||(t=ga(e));var n=e.display.barWidth,i=e.display.barHeight;Aa(e,t);for(var a=0;a<4&&n!=e.display.barWidth||i!=e.display.barHeight;a++)n!=e.display.barWidth&&e.options.lineWrapping&&ea(e),Aa(e,ga(e)),n=e.display.barWidth,i=e.display.barHeight}function Aa(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}ya.prototype.update=function(){return{bottom:0,right:0}},ya.prototype.setScrollLeft=function(){},ya.prototype.setScrollTop=function(){},ya.prototype.clear=function(){};var wa={native:va,null:ya};function xa(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&I(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new wa[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ge(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?ma(e,t):fa(e,t)}),e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var Ca=0;function ka(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ca},Tn(e.curOp)}function Sa(e){var t=e.curOp;t&&In(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Ta(e)}))}function Ta(e){for(var t=e.ops,n=0;n<t.length;n++)Na(t[n]);for(var i=0;i<t.length;i++)Ia(t[i]);for(var a=0;a<t.length;a++)Da(t[a]);for(var r=0;r<t.length;r++)Pa(t[r]);for(var o=0;o<t.length;o++)La(t[o])}function Na(e){var t=e.cm,n=t.display;Va(t),e.updateMaxLine&&un(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new _a(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ia(e){e.updatedDisplay=e.mustUpdate&&qa(e.cm,e.update)}function Da(e){var t=e.cm,n=t.display;e.updatedDisplay&&ea(t),e.barMeasure=ga(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=ti(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Wn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Kn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Pa(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ma(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==E();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ba(t,e.barMeasure),e.updatedDisplay&&Ga(t,e.barMeasure),e.selectionChanged&&Wi(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Ki(e.cm)}function La(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&za(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&pa(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ma(t,e.scrollLeft,!0,!0),e.scrollToPos){var a=aa(t,ft(i,e.scrollToPos.from),ft(i,e.scrollToPos.to),e.scrollToPos.margin);ia(t,a)}var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var s=0;s<r.length;++s)r[s].lines.length||be(r[s],"hide");if(o)for(var l=0;l<o.length;++l)o[l].lines.length&&be(o[l],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&be(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Oa(e,t){if(e.curOp)return t();ka(e);try{return t()}finally{Sa(e)}}function Ma(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ka(e);try{return t.apply(e,arguments)}finally{Sa(e)}}}function Ea(e){return function(){if(this.curOp)return e.apply(this,arguments);ka(this);try{return e.apply(this,arguments)}finally{Sa(this)}}}function Ra(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ka(t);try{return e.apply(this,arguments)}finally{Sa(t)}}}function ja(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,_(Ba,e))}function Ba(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=At(e,t.highlightFrontier),a=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(r){if(i.line>=e.display.viewFrom){var o=r.styles,s=r.text.length>e.options.maxHighlightLength?Ye(t.mode,i.state):null,l=yt(e,r,i,!0);s&&(i.state=s),r.styles=l.styles;var u=r.styleClasses,c=l.classes;c?r.styleClasses=c:u&&(r.styleClasses=null);for(var d=!o||o.length!=r.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!d&&h<o.length;++h)d=o[h]!=r.styles[h];d&&a.push(i.line),r.stateAfter=i.save(),i.nextLine()}else r.text.length<=e.options.maxHighlightLength&&wt(e,r.text,i),r.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return ja(e,e.options.workDelay),!0})),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),a.length&&Oa(e,(function(){for(var t=0;t<a.length;t++)Vi(e,a[t],"text")}))}}var _a=function(e,t,n){var i=e.display;this.viewport=t,this.visible=na(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Kn(e),this.force=n,this.dims=Oi(e),this.events=[]};function Va(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Wn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Wn(e)+"px",t.scrollbarsClipped=!0)}function Fa(e){if(e.hasFocus())return null;var t=E();if(!t||!M(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&M(e.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}function Ua(e){if(e&&e.activeElt&&e.activeElt!=E()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&M(document.body,e.anchorNode)&&M(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function qa(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return Fi(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==zi(e))return!1;Wa(e)&&(Fi(e),t.dims=Oi(e));var a=i.first+i.size,r=Math.max(t.visible.from-e.options.viewportMargin,i.first),o=Math.min(a,t.visible.to+e.options.viewportMargin);n.viewFrom<r&&r-n.viewFrom<20&&(r=Math.max(i.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(a,n.viewTo)),Lt&&(r=nn(e.doc,r),o=an(e.doc,o));var s=r!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;qi(e,r,o),n.viewOffset=sn(Xe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=zi(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Fa(e);return l>4&&(n.lineDiv.style.display="none"),$a(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Ua(u),D(n.cursorDiv),D(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ja(e,400)),n.updateLineNumbers=null,!0}function za(e,t){for(var n=t.viewport,i=!0;;i=!1){if(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Kn(e))i&&(t.visible=na(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Gn(e.display)-Jn(e),n.top)}),t.visible=na(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!qa(e,t))break;ea(e);var a=ga(e);Qi(e),ba(e,a),Ga(e,a),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Qa(e,t){var n=new _a(e,t);if(qa(e,n)){ea(e),za(e,n);var i=ga(e);Qi(e),ba(e,i),Ga(e,i),n.finish()}}function $a(e,t,n){var i=e.display,a=e.options.lineNumbers,r=i.lineDiv,o=r.firstChild;function s(t){var n=t.nextSibling;return c&&A&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var l=i.view,u=i.viewFrom,d=0;d<l.length;d++){var h=l[d];if(h.hidden);else if(h.node&&h.node.parentNode==r){while(o!=h.node)o=s(o);var f=a&&null!=t&&t<=u&&h.lineNumber;h.changes&&(q(h.changes,"gutter")>-1&&(f=!1),On(e,h,u,n)),f&&(D(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(rt(e.options,u)))),o=h.node.nextSibling}else{var p=Fn(e,h,u,n);r.insertBefore(p,o)}u+=h.size}while(o)o=s(o)}function Ha(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Ga(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Wn(e)+"px"}function Ya(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=Mi(t)-t.scroller.scrollLeft+e.doc.scrollLeft,a=t.gutters.offsetWidth,r=i+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&(n[o].gutter&&(n[o].gutter.style.left=r),n[o].gutterBackground&&(n[o].gutterBackground.style.left=r));var s=n[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=r}e.options.fixedGutter&&(t.gutters.style.left=i+a+"px")}}function Wa(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var a=i.measure.appendChild(L("div",[L("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),r=a.firstChild.offsetWidth,o=a.offsetWidth-r;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(r,i.lineGutter.offsetWidth-o)+1,i.lineNumWidth=i.lineNumInnerWidth+o,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Ha(e.display),!0}return!1}function Ka(e,t){for(var n=[],i=!1,a=0;a<e.length;a++){var r=e[a],o=null;if("string"!=typeof r&&(o=r.style,r=r.className),"CodeMirror-linenumbers"==r){if(!t)continue;i=!0}n.push({className:r,style:o})}return t&&!i&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Ja(e){var t=e.gutters,n=e.gutterSpecs;D(t),e.lineGutter=null;for(var i=0;i<n.length;++i){var a=n[i],r=a.className,o=a.style,s=t.appendChild(L("div",null,"CodeMirror-gutter "+r));o&&(s.style.cssText=o),"CodeMirror-linenumbers"==r&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Ha(e)}function Xa(e){Ja(e.display),_i(e),Ya(e)}function Za(e,t,n,a){var r=this;this.input=n,r.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=O("div",null,"CodeMirror-code"),r.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=L("div",null,"CodeMirror-cursors"),r.measure=L("div",null,"CodeMirror-measure"),r.lineMeasure=L("div",null,"CodeMirror-measure"),r.lineSpace=O("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var o=O("div",[r.lineSpace],"CodeMirror-lines");r.mover=L("div",[o],null,"position: relative"),r.sizer=L("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=L("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),r.gutters=L("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=L("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=L("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),l&&u<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),c||i&&b||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=Ka(a.gutters,a.lineNumbers),Ja(r),n.init(r)}_a.prototype.signal=function(e,t){xe(e,t)&&this.events.push(arguments)},_a.prototype.finish=function(){for(var e=0;e<this.events.length;e++)be.apply(null,this.events[e])};var er=0,tr=null;function nr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ir(e){var t=nr(e);return t.x*=tr,t.y*=tr,t}function ar(e,t){var n=nr(t),a=n.x,r=n.y,o=e.display,s=o.scroller,l=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(a&&l||r&&u){if(r&&A&&c)e:for(var d=t.target,h=o.view;d!=s;d=d.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==d){e.display.currentWheelTarget=d;break e}if(a&&!i&&!f&&null!=tr)return r&&u&&fa(e,Math.max(0,s.scrollTop+r*tr)),ma(e,Math.max(0,s.scrollLeft+a*tr)),(!r||r&&u)&&ke(t),void(o.wheelStartX=null);if(r&&null!=tr){var m=r*tr,g=e.doc.scrollTop,v=g+o.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),Qa(e,{top:g,bottom:v})}er<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=a,o.wheelDY=r,setTimeout((function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(tr=(tr*er+n)/(er+1),++er)}}),200)):(o.wheelDX+=a,o.wheelDY+=r))}}l?tr=-.53:i?tr=15:h?tr=-.7:p&&(tr=-1/3);var rr=function(e,t){this.ranges=e,this.primIndex=t};rr.prototype.primary=function(){return this.ranges[this.primIndex]},rr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(!lt(n.anchor,i.anchor)||!lt(n.head,i.head))return!1}return!0},rr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new or(ut(this.ranges[t].anchor),ut(this.ranges[t].head));return new rr(e,this.primIndex)},rr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},rr.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(st(t,i.from())>=0&&st(e,i.to())<=0)return n}return-1};var or=function(e,t){this.anchor=e,this.head=t};function sr(e,t,n){var i=e&&e.options.selectionsMayTouch,a=t[n];t.sort((function(e,t){return st(e.from(),t.from())})),n=q(t,a);for(var r=1;r<t.length;r++){var o=t[r],s=t[r-1],l=st(s.to(),o.from());if(i&&!o.empty()?l>0:l>=0){var u=dt(s.from(),o.from()),c=ct(s.to(),o.to()),d=s.empty()?o.from()==o.head:s.from()==s.head;r<=n&&--n,t.splice(--r,2,new or(d?c:u,d?u:c))}}return new rr(t,n)}function lr(e,t){return new rr([new or(e,t||e)],0)}function ur(e){return e.text?ot(e.from.line+e.text.length-1,J(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function cr(e,t){if(st(e,t.from)<0)return e;if(st(e,t.to)<=0)return ur(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=ur(t).ch-t.to.ch),ot(n,i)}function dr(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var a=e.sel.ranges[i];n.push(new or(cr(a.anchor,t),cr(a.head,t)))}return sr(e.cm,n,e.sel.primIndex)}function hr(e,t,n){return e.line==t.line?ot(n.line,e.ch-t.ch+n.ch):ot(n.line+(e.line-t.line),e.ch)}function fr(e,t,n){for(var i=[],a=ot(e.first,0),r=a,o=0;o<t.length;o++){var s=t[o],l=hr(s.from,a,r),u=hr(ur(s),a,r);if(a=s.to,r=u,"around"==n){var c=e.sel.ranges[o],d=st(c.head,c.anchor)<0;i[o]=new or(d?u:l,d?l:u)}else i[o]=new or(l,l)}return new rr(i,e.sel.primIndex)}function pr(e){e.doc.mode=$e(e.options,e.doc.modeOption),mr(e)}function mr(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ja(e,100),e.state.modeGen++,e.curOp&&_i(e)}function gr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==J(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function vr(e,t,n,i){function a(e){return n?n[e]:null}function r(e,n,a){dn(e,n,a,i),Pn(e,"change",e,t)}function o(e,t){for(var n=[],r=e;r<t;++r)n.push(new cn(u[r],a(r),i));return n}var s=t.from,l=t.to,u=t.text,c=Xe(e,s.line),d=Xe(e,l.line),h=J(u),f=a(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,o(0,u.length)),e.remove(u.length,e.size-u.length);else if(gr(e,t)){var m=o(0,u.length-1);r(d,d.text,f),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(c==d)if(1==u.length)r(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),f);else{var g=o(1,u.length-1);g.push(new cn(h+c.text.slice(l.ch),f,i)),r(c,c.text.slice(0,s.ch)+u[0],a(0)),e.insert(s.line+1,g)}else if(1==u.length)r(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),a(0)),e.remove(s.line+1,p);else{r(c,c.text.slice(0,s.ch)+u[0],a(0)),r(d,h+d.text.slice(l.ch),f);var v=o(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,v)}Pn(e,"change",e,t)}function yr(e,t,n){function i(e,a,r){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=a){var l=r&&s.sharedHist;n&&!l||(t(s.doc,l),i(s.doc,e,l))}}}i(e,null,!0)}function br(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ri(e),pr(e),Ar(e),e.options.lineWrapping||un(e),e.options.mode=t.modeOption,_i(e)}function Ar(e){("rtl"==e.doc.direction?R:I)(e.display.lineDiv,"CodeMirror-rtl")}function wr(e){Oa(e,(function(){Ar(e),_i(e)}))}function xr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Cr(e,t){var n={from:ut(t.from),to:ur(t),text:Ze(e,t.from,t.to)};return Pr(e,n,t.from.line,t.to.line+1),yr(e,(function(e){return Pr(e,n,t.from.line,t.to.line+1)}),!0),n}function kr(e){while(e.length){var t=J(e);if(!t.ranges)break;e.pop()}}function Sr(e,t){return t?(kr(e.done),J(e.done)):e.done.length&&!J(e.done).ranges?J(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),J(e.done)):void 0}function Tr(e,t,n,i){var a=e.history;a.undone.length=0;var r,o,s=+new Date;if((a.lastOp==i||a.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&a.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(r=Sr(a,a.lastOp==i)))o=J(r.changes),0==st(t.from,t.to)&&0==st(t.from,o.to)?o.to=ur(t):r.changes.push(Cr(e,t));else{var l=J(a.done);l&&l.ranges||Dr(e.sel,a.done),r={changes:[Cr(e,t)],generation:a.generation},a.done.push(r);while(a.done.length>a.undoDepth)a.done.shift(),a.done[0].ranges||a.done.shift()}a.done.push(n),a.generation=++a.maxGeneration,a.lastModTime=a.lastSelTime=s,a.lastOp=a.lastSelOp=i,a.lastOrigin=a.lastSelOrigin=t.origin,o||be(e,"historyAdded")}function Nr(e,t,n,i){var a=t.charAt(0);return"*"==a||"+"==a&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ir(e,t,n,i){var a=e.history,r=i&&i.origin;n==a.lastSelOp||r&&a.lastSelOrigin==r&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==r||Nr(e,r,J(a.done),t))?a.done[a.done.length-1]=t:Dr(t,a.done),a.lastSelTime=+new Date,a.lastSelOrigin=r,a.lastSelOp=n,i&&!1!==i.clearRedo&&kr(a.undone)}function Dr(e,t){var n=J(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Pr(e,t,n,i){var a=t["spans_"+e.id],r=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),(function(n){n.markedSpans&&((a||(a=t["spans_"+e.id]={}))[r]=n.markedSpans),++r}))}function Lr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Or(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=[],a=0;a<t.text.length;++a)i.push(Lr(n[a]));return i}function Mr(e,t){var n=Or(e,t),i=Ft(e,t);if(!n)return i;if(!i)return n;for(var a=0;a<n.length;++a){var r=n[a],o=i[a];if(r&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],u=0;u<r.length;++u)if(r[u].marker==l.marker)continue e;r.push(l)}else o&&(n[a]=o)}return n}function Er(e,t,n){for(var i=[],a=0;a<e.length;++a){var r=e[a];if(r.ranges)i.push(n?rr.prototype.deepCopy.call(r):r);else{var o=r.changes,s=[];i.push({changes:s});for(var l=0;l<o.length;++l){var u=o[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&q(t,Number(c[1]))>-1&&(J(s)[d]=u[d],delete u[d])}}}return i}function Rr(e,t,n,i){if(i){var a=e.anchor;if(n){var r=st(t,a)<0;r!=st(n,a)<0?(a=t,t=n):r!=st(t,n)<0&&(t=n)}return new or(a,t)}return new or(n||t,t)}function jr(e,t,n,i,a){null==a&&(a=e.cm&&(e.cm.display.shift||e.extend)),qr(e,new rr([Rr(e.sel.primary(),t,n,a)],0),i)}function Br(e,t,n){for(var i=[],a=e.cm&&(e.cm.display.shift||e.extend),r=0;r<e.sel.ranges.length;r++)i[r]=Rr(e.sel.ranges[r],t[r],null,a);var o=sr(e.cm,i,e.sel.primIndex);qr(e,o,n)}function _r(e,t,n,i){var a=e.sel.ranges.slice(0);a[t]=n,qr(e,sr(e.cm,a,e.sel.primIndex),i)}function Vr(e,t,n,i){qr(e,lr(t,n),i)}function Fr(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new or(ft(e,t[n].anchor),ft(e,t[n].head))},origin:n&&n.origin};return be(e,"beforeSelectionChange",e,i),e.cm&&be(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?sr(e.cm,i.ranges,i.ranges.length-1):t}function Ur(e,t,n){var i=e.history.done,a=J(i);a&&a.ranges?(i[i.length-1]=t,zr(e,t,n)):qr(e,t,n)}function qr(e,t,n){zr(e,t,n),Ir(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function zr(e,t,n){(xe(e,"beforeSelectionChange")||e.cm&&xe(e.cm,"beforeSelectionChange"))&&(t=Fr(e,t,n));var i=n&&n.bias||(st(t.primary().head,e.sel.primary().head)<0?-1:1);Qr(e,Hr(e,t,i,!0)),n&&!1===n.scroll||!e.cm||la(e.cm)}function Qr(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,we(e.cm)),Pn(e,"cursorActivity",e))}function $r(e){Qr(e,Hr(e,e.sel,null,!1))}function Hr(e,t,n,i){for(var a,r=0;r<t.ranges.length;r++){var o=t.ranges[r],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[r],l=Yr(e,o.anchor,s&&s.anchor,n,i),u=Yr(e,o.head,s&&s.head,n,i);(a||l!=o.anchor||u!=o.head)&&(a||(a=t.ranges.slice(0,r)),a[r]=new or(l,u))}return a?sr(e.cm,a,t.primIndex):t}function Gr(e,t,n,i,a){var r=Xe(e,t.line);if(r.markedSpans)for(var o=0;o<r.markedSpans.length;++o){var s=r.markedSpans[o],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(a&&(be(l,"beforeCursorEnter"),l.explicitlyCleared)){if(r.markedSpans){--o;continue}break}if(!l.atomic)continue;if(n){var d=l.find(i<0?1:-1),h=void 0;if((i<0?c:u)&&(d=Wr(e,d,-i,d&&d.line==t.line?r:null)),d&&d.line==t.line&&(h=st(d,n))&&(i<0?h<0:h>0))return Gr(e,d,t,i,a)}var f=l.find(i<0?-1:1);return(i<0?u:c)&&(f=Wr(e,f,i,f.line==t.line?r:null)),f?Gr(e,f,t,i,a):null}}return t}function Yr(e,t,n,i,a){var r=i||1,o=Gr(e,t,n,r,a)||!a&&Gr(e,t,n,r,!0)||Gr(e,t,n,-r,a)||!a&&Gr(e,t,n,-r,!0);return o||(e.cantEdit=!0,ot(e.first,0))}function Wr(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?ft(e,ot(t.line-1)):null:n>0&&t.ch==(i||Xe(e,t.line)).text.length?t.line<e.first+e.size-1?ot(t.line+1,0):null:new ot(t.line,t.ch+n)}function Kr(e){e.setSelection(ot(e.firstLine(),0),ot(e.lastLine()),$)}function Jr(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(t,n,a,r){t&&(i.from=ft(e,t)),n&&(i.to=ft(e,n)),a&&(i.text=a),void 0!==r&&(i.origin=r)}),be(e,"beforeChange",e,i),e.cm&&be(e.cm,"beforeChange",e.cm,i),i.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Xr(e,t,n){if(e.cm){if(!e.cm.curOp)return Ma(e.cm,Xr)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"))||(t=Jr(e,t,!0),t)){var i=Pt&&!n&&qt(e,t.from,t.to);if(i)for(var a=i.length-1;a>=0;--a)Zr(e,{from:i[a].from,to:i[a].to,text:a?[""]:t.text,origin:t.origin});else Zr(e,t)}}function Zr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=st(t.from,t.to)){var n=dr(e,t);Tr(e,t,n,e.cm?e.cm.curOp.id:NaN),no(e,t,n,Ft(e,t));var i=[];yr(e,(function(e,n){n||-1!=q(i,e.history)||(so(e.history,t),i.push(e.history)),no(e,t,null,Ft(e,t))}))}}function eo(e,t,n){var i=e.cm&&e.cm.state.suppressEdits;if(!i||n){for(var a,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,l="undo"==t?r.undone:r.done,u=0;u<s.length;u++)if(a=s[u],n?a.ranges&&!a.equals(e.sel):!a.ranges)break;if(u!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;;){if(a=s.pop(),!a.ranges){if(i)return void s.push(a);break}if(Dr(a,l),n&&!a.equals(e.sel))return void qr(e,a,{clearRedo:!1});o=a}var c=[];Dr(o,l),l.push({changes:c,generation:r.generation}),r.generation=a.generation||++r.maxGeneration;for(var d=xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"),h=function(n){var i=a.changes[n];if(i.origin=t,d&&!Jr(e,i,!1))return s.length=0,{};c.push(Cr(e,i));var r=n?dr(e,i):J(s);no(e,i,r,Mr(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:ur(i)});var o=[];yr(e,(function(e,t){t||-1!=q(o,e.history)||(so(e.history,i),o.push(e.history)),no(e,i,null,Mr(e,i))}))},f=a.changes.length-1;f>=0;--f){var p=h(f);if(p)return p.v}}}}function to(e,t){if(0!=t&&(e.first+=t,e.sel=new rr(X(e.sel.ranges,(function(e){return new or(ot(e.anchor.line+t,e.anchor.ch),ot(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){_i(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)Vi(e.cm,i,"gutter")}}function no(e,t,n,i){if(e.cm&&!e.cm.curOp)return Ma(e.cm,no)(e,t,n,i);if(t.to.line<e.first)to(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var a=t.text.length-1-(e.first-t.from.line);to(e,a),t={from:ot(e.first,0),to:ot(t.to.line+a,t.to.ch),text:[J(t.text)],origin:t.origin}}var r=e.lastLine();t.to.line>r&&(t={from:t.from,to:ot(r,Xe(e,r).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ze(e,t.from,t.to),n||(n=dr(e,t)),e.cm?io(e.cm,t,i):vr(e,t,i),zr(e,n,$),e.cantEdit&&Yr(e,ot(e.firstLine(),0))&&(e.cantEdit=!1)}}function io(e,t,n){var i=e.doc,a=e.display,r=t.from,o=t.to,s=!1,l=r.line;e.options.lineWrapping||(l=nt(Zt(Xe(i,r.line))),i.iter(l,o.line+1,(function(e){if(e==a.maxLine)return s=!0,!0}))),i.sel.contains(t.from,t.to)>-1&&we(e),vr(i,t,n,Ei(e)),e.options.lineWrapping||(i.iter(l,r.line+t.text.length,(function(e){var t=ln(e);t>a.maxLineLength&&(a.maxLine=e,a.maxLineLength=t,a.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),Dt(i,r.line),ja(e,400);var u=t.text.length-(o.line-r.line)-1;t.full?_i(e):r.line!=o.line||1!=t.text.length||gr(e.doc,t)?_i(e,r.line,o.line+1,u):Vi(e,r.line,"text");var c=xe(e,"changes"),d=xe(e,"change");if(d||c){var h={from:r,to:o,text:t.text,removed:t.removed,origin:t.origin};d&&Pn(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function ao(e,t,n,i,a){var r;i||(i=n),st(i,n)<0&&(r=[i,n],n=r[0],i=r[1]),"string"==typeof t&&(t=e.splitLines(t)),Xr(e,{from:n,to:i,text:t,origin:a})}function ro(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function oo(e,t,n,i){for(var a=0;a<e.length;++a){var r=e[a],o=!0;if(r.ranges){r.copied||(r=e[a]=r.deepCopy(),r.copied=!0);for(var s=0;s<r.ranges.length;s++)ro(r.ranges[s].anchor,t,n,i),ro(r.ranges[s].head,t,n,i)}else{for(var l=0;l<r.changes.length;++l){var u=r.changes[l];if(n<u.from.line)u.from=ot(u.from.line+i,u.from.ch),u.to=ot(u.to.line+i,u.to.ch);else if(t<=u.to.line){o=!1;break}}o||(e.splice(0,a+1),a=0)}}}function so(e,t){var n=t.from.line,i=t.to.line,a=t.text.length-(i-n)-1;oo(e.done,n,i,a),oo(e.undone,n,i,a)}function lo(e,t,n,i){var a=t,r=t;return"number"==typeof t?r=Xe(e,ht(e,t)):a=nt(t),null==a?null:(i(r,a)&&e.cm&&Vi(e.cm,a,n),r)}function uo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function co(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var a=e[i];t+=a.chunkSize(),n+=a.height,a.parent=this}this.size=t,this.height=n,this.parent=null}or.prototype.from=function(){return dt(this.anchor,this.head)},or.prototype.to=function(){return ct(this.anchor,this.head)},or.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},uo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;n<i;++n){var a=this.lines[n];this.height-=a.height,hn(a),Pn(a,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;e<i;++e)if(n(this.lines[e]))return!0}},co.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(e<a){var r=Math.min(t,a-e),o=i.height;if(i.removeInner(e,r),this.height-=o-i.height,a==r&&(this.children.splice(n--,1),i.parent=null),0==(t-=r))break;e=0}else e-=a}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof uo))){var s=[];this.collapse(s),this.children=[new uo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var a=this.children[i],r=a.chunkSize();if(e<=r){if(a.insertInner(e,t,n),a.lines&&a.lines.length>50){for(var o=a.lines.length%25+25,s=o;s<a.lines.length;){var l=new uo(a.lines.slice(s,s+=25));a.height-=l.height,this.children.splice(++i,0,l),l.parent=this}a.lines=a.lines.slice(0,o),this.maybeSpill()}break}e-=r}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new co(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=q(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var a=new co(e.children);a.parent=e,e.children=[a,n],e=a}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var a=this.children[i],r=a.chunkSize();if(e<r){var o=Math.min(t,r-e);if(a.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=r}}};var ho=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};function fo(e,t,n){sn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&sa(e,n)}function po(e,t,n,i){var a=new ho(e,n,i),r=e.cm;return r&&a.noHScroll&&(r.display.alignWidgets=!0),lo(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==a.insertAt?n.push(a):n.splice(Math.min(n.length-1,Math.max(0,a.insertAt)),0,a),a.line=t,r&&!rn(e,t)){var i=sn(t)<e.scrollTop;tt(t,t.height+Qn(a)),i&&sa(r,a.height),r.curOp.forceUpdate=!0}return!0})),r&&Pn(r,"lineWidgetAdded",r,a,"number"==typeof t?t:nt(t)),a}ho.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=nt(n);if(null!=i&&t){for(var a=0;a<t.length;++a)t[a]==this&&t.splice(a--,1);t.length||(n.widgets=null);var r=Qn(this);tt(n,Math.max(0,n.height-r)),e&&(Oa(e,(function(){fo(e,n,-r),Vi(e,i,"widget")})),Pn(e,"lineWidgetCleared",e,this,i))}},ho.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,i=this.line;this.height=null;var a=Qn(this)-t;a&&(rn(this.doc,i)||tt(i,i.height+a),n&&Oa(n,(function(){n.curOp.forceUpdate=!0,fo(n,i,a),Pn(n,"lineWidgetChanged",n,e,nt(i))})))},Ce(ho);var mo=0,go=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++mo};function vo(e,t,n,i,a){if(i&&i.shared)return bo(e,t,n,i,a);if(e.cm&&!e.cm.curOp)return Ma(e.cm,vo)(e,t,n,i,a);var r=new go(e,a),o=st(t,n);if(i&&V(i,r,!1),o>0||0==o&&!1!==r.clearWhenEmpty)return r;if(r.replacedWith&&(r.collapsed=!0,r.widgetNode=O("span",[r.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||r.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(r.widgetNode.insertLeft=!0)),r.collapsed){if(Xt(e,t.line,t,n,r)||t.line!=n.line&&Xt(e,n.line,t,n,r))throw new Error("Inserting collapsed marker partially overlapping an existing one");Mt()}r.addToHistory&&Tr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,(function(e){u&&r.collapsed&&!u.options.lineWrapping&&Zt(e)==u.display.maxLine&&(s=!0),r.collapsed&&l!=t.line&&tt(e,0),Bt(e,new Et(r,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),r.collapsed&&e.iter(t.line,n.line+1,(function(t){rn(e,t)&&tt(t,0)})),r.clearOnEnter&&ge(r,"beforeCursorEnter",(function(){return r.clear()})),r.readOnly&&(Ot(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),r.collapsed&&(r.id=++mo,r.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),r.collapsed)_i(u,t.line,n.line+1);else if(r.className||r.startStyle||r.endStyle||r.css||r.attributes||r.title)for(var c=t.line;c<=n.line;c++)Vi(u,c,"text");r.atomic&&$r(u.doc),Pn(u,"markerAdded",u,r)}return r}go.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&ka(e),xe(this,"clear")){var n=this.find();n&&Pn(this,"clear",n.from,n.to)}for(var i=null,a=null,r=0;r<this.lines.length;++r){var o=this.lines[r],s=Rt(o.markedSpans,this);e&&!this.collapsed?Vi(e,nt(o),"text"):e&&(null!=s.to&&(a=nt(o)),null!=s.from&&(i=nt(o))),o.markedSpans=jt(o.markedSpans,s),null==s.from&&this.collapsed&&!rn(this.doc,o)&&e&&tt(o,Pi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Zt(this.lines[l]),c=ln(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&_i(e,i,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&$r(e.doc)),e&&Pn(e,"markerCleared",e,this,i,a),t&&Sa(e),this.parent&&this.parent.clear()}},go.prototype.find=function(e,t){var n,i;null==e&&"bookmark"==this.type&&(e=1);for(var a=0;a<this.lines.length;++a){var r=this.lines[a],o=Rt(r.markedSpans,this);if(null!=o.from&&(n=ot(t?r:nt(r),o.from),-1==e))return n;if(null!=o.to&&(i=ot(t?r:nt(r),o.to),1==e))return i}return n&&{from:n,to:i}},go.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,i=this.doc.cm;t&&i&&Oa(i,(function(){var a=t.line,r=nt(t.line),o=ni(i,r);if(o&&(di(o),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!rn(n.doc,a)&&null!=n.height){var s=n.height;n.height=null;var l=Qn(n)-s;l&&tt(a,a.height+l)}Pn(i,"markerChanged",i,e)}))},go.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=q(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},go.prototype.detachLine=function(e){if(this.lines.splice(q(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ce(go);var yo=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function bo(e,t,n,i,a){i=V(i),i.shared=!1;var r=[vo(e,t,n,i,a)],o=r[0],s=i.widgetNode;return yr(e,(function(e){s&&(i.widgetNode=s.cloneNode(!0)),r.push(vo(e,ft(e,t),ft(e,n),i,a));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=J(r)})),new yo(r,o)}function Ao(e){return e.findMarks(ot(e.first,0),e.clipPos(ot(e.lastLine())),(function(e){return e.parent}))}function wo(e,t){for(var n=0;n<t.length;n++){var i=t[n],a=i.find(),r=e.clipPos(a.from),o=e.clipPos(a.to);if(st(r,o)){var s=vo(e,r,o,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}function xo(e){for(var t=function(t){var n=e[t],i=[n.primary.doc];yr(n.primary.doc,(function(e){return i.push(e)}));for(var a=0;a<n.markers.length;a++){var r=n.markers[a];-1==q(i,r.doc)&&(r.parent=null,n.markers.splice(a--,1))}},n=0;n<e.length;n++)t(n)}yo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Pn(this,"clear")}},yo.prototype.find=function(e,t){return this.primary.find(e,t)},Ce(yo);var Co=0,ko=function e(t,n,i,a,r){if(!(this instanceof e))return new e(t,n,i,a,r);null==i&&(i=0),co.call(this,[new uo([new cn("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var o=ot(i,0);this.sel=lr(o),this.history=new xr(null),this.id=++Co,this.modeOption=n,this.lineSep=a,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),vr(this,{from:o,to:o,text:t}),qr(this,lr(o),$)};ko.prototype=te(co.prototype,{constructor:ko,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=et(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Ra((function(e){var t=ot(this.first,0),n=this.first+this.size-1;Xr(this,{from:t,to:ot(n,Xe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ua(this.cm,0,0),qr(this,lr(t),$)})),replaceRange:function(e,t,n,i){t=ft(this,t),n=n?ft(this,n):t,ao(this,e,t,n,i)},getRange:function(e,t,n){var i=Ze(this,ft(this,e),ft(this,t));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(at(this,e))return Xe(this,e)},getLineNumber:function(e){return nt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Xe(this,e)),Zt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ft(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from(),t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ra((function(e,t,n){Vr(this,ft(this,"number"==typeof e?ot(e,t||0):e),null,n)})),setSelection:Ra((function(e,t,n){Vr(this,ft(this,e),ft(this,t||e),n)})),extendSelection:Ra((function(e,t,n){jr(this,ft(this,e),t&&ft(this,t),n)})),extendSelections:Ra((function(e,t){Br(this,mt(this,e),t)})),extendSelectionsBy:Ra((function(e,t){var n=X(this.sel.ranges,e);Br(this,mt(this,n),t)})),setSelections:Ra((function(e,t,n){if(e.length){for(var i=[],a=0;a<e.length;a++)i[a]=new or(ft(this,e[a].anchor),ft(this,e[a].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),qr(this,sr(this.cm,i,t),n)}})),addSelection:Ra((function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new or(ft(this,e),ft(this,t||e))),qr(this,sr(this.cm,i,i.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var a=Ze(this,n[i].from(),n[i].to());t=t?t.concat(a):a}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var a=Ze(this,n[i].from(),n[i].to());!1!==e&&(a=a.join(e||this.lineSeparator())),t[i]=a}return t},replaceSelection:function(e,t,n){for(var i=[],a=0;a<this.sel.ranges.length;a++)i[a]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Ra((function(e,t,n){for(var i=[],a=this.sel,r=0;r<a.ranges.length;r++){var o=a.ranges[r];i[r]={from:o.from(),to:o.to(),text:this.splitLines(e[r]),origin:n}}for(var s=t&&"end"!=t&&fr(this,i,t),l=i.length-1;l>=0;l--)Xr(this,i[l]);s?Ur(this,s):this.cm&&la(this.cm)})),undo:Ra((function(){eo(this,"undo")})),redo:Ra((function(){eo(this,"redo")})),undoSelection:Ra((function(){eo(this,"undo",!0)})),redoSelection:Ra((function(){eo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var a=0;a<e.undone.length;a++)e.undone[a].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new xr(this.history.maxGeneration),yr(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Er(this.history.done),undone:Er(this.history.undone)}},setHistory:function(e){var t=this.history=new xr(this.history.maxGeneration);t.done=Er(e.done.slice(0),null,!0),t.undone=Er(e.undone.slice(0),null,!0)},setGutterMarker:Ra((function(e,t,n){return lo(this,e,"gutter",(function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&re(i)&&(e.gutterMarkers=null),!0}))})),clearGutter:Ra((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&lo(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!at(this,e))return null;if(t=e,e=Xe(this,e),!e)return null}else if(t=nt(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Ra((function(e,t,n){return lo(this,e,"gutter"==t?"gutter":"class",(function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(T(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0}))})),removeLineClass:Ra((function(e,t,n){return lo(this,e,"gutter"==t?"gutter":"class",(function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",a=e[i];if(!a)return!1;if(null==n)e[i]=null;else{var r=a.match(T(n));if(!r)return!1;var o=r.index+r[0].length;e[i]=a.slice(0,r.index)+(r.index&&o!=a.length?" ":"")+a.slice(o)||null}return!0}))})),addLineWidget:Ra((function(e,t,n){return po(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return vo(this,ft(this,e),ft(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ft(this,e),vo(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ft(this,e);var t=[],n=Xe(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var a=n[i];(null==a.from||a.from<=e.ch)&&(null==a.to||a.to>=e.ch)&&t.push(a.marker.parent||a.marker)}return t},findMarks:function(e,t,n){e=ft(this,e),t=ft(this,t);var i=[],a=e.line;return this.iter(e.line,t.line+1,(function(r){var o=r.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];null!=l.to&&a==e.line&&e.ch>=l.to||null==l.from&&a!=e.line||null!=l.from&&a==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++a})),i},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)})),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter((function(a){var r=a.text.length+i;if(r>e)return t=e,!0;e-=r,++n})),ft(this,ot(n,t))},indexFromPos:function(e){e=ft(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new ko(et(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new ko(et(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],wo(i,Ao(this)),i},unlinkDoc:function(e){if(e instanceof _s&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xo(Ao(this));break}}if(e.history==this.history){var i=[e.id];yr(e,(function(e){return i.push(e.id)}),!0),e.history=new xr(null),e.history.done=Er(this.history.done,i),e.history.undone=Er(this.history.undone,i)}},iterLinkedDocs:function(e){yr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Re(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ra((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&wr(this.cm))}))}),ko.prototype.eachLine=ko.prototype.iter;var So=0;function To(e){var t=this;if(Do(t),!Ae(t,e)&&!$n(t.display,e)){ke(e),l&&(So=+new Date);var n=ji(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var a=i.length,r=Array(a),o=0,s=function(){++o==a&&Ma(t,(function(){n=ft(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(r.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Xr(t.doc,e),Ur(t.doc,lr(ft(t.doc,n),ft(t.doc,ur(e))))}))()},u=function(e,n){if(t.options.allowDropFileTypes&&-1==q(t.options.allowDropFileTypes,e.type))s();else{var i=new FileReader;i.onerror=function(){return s()},i.onload=function(){var e=i.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(r[n]=e),s()},i.readAsText(e)}},c=0;c<i.length;c++)u(i[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),zr(t.doc,lr(n,n)),h)for(var f=0;f<h.length;++f)ao(t.doc,"",h[f].anchor,h[f].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(p){}}}}function No(e,t){if(l&&(!e.state.draggingText||+new Date-So<100))Ne(t);else if(!Ae(e,t)&&!$n(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var n=L("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}function Io(e,t){var n=ji(e,t);if(n){var i=document.createDocumentFragment();Hi(e,n,i),e.display.dragCursor||(e.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),P(e.display.dragCursor,i)}}function Do(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Po(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<t.length;i++){var a=t[i].CodeMirror;a&&n.push(a)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Lo=!1;function Oo(){Lo||(Mo(),Lo=!0)}function Mo(){var e;ge(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Po(Eo)}),100))})),ge(window,"blur",(function(){return Po(Zi)}))}function Eo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ro={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},jo=0;jo<10;jo++)Ro[jo+48]=Ro[jo+96]=String(jo);for(var Bo=65;Bo<=90;Bo++)Ro[Bo]=String.fromCharCode(Bo);for(var _o=1;_o<=12;_o++)Ro[_o+111]=Ro[_o+63235]="F"+_o;var Vo={};function Fo(e){var t,n,i,a,r=e.split(/-(?!$)/);e=r[r.length-1];for(var o=0;o<r.length-1;o++){var s=r[o];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),a&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Uo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var a=X(n.split(" "),Fo),r=0;r<a.length;r++){var o=void 0,s=void 0;r==a.length-1?(s=a.join(" "),o=i):(s=a.slice(0,r+1).join(" "),o="...");var l=t[s];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+s)}else t[s]=o}delete e[n]}for(var u in t)e[u]=t[u];return e}function qo(e,t,n,i){t=Ho(t);var a=t.call?t.call(e,i):t[e];if(!1===a)return"nothing";if("..."===a)return"multi";if(null!=a&&n(a))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return qo(e,t.fallthrough,n,i);for(var r=0;r<t.fallthrough.length;r++){var o=qo(e,t.fallthrough[r],n,i);if(o)return o}}}function zo(e){var t="string"==typeof e?e:Ro[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Qo(e,t,n){var i=e;return t.altKey&&"Alt"!=i&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Mod"!=i&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=i&&(e="Shift-"+e),e}function $o(e,t){if(f&&34==e.keyCode&&e["char"])return!1;var n=Ro[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Qo(n,e,t))}function Ho(e){return"string"==typeof e?Vo[e]:e}function Go(e,t){for(var n=e.doc.sel.ranges,i=[],a=0;a<n.length;a++){var r=t(n[a]);while(i.length&&st(r.from,J(i).to)<=0){var o=i.pop();if(st(o.from,r.from)<0){r.from=o.from;break}}i.push(r)}Oa(e,(function(){for(var t=i.length-1;t>=0;t--)ao(e.doc,"",i[t].from,i[t].to,"+delete");la(e)}))}function Yo(e,t,n){var i=le(e.text,t+n,n);return i<0||i>e.text.length?null:i}function Wo(e,t,n){var i=Yo(e,t.ch,n);return null==i?null:new ot(t.line,i,n<0?"after":"before")}function Ko(e,t,n,i,a){if(e){"rtl"==t.doc.direction&&(a=-a);var r=pe(n,t.doc.direction);if(r){var o,s=a<0?J(r):r[0],l=a<0==(1==s.level),u=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=ii(t,n);o=a<0?n.text.length-1:0;var d=ai(t,c,o).top;o=ue((function(e){return ai(t,c,e).top==d}),a<0==(1==s.level)?s.from:s.to-1,o),"before"==u&&(o=Yo(n,o,1))}else o=a<0?s.to:s.from;return new ot(i,o,u)}}return new ot(i,a<0?n.text.length:0,a<0?"before":"after")}function Jo(e,t,n,i){var a=pe(t,e.doc.direction);if(!a)return Wo(t,n,i);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var r=he(a,n.ch,n.sticky),o=a[r];if("ltr"==e.doc.direction&&o.level%2==0&&(i>0?o.to>n.ch:o.from<n.ch))return Wo(t,n,i);var s,l=function(e,n){return Yo(t,e instanceof ot?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||ii(e,t),Si(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==o.level){var d=1==o.level==i<0,h=l(n,d?1:-1);if(null!=h&&(d?h<=o.to&&h<=c.end:h>=o.from&&h>=c.begin)){var f=d?"before":"after";return new ot(n.line,h,f)}}var p=function(e,t,i){for(var r=function(e,t){return t?new ot(n.line,l(e,1),"before"):new ot(n.line,e,"after")};e>=0&&e<a.length;e+=t){var o=a[e],s=t>0==(1!=o.level),u=s?i.begin:l(i.end,-1);if(o.from<=u&&u<o.to)return r(u,s);if(u=s?o.from:l(o.to,-1),i.begin<=u&&u<i.end)return r(u,s)}},m=p(r+i,i,c);if(m)return m;var g=i>0?c.end:l(c.begin,-1);return null==g||i>0&&g==t.text.length||(m=p(i>0?0:a.length-1,i,u(g)),!m)?null:m}Vo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vo["default"]=A?Vo.macDefault:Vo.pcDefault;var Xo={selectAll:Kr,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),$)},killLine:function(e){return Go(e,(function(t){if(t.empty()){var n=Xe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ot(t.head.line+1,0)}:{from:t.head,to:ot(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Go(e,(function(t){return{from:ot(t.from().line,0),to:ft(e.doc,ot(t.to().line+1,0))}}))},delLineLeft:function(e){return Go(e,(function(e){return{from:ot(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Go(e,(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}}))},delWrappedLineRight:function(e){return Go(e,(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ot(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ot(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Zo(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return ts(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return es(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),G)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),G)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?ts(e,t.head):i}),G)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,a=0;a<n.length;a++){var r=n[a].from(),o=F(e.getLine(r.line),r.ch,i);t.push(K(i-o%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Oa(e,(function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)if(t[i].empty()){var a=t[i].head,r=Xe(e.doc,a.line).text;if(r)if(a.ch==r.length&&(a=new ot(a.line,a.ch-1)),a.ch>0)a=new ot(a.line,a.ch+1),e.replaceRange(r.charAt(a.ch-1)+r.charAt(a.ch-2),ot(a.line,a.ch-2),a,"+transpose");else if(a.line>e.doc.first){var o=Xe(e.doc,a.line-1).text;o&&(a=new ot(a.line,1),e.replaceRange(r.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),ot(a.line-1,o.length-1),a,"+transpose"))}n.push(new or(a,a))}e.setSelections(n)}))},newlineAndIndent:function(e){return Oa(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);la(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Zo(e,t){var n=Xe(e.doc,t),i=Zt(n);return i!=n&&(t=nt(i)),Ko(!0,e,i,t,1)}function es(e,t){var n=Xe(e.doc,t),i=en(n);return i!=n&&(t=nt(i)),Ko(!0,e,n,t,-1)}function ts(e,t){var n=Zo(e,t.line),i=Xe(e.doc,n.line),a=pe(i,e.doc.direction);if(!a||0==a[0].level){var r=Math.max(n.ch,i.text.search(/\S/)),o=t.line==n.line&&t.ch<=r&&t.ch;return ot(n.line,o?0:r,n.sticky)}return n}function ns(e,t,n){if("string"==typeof t&&(t=Xo[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),a=t(e)!=Q}finally{e.display.shift=i,e.state.suppressEdits=!1}return a}function is(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var a=qo(t,e.state.keyMaps[i],n,e);if(a)return a}return e.options.extraKeys&&qo(t,e.options.extraKeys,n,e)||qo(t,e.options.keyMap,n,e)}var as=new U;function rs(e,t,n,i){var a=e.state.keySeq;if(a){if(zo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:as.set(50,(function(){e.state.keySeq==a&&(e.state.keySeq=null,e.display.input.reset())})),os(e,a+" "+t,n,i))return!0}return os(e,t,n,i)}function os(e,t,n,i){var a=is(e,t,i);return"multi"==a&&(e.state.keySeq=t),"handled"==a&&Pn(e,"keyHandled",e,t,n),"handled"!=a&&"multi"!=a||(ke(n),Wi(e)),!!a}function ss(e,t){var n=$o(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?rs(e,"Shift-"+n,t,(function(t){return ns(e,t,!0)}))||rs(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ns(e,t)})):rs(e,n,t,(function(t){return ns(e,t)})))}function ls(e,t,n){return rs(e,"'"+n+"'",t,(function(t){return ns(e,t,!0)}))}var us=null;function cs(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=E(),!Ae(t,e))){l&&u<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var a=ss(t,e);f&&(us=a?n:null,a||88!=n||Be||!(A?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),i&&!A&&!a&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ds(t)}}function ds(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(I(t,"CodeMirror-crosshair"),ye(document,"keyup",n),ye(document,"mouseover",n))}R(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n)}function hs(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ae(this,e)}function fs(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!($n(t.display,e)||Ae(t,e)||e.ctrlKey&&!e.altKey||A&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(f&&n==us)return us=null,void ke(e);if(!f||e.which&&!(e.which<10)||!ss(t,e)){var a=String.fromCharCode(null==i?n:i);"\b"!=a&&(ls(t,e,a)||t.display.input.onKeyPress(e))}}}var ps,ms,gs=400,vs=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ys(e,t){var n=+new Date;return ms&&ms.compare(n,e,t)?(ps=ms=null,"triple"):ps&&ps.compare(n,e,t)?(ms=new vs(n,e,t),ps=null,"double"):(ps=new vs(n,e,t),ms=null,"single")}function bs(e){var t=this,n=t.display;if(!(Ae(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,$n(n,e))c||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Is(t,e)){var i=ji(t,e),a=De(e),r=i?ys(i,a):"single";window.focus(),1==a&&t.state.selectingText&&t.state.selectingText(e),i&&As(t,a,i,r,e)||(1==a?i?xs(t,i,r,e):Ie(e)==n.scroller&&ke(e):2==a?(i&&jr(t.doc,i),setTimeout((function(){return n.input.focus()}),20)):3==a&&(S?t.display.input.onContextMenu(e):Ji(t)))}}function As(e,t,n,i,a){var r="Click";return"double"==i?r="Double"+r:"triple"==i&&(r="Triple"+r),r=(1==t?"Left":2==t?"Middle":"Right")+r,rs(e,Qo(r,a),a,(function(t){if("string"==typeof t&&(t=Xo[t]),!t)return!1;var i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i=t(e,n)!=Q}finally{e.state.suppressEdits=!1}return i}))}function ws(e,t,n){var i=e.getOption("configureMouse"),a=i?i(e,t,n):{};if(null==a.unit){var r=w?n.shiftKey&&n.metaKey:n.altKey;a.unit=r?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==a.extend||e.doc.extend)&&(a.extend=e.doc.extend||n.shiftKey),null==a.addNew&&(a.addNew=A?n.metaKey:n.ctrlKey),null==a.moveOnDrag&&(a.moveOnDrag=!(A?n.altKey:n.ctrlKey)),a}function xs(e,t,n,i){l?setTimeout(_(Ki,e),0):e.curOp.focus=E();var a,r=ws(e,n,i),o=e.doc.sel;e.options.dragDrop&&Oe&&!e.isReadOnly()&&"single"==n&&(a=o.contains(t))>-1&&(st((a=o.ranges[a]).from(),t)<0||t.xRel>0)&&(st(a.to(),t)>0||t.xRel<0)?Cs(e,i,t,r):Ss(e,i,t,r)}function Cs(e,t,n,i){var a=e.display,r=!1,o=Ma(e,(function(t){c&&(a.scroller.draggable=!1),e.state.draggingText=!1,ye(a.wrapper.ownerDocument,"mouseup",o),ye(a.wrapper.ownerDocument,"mousemove",s),ye(a.scroller,"dragstart",d),ye(a.scroller,"drop",o),r||(ke(t),i.addNew||jr(e.doc,n,null,null,i.extend),c&&!p||l&&9==u?setTimeout((function(){a.wrapper.ownerDocument.body.focus({preventScroll:!0}),a.input.focus()}),20):a.input.focus())})),s=function(e){r=r||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return r=!0};c&&(a.scroller.draggable=!0),e.state.draggingText=o,o.copy=!i.moveOnDrag,a.scroller.dragDrop&&a.scroller.dragDrop(),ge(a.wrapper.ownerDocument,"mouseup",o),ge(a.wrapper.ownerDocument,"mousemove",s),ge(a.scroller,"dragstart",d),ge(a.scroller,"drop",o),Ji(e),setTimeout((function(){return a.input.focus()}),20)}function ks(e,t,n){if("char"==n)return new or(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new or(ot(t.line,0),ft(e.doc,ot(t.line+1,0)));var i=n(e,t);return new or(i.from,i.to)}function Ss(e,t,n,i){var a=e.display,r=e.doc;ke(t);var o,s,l=r.sel,u=l.ranges;if(i.addNew&&!i.extend?(s=r.sel.contains(n),o=s>-1?u[s]:new or(n,n)):(o=r.sel.primary(),s=r.sel.primIndex),"rectangle"==i.unit)i.addNew||(o=new or(n,n)),n=ji(e,t,!0,!0),s=-1;else{var c=ks(e,n,i.unit);o=i.extend?Rr(o,c.anchor,c.head,i.extend):c}i.addNew?-1==s?(s=u.length,qr(r,sr(e,u.concat([o]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==i.unit&&!i.extend?(qr(r,sr(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=r.sel):_r(r,s,o,H):(s=0,qr(r,new rr([o],0),H),l=r.sel);var d=n;function h(t){if(0!=st(d,t))if(d=t,"rectangle"==i.unit){for(var a=[],u=e.options.tabSize,c=F(Xe(r,n.line).text,n.ch,u),h=F(Xe(r,t.line).text,t.ch,u),f=Math.min(c,h),p=Math.max(c,h),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=Xe(r,m).text,y=Y(v,f,u);f==p?a.push(new or(ot(m,y),ot(m,y))):v.length>y&&a.push(new or(ot(m,y),ot(m,Y(v,p,u))))}a.length||a.push(new or(n,n)),qr(r,sr(e,l.ranges.slice(0,s).concat(a),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,A=o,w=ks(e,t,i.unit),x=A.anchor;st(w.anchor,x)>0?(b=w.head,x=dt(A.from(),w.anchor)):(b=w.anchor,x=ct(A.to(),w.head));var C=l.ranges.slice(0);C[s]=Ts(e,new or(ft(r,x),b)),qr(r,sr(e,C,s),H)}}var f=a.wrapper.getBoundingClientRect(),p=0;function m(t){var n=++p,o=ji(e,t,!0,"rectangle"==i.unit);if(o)if(0!=st(o,d)){e.curOp.focus=E(),h(o);var s=na(a,r);(o.line>=s.to||o.line<s.from)&&setTimeout(Ma(e,(function(){p==n&&m(t)})),150)}else{var l=t.clientY<f.top?-20:t.clientY>f.bottom?20:0;l&&setTimeout(Ma(e,(function(){p==n&&(a.scroller.scrollTop+=l,m(t))})),50)}}function g(t){e.state.selectingText=!1,p=1/0,t&&(ke(t),a.input.focus()),ye(a.wrapper.ownerDocument,"mousemove",v),ye(a.wrapper.ownerDocument,"mouseup",y),r.history.lastSelOrigin=null}var v=Ma(e,(function(e){0!==e.buttons&&De(e)?m(e):g(e)})),y=Ma(e,g);e.state.selectingText=y,ge(a.wrapper.ownerDocument,"mousemove",v),ge(a.wrapper.ownerDocument,"mouseup",y)}function Ts(e,t){var n=t.anchor,i=t.head,a=Xe(e.doc,n.line);if(0==st(n,i)&&n.sticky==i.sticky)return t;var r=pe(a);if(!r)return t;var o=he(r,n.ch,n.sticky),s=r[o];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,u=o+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==r.length)return t;if(i.line!=n.line)l=(i.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=he(r,i.ch,i.sticky),d=c-o||(i.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?d<0:d>0}var h=r[u+(l?-1:0)],f=l==(1==h.level),p=f?h.from:h.to,m=f?"after":"before";return n.ch==p&&n.sticky==m?t:new or(new ot(n.line,p,m),i)}function Ns(e,t,n,i){var a,r;if(t.touches)a=t.touches[0].clientX,r=t.touches[0].clientY;else try{a=t.clientX,r=t.clientY}catch(h){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&ke(t);var o=e.display,s=o.lineDiv.getBoundingClientRect();if(r>s.bottom||!xe(e,n))return Te(t);r-=s.top-o.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=o.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=a){var c=it(e.doc,r),d=e.display.gutterSpecs[l];return be(e,n,e,c,d.className,t),Te(t)}}}function Is(e,t){return Ns(e,t,"gutterClick",!0)}function Ds(e,t){$n(e.display,t)||Ps(e,t)||Ae(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function Ps(e,t){return!!xe(e,"gutterContextMenu")&&Ns(e,t,"gutterContextMenu",!1)}function Ls(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),fi(e)}vs.prototype.compare=function(e,t,n){return this.time+gs>e&&0==st(t,this.pos)&&n==this.button};var Os={toString:function(){return"CodeMirror.Init"}},Ms={},Es={};function Rs(e){var t=e.optionHandlers;function n(n,i,a,r){e.defaults[n]=i,a&&(t[n]=r?function(e,t,n){n!=Os&&a(e,t,n)}:a)}e.defineOption=n,e.Init=Os,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,pr(e)}),!0),n("indentUnit",2,pr,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){mr(e),fi(e),_i(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter((function(e){for(var a=0;;){var r=e.text.indexOf(t,a);if(-1==r)break;a=r+t.length,n.push(ot(i,r))}i++}));for(var a=n.length-1;a>=0;a--)ao(e.doc,t,n[a],ot(n[a].line,n[a].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Os&&e.refresh()})),n("specialCharPlaceholder",vn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Ls(e),Xa(e)}),!0),n("keyMap","default",(function(e,t,n){var i=Ho(t),a=n!=Os&&Ho(n);a&&a.detach&&a.detach(e,i),i.attach&&i.attach(e,a||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Bs,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Ka(t,e.options.lineNumbers),Xa(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Mi(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return ba(e)}),!0),n("scrollbarStyle","native",(function(e){xa(e),ba(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Ka(e.options.gutters,t),Xa(e)}),!0),n("firstLineNumber",1,Xa,!0),n("lineNumberFormatter",(function(e){return e}),Xa,!0),n("showCursorWhenSelecting",!1,Qi,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Zi(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,js),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Qi,!0),n("singleCursorHeightPerLine",!0,Qi,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,mr,!0),n("addModeClass",!1,mr,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,mr,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function js(e,t,n){var i=n&&n!=Os;if(!t!=!i){var a=e.display.dragFunctions,r=t?ge:ye;r(e.display.scroller,"dragstart",a.start),r(e.display.scroller,"dragenter",a.enter),r(e.display.scroller,"dragover",a.over),r(e.display.scroller,"dragleave",a.leave),r(e.display.scroller,"drop",a.drop)}}function Bs(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(I(e.display.wrapper,"CodeMirror-wrap"),un(e)),Ri(e),_i(e),fi(e),setTimeout((function(){return ba(e)}),100)}function _s(e,t){var n=this;if(!(this instanceof _s))return new _s(e,t);this.options=t=t?V(t):{},V(Ms,t,!1);var i=t.value;"string"==typeof i?i=new ko(i,t.mode,null,t.lineSeparator,t.direction):t.mode&&(i.modeOption=t.mode),this.doc=i;var a=new _s.inputStyles[t.inputStyle](this),r=this.display=new Za(e,i,a,t);for(var o in r.wrapper.CodeMirror=this,Ls(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),xa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new U,keySeq:null,specialChars:null},t.autofocus&&!b&&r.input.focus(),l&&u<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Vs(this),Oo(),ka(this),this.curOp.forceUpdate=!0,br(this,i),t.autofocus&&!b||this.hasFocus()?setTimeout(_(Xi,this),20):Zi(this),Es)Es.hasOwnProperty(o)&&Es[o](this,t[o],Os);Wa(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Fs.length;++s)Fs[s](this);Sa(this),c&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(r.lineDiv).textRendering&&(r.lineDiv.style.textRendering="auto")}function Vs(e){var t=e.display;ge(t.scroller,"mousedown",Ma(e,bs)),ge(t.scroller,"dblclick",l&&u<11?Ma(e,(function(t){if(!Ae(e,t)){var n=ji(e,t);if(n&&!Is(e,t)&&!$n(e.display,t)){ke(t);var i=e.findWordAt(n);jr(e.doc,i.anchor,i.head)}}})):function(t){return Ae(e,t)||ke(t)}),ge(t.scroller,"contextmenu",(function(t){return Ds(e,t)})),ge(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||Ds(e,n)}));var n,i={end:0};function a(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),i=t.activeTouch,i.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}ge(t.scroller,"touchstart",(function(a){if(!Ae(e,a)&&!r(a)&&!Is(e,a)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-i.end<=300?i:null},1==a.touches.length&&(t.activeTouch.left=a.touches[0].pageX,t.activeTouch.top=a.touches[0].pageY)}})),ge(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),ge(t.scroller,"touchend",(function(n){var i=t.activeTouch;if(i&&!$n(t,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var r,s=e.coordsChar(t.activeTouch,"page");r=!i.prev||o(i,i.prev)?new or(s,s):!i.prev.prev||o(i,i.prev.prev)?e.findWordAt(s):new or(ot(s.line,0),ft(e.doc,ot(s.line+1,0))),e.setSelection(r.anchor,r.head),e.focus(),ke(n)}a()})),ge(t.scroller,"touchcancel",a),ge(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(fa(e,t.scroller.scrollTop),ma(e,t.scroller.scrollLeft,!0),be(e,"scroll",e))})),ge(t.scroller,"mousewheel",(function(t){return ar(e,t)})),ge(t.scroller,"DOMMouseScroll",(function(t){return ar(e,t)})),ge(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){Ae(e,t)||Ne(t)},over:function(t){Ae(e,t)||(Io(e,t),Ne(t))},start:function(t){return No(e,t)},drop:Ma(e,To),leave:function(t){Ae(e,t)||Do(e)}};var s=t.input.getField();ge(s,"keyup",(function(t){return hs.call(e,t)})),ge(s,"keydown",Ma(e,cs)),ge(s,"keypress",Ma(e,fs)),ge(s,"focus",(function(t){return Xi(e,t)})),ge(s,"blur",(function(t){return Zi(e,t)}))}_s.defaults=Ms,_s.optionHandlers=Es;var Fs=[];function Us(e,t,n,i){var a,r=e.doc;null==n&&(n="add"),"smart"==n&&(r.mode.indent?a=At(e,t).state:n="prev");var o=e.options.tabSize,s=Xe(r,t),l=F(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(i||/\S/.test(s.text)){if("smart"==n&&(u=r.mode.indent(a,s.text.slice(c.length),s.text),u==Q||u>150)){if(!i)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>r.first?F(Xe(r,t-1).text,null,o):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var d="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/o);f;--f)h+=o,d+="\t";if(h<u&&(d+=K(u-h)),d!=c)return ao(r,d,ot(t,0),ot(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<r.sel.ranges.length;p++){var m=r.sel.ranges[p];if(m.head.line==t&&m.head.ch<c.length){var g=ot(t,c.length);_r(r,p,new or(g,g));break}}}_s.defineInitHook=function(e){return Fs.push(e)};var qs=null;function zs(e){qs=e}function Qs(e,t,n,i,a){var r=e.doc;e.display.shift=!1,i||(i=r.sel);var o=+new Date-200,s="paste"==a||e.state.pasteIncoming>o,l=Re(t),u=null;if(s&&i.ranges.length>1)if(qs&&qs.text.join("\n")==t){if(i.ranges.length%qs.text.length==0){u=[];for(var c=0;c<qs.text.length;c++)u.push(r.splitLines(qs.text[c]))}}else l.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(u=X(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,h=i.ranges.length-1;h>=0;h--){var f=i.ranges[h],p=f.from(),m=f.to();f.empty()&&(n&&n>0?p=ot(p.line,p.ch-n):e.state.overwrite&&!s?m=ot(m.line,Math.min(Xe(r,m.line).text.length,m.ch+J(l).length)):s&&qs&&qs.lineWise&&qs.text.join("\n")==l.join("\n")&&(p=m=ot(p.line,0)));var g={from:p,to:m,text:u?u[h%u.length]:l,origin:a||(s?"paste":e.state.cutIncoming>o?"cut":"+input")};Xr(e.doc,g),Pn(e,"inputRead",e,g)}t&&!s&&Hs(e,t),la(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function $s(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Oa(t,(function(){return Qs(t,n,0,null,"paste")})),!0}function Hs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var a=n.ranges[i];if(!(a.head.ch>100||i&&n.ranges[i-1].head.line==a.head.line)){var r=e.getModeAt(a.head),o=!1;if(r.electricChars){for(var s=0;s<r.electricChars.length;s++)if(t.indexOf(r.electricChars.charAt(s))>-1){o=Us(e,a.head.line,"smart");break}}else r.electricInput&&r.electricInput.test(Xe(e.doc,a.head.line).text.slice(0,a.head.ch))&&(o=Us(e,a.head.line,"smart"));o&&Pn(e,"electricInput",e,a.head.line)}}}function Gs(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var a=e.doc.sel.ranges[i].head.line,r={anchor:ot(a,0),head:ot(a+1,0)};n.push(r),t.push(e.getRange(r.anchor,r.head))}return{text:t,ranges:n}}function Ys(e,t,n,i){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",i?"":"off"),e.setAttribute("spellcheck",!!t)}function Ws(){var e=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=L("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?e.style.width="1000px":e.setAttribute("wrap","off"),v&&(e.style.border="1px solid black"),Ys(e),t}function Ks(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var i=this.options,a=i[e];i[e]==n&&"mode"!=e||(i[e]=n,t.hasOwnProperty(e)&&Ma(this,t[e])(this,n,a),be(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ho(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ea((function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");Z(this.state.overlays,{mode:i,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,_i(this)})),removeOverlay:Ea((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void _i(this)}})),indentLine:Ea((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),at(this.doc,e)&&Us(this,e,t,n)})),indentSelection:Ea((function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var a=t[i];if(a.empty())a.head.line>n&&(Us(this,a.head.line,e,!0),n=a.head.line,i==this.doc.sel.primIndex&&la(this));else{var r=a.from(),o=a.to(),s=Math.max(n,r.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=s;l<n;++l)Us(this,l,e);var u=this.doc.sel.ranges;0==r.ch&&t.length==u.length&&u[i].from().ch>0&&_r(this.doc,i,new or(r,u[i].to()),$)}}})),getTokenAt:function(e,t){return St(this,e,t)},getLineTokens:function(e,t){return St(this,ot(e),t,!0)},getTokenTypeAt:function(e){e=ft(this.doc,e);var t,n=bt(this,Xe(this.doc,e.line)),i=0,a=(n.length-1)/2,r=e.ch;if(0==r)t=n[2];else for(;;){var o=i+a>>1;if((o?n[2*o-1]:0)>=r)a=o;else{if(!(n[2*o+1]<r)){t=n[2*o+2];break}i=o+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!n.hasOwnProperty(t))return i;var a=n[t],r=this.getModeAt(e);if("string"==typeof r[t])a[r[t]]&&i.push(a[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var s=a[r[t][o]];s&&i.push(s)}else r.helperType&&a[r.helperType]?i.push(a[r.helperType]):a[r.name]&&i.push(a[r.name]);for(var l=0;l<a._global.length;l++){var u=a._global[l];u.pred(r,this)&&-1==q(i,u.val)&&i.push(u.val)}return i},getStateAfter:function(e,t){var n=this.doc;return e=ht(n,null==e?n.first+n.size-1:e),At(this,e+1,t).state},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==o(e)?ft(this.doc,e):e?i.from():i.to(),Ai(this,n,t||"page")},charCoords:function(e,t){return bi(this,ft(this.doc,e),t||"page")},coordsChar:function(e,t){return e=yi(this,e,t||"page"),Ci(this,e.left,e.top)},lineAtHeight:function(e,t){return e=yi(this,{top:e,left:0},t||"page").top,it(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var i,a=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,a=!0),i=Xe(this.doc,e)}else i=e;return vi(this,i,{top:0,left:0},t||"page",n||a).top+(a?this.doc.height-sn(i):0)},defaultTextHeight:function(){return Pi(this.display)},defaultCharWidth:function(){return Li(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,a){var r=this.display;e=Ai(this,ft(this.doc,e));var o=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),r.sizer.appendChild(t),"over"==i)o=e.top;else if("above"==i||"near"==i){var l=Math.max(r.wrapper.clientHeight,this.doc.height),u=Math.max(r.sizer.clientWidth,r.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==a?(s=r.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==a?s=0:"middle"==a&&(s=(r.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&ra(this,{left:s,top:o,right:s+t.offsetWidth,bottom:o+t.offsetHeight})},triggerOnKeyDown:Ea(cs),triggerOnKeyPress:Ea(fs),triggerOnKeyUp:hs,triggerOnMouseDown:Ea(bs),execCommand:function(e){if(Xo.hasOwnProperty(e))return Xo[e].call(null,this)},triggerElectric:Ea((function(e){Hs(this,e)})),findPosH:function(e,t,n,i){var a=1;t<0&&(a=-1,t=-t);for(var r=ft(this.doc,e),o=0;o<t;++o)if(r=Js(this.doc,r,a,n,i),r.hitSide)break;return r},moveH:Ea((function(e,t){var n=this;this.extendSelectionsBy((function(i){return n.display.shift||n.doc.extend||i.empty()?Js(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()}),G)})),deleteH:Ea((function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Go(this,(function(n){var a=Js(i,n.head,e,t,!1);return e<0?{from:a,to:n.head}:{from:n.head,to:a}}))})),findPosV:function(e,t,n,i){var a=1,r=i;t<0&&(a=-1,t=-t);for(var o=ft(this.doc,e),s=0;s<t;++s){var l=Ai(this,o,"div");if(null==r?r=l.left:l.left=r,o=Xs(this,l,a,n),o.hitSide)break}return o},moveV:Ea((function(e,t){var n=this,i=this.doc,a=[],r=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy((function(o){if(r)return e<0?o.from():o.to();var s=Ai(n,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),a.push(s.left);var l=Xs(n,s,e,t);return"page"==t&&o==i.sel.primary()&&sa(n,bi(n,l,"div").top-s.top),l}),G),a.length)for(var o=0;o<i.sel.ranges.length;o++)i.sel.ranges[o].goalColumn=a[o]})),findWordAt:function(e){var t=this.doc,n=Xe(t,e.line).text,i=e.ch,a=e.ch;if(n){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&a!=n.length||!i?++a:--i;var o=n.charAt(i),s=ae(o,r)?function(e){return ae(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ae(e)};while(i>0&&s(n.charAt(i-1)))--i;while(a<n.length&&s(n.charAt(a)))++a}return new or(ot(e.line,i),ot(e.line,a))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):I(this.display.cursorDiv,"CodeMirror-overwrite"),be(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==E()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ea((function(e,t){ua(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Wn(this)-this.display.barHeight,width:e.scrollWidth-Wn(this)-this.display.barWidth,clientHeight:Jn(this),clientWidth:Kn(this)}},scrollIntoView:Ea((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ot(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?ca(this,e):ha(this,e.from,e.to,e.margin)})),setSize:Ea((function(e,t){var n=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&hi(this);var a=this.display.viewFrom;this.doc.iter(a,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Vi(n,a,"widget");break}++a})),this.curOp.forceUpdate=!0,be(this,"refresh",this)})),operation:function(e){return Oa(this,e)},startOperation:function(){return ka(this)},endOperation:function(){return Sa(this)},refresh:Ea((function(){var e=this.display.cachedTextHeight;_i(this),this.curOp.forceUpdate=!0,fi(this),ua(this,this.doc.scrollLeft,this.doc.scrollTop),Ha(this.display),(null==e||Math.abs(e-Pi(this.display))>.5||this.options.lineWrapping)&&Ri(this),be(this,"refresh",this)})),swapDoc:Ea((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),br(this,e),fi(this),this.display.input.reset(),ua(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Pn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ce(e),e.registerHelper=function(t,i,a){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][i]=a},e.registerGlobalHelper=function(t,i,a,r){e.registerHelper(t,i,r),n[t]._global.push({pred:a,val:r})}}function Js(e,t,n,i,a){var r=t,o=n,s=Xe(e,t.line),l=a&&"rtl"==e.direction?-n:n;function u(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new ot(n,t.ch,t.sticky),s=Xe(e,n))}function c(i){var r;if(r=a?Jo(e.cm,s,t,n):Wo(s,t,n),null==r){if(i||!u())return!1;t=Ko(a,e.cm,s,t.line,l)}else t=r;return!0}if("char"==i)c();else if("column"==i)c(!0);else if("word"==i||"group"==i)for(var d=null,h="group"==i,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;;p=!1){if(n<0&&!c(!p))break;var m=s.text.charAt(t.ch)||"\n",g=ae(m,f)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||p||g||(g="s"),d&&d!=g){n<0&&(n=1,c(),t.sticky="after");break}if(g&&(d=g),n>0&&!c(!p))break}var v=Yr(e,t,r,o,!0);return lt(r,v)&&(v.hitSide=!0),v}function Xs(e,t,n,i){var a,r,o=e.doc,s=t.left;if("page"==i){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*Pi(e.display),3);a=(n>0?t.bottom:t.top)+n*u}else"line"==i&&(a=n>0?t.bottom+3:t.top-3);for(;;){if(r=Ci(e,s,a),!r.outside)break;if(n<0?a<=0:a>=o.height){r.hitSide=!0;break}a+=5*n}return r}var Zs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new U,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function el(e,t){var n=ni(e,t.line);if(!n||n.hidden)return null;var i=Xe(e.doc,t.line),a=Zn(n,i,t.line),r=pe(i,e.doc.direction),o="left";if(r){var s=he(r,t.ch);o=s%2?"right":"left"}var l=si(a.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function tl(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function nl(e,t){return t&&(e.bad=!0),e}function il(e,t,n,i,a){var r="",o=!1,s=e.doc.lineSeparator(),l=!1;function u(e){return function(t){return t.id==e}}function c(){o&&(r+=s,l&&(r+=s),o=l=!1)}function d(e){e&&(c(),r+=e)}function h(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var r,f=t.getAttribute("cm-marker");if(f){var p=e.findMarks(ot(i,0),ot(a+1,0),u(+f));return void(p.length&&(r=p[0].find(0))&&d(Ze(e.doc,r.from,r.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&c();for(var g=0;g<t.childNodes.length;g++)h(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(o=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(h(t),t==n)break;t=t.nextSibling,l=!1}return r}function al(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return nl(e.clipPos(ot(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var a=0;a<e.display.view.length;a++){var r=e.display.view[a];if(r.node==i)return rl(r,t,n)}}function rl(e,t,n){var i=e.text.firstChild,a=!1;if(!t||!M(i,t))return nl(ot(nt(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[n],n=0,!t)){var r=e.rest?J(e.rest):e.line;return nl(ot(nt(r),r.text.length),a)}var o=3==t.nodeType?t:null,s=t;o||1!=t.childNodes.length||3!=t.firstChild.nodeType||(o=t.firstChild,n&&(n=o.nodeValue.length));while(s.parentNode!=i)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,n,i){for(var a=-1;a<(u?u.length:0);a++)for(var r=a<0?l.map:u[a],o=0;o<r.length;o+=3){var s=r[o+2];if(s==t||s==n){var c=nt(a<0?e.line:e.rest[a]),d=r[o]+i;return(i<0||s!=t)&&(d=r[o+(i?1:0)]),ot(c,d)}}}var d=c(o,s,n);if(d)return nl(d,a);for(var h=s.nextSibling,f=o?o.nodeValue.length-n:0;h;h=h.nextSibling){if(d=c(h,h.firstChild,0),d)return nl(ot(d.line,d.ch-f),a);f+=h.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(d=c(p,p.firstChild,-1),d)return nl(ot(d.line,d.ch+m),a);m+=p.textContent.length}}Zs.prototype.init=function(e){var t=this,n=this,i=n.cm,a=n.div=e.lineDiv;function r(e){for(var t=e.target;t;t=t.parentNode){if(t==a)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function o(e){if(r(e)&&!Ae(i,e)){if(i.somethingSelected())zs({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Gs(i);zs({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation((function(){i.setSelections(t.ranges,0,$),i.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=qs.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=Ws(),l=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),l.value=qs.text.join("\n");var u=document.activeElement;B(l),setTimeout((function(){i.display.lineSpace.removeChild(s),u.focus(),u==a&&n.showPrimarySelection()}),50)}}Ys(a,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),ge(a,"paste",(function(e){!r(e)||Ae(i,e)||$s(e,i)||u<=11&&setTimeout(Ma(i,(function(){return t.updateFromDOM()})),20)})),ge(a,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),ge(a,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),ge(a,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),ge(a,"touchstart",(function(){return n.forceCompositionEnd()})),ge(a,"input",(function(){t.composing||t.readFromDOMSoon()})),ge(a,"copy",o),ge(a,"cut",o)},Zs.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Zs.prototype.prepareSelection=function(){var e=$i(this.cm,!1);return e.focus=document.activeElement==this.div,e},Zs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Zs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Zs.prototype.showPrimarySelection=function(){var t=this.getSelection(),n=this.cm,a=n.doc.sel.primary(),r=a.from(),o=a.to();if(n.display.viewTo==n.display.viewFrom||r.line>=n.display.viewTo||o.line<n.display.viewFrom)t.removeAllRanges();else{var s=al(n,t.anchorNode,t.anchorOffset),l=al(n,t.focusNode,t.focusOffset);if(!s||s.bad||!l||l.bad||0!=st(dt(s,l),r)||0!=st(ct(s,l),o)){var u=n.display.view,c=r.line>=n.display.viewFrom&&el(n,r)||{node:u[0].measure.map[2],offset:0},d=o.line<n.display.viewTo&&el(n,o);if(!d){var h=u[u.length-1].measure,f=h.maps?h.maps[h.maps.length-1]:h.map;d={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(c&&d){var p,m=t.rangeCount&&t.getRangeAt(0);try{p=N(c.node,c.offset,d.offset,d.node)}catch(e){}p&&(!i&&n.state.focused?(t.collapse(c.node,c.offset),p.collapsed||(t.removeAllRanges(),t.addRange(p))):(t.removeAllRanges(),t.addRange(p)),m&&null==t.anchorNode?t.addRange(m):i&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Zs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Zs.prototype.showMultipleSelections=function(e){P(this.cm.display.cursorDiv,e.cursors),P(this.cm.display.selectionDiv,e.selection)},Zs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Zs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return M(this.div,t)},Zs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Zs.prototype.blur=function(){this.div.blur()},Zs.prototype.getField=function(){return this.div},Zs.prototype.supportsTouch=function(){return!0},Zs.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Oa(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Zs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Zs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(y&&h&&this.cm.display.gutterSpecs.length&&tl(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=al(t,e.anchorNode,e.anchorOffset),i=al(t,e.focusNode,e.focusOffset);n&&i&&Oa(t,(function(){qr(t.doc,lr(n,i),$),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)}))}}},Zs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,i=this.cm,a=i.display,r=i.doc.sel.primary(),o=r.from(),s=r.to();if(0==o.ch&&o.line>i.firstLine()&&(o=ot(o.line-1,Xe(i.doc,o.line-1).length)),s.ch==Xe(i.doc,s.line).text.length&&s.line<i.lastLine()&&(s=ot(s.line+1,0)),o.line<a.viewFrom||s.line>a.viewTo-1)return!1;o.line==a.viewFrom||0==(e=Bi(i,o.line))?(t=nt(a.view[0].line),n=a.view[0].node):(t=nt(a.view[e].line),n=a.view[e-1].node.nextSibling);var l,u,c=Bi(i,s.line);if(c==a.view.length-1?(l=a.viewTo-1,u=a.lineDiv.lastChild):(l=nt(a.view[c+1].line)-1,u=a.view[c+1].node.previousSibling),!n)return!1;var d=i.doc.splitLines(il(i,n,u,t,l)),h=Ze(i.doc,ot(t,0),ot(l,Xe(i.doc,l).text.length));while(d.length>1&&h.length>1)if(J(d)==J(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),t++}var f=0,p=0,m=d[0],g=h[0],v=Math.min(m.length,g.length);while(f<v&&m.charCodeAt(f)==g.charCodeAt(f))++f;var y=J(d),b=J(h),A=Math.min(y.length-(1==d.length?f:0),b.length-(1==h.length?f:0));while(p<A&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1))++p;if(1==d.length&&1==h.length&&t==o.line)while(f&&f>o.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1))f--,p++;d[d.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var w=ot(t,f),x=ot(l,h.length?J(h).length-p:0);return d.length>1||d[0]||st(w,x)?(ao(i.doc,d,w,x,"+input"),!0):void 0},Zs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Zs.prototype.reset=function(){this.forceCompositionEnd()},Zs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Zs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Zs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Oa(this.cm,(function(){return _i(e.cm)}))},Zs.prototype.setUneditable=function(e){e.contentEditable="false"},Zs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ma(this.cm,Qs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Zs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Zs.prototype.onContextMenu=function(){},Zs.prototype.resetPosition=function(){},Zs.prototype.needsContentAttribute=!0;var ol=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new U,this.hasSelection=!1,this.composing=null};function sl(t,n){if(n=n?V(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=E();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}function a(){t.value=l.getValue()}var r;if(t.form&&(ge(t.form,"submit",a),!n.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var s=o.submit=function(){a(),o.submit=r,o.submit(),o.submit=s}}catch(e){}}n.finishInit=function(e){e.save=a,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,a(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(ye(t.form,"submit",a),n.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=r))}},t.style.display="none";var l=_s((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),n);return l}function ll(e){e.off=ye,e.on=ge,e.wheelEventPixels=ir,e.Doc=ko,e.splitLines=Re,e.countColumn=F,e.findColumn=Y,e.isWordChar=ie,e.Pass=Q,e.signal=be,e.Line=cn,e.changeEnd=ur,e.scrollbarModel=wa,e.Pos=ot,e.cmpPos=st,e.modes=Fe,e.mimeModes=Ue,e.resolveMode=Qe,e.getMode=$e,e.modeExtensions=He,e.extendMode=Ge,e.copyState=Ye,e.startState=Ke,e.innerMode=We,e.commands=Xo,e.keyMap=Vo,e.keyName=$o,e.isModifierKey=zo,e.lookupKey=qo,e.normalizeKeyMap=Uo,e.StringStream=Je,e.SharedTextMarker=yo,e.TextMarker=go,e.LineWidget=ho,e.e_preventDefault=ke,e.e_stopPropagation=Se,e.e_stop=Ne,e.addClass=R,e.contains=M,e.rmClass=I,e.keyNames=Ro}ol.prototype.init=function(e){var t=this,n=this,i=this.cm;this.createField(e);var a=this.textarea;function r(e){if(!Ae(i,e)){if(i.somethingSelected())zs({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=Gs(i);zs({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,$):(n.prevInput="",a.value=t.text.join("\n"),B(a))}"cut"==e.type&&(i.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),v&&(a.style.width="0px"),ge(a,"input",(function(){l&&u>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),ge(a,"paste",(function(e){Ae(i,e)||$s(e,i)||(i.state.pasteIncoming=+new Date,n.fastPoll())})),ge(a,"cut",r),ge(a,"copy",r),ge(e.scroller,"paste",(function(t){if(!$n(e,t)&&!Ae(i,t)){if(!a.dispatchEvent)return i.state.pasteIncoming=+new Date,void n.focus();var r=new Event("paste");r.clipboardData=t.clipboardData,a.dispatchEvent(r)}})),ge(e.lineSpace,"selectstart",(function(t){$n(e,t)||ke(t)})),ge(a,"compositionstart",(function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}})),ge(a,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},ol.prototype.createField=function(e){this.wrapper=Ws(),this.textarea=this.wrapper.firstChild},ol.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ol.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,i=$i(e);if(e.options.moveInputWithCursor){var a=Ai(e,n.sel.primary().head,"div"),r=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,a.top+o.top-r.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,a.left+o.left-r.left))}return i},ol.prototype.showSelection=function(e){var t=this.cm,n=t.display;P(n.cursorDiv,e.cursors),P(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ol.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&B(this.textarea),l&&u>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",l&&u>=9&&(this.hasSelection=null))}},ol.prototype.getField=function(){return this.textarea},ol.prototype.supportsTouch=function(){return!1},ol.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||E()!=this.textarea))try{this.textarea.focus()}catch(e){}},ol.prototype.blur=function(){this.textarea.blur()},ol.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ol.prototype.receivedFocus=function(){this.slowPoll()},ol.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},ol.prototype.fastPoll=function(){var e=!1,t=this;function n(){var i=t.poll();i||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},ol.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||je(n)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var a=n.value;if(a==i&&!t.somethingSelected())return!1;if(l&&u>=9&&this.hasSelection===a||A&&/[\uf700-\uf7ff]/.test(a))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=a.charCodeAt(0);if(8203!=r||i||(i="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}var o=0,s=Math.min(i.length,a.length);while(o<s&&i.charCodeAt(o)==a.charCodeAt(o))++o;return Oa(t,(function(){Qs(t,a.slice(o),i.length-o,null,e.composing?"*compose":null),a.length>1e3||a.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=a,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ol.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ol.prototype.onKeyPress=function(){l&&u>=9&&(this.hasSelection=null),this.fastPoll()},ol.prototype.onContextMenu=function(e){var t=this,n=t.cm,i=n.display,a=t.textarea;t.contextMenuPending&&t.contextMenuPending();var r=ji(n,e),o=i.scroller.scrollTop;if(r&&!f){var s=n.options.resetSelectionOnContextMenu;s&&-1==n.doc.sel.contains(r)&&Ma(n,qr)(n.doc,lr(r),$);var d,h=a.style.cssText,p=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-m.top-5)+"px; left: "+(e.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(l?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",c&&(d=window.scrollY),i.input.focus(),c&&window.scrollTo(null,d),i.input.reset(),n.somethingSelected()||(a.value=t.prevInput=" "),t.contextMenuPending=y,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),l&&u>=9&&v(),S){Ne(e);var g=function e(){ye(window,"mouseup",e),setTimeout(y,20)};ge(window,"mouseup",g)}else setTimeout(y,50)}function v(){if(null!=a.selectionStart){var e=n.somethingSelected(),r="​"+(e?a.value:"");a.value="⇚",a.value=r,t.prevInput=e?"":"​",a.selectionStart=1,a.selectionEnd=r.length,i.selForContextMenu=n.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,a.style.cssText=h,l&&u<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=o),null!=a.selectionStart)){(!l||l&&u<9)&&v();var e=0,r=function r(){i.selForContextMenu==n.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==t.prevInput?Ma(n,Kr)(n):e++<10?i.detectingSelectAll=setTimeout(r,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(r,200)}}},ol.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},ol.prototype.setUneditable=function(){},ol.prototype.needsContentAttribute=!1,Rs(_s),Ks(_s);var ul="iter insert remove copy getEditor constructor".split(" ");for(var cl in ko.prototype)ko.prototype.hasOwnProperty(cl)&&q(ul,cl)<0&&(_s.prototype[cl]=function(e){return function(){return e.apply(this.doc,arguments)}}(ko.prototype[cl]));return Ce(ko),_s.inputStyles={textarea:ol,contenteditable:Zs},_s.defineMode=function(e){_s.defaults.mode||"null"==e||(_s.defaults.mode=e),qe.apply(this,arguments)},_s.defineMIME=ze,_s.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),_s.defineMIME("text/plain","null"),_s.defineExtension=function(e,t){_s.prototype[e]=t},_s.defineDocExtension=function(e,t){ko.prototype[e]=t},_s.fromTextArea=sl,ll(_s),_s.version="5.57.0",_s}))},cf94:function(e,t,n){"use strict";n("c461")},d097:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vqb-rule card"},[n("div",{staticClass:"form-inline"},[n("label",{staticClass:"mr-5"},[e._v(e._s(e.rule.label))]),"undefined"!==typeof e.rule.operands?n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.operand,expression:"query.operand"}],staticClass:"form-control mr-2",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"operand",t.target.multiple?n:n[0])}}},e._l(e.rule.operands,(function(t){return n("option",{key:t},[e._v(" "+e._s(t)+" ")])})),0):e._e(),"undefined"!==typeof e.rule.operators&&e.rule.operators.length>1?n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.operator,expression:"query.operator"}],staticClass:"form-control mr-2",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"operator",t.target.multiple?n:n[0])}}},e._l(e.rule.operators,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0):e._e(),"text"===e.rule.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.labels.textInputPlaceholder},domProps:{value:e.query.value},on:{input:function(t){t.target.composing||e.$set(e.query,"value",t.target.value)}}}):e._e(),"number"===e.rule.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.query.value},on:{input:function(t){t.target.composing||e.$set(e.query,"value",t.target.value)}}}):e._e(),"date"===e.rule.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.query.value},on:{input:function(t){t.target.composing||e.$set(e.query,"value",t.target.value)}}}):e._e(),e.isCustomComponent?n("div",{staticClass:"vqb-custom-component-wrap"},[n(e.rule.component,{tag:"component",attrs:{value:e.query.value},on:{input:e.updateQuery}})],1):e._e(),"checkbox"===e.rule.inputType?e._l(e.rule.choices,(function(t){return n("div",{key:t.value,staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-check-input",attrs:{id:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+t.value,type:"checkbox"},domProps:{value:t.value,checked:Array.isArray(e.query.value)?e._i(e.query.value,t.value)>-1:e.query.value},on:{change:function(n){var i=e.query.value,a=n.target,r=!!a.checked;if(Array.isArray(i)){var o=t.value,s=e._i(i,o);a.checked?s<0&&e.$set(e.query,"value",i.concat([o])):s>-1&&e.$set(e.query,"value",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.query,"value",r)}}}),n("label",{staticClass:"form-check-label",attrs:{for:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+t.value}},[e._v(" "+e._s(t.label)+" ")])])})):e._e(),"radio"===e.rule.inputType?e._l(e.rule.choices,(function(t){return n("div",{key:t.value,staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-check-input",attrs:{id:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+t.value,name:"depth"+e.depth+"-"+e.rule.id+"-"+e.index,type:"radio"},domProps:{value:t.value,checked:e._q(e.query.value,t.value)},on:{change:function(n){return e.$set(e.query,"value",t.value)}}}),n("label",{staticClass:"form-check-label",attrs:{for:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+t.value}},[e._v(" "+e._s(t.label)+" ")])])})):e._e(),"select"!==e.rule.inputType||e.hasOptionGroups?e._e():n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{multiple:"multi-select"===e.rule.type},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"value",t.target.multiple?n:n[0])}}},e._l(e.selectOptions,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),0),"select"===e.rule.inputType&&e.hasOptionGroups?n("select",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"form-control",attrs:{multiple:"multi-select"===e.rule.type},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query,"value",t.target.multiple?n:n[0])}}},e._l(e.selectOptions,(function(t,i){return n("optgroup",{key:i,attrs:{label:i}},e._l(t,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),0)})),0):e._e(),"inputselect"===e.rule.inputType?n("el-autocomplete",{ref:"input",staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}},[n("i",{staticClass:"el-icon-arrow-down el-input__icon",attrs:{slot:"suffix"},on:{click:e.handleIconClick},slot:"suffix"})]):e._e(),n("button",{staticClass:"close ml-auto",attrs:{type:"button"},domProps:{innerHTML:e._s(e.labels.removeRule)},on:{click:e.remove}})],2)])},a=[]},d0f7:function(e,t,n){"use strict";n.r(t);var i=n("d34d"),a=n("5586");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("dd14");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"1806f087",null);t["default"]=s.exports},d13b:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"drag"}},[n("div",{staticClass:"content"},[n("el-link",{staticClass:"label-tip",attrs:{type:"primary"},on:{click:e.selectData}},[e._v(e._s(e.memoValue))]),n("div",{staticClass:"btn-div"},[n("span",{staticClass:"select-btn iconfont iconoper-drag"}),n("span",{staticClass:"iconYY iconfont iconoper-start",on:{click:e.runImmediately}}),n("span",{staticClass:"iconYY iconfont iconoper-timing",on:{click:e.timingExecution}}),n("span",{staticClass:"iconYY1 iconfont iconmenu-2",on:{click:e.selectData}})])],1),e.dialogFormVisible?n("el-dialog",{attrs:{title:"当前已选模型",visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-table",{ref:"modelListTable",attrs:{data:e.currentData,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"模型名称",width:"100px",align:"center",prop:"modelName"}}),n("el-table-column",{attrs:{label:"平均运行时间",width:"150px",align:"center",prop:"runTime"}}),n("el-table-column",{attrs:{label:"审计事项",prop:"auditItemName"}}),n("el-table-column",{attrs:{label:"风险等级",prop:"riskLevelUuid",formatter:e.riskLevelFormatter}}),n("el-table-column",{attrs:{label:"模型类型",prop:"modelType",formatter:e.modelTypeFormatter}}),n("el-table-column",{attrs:{label:"创建时间",width:"180px",prop:"createTime",formatter:e.dateFormatter}})],1)],1):e._e(),n("el-dialog",{attrs:{title:"模型运行设置-立即",visible:e.runimmediatelyIsSee,width:"60%","append-to-body":!0},on:{"update:visible":function(t){e.runimmediatelyIsSee=t}}},[e.runimmediatelyIsSee?n("runimmediatelycon",{ref:"modelsetting",attrs:{"data-user-id":e.dataUserId,"scene-code":e.sceneCode,timing:!1,models:this.currentData}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.runimmediatelyIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelRunSetting}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"模型运行设置-定时",visible:e.timingExecutionIsSee,width:"60%","append-to-body":!0},on:{"update:visible":function(t){e.timingExecutionIsSee=t}}},[e.timingExecutionIsSee?n("runimmediatelycon",{ref:"modelsetting",attrs:{"data-user-id":e.dataUserId,"scene-code1":e.sceneCode,timing:!0,models:this.currentData}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.timingExecutionIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelRunSetting}},[e._v("确 定")])],1)],1),n("div",{staticClass:"none-box"},[n("ul",{staticClass:"none-box-ul"},e._l(e.currentData,(function(t,i){return n("li",[n("p",{staticClass:"none-box-txt"},[e._v(e._s(t.modelName))])])})),0)])],1)},a=[]},d1b6:function(e,t,n){"use strict";n.r(t);var i=n("c799"),a=n("1b7b");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},d1e9:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("28a5"),n("ac6a"),n("20d6");var a=i(n("e0d1")),r=i(n("333d")),o=n("d42c"),s=n("0c96"),l=i(n("c164")),u={components:{Pagination:r.default,QueryField:l.default,dataTree:a.default},data:function(){return{tableKey:"tableRelationUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"表名称",name:"tbName",type:"text"}],pageQuery:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},temp:{tableMetaUuid:"",tbName:"",colName:"",colMetaUuid:"",tableRelationUuid:"",relationTableName:"",selectType:1,sqlGenJoinType:"",relColMetaUuid:""},sceneCode:"auditor",dataUserId:this.$store.getters.personcode,selections:[],dataTableTree:!1,dialogFormVisible:!1,dialogStatus:"",tableObj:{},tableRelObj:{},textMap:{update:"修改业务属性",create:"新增业务属性"},sqlJoinCols:[{sqlGenJoinName:"left join",sqlGenJoinType:1},{sqlGenJoinName:"right join",sqlGenJoinType:2},{sqlGenJoinName:"full join",sqlGenJoinType:3},{sqlGenJoinName:"inner join",sqlGenJoinType:4}],dialogPvVisible:!1,rules:{colMetaUuid:[{required:!0,message:"请选择表字段",trigger:"change"}],sqlGenJoinType:[{required:!0,message:"请选择关联关系",trigger:"change"}],relColMetaUuid:[{required:!0,message:"请选择从表字段",trigger:"change"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,s.listByPage)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},showDataTree:function(e){this.selectType=e,this.dataTableTree=!0},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},resetTemp:function(){this.temp={tableMetaUuid:"",tbName:"",colName:"",colMetaUuid:"",relColMetaUuid:"",tableRelationUuid:"",relationTableName:"",selectType:1,sqlGenJoinType:""}},add:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(0,s.save)(e.temp).then((function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},update:function(){var e=this;this.temp=Object.assign({},this.selections[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var n=Object.assign({},e.temp);(0,s.update)(n).then((function(){var t=e.list.findIndex((function(t){return t.tableRelationUuid===e.temp.tableRelationUuid}));e.list.splice(t,1,e.temp),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3,position:"bottom-right"})}))}}))},deleteRel:function(){var e=this,t=[];this.selections.forEach((function(e,n){t.push(e.tableRelationUuid)})),this.$confirm("确定删除该关联关系?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){(0,s.del)(t.join(",")).then((function(){e.getList(),e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})}))}))},formatSqlGenJoinType:function(e){var t="";switch(e.sqlGenJoinType){case 1:t="left join";break;case 2:t="right join";break;case 3:t="full join";break;case 4:t="inner join";break}return t},getDataTable:function(){var e=this.$refs.dataTableTree.getTree(),t=e.getCurrentNode();if("col"===t.type){if(this.loadTable(t.id),1===this.selectType){this.temp.colName=t.label;var n=t.id;this.temp.colMetaUuid=n;var i=n.split(">");this.temp.tbName=i[1],this.temp.tableMetaUuid=i[0]+">"+i[1]}else{this.temp.relationCol=t.label,this.temp.relColMetaUuid=t.id;var a=t.id;this.temp.colMetaUuid=a;var r=a.split(">");this.temp.relationTableName=r[1],this.temp.relTableMetaUuid=r[0]+">"+r[1]}this.dataTableTree=!1}else this.$message({type:"info",message:"请选择数据表列!"})},loadTable:function(e){var t=this;(0,o.getTableByCol)(e).then((function(e){null!=e.data?1===t.selectType?t.tableObj=e.data:t.tableRelObj=e.data:t.$message({type:"info",message:"加载数据表列失败!"})}))},handleSelectionChange:function(e){this.selections=e},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"}}};t.default=u},d24a:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-container",{staticClass:"app-container"},[n("el-aside",{staticClass:"tree-side"},[n("el-input",{staticClass:"tree-search",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("el-tree",{ref:"tree",attrs:{data:e.data,props:e.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"人员名称",width:"100px",align:"center",prop:"cnname"}}),n("el-table-column",{attrs:{label:"组织名称",width:"150px",align:"center",prop:"org.cnname"}})],1)],1),n("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30,50],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[]},d275:function(e,t,n){"use strict";n.r(t);var i=n("6844"),a=n("93b3");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},d2d0:function(e,t,n){"use strict";n.r(t);var i=n("5264"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},d306:function(e,t,n){e.exports=n.p+"static/img/exclude.67ab0568.jpg"},d34d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"right-footer h100"},[n("div",{staticClass:"h100 flex a-center j-start flex-row"},[e._l(e.tagList,(function(t,i){return n("div",{key:i,ref:"tagDom",refInFor:!0,staticClass:"tag flex a-center j-center flex-row animated slideInLeft",class:[t.isActive&&"tag-active"],on:{click:function(n){return e.select(t)},contextmenu:function(n){return n.preventDefault(),e.contextmenu(t,n,i)}}},[n("span",{staticClass:"name"},[e._v(e._s(t.name))]),n("span",{staticClass:"close",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.close(t)}}},[e._v("x")])])})),e.isShowPopover?n("div",{staticClass:"popover",style:e.computedStyle},e._l(e.popoverList,(function(t,i){return n("div",{key:i,staticClass:"li",on:{click:function(n){return e.sure(t)}}},[e._v(e._s(t.name))])})),0):e._e()],2)])},a=[]},d34e:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("7ef6")),r=(n("c1df"),{components:{childtabconcopy:a.default},data:function(){return{index:0}},methods:{loadTableData:function(e){this.$refs.child[this.index].initData(null,e),this.index++},reSetTable:function(){for(var e=0;e<this.preValue.length;e++)this.$refs.child[e].reSet();this.index=0}},props:["maintable","helptables","modelUuid","useType","preValue"]});t.default=r},d3a0:function(e,t,n){},d403:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":"",height:"calc(100vh - 300px)","max-height":"calc(100vh - 300px)"},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"操作用户",width:"100px",align:"center",prop:"opUserName"}}),n("el-table-column",{attrs:{label:"操作IP",width:"160px",align:"center",prop:"opIp"}}),n("el-table-column",{attrs:{label:"异常类",prop:"opClass"}}),n("el-table-column",{attrs:{label:"异常方法",width:"200px",prop:"opMethod"}}),n("el-table-column",{attrs:{label:"异常时间",width:"300px",prop:"logTime",align:"center"}}),n("el-table-column",{attrs:{label:"异常信息",width:"300px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("a",{staticClass:"handreada",attrs:{type:"text",size:"small"},on:{click:function(n){return e.handReadError(t.row)}}},[e._v(" 查看异常信息 ")])]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{"append-to-body":!0,title:"异常信息",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticStyle:{"max-height":"60vh",overflow:"auto"}},[n("p",{staticClass:"error-log"},[e._v(e._s(e.logerrortxt))])])])],1)},a=[]},d413:function(e,t,n){"use strict";n.r(t);var i=n("57b4"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},d42c:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listUnCached=s,t.getDataTreeNode=l,t.saveTable=u,t.saveTableInfo=c,t.updateTable=d,t.delTable=h,t.getResELTree=f,t.getTableCol=p,t.getTableByCol=m,t.selectRelTable=g,t.saveTableCols=v,t.getTableInfo=y,t.getCreateSql=b,t.getBasicInfo=A,t.getColsInfo=w,t.selectIndexInfo=x,t.getSqlType=C,t.getResByRole=S,t.getRoleCols=T,t.saveRoleTable=N,t.getAccessType=I,n("28a5");var a=i(n("b775")),r="/data",o="tableMeta";function s(e,t,n){return(0,a.default)({baseURL:r,url:"/".concat(o,"/listUnCached"),method:"get",params:{level:e,schemaName:t,tableName:n}})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getDataTreeNode/").concat(e),method:"get"})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/saveTableInfo"),method:"post",data:e})}function d(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function h(e){var t=e.split(">");return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(t[0],"/").concat(t[1]),method:"delete"})}function f(e){return e||(e={dataUserId:"",sceneCode:""}),e.type||(e.type="common"),(0,a.default)({baseURL:r,url:"/".concat(o,"/getResELTree"),method:"get",params:e})}function p(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getCols"),method:"post",params:{tableMetaUuid:e,isEnclose:""}})}function m(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getTableByCol"),method:"post",params:{colMetaUuid:e}})}function g(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/selectRelTable"),method:"post",params:{tableMetaUuid:e}})}function v(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/saveTableCols"),method:"post",params:{sql:e}})}function y(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getTableInfo"),method:"post",params:{tableMetaUuid:e}})}function b(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getCreateSql"),method:"post",params:{tableMetaUuid:e}})}function A(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getBasicInfo"),method:"post",params:{tableMetaUuid:e}})}function w(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getColsInfo"),method:"post",params:{tableMetaUuid:e}})}function x(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/selectIndexInfo"),method:"post",params:{tableMetaUuid:e}})}function C(){return(0,a.default)({baseURL:r,url:"/".concat(o,"/getSqlType"),method:"post"})}var k="roleTable";function S(e){return(0,a.default)({baseURL:r,url:"/".concat(k,"/getResByRole/").concat(e),method:"get"})}function T(e,t){return(0,a.default)({baseURL:r,url:"/".concat(k,"/getRoleCols?roleUuid=").concat(e,"&tableMetaUuid=").concat(t),method:"get"})}function N(e,t,n,i){return(0,a.default)({baseURL:r,url:"/".concat(k,"/save"),method:"post",data:{roleUuid:e,rfolders:t,rtables:n,rcols:i}})}function I(){return(0,a.default)({baseURL:r,url:"/".concat(k,"/getAccessType"),method:"get"})}},d50a:function(e,t,n){"use strict";n.r(t);var i=n("17ee"),a=n("0f46");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("22e2");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"995b80fc",null);t["default"]=s.exports},d5c7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"margin-bottom":"15px"}},[e._v(" "+e._s(e.$t("permission.roles"))+": "+e._s(e.roles)+" ")]),e._v(" "+e._s(e.$t("permission.switchRoles"))+": "),n("el-radio-group",{model:{value:e.switchRoles,callback:function(t){e.switchRoles=t},expression:"switchRoles"}},[n("el-radio-button",{attrs:{label:"editor"}}),n("el-radio-button",{attrs:{label:"admin"}})],1)],1)},a=[]},d608:function(e,t,n){"use strict";n.r(t);var i=n("6a14"),a=n("238e");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("265e");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"6cb6ab92",null);t["default"]=s.exports},d648:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"20px 20px 0",height:"600px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("label",[e._v("筛选字段 ")]),n("el-select",{attrs:{filterable:""},on:{change:e.setSelectColms},model:{value:e.select_colms,callback:function(t){e.select_colms=t},expression:"select_colms"}},e._l(e.selectColms,(function(t){return n("el-option",{key:t.newColumnName,attrs:{label:t.newColumnName,value:t.newColumnName}},[e._v(e._s(t.displayName))])})),1)],1),n("el-col",{attrs:{span:8}},[n("label",[e._v("条件 ")]),n("el-select",{on:{change:e.selectCzChange},model:{value:e.select_cz,callback:function(t){e.select_cz=t},expression:"select_cz"}},e._l(e.selectCzArr,(function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.name}},[e._v(e._s(t.name))])})),1)],1),e.showMoreVal?n("el-col",{attrs:{span:8}},[n("span",{staticStyle:{color:"red","line-height":"36px"}},[e._v("多个值请用英文逗号（“,”）隔开")])]):e._e()],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("label",[e._v("筛选对象 ")]),n("el-select",{attrs:{disabled:e.compareObjDisabled},on:{change:e.compareObjChange},model:{value:e.compareObj,callback:function(t){e.compareObj=t},expression:"compareObj"}},e._l(e.compareArr,(function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.name}},[e._v(e._s(t.name))])})),1)],1),n("el-col",{attrs:{span:8}},[e.showConnValue?n("el-input",{staticStyle:{width:"83%"},model:{value:e.conn_value,callback:function(t){e.conn_value=t},expression:"conn_value"}}):e._e(),e.showConnValue?e._e():n("el-select",{staticStyle:{width:"83%"},attrs:{filterable:""},on:{change:e.setCompareColumnSel},model:{value:e.compareColumnSel,callback:function(t){e.compareColumnSel=t},expression:"compareColumnSel"}},e._l(e.compareColumnArr,(function(t){return n("el-option",{key:t.newColumnName,attrs:{label:t.newColumnName,value:t.newColumnName}},[e._v(e._s(t.displayName))])})),1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-checkbox",{model:{value:e.blankSpace,callback:function(t){e.blankSpace=t},expression:"blankSpace"}},[e._v(" 是否去除数据中的空格")])],1),n("el-col",{attrs:{span:10}},[n("el-checkbox",{attrs:{disabled:e.quotesDisabled},model:{value:e.quotes,callback:function(t){e.quotes=t},expression:"quotes"}},[e._v(" 是否带引号（"),n("span",{staticStyle:{color:"red"}},[e._v("筛选值在比较数值大小时不能带引号")]),e._v("） ")])],1),n("el-col",{attrs:{span:6}},[n("span",[e._v("[ ")]),n("el-radio",{attrs:{label:"and"},model:{value:e.connType,callback:function(t){e.connType=t},expression:"connType"}},[e._v("与")]),n("el-radio",{attrs:{label:"or"},model:{value:e.connType,callback:function(t){e.connType=t},expression:"connType"}},[e._v("或")]),n("span",[e._v(" ]")])],1)],1),n("el-row",[n("div",{staticStyle:{height:"400px"}},[n("el-col",{attrs:{span:16}},[n("div",{staticStyle:{border:"1px solid gray",height:"400px",overflow:"auto"}},[n("ul",{ref:"filterZtree",staticClass:"ztree"})])]),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"新增筛选条件",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"80px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("add")}}},[e._v("新增条件")])],1)],1),n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"对选中的单个非合并条件进行修改",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("edit")}}},[e._v("修改条件")])],1)],1),n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"对选中的条件进行删除，支持批量删除（按住Ctrl键多选）",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("del")}}},[e._v("删除条件")])],1)],1),n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"对选中的多个非合并条件用括号进行合并（按住Ctrl键多选）",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("addbrack")}}},[e._v("合并条件")])],1)],1),n("div",{staticClass:"button-cz"},[n("el-tooltip",{attrs:{content:"对选中的单个合并条件进行拆分",placement:"right"}},[n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.filter_ztree("delbrack")}}},[e._v("拆分条件")])],1)],1)])],1)])],1)},a=[]},d676:function(e,t,n){},d699:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("7f2f")),r=i(n("17af")),o={components:{ModelFolderTree:a.default,ModelListTable:r.default},computed:{datausername:function(){return this.$store.getters.datausername},thisDataUserId:function(){return this.dataUserId?this.dataUserId:this.$store.getters.datauserid},thisSceneCode:function(){return this.sceneCode?this.sceneCode:this.$store.getters.scenecode},thisFolderName:function(){return this.folderName?this.folderName:"个人模型"}},props:["power","dataUserId","sceneCode","isAuditWarring","folderName"],data:function(){return{dataSpaceName:this.$store.getters.datausername,loading:!1,loadText:""}},methods:{refreshModelList:function(e){var t={modelFolderUuid:e.id};this.$refs.modelListTable.getList(t),this.$refs.modelListTable.setSelectTreeNode(e)},refreshTree:function(){this.$refs.modelFolderTree.getModelFolder()},getModelListCheckData:function(){return this.$refs.modelListTable.getModelListCheckData()},loadingSet:function(e,t){this.loading=e,this.loadText=t}}};t.default=o},d711:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f");var i={data:function(){return{currentDate:"2020/08/31",isSelectCalender:!1,isShowDropdown:!1,selectedName:"王",selectedOrgan:"北京分行",isShowOrganDropdown:!1,isShowStatusDropdown:!1,selectedStatus:"执行中",statusList:[{name:"执行中"},{name:"已结束"}],organList:[{name:"北京分行"},{name:"深圳分行"}],nameList:[{name:"王经理"},{name:"付经理"},{name:"夏经理"},{name:"夏经理"}]}},methods:{searchDetail:function(){console.log(120)},selectDate:function(e){this.currentDate=e,this.isSelectCalender=!1},selectName:function(e){this.isShowDropdown=!1,this.selectedName=e.name},selectOrgan:function(e){this.isShowOrganDropdown=!1,this.selectedOrgan=e.name},selectStatus:function(e){this.isShowStatusDropdown=!1,this.selectedStatus=e.name}}};t.default=i},d734:function(e,t,n){"use strict";n.r(t);var i=n("2450"),a=n("3cca");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},d75c:function(t,n,i){"use strict";var a=i("dbce"),r=i("4ea4");i("8e6e"),Object.defineProperty(n,"__esModule",{value:!0}),n.initIcon=b,n.initParamTree=A,n.paramTreeSearch=w,n.getListByAmmParam=T,n.updateEnabled=N,n.updateDisenable=I,n.deleteParams=D,n.initParamHtml=L,n.initcrossrangeParamHtml=O,n.initParamHtml_Common=M,n.replaceNodeParam=Q,n.getParamSettingArr=H,n.findParamsAndModelRelParams=G,n.getParentParamByParamArr=Z,n.createParamTableHtml=ee,n.initSetting=te,n.getParamsSetting=ie,n.getSettingParamArr=ae,n.sendSettingVue=void 0,i("96cf"),i("c5f6"),i("20d6");var o=r(i("9523")),s=r(i("7037")),l=r(i("c973"));i("a481"),i("55dd"),i("ac6a"),i("456d"),i("7514"),i("7f7f");var u=r(i("b775")),c=a(i("0217"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=null,p=function(e){f=e};n.sendSettingVue=p;var m,g="/analysis",v={},y={};function b(){$("#paramSearchImg").attr("src","../images/ico/search_blue.png")}function A(){var e={data:{key:{checked:"isChecked",name:"name",title:"displayName"},simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}},check:{enable:!1,chkStyle:"radio",radioType:"all"},view:{selectedMulti:!1},callback:{onRightClick:function(e,t,n){if(!n)return!1;m.selectNode(n),"publicParam"!==n.type&&("paramNode"===n.type?C("node","paramTree","paramMenu",e.clientX,e.clientY):1==n.level?C("node","paramTree","paramFolderMenu2",e.clientX,e.clientY):C("node","paramTree","paramFolderMenu1",e.clientX,e.clientY))}},edit:{enable:!0,showRenameBtn:!1,showRemoveBtn:!1,drag:{prev:!1,next:!1,inner:!1}}};(0,u.default)({baseURL:g,url:"/ParamFolderController/findParamFoldeTree",method:"get"}).then((function(t){m=$.fn.zTree.init($("#paramTree"),e,t.data)}))}function w(){var e=$("#paramSearch").val(),t=m.setting.view;m.getNodesByParamFuzzy("name",e);k(!1,m),""===e&&(m.expandAll(!1),m.expandNode(m.getNodeByParam("pid",null,null),!0)),t["fontCss"]=S,treeObj.updateNode()}function x(e){e.target.id===e.data.menuId||$(e.target).parents("#"+e.data.menuId).length>0||$("#"+e.data.menuId).css({visibility:"hidden"})}function C(e,t,n,i,a){var r=$("#"+t).height(),o=$("#"+t).offset().top,s=r-(event.clientY-o),l=$("#"+t).width()-event.clientX;s<$("#"+n).height()&&(a-=$("#"+n).height()),l<$("#"+n).width()&&(i=$("#"+t).width()-$("#"+n).width()),$("#"+n+" ul").show(),$("#"+n).css({top:a+"px",left:i+"px",visibility:"visible"}),$("body").bind("mousedown",{menuId:n},x)}function k(e,t){var n=t.transformToArray(t.getNodes());if(e)for(var i=0;i<n.length;i++)null!=n[i].pid&&t.hideNode(n[i]);else for(i=0;i<n.length;i++)!0===n[i].isHidden&&(n[i].isHidden=!1,t.updateNode(n[i]))}function S(e,t){return t.highlight?{color:"#F00","font-weight":"bold","font-size":"14px"}:{color:"#000","font-weight":"normal"}}function T(e){return(0,u.default)({baseURL:g,url:"/paramController/listByAmmParam",method:"post",data:e})}function N(e){return(0,u.default)({baseURL:g,url:"/paramController/editenable/"+e,method:"post"})}function I(e){return(0,u.default)({baseURL:g,url:"/paramController/editDisable/"+e,method:"post"})}function D(e){return(0,u.default)({baseURL:g,url:"/paramController/deleteParam/"+e,method:"delete"})}var P=[];function L(t,n,i,a,r){var o=this;void 0==r&&(r="");var s={sql:t,paramsArr:n};v[a]=s,t;try{G().then((function(e){if(e.isError)o.$message({type:"error",message:e.data.message});else{var t=e.data.paramList;P=n;var i="",s=[],l=!1,u="";e:for(var c=0;c<n.length;c++){for(var d=0;d<t.length;d++){var h="（参数说明：无）";if("undefined"!==typeof t[d].description&&(h="（参数说明："+t[d].description+"）"),n[c].moduleParamId===t[d].ammParamUuid&&-1==$.inArray(n[c].moduleParamId,s)){t[d].defaultVal=JSON.stringify(n[c]),i+="<div class='row'><div class='col-sm-12'><div class='form-group'><label class='col-sm-2' style='text-align: right;padding: 10px 7px;'>"+n[c].name+"&nbsp;&nbsp;</label><div class='col-sm-4'>";var f=M(t[d],void 0,void 0,r);f.isError?(l=f.isError,u=f.message,i+="</div><label class='col-sm-4'></label></div></div></div>"):i+=f.htmlContent+f.spanHtml+"</div><label class='col-sm-4' style='padding: 10px 7px;'>"+h+"</label></div></div></div>",s.push(n[c].moduleParamId);break}}if(l)break e}if(l)o.$message({type:"error",message:u});else{if($("#"+a).html(i),0==n.length){i="<div align='center' style='font-weight:lighter ;font-size:15px' >该模型没有参数</div>";$("#"+a).html(i)}E(a,r)}}}))}catch(e){console.info(e)}}function O(t,n,i,a){var r=this,o={sql:t,paramsArr:n};y[a]=o,t,$("#accordion").find("a").html(i);try{G().then((function(e){if(e.isError)r.$message({type:"error",message:e.data.message});else{var t=e.data.paramList;P=n;var i="",o=[],s=!1,l="";e:for(var u=0;u<n.length;u++){for(var c=0;c<t.length;c++){if("undefined"!==typeof t[c].description&&"（参数说明："+t[c].description+"）",n[u].moduleParamId===t[c].ammParamUuid&&-1==$.inArray(n[u].moduleParamId,o)){t[c].defaultVal=JSON.stringify(n[u]),i+="<div class='row' style='white-space: nowrap;'><div class='col-sm-12'><div class='form-group'><label class='col-sm-2' style='text-align: right;padding: 10px 7px;width:100px'>"+n[u].name+"&nbsp;&nbsp;</label><div class='col-sm-4'>";var d=initCrossrangeParamHtml_Common(t[c]);d.isError?(s=d.isError,l=d.message,i+="</div><label class='col-sm-4'></label></div></div></div>"):i+=d.htmlContent+d.spanHtml+"</div></div></div></div>",o.push(n[u].moduleParamId);break}}if(s)break e}s?r.$message({type:"error",message:l}):($("#"+a).html(i),E(a))}}))}catch(e){console.info(e)}}function M(e,t,n,i){void 0==i&&(i="");var a={htmlContent:"",isError:!1,message:""},r="width: calc(100% - 40px);",o=0===e.paramChoice.allowedNull?"不可为空":"可为空";switch(a.spanHtml=0===e.paramChoice.allowedNull?'<div style="color: red;display: inline-block;font-weight: bold;font-size: 20px;">*&nbsp&nbsp</div>':"",e.inputType){case"lineinp":var s=!1,l=[],u=[],c=[],d=e.paramChoice.optionsSql;d?""!==d&&(s=!0,"undefined"!==typeof e.defaultVal&&Y(e.paramChoice.optionsSql).then((function(e){if(e.data.isError)a.isError=!0,a.message="获取参数【"+n.paramName+"】的值的失败，原因："+e.data.message;else if(e.data.paramList&&e.data.paramList.length>0)for(var t=0;t<e.data.paramList.length;t++){var n={name:e.data.paramList[t].paramName,value:e.data.paramList[t].paramValue};l.push(n)}})).catch((function(){a.isError=!0,a.message="获取参数【"+e.paramName+"】的值的请求失败"}))):$.each(e.paramChoice.paramOptionsList,(function(e,t){if(t.optionsVal&&t.optionsName){var n={name:t.optionsName,value:t.optionsVal};l.push(n)}}));var h="selectParam"+("undefined"!==typeof t?t:e.ammParamUuid)+i;a.htmlContent+="<div id='"+h+"' title='"+o+"'  data-id='"+e.ammParamUuid+"' data-name='"+e.paramName+"' data-choiceType='"+e.paramChoice.choiceType+"'"+(s?" data-sql='"+d+"' data-paramArr='"+JSON.stringify(u)+"' data-associatedParamIdArr='"+JSON.stringify(c)+"' ":"")+("undefined"!==typeof e.defaultVal?" data-defaultVal='"+e.defaultVal+"' ":"")+(l.length>0?" data='"+JSON.stringify(l)+"' ":"")+("undefined"!==typeof e.paramChoice.allowedNull?" data-allowedNull='"+e.paramChoice.allowedNull+"' ":"")+" class='xm-select-demo selectParam paramTr' style='"+r+"display: inline-block;'></div>","undefined"!==typeof t&&(a.selectNum=t+1);break;case"textinp":"undefined"!==typeof e.dataLength&&(o+=",参数值的长度为"+e.dataLength),a.htmlContent+="<input type='text' title='"+o+"' class='textParam paramOption form-control paramTr' data-id='"+e.ammParamUuid+"' data-name='"+e.paramName+"'"+("undefined"!==typeof e.paramChoice.allowedNull?" data-allowedNull='"+e.paramChoice.allowedNull+"' ":"")+("undefined"!==typeof e.defaultVal?" data-defaultVal='"+e.defaultVal+"' ":"")+("undefined"!==typeof e.dataLength?"data-dataLength='"+e.dataLength+"'":"")+" style='"+r+"display: inline-block;'/>";break;case"timeinp":"date"===e.dataType&&(a.htmlContent+="<div class='input-group date form_date' title='"+o+"' data-date-format='yyyy-mm-dd' data-link-format='yyyy-mm-dd' style='"+r+"display: inline-flex;'><input class='form-control paramOption dataParam paramTr' data-id='"+e.ammParamUuid+"' data-name='"+e.paramName+"' "+("undefined"!==typeof e.paramChoice.allowedNull?" data-allowedNull='"+e.paramChoice.allowedNull+"' ":"")+("undefined"!==typeof e.defaultVal?" data-defaultVal='"+e.defaultVal+"'":"")+" readonly type='text'/><span class='input-group-addon' style='width: auto;'><span class='glyphicon glyphicon-remove'></span></span></div>");break;case"treeinp":l=[],u=[],c=[],d=e.paramChoice.optionsSql;""!==d&&"undefined"!==typeof e.defaultVal&&W(d).then((function(t){t.data.isError?(a.isError=!0,a.message="获取参数【"+e.paramName+"】的值的失败，原因："+t.data.message):l=t.data.result&&t.data.result.length>0?_(t.data.result):[]})).catch((function(t){a.isError=!0,a.message="获取参数【"+e.paramName+"】的值的请求失败"}));h="selectTreeParam"+("undefined"!==typeof n?n:e.ammParamUuid)+i;a.htmlContent+="<div id='"+h+"' title='"+o+"'  data-id='"+e.ammParamUuid+"' data-name='"+e.paramName+"' data-choiceType='"+e.paramChoice.choiceType+"' "+("undefined"!==typeof e.paramChoice.allowedNull?" data-allowedNull='"+e.paramChoice.allowedNull+"' ":"")+(""!==d?" data-sql='"+d+"' data-paramArr='"+JSON.stringify(u)+"' data-associatedParamIdArr='"+JSON.stringify(c)+"' ":"")+("undefined"!==typeof e.defaultVal?" data-defaultVal='"+e.defaultVal+"' data='"+JSON.stringify(l)+"' ":"")+" class='xm-select-demo selectTreeParam paramTr' style='"+r+"display: inline-block;'></div>","undefined"!==typeof n&&(a.selectTreeNum=n+1);break}return a}function E(e,t){void 0==t&&(t=""),$("#"+e).find(".textParam").length>0&&$("#"+e).find(".textParam").each((function(e,t){var n=$(this).attr("data-defaultVal");if("undefined"!==typeof n){JSON.parse(n),JSON.parse(n).paramValue;$(this).val(JSON.parse(n).paramValue)}})),$("#"+e).find(".form_date").length>0&&$("#"+e).find(".form_date").each((function(e,t){var n={format:"yyyy-mm-dd",language:"zh-CN",todayBtn:!0,autoclose:!0,todayHighlight:!0,startView:2,showMeridian:!0,minView:2},i=$(this).find(".dataParam").attr("data-defaultVal");"undefined"!==typeof i&&$(this).find(".dataParam").val(JSON.parse(i).paramValue),$(this).datetimepicker(n)})),$("#"+e).find(".selectParam").length>0&&$("#"+e).find(".selectParam").each((function(e,n){var i=$(this).attr("data-choiceType"),a=$(this).attr("data-id"),r=$(this).attr("data-name"),o="undefined"!==typeof $(this).attr("data-sql")?$(this).attr("data-sql"):"",s="undefined"!==typeof $(this).attr("data")?JSON.parse($(this).attr("data")):[],l=!1,u={el:"#selectParam"+a+t,filterable:!0,filterMethod:function(e,t,n,i){return e===t.value||!(!t.name||-1==t.name.indexOf(e))},data:s};if(""!==o){var c="undefined"!==typeof $(this).attr("data-associatedParamIdArr")?JSON.parse($(this).attr("data-associatedParamIdArr")):[],d="undefined"!==typeof $(this).attr("data-paramArr")?JSON.parse($(this).attr("data-paramArr")):[];u.show=function(){l=j("#selectParam",a,r,o,i,d,s,l,t)},u.hide=function(){if(l&&0===s.length){var e=xmSelect.get("#selectParam"+a+t,!0);s=e.options.data,l=!1}B(c)}}1==i&&(u.radio=!0,u.clickClose=!0);var h=$(this).attr("data-defaultVal");"undefined"!==typeof h&&(u.initValue=JSON.parse(h).paramValue),xmSelect.render(u)})),$("#"+e).find(".selectTreeParam").length>0&&$("#"+e).find(".selectTreeParam").each((function(e,n){var i=$(this).attr("data-choiceType"),a=$(this).attr("data-id"),r=$(this).attr("data-name"),o="undefined"!==typeof $(this).attr("data-sql")?$(this).attr("data-sql"):"",s="undefined"!==typeof $(this).attr("data")?JSON.parse($(this).attr("data")):[],l=!1,u={el:"#selectTreeParam"+a+t,filterable:!0,tree:{show:!0,showFolderIcon:!0,showLine:!0,indent:30,strict:!1},height:"auto",data:s};if(""!==o){var c="undefined"!==typeof $(this).attr("data-associatedParamIdArr")?JSON.parse($(this).attr("data-associatedParamIdArr")):[],d="undefined"!==typeof $(this).attr("data-paramArr")?JSON.parse($(this).attr("data-paramArr")):[];u.show=function(){l=j("#selectTreeParam",a,r,o,i,d,s,l,t)},u.hide=function(){if(l&&0===s.length){var e=xmSelect.get("#selectTreeParam"+a+t,!0);s=e.options.data,l=!1}B(c)}}var h=$(this).attr("data-defaultVal");"undefined"!==typeof h&&(u.initValue=JSON.parse(h).paramValue),1==i?(u.radio=!0,u.clickClose=!0):u.on=function(e){var t=e.arr,n=[],i=e.change.slice(0,1);if(n.push(i[0]),n=V(i[0],n),e.isAdd){for(var a=0;a<n.length;a++)for(var r=t.length-1;r>=0;r--)if(t[r].value===n[a].value&&t[r].pValue===n[a].pValue){t.splice(r,1);break}var o=F(s),l=q(i[0],[],o,t);n=n.concat(l),t.push.apply(t,n)}else{var u=R(i[0],[],t);for(a=0;a<u.length;a++)for(r=t.length-1;r>=0;r--)if(t[r].value===u[a].value&&t[r].pValue===u[a].pValue){t.splice(r,1);break}for(a=0;a<n.length;a++)for(r=t.length-1;r>=0;r--)if(t[r].value===n[a].value&&t[r].pValue===n[a].pValue){t.splice(r,1);break}}return t},xmSelect.render(u)}))}function R(e,t,n){if(n&&n.length>0){for(var i={},a=0;a<n.length;a++)if(e.pValue===n[a].value){i=n[a];break}Object.keys(i).length>0&&(t.push(i),t=R(i,t,n))}return t}function j(e,t,n,i,a,r,o,s,l){var u=this;void 0==l&&(l="");var c="";$(".xm-select-demo").each((function(){for(var e=$(this).attr("data-id"),t=0;t<r.length;t++)if(r[t].paramId===e){var n="";if($(this).hasClass("selectParam")&&(n="#selectParam"+e+l),$(this).hasClass("selectTreeParam")&&(n="#selectTreeParam"+e+l),""!==n){var i=xmSelect.get(n,!0),o=i.getValue();if(o&&o.length>0){var s=r[t].associatedParamCol,u="realValue"===r[t].paramValueType?"value":"name";if(1==a)c+=" and "+s+"='"+o[0][u]+"'";else{for(var d="",h=0;h<o.length;h++)d+="'"+o[h][u]+"',";""!==d&&(d=d.substring(0,d.length-1)),c+=" and "+s+" in ("+d+")"}}}break}}));var d=xmSelect.get(e+t+l,!0),h="undefined"!==typeof $(e+t).attr("data-sqlWhereStr")?$(e+t).attr("data-sqlWhereStr"):"";return e==="#selectParam"+l?(""!==c&&(""!==h&&h===c||(i="SELECT * FROM ("+i+") where 1=1"+c,Y(i).then((function(i){if(i.data.isError)alert("获取参数【"+n+"】的值的失败，原因："+i.data.message),u.$message({type:"error",message:"获取参数【"+n+"】的值的失败，原因："+i.data.message});else{var a=[];if(e==="#selectParam"+l)for(var r=0;r<i.data.paramList.length;r++){var o={name:i.data.paramList[r].paramName,value:i.data.paramList[r].paramValue};a.push(o)}else a=_(i.data.paramList);d.update({data:a}),$(e+t).attr("data-sqlWhereStr",c)}})))),""===c&&0===o.length&&(s=!0,Y(i).then((function(t){if(t.data.isError)u.$message({type:"error",message:"获取参数【"+n+"】的值的失败，原因："+t.data.message});else{if(e==="#selectParam"+l)for(var i=0;i<t.data.paramList.length;i++){var a={name:t.data.paramList[i].paramName,value:t.data.paramList[i].paramValue};o.push(a)}else o=_(t.data.result);d.update({data:o})}})))):(""!==c&&(""!==h&&h===c||(i="SELECT * FROM ("+i+") where 1=1"+c,W(i).then((function(i){if(i.data.isError)u.$message({type:"error",message:"获取参数【"+n+"】的值的失败，原因："+i.data.message});else{var a=[];a=_(i.data.result),d.update({data:a}),$(e+t).attr("data-sqlWhereStr",c)}})))),""===c&&0===o.length&&(s=!0,W(i).then((function(t){if(t.data.isError)u.$message({type:"error",message:"获取参数【"+n+"】的值的失败，原因："+t.data.message});else{if(e==="#selectParam"+l)for(var i=0;i<t.data.result.length;i++){var a={name:t.data.result[i].paramName,value:t.data.result[i].paramValue};o.push(a)}else o=_(t.data.result);d.update({data:o})}})))),""===c&&0!==o.length&&(0!==r.length&&d.update({data:o}),$(e+t).removeAttr("data-sqlWhereStr")),s}function B(e){$(".xm-select-demo").each((function(){var t=$(this).attr("data-id");if(-1!=$.inArray(t,e)){var n="";if($(this).hasClass("selectParam")&&(n="#selectParam"+t),$(this).hasClass("selectTreeParam")&&(n="#selectTreeParam"+t),""!==n){var i=xmSelect.get(n,!0),a=i.getValue();a&&a.length>0&&i.setValue([])}}}))}function _(e){for(var t=[],n=0;n<e.length;n++){var i={name:e[n].C_NAME,value:e[n].C_CODE,pValue:e[n].P_CODE,children:[],sort:n};t.push(i)}return t=z(t),t}function V(e,t){if(e.children&&e.children.length>0){for(var n=[],i=0;i<e.children.length;i++)t.push(e.children[i]),e.children[i].children&&e.children[i].children.length>0&&n.push(e.children[i]);for(var a=0;a<n.length;a++)t=V(n[a],t)}return t}function F(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]),e[n].children&&e[n].children.length>0&&(t=U(e[n],t));return t}function U(e,t){for(var n=e.children,i=0;i<n.length;i++)t.push(n[i]),n[i].children&&n[i].children.length>0&&(t=U(n[i],t));return t}function q(e,t,n,i){if(n&&n.length>0){for(var a={},r=0;r<n.length;r++)if(e.pValue===n[r].value){a=n[r];break}if(Object.keys(a).length>0){for(var o=a.children.length,s=0,l=0;l<o;l++)for(var u=0;u<i.length;u++)a.children[l].value===i[u].value&&a.children[l].pValue===i[u].pValue&&s++;o===s+1&&(t.push(a),t=q(a,t,n,i))}}return t}function z(e){for(var t=[],n=[],i=!1,a=0;a<e.length;a++){for(var r=e[a],o=r.value,s=r.name,l=r.pValue,u=r.sort,c=r.children,d=0,h=!1,f=0;f<e.length;f++){var p=e[f],m=p.value,g=p.pValue;if(l===m&&o!==m&&!h){for(var v={name:s,value:o,pValue:l,children:c,sort:u},y=!1,b=0;b<p.children.length;b++)if(v.value===p.children[b].value&&v.pValue===p.children[b].pValue){y=!0;break}if(!y)if(0===p.children.length)p.children.push(v);else{for(var A=-1,w=0;w<p.children.length;w++)if(p.children[w].sort>u){A=w;break}-1===A?p.children.push(v):p.children.splice(w,0,v)}i=!0,h=!0}o!==g&&d++}d===e.length&&n.push(r)}if(i){for(var x=0;x<e.length;x++){for(var C=0,k=0;k<n.length;k++)e[x].value!==n[k].value&&C++;C===n.length&&t.push(e[x])}t.length>0&&(e=z(t))}return e}function Q(e,t){void 0==t&&(t="");var n={verify:!0,message:"",sql:"",paramsArr:[]},i=[],a=!1;$("#"+e).find(".paramOption").each((function(){var e=$(this).attr("data-id"),t=$(this).attr("data-name"),n="undefined"!==typeof $(this).attr("data-allowedNull")?$(this).attr("data-allowedNull"):"1",r=$(this).val(),o={moduleParamId:e,paramName:t,paramValue:$.trim(r),allowedNull:"0"};if("1"===n){if(o.allowedNull="1",""===r){a=!0;for(var s=0;s<P.length;s++)P[s].moduleParamId===e&&(P[s]["value"]="")}i.push(o)}else""!==r?i.push(o):0})),$("#"+e).find(".selectParam").each((function(e,n){var r=$(this).attr("data-id"),o=$(this).attr("data-name"),s="undefined"!==typeof $(this).attr("data-allowedNull")?$(this).attr("data-allowedNull"):"1",l=$(this).attr("data-choiceType"),u=xmSelect.get("#selectParam"+r+t,!0),c=u.getValue(),d={moduleParamId:r,paramName:o,paramValue:"",allowedNull:"0"};if("1"===s){if(d.allowedNull="1",0===c.length){a=!0;for(var h=0;h<P.length;h++)P[h].moduleParamId===r&&(P[h]["value"]="")}else if(1==l){var f=[];f.push(c[0].value),d.paramValue=f}else{for(var p=[],m=0;m<c.length;m++)p.push(c[m].value);d.paramValue=p}i.push(d)}else if(0!==c.length){if(1==l)d.paramValue=c[0].value;else{for(m=0;m<c.length;m++)d.paramValue+="'"+c[m].value+"',";d.paramValue=d.paramValue.substring(0,d.paramValue.length-1)}i.push(d)}else 0})),$("#"+e).find(".selectTreeParam").each((function(e,n){var r=$(this).attr("data-id"),o=$(this).attr("data-name"),s="undefined"!==typeof $(this).attr("data-allowedNull")?$(this).attr("data-allowedNull"):"1",l=$(this).attr("data-choiceType"),u=xmSelect.get("#selectTreeParam"+r+t,!0),c=u.getValue(),d={moduleParamId:r,paramName:o,paramValue:"",allowedNull:"0"};if("1"===s){if(d.allowedNull="1",0===c.length){a=!0;for(var h=0;h<P.length;h++)P[h].moduleParamId===r&&(P[h]["value"]="")}else if(1==l)d.paramValue=c[0].value;else{for(var f=0;f<c.length;f++)d.paramValue+="'"+c[f].value+"',";d.paramValue=d.paramValue.substring(0,d.paramValue.length-1)}i.push(d)}else if(0!==c.length){if(1==l)d.paramValue=c[0].value;else{for(f=0;f<c.length;f++)d.paramValue+="'"+c[f].value+"',";d.paramValue=d.paramValue.substring(0,d.paramValue.length-1)}i.push(d)}else 0})),$(".textParam").each((function(e,t){var i=$(this).attr("data-datalength"),a=$(this).attr("data-name");if("null"==i&&(i=null),null!==i&&$(this).val().length!==parseInt(i))return n.verify=!1,n.message="参数【"+a+"】输入值的长度与设置的长度值【"+parseInt(i)+"】不相等",!1}));var r=v[e].sql,o=v[e].paramsArr;if(n.verify&&(a&&J(r,JSON.stringify(P)).then((function(e){e.isError&&(n.verify=!1,n.message="替换空值参数时出错"),r=e.data.sql})),""!==r)){for(var s=0;s<i.length;s++)for(var l=i[s].moduleParamId,u=0;u<o.length;u++)o[u].moduleParamId===l&&(r=r.replace(o[u].id,i[s].paramValue));if(i.length!=o.length){for(var c=[],d=0;d<o.length;d++)for(s=0;s<i.length;s++)if(o[d].moduleParamId===i[s].moduleParamId){var h=o[d];h.paramValue=i[s].paramValue,h.alloweNull=i[s].alloweNull,c.push(h)}i=c}else{for(s=0;s<o.length;s++)i[s].copyParamId=o[s].copyParamId,i[s].id=o[s].id,i[s].sort=o[s].sort;for(u=0;u<i.length;u++)i[u]=JSON.parse(JSON.stringify(i[u]).replace(/paramName/g,"name"))}n.sql=r,n.paramsArr=i}return n}function H(e,t){var n={verify:!0,message:"",paramSettingArr:[]};if($(".paramOption").each((function(e,t){if(""!==$(this).val()){var i=$(this).val();if($(this).hasClass("textParam")){var a=$(this).attr("data-name"),r=$(this).attr("data-dataLength");if("null"==r&&(r=null),null!==r&&i.length!==parseInt(r))return n.verify=!1,n.message="参数【"+a+"】输入值的长度与设置的长度值【"+parseInt(r)+"】不相等",!1}$(this).attr("data-value",i)}})),!n.verify)return n;$(".selectParam").each((function(e,t){for(var n=$(this).attr("data-id"),i=xmSelect.get("#selectParam"+n,!0),a=i.getValue(),r=[],o=0;o<a.length;o++)r.push(a[o].value);r.length>0&&$(this).attr("data-value",JSON.stringify(r))})),$(".selectTreeParam").each((function(e,t){for(var n=$(this).attr("data-id"),i=xmSelect.get("#selectTreeParam"+n,!0),a=i.getValue(),r=[],o=0;o<a.length;o++)r.push(a[o].value);r.length>0&&$(this).attr("data-value",JSON.stringify(r))}));for(var i=0;i<e.length;i++){var a={id:"{#"+e[i].copyParamId+"#}",copyParamId:e[i].copyParamId,moduleParamId:e[i].moduleParamId,sort:1,name:e[i].name},r="",o="";$(".paramTr").each((function(e,t){var n=$(this).attr("data-id");if(a.moduleParamId===n)return"undefined"!==typeof $(this).attr("data-value")&&(r=$(this).hasClass("paramOption")?$(this).attr("data-value"):JSON.parse($(this).attr("data-value"))),o=parseInt(e+1),!1})),a.paramValue=r,""!==o&&(a.sort=o),n.paramSettingArr.push(a)}return n}function G(){return(0,u.default)({baseURL:g,url:"/paramController/findParamsAndModelRelParams",method:"post"})}function Y(e){return(0,u.default)({baseURL:g,url:"/paramController/executeParamSql",method:"post",async:!1,params:{sql:e}})}function W(e){return K.apply(this,arguments)}function K(){return K=(0,l.default)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={sqlValue:t},e.next=3,(0,u.default)({baseURL:g,url:"/paramController/getSelectTreeData",method:"post",data:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function J(e,t){return X.apply(this,arguments)}function X(){return X=(0,l.default)(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={sqlValue:t,paramConditions:n},e.next=3,(0,u.default)({baseURL:g,url:"/paramController/replaceSqlByAllowedNull",method:"post",data:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function Z(e){return(0,u.default)({baseURL:g,url:"/paramController/getParentParamByParamArr",method:"post",data:e})}function ee(e,t,n){if("undefined"===typeof n&&(n=!1),e){for(var i=[],a=$(".setParamTr").length,r=a-1;r>=0;r--){for(var o=$(".setParamTr:eq("+r+")").attr("data-moduleParamId"),l=0,u=0;u<t.length;u++)o!==t[u].moduleParamId&&l++,-1==$.inArray(t[u].moduleParamId,i)&&o===t[u].moduleParamId&&i.push(t[u].moduleParamId);l===t.length&&$(".setParamTr:eq("+r+")").remove()}void 0!==t&&null!=t?Z(t).then((function(e){var a=e.data.paramList;if(void 0===(0,s.default)(t[0].sort)&&void 0===(0,s.default)(t[0].paramValue));else{$("#tbody").empty();for(var r=0;r<a.length;r++)for(var o=a[r].ammParamUuid,l=0;l<t.length;l++)if(t[l].moduleParamId===o){a[r].defaultVal=t[l].paramValue,a[r].sortVal=t[l].sort;break}}var u=[];if(t.length>0){$("#mochu").empty();for(var c=0;c<t.length;c++){var d=!1;if($(".setParamTr").each((function(e,n){var i=$(this).attr("data-moduleParamId");if(i===t[c].moduleParamId)return d=!0,!1})),(-1==$.inArray(t[c].moduleParamId,i)||!d)&&-1==$.inArray(t[c].moduleParamId,u)){var h='<tr class="setParamTr" data-moduleParamId="'+t[c].moduleParamId+'"><td align="center">'+t[c].name+"</td>",f="",p="";for(r=0;r<a.length;r++){o=a[r].ammParamUuid;if(o===t[c].moduleParamId&&-1==$.inArray(o,u)){"date"!=a[r].dataType&&""!=a[r].defaultVal&&(a[r].defaultVal=JSON.stringify(a[r].defaultVal));var m=M(a[r]);m.isError||(f=m.htmlContent),u.push(o),null==a[r].description&&(a[r].description="无"),"undefined"!==typeof a[r].description&&(p=a[r].description);break}}h+="<td>"+f+"</td><td>"+p+"</td></tr>",n?$("#paramTable>tbody").append(h).sortable().disableSelection():$("#paramTable>tbody").append(h)}}}ne(n)})):load.hide()}}function te(){var t=$(f.$refs.settingParamDiv).mLoading({text:"正在加载配置，请稍后……",hasCancel:!1});try{var n=[];if(f.paramsSetting&&f.paramsSetting.length>0)for(var i=0;i<f.paramsSetting.length;i++)$.inArray(f.paramsSetting[i].moduleParamId,n)<0&&n.push(f.paramsSetting[i].moduleParamId);var a=f.paramsSetting;if(void 0===a||null==a)return t.hide(),void(f.setParamArr=[]);for(var r=function(e){for(var t=f.setParamArr[e].dataModuleParamId,i=0,r=0;r<a.length;r++)if(t!==a[r].moduleParamId&&i++,$.inArray(a[r].moduleParamId,n)<0&&t===a[r].moduleParamId&&n.push(a[r].moduleParamId),i===a.length){var o=f.setParamArr.findIndex((function(e){return e.dataModuleParamId===t}));f.setParamArr.splice(o,1)}},o=f.setParamArr.length-1;o>=0;o--)r(o);G().then((function(e){if(null==e.data)t.hide(),f.$message.error("获取参数信息失败");else if(e.data.isError)t.hide(),f.$message.error({message:e.data.message});else{for(var i=e.data.paramList,r=[],o=0;o<a.length;o++){for(var s=!1,l=0;l<f.setParamArr.length;l++)if(f.setParamArr[l].dataModuleParamId===a[o].moduleParamId){s=!0;break}if(!($.inArray(a[o].moduleParamId,n)>-1&&s)&&!($.inArray(a[o].moduleParamId,r)>-1))for(var u={dataModuleParamId:a[o].moduleParamId,name:a[o].name},c=0;c<i.length;c++){var d=i[c].ammParamUuid,p=h(h({},{}),i[c]);if(d===a[o].moduleParamId&&$.inArray(d,r)<0){u.inputType=p.inputType,$.inArray(a[o].moduleParamId,n)>-1&&d===a[o].moduleParamId&&a[o].defaultVal&&""!==a[o].defaultVal&&(u.value=a[o].defaultVal,p.defaultVal=a[o].defaultVal);var m=ae(p,u);m.isError?f.$message.error({message:m.message}):u=m.setParamObj,r.push(d),"undefined"!==typeof p.description&&null!=p.description&&(u.description=p.description),f.setParamArr.push(u);break}}}$(f.$refs.setParamTbody).sortable().disableSelection(),f.$nextTick((function(){ne(a,n),t.hide()}))}}))}catch(e){t.hide(),console.info(e)}}function ne(e,t){var n=this,i=f.$refs.selectParam;if(i&&i.length>0)for(var a=function(e){var t=Number(i[e].parentNode.getAttribute("index")),a=f.setParamArr[t].dataChoiceType,r=f.setParamArr[t].dataId,o=f.setParamArr[t].dataName,s="undefined"!==typeof f.setParamArr[t].dataSql?f.setParamArr[t].dataSql:"",l="undefined"!==typeof f.setParamArr[t].data?f.setParamArr[t].data:[],u=!1,d={el:"#selectParam"+r,filterable:!0,filterMethod:function(e,t,n,i){return e===t.value||!!(t.name&&t.name.indexOf(e)>-1)},data:l};if(1==a&&(d.radio=!0,d.clickClose=!0),""!==s){var h="undefined"!==typeof $(n).attr("data-associatedParamIdArr")?JSON.parse($(n).attr("data-associatedParamIdArr")):[],p="undefined"!==typeof $(n).attr("data-paramArr")?JSON.parse($(n).attr("data-paramArr")):[];d.show=function(){u=c.selectShow(f.$refs.settingParamDiv,"#selectParam",r,o,s,a,p,l,u)},d.hide=function(){if(u&&0===l.length){var e=xmSelect.get("#selectParam"+r,!0);l=e.options.data,u=!1}$.inArray(r,h)>-1&&c.selectHide("#selectParam",r,h)}}"undefined"!==typeof f.setParamArr[t].value&&null!=f.setParamArr[t].value&&(d.initValue=f.setParamArr[t].value),xmSelect.render(d)},r=0;r<i.length;r++)a(r);var o=f.$refs.selectTreeParam;if(o&&o.length>0)for(var s=function(e){var t=Number(o[e].parentNode.getAttribute("index")),i=f.setParamArr[t].dataChoiceType,a=f.setParamArr[t].dataId,r=f.setParamArr[t].dataName,s="undefined"!==typeof f.setParamArr[t].dataSql?f.setParamArr[t].dataSql:"",l="undefined"!==typeof f.setParamArr[t].data?f.setParamArr[t].data:[],u=!1,d={el:"#selectTreeParam"+a,filterable:!0,tree:{show:!0,showFolderIcon:!0,showLine:!0,indent:30,strict:!1},height:"auto",data:l};if(""!==s){var h="undefined"!==typeof $(n).attr("data-associatedParamIdArr")?JSON.parse($(n).attr("data-associatedParamIdArr")):[],p="undefined"!==typeof $(n).attr("data-paramArr")?JSON.parse($(n).attr("data-paramArr")):[];d.show=function(){u=c.selectShow(f.$refs.settingParamDiv,"#selectTreeParam",a,r,s,i,p,l,u)},d.hide=function(){if(u&&0===l.length){var e=xmSelect.get("#selectTreeParam"+a,!0);l=e.options.data,u=!1}$.inArray(a,h)>-1&&c.selectHide("#selectTreeParam",a,h)}}"undefined"!==typeof f.setParamArr[t].value&&null!=f.setParamArr[t].value&&(d.initValue=f.setParamArr[t].value),1==i?(d.radio=!0,d.clickClose=!0):d.on=function(e){var t=e.arr,n=(e.change[0],[]),i=e.change.slice(0,1);if(n.push(i[0]),n=V(i[0],n),e.isAdd){for(var a=0;a<n.length;a++)for(var r=t.length-1;r>=0;r--)if(t[r].value===n[a].value&&t[r].pValue===n[a].pValue){t.splice(r,1);break}var o=F(l),s=q(i[0],[],o,t);n=n.concat(s),t.push.apply(t,n)}else{for(var u=R(i[0],[],t),c=0;c<u.length;c++)for(var d=t.length-1;d>=0;d--)if(t[d].value===u[c].value&&t[d].pValue===u[c].pValue){t.splice(d,1);break}for(var h=0;h<n.length;h++)for(var f=t.length-1;f>=0;f--)if(t[f].value===n[h].value&&t[f].pValue===n[h].pValue){t.splice(f,1);break}}return t},xmSelect.render(d)},l=0;l<o.length;l++)s(l)}function ie(){for(var e={verify:!0,message:"",paramSettingArr:[]},t=0;t<f.$refs.setParamTr.length;t++){var n=Number(f.$refs.setParamTr[t].parentNode.getAttribute("index"));if(""!==f.setParamArr[n].value&&"textinp"===f.setParamArr[n].inputType){var i=f.setParamArr[n].dataName,a=f.setParamArr[n].dataDataLength;if(void 0==f.setParamArr[n].value)return e.verify=!1,e.message="请先设置参数默认值",e;if("undefined"!==typeof a&&f.setParamArr[n].value.length!==parseInt(a))return e.verify=!1,e.message="参数【"+i+"】输入值的长度与设置的长度值【"+parseInt(a)+"】不相等",e}}if(!e.verify)return e;var r=f.$refs.selectParam;if(r&&r.length>0)for(var o=0;o<r.length;o++){for(var s=Number(r[o].parentNode.getAttribute("index")),l=f.setParamArr[s].dataId,u=xmSelect.get("#selectParam"+l,!0),d=u.getValue(),h=[],p=0;p<d.length;p++)h.push(d[p].value);h.length>0&&(f.setParamArr[s].value=h)}var m=f.$refs.selectTreeParam;if(m&&m.length>0)for(var g=0;g<m.length;g++){for(var v=Number(m[g].parentNode.getAttribute("index")),y=f.setParamArr[v].dataId,b=xmSelect.get("#selectTreeParam"+y,!0),A=b.getValue(),w=[],x=0;x<A.length;x++)w.push(A[x].value);w.length>0&&(f.setParamArr[v].value=w)}for(var C=0;C<f.paramsSetting.length;C++){var k=f.paramsSetting[C];k.sortVal=1;for(var S="",T="",N=0;N<f.$refs.setParamTr.length;N++){var I=Number(f.$refs.setParamTr[N].getAttribute("index")),D=f.setParamArr[I].dataId;if(k.moduleParamId===D){"undefined"!==typeof f.setParamArr[I].value&&(S=f.setParamArr[I].value),T=parseInt(N+1);break}}k.defaultVal=S,""!==T&&(k.sortVal=T),e.paramSettingArr.push(k)}return c.sortParamArr(e.paramSettingArr),e}function ae(e,t,n,i){var a={selectNum:n,selectTreeNum:i,setParamObj:h(h({},{}),t),isError:!1,message:""},r=[],o=[],s=[],l=e.paramChoice.optionsSql;a.setParamObj.title=0===e.paramChoice.allowedNull?"不可为空":"可为空";var u=!1;switch(a.setParamObj.inputType){case"lineinp":l?""!==l&&(u=!0,"undefined"!==typeof e.defaultVal&&null!=e.defaultVal&&Y(l).then((function(t){if(null==t.data)a.isError=!0,a.message="获取参数【".concat(e.paramName,"】的值的失败");else if(t.data.isError)a.isError=!0,a.message="获取参数【".concat(e.stateparamName,"】的值的失败，原因：").concat(t.data.message);else{var n=t.data;if(n.paramList&&n.paramList.length>0)for(var i=0;i<n.paramList.length;i++){var o={name:n.paramList[i].paramName,value:n.paramList[i].paramValue};r.push(o)}}}))):$.each(e.paramChoice.paramOptionsList,(function(e,t){if(t.optionsVal&&t.optionsName){var n={name:t.optionsName,value:t.optionsVal};r.push(n)}})),"undefined"!==typeof a.selectNum&&null!=a.selectNum?(a.setParamObj.id="selectParam".concat(a.selectNum),a.selectNum++):a.setParamObj.id="selectParam".concat(e.ammParamUuid),a.setParamObj.dataId=e.ammParamUuid,a.setParamObj.dataName=e.paramName,a.setParamObj.dataChoiceType=e.paramChoice.choiceType,u&&(a.setParamObj.dataSql=l,a.setParamObj.dataParamArr=o,a.setParamObj.dataAssociatedParamIdArr=s),"undefined"!==typeof e.defaultVal&&null!=e.defaultVal&&(a.setParamObj.dataDefaultVal=e.defaultVal),r.length>0&&(a.setParamObj.data=r),"undefined"!==typeof e.paramChoice.allowedNull&&null!=e.paramChoice.allowedNull&&(a.setParamObj.dataAllowedNull=e.paramChoice.allowedNull);break;case"textinp":"undefined"!==typeof e.dataLength&&null!=e.dataLength&&(a.setParamObj.title+=",参数值的长度为".concat(e.dataLength)),a.setParamObj.dataId=e.ammParamUuid,a.setParamObj.dataName=e.paramName,"undefined"!==typeof e.paramChoice.allowedNull&&null!=e.paramChoice.allowedNull&&(a.setParamObj.dataAllowedNull=e.paramChoice.allowedNull),"undefined"!==typeof e.defaultVal&&null!=e.defaultVal&&(a.setParamObj.dataDefaultVal=e.defaultVal),"undefined"!==typeof e.dataLength&&null!=e.dataLength&&(a.setParamObj.dataDataLength=e.dataLength);break;case"timeinp":"date"===e.dataType&&(a.setParamObj.dataId=e.ammParamUuid,a.setParamObj.dataName=e.paramName,"undefined"!==typeof e.paramChoice.allowedNull&&null!=e.paramChoice.allowedNull&&(a.setParamObj.dataAllowedNull=e.paramChoice.allowedNull),"undefined"!==typeof e.defaultVal&&null!=e.defaultVal&&(a.setParamObj.dataDefaultVal=e.defaultVal));break;case"treeinp":if(""!==l&&(u=!0,"undefined"!==typeof e.defaultVal&&null!=e.defaultVal)){var c=W(l);null==c.data?(a.isError=!0,a.message="获取参数【".concat(e.paramName,"】的值的失败")):c.data.isError?(a.isError=!0,a.message="获取参数【".concat(e.paramName,"】的值的失败，原因：").concat(c.data.message)):r=c.data.result&&c.data.result.length>0?_(c.data.result):[]}"undefined"!==typeof a.selectTreeNum&&null!=a.selectTreeNum?(a.setParamObj.id="selectTreeParam".concat(a.selectTreeNum),a.selectTreeNum++):a.setParamObj.id="selectTreeParam".concat(e.ammParamUuid),a.setParamObj.dataId=e.ammParamUuid,a.setParamObj.dataName=e.paramName,a.setParamObj.dataChoiceType=e.paramChoice.choiceType,u&&(a.setParamObj.dataSql=l,a.setParamObj.dataParamArr=o,a.setParamObj.dataAssociatedParamIdArr=s),"undefined"!==typeof e.defaultVal&&null!=e.defaultVal&&(a.setParamObj.dataDefaultVal=e.defaultVal),r.length>0&&(a.setParamObj.data=r),"undefined"!==typeof e.paramChoice.allowedNull&&null!=e.paramChoice.allowedNull&&(a.setParamObj.dataAllowedNull=e.paramChoice.allowedNull);break}return a}},d77c:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var a=i(n("e858")),r=n("9ac2"),o={name:"ModelFolderTree",components:{MyElTree:a.default},props:["publicModel","power","spaceFolderName","spaceFolderId"],data:function(){return{filterText:null,data:[],defaultProps:{children:"children",label:"label"},selectTreeNode:{},operationType:0,dialogFormVisible:!1,form:{modelFolderUuid:"",modelFolderName:"",parentUuid:"",folderSort:"",folderPath:"",pbScope:""},checkedId:"",appContainerDivStyle:"",isBussinessType:!1}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){"relationModel"===this.publicModel&&(this.appContainerDivStyle="height: 500px;overflow-y: scroll"),this.getModelFolder()},methods:{handleNodeClick1:function(e,t,n){!0===t?(this.checkedId=e.id,this.$refs.tree.setCheckedKeys([e.id])):this.checkedId==e.id&&this.$refs.tree.setCheckedKeys([e.id])},getModelFolder:function(){var e=this,t="",n="";t=void 0===this.spaceFolderName?"个人模型":this.spaceFolderName,n=void 0===this.spaceFolderId?this.$store.getters.datauserid:this.spaceFolderId,void 0!=this.publicModel&&""!=this.publicModel?(0,r.findModelFolderTree)(!1,t,n).then((function(i){var a=[];if("publicModel"===e.publicModel){for(var o=0;o<i.data.length;o++)"gonggong"==i.data[o].id&&a.push(i.data[o]);e.data=a}else if("editorModel"===e.publicModel){for(var s=0;s<i.data.length;s++)"gonggong"!=i.data[s].id&&i.data[s].id!=e.$store.getters.datauserid||(i.data[s].disabled=!0,a.push(i.data[s]));e.isBussinessType=!0,e.data=a}else"relationModel"===e.publicModel?(0,r.findModelFolderTree)(!0,t,n).then((function(t){e.data=t.data})):(a=i.data,e.data=a)})):(0,r.findModelFolderTree)(!0,t,n).then((function(t){e.data=t.data}))},deleteModelData:function(e){for(var t=0;t<e.children.length;t++)"model"==e.children[t].type?e.children[t].isShow=!1:this.deleteModelData(e.children[t])},handleNodeClick:function(e){this.selectTreeNode=e,"model"===e.type||this.$emit("refreshModelList",e)},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},setSelectTreeNode:function(e,t,n){this.operationType=n,this.selectTreeNode=t,2===n&&(this.form.modelFolderName=this.selectTreeNode.label),this.dialogFormVisible=!0},clearForm:function(){this.form={modelFolderUuid:"",modelFolderName:"",parentUuid:"",folderSort:"",folderPath:"",pbScope:""}},getGuuid:function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var i=e.join("");return i},enterBtn:function(){1===this.operationType?this.addModelFolder():this.updateFolder()},addModelFolder:function(){var e=this;this.form.modelFolderUuid=this.getGuuid(),this.form.parentUuid=this.selectTreeNode.id,this.form.folderSort=0;var t=this.$refs.tree.getNodePath(this.selectTreeNode),n=[];t.forEach((function(e){n.push(e.id)})),this.form.folderPath=n.join("/")+"/"+this.form.modelFolderUuid,this.form.pbScope=this.selectTreeNode.extMap.pbScope,(0,r.addModelFolder)(this.form).then((function(t){if(null!=t&&0===t.code){var n={id:e.form.modelFolderUuid,label:e.form.modelFolderName,children:[],pid:e.selectTreeNode.id,icon:"el-icon-folder",extMap:{pbScope:e.selectTreeNode.extMap.pbScope},type:"folder"};e.selectTreeNode.children||e.$set(e.selectTreeNode,"children",[]),e.selectTreeNode.children.push(n)}else e.$notify({title:"提示",message:"请选择模型",type:"info",duration:2e3,position:"bottom-right"})})),this.dialogFormVisible=!1},updateFolder:function(){var e=this;this.form.modelFolderUuid=this.selectTreeNode.id,this.form.parentUuid=null,this.form.folderSort=null,this.form.folderPath=null,this.form.pbScope=null,(0,r.updateModelFolder)(this.form).then((function(t){0===t.code&&e.getModelFolder()})),this.dialogFormVisible=!1},deleteFolder:function(e,t){var n=this;if(0!==t.pid)if(void 0!==t.children&&0===t.children.length||void 0===t.children){var i={modelFolderUuid:t.id};this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,r.deleteModelFolder)(i).then((function(e){0===e.code&&(n.getModelFolder(),n.$message({type:"success",message:"删除成功!"}))}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))}else this.$message({success:"error",message:"该分类下有分类或模型，不允许删除"});else this.$message({success:"info",message:"根目录不允许删除"})},getSelectNode:function(){return this.$refs.tree.getCheckedNodes()[0]}}};t.default=o},d78c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"detail-form"},[n("el-form",{ref:"dataForm",staticStyle:{width:"600px","margin-left":"50px"},attrs:{model:e.temp,"label-position":"right"}},[n("el-form-item",{attrs:{label:"表名称",prop:"tbName"}},[n("el-input",{attrs:{readonly:""},model:{value:e.temp.tbName,callback:function(t){e.$set(e.temp,"tbName",t)},expression:"temp.tbName"}})],1),n("el-form-item",{attrs:{label:"表路径",prop:"tablePath"}},[n("el-input",{attrs:{readonly:""},model:{value:e.temp.tablePath,callback:function(t){e.$set(e.temp,"tablePath",t)},expression:"temp.tablePath"}})],1),n("el-form-item",{attrs:{label:"字段数",prop:"fieldsNum"}},[n("el-input",{attrs:{readonly:""},model:{value:e.temp.fieldsNum,callback:function(t){e.$set(e.temp,"fieldsNum",t)},expression:"temp.fieldsNum"}})],1),n("el-form-item",{attrs:{label:"行数",prop:"rowNum"}},[n("el-input",{attrs:{readonly:""},model:{value:e.temp.rowNum,callback:function(t){e.$set(e.temp,"rowNum",t)},expression:"temp.rowNum"}})],1),n("el-form-item",{attrs:{label:"表容量",prop:"tableSize"}},[n("el-input",{attrs:{readonly:""},model:{value:e.temp.tableSize,callback:function(t){e.$set(e.temp,"tableSize",t)},expression:"temp.tableSize"}})],1)],1)],1)])},a=[]},d78e:function(e,t,n){"use strict";n.r(t);var i=n("ce40"),a=n("1b80");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("a30d");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4e814f56",null);t["default"]=s.exports},d78f:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"wangeditor"}})])}]},d7e9:function(e,t,n){e.exports=n.p+"static/img/logo.8fcd813b.png"},d7ec:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-eye-open",use:"icon-eye-open-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="icon-eye-open"><defs><style></style></defs><path d="M512 128q69.675 0 135.51 21.163t115.498 54.997 93.483 74.837 73.685 82.006 51.67 74.837 32.17 54.827L1024 512q-2.347 4.992-6.315 13.483T998.87 560.17t-31.658 51.669-44.331 59.99-56.832 64.34-69.504 60.16-82.347 51.5-94.848 34.687T512 896q-69.675 0-135.51-21.163t-115.498-54.826-93.483-74.326-73.685-81.493-51.67-74.496-32.17-54.997L0 513.707q2.347-4.992 6.315-13.483t18.816-34.816 31.658-51.84 44.331-60.33 56.832-64.683 69.504-60.331 82.347-51.84 94.848-34.816T512 128.085zm0 85.333q-46.677 0-91.648 12.331t-81.152 31.83-70.656 47.146-59.648 54.485-48.853 57.686-37.675 52.821-26.325 43.99q12.33 21.674 26.325 43.52t37.675 52.351 48.853 57.003 59.648 53.845T339.2 767.02t81.152 31.488T512 810.667t91.648-12.331 81.152-31.659 70.656-46.848 59.648-54.186 48.853-57.344 37.675-52.651T927.957 512q-12.33-21.675-26.325-43.648t-37.675-52.65-48.853-57.345-59.648-54.186-70.656-46.848-81.152-31.659T512 213.334zm0 128q70.656 0 120.661 50.006T682.667 512 632.66 632.661 512 682.667 391.339 632.66 341.333 512t50.006-120.661T512 341.333zm0 85.334q-35.328 0-60.33 25.002T426.666 512t25.002 60.33T512 597.334t60.33-25.002T597.334 512t-25.002-60.33T512 426.666z" /></symbol>'});o.a.add(s);t["default"]=s},d7f5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("61f7"),a={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{isExternal:function(){return(0,i.isExternal)(this.iconClass)},iconName:function(){return"#icon-".concat(this.iconClass)},svgClass:function(){return this.className?"svg-icon "+this.className:"svg-icon"},styleExternalIcon:function(){return{mask:"url(".concat(this.iconClass,") no-repeat 50% 50%"),"-webkit-mask":"url(".concat(this.iconClass,") no-repeat 50% 50%")}}}};t.default=a},d826:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree"},[n("el-tree",{attrs:{data:e.treeData,props:e.defaultProps,"icon-class":"el-icon-folder"},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node tree-slot-wrap flex a-center w100 j-between flex-row"},[n("span",{staticClass:"label-name"},[e._v(e._s(i.label))]),void 0===a.isBtn||a.isBtn?n("span",{staticClass:"inline-block label-icons"},[n("span",{staticClass:"icon-box"},[n("i",{staticClass:"el-icon-edit"})]),n("span",{staticClass:"icon-box"},[n("i",{staticClass:"el-icon-share"})])]):e._e()])}}])})],1)},a=[]},d89f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("cb55"),a={getMasterData:function(e,t){e.state;return new Promise((function(e,t){(0,i.monitorList)().then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},getWorkerData:function(e,t){e.state;return new Promise((function(e,t){(0,i.workerList)().then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},getDatabaseData:function(e,t){e.state;return new Promise((function(e,t){(0,i.getDatabase)().then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},getZookeeperData:function(e,t){e.state;return new Promise((function(e,t){(0,i.zookeeperList)().then((function(t){e(t.data)})).catch((function(e){t(e)}))}))}};t.default=a},d8ec:function(e,t,n){"use strict";n.r(t);var i=n("11bb"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},d908:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listByPage=s,t.save=l,t.update=u,t.del=c;var a=i(n("b775")),r="/data",o="bizAttr";function s(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/listByPage"),method:"post",data:e})}function l(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/save"),method:"post",data:e})}function u(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/update"),method:"put",data:e})}function c(e){return(0,a.default)({baseURL:r,url:"/".concat(o,"/delete/").concat(e),method:"delete"})}},d9cd:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("a78e")),r=n("9923"),o={sidebar:{opened:!a.default.get("sidebarStatus")||!!+a.default.get("sidebarStatus"),withoutAnimation:!1},device:"desktop",language:(0,r.getLanguage)(),size:a.default.get("size")||"medium"},s={TOGGLE_SIDEBAR:function(e){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?a.default.set("sidebarStatus",1):a.default.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(e,t){a.default.set("sidebarStatus",0),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t},SET_LANGUAGE:function(e,t){e.language=t,a.default.set("language",t)},SET_SIZE:function(e,t){e.size=t,a.default.set("size",t)}},l={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){var n=e.commit,i=t.withoutAnimation;n("CLOSE_SIDEBAR",i)},toggleDevice:function(e,t){var n=e.commit;n("TOGGLE_DEVICE",t)},setLanguage:function(e,t){var n=e.commit;n("SET_LANGUAGE",t)},setSize:function(e,t){var n=e.commit;n("SET_SIZE",t)}},u={namespaced:!0,state:o,mutations:s,actions:l};t.default=u},d9dc:function(e,t,n){"use strict";n.r(t);var i=n("a543f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},d9ea:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("20d6");var a=i(n("9523"));function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("5df3"),n("1c4c");var s={name:"FrequencyAnalysisSet",data:function(){return{activeNames:["1","2"],nodeData:null,analysisData:[],analysisContent:"",analysisDisabled:!1,displayNum:null,ignoreNullVal:!1,autoAnalysis:!1,analysisTypeArr:[{name:"包含",value:"contain"},{name:"等于",value:"equal"}],analysisType:"contain",compareTypeArr:[{name:"等于",value:"equal"},{name:"大于等于",value:"gt_eq"},{name:"小于等于",value:"lt_eq"}],compareType:"equal",tableBorder:!0}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.$parent.$parent.$parent.graph;if(this.nodeData=t.nodeData[t.curCell.id],this.nodeData.isSet){var n=this.nodeData.setting.analysisCol,i=this.nodeData.setting.appearNum;this.$nextTick((function(){e.analysisData=e.nodeData.setting.contrastCol})),n.autoContrast?(this.analysisType="contain",this.analysisDisabled=!0,this.autoAnalysis=!0):(this.analysisType=n.type,this.analysisContent=n.value),this.compareType=i.type,this.displayNum=i.value,i.ignoreNullVal&&(this.ignoreNullVal=!0)}else for(var a=this.nodeData.parentIds,r="",o=0;o<a.length;o++){var s={};r=t.nodeData[a[o]].isSet?a[o]:t.nodeData[a[o]].parentIds[0],s=t.nodeData[r];for(var l=s.columnsInfo,u=[],c=0;c<l.length;c++)1===l[c].isOutputColumn&&u.push({columnName:l[c].newColumnName});this.analysisData.push({nodeId:r,nodeName:t.nodeData[r].nodeInfo.nodeName,columnSelected:"",columnsInfo:u})}},autoContrastChange:function(e){this.autoAnalysis=e,e?(this.analysisType="contain",this.analysisDisabled=!0):this.analysisDisabled=!1},saveNotOutput:function(){var e=this,t={},n={},i=[];t.autoContrast=this.autoAnalysis,this.autoAnalysis||(t.type=this.analysisType,t.value=this.analysisContent),n.type=this.compareType,n.value=this.displayNum,n.ignoreNullVal=this.ignoreNullVal;for(var a=function(t){var n=e.analysisData[t].columnSelected,a=e.analysisData[t].nodeId,r=e.analysisData[t].nodeName,s=[];Array.from(e.analysisData[t].columnsInfo,(function(e){s.push(o(o({},{selected:e.columnName===n}),e))})),i.push({nodeId:a,nodeName:r,columnSelected:n,columns:s})},r=0;r<this.analysisData.length;r++)a(r);this.nodeData.setting.analysisCol=t,this.nodeData.setting.appearNum=n,this.nodeData.setting.contrastCol=i},inputVerify:function(){var e=this.analysisData.findIndex((function(e){return""===e.columnSelected}));if(e>-1)return this.$message({type:"warning",message:"含有未选择的分析字段"}),!1;if(this.autoAnalysis){if(null==this.displayNum||isNaN(this.displayNum))return this.$message({type:"warning",message:"请输入正确的频次数值"}),!1}else{if(""===$.trim(this.analysisContent))return this.$message({type:"warning",message:"分析内容不能为空"}),!1;if(null==this.displayNum||isNaN(this.displayNum))return this.$message({type:"warning",message:"请输入正确的频次数值"}),!1}return!0}}};t.default=s},da35:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-upload-1",use:"icon-icon-upload-1-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-upload-1"><defs><style type="text/css"></style></defs><path d="M98 98.2v830.1h830.1V98.2H98zM344.8 410l155.8-157.8c6.3-6.4 16.6-6.4 22.9-0.2l0.2 0.2L679.5 410c6.3 6.4 6.2 16.7-0.2 22.9-3 3-7.1 4.6-11.3 4.6h-90.9v181c0 9-7.3 16.2-16.2 16.2h-96.3c-9 0-16.2-7.3-16.2-16.2v-181h-91.9c-9 0-16.2-7.3-16.2-16.2-0.1-4.3 1.5-8.3 4.5-11.3z m423.3 342c0 8.7-7.2 15.8-16 15.8h-480c-8.8 0-16-7.1-16-15.8v-32.4c0-8.7 7.2-15.8 16-15.8h480.1c8.8 0 16 7.1 16 15.8V752z" p-id="2857" /></symbol>'});o.a.add(s);t["default"]=s},da8c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("iframe",{staticClass:"main-frame",attrs:{id:"mainContentFrame",src:e.frameUrl}})])},a=[]},dad5:function(e,t,n){},dadf:function(e,t,n){"use strict";n("244c")},db2a:function(e,t,n){"use strict";n.r(t);var i=n("3494"),a=n("366a");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6128");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"05d285f4",null);t["default"]=s.exports},db96:function(e,t,n){"use strict";n.r(t);var i=n("0de0"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},dbf4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"overflow-y":"auto",height:"500px"},attrs:{id:"remarkContent"}},[n("p",[e._v("一、页面布局：主页一共分为五个区域，即左侧的资源列表区、顶部的功能区、中间区域的工作区、底部的信息提示区、右侧的所使用资源区。")]),n("p",[e._v("二、资源列表区")]),n("p",{staticClass:"indent2"},[e._v("（一）介绍：该区域展示的是用户用以创建图形化流程图的原表树形列表，原表类型主要包括数据表（业务数据表、项目数据表、个人数据表）、模型结果表、业务维度表和风险查证模型表。")]),n("p",{staticClass:"indent2"},[e._v("（二）操作")]),n("p",{staticClass:"indent4"},[e._v("1、用户可对树列表的表节点进行拖拽操作，将选择的表拖拽至中间区域的工作区中生成一个原表节点")]),n("p",{staticClass:"indent4"},[e._v("2、用户可对树列表中的单个表节点进行右键【预览数据】、【关联表查询】的操作")]),n("p",{staticClass:"indent4"},[e._v("3、用户可对树列表中的根节点进行右键【刷新】的操作")]),n("p",[e._v("三、功能区")]),n("p",{staticClass:"indent2"},[e._v("（一）介绍：该区域展示的是用户用以创建图形化流程图的处理表数据的功能节点和用以存储图形化流程图信息的功能按钮，其中功能节点包括：数据筛选、数据排序、数据抽样、数据分层、分组汇总、数据去重、数据频次分析、数据转码、SQL查询器、数据融合、数据关联，功能按钮包括：打开、分享、保存为、另存为、撤销、恢复、全部运行、帮助，以及【文件】区域的更多功能（包括图形导入、图形导出、数据导入）")]),n("p",{staticClass:"indent2"},[e._v("（二）操作")]),n("p",{staticClass:"indent4"},[e._v("1、功能节点：用户可对功能节点进行拖拽操作，将选择的节点拖拽至中间区域的工作区中生成一个对应图形的操作节点")]),n("p",{staticClass:"indent4"},[e._v("2、功能按钮：")]),n("p",{staticClass:"indent6"},[e._v("（1）新建：浏览器中打开新的图形化窗口，用户可创建新的图形化流程图")]),n("p",{staticClass:"indent6"},[e._v("（2）打开：当前窗口中弹出小窗口选择一条图形化记录后，在浏览器中打开的新窗口中加载选择的图形化流程图，用户可在选择的流程图上继续操作")]),n("p",{staticClass:"indent6"},[e._v("（3）保存：用户保存当前操作的图形化流程图")]),n("p",{staticClass:"indent6"},[e._v("（4）另存为：用户可将当前操作的图形化流程图另存储一份进行保存")]),n("p",{staticClass:"indent6"},[e._v("（5）帮助：提供给用户具体操作图形化工具的帮助说明")]),n("p",[e._v("四、工作区")]),n("p",{staticClass:"indent2"},[e._v("（一）介绍：该区域主要是用户用以图形化流程图的设计区域，所有的流程节点都会被拖拽至此区域进行设计，流程图中只包含节点和连接线（边），当设计的流程图过多超出当前工作区的区域时，工作区会自动向右、向下进行范围的扩充。")]),n("p",{staticClass:"indent2"},[e._v("（二）操作")]),n("p",{staticClass:"indent4"},[e._v("1、用户可根据需要拖动节点进行位置变动")]),n("p",{staticClass:"indent4"},[e._v("2、鼠标移动至节点上，可点击【↓】拖动至另一个节点上，进行节点间的连线操作")]),n("p",{staticClass:"indent4"},[e._v("3、鼠标点击连接线，拖动连接线的两端拖动至另一个节点上，变更节点间的连线")]),n("p",{staticClass:"indent4"},[e._v("4、空白区域点击鼠标右键，出现右键菜单，包括选中节点、选中连线、选中所有、撤销、粘贴功能")]),n("p",{staticClass:"indent6"},[e._v("（1）选中节点：选中当前流程图中所有的节点")]),n("p",{staticClass:"indent6"},[e._v("（2）选中连线：选中当前流程图中所有的连接线")]),n("p",{staticClass:"indent6"},[e._v("（3）选择所有：选中当前流程图中所有的节点和连接线")]),n("p",{staticClass:"indent6"},[e._v("（4）撤销：撤销用户当前步骤的操作内容")]),n("p",{staticClass:"indent6"},[e._v("（5）粘贴：粘贴用户当前剪切或复制的操作内容")]),n("p",{staticClass:"indent4"},[e._v("5、节点点击鼠标右键，不同类型的节点出现不同的右键菜单，总的菜单包括执行、取消执行、查看数据、最终结果输出、查询执行语句、SQL编辑、配置节点属性、重置配置、重命名、复制、剪切、删除功能。")]),n("p",{staticClass:"indent6"},[e._v("（1）执行本节点：结果表节点特有菜单项，执行处于未执行或执行失败状态的当前结果表节点")]),n("p",{staticClass:"indent6"},[e._v("（2）执行到本节点：结果表节点特有菜单项，执行处于未执行或执行失败状态的当前结果表节点及其前置节点")]),n("p",{staticClass:"indent6"},[e._v("（3）取消执行：结果表节点特有菜单项，取消处于正在执行状态的当前结果表节点及其前置节点的执行操作")]),n("p",{staticClass:"indent6"},[e._v("（4）查看数据：原表和结果表节点的菜单项，查看当前节点中的数据")]),n("p",{staticClass:"indent6"},[e._v("（5）最终结果输出：结果表节点特有的菜单项，标记当前结果表的节点为最终结果输出节点，在保存模型时以此节点的SQL语句作为模型的SQL语句")]),n("p",{staticClass:"indent6"},[e._v("（6）查看SQL语句：除自定义图形节点外的其他节点的菜单项，用以查看当前节点执行成功后的SQL语句")]),n("p",{staticClass:"indent6"},[e._v("（7）XXXX设置：所有操作节点的菜单项，可对当前的操作节点进行配置设置，包括了节点的基础信息配置、个性化的高级配置和部分节点具有的输出字段配置")]),n("p",{staticClass:"indent6"},[e._v("（8）当前节点重命名：所有节点都具有的菜单项，对当前节点进行重命名")]),n("p",{staticClass:"indent6"},[e._v("（9）复制当前节点：所有节点都具有的菜单项，复制一个空的当前节点，即不包含原节点的任何已有信息，包括执行信息和配置信息")]),n("p",{staticClass:"indent6"},[e._v("（10）剪切当前节点：所有节点都具有的菜单项，剪切当前节点，但不包含当前节点的任何已有信息，包括执行信息和配置信息，该操作会影响与被剪切节点有关节点部分信息、执行状态及配置状态，且撤销操作后状态信息不可恢复")]),n("p",{staticClass:"indent6"},[e._v("（11）删除当前节点：所有节点都具有的菜单项，删除当前节点，该操作会影响与被剪切节点有关节点部分信息、执行状态及配置状态，且撤销操作后状态信息不可恢复")]),n("p",{staticClass:"indent4"},[e._v("6、连接线点击鼠标右键，出现右键菜单，包括：切换为直线、切换为曲线、删除当前节点")]),n("p",{staticClass:"indent6"},[e._v("（1）切换为直线：将当前选中的连接线由曲线切换为直线")]),n("p",{staticClass:"indent6"},[e._v("（2）切换为曲线：将当前选中的连接线由直线切换为曲线")]),n("p",{staticClass:"indent6"},[e._v("（3）删除当前节点：删除当前选中的连接线，该操作会影响与该节点有关的节点部分信息、执行状态及配置状态，且撤销操作后状态信息不可恢复")]),n("p",{staticClass:"indent4"},[e._v("7、鼠标双击原表和结果表节点时，可查看当前节点中的数据，结果会在【信息提示区】的【数据结果集】区域展示")]),n("p",{staticClass:"indent4"},[e._v("8、用户可通过键盘的【Alt】键+鼠标滚轮对工作区进行放大和缩小操作")]),n("p",{staticClass:"indent4"},[e._v("9、当用户点击某个节点时，指向该节点的节点和连接线高亮显示,同时在右侧所使用资源区域的说明页签中显示当前节点的说明信息，当用户点击工作区空白区域时，若已有高亮显示的节点和线，则会取消高亮显示")]),n("p",[e._v("五、信息提示区")]),n("p",{staticClass:"indent2"},[e._v("（一）介绍：该区域将图形化流程图中的结果信息展示给用户，包括数据结果集、执行结果、缩略图")]),n("p",{staticClass:"indent2"},[e._v("（二）操作")]),n("p",{staticClass:"indent4"},[e._v("1、数据结果集：当用户在【工作区】中的节点上进行右键【查看数据】操作、在资源列表区的节点上右键【预览数据】、双击原表和结果表时，会在此区域展示表数据")]),n("p",{staticClass:"indent4"},[e._v("2、执行结果：当用户在【工作区】中的节点上进行右键【执行】操作后，该区域会展示此次的执行结果信息")]),n("p",{staticClass:"indent4"},[e._v("3、缩略图：该区域实时展现给用户缩小版的图形化流程图，当设计的流程图超出【工作区】的区域时，用户可拖动蓝色框进行定位，也可拉伸、回缩蓝色框进行【工作区】图标的的放大和缩小")]),n("p",[e._v("六、所使用资源区")]),n("p",{staticClass:"indent2"},[e._v("（一）介绍：该区域主要是记录设计整个图形化流程图的过程信息，包括说明、所使用资源、操作痕迹")]),n("p",{staticClass:"indent2"},[e._v("（二）操作")]),n("p",{staticClass:"indent4"},[e._v("1、说明：当用户点击工作区的节点时，会自动切换到【说明】页签，显示的内容是对该节点的简单说明")]),n("p",{staticClass:"indent4"},[e._v("2、所使用资源：当用户每拖拽一个节点至工作区时，所使用资源树上就会多一个对应的节点，鼠标点击树节点时，在工作区对应的节点会被选中，且指向该节点的节点和连接线高亮显示")]),n("p",{staticClass:"indent4"},[e._v("3、操作痕迹：")]),n("p",{staticClass:"indent6"},[e._v("（1）记录用户在设计图形化流程图的过程中的所有操作，包括：打开图形化、拖拽节点、自动生成节点、配置节点、执行节点、重命名节点或连接线、切换连接线样式、剪切、删除、粘贴、撤销、还原")]),n("p",{staticClass:"indent6"},[e._v("（2）当点击操作很急的树节点时，流程图会切换为该节点快照下的流程图，切换后不能通过撤销操作回退至原流程图，只能通过再次点击操作痕迹的树节点进行流程图切换")])])}]},dc06:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("d42c"),r=n("d908"),o=i(n("03bd")),s=n("009c"),l={components:{SelectTransCode:o.default},props:["tableId","openType"],data:function(){return{isShow:!1,tableKey:"tableMetaUuid",isSql:!1,transRuleId:"",list:null,disabled:!0,total:0,transRuleUuid:"",dialogStatus:"",textMap:{select:"查看数据转码信息"},isTrueInput:!1,listLoading:!1,bizJson:[],transJson:[],dialogFormVisible:!1,dialogPvVisible:!1,temp:{tableMetaUuid:"",chnName:"",colMetas:[]},tempRule:[],pageQuery:{}}},created:function(){this.initTable(this.tableId)},methods:{initTable:function(e){var t=this;"addTable"!==this.openType&&((0,r.listByPage)(this.pageQuery).then((function(e){t.bizJson=e.data.records})),this.isShow=!0,(0,a.getTableInfo)(e).then((function(e){t.temp=e.data,t.isTrueInput=!0})))},seleteTransCode:function(e){var t=this;this.dialogStatus="select",(0,s.selectById)(e).then((function(e){t.tempRule=e.data,1===t.tempRule.ruleType?(t.dialogFormVisible=!0,t.tempRule.ruleType="SQL语句",t.isSql=!0):(t.dialogFormVisible=!0,t.tempRule.ruleType="手动添加",t.isSql=!1)}))},setTransId:function(e){this.temp.colMetas.transRuleId=e},saveTable:function(){var e=this;(0,a.saveTableInfo)(this.temp).then((function(){e.$notify({title:"成功",message:"保存成功",type:"success",duration:2e3,position:"bottom-right"})}))},resetTemp:function(){this.temp={bizAttrUuid:void 0,attrName:"",attrCode:"",describtion:""}}}};t.default=l},dc0c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAuCAYAAABTTPsKAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALKADAAQAAAABAAAALgAAAACGrrTDAAADvUlEQVRYCe1ZSWhUQRB9PRk3XINRxBA3XNGI20Xw4EUPgkvUaBTGDVQUUUcCgiAZFcklFxEPIoqoqHhRIuJND4oe3PAgGhCCCShCXKMm5s//7avJzDckOL9nfjsoTEHR3fWrq95Ud/XvXwP8Z6S01ouIOUEu/cexfxKcAriFnYp/HGwGXmukF9gTHB8k/0hrNLPdRb6dHktzgbyP/EEGBaYKMMIZep1xTsGVtHC3yNgfmx5/ZRtNyxrSsoI2EuEMTaDnpeSZFMi+FlrJ8Ti2W2RAGkpeT9lktktEUGiSPawL7TSMv54RDmOnYHNlP44pmDcLjmRLeBbsFMyERFgVzJsFR//dHi4CtrDqWU0UI5w1PBYeFiNsIYhZTRQjnDU8Fh4WI8wgtpBryBvJb8lWyfZ9WO7WC7FiYz843k/cvior+JBs7b5ie0tcxLKaNiS98YQ4FWtiEu2LZGtkE/A3vHt3GCoyx0fX6cxHR8chjr/5spAdm4DrsTNeBu0N9DFpDEfNjiEc1/uykB1bgJtRf+o03Mi0PnhcZzbONZ6kXEoGockW4Fo8uF/J6Kbt6QFASUkKnYf+uHF5Ovu1odHSgA3Ad5lcD+Hq8m5AAlQ1AO5RH6CrpqBq6x2O7/qyPDthAbtwnDgkuXxyh7H0wjpdqp7RLdVaIdkpOvvJrq+aRycs4DNYu60TklxB5OoxWLVBCnpnglSzPQ8D+DOeNR2DJJUpOXoe3r+vo/pn0ym99cIATqCurhySVKakMQTb46OonjCd0lsvX8CvsOfQJUgy5UpJPQtHjpzltFe5ThX9fAHH8aZ5DsuaedwRWP183FRJ3/F8AX/PceItJs8LHmP5l7hcbxJWb35Ev7dy9P1dInycLLcsE3LQ3l4LSZ6w1NW5gCYOkB1DU4LxeGpJWV/j2WlwNAFdvDqW8Tb2+4LT15ucwfIqpgMV6/u4hyTqPUDjNan2myTuF6XUV6mtQTpshLOSrq4ehGTJ4qxKmReDRjLwFuxF5jIBG1UikQyw6T9OAfZHQZ2OKCPrBc2RH36dYNuDzPFIHITHL6Xi/zxQN61gfEroqk0jIcliQlo1c91aTVS5cWboWGywkS6VjAGjO0mC7UYiUSi9l1tY/n0KJg8l+OjMC1bs1jACrJdXT4SnyoyMeh73rjoLrc4b6YuSp8fpqthoE/1AwDqRiEKSIxfSuMc9/DSXKXDcBTytAl9EgYDxpGlEKjly8p6HsuuWYt26359XfzAR+ItkXmq5PIdfEX+RPNWhbl5pC/LwC0NPp6z/DO4QAAAAAElFTkSuQmCC"},dc8f:function(e,t,n){"use strict";n.r(t);var i=n("9396"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},dc97:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("20d6"),n("7514"),n("5df3"),n("1c4c");var a=i(n("448a"));n("7f7f");var r={name:"unionDataSet",data:function(){return{nodeData:null,leftMainTableChecked:!0,rightMainTableChecked:!1,leftSelectAll:!1,rightSelectAll:!1,leftTableColArr:[],rightTableColArr:[],leftTableNodeId:"",rightTableNodeId:"",leftTablePreNodeId:"",rightTablePreNodeId:"",conn_type:"union",connTypeArr:[{value:"union",name:"合并"},{value:"intersect",name:"交集"},{value:"exclude",name:"补集"}],leftTableName:"",rightTableName:"",isLeftTip:!1,isRightTip:!1}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.$parent.$parent.$parent.graph;this.nodeData=t.nodeData[t.curCell.id];var n=this.nodeData.parentIds,i=this.nodeData.isSet;if(i){var r=this.nodeData.setting;this.conn_type=r.conn_type;var o=r.left_data,s=r.right_data,l="";this.leftTableNodeId=o.nodeId,this.leftTablePreNodeId=o.preNodeId,this.leftTableName=o.nodeName,this.rightTableNodeId=s.nodeId,this.rightTablePreNodeId=s.preNodeId,this.rightTableName=s.nodeName,o.mainTable&&(l="left",this.leftMainTableChecked=!0,this.rightMainTableChecked=!1),s.mainTable&&(l="right",this.leftMainTableChecked=!1,this.rightMainTableChecked=!0),o.selectAll&&(this.leftSelectAll=!0),s.selectAll&&(this.rightSelectAll=!0);var u=[];$(o.columnSetArr).each((function(e,t){var n=t.id,i=t.name,a=t.checked,r=e;u.push({id:n,colName:i,checked:a,num:r})})),0!==u.length&&(this.leftTableColArr=(0,a.default)(u)),u=[],$(s.columnSetArr).each((function(e,t){var n=t.id,i=t.name,a=t.checked,r=e;u.push({id:n,colName:i,checked:a,num:r})})),0!==u.length&&(this.rightTableColArr=(0,a.default)(u));var c=[];if("left"===l)for(var d=0;d<this.leftTableColArr.length;d++)this.leftTableColArr[d].checked&&c.push({nodeId:this.leftTablePreNodeId,value:this.leftTableColArr[d].colName,nullNodeId:this.leftTableNodeId});else for(var h=0;h<this.rightTableColArr.length;h++)this.rightTableColArr[h].checked&&c.push({nodeId:this.rightTablePreNodeId,value:this.rightTableColArr[h].colName,nullNodeId:this.rightTableNodeId});this.$parent.$parent.$parent.$refs.outputColumnVueRef.$nextTick((function(){e.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(c,!0)}))}else if(n&&n.length>0)for(var f=function(i){var a=t.nodeData[n[i]],r=a.columnsInfo,o=a.nodeInfo.nodeName,s=a.nodeInfo.nodeId,l=a.nodeInfo.nodeId;if(a&&"newNullNode"===a.nodeInfo.optType&&!a.isSet){var u=a.parentIds;u&&u.length>0&&(r=t.nodeData[u[0]].columnsInfo,l=t.nodeData[u[0]].nodeInfo.nodeId,o=t.nodeData[u[0]].nodeInfo.nodeName+"_"+o)}var c=[],d=0;$(r).each((function(e,t){if(t.isOutputColumn){var n=e,i=t.newColumnName,a=!1,r=d;c.push({id:n,colName:i,checked:a,num:r}),d++}})),0!==c.length&&(0===i?(e.leftTableNodeId=s,e.leftTablePreNodeId=l,e.leftTableName=o,e.leftTableColArr=[].concat(c)):(e.rightTableNodeId=s,e.rightTablePreNodeId=l,e.rightTableName=o,e.rightTableColArr=[].concat(c)))},p=0;p<n.length;p++)f(p);this.$nextTick((function(){$(e.$refs.leftElTable.$refs.bodyWrapper.children[0].children[1]).sortable().disableSelection(),$(e.$refs.rightElTable.$refs.bodyWrapper.children[0].children[1]).sortable().disableSelection()})),this.$nextTick((function(){var t=e.$refs.leftTableCol.$el.clientWidth,n=e.$refs.leftTableCol.$el.scrollWidth;n>t&&(e.isLeftTip=!0),t=e.$refs.rightTableCol.$el.clientWidth,n=e.$refs.rightTableCol.$el.scrollWidth,n>t&&(e.isRightTip=!0)}))},leftColumnChange:function(){for(var e=0,t=0;t<this.leftTableColArr.length;t++)this.leftTableColArr[t].checked&&e++;if(e===this.leftTableColArr.length?this.leftSelectAll=!0:this.leftSelectAll&&(this.leftSelectAll=!1),this.leftMainTableChecked){for(var n=[],i=0;i<this.leftTableColArr.length;i++)this.leftTableColArr[i].checked&&n.push({nodeId:this.leftTablePreNodeId,value:this.leftTableColArr[i].colName,nullNodeId:this.leftTableNodeId});this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(n,!0)}},rightColumnChange:function(){for(var e=0,t=0;t<this.rightTableColArr.length;t++)this.rightTableColArr[t].checked&&e++;if(e===this.rightTableColArr.length?this.rightSelectAll=!0:this.rightSelectAll&&(this.rightSelectAll=!1),this.rightMainTableChecked){for(var n=[],i=0;i<this.rightTableColArr.length;i++)this.rightTableColArr[i].checked&&n.push({nodeId:this.rightTablePreNodeId,value:this.rightTableColArr[i].colName,nullNodeId:this.rightTableNodeId});this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(n,!0)}},leftMainTableChange:function(e){var t=[];if(e){this.rightMainTableChecked=!1;for(var n=0;n<this.leftTableColArr.length;n++)this.leftTableColArr[n].checked&&t.push({nodeId:this.leftTablePreNodeId,value:this.leftTableColArr[n].colName,nullNodeId:this.leftTableNodeId})}else{this.rightMainTableChecked=!0;for(var i=0;i<this.rightTableColArr.length;i++)this.rightTableColArr[i].checked&&t.push({nodeId:this.rightTablePreNodeId,value:this.rightTableColArr[i].colName,nullNodeId:this.rightTableNodeId})}this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(t,!0)},rightMainTableChange:function(e){var t=[];if(e){this.leftMainTableChecked=!1;for(var n=0;n<this.rightTableColArr.length;n++)this.rightTableColArr[n].checked&&t.push({nodeId:this.rightTablePreNodeId,value:this.rightTableColArr[n].colName,nullNodeId:this.rightTableNodeId})}else{this.leftMainTableChecked=!0;for(var i=0;i<this.leftTableColArr.length;i++)this.leftTableColArr[i].checked&&t.push({nodeId:this.leftTablePreNodeId,value:this.leftTableColArr[i].colName,nullNodeId:this.leftTableNodeId})}this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(t,!0)},leftSelectAllChange:function(e){if(Array.from(this.leftTableColArr,(function(t){return t.checked=e})),this.leftMainTableChecked)if(e){for(var t=[],n=0;n<this.leftTableColArr.length;n++)this.leftTableColArr[n].checked&&t.push({nodeId:this.leftTablePreNodeId,value:this.leftTableColArr[n].colName,nullNodeId:this.leftTableNodeId});this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(t,!0)}else this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(null,!0)},rightSelectAllChange:function(e){if(Array.from(this.rightTableColArr,(function(t){return t.checked=e})),this.rightMainTableChecked)if(e){for(var t=[],n=0;n<this.rightTableColArr.length;n++)this.rightTableColArr[n].checked&&t.push({nodeId:this.rightTablePreNodeId,value:this.rightTableColArr[n].colName,nullNodeId:this.rightTableNodeId});this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(t,!0)}else this.$parent.$parent.$parent.$refs.outputColumnVueRef.re_checkbox(null,!0)},saveSetting:function(){var e={nodeId:this.leftTableNodeId,nodeName:this.leftTableName,columnSetArr:[],mainTable:!1,selectAll:this.leftSelectAll,preNodeId:this.leftTablePreNodeId},t={nodeId:this.rightTableNodeId,nodeName:this.rightTableName,columnSetArr:[],mainTable:!1,selectAll:this.rightSelectAll,preNodeId:this.rightTablePreNodeId};this.leftMainTableChecked?e.mainTable=!0:t.mainTable=!0;var n=this,i=this.$refs.leftElTable.$refs.bodyWrapper.children[0].children[1].children;"undefined"!==typeof i&&i.length>0&&$.each(i,(function(t){var i=parseInt($(this).find("td:eq(1)>div>div").html())-1,a=t,r=n.leftTableColArr[i].colName,o=n.leftTableColArr[i].checked;e.columnSetArr.push({id:a,name:r,checked:o})}));var a=this.$refs.rightElTable.$refs.bodyWrapper.children[0].children[1].children;"undefined"!==typeof a&&a.length>0&&$.each(a,(function(e){var i=parseInt($(this).find("td:eq(1)>div>div").html())-1,a=e,r=n.rightTableColArr[i].colName,o=n.rightTableColArr[i].checked;t.columnSetArr.push({id:a,name:r,checked:o})})),this.nodeData.setting.left_data=e,this.nodeData.setting.right_data=t,this.nodeData.setting.conn_type=this.conn_type},inputVerify:function(){var e=0,t=!0,n=this.$refs.leftElTable.$refs.bodyWrapper.children[0].children[1].children,i=this.$refs.rightElTable.$refs.bodyWrapper.children[0].children[1].children,a=this;return"undefined"!==typeof n&&"undefined"!==typeof i&&($.each(n,(function(e){var n=parseInt($(this).find("td:eq(1)>div>div").html())-1;if(a.leftTableColArr[n].checked){var r=parseInt($(i[e]).find("td:eq(1)>div>div").html())-1,o=a.rightTableColArr[r];if("undefined"===typeof o||!a.rightTableColArr[r].checked)return t=!1,!1}})),this.leftMainTableChecked?e=this.leftTableColArr.findIndex((function(e){return!0===e.checked})):(e=this.rightTableColArr.findIndex((function(e){return!0===e.checked})),$.each(i,(function(e){var i=parseInt($(this).find("td:eq(1)>div>div").html())-1;if(a.rightTableColArr[i].checked){var r=parseInt($(n[e]).find("td:eq(0)>div>div").html())-1,o=a.rightTableColArr[r];if("undefined"===typeof o||!a.leftTableColArr[r].checked)return t=!1,!1}})))),e<0?(this.$message({type:"info",message:"请勾选主表的输出字段"}),!1):(t||this.$message({type:"info",message:"字段顺序或勾选状态不一致，请修改"}),t)},setConnType:function(e){this.conn_type=e}}};t.default=r},dce8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHKADAAQAAAABAAAAHAAAAABkvfSiAAADfElEQVRIDb1W3UtVQRCfPffWS1bKVRGVqNCyDMkHqR78uFFQvVRoUAlR/QVh5VP1Uk9W0l9QElhBSvbQBxR5Px4yejAky1BKQk3Uq2a+VN67zW89e+6e43fUHTjnzM7OzO/s7OzsCFoGyZGbpSTiR1i1nEjkkaRcZSZoiEgOMh8l6WsT2ec7l3InFlOQsRs1lEhcY4Cti+k5c4I+kWVdEoELLY7Mw8wLKCevb6Jf8h7r7vboL3fYQavFSZF+8YvXYA6gHG2sJDnTyooBr/IKxzES/mqRVRc27VyACoziL0jKVaZSIp6g3g991Pe+l4YHhmn6x7SaTlubRjn5OVSwo5AKtxeQ5bNMM95u8ZvIt98EdQDtML5lC9fK+rp7KfQkRBOx725nnlFGZjpVHaqkguJCzwzFOLxlOrxJwJGG16yZ3DMpKfI8Qm9C+AeizLwiKqmopY3FVbQukK9kU7EB6u8OUVekmcYGe5RsV1UZVRyowOrU2H51iOz6PeCVVGVjPPHQ1Ig8Cyswn89PwRNXaWfwNPvwhMw2kDJB79qbqP3+ZYrHZ0iBHqw03XFkrWPI3lkPSH2DEEasDGA1dQ+odO/ZBcFghh+BDnRhA1v4cJGNYalDbZwzJAj2DISVbdjGZ91DrbdqCY+XoAsbUOhpmODLIcYAlmVXEEeObESCYM9Kg2ccucl87npJeOYjhB62E2OTKrNdOlytEFLXEpD6ICSIZ+OVfKkXwqtsWVH7MmzKGZBro0E4ZyBk49+SttW+kn5EnuUUYluqD7VO/aTy8jltq305llz0/c5gBczmkn2La/MZniXXWeRgSunnkzjEq9yiPaBcjf+cIBzqQK4j1tPqW32u2TX2DqbGB5Qobe0az5T4xnuo7jNnArURhAqyEOGg41mI+rvDakr7SurJQWRpNCkgVYgxRrlir+aU4gHUdCWonvlAIVO2rI2i7qEoJ42vzRSi6mcE1qva2Nl+x5xaFo8Sh7qKYg5fLkJXAIEcbegxb3WUpUd3HzulzVtt9Mq8tfXrxyi1NB5X9fToqcPum4O7AZFVX4SQEtoC9bVfuGJQgFGI4aDz1W1XeAHkAuPQQ0eDwXbONWVjOHkrU3k9YWEpv4AVKPqZVLUY9vZxAv3fJmo2aTQaf1XDwz0Isx2GeKUs2sQys3nSDpyk0QLzm7JG2AQF/y9b/T91dqsdtMyEMAAAAABJRU5ErkJggg=="},dd14:function(e,t,n){"use strict";n("18e9")},dd48:function(e,t,n){"use strict";n("ef28")},dd4d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIEAYAAAD9yHLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAACSdJREFUeNrt3VuolOUawPHvXR4yjXZmJ62baK3Ei0JMCIOSDhJ5k1iZQUgXHaCrghBLjIhC6CIM6iYiAoMkQ5MiJKyULoJOFFLRgSTqwoosKEWM1rcvnia2Ebt61sx6Z2b9fjcv39Se9XxD7P96v5n5VmmGVNu2bdueemocXXpprMuWNW3TNu3YWFOa0pSxsXj89NNjnT071pNPrj0/0G/uu6+UUkrZvLn2JP1ieu0BJipCMX9+HN14Y6w33RTr0qWxjoz88T8oTWlK7akBBt/ABaQdb8fb8QsvjBDcc088unZtrDNm1J4PYKro+4DEDuPss+Oos3W8+eZYi70EQCV9F5AIRicMd90V60MPxdp5jwKA2vomIHFp6owz4k3uZ5+NS1QrVtSeC4C/Vj0gEY7R0QjGK6/Eo51PRwHQr6oFJMKxdGmE49VX49G5c2u/IAD8MyMTf4p/J8JxwQURjt2741HhABg0k7YDiTfHzzorjjrhmDev9gsAQE7PdyCx45j+e6i2bYt1wYLaJw7AxPT+ElZpSlM2boyD5ctrnzAA3dGzgMQlq4UL42jDhtonCkB39XgH8thjsc6aVftEAeiurgckdh7LlsXR1VfXPkEAeqNHO5B77619YgD0VtcCcvzHdK+5pvaJAdBbXd6BrFsX6/Tqt0gBoLe6HJCVK2ufEACTY8IBiUtXc+bEUefNcwCGXZd2IIsXxzpzZu0TAmByTDwgbdM27aJFtU8EgMk18YCUpjRldLT2iQAwubp0CeuUU2qfCACTq0sftz3ppNonAjDo4u7lJ5wQV3Zmz+7tTzt2rJRSSjl8OPsMEw9I27RNO3NmnHBvTxdg+N1xR6ydewn2QNu0Tbt9exysWZN9mkn/i4QADAcBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABIERAAUgQEgBQBASBFQABImV57gMH0zTdN27RNe/BgHP/0U+2JgB4qTWnKgQO1x+g3AvKX3n8/ArFzZxzv2xf/Ab33XimllHLkSO0JAWqb4gE5ejRCsXVrBGLLlgjExx/Xngyg303RgDz/fIRj/foyUkbKyFdf1Z4IYNBMkYB03qO4887YYTz3XO2JAAbdkAfkiy9ip7FyZew0Pv+89kQAw2JIA/Lhh7FecUWE49Ch2hMBDJsh+x5IZ8exYkVcqhIOgF4ZkoAcORLhWL06dhzff197IoBhNyQB2bAhwrF/f+1JAKaKwQ1I27RN++67cfDEE7XHAZhqBjcgpSlN2bQp3usYH689DsBUM6AB2b8/wrF7d+1JAKaqAf0Y79NP155gotq2bdv22mvjaNOm2vMAf+fxx+MX12eeqT1JvxjQgOzaVXuC7jjttFgvuqj2JMDfmT+/9gT9ZnAuYbVN27Rffhm/AbitMkBtgxOQ0pSmdL5hDkBtgxOQpmma5rPPak8AQBiwgPz4Y+0JAAgDFpCjR2tPAEAYsIDMnl17AgDC4ASkbdqm7XzsFYDaBicgpSlNOf/82mMAEAYnIE3TNM2SJbUnACAMWEAWLIhbgCxaVHsSgKluQG9lcsMNsT74YO1JJubAgXhvZ/v22pMA/0dpSlM++aT2GP1m4gEpTWnK4cOTO/Ytt8RO5OGH49Ymv/02uT9/4mLu11+Po84KMDi6dAnr558nd+xzz4117drJ/bkAdEw8IG3TNu1339UZ/4EHYicya1adnw8wdU08IFWvDY6ORsDuv7/OzweYurp0Ceujj6qdQWlKU9avj53IlVdWmwNgiulSQD79NNZvv61zGtOmxU5k27YIycKFdeYAmDomHJD4NFHbxtGePdXOpDSlKZ1bnezZ04634+346Gi1eQCGXJe/SLhjR+0TCuecE+tbb8WO5JJLak8EMGy6F5C2aZv2pZfioNansv7HcTuSvXsjJBs2xDoyYN/AB+g/Xfs/0jJSRsrIr7/G0VNP1T6x482YEevmzbG+805c4rrsstqTAQyqHv0m/uijsU72Fwz/qSVLYoeyb1/sSDo7lFWrIiwzZ9aeEKDfdT0g8ab6Dz/EUSck/W758lh37oywHDwYQdm6NYJy661xvHhxrHPm1J4YoLbSqyc+/hviH3wQ67B9vLbzN9p/+SXeA+pcwgNIKE1pyn/+Ewfz5vXs5/x+E9d462HNmuzT9OxuvLETOXo0foO/7bZ4Yd54I/7ptGk9e2Em1dy5f6ylKb3LMUD/6fmnkaJwb74ZRxs31j5hALpjkj/O+sgjsW7bVvvEAZiYSQvIH99Yb5u2adeti0dffrn2CwBAzqR/oe7474t0/rLgiy/WfiEA+HeqfSO78yZ7HF1/faxbttR+QQD4Z6rf0qPzJ2ljvfvuePS662I9dKj2fAD8teoB+bMIyY4d8V7J4sXx6M6dtecC4Hh9F5COeK/k668jKKtXx6NXXRXr22/Xng9gquvbgPxZhOS112K9+OJ49PLLY921K9Zjx2rPCTBVDExA/ixCsndvrKtWxaPz58elr9tvj+MXXoi1D24vDzBkhv7mG3FPrlIiLOedF7ccGRuL47GxOD7zzPi3OzdJPPHE2nMD9NZ778Uv4E8+mX2G/wJiqyf5DDz/PQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0xMi0xNFQxMDozNjozNSswODowMF4oKxoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMTItMTRUMTA6MzY6MzUrMDg6MDAvdZOmAAAAUnRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl80NHdrNDFwOHlzL2ljLW5vcm1hbC1wZWl4dW4uc3ZnbHb3DQAAAABJRU5ErkJggg=="},dd68:function(t,n,i){"use strict";var a=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(n,"__esModule",{value:!0}),n.init=f,n.indexOfJoin=g,n.changeCopare=C,n.changeType=k,n.amplify=S,n.reduce=T,n.saveNodeInfo=N,n.sendVueObj=void 0,i("7514"),i("20d6"),i("7f7f");var r=a(i("9523"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=null,u=null,c=null,d=-1,h=function(e){l=e,c=e.graph,u=c.nodeData[c.curCell.id],e.layeX,d=e.layeY};function f(){window.goSamples&&goSamples();var e=go.GraphObject.make;l.myDiagram=e(go.Diagram,"myDiagramDiv",{validCycle:go.Diagram.CycleNotDirected,ModelChanged:function(e){e.isTransactionFinished},"undoManager.isEnabled":!0,click:function(){}});var t=e(go.Panel,"TableRow",new go.Binding("portId","name"),{background:"transparent",fromSpot:go.Spot.LeftRightSides,toSpot:go.Spot.LeftRightSides,fromLinkable:!0,toLinkable:!0},e(go.TextBlock,{margin:new go.Margin(0,2),column:1,font:"bold 13px sans-serif",width:150},new go.Binding("text","name")));function n(){for(var e=[],t=l.myDiagram.nodes;t.next();){var n=t.value,i=n.findObject("TABLE");if(i)for(var a=i.elements;a.next();){var r=a.value;"transparent"!==r.background&&e.push(r)}}return e}l.myDiagram.nodeTemplate=e(go.Node,"Auto",new go.Binding("location","loc",go.Point.parse).makeTwoWay(go.Point.stringify),e(go.Shape,{fill:"#EEEEEE"}),e(go.Panel,"Vertical",e(go.Panel,"Auto",{stretch:go.GraphObject.Horizontal},e(go.Shape,{fill:"#3d80c4",stroke:null}),e(go.TextBlock,{alignment:go.Spot.Center,margin:3,stroke:"white",textAlign:"center",font:"bold 12pt sans-serif"},new go.Binding("text","chineseName"))),e(go.Panel,"Table",{name:"TABLE",padding:2,minSize:new go.Size(100,10),defaultStretch:go.GraphObject.Horizontal,itemTemplate:t},new go.Binding("itemArray","fields"))),{click:function(){}}),l.myDiagram.linkTemplate=e(go.Link,{relinkableFrom:!0,relinkableTo:!0,toShortLength:4},e(go.Shape,{strokeWidth:1.5}),{click:function(e,t){try{var n=t.data,i=n.from,a=n.to,r=g(i),o=g(a),s=Math.max(r,o),u="";for(r=0;r<l.join[s].on.length;r++){var c=l.join[s].on[r];(n.fromPort===c.fromPort&&n.toPort===c.toPort||n.fromPort===c.toPort&&n.toPort===c.fromPort)&&(u=c.compare)}l.comper=u,l.mainPort=n.fromPort,l.toPort=n.toPort,l.from=n.from,l.to=n.to,l.showJoinArea=!0,v(n)}catch(e){}}}),l.myDiagram.model=e(go.GraphLinksModel,{copiesArrays:!0,copiesArrayObjects:!0,linkFromPortIdProperty:"fromPort",linkToPortIdProperty:"toPort",nodeDataArray:[],linkDataArray:[]}),l.myDiagram.commandHandler.canDeleteSelection=function(){return go.CommandHandler.prototype.canDeleteSelection.call(l.myDiagram.commandHandler)||n().length>0},l.myDiagram.commandHandler.deleteSelection=function(){go.CommandHandler.prototype.deleteSelection.call(l.myDiagram.commandHandler)},l.myDiagram.commandHandler.doKeyDown=function(){var e=l.myDiagram.lastInput,t=e.control||e.meta,n=e.key;(!t||"X"!==n&&"C"!==n&&"V"!==n&&"Z"!==n&&"Y"!==n)&&go.CommandHandler.prototype.doKeyDown.call(this)},l.myDiagram.addModelChangedListener((function(e){if(e.isTransactionFinished){var t=e.object;null!==t&&t.changes.each((function(e){if(e.change===go.ChangedEvent.Property){if("linkFromKey"===e.modelChange||"linkToKey"===e.modelChange||"linkToPortId"===e.modelChange||"linkFromPortId"===e.modelChange){var t=s(s({},{}),e.object),n=s(s({},{}),e.object);switch(e.modelChange){case"linkFromKey":t.from=e.oldValue,n.from=e.newValue;break;case"linkToKey":t.to=e.oldValue,n.to=e.newValue;break;case"linkToPortId":t.toPort=e.oldValue,n.toPort=e.newValue;break;case"linkFromPortId":t.fromPort=e.oldValue,n.fromPort=e.newValue;break}for(var i=Math.max(g(t.from),g(t.to)),a=-1,r=0;r<l.join[i].on.length;r++)if(l.join[i].on[r].fromPort===t.fromPort&&l.join[i].on[r].toPort===t.toPort){a=r;break}l.join[i].on.splice(a,1),0===l.join[i].on.length&&(l.join[i].type=",",delete l.join[i].on),i=Math.max(g(n.from),g(n.to)),","===l.join[i].type&&(l.join[i].type="INNER JOIN"),l.join[i].on||(l.join[i].on=[]),l.join[i].on.push({from:n.from,to:n.to,fromPort:n.fromPort,toPort:n.toPort,compare:"="}),l.comper="=",l.mainPort=n.fromPort,l.toPort=n.toPort,l.from=n.from,l.to=n.to,v(n),l.showJoinArea=!0}}else if(e.change===go.ChangedEvent.Insert&&"linkDataArray"===e.modelChange)p(e.newValue,!0);else if(e.change===go.ChangedEvent.Remove&&"linkDataArray"===e.modelChange){for(var o=g(e.oldValue.from),u=g(e.oldValue.to),c=Math.max(o,u),d=-1,h=0;h<l.join[c].on.length;h++)if(l.join[c].on[h].fromPort===e.oldValue.fromPort&&l.join[c].on[h].toPort===e.oldValue.toPort){d=h;break}l.join[c].on.splice(d,1);try{0===l.join[c].on.length&&(l.join[c].type=",",delete l.join[idxold].on)}catch(e){}l.showTableJoin=!1,l.showJoinArea=!1}else e.change===go.ChangedEvent.Remove&&"nodeDataArray"===e.modelChange?(l.join.splice(l.join.indexOf(e.oldValue),1),y.splice(y.indexOf(e.oldValue.chineseName),1),b.splice(b.indexOf(e.oldValue.key),1),l.showTableJoin=!1,l.showJoinArea=!1):e.change===go.ChangedEvent.Insert&&"nodeDataArray"===e.modelChange&&m(e.newValue,!0)}))}}));var i=u.isSet;if(i){if(u.setting.join&&(l.join=u.setting.join),u.setting.sqlEdit){var a=u.columnsInfo,r=JSON.parse(u.setting.sqlEdit);l.myDiagram.model=go.Model.fromJson(u.setting.sqlEdit);for(var o=r.nodeDataArray,h=r.linkDataArray,f=0;f<o.length;f++)m(o[f],!1);for(var w=0;w<h.length;w++)p(h[w],!1);for(var x=0;x<a.length;x++){var C=x,k=a[x].resourceTableName,S=a[x].rtn,T=a[x],N=a[x].columnName,I=a[x].newColumnName,D=!0;0===a[x].isOutputColumn&&(D=!1,l.checkAll&&(l.checkAll=!1)),l.items.push({id:C,rtn:S,columnInfo:T,columnName:N,disColumnName:I,resourceTableName:k,checked:D})}}}else{for(var P=c.curCell.getSourceNodes(),L=document.getElementById("myDiagramDiv"),O=L.getBoundingClientRect().height,M=0-O/2,E=[],R=0,j=0;j<P.length;j++){var B=P[j].id,_=c.nodeData[B].nodeInfo.optType,V=c.nodeData[B].isSet,F='"'+c.nodeData[B].nodeInfo.nodeName+'"',U=c.nodeData[B].nodeInfo.resultTableName,q=c.nodeData[B].columnsInfo;if("newNullNode"===_&&!V){var z=c.nodeData[B].parentIds,Q=c.nodeData[z[0]];U=Q.nodeInfo.resultTableName,F='"'+Q.nodeInfo.nodeName+'"_'+F,q=Q.columnsInfo}for(var $="".concat(100*j," ").concat(d).concat(M),H={key:U,tableName:U,nodeId:B,chineseName:P[j].value,type:"INNER JOIN",loc:$},G=[],Y=0;Y<q.length;Y++)if(1===q[Y].isOutputColumn){var W={};W.name=q[Y].newColumnName,W.color="#FFFFFF",W.hidden=!0,W.alias=q[Y].newColumnName,G.push(W)}H.fields=G,A(H);for(var K=0;K<q.length;K++)if(1===q[K].isOutputColumn){E.push(q[K]);var J=R,X=q[K],Z=q[K].newColumnName,ee=q[K].newColumnName,te=!1;l.items.push({id:J,rtn:F,columnInfo:X,columnName:Z,disColumnName:ee,resourceTableName:U,checked:te}),R++}}u.columnsInfo=JSON.parse(JSON.stringify(E))}}function p(e,t){var n=Math.max(g(e.from),g(e.to));","===l.join[n].type&&(l.join[n].type="INNER JOIN"),l.join[n].on||(l.join[n].on=[]),t&&l.join[n].on.push({from:e.from,to:e.to,fromPort:e.fromPort,toPort:e.toPort,compare:"="}),l.comper="=",l.mainPort=e.fromPort,l.toPort=e.toPort,l.from=e.from,l.to=e.to,l.showJoinArea=!0,v(e)}function m(e,t){t&&l.join.push(e),l.showJoinArea=!1}function g(e){for(var t=-1,n=0;n<l.join.length;n++)if(l.join[n].key===e||l.join[n].chineseName===e){t=n;break}return t}function v(t){try{if(l.join.length>0){for(var n=0;n<l.join.length;n++){var i=l.join[n];if("undefined"!==typeof t&&(t.from===i.key||t.to===i.key)||"undefined"===typeof t){if(!l.joinShow){l.mainTableName=i.chineseName,l.joinShow=!0;continue}l.joinType=i.type,l.slaverTableName=i.chineseName,k(),l.joinShow=!1}}l.showTableJoin=!0}}catch(e){}}n.sendVueObj=h;var y=[],b=[];function A(e){if(e.key=x(),"ml**"===e.key)return alertMsg("添加失败","表不允许添加超过26个","error"),!1;e.chineseName=w(e.chineseName),y.push(e.chineseName),b.push(e.key);for(var t=0;t<e.fields.length;t++)e.fields[t].id=e.key+"id"+e.fields[t].name,e.fields[t].fun="jh",e.fields[t].screen="",e.fields[t].condition="",e.fields[t].more="",e.fields[t].key=e.key,e.fields[t].screen=[];l.myDiagram.model.addNodeData(e)}function w(e){var t=0,n=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];while(y.indexOf(e+"_"+n[t])>-1){if(t>=26)return"ml**";t++}return e+"_"+n[t]}function x(){var e=0,t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];while(b.indexOf(t[e])>-1){if(e>=26)return"ml**";e++}return t[e]}function C(e){for(var t=l.from,n=l.to,i=l.mainPort,a=l.toPort,r=Math.max(g(t),g(n)),o=0;o<l.join[r].on.length;o++)l.join[r].on[o].fromPort===i&&l.join[r].on[o].toPort===a&&(l.join[r].on[o].compare=e);v()}function k(){var e=g(l.slaverTableName);l.join[e].type=l.joinType;var t=l.joinTypeArr.findIndex((function(e){return e.value===l.joinType}));t>-1&&(l.joinDescription=l.joinTypeArr[t].description)}function S(){l.showRight=!1,l.myDiagramDivWidth=24,l.$nextTick((function(){l.myDiagram.makeSvg()}))}function T(){l.showRight=!0,l.myDiagramDivWidth=18,l.$nextTick((function(){l.myDiagram.makeSvg()}))}function N(){var e=[],t=JSON.parse(l.myDiagram.model.toJson()),n=t.nodeDataArray,i=l.$refs.outPutTable.$refs.bodyWrapper.children[0].children[1].children;"undefined"!==typeof i&&i.length>0&&$.each(i,(function(){for(var t=parseInt($(this).find("td:eq(0)>div>div").html())-1,i=s(s({},{}),l.items[t].columnInfo),a="",r=l.items[t].resourceTableName,o=l.items[t].rtn,u=0;u<n.length;u++)if(n[u].tableName===r){a=n[u].key;break}l.items[t].checked?(i.tableAlias=a,i.isOutputColumn=1):i.isOutputColumn=0,i.columnName=l.items[t].columnName,i.newColumnName=l.items[t].disColumnName,i.resourceTableName=r,i.rtn=o,e.push(i)})),u.setting.sqlEdit=l.myDiagram.model.toJson(),u.setting.join=l.join,u.columnsInfo=e,l.$refs.basicVueRef.save_base(),u.isSet=!0}},dd9a:function(e,t,n){"use strict";n("ca49")},ddae:function(e,t,n){"use strict";n.r(t);var i=n("a598"),a=n("f759");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("81f0");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"a3606d7e",null);t["default"]=s.exports},ddc0:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("f308")),r=i(n("9c1a")),o=i(n("f6f4")),s=n("76e7"),l={name:"ElTreeNode",componentName:"ElTreeNode",mixins:[o.default],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:a.default,ElCheckbox:r.default,NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,n=t.tree,i=this.node,a=i.data,r=i.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:n.$vnode.context,node:i,data:a,store:r}):n.$scopedSlots.default?n.$scopedSlots.default({node:i,data:a}):e("span",{class:"el-tree-node__label"},[i.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(e){this.handleSelectChange(this.node.checked,e)},"node.checked":function(e){this.handleSelectChange(e,this.node.indeterminate)},"node.expanded":function(e){var t=this;this.$nextTick((function(){return t.expanded=e})),e&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(e){return(0,s.getNodeKey)(this.tree.nodeKey,e.data)},handleSelectChange:function(e,t){this.oldChecked!==e&&this.oldIndeterminate!==t&&this.tree.$emit("check-change",this.node.data,e,t),this.oldChecked=e,this.indeterminate=t},handleClick:function(){var e=this.tree.store;e.setCurrentNode(this.node),this.tree.$emit("current-change",e.currentNode?e.currentNode.data:null,e.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(e){this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(e.stopPropagation(),e.preventDefault()),this.tree.$emit("node-contextmenu",e,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(e,t){var n=this;this.node.setChecked(t.target.checked,!this.tree.checkStrictly),this.$nextTick((function(){var e=n.tree.store;n.tree.$emit("check",n.node.data,{checkedNodes:e.getCheckedNodes(),checkedKeys:e.getCheckedKeys(),halfCheckedNodes:e.getHalfCheckedNodes(),halfCheckedKeys:e.getHalfCheckedKeys()})}))},handleChildNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,n)},handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)}},created:function(){var e=this,t=this.$parent;t.isTree?this.tree=t:this.tree=t.tree;var n=this.tree;n||console.warn("Can not find node's tree.");var i=n.props||{},a=i["children"]||"children";this.$watch("node.data.".concat(a),(function(){e.node.updateChildren()})),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",(function(t){e.node!==t&&e.node.collapse()}))}};t.default=l},dde8:function(e,t){(function(e){var t,n,i,a={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},r={check:{enable:!1,autoCheckTrigger:!1,chkStyle:a.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:a.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}};t=function(e,t){if(!0===t.chkDisabled)return!1;var n=u.getSetting(e.data.treeId),i=n.data.key.checked;return 0==o.apply(n.callback.beforeCheck,[n.treeId,t],!0)||(t[i]=!t[i],l.checkNodeRelation(n,t),i=c(t,s.id.CHECK,n),l.setChkClass(n,i,t),l.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(s.event.CHECK,[e,n.treeId,t])),!0},n=function(e,t){if(!0===t.chkDisabled)return!1;var n=u.getSetting(e.data.treeId),i=c(t,s.id.CHECK,n);return t.check_Focus=!0,l.setChkClass(n,i,t),!0},i=function(e,t){if(!0===t.chkDisabled)return!1;var n=u.getSetting(e.data.treeId),i=c(t,s.id.CHECK,n);return t.check_Focus=!1,l.setChkClass(n,i,t),!0},e.extend(!0,e.fn.zTree.consts,a),e.extend(!0,e.fn.zTree._z,{tools:{},view:{checkNodeRelation:function(e,t){var n,i,a,r=e.data.key.children,o=e.data.key.checked;if(n=s.radio,e.check.chkStyle==n.STYLE){var d=u.getRadioCheckedList(e);if(t[o])if(e.check.radioType==n.TYPE_ALL){for(i=d.length-1;i>=0;i--)n=d[i],n[o]&&n!=t&&(n[o]=!1,d.splice(i,1),l.setChkClass(e,c(n,s.id.CHECK,e),n),n.parentTId!=t.parentTId&&l.repairParentChkClassWithSelf(e,n));d.push(t)}else for(d=t.parentTId?t.getParentNode():u.getRoot(e),i=0,a=d[r].length;i<a;i++)n=d[r][i],n[o]&&n!=t&&(n[o]=!1,l.setChkClass(e,c(n,s.id.CHECK,e),n));else if(e.check.radioType==n.TYPE_ALL)for(i=0,a=d.length;i<a;i++)if(t==d[i]){d.splice(i,1);break}}else t[o]&&(!t[r]||0==t[r].length||e.check.chkboxType.Y.indexOf("s")>-1)&&l.setSonNodeCheckBox(e,t,!0),!t[o]&&(!t[r]||0==t[r].length||e.check.chkboxType.N.indexOf("s")>-1)&&l.setSonNodeCheckBox(e,t,!1),t[o]&&e.check.chkboxType.Y.indexOf("p")>-1&&l.setParentNodeCheckBox(e,t,!0),!t[o]&&e.check.chkboxType.N.indexOf("p")>-1&&l.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var n=e.data.key.checked,i=s.checkbox,a=s.radio,r="";r=!0===t.chkDisabled?i.DISABLED:t.halfCheck?i.PART:e.check.chkStyle==a.STYLE?t.check_Child_State<1?i.FULL:i.PART:t[n]?2===t.check_Child_State||-1===t.check_Child_State?i.FULL:i.PART:t.check_Child_State<1?i.FULL:i.PART,n=e.check.chkStyle+"_"+(t[n]?i.TRUE:i.FALSE)+"_"+r,n=t.check_Focus&&!0!==t.chkDisabled?n+"_"+i.FOCUS:n;return s.className.BUTTON+" "+i.DEFAULT+" "+n},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===s.checkbox.STYLE)for(var n=e.data.key.checked,i=e.data.key.children,a=u.getRoot(e),r=0,o=a[i].length;r<o;r++){var c=a[i][r];!0!==c.nocheck&&!0!==c.chkDisabled&&(c[n]=t),l.setSonNodeCheckBox(e,c,t)}},repairChkClass:function(e,t){if(t&&(u.makeChkFlag(e,t),!0!==t.nocheck)){var n=c(t,s.id.CHECK,e);l.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();l.repairChkClass(e,n),l.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=e.data.key.children;t[n]&&t[n].length>0?l.repairParentChkClass(e,t[n][0]):l.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,i){if(t){var a=e.data.key.children;if(t.chkDisabled!=n&&(t.chkDisabled=n),l.repairChkClass(e,t),t[a]&&i)for(var r=0,o=t[a].length;r<o;r++)l.repairSonChkDisabled(e,t[a][r],n,i)}},repairParentChkDisabled:function(e,t,n,i){t&&(t.chkDisabled!=n&&i&&(t.chkDisabled=n),l.repairChkClass(e,t),l.repairParentChkDisabled(e,t.getParentNode(),n,i))},setChkClass:function(e,t,n){t&&(!0===n.nocheck?t.hide():t.show(),t.attr("class",l.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,i){var a=e.data.key.children,r=e.data.key.checked,o=c(t,s.id.CHECK,e);if(i||(i=t),u.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(t[r]=n,l.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=i&&e.treeObj.trigger(s.event.CHECK,[null,e.treeId,t])),t.parentTId){if(o=!0,!n){a=t.getParentNode()[a];for(var d=0,h=a.length;d<h;d++)if(!0!==a[d].nocheck&&!0!==a[d].chkDisabled&&a[d][r]||(!0===a[d].nocheck||!0===a[d].chkDisabled)&&a[d].check_Child_State>0){o=!1;break}}o&&l.setParentNodeCheckBox(e,t.getParentNode(),n,i)}},setSonNodeCheckBox:function(e,t,n,i){if(t){var a=e.data.key.children,r=e.data.key.checked,o=c(t,s.id.CHECK,e);i||(i=t);var d=!1;if(t[a])for(var h=0,f=t[a].length;h<f;h++){var p=t[a][h];l.setSonNodeCheckBox(e,p,n,i),!0===p.chkDisabled&&(d=!0)}t!=u.getRoot(e)&&!0!==t.chkDisabled&&(d&&!0!==t.nocheck&&u.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(t[r]=n,d||(t.check_Child_State=t[a]&&t[a].length>0?n?2:0:-1)):t.check_Child_State=-1,l.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=i&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(s.event.CHECK,[null,e.treeId,t]))}}},event:{},data:{getRadioCheckedList:function(e){for(var t=u.getRoot(e).radioCheckedList,n=0,i=t.length;n<i;n++)u.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,i--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=e.data.key.checked;return{checked:t[n],half:t.halfCheck?t.halfCheck:e.check.chkStyle==s.radio.STYLE?2===t.check_Child_State:t[n]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,n,i){if(!t)return[];for(var a=e.data.key.children,r=e.data.key.checked,o=n&&e.check.chkStyle==s.radio.STYLE&&e.check.radioType==s.radio.TYPE_ALL,l=(i=i||[],0),c=t.length;l<c;l++){if(!0!==t[l].nocheck&&!0!==t[l].chkDisabled&&t[l][r]==n&&(i.push(t[l]),o))break;if(u.getTreeCheckedNodes(e,t[l][a],n,i),o&&i.length>0)break}return i},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];for(var i=e.data.key.children,a=e.data.key.checked,r=(n=n||[],0),o=t.length;r<o;r++)!0!==t[r].nocheck&&!0!==t[r].chkDisabled&&t[r][a]!=t[r].checkedOld&&n.push(t[r]),u.getTreeChangeCheckedNodes(e,t[r][i],n);return n},makeChkFlag:function(e,t){if(t){var n=e.data.key.children,i=e.data.key.checked,a=-1;if(t[n])for(var r=0,o=t[n].length;r<o;r++){var l=t[n][r],u=-1;if(e.check.chkStyle==s.radio.STYLE){if(u=!0===l.nocheck||!0===l.chkDisabled?l.check_Child_State:!0===l.halfCheck||l[i]||l.check_Child_State>0?2:0,2==u){a=2;break}0==u&&(a=0)}else if(e.check.chkStyle==s.checkbox.STYLE){if(u=!0===l.nocheck||!0===l.chkDisabled?l.check_Child_State:!0===l.halfCheck?1:l[i]?-1===l.check_Child_State||2===l.check_Child_State?2:1:l.check_Child_State>0?1:0,1===u){a=1;break}if(2===u&&a>-1&&r>0&&u!==a){a=1;break}if(2===a&&u>-1&&u<2){a=1;break}u>-1&&(a=u)}}t.check_Child_State=a}}}});e=e.fn.zTree;var o=e._z.tools,s=e.consts,l=e._z.view,u=e._z.data,c=o.$;u.exSetting(r),u.addInitBind((function(e){e.treeObj.bind(s.event.CHECK,(function(t,n,i,a){t.srcEvent=n,o.apply(e.callback.onCheck,[t,i,a])}))})),u.addInitUnBind((function(e){e.treeObj.unbind(s.event.CHECK)})),u.addInitCache((function(){})),u.addInitNode((function(e,t,n,i){n&&(t=e.data.key.checked,"string"==typeof n[t]&&(n[t]=o.eqs(n[t],"true")),n[t]=!!n[t],n.checkedOld=n[t],"string"==typeof n.nocheck&&(n.nocheck=o.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&i&&!!i.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=o.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&i&&!!i.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=o.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return u.getCheckStatus(e,n)},e.check.chkStyle==s.radio.STYLE&&e.check.radioType==s.radio.TYPE_ALL&&n[t]&&u.getRoot(e).radioCheckedList.push(n))})),u.addInitProxy((function(e){var a=e.target,r=u.getSetting(e.data.treeId),l="",c=null,d="",h=null;if(o.eqs(e.type,"mouseover")?r.check.enable&&o.eqs(a.tagName,"span")&&null!==a.getAttribute("treeNode"+s.id.CHECK)&&(l=o.getNodeMainDom(a).id,d="mouseoverCheck"):o.eqs(e.type,"mouseout")?r.check.enable&&o.eqs(a.tagName,"span")&&null!==a.getAttribute("treeNode"+s.id.CHECK)&&(l=o.getNodeMainDom(a).id,d="mouseoutCheck"):o.eqs(e.type,"click")&&r.check.enable&&o.eqs(a.tagName,"span")&&null!==a.getAttribute("treeNode"+s.id.CHECK)&&(l=o.getNodeMainDom(a).id,d="checkNode"),l.length>0)switch(c=u.getNodeCache(r,l),d){case"checkNode":h=t;break;case"mouseoverCheck":h=n;break;case"mouseoutCheck":h=i}return{stop:"checkNode"===d,node:c,nodeEventType:d,nodeEventCallback:h,treeEventType:"",treeEventCallback:null}}),!0),u.addInitRoot((function(e){u.getRoot(e).radioCheckedList=[]})),u.addBeforeA((function(e,t,n){e.check.enable&&(u.makeChkFlag(e,t),n.push("<span ID='",t.tId,s.id.CHECK,"' class='",l.makeChkClass(e,t),"' treeNode",s.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))})),u.addZTreeTools((function(e,t){t.checkNode=function(e,t,n,i){var a=this.setting.data.key.checked;!0===e.chkDisabled||(!0!==t&&!1!==t&&(t=!e[a]),i=!!i,e[a]===t&&!n||i&&0==o.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0)||!o.uCanDo(this.setting)||!this.setting.check.enable||!0===e.nocheck)||(e[a]=t,t=c(e,s.id.CHECK,this.setting),(n||this.setting.check.chkStyle===s.radio.STYLE)&&l.checkNodeRelation(this.setting,e),l.setChkClass(this.setting,t,e),l.repairParentChkClassWithSelf(this.setting,e),i&&this.setting.treeObj.trigger(s.event.CHECK,[null,this.setting.treeId,e]))},t.checkAllNodes=function(e){l.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(e){var t=this.setting.data.key.children;return u.getTreeCheckedNodes(this.setting,u.getRoot(this.setting)[t],!1!==e)},t.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return u.getTreeChangeCheckedNodes(this.setting,u.getRoot(this.setting)[e])},t.setChkDisabled=function(e,t,n,i){t=!!t,n=!!n,l.repairSonChkDisabled(this.setting,e,t,!!i),l.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,i){if(n&&n.apply(t,arguments),e&&this.setting.check.enable&&c(e,this.setting).get(0)&&o.uCanDo(this.setting)){var a=c(e,s.id.CHECK,this.setting);(1==i||this.setting.check.chkStyle===s.radio.STYLE)&&l.checkNodeRelation(this.setting,e),l.setChkClass(this.setting,a,e),l.repairParentChkClassWithSelf(this.setting,e)}}}));var d=l.createNodes;l.createNodes=function(e,t,n,i,a){d&&d.apply(l,arguments),n&&l.repairParentChkClassWithSelf(e,i)};var h=l.removeNode;l.removeNode=function(e,t){var n=t.getParentNode();h&&h.apply(l,arguments),t&&n&&(l.repairChkClass(e,n),l.repairParentChkClass(e,n))};var f=l.appendNodes;l.appendNodes=function(e,t,n,i,a,r,o){var s="";return f&&(s=f.apply(l,arguments)),i&&u.makeChkFlag(e,i),s}})(jQuery)},de24:function(e,t,n){},de4f:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{attrs:{type:"border-card"}},["modelRunResult"===e.useType?n("el-tab-pane",{attrs:{label:"modelRunResult"===e.useType?"主表":"结果1"}},[n("childTabCons",{attrs:{nowtable:e.maintable,"model-uuid":e.modelUuid,useType:e.useType,resultSpiltObjects:e.resultSpiltObjects,projectUuid:e.projectUuid}})],1):e._e(),e._l("modelRunResult"===e.useType?e.helptables:e.preValue,(function(t,i){return n("el-tab-pane",{key:i,attrs:{label:e.tabsName(i)}},[n("childTabCons",{ref:"child",refInFor:!0,attrs:{nowtable:t,prePersonalVal:t,useType:e.useType}})],1)}))],2)},a=[]},de7d:function(e,t,n){},de8f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n("d75c");var i=n("ed08"),a={created:function(){this.setSelectValue()},data:function(){return{form:{paramName:"",dataType:"",inputType:"",example:"",allowNull:"",dataLength:"",shapeType:"",names:[],vals:[],sql:""},dataTypeSelect:[],inputTypeSelect:[],timeUnitSelect:[],map_data_input:{"002001003001":{type:["002001002001","002001002004","002001002002"]},"002001003003":{type:["002001002001","002001002004","002001002002"]},"002001003002":{type:["002001002003"]}},activeName:"first",customStatic:[]}},methods:{setSelectValue:function(){var e=this;(0,i.getDictSonList)("002001001").then((function(t){e.timeUnitSelect=t})),(0,i.getDictSonList)("002001003").then((function(t){e.dataTypeSelect=t}))},changeInputSelect:function(){var e=this;this.inputTypeSelect=[],this.form.inputType="",(0,i.getDictSonList)("002001002").then((function(t){for(var n=e.map_data_input[e.form.dataType].type,i=0;i<t.length;i++)n.indexOf(t[i].codeValue)>-1&&e.inputTypeSelect.push(t[i])}))},plusButton:function(){this.customStatic.push(1)},remove:function(e){this.form.names.splice(e,1),this.form.vals.splice(e,1),this.customStatic.splice(e,1)},openSQLRule:function(){this.$alert("1、SQL语句的格式为：SELECT A,B FROM C\n\n                     2、其中【A】字段为真实值，【B】字段为显示值，若字段过多（或者存在【*】），则默认只使用前两列进行真实值与显示值的匹配","标题名称",{confirmButtonText:"关闭"})}}};t.default=a},decb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{indexUrl:"#"}},created:function(){this.indexUrl="http://66.76.71.132:1089/",console.log(this.indexUrl)}};t.default=i},ded1:function(e,t,n){"use strict";n.r(t);var i=n("64e6"),a=n("af91");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},def2:function(e,t,n){"use strict";n.r(t);var i=n("b4eb"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},def3:function(e,t,n){e.exports=n.p+"static/img/lingdao.53683757.png"},dfdca:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.editorModelLoading,expression:"editorModelLoading"}],staticClass:"app-container"},[n("el-container",{staticClass:"el-container"},[n("div",{ref:"dragDiv",staticClass:"drag",attrs:{id:"drag"}},[n("div",{staticClass:"title"},[n("h2",[e._v("···")]),n("div",{staticStyle:{display:"none"}},[n("a",{staticClass:"min",attrs:{href:"javascript:",title:"最小化"}}),n("a",{staticClass:"max",attrs:{href:"javascript:",title:"最大化"}}),n("a",{staticClass:"revert",attrs:{href:"javascript:",title:"还原"}}),n("a",{staticClass:"close",attrs:{href:"javascript:",title:"关闭"}})])]),n("div",{staticClass:"resizeL"}),n("div",{staticClass:"resizeT"}),n("div",{staticClass:"resizeR"}),n("div",{staticClass:"resizeB"}),n("div",{staticClass:"resizeLT"}),n("div",{staticClass:"resizeTR"}),n("div",{staticClass:"resizeBR"}),n("div",{staticClass:"resizeLB"}),n("div",{staticClass:"content"},[n("el-aside",{staticStyle:{width:"100%"}},[n("el-tree",{ref:"tree",staticClass:"el-tree-rewrite",attrs:{data:e.treeNodeData,props:e.defaultProps,"expand-on-click-node":!1,"default-expand-all":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[e._v(" "+e._s(i.label)+" ")]),"relInfo"==a.type?n("span",[n("el-button",{attrs:{type:"text",title:"添加关联详细",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.createDetail(i,a)}()}}},[n("i",{staticClass:"el-icon-circle-plus-outline"})])],1):e._e(),"filterShow"==a.type?n("span",[n("el-button",{attrs:{type:"text",title:"添加条件显示",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.createFilterShow(i,a)}()}}},[n("i",{staticClass:"el-icon-circle-plus-outline"})])],1):e._e(),"relDetail"==a.type||"filterShowNode"==a.type?n("span",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.deleteFolder(i,a)}}},[n("i",{staticClass:"el-icon-delete"})])],1):e._e()])}}])}),n("div",{staticClass:"custom-tree-caidan "},[n("img",{staticClass:"custom-save",staticStyle:{cursor:"pointer"},attrs:{src:e.imgCus2},on:{click:e.save}}),n("img",{staticClass:"custom-close",staticStyle:{cursor:"pointer"},attrs:{src:e.imgCus1},on:{click:e.closeWinfrom}})]),n("div",{staticClass:"custom-tree-shangla"},[n("img",{staticClass:"custom-shouqi",attrs:{src:e.imgCus3},on:{click:e.customup}}),n("img",{staticClass:"custom-xiala",attrs:{src:e.imgCus3},on:{click:e.customdown}})])],1)],1)]),n("div",{ref:"basicInfo",staticClass:"detail-form"},[n("el-form",{ref:"basicInfoForm",attrs:{model:e.form,rules:e.basicInfoRules,disabled:e.isBanEdit}},[n("el-row",[n("el-col",{attrs:{span:15}},[n("el-form-item",{attrs:{label:"模型名称",prop:"modelName"}},[n("el-input",{model:{value:e.form.modelName,callback:function(t){e.$set(e.form,"modelName",t)},expression:"form.modelName"}})],1)],1)],1),n("el-row",[n("el-form-item",{attrs:{label:"业务分类"}},[n("el-col",{attrs:{span:15}},[n("el-input",{staticClass:"display",attrs:{disabled:!0},model:{value:e.form.modelFolderUuid,callback:function(t){e.$set(e.form,"modelFolderUuid",t)},expression:"form.modelFolderUuid"}}),n("el-input",{attrs:{disabled:!0},model:{value:e.form.modelFolderName,callback:function(t){e.$set(e.form,"modelFolderName",t)},expression:"form.modelFolderName"}})],1),n("el-col",{attrs:{span:2}},[n("el-button",{ref:"businessFolderBtnRef",attrs:{type:"primary"},on:{click:function(t){e.modelFolderTreeDialog=!0}}},[e._v("选择")])],1),n("el-col",{attrs:{span:2}})],1)],1),n("el-row",[n("el-form-item",{attrs:{label:"审计事项",prop:"auditItemUuid"}},[n("el-col",{attrs:{span:15}},[n("el-input",{staticClass:"display",attrs:{disabled:!0},model:{value:e.form.auditItemUuid,callback:function(t){e.$set(e.form,"auditItemUuid",t)},expression:"form.auditItemUuid"}}),n("el-input",{attrs:{disabled:!0},model:{value:e.form.auditItemName,callback:function(t){e.$set(e.form,"auditItemName",t)},expression:"form.auditItemName"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:e.showAuditItemTree}},[e._v("选择")])],1)],1),n("el-row",[n("el-col",{attrs:{span:9}},[n("el-form-item",{attrs:{label:"风险等级",prop:"riskLevelUuid"}},[n("el-select",{staticStyle:{width:"67%"},attrs:{placeholder:"请选择风险等级"},model:{value:e.form.riskLevelUuid,callback:function(t){e.$set(e.form,"riskLevelUuid",t)},expression:"form.riskLevelUuid"}},e._l(e.riskLeve,(function(e){return n("el-option",{key:e.codeValue,attrs:{value:e.codeValue,label:e.codeName}})})),1)],1)],1),n("el-col",{attrs:{span:9}},[n("el-form-item",{attrs:{label:"模型类型",prop:"modelType"}},[n("el-select",{staticStyle:{width:"67%"},attrs:{placeholder:"请选择模型类型"},model:{value:e.form.modelType,callback:function(t){e.$set(e.form,"modelType",t)},expression:"form.modelType"}},e._l(e.modelTypeData,(function(e){return n("el-option",{key:e.codeValue,attrs:{value:e.codeValue,label:e.codeName}})})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:15}},[n("el-form-item",{attrs:{label:"审计思路"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.auditIdeas,callback:function(t){e.$set(e.form,"auditIdeas",t)},expression:"form.auditIdeas"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:15}},[n("el-form-item",{attrs:{label:"参数条件"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.paramConditions,callback:function(t){e.$set(e.form,"paramConditions",t)},expression:"form.paramConditions"}})],1)],1)],1)],1)],1),n("div",{ref:"modelDesign",staticClass:"display div-width"},[n("el-form",{ref:"modelDesignForm",attrs:{model:e.form,rules:e.modelDesignRules,disabled:e.isBanEdit}},[e._l(e.modelTypeObj,(function(t){return n("div",{key:t.id,staticStyle:{width:"100%"},attrs:{value:t.id,label:t.id,id:"graphDiv"}},[t.id==e.sqlEditorStr?n("SQLEditor",{ref:"SQLEditor",refInFor:!0,staticClass:"sql-editor",attrs:{"data-user-id":e.dataUserId,"scene-code1":e.sceneCode,modelUuid:e.form.modelUuid,"sql-editor-param-obj":e.sqlEditorParamObj,"sql-value":e.form.sqlValue,callType:e.editorModel,locationUuid:e.form.locationUuid,locationName:e.form.locationName},on:{getSqlObj:e.getSqlObj}}):e._e(),t.id==e.graphEditorStr?n("graph",{ref:"graph",refInFor:!0,attrs:{graphUuidParam:e.form.graphUuid,openGraphTypeParam:"4",openTypeParam:"2"}}):e._e()],1)})),n("el-form-item",{staticClass:"display",attrs:{label:"模型sql",prop:"sqlValue"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.sqlValue,callback:function(t){e.$set(e.form,"sqlValue",t)},expression:"form.sqlValue"}})],1)],2)],1),n("div",{ref:"paramDefaultValue",staticClass:"display default-value"},[n("div",{staticStyle:{"font-size":"20px"}},[e._v(" 模型参数 "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"拖拽改变参数展示顺序",placement:"top-start"}},[n("i",{staticClass:"el-icon-info"})])],1),n("div",{attrs:{id:"paramList"}},[e.paramShowVIf?n("paramshownew",{ref:"apple"}):e._e()],1)]),n("div",{ref:"modelResultOutputCol",staticClass:"display default-value"},[n("div",{staticStyle:{"font-size":"20px"}},[e._v(" 模型结果 "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"只显示最后的结果列",placement:"top-start"}},[n("i",{staticClass:"el-icon-info"})])],1),n("div",{staticClass:"model-result-output-col"},[n("el-table",{ref:"columnData",staticClass:"div-width",attrs:{data:e.columnData}},[n("el-table-column",{attrs:{prop:"outputColumnName",label:"输出列名",width:"180"}}),n("el-table-column",{attrs:{prop:"dataCoding",label:"数据转码",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("SelectTransCode",{ref:"SelectTransCode",attrs:{transuuid:t.row.dataCoding},on:{"update:transuuid":function(n){return e.$set(t.row,"dataCoding",n)}}})]}}])}),n("el-table-column",{attrs:{prop:"columnName",label:"是否显示",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{placeholder:"是否显示",value:"1",disabled:e.isBanEdit},model:{value:t.row.isShow,callback:function(n){e.$set(t.row,"isShow",n)},expression:"scope.row.isShow"}},[n("el-option",{attrs:{label:"是",value:1}}),n("el-option",{attrs:{label:"否",value:0}})],1)]}}])}),n("el-table-column",{attrs:{prop:"columnName",label:"对应业务字段",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{value:"-1",disabled:e.isBanEdit},model:{value:t.row.businessFieldUuid,callback:function(n){e.$set(t.row,"businessFieldUuid",n)},expression:"scope.row.businessFieldUuid"}},e._l(e.businessColumnSelect,(function(e){return n("el-option",{key:e.attrCode,attrs:{value:e.attrCode,label:e.attrName}})})),1)]}}])}),n("el-table-column",{attrs:{prop:"columnName",label:"别名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{placeholder:"请输入别名",disabled:e.isBanEdit},model:{value:t.row.columnAlias,callback:function(n){e.$set(t.row,"columnAlias",n)},expression:"scope.row.columnAlias"}})]}}])})],1)],1)]),n("div",{ref:"relInfo",staticClass:"display default-value"},[n("p",{staticClass:"words"},[e._v(" 在进行审计分析时，模型执行所生成的结果数据在业务逻辑上可能存着关联关系；而在模型的设计过程中，同样可能需要利用到其他模型的执行结果。因此，为了满足这种模型之间的互相利用、相互辅助的功能需求，系统允许用户对多个模型或sql进行关联。 用户通过本功能来创建并维护模型间的关联关系，以满足多模型联合执行分析的业务需求。 通过模型设计器，用户能够为当前的模型建立与其他可访问模型的关联关系，并将其分析结果引入到当前模型设计中。")])]),n("div",{attrs:{id:"modelDetailDiv"}},e._l(e.modelDetails,(function(t,i){return n("div",{key:t.id,ref:t.id,refInFor:!0,staticClass:"display default-value"},[n("ModelDetail",{ref:"child",refInFor:!0,attrs:{operationtype:e.operationObj.operationType,columns:e.columnData,data:t.data,"tree-id":t.id},on:{updateTreeNode:e.updateTreeNode}})],1)})),0),n("div",{ref:"chartConfig",staticClass:"display default-value"},[e._v(" 这是图表配置 ")]),n("div",{ref:"modelFilterShowParent",staticClass:"display default-value"},[n("p",{staticClass:"words"},[e._v("条件显示能够根据用户所设定的条件及显示样式，对模型执行结果中满足条件的敏感数据或重要数据进行着色显示，使这些数据变的一目了然， 以便审计人员对这些数据进行审计。")]),n("p",{staticClass:"words"},[e._v("条件显示设计器以表格的形式列举所有由用户设定的、将被应用于模型执行结果的显示条件及显示样式，用户可通过该列表对各个条件的属性进行快速查看。 同时用户也可以对显示条件进行添加、修改、删除")])]),n("div",{ref:"filterShowDiv"},e._l(e.filterShows,(function(t,i){return n("div",{key:t.id,ref:t.id,refInFor:!0,staticClass:"display default-value"},[n("ModelFilterShow",{ref:"modelFilterSHowChild",refInFor:!0,attrs:{operationtype:e.operationObj.operationType,columns:e.columnData,data:t.data,"tree-id":t.id},on:{updateTreeNode:e.updateTreeNode}})],1)})),0)]),e.auditItemTree?n("el-dialog",{attrs:{"destroy-on-close":!0,"append-to-body":!0,visible:e.auditItemTree,title:"请选择审计事项",width:"80%"},on:{"update:visible":function(t){e.auditItemTree=t}}},[n("AuditItemTree",{ref:"auditItemTreeRef"}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.getAuditItem}},[e._v("确定")]),n("el-button",{on:{click:function(t){e.auditItemTree=!1}}},[e._v("取消")])],1)],1):e._e(),e.modelFolderTreeDialog?n("el-dialog",{attrs:{visible:e.modelFolderTreeDialog,title:"选择业务分类",width:"50%"},on:{"update:visible":function(t){e.modelFolderTreeDialog=t}}},[n("ModelFolderTree",{ref:"modelFolderTree",attrs:{"public-model":"editorModel"}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.setBusinessFolder}},[e._v("确定")]),n("el-button",{on:{click:function(t){e.modelFolderTreeDialog=!1}}},[e._v("取消")])],1)],1):e._e()],1)},a=[]},dff4:function(e,t,n){"use strict";n("095f")},e069:function(e,t,n){"use strict";n.r(t);var i=n("229e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},e0c9:function(e,t,n){"use strict";n.r(t);var i=n("7ac5"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},e0d1:function(e,t,n){"use strict";n.r(t);var i=n("3e42"),a=n("a6d8");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("12ac");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"9adf441e",null);t["default"]=s.exports},e0f3:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523")),r=i(n("c164")),o=i(n("333d")),s=n("8ebc"),l=i(n("04bf"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"GraphListExport",components:{QueryField:r.default,Pagination:o.default,PreviewGraph:l.default},props:["openType"],data:function(){return{tableKey:"graphTable",listLoading:!0,queryFields:[{label:"图形名称",name:"graphName",type:"fuzzyText",value:""},{label:"执行状态",name:"executeStatus",type:"select",default:"-1",data:[{name:"全部执行",value:1},{name:"部分执行",value:2},{name:"未执行",value:3}]}],pageQuery:{condition:null,pageNo:1,pageSize:20},total:0,dataList:null,initPreviewGraph:!1,graphUuid:""}},mounted:function(){this.getGraphList()},methods:{getGraphList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,s.getExportGrapgListByType)(this.pageQuery,{openType:this.openType}).then((function(e){t.total=e.data.total,t.dataList=e.data.records,t.listLoading=!1}))},detail:function(e){this.graphUuid=e,this.initPreviewGraph=!0},getChooseGraphs:function(){var e=!1,t="",n=this.$refs.graphListTable.selection;if(0===n.length)return e=!0,t="请至少选择一个图形",{isError:e,message:t};var i=this.getUuidsANdNames(n);return{isError:e,message:t,graphObj:i}},getChooseGraph:function(){var e=!1,t="",n=this.$refs.graphListTable.selection;return 1!==n.length?(e=!0,t="请至少选择一个图形",{isError:e,message:t}):c({isError:e,message:t},n[0])},getUuidsANdNames:function(e){for(var t="",n="",i=0;i<e.length;i++){var a=e[i].graphUuid,r=e[i].graphName;""===t?(t=a,n=r):(t="".concat(t,",").concat(a),n="".concat(n,"、").concat(r))}return{graphUuids:t,graphNames:n}},graphTypeFormatter:function(e,t){var n="";return 1===e.graphType?n="个人图形":3===e.graphType&&(n=1===e.publicType?"场景查询图形":"个人场景查询图形"),n},stasusFormatter:function(e,t){var n=e.executeStatus,i="";switch(n){case 1:i="全部执行";break;case 2:i="部分执行";break;case 3:i="未执行";break}return i},dateFormatter:function(e,t){var n=e.createTime,i="";if(n&&n.trim().length>0){var a=new Date(n),r=a.getFullYear(),o=this.convertData(a.getMonth()+1),s=this.convertData(a.getDate()),l=this.convertData(a.getHours()),u=this.convertData(a.getMinutes()),c=this.convertData(a.getSeconds());i=r+"-"+o+"-"+s+" "+l+":"+u+":"+c}return i},convertData:function(e){return e<10&&(e="0".concat(e)),e}}};t.default=d},e13c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAABQAAAABtFL/jAAAAcklEQVQIHWN08Q6e+f8/QxoDFsDIyDCLSZCLKZeRkfE4ujxIDCwHknAPipH8++P72f8MDJIgPiMDw3NmDk7jneuWPAeyIcDZJ9SS8f//AyDef0ZGh71bVoNNZYZIMzDcv3XtiZKa9iug/u17t67eCBMHABuqIYL+RIpSAAAAAElFTkSuQmCC"},e1b5:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("dbce")),r={path:"/etlscheduler",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b574"))}))},name:"Etlscheduler",meta:{},children:[{path:"datasource",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("9d85d"))}))},name:"datasource",meta:{title:"datasource"}},{path:"resources",name:"Resources",meta:{title:"resources"}},{path:"paramfield",name:"paramfield",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("e547"))}))},meta:{title:"paramfield"}},{path:"dataresource",name:"dataresource",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("c05e"))}))},meta:{title:"dataresource"}},{path:"processschedule",name:"processschedule",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("2d83b"))}))},meta:{title:"processschedule"}},{path:"taskinstance",name:"taskinstance",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("9e66"))}))},meta:{title:"taskinstance"}},{path:"workflow",name:"workflow",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("c459"))}))},meta:{title:"workflow"}},{path:"processdefinition",name:"processdefinition",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("40ab"))}))},meta:{title:"processdefinition"}},{path:"taskmonitor",name:"taskmonitor",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("22f9"))}))},meta:{title:"taskmonitor"}},{path:"servermonitor",name:"servermonitor",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("94a4"))}))},meta:{title:"servermonitor"}},{path:"dbmonitor",name:"dbmonitor",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("ccc9"))}))},meta:{title:"dbmonitor"}},{path:"processinstance",name:"processinstance",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("92e2"))}))},meta:{title:"processinstance"}},{path:"taskinstance",name:"taskinstance",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("9e66"))}))},meta:{title:"taskinstance"}},{path:"resourcestatistics",name:"resourcestatistics",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("7b07"))}))},meta:{title:"resourcestatistics"}},{path:"etlconfigure",name:"etlconfigure",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b015"))}))},meta:{title:"etlconfigure"}},{path:"definition/:id/:status",name:"projectsdefinitiondetails",component:function(e){return n.e("chunk-a483da8c").then(function(){var t=[n("8415")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"流程定义详情"}},{path:"instance/:id/:status",name:"instancedetails",component:function(e){return n.e("chunk-0e7ee92e").then(function(){var t=[n("329b")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"流程实例详情"}},{path:"resourcemonitor",name:"datafile",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("3a94"))}))},meta:{title:"datafile"}},{path:"fileresource",name:"fileresource",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("db93"))}))},meta:{title:"fileresource"}},{path:"filedirectory",name:"filedirectory",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("202c"))}))},meta:{title:"filedirectory"}},{path:"/resource/file/create",name:"resource-file-create",component:function(e){return n.e("chunk-5f79f142").then(function(){var t=[n("58e2")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"创建文件"}},{path:"/resource/file/createFolder",name:"resource-file-createFolder",component:function(e){return n.e("chunk-708aa171").then(function(){var t=[n("c0b0")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"创建文件夹"}},{path:"/resource/file/subFileFolder/:id",name:"resource-file-subFileFolder",component:function(e){return n.e("chunk-1c589329").then(function(){var t=[n("c7c3")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"创建资源"}},{path:"/resource/file/subFile/:id",name:"resource-file-subFile",component:function(e){return n.e("chunk-69a84e79").then(function(){var t=[n("f0d99")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"创建资源"}},{path:"/resource/file/list/:id",name:"resource-file-details",component:function(e){return n.e("chunk-39adb067").then(function(){var t=[n("36ff")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"文件详情"}},{path:"/resource/file/subdirectory/:id",name:"resource-file-subdirectory",component:function(e){return n.e("chunk-f6d7ddfa").then(function(){var t=[n("77ea")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"文件管理"}},{path:"/resource/file/edit/:id",name:"resource-file-edit",component:function(e){return n.e("chunk-887748be").then(function(){var t=[n("fd7d")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"文件编辑"}}]},o=r;t.default=o},e1c3:function(e,t,n){"use strict";n.r(t);var i=n("b1af"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},e1cc:function(e,t,n){"use strict";n.r(t);var i=n("b31b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},e1db:function(e,t,n){(function(e){var i,a,r;n("4917");var o=n("7037");(function(s){"object"==o(t)&&"object"==o(e)?s(n("cf87")):(a=[n("cf87")],i=s,r="function"===typeof i?i.apply(t,a):i,void 0===r||(e.exports=r))})((function(e){"use strict";var t=e.Pos;function n(e,t,n){for(var i=n.paragraphStart||e.getHelper(t,"paragraphStart"),a=t.line,r=e.firstLine();a>r;--a){var o=e.getLine(a);if(i&&i.test(o))break;if(!/\S/.test(o)){++a;break}}for(var s=n.paragraphEnd||e.getHelper(t,"paragraphEnd"),l=t.line+1,u=e.lastLine();l<=u;++l){o=e.getLine(l);if(s&&s.test(o)){++l;break}if(!/\S/.test(o))break}return{from:a,to:l}}function i(e,t,n,i,a){var r=t;while(r<e.length&&" "==e.charAt(r))r++;for(;r>0;--r)if(n.test(e.slice(r-1,r+1)))break;if(0==r&&!a)for(r=t+1;r<e.length-1;++r)if(n.test(e.slice(r-1,r+1)))break;for(var o=!0;;o=!1){var s=r;if(i)while(" "==e.charAt(s-1))--s;if(0!=s||!o)return{from:s,to:r};r=t}}function a(n,a,r,o){a=n.clipPos(a),r=n.clipPos(r);var s=o.column||80,l=o.wrapOn||/\s\S|-[^\.\d]/,u=!1!==o.forceBreak,c=!1!==o.killTrailingSpace,d=[],h="",f=a.line,p=n.getRange(a,r,!1);if(!p.length)return null;var m=p[0].match(/^[ \t]*/)[0];m.length>=s&&(s=m.length+1);for(var g=0;g<p.length;++g){var v=p[g],y=h.length,b=0;h&&v&&!l.test(h.charAt(h.length-1)+v.charAt(0))&&(h+=" ",b=1);var A="";if(g&&(A=v.match(/^\s*/)[0],v=v.slice(A.length)),h+=v,g){var w=h.length>s&&m==A&&i(h,s,l,c,u);w&&w.from==y&&w.to==y+b?(h=m+v,++f):d.push({text:[b?" ":""],from:t(f,y),to:t(f+1,A.length)})}while(h.length>s){var x=i(h,s,l,c,u);if(x.from==x.to&&!u)break;d.push({text:["",m],from:t(f,x.from),to:t(f,x.to)}),h=m+h.slice(x.to),++f}}return d.length&&n.operation((function(){for(var t=0;t<d.length;++t){var i=d[t];(i.text||e.cmpPos(i.from,i.to))&&n.replaceRange(i.text,i.from,i.to)}})),d.length?{from:d[0].from,to:e.changeEnd(d[d.length-1])}:null}e.defineExtension("wrapParagraph",(function(e,i){i=i||{},e||(e=this.getCursor());var r=n(this,e,i);return a(this,t(r.from,0),t(r.to-1),i)})),e.commands.wrapLines=function(e){e.operation((function(){for(var i=e.listSelections(),r=e.lastLine()+1,o=i.length-1;o>=0;o--){var s,l=i[o];if(l.empty()){var u=n(e,l.head,{});s={from:t(u.from,0),to:t(u.to-1)}}else s={from:l.from(),to:l.to()};s.to.line>=r||(r=s.from.line,a(e,s.from,s.to,{}))}}))},e.defineExtension("wrapRange",(function(e,t,n){return a(this,e,t,n||{})})),e.defineExtension("wrapParagraphsInRange",(function(e,i,r){r=r||{};for(var o=this,s=[],l=e.line;l<=i.line;){var u=n(o,t(l,0),r);s.push(u),l=u.to}var c=!1;return s.length&&o.operation((function(){for(var e=s.length-1;e>=0;--e)c=c||a(o,t(s[e].from,0),t(s[e].to-1),r)})),c}))}))}).call(this,n("62e4")(e))},e211:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectByLoginUserUuid=o;var a=i(n("b775")),r="/base";function o(){return(0,a.default)({baseURL:r,url:"/userProjectConroller/getProjectByLoginUserUuid",method:"get"})}},e264:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-add-2",use:"icon-icon-add-2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-add-2"><defs><style type="text/css"></style></defs><path d="M779.8 557.7H557.5V780c0 24.6-19.9 44.5-44.5 44.5s-44.5-19.9-44.5-44.5V557.7H246.2c-24.6 0-44.5-19.9-44.5-44.5s19.9-44.5 44.5-44.5h222.3V246.4c0-24.6 19.9-44.5 44.5-44.5s44.5 19.9 44.5 44.5v222.3h222.3c24.6 0 44.5 19.9 44.5 44.5-0.1 24.6-20 44.5-44.5 44.5z" p-id="4168" /><path d="M928 928.2H98v-830h830v830z m-64.8-765.1H162.8v700.3h700.3V163.1z" p-id="4169" /></symbol>'});o.a.add(s);t["default"]=s},e2f0:function(e,t,n){},e342:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("28a5"),__webpack_require__("ac6a"),__webpack_require__("7f7f"),__webpack_require__("55dd");var _systemtask=__webpack_require__("7d21"),_user=__webpack_require__("c24f"),_quickmenu=__webpack_require__("c12b"),_default={data:function(){return{websocket:null,list:{},applications:[],menugroup:[],dialogVisible:!1,isShowInfoBox:!0,otherToolsList:[{name:"工具名称",color:""},{name:"工具名称",color:""},{name:"工具名称",color:""},{name:"工具名称",color:""},{name:"工具名称",color:""},{name:"工具名称",color:""},{name:"工具名称",color:""}],latelyBackList:[{bg:"#514559"},{bg:"#594545"},{bg:"#454659"},{bg:"#455659"},{bg:"#514559"}],latelyUseList:[],latelyPathList:[],latelyImgList:[{name:"审计计划",image:__webpack_require__("0004")},{name:"备选计划",image:__webpack_require__("0004")},{name:"快速通道授权",image:__webpack_require__("7ef0")},{name:"立项申请",image:__webpack_require__("1d45")},{name:"项目执行",image:__webpack_require__("2dfe")},{name:"指标分析",image:__webpack_require__("2dfe")},{name:"作废申请",image:__webpack_require__("0f30")},{name:"整改管理",image:__webpack_require__("9c8e")},{name:"问责管理",image:__webpack_require__("9c8e")},{name:"档案下载申请",image:__webpack_require__("9e52")},{name:"档案下载列表",image:__webpack_require__("9e52")},{name:"调度流程",image:__webpack_require__("3011")},{name:"调度管理",image:__webpack_require__("3011")},{name:"调度监控",image:__webpack_require__("3011")},{name:"调度配置",image:__webpack_require__("3011")},{name:"数据表管理",image:__webpack_require__("7b25")},{name:"数据授权",image:__webpack_require__("7b25")},{name:"数据转码",image:__webpack_require__("7b25")},{name:"数据挖掘",image:__webpack_require__("7b25")},{name:"表关系管理",image:__webpack_require__("b0ef")},{name:"数据资源目录",image:__webpack_require__("7b25")},{name:"主题展示",image:__webpack_require__("3eeb8")},{name:"主题展示配置",image:__webpack_require__("3eeb8")},{name:"阈值管理",image:__webpack_require__("b666")},{name:"审计模型",image:__webpack_require__("020d")},{name:"模型参数",image:__webpack_require__("020d")},{name:"模型结果",image:__webpack_require__("020d")},{name:"线索核实",image:__webpack_require__("6545")},{name:"图形化工具",image:__webpack_require__("3286")},{name:"SQL编辑器",image:__webpack_require__("3286")},{name:"审计预警",image:__webpack_require__("12dd")},{name:"预警结果",image:__webpack_require__("12dd")},{name:"被审计机构",image:__webpack_require__("9fa5")},{name:"领导干部",image:__webpack_require__("def3")},{name:"工程项目",image:__webpack_require__("887a")},{name:"业务产品",image:__webpack_require__("b7b8")},{name:"审计手册",image:__webpack_require__("0004")},{name:"审计手册查询",image:__webpack_require__("0004")},{name:"业务分类",image:__webpack_require__("b7b8")},{name:"问题词条",image:__webpack_require__("12dd")},{name:"培训管理",image:__webpack_require__("dd4d")},{name:"培训查询",image:__webpack_require__("dd4d")},{name:"法律法规",image:__webpack_require__("e653")},{name:"制度依据",image:__webpack_require__("e653")},{name:"基础代码管理",image:__webpack_require__("a542")},{name:"基础数据管理",image:__webpack_require__("a542")},{name:"假期管理",image:__webpack_require__("2138")},{name:"公告管理",image:__webpack_require__("071a8")},{name:"公告查阅",image:__webpack_require__("071a8")},{name:"审计机构管理",image:__webpack_require__("9fa5")},{name:"审计人员管理",image:__webpack_require__("6545")},{name:"审计机构辖区管理",image:__webpack_require__("9fa5")},{name:"被审计机构查询",image:__webpack_require__("9fa5")},{name:"被审计部门查询",image:__webpack_require__("9fa5")},{name:"被审计人员查询",image:__webpack_require__("6545")},{name:"项目阶段管理",image:__webpack_require__("1d45")},{name:"项目阶段结束条件管理",image:__webpack_require__("1d45")},{name:"项目查询权限",image:__webpack_require__("1d45")},{name:"监管常规项目管理",image:__webpack_require__("1d45")},{name:"服务监控",image:__webpack_require__("6598")},{name:"数据源监控",image:__webpack_require__("6598")},{name:"系统操作日志",image:__webpack_require__("f5d6")},{name:"系统异常日志",image:__webpack_require__("f5d6")},{name:"系统帮助维护",image:__webpack_require__("6822")}],latelyInImgList:[],latelyBdInList:[],latelyFastList:[],defaultProps:{children:"children",label:"label",disabled:this.ifFather,checkStrictly:!0},quickRefresh:{top:!0,bottom:!1}}},created:function(){this.init(),this.initWebSocket()},mounted:function mounted(){var _this=this,arry=[],arryV=[];arry=JSON.parse(localStorage.getItem("userid"));for(var i=0;i<arry.length;i++)arryV.push(arry[i].v);arryV.sort((function(e,t){return e-t}));for(var x=1;x<200;x++){for(var Num=eval(arryV[arryV.length-x]),_i=0;_i<arry.length;_i++)if(arry[_i].v===Num&&""!==arry[_i].p&&-1===this.latelyUseList.indexOf(arry[_i].id)){this.latelyPathList.push(arry[_i].p),this.latelyUseList.push(arry[_i].id);for(var c=0;c<this.latelyImgList.length;c++)arry[_i].id===this.latelyImgList[c].name&&this.latelyInImgList.push({image:this.latelyImgList[c].image});break}if(this.latelyUseList.length>=5)break}for(var _i2=0;_i2<this.latelyInImgList.length;_i2++)this.latelyBdInList.push({image:this.latelyInImgList[_i2].image,bg:this.latelyBackList[_i2].bg});(0,_user.getUserRes)().then((function(e){e.data.application.forEach((function(e,t){_this.applications.push({name:e.name,id:e.id})})),e.data.menugroup.forEach((function(e){var t=[];e.menuList.forEach((function(e){t.push({label:e.name,id:e.id,path:_this.getCleanSrc(e.src)})})),_this.menugroup[e.appuuid]||(_this.menugroup[e.appuuid]=[]),_this.menugroup[e.appuuid].push({label:e.name,path:e.navurl,children:t})}))})).catch((function(e){console.error(e)})),(0,_quickmenu.getQuickMenuList)().then((function(e){for(var t=0;t<e.data.length;t++)for(var n=0;n<_this.latelyImgList.length;n++)_this.latelyImgList[n].name===e.data[t].quickMenuName&&_this.latelyFastList.push({id:e.data[t].quickMenuId,name:e.data[t].quickMenuName,path:e.data[t].quickMenuPath,image:_this.latelyImgList[t].image,bg:_this.latelyBackList[t].bg})}))},methods:{theRouting:function(e){this.$router.push({path:this.latelyPathList[e]}),this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:this.latelyUseList[e],path:this.latelyPathList[e]}})},theRoutingIn:function(e){this.$router.push({path:e.path}),this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:e.name,path:e.path}})},init:function(){(0,_systemtask.querySystemTask)().then((function(e){}))},initWebSocket:function(){this.webSocket=this.getWebSocket()},moreTask:function(){this.$router.push({path:"/base/querytask"})},toUrl:function(e){this.$router.push({path:e})},getWebSocket:function(){var e=this.$store.getters.personuuid,t="ws://"+window.location.host+":"+window.location.port+"/websocket?"+e+"systemTask";this.webSocket=new WebSocket(t),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(e){i(e)};var n=function(e){this.list=JSON.parse(e.data).slice(0,5),this.list.forEach((function(e){var t=new Date(e.taskEstimatedTime);e.taskEstimatedTime=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+"-"+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}))},i=n.bind(this);this.webSocket.onclose=function(e){},this.webSocket.onerror=function(e){}},callback:function(){this.$emit("func",!1)},getCleanSrc:function(e){return-1!==e.indexOf("&resUUID")?e=e.split("&resUUID")[0]:-1!==e.indexOf("?resUUID")&&(e=e.split("?resUUID")[0]),e},getCheckedNodes:function(){for(var e=this,t=[],n=0;n<this.$refs.tree1.getCheckedNodes().length;n++)t.push({quickMenuId:this.$refs.tree1.getCheckedNodes()[n].id,quickMenuName:this.$refs.tree1.getCheckedNodes()[n].label,quickMenuPath:this.$refs.tree1.getCheckedNodes()[n].path});for(var i=0;i<this.$refs.tree2.getCheckedNodes().length;i++)t.push({quickMenuId:this.$refs.tree2.getCheckedNodes()[i].id,quickMenuName:this.$refs.tree2.getCheckedNodes()[i].label,quickMenuPath:this.$refs.tree2.getCheckedNodes()[i].path});for(var a=0;a<this.$refs.tree3.getCheckedNodes().length;a++)t.push({quickMenuId:this.$refs.tree3.getCheckedNodes()[a].id,quickMenuName:this.$refs.tree3.getCheckedNodes()[a].label,quickMenuPath:this.$refs.tree3.getCheckedNodes()[a].path});for(var r=0;r<this.$refs.tree4.getCheckedNodes().length;r++)t.push({quickMenuId:this.$refs.tree4.getCheckedNodes()[r].id,quickMenuName:this.$refs.tree4.getCheckedNodes()[r].label,quickMenuPath:this.$refs.tree4.getCheckedNodes()[r].path});t.length>4?this.$message.error("自定义快捷菜单不能超过四个！"):((0,_quickmenu.saveQuickMenuList)(t).then((function(t){0==t.code?(e.latelyFastList=[],(0,_quickmenu.getQuickMenuList)().then((function(t){for(var n=0;n<t.data.length;n++)for(var i=0;i<e.latelyImgList.length;i++)e.latelyImgList[i].name===t.data[n].quickMenuName&&e.latelyFastList.push({id:t.data[n].quickMenuId,name:t.data[n].quickMenuName,path:t.data[n].quickMenuPath,image:e.latelyImgList[n].image,bg:e.latelyBackList[n].bg})}))):e.$message({type:"error",message:"保存失败!"})})),this.dialogVisible=!1)},ifFather:function(e){return!!e.children}}};exports.default=_default},e344:function(e,t,n){"use strict";n.r(t);var i=n("c1f4"),a=n("ea4f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("bc0f");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4c8030f6",null);t["default"]=s.exports},e350:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s,t.onAccessSystem=l,n("6762"),n("2fdb");var a=i(n("4360")),r=n("01dd"),o=n("64dc");function s(e){if(e&&e instanceof Array&&e.length>0){var t=a.default.getters&&a.default.getters.roles,n=e,i=t.some((function(e){return n.includes(e)}));return!!i}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}function l(e,t){var n=JSON.parse(sessionStorage.getItem("sysDict"));null==n&&(0,r.cacheDict)().then((function(e){sessionStorage.setItem("sysDict",JSON.stringify(e.data))})),(0,o.getAllScene)().then((function(e){commit("SET_SCENECODE",e.data[0].sceneCode),commit("SET_SCENENAME",e.data[0].sceneName)}))}},e36d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},e3a5:function(e,t,n){"use strict";n.r(t);var i=n("0b86"),a=n("8e2e");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("e7bd");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"979fcfb6",null);t["default"]=s.exports},e3e7:function(e,t,n){"use strict";n.r(t);var i=n("4c7b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},e437:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAOSklEQVR4Xu2df4hdRxXHz3lZIkVUGiwKbVErTW1FQbTQoohYQSlVEEyqIlZtq8bM3GT91T+sJtsfYH/u5s7sbpr+ShXsLxChLRUt/sYKlf4hYtXYGlGK2tqoUWtl3ztyk912s9n37sy8ue/dN/N9EFrYM2fmfM58Mvuys+8y4QUCINCXAIMNCIBAfwIQBLsDBAYQgCDYHiAAQbAHQCCMAE6QMG4YlQkBCJJJo1FmGAEIEsYNozIhAEEyaTTKDCMAQcK4YVQmBCBIJo1GmWEEIEgYN4zKhAAEyaTRKDOMAAQJ44ZRmRCAIJk0GmWGEYAgYdwwKhMCECSTRqPMMAIQJIwbRmVCAIJk0miUGUYAgoRxw6hMCECQTBqNMsMIQJAwbhiVCQEIkkmjUWYYAQgSxg2jMiEAQTJpNMoMIwBBwrhhVCYEIEgmjUaZYQQgSBg3jMqEAATJpNEoM4wABAnjhlGZEIAgmTQaZYYRgCBh3DAqEwIQJJNGo8wwAhAkjBtGZUIAgmTSaJQZRgCChHHDqEwIQJBMGo0ywwhAkDBuGJUJAQiSSaNRZhgBCBLGDaMyIQBBMmk0ygwjAEHCuE38KK31S0Vk89TU1NNzc3MHJ76ghgqAIA2BbWPa6enpE7rd7tVE9B4ROXPVGg8R0a96vd5X5+fn72/j2se1JggyLvIjnlcp9U5mvoqIzh00NTNfXZbl5SNeXmungyCtbU28hSmltjDzPR4Z7zXGbPWITzYUgiTb2qOFBcixQgSSEBEESViQIeSAJMsEIEiigkSQA5LgBEnTjohyZC8JTpDEHPGU414i2uKIIMv3JBDEcXdMQpinHPcYYy70HJOdJBBkEna+wxo9N/rdxpgPrqT1HJuVJBDEYfO1PcRzgx8jByQZ3F0I0vbdX7M+HzlE5C5r7Yf6pfTJRURZnCQQZIIF8dzQdxpjPlxXrmfO5CWBIHU7pqVf99zIJCIz1trdLuX45E797hYEcdkxLYvx2cCrl96UJL1e772p3gKGIC3b/HXLCZVjJW9DkvzUGPPWurVP4tchyAR1bVg5GpTk78aYEycIpfNSIYgzqvEGxpKjKUk2bNjw2rm5uSfGSyn+7BAkPtPoGX3kEJEfMfPbXRYhIruttTMusVrr6vdJ+l5LEZGzrbU/d8k1STEQpOXd8pGDiL5mjLnIZ4yLJFrru4mo7heoXmaM+WfLcXovD4J4IxvdAJ+NviLHyup8xg6SRGt9FxFdOKhqZn6sLMuzRkdmdDNBkNGx9prJc4PfYa392NoJPHMc9+2WixzVnMw8W5blZ70KnJBgCNLCRvlsbCLab4z5eL8yfHKtPkmUUncy8/MXGgdgenhqauq82dnZZ1uIcuglQZChEcZN4LOh6+QI/XaLmc8gor53tlZXLCLnWWu/F5dCe7JBkPb0wusDFpj59rIsP+G6fE/xnNKKyFZrbfVLV8m+IEhLWuu5gW8zxlzsu3TPOQamz0GOI++vfCEjPj4Bz40bJEfIt1v9Ks1FDggSf697Z/SRg5lvLcvyEu9J1gzwmXPtXDnJAUGG3WlDjvfcqLcYYy4dcsrnh3vOfWRcbnJAkFi7LSCP5wa92RjzyYBpBg5RSv3Q41pK8m/I14OF9yCxd51DvjbIobW+g4g+6rDcLE+OFS4QxGWHRIzxkUNE9llrPxVx+iOpIIc7UQjizmroSB85iOgmY8ynh570+Dfo+5n5Ipe8Ob7nWMsFgrjslAgxbZBDa307ER13Z2u98iDHUSoQJMLmr0vhIwcz7y3LcltdTt+vQw5fYhAkjJjnKB85iGjRGPMZzylqw4uiuE1E+l5oXJ0AJ8exOHGC1G6v8IA2yKG1vpWInO5sQY7jew1Bwvf/wJE+cjDzQlmW22MvBXIMTxSCDM/wuAw+chDRvDFGxV5GURS3iIjThUacHP3pQ5DIO9NTDmuM0ZGXUP2c42YicrqzBTkG04cgEXdnS+TYR0ROd7YgR33zIUg9I6cIHzlExFhrC6fEHkFaa8jhwcslFIK4UKqJ8ZGDiEpjzI4I0x6TQil1EzM7XWjEyeFOH4K4s1o3sg1yaK33EpHTnS3I4ddwCOLHa+3f2luYufrEwdoXM+8py3JnbaBnAOTwBOYZDkE8ga2Ee54cc8aY6cCp+g4rimJRRJwuNOLkCKMPQQK4+cjR1Ieqaa0XiMjpzhbkCGjy8hAI4skOcngCm/BwCOLRQB85iOhGY8znPNI7hRZFMS8iThcacXI4IR0YBEEcGXrKcYMx5vOOqZ3DtNaWiJzubEEOZ6wQZFhULZHDEJHTnS3IMWzHXxiPE6SGpY8cInK9tfYL8dpzNJPWGnLEhuqYD4IMAOUjBxFdZ4z5oiN35zClVMnMThcacXI4Y3UOhCB9UPnIwczXlmV5mTN1x0Ct9R4icrqzBTkcoXqGQZB1gPnIISLXWmshh+fGm5RwCLKmUz5yENGT3W73nIWFhT/GbHhRFHMi4nShESdHTPLH54Igq5h4yrEy8mER+YC19skYrdJazxKR050tyBGD+OAcEGSZT6AcK3R/0u12tywsLPx5mJYVRXGjiDjd2YIcw5B2HwtBqh8uKOV8K7cf2ur55EtLS1v27t37V3f8L0RCjhBqzY/JXpAYcqxq0/d7vd6W+fn5v/m0Tmt9AxE5PSUWJ4cP2eFjsxbEU46niOgkB+QPLS0tbV1cXDzkEFv9EPB6InK6swU5XIjGjclWEB85RORqZv4GEVW/HPV6hxZ857nnntu6b9++fwyKhRwOJMcckqUgPnIQ0VXGmC9XfdJan+UhyYPdbnfrwsLCv9brsVLqOmZ2utCIk2N8lmQniI8czHxlWZZfWd0eT0keWD5J/rMmx7VE5HRnC3KMT45q5uwE0Vo/QkRvqcMuIldaa4+RY2WMpyT3HT58eOv+/fv/W40viuIaEXG6swU56rrU/NezE6QoiqdE5OU1aK8wxuyqef/g8+3Wt6qTZOPGjVcxM+Rofl9HmyErQbTWpxDRwGshzDxTluVuF8KeJ8lviWizS16cHC6URhOTlSBFUbxNRH7cD62IzFhrneQI/HartquQoxbRSAOyEkQp9RFm/no/wsx8aVmWt/h2wPMk6ZsecviSbz4+K0G01pcT0ZUDTpDzrbUPhmAfVhLIEUK9+TFZCVL3zAxmfkNZlr8MxR4qCeQIJd78uNwEeUhEzuuHddOmTS+amZn53zDYlyX5geO1FIIcw9BufmxWgiilHmfm0/pg/Ysx5pXDIldKVf+U+yWXPJDDhdJ4Y7ISRGvdJaJOH+SPGmPePEw7tNbV+5vqfU7tC3LUImpFQDaCbN++/VWdTufgAOr3GWPeF9qVoiiuEJEjd7bqXpCjjlB7vp6NIFrrdxHRd/uhH+ZJs0qpK5gZcrRnX0dbSU6CVJ+EXn0ier/XtDFmzpes1nqGiNa9s7U2F04OX7rjj89GEIdfab3AGPOAT0uKotgtIgPvbK3kgxw+ZNsTm40gSqlvMvP7B3yLtbksywP9vr5r166Nhw4d2tzr9U7tdDon93q9U5gZcrRnLzeykmwE0Vo/SkRv6kfRGMNFUZwuItWFwtOZufr/U4no5OU/rwjpAE6OEGrtGZOTIM8Q0YmjRA85Rkm7mblyEkSaQbh+VsgxStrNzZWFIDt37jyt2+0+3hzGYzNDjlGRbn6eLARRSr2bmb/dPE7C3apRQB7hHFkIorWunsxUPYSm0RdOjkbxjiV5FoL4fFq6bxeY+WkRObj8GIR7fccjvt0EchHkARE5P7AVvUqATqfzeyKqRDjyp7rXVf3XGPOnwLwYNgEEshBEa119YMLpA/pRfUzo6o1f/cDwQK/XOzA/P/+HCegjltgQgVwEqf6J9wAzH9n4IvI7ETkwNTV1YG5u7omG2CJtAgSyECSBPqGEMRGAIGMCj2kngwAEmYw+YZVjIgBBxgQe004GAQgyGX3CKsdEAIKMCTymnQwCEGQy+oRVjolA8oLs2LHjgl6vd4aIvGRMjJOclpkPdzqd3+zZs+f+JAtcLippQbTW1fWQV6fcwBbUVl23eU0L1tHIEpIVRCl1jevDahohm1HS5Yual6VYcpKCTE9Pn7C0tFQ9tvnFKTathTX9e2pq6qTZ2dlnW7i2oZaUpCBKqdcx82NDkcFgLwIicqa19tdegyYgOElBKu5a64eJ6JwJ6EEKS/yZMebcFApZW0OygiilLmZm76dFpdjkpmsSkUustbc2Pc848icrSAVTKfUOZq6eSX72OOBmMOcj1SOtrbXV81CSfCUtyErHtm3b9sYNGzZsSrKDYyqq2+0+s7i4+IsxTT+yabMQZGQ0MVFyBCBIci1FQTEJQJCYNJErOQIQJLmWoqCYBCBITJrIlRwBCJJcS1FQTAIQJCZN5EqOAARJrqUoKCYBCBKTJnIlRwCCJNdSFBSTAASJSRO5kiMAQZJrKQqKSQCCxKSJXMkRgCDJtRQFxSQAQWLSRK7kCECQ5FqKgmISgCAxaSJXcgQgSHItRUExCUCQmDSRKzkCECS5lqKgmAQgSEyayJUcAQiSXEtRUEwCECQmTeRKjgAESa6lKCgmAQgSkyZyJUcAgiTXUhQUkwAEiUkTuZIjAEGSaykKikkAgsSkiVzJEYAgybUUBcUkAEFi0kSu5AhAkORaioJiEoAgMWkiV3IEIEhyLUVBMQlAkJg0kSs5AhAkuZaioJgEIEhMmsiVHAEIklxLUVBMAhAkJk3kSo4ABEmupSgoJgEIEpMmciVHAIIk11IUFJMABIlJE7mSIwBBkmspCopJAILEpIlcyRGAIMm1FAXFJABBYtJEruQIQJDkWoqCYhKAIDFpIldyBCBIci1FQTEJQJCYNJErOQIQJLmWoqCYBCBITJrIlRyB/wOvUlcU94KiSAAAAABJRU5ErkJggg=="},e4df:function(e,t,n){"use strict";n.r(t);var i=n("43cc"),a=n("4be1");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("340c");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"5399f271",null);t["default"]=s.exports},e5aa:function(e,t,n){"use strict";n.r(t);var i=n("d78f"),a=n("61aa");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("944d");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"0ab1887e",null);t["default"]=s.exports},e608:function(e,t,n){"use strict";n.r(t);var i=n("facf"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},e647:function(e,t,n){"use strict";n.r(t);var i=n("19f3"),a=n("271d");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},e653:function(e,t,n){e.exports=n.p+"static/img/falv.5987e5ba.png"},e6b6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"itxst"},[n("el-dialog",{attrs:{title:"查询条件设置",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?n("myQueryBuilder",{ref:"myquerybuilder",attrs:{columns:e.queryData,data:e.queryJson},on:{queryconditionchangetable:e.queryConditionChangeTable}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.queryCondition}},[e._v("查 询")])],1)],1),n("el-row",[n("div",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn export-2",attrs:{disabled:e.modelRunResultBtnIson.exportBtn,type:"primary"},on:{click:e.exportExcel}}),n("el-button",{staticClass:"oper-btn chart",attrs:{disabled:e.modelRunResultBtnIson.chartDisplayBtn,type:"primary"},on:{click:function(t){e.chartShowIsSee=!0}}}),n("el-button",{staticClass:"oper-btn processing",attrs:{disabled:!1,type:"primary",size:"small"},on:{click:e.handleResult}}),n("el-button",{staticClass:"oper-btn link",attrs:{disabled:e.modelRunResultBtnIson.modelDetailAssBtn,type:"primary"},on:{click:e.openModelDetail}})],1)]),e.isSee?n("ag-grid-vue",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"agGridVue",staticClass:"table ag-theme-balham",style:"modelRunResult"==e.useType||"modelPreview"==e.useType?"height:490px":"height:300px",attrs:{"column-defs":e.columnDefs,"row-data":e.rowData,"enable-col-resize":!0,"row-selection":"multiple","get-row-style":this.renderTable,localeText:e.localeText},on:{cellClicked:e.onCellClicked,gridReady:e.onGridReady,rowSelected:e.rowChange,cellEditingStopped:e.agGridUpdateEvent}}):e._e(),e.isSee?e._e():n("el-card",{staticClass:"box-card",staticStyle:{height:"100px"}},[n("div",[e._v(e._s(e.errorMessage))])]),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize,pageSizes:[200,400,800,1e3]},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:function(t){return e.initData(e.nowSql)}}}),n("el-row",[n("el-col",{attrs:{span:22}},[e.modelResultPageIsSee?n("div",[e._v("共"),n("span",{staticClass:"paging-z"},[e._v(e._s(e.rowData.length))]),e._v("条")]):e._e()]),n("el-col",{attrs:{span:2}},[e.modelResultButtonIsShow?n("el-row",{staticStyle:{display:"flex"}},[n("downloadExcel",{staticClass:"thechard-z",attrs:{data:e.tableData,fields:e.json_fields,name:e.excelName}},[n("el-button",{staticClass:"oper-btn export-2",attrs:{type:"primary"},on:{click:e.modelResultExport}})],1),n("el-button",{staticClass:"oper-btn chart",attrs:{type:"primary"},on:{click:function(t){e.chartShowIsSee=!0}}})],1):e._e()],1)],1),n("el-dialog",{attrs:{title:"模型详细关联",visible:e.modelDetailDialogIsShow,width:"30%"},on:{"update:visible":function(t){e.modelDetailDialogIsShow=t}}},[n("div",{attrs:{align:"center"}},[n("el-select",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.modelDetailDialogIsShow=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelDetailCetermine}},[e._v("确 定")])],1)]),e.modelDetailModelResultDialogIsShow?n("el-dialog",{attrs:{title:"模型详细结果",visible:e.modelDetailModelResultDialogIsShow,width:"80%"},on:{"update:visible":function(t){e.modelDetailModelResultDialogIsShow=t}}},[n("childtabscopy",{ref:"childTabsRef",attrs:{"pre-value":e.currentExecuteSQL,"use-type":"sqlEditor"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.modelDetailModelResultDialogIsShow=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.modelDetailModelResultDialogIsShow=!1}}},[e._v("确 定")])],1)],1):e._e(),n("el-dialog",{attrs:{title:"提示",visible:e.chartShowIsSee,width:"90%",fullscreen:!0,"append-to-body":!0},on:{"update:visible":function(t){e.chartShowIsSee=t}}},[e.chartShowIsSee?n("mtEditor",{attrs:{data:e.result}}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.chartShowIsSee=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.chartShowIsSee=!1}}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"请处理",visible:e.handleIdeaDialog,width:"30%","append-to-body":!0},on:{"update:visible":function(t){e.handleIdeaDialog=t}}},[n("div",{ref:"basicInfo"},[n("el-form",{ref:"basicInfoForm"},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"处理状态"}},[n("el-select",{staticStyle:{margin:"5px"},model:{value:e.modelResultHandle.handleState,callback:function(t){e.$set(e.modelResultHandle,"handleState",t)},expression:"modelResultHandle.handleState"}},[n("el-option",{attrs:{value:"待处理"}},[e._v("待处理")]),n("el-option",{attrs:{value:"未处理"}},[e._v("未处理")]),n("el-option",{attrs:{value:"已落实"}},[e._v("已落实")]),n("el-option",{attrs:{value:"不处理"}},[e._v("不处理")])],1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"处理意见"}},[n("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:e.modelResultHandle.handleIdea,callback:function(t){e.$set(e.modelResultHandle,"handleIdea",t)},expression:"modelResultHandle.handleIdea"}})],1)],1)],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.handleIdeaDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateHandleResult()}}},[e._v("确 定")])],1)])],1)},a=[]},e6d4:function(e,t,n){"use strict";n.r(t);var i=n("06f9"),a=n("8754");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("dff4");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4d2244c9",null);t["default"]=s.exports},e6d7:function(e,t,n){"use strict";n("751f7")},e74d:function(e,t,n){(function(e){var i,a,r;n("a481"),n("28a5"),n("8449");var o=n("7037");(function(s){"object"==o(t)&&"object"==o(e)?s(n("cf87")):(a=[n("cf87")],i=s,r="function"===typeof i?i.apply(t,a):i,void 0===r||(e.exports=r))})((function(e){"use strict";var t="CodeMirror-hint",n="CodeMirror-hint-active";function i(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var i={hint:t};if(n)for(var a in n)i[a]=n[a];return e.showHint(i)},e.defineExtension("showHint",(function(t){t=o(this,this.getCursor("start"),t);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var a=0;a<n.length;a++)if(n[a].head.line!=n[a].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var r=this.state.completionActive=new i(this,t);r.options.hint&&(e.signal(this,"startCompletion",this),r.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var a=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=window.cancelAnimationFrame||clearTimeout;function o(e,t,n){var i=e.options.hintOptions,a={};for(var r in p)a[r]=p[r];if(i)for(var r in i)void 0!==i[r]&&(a[r]=i[r]);if(n)for(var r in n)void 0!==n[r]&&(a[r]=n[r]);return a.hint.resolve&&(a.hint=a.hint.resolve(e,t)),a}function s(e){return"string"==typeof e?e:e.text}function l(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},i=/Mac/.test(navigator.platform);i&&(n["Ctrl-P"]=function(){t.moveFocus(-1)},n["Ctrl-N"]=function(){t.moveFocus(1)});var a=e.options.customKeys,r=a?{}:n;function o(e,i){var a;a="string"!=typeof i?function(e){return i(e,t)}:n.hasOwnProperty(i)?n[i]:i,r[e]=a}if(a)for(var s in a)a.hasOwnProperty(s)&&o(s,a[s]);var l=e.options.extraKeys;if(l)for(var s in l)l.hasOwnProperty(s)&&o(s,l[s]);return r}function u(e,t){while(t&&t!=e){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function c(i,a){this.completion=i,this.data=a,this.picked=!1;var r=this,o=i.cm,c=o.getInputField().ownerDocument,d=c.defaultView||c.parentWindow,h=this.hints=c.createElement("ul"),f=i.cm.options.theme;h.className="CodeMirror-hints "+f,this.selectedHint=a.selectedHint||0;for(var p=i.cm.options.hintOptions.tablesTitle,m=a.list,g=0;g<m.length;++g){var v=h.appendChild(c.createElement("li")),y=m[g],b=t+(g!=this.selectedHint?"":" "+n);null!=y.className&&(b=y.className+" "+b),v.className=b,y.render?y.render(v,a,y):v.appendChild(c.createTextNode(y.displayText||s(y))),v.hintId=g;var A=v.appendChild(c.createElement("span"));for(var w in A.className="CodeMirror-nnt",p){if(y=s(y),y&&-1!=y.indexOf(".")){var x=y.split(".");y=x[1]}if(w==y){var C=p[w];A.appendChild(c.createTextNode(s(C)))}}}var k=i.options.container||c.body,S=o.cursorCoords(i.options.alignWithWord?a.from:null),T=S.left,N=S.bottom,I=!0,D=0,P=0;if(k!==c.body){var L=-1!==["absolute","relative","fixed"].indexOf(d.getComputedStyle(k).position),O=L?k:k.offsetParent,M=O.getBoundingClientRect(),E=c.body.getBoundingClientRect();D=M.left-E.left-O.scrollLeft,P=M.top-E.top-O.scrollTop}h.style.left=T-D+"px",h.style.top=N-P+"px";var R=d.innerWidth||Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),j=d.innerHeight||Math.max(c.body.offsetHeight,c.documentElement.offsetHeight);k.appendChild(h);var B=h.getBoundingClientRect(),_=B.bottom-j,V=h.scrollHeight>h.clientHeight+1,F=o.getScrollInfo();if(_>0){var U=B.bottom-B.top,q=S.top-(S.bottom-B.top);if(q-U>0)h.style.top=(N=S.top-U-P)+"px",I=!1;else if(U>j){h.style.height=j-5+"px",h.style.top=(N=S.bottom-B.top-P)+"px";var z=o.getCursor();a.from.ch!=z.ch&&(S=o.cursorCoords(z),h.style.left=(T=S.left-D)+"px",B=h.getBoundingClientRect())}}var Q,$=B.right-R;if($>0&&(B.right-B.left>R&&(h.style.width=R-5+"px",$-=B.right-B.left-R),h.style.left=(T=S.left-$-D)+"px"),V)for(var H=h.firstChild;H;H=H.nextSibling)H.style.paddingRight=o.display.nativeBarWidth+"px";(o.addKeyMap(this.keyMap=l(i,{moveFocus:function(e,t){r.changeActive(r.selectedHint+e,t)},setFocus:function(e){r.changeActive(e)},menuSize:function(){return r.screenAmount()},length:m.length,close:function(){i.close()},pick:function(){r.pick()},data:a})),i.options.closeOnUnfocus)&&(o.on("blur",this.onBlur=function(){Q=setTimeout((function(){i.close()}),100)}),o.on("focus",this.onFocus=function(){clearTimeout(Q)}));return o.on("scroll",this.onScroll=function(){var e=o.getScrollInfo(),t=o.getWrapperElement().getBoundingClientRect(),n=N+F.top-e.top,a=n-(d.pageYOffset||(c.documentElement||c.body).scrollTop);if(I||(a+=h.offsetHeight),a<=t.top||a>=t.bottom)return i.close();h.style.top=n+"px",h.style.left=T+F.left-e.left+"px"}),e.on(h,"dblclick",(function(e){var t=u(h,e.target||e.srcElement);t&&null!=t.hintId&&(r.changeActive(t.hintId),r.pick())})),e.on(h,"click",(function(e){var t=u(h,e.target||e.srcElement);t&&null!=t.hintId&&(r.changeActive(t.hintId),i.options.completeOnSingleClick&&r.pick())})),e.on(h,"mousedown",(function(){setTimeout((function(){o.focus()}),20)})),this.scrollToActive(),e.signal(a,"select",m[this.selectedHint],h.childNodes[this.selectedHint]),!0}function d(e,t){if(!e.somethingSelected())return t;for(var n=[],i=0;i<t.length;i++)t[i].supportsSelection&&n.push(t[i]);return n}function h(e,t,n,i){if(e.async)e(t,i,n);else{var a=e(t,n);a&&a.then?a.then(i):i(a)}}function f(t,n){var i,a=t.getHelpers(n,"hint");if(a.length){var r=function(e,t,n){var i=d(e,a);function r(a){if(a==i.length)return t(null);h(i[a],e,n,(function(e){e&&e.list.length>0?t(e):r(a+1)}))}r(0)};return r.async=!0,r.supportsSelection=!0,r}return(i=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:i})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}i.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var i=t.list[n],a=this;this.cm.operation((function(){i.hint?i.hint(a.cm,t,i):a.cm.replaceRange(s(i),i.from||t.from,i.to||t.to,"complete"),e.signal(t,"pick",i),a.cm.scrollIntoView()})),this.close()},cursorActivity:function(){this.debounce&&(r(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var t=this.cm.getCursor(),n=this.cm.getLine(t.line);if(t.line!=this.startPos.line||n.length-t.ch!=this.startLen-this.startPos.ch||t.ch<e.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(n.charAt(t.ch-1)))this.close();else{var i=this;this.debounce=a((function(){i.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;h(this.options.hint,this.cm,this.options,(function(i){t.tick==n&&t.finishUpdate(i,e)}))}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var i=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(i&&1==t.list.length?this.pick(t,0):(this.widget=new c(this,t),e.signal(t,"shown")))}},c.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,i){if(t>=this.data.list.length?t=i?this.data.list.length-1:0:t<0&&(t=i?0:this.data.list.length-1),this.selectedHint!=t){var a=this.hints.childNodes[this.selectedHint];a&&(a.className=a.className.replace(" "+n,"")),a=this.hints.childNodes[this.selectedHint=t],a.className+=" "+n,this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],a)}},scrollToActive:function(){var e=this.completion.options.scrollMargin||0,t=this.hints.childNodes[Math.max(0,this.selectedHint-e)],n=this.hints.childNodes[Math.min(this.data.list.length-1,this.selectedHint+e)],i=this.hints.firstChild;t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-i.offsetTop:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+i.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:f}),e.registerHelper("hint","fromList",(function(t,n){var i,a=t.getCursor(),r=t.getTokenAt(a),o=e.Pos(a.line,r.start),s=a;r.start<a.ch&&/\w/.test(r.string.charAt(a.ch-r.start-1))?i=r.string.substr(0,a.ch-r.start):(i="",o=a);for(var l=[],u=0;u<n.words.length;u++){var c=n.words[u];c.slice(0,i.length)==i&&l.push(c)}if(l.length)return{list:l,from:o,to:s}})),e.commands.autocomplete=e.showHint;var p={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}))}).call(this,n("62e4")(e))},e74e:function(e,t,n){"use strict";n.r(t);var i=n("3b6b"),a=n("a296");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},e795:function(e,t,n){"use strict";n.r(t);var i=n("decb"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},e799:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6762"),n("2fdb");var a=i(n("4360"));function r(e,t){var n=t.value,i=a.default.getters&&a.default.getters.roles;if(!(n&&n instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(n.length>0){var r=n,o=i.some((function(e){return r.includes(e)}));o||e.parentNode&&e.parentNode.removeChild(e)}}var o={inserted:function(e,t){r(e,t)},update:function(e,t){r(e,t)}};t.default=o},e79c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAABGdBTUEAALGPC/xhBQAAAYRJREFUKBWNUj1LA0EQndm7BBuxUVGwEdFGsciHqLEQtEhnIUJQCCiIrQiWxkOxEfwBAQtF0CIoamWZwlz8FgRthFQKEktBMOZufJuYkAQibjH7due9N7Mf7I/ZlyIyQOXBwizLt2uhLeTOkQuVUwDMnDJ/Be9YPegkk7hK8WORyBcwMApYqFOImrUJ+1ZSwHx0tz48WSRWR5DYH0tvE8kcjLMk0qqqKdUrLQis2nEtQFsJdJHRjD9FASu9KULzupNGNTRdslQouacMOiltVM7iSg8T73OHN5K0OI8aKWY6r+T8G7Mvlp7xKL6/tAaf/PEbj7zkZhsMObatULbWJWDZUXFoTDG5O3nXWRy1xJTXrwMcOp4jDtcK9Np1aEJIongnMomV+eGkd7Gvr/1U2r0Q1x+mTuFqRxC7cUtnXUbTVGKh97u+BKzi4wIwv0GcBPo0DM/GtRXMBC077LqyJGilYCLSj7kFlfhZV4GgDRsR/KOckHMInMEZ+iAYR54LIgSYX/0AoKCcbyzEF1wAAAAASUVORK5CYII="},e7bd:function(e,t,n){"use strict";n("3fbf")},e7d1:function(e,t,n){"use strict";n.r(t);var i=n("63e0"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},e838:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e0d1")),r=i(n("a701")),o={components:{dataTree:a.default,BaseDirectoryList:r.default},props:["dataUserId","sceneCode"],data:function(){return{allScene:[],currentSceneUuid:this.$store.getters.scenecode,directyDataUserId:this.$store.state.user.code,directySceneCode:"auditor",isTreeShow:!0}},computed:{currentScene:function(){var e=this;return this.allScene.filter((function(t){return t.sceneCode===e.currentSceneUuid}))[0]}},created:function(){this.initDirectory()},methods:{initDirectory:function(){"undefined"!==typeof this.dataUserId&&(this.directyDataUserId=this.dataUserId),"undefined"!==typeof this.sceneCode&&(this.directySceneCode=this.sceneCode)},reload:function(){var e=this;this.isTreeShow=!1,this.isRouterAlive=!1,this.$nextTick((function(){return e.isTreeShow=!0}))},nodeclick:function(e,t,n){this.$refs.listData.getList(e,t,n)},appendnode:function(e,t){this.$refs.dataTree.appendnode(e,t)},remove:function(e,t){this.$refs.dataTree.remove(e,t)},refresh:function(){this.$refs.dataTree.refresh()}}};t.default=o},e855:function(e,t,n){"use strict";n.r(t);var i=n("2e2f"),a=n("75ef");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},e858:function(e,t,n){"use strict";n.r(t);var i=n("a93d"),a=n("5784");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},e8b0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{value:{type:String,default:""},placeholder:{type:String,default:"查找..."},currentDate:{type:String,default:""}},data:function(){return{isFocus:!1}},created:function(){var e=this;document.addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault(),e.blur()}))},methods:{ace:function(){},selectDate:function(e){this.isFocus=!1,this.$emit("update:value",e)},blur:function(){this.isFocus=!1}}};t.default=i},e8dc:function(e,t,n){},e984:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-input",{staticClass:"tree-search",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("MyElTree",{ref:"tree",attrs:{"show-count":!0,data:e.data,props:e.defaultProps,"filter-node-method":e.filterNode,"default-expand-all":"","expand-on-click-node":!1,"node-key":"id","check-strictly":""},on:{"node-click":e.handleNodeClick,"check-change":e.handleNodeClick1},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[n("i",{class:a.icon}),e._v(e._s(i.label)+" ")]),1==e.isShowEdit&&"folder"==a.type?n("span",[n("el-button",{staticClass:"tree-line-btn",attrs:{title:"添加阈值分类",type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.setSelectTreeNode(i,a,1)}()}}},[n("svg-icon",{attrs:{"icon-class":"icon-add-1"}})],1),n("el-button",{staticClass:"tree-line-btn",attrs:{title:"修改阈值分类",type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.setSelectTreeNode(i,a,2)}()}}},[n("svg-icon",{attrs:{"icon-class":"icon-edit-1"}})],1),n("el-button",{staticClass:"tree-line-btn",attrs:{title:"删除阈值分类",type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.deleteFolder(i,a)}()}}},[n("svg-icon",{attrs:{"icon-class":"icon-delete-1"}})],1)],1):e._e()])}}])}),e.dialogFormVisible?n("el-dialog",{attrs:{title:"请填写分类信息",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{attrs:{model:e.form}},[n("el-form-item",{attrs:{label:"分类名称"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.thresholdValueFolderName,callback:function(t){e.$set(e.form,"thresholdValueFolderName",t)},expression:"form.thresholdValueFolderName"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(){return e.enterBtn()}}},[e._v("确 定")])],1)],1):e._e()],1)},a=[]},e988:function(e,t,n){"use strict";n.r(t);var i=n("a0a4"),a=n("f01a");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("06f6");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"209667a7",null);t["default"]=s.exports},e9f1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-page w100 h100 flex a-center j-start flex-row"},[n("div",{staticClass:"main-page-left h100 flex-shrink"},[n("new-tree")],1),n("div",{staticClass:"main-page-right flex1 h100"},[n("div",{staticClass:"new-table-search flex a-center j-between flex-row"},[e._m(0),n("div",{staticClass:"search-right h100 flex a-center j-end flex-row"},[n("new-input",{attrs:{placeholder:"按业务属性编码查找"},on:{keydown:e.keydown},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),n("div",{staticClass:"icon-box relative flex a-center j-center",class:[e.isShowNewCard&&"icon-box-active"],on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.isShowNewCard=!e.isShowNewCard}}},[n("i",{staticClass:"el-icon-search icon flex-shrink"}),e.isShowNewCard?n("div",{staticClass:"new-card-warp absolute",on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[n("new-card")],1):e._e()])],1)]),n("div",{staticClass:"new-table-content"},[n("div",{staticClass:"count-total-wrap"},[n("i",{staticClass:"el-icon-warning icon-waring"}),n("span",{staticClass:"info"},[e._v("共"+e._s(e.total)+"项 已选择 "),n("span",{staticClass:"info-color"},[e._v(e._s(e.selectedRowVal))]),e._v(" 项")])]),n("div",{staticClass:"new-table-content-wrap"},[n("new-ag-grid",{ref:"agGridDom",attrs:{"table-options":e.tableOptions,"row-data":e.tableData,"page-num":e.pageNum,"page-size":e.pageSize,total:e.total},on:{handleCurrentChange:function(t){return e.init()}}})],1)])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-left h100 flex a-center j-start flex-row"},[n("div",{staticClass:"tag-box flex a-center j-center"},[n("i",{staticClass:"el-icon-plus text-white"})]),n("div",{staticClass:"tag-box flex a-center j-center"},[n("i",{staticClass:"el-icon-remove text-white"})]),n("div",{staticClass:"tag-box flex a-center j-center"},[n("i",{staticClass:"el-icon-edit text-white"})]),n("div",{staticClass:"tag-box flex a-center j-center"},[n("i",{staticClass:"el-icon-search text-white"})])])}]},ea0d:function(e,t,n){"use strict";n.r(t);var i=n("56b1"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ea11:function(e,t,n){"use strict";n.r(t);var i=n("fd85"),a=n("7faa");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6f56"),n("6caf"),n("4779"),n("dd48");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4067e9ad",null);t["default"]=s.exports},ea27:function(e,t,n){"use strict";n.r(t);var i=n("9aff"),a=n("12cc");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("955f");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"38e61289",null);t["default"]=s.exports},ea34:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn  setting",attrs:{type:"primary",disabled:1!==e.selections.length},on:{click:e.setBaseCode}}),n("el-button",{staticClass:"oper-btn add",attrs:{type:"primary"},on:{click:e.addCode}}),n("el-button",{staticClass:"oper-btn delete",attrs:{type:"primary",size:"mini",disabled:0===e.selections.length},on:{click:function(t){return e.deleteCode()}}}),n("el-button",{staticClass:"oper-btn edit",attrs:{type:"primary",size:"mini",disabled:1!==e.selections.length},on:{click:function(t){return e.updateCode()}}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"",height:"calc(100vh - 300px)","max-height":"calc(100vh - 300px)"},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{label:"选择",type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"代码类别名称",prop:"dataSortName"}}),n("el-table-column",{attrs:{label:"代码类别编码",width:"300px",align:"center",prop:"dataSortValue"}}),n("el-table-column",{attrs:{label:"代码类别描述",prop:"dataSortDesc"}}),n("el-table-column",{attrs:{label:"展现形式",prop:"extendTag",formatter:e.formatTag,align:"center"}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,height:"70vh"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"dataForm",staticClass:"detail-form",attrs:{rules:e.rules,model:e.temp,"label-position":"right"}},[n("el-form-item",{attrs:{label:"代码类别名称",prop:"dataSortName"}},[n("el-input",{model:{value:e.temp.dataSortName,callback:function(t){e.$set(e.temp,"dataSortName",t)},expression:"temp.dataSortName"}})],1),n("el-form-item",{attrs:{label:"代码类别编码",prop:"dataSortValue"}},[n("el-input",{model:{value:e.temp.dataSortValue,callback:function(t){e.$set(e.temp,"dataSortValue",t)},expression:"temp.dataSortValue"}})],1),n("el-form-item",{attrs:{label:"代码类别描述",prop:"dataSortDesc"}},[n("el-input",{model:{value:e.temp.dataSortDesc,callback:function(t){e.$set(e.temp,"dataSortDesc",t)},expression:"temp.dataSortDesc"}})],1),n("el-form-item",{attrs:{label:"展现形式",prop:"extendTag"}},[n("el-select",{ref:"relTypeSelect",staticStyle:{width:"100%"},attrs:{placeholder:"请选择展现形式"},model:{value:e.temp.extendTag,callback:function(t){e.$set(e.temp,"extendTag",t)},expression:"temp.extendTag"}},[n("el-option",{attrs:{label:"列表类",value:0}}),n("el-option",{attrs:{label:"树形类",value:1}})],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticStyle:{color:"#353A43",background:"#fff",border:"none","font-weight":"bold","font-size":"14px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.closeDialog()}}},[e._v("取消")]),n("el-button",{staticStyle:{color:"#c8ff8c",background:"#353A43"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("保存")])],1)],1),n("el-dialog",{attrs:{title:e.textMap[e.dialogSecondStatus],visible:e.dialogFormSecond,"close-on-click-modal":!1,top:"5vh"},on:{"update:visible":function(t){e.dialogFormSecond=t}}},[n("el-form",{ref:"dataSecondForm",staticClass:"detail-form",attrs:{rules:e.rulesSecond,model:e.tempSecond,"label-position":"right"}},[n("el-form-item",{attrs:{label:"代码类别",prop:"dataSortUuid",hidden:""}},[n("el-input",{model:{value:e.tempSecond.dataSortUuid,callback:function(t){e.$set(e.tempSecond,"dataSortUuid",t)},expression:"tempSecond.dataSortUuid"}})],1),n("el-form-item",{attrs:{label:"通用代码名称",prop:"codeName"}},[n("el-input",{model:{value:e.tempSecond.codeName,callback:function(t){e.$set(e.tempSecond,"codeName",t)},expression:"tempSecond.codeName"}})],1),n("el-form-item",{attrs:{label:"通用代码编码",prop:"codeValue"}},[n("el-input",{on:{change:function(t){return e.numberSecond()}},model:{value:e.tempSecond.codeValue,callback:function(t){e.$set(e.tempSecond,"codeValue",t)},expression:"tempSecond.codeValue"}})],1),n("el-form-item",{attrs:{label:"通用代码描述",prop:"codeDesc"}},[n("el-input",{model:{value:e.tempSecond.codeDesc,callback:function(t){e.$set(e.tempSecond,"codeDesc",t)},expression:"tempSecond.codeDesc"}})],1),n("el-form-item",{attrs:{label:"代码排序号",prop:"codeIndex"}},[n("el-input",{on:{change:function(t){return e.numberIndex()}},model:{value:e.tempSecond.codeIndex,callback:function(t){e.$set(e.tempSecond,"codeIndex",t)},expression:"tempSecond.codeIndex"}})],1),n("el-form-item",{attrs:{label:"状态",prop:"codeState"}},[n("el-select",{ref:"relTypeSelect",staticStyle:{width:"100%"},attrs:{placeholder:"通用代码状态"},model:{value:e.tempSecond.codeState,callback:function(t){e.$set(e.tempSecond,"codeState",t)},expression:"tempSecond.codeState"}},[n("el-option",{attrs:{label:"启用",value:0}}),n("el-option",{attrs:{label:"禁用",value:1}})],1)],1)],1),n("el-button",{staticClass:"oper-btn delete",staticStyle:{float:"right",margin:"0 15px 0 10px"},attrs:{type:"primary",size:"mini",disabled:0===e.selectionSecond.length},on:{click:function(t){return e.deleteDataSecond()}}}),n("el-button",{staticClass:"oper-btn edit",staticStyle:{float:"right"},attrs:{type:"primary",size:"mini",disabled:1!==e.selectionSecond.length},on:{click:function(t){return e.updateDataSecond()}}}),n("el-button",{staticClass:"oper-btn again-2",staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.resetTempSecond()}}}),n("el-button",{staticClass:"oper-btn add",staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addSecondCode()}}}),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoadingSecond,expression:"listLoadingSecond"}],key:e.tableSecondKey,staticStyle:{width:"100%"},attrs:{data:e.listSecond,border:"",fit:"","highlight-current-row":"",height:"300"},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChangeSecond}},[n("el-table-column",{attrs:{label:"选择",type:"selection",width:"55px"}}),n("el-table-column",{attrs:{label:"通用代码名称",width:"200px",align:"center",prop:"codeName"}}),n("el-table-column",{attrs:{label:"通用代码编码",width:"200px",align:"center",prop:"codeValue"}}),n("el-table-column",{attrs:{label:"通用代码描述",width:"200px",align:"center",prop:"codeDesc"}}),n("el-table-column",{attrs:{label:"通用代码排序",width:"150px",align:"center",prop:"codeIndex"}}),n("el-table-column",{attrs:{label:"状态",width:"100px",align:"center",prop:"codeState",formatter:e.formatState}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalSecond>0,expression:"totalSecond>0"}],attrs:{total:e.totalSecond,page:e.pageQuerySecond.pageNo,limit:e.pageQuerySecond.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuerySecond,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuerySecond,"pageSize",t)},pagination:e.setBaseCode}})],1)],1)},a=[]},ea47:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-export",use:"icon-oper-export-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-export"><defs><style type="text/css"></style></defs><path d="M395.9 406H288.5c-2.8 0-5.7-0.7-8.1-2.4-18.4-13.1-18.2-34.3-6.4-46.3l217.6-220.9c11.1-11.2 29.2-11.4 40.4-0.3l0.3 0.3 217.7 221c11.1 11.3 10.9 29.4-0.4 40.4-5.3 5.2-12.5 8.2-19.9 8.2H628.1v215.7c0 7.9-6.4 14.3-14.3 14.3H410.2c-7.9 0-14.3-6.4-14.3-14.3V406zM283.3 652.4v87.5c0 7.9 6.4 14.3 14.3 14.3h428.8c7.9 0 14.3-6.4 14.3-14.3v-87.5c0-7.9 6.4-14.3 14.3-14.3h142.9c7.9 0 14.3 6.4 14.3 14.3V914c0 7.9-6.4 14.3-14.3 14.3H126.1c-7.9 0-14.3-6.4-14.3-14.3V652.4c0-7.9 6.4-14.3 14.3-14.3H269c7.9 0 14.3 6.4 14.3 14.3z" p-id="1981" /></symbol>'});o.a.add(s);t["default"]=s},ea4f:function(e,t,n){"use strict";n.r(t);var i=n("977f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},eac1:function(e,t,n){},eaea6:function(e,t,n){"use strict";n("51211")},eb02:function(e,t,n){"use strict";n.r(t);var i=n("d13b"),a=n("e608");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("dd9a");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"7db4b86d",null);t["default"]=s.exports},eb75:function(e,t,n){"use strict";n.r(t);var i=n("0a29"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},eb78:function(e,t,n){},ebfd:function(e,t,n){(function(e){var i,a,r;n("28a5"),n("4917");var o=n("7037");(function(s){"object"==o(t)&&"object"==o(e)?s(n("cf87")):(a=[n("cf87")],i=s,r="function"===typeof i?i.apply(t,a):i,void 0===r||(e.exports=r))})((function(e){"use strict";function t(e){var t;while(null!=(t=e.next()))if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){var t;while(null!=(t=e.next()))if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function i(e){return e.eat("@")&&(e.match(/^session\./),e.match(/^local\./),e.match(/^global\./)),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function a(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}e.defineMode("sql",(function(t,n){var i=n.client||{},a=n.atoms||{false:!0,true:!0,null:!0},l=n.builtin||o(s),u=n.keywords||o(r),c=n.operatorChars||/^[*+\-%<>!=&|~^\/]/,d=n.support||{},h=n.hooks||{},f=n.dateSQL||{date:!0,time:!0,timestamp:!0},p=!1!==n.backslashStringEscapes,m=n.brackets||/^[\{}\(\)\[\]]/,g=n.punctuation||/^[;.,:]/;function v(e,t){var n=e.next();if(h[n]){var r=h[n](e,t);if(!1!==r)return r}if(d.hexNumber&&("0"==n&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==n||"X"==n)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(d.binaryNumber&&(("b"==n||"B"==n)&&e.match(/^'[01]+'/)||"0"==n&&e.match(/^b[01]+/)))return"number";if(n.charCodeAt(0)>47&&n.charCodeAt(0)<58)return e.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),d.decimallessFloat&&e.match(/^\.(?!\.)/),"number";if("?"==n&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==n||'"'==n&&d.doubleQuote)return t.tokenize=y(n),t.tokenize(e,t);if((d.nCharCast&&("n"==n||"N"==n)||d.charsetCast&&"_"==n&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(d.escapeConstant&&("e"==n||"E"==n)&&("'"==e.peek()||'"'==e.peek()&&d.doubleQuote))return t.tokenize=function(e,t){return(t.tokenize=y(e.next(),!0))(e,t)},"keyword";if(d.commentSlashSlash&&"/"==n&&e.eat("/"))return e.skipToEnd(),"comment";if(d.commentHash&&"#"==n||"-"==n&&e.eat("-")&&(!d.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==n&&e.eat("*"))return t.tokenize=b(1),t.tokenize(e,t);if("."!=n){if(c.test(n))return e.eatWhile(c),"operator";if(m.test(n))return"bracket";if(g.test(n))return e.eatWhile(g),"punctuation";if("{"==n&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var o=e.current().toLowerCase();return f.hasOwnProperty(o)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":a.hasOwnProperty(o)?"atom":l.hasOwnProperty(o)?"builtin":u.hasOwnProperty(o)?"keyword":i.hasOwnProperty(o)?"string-2":null}return d.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":e.match(/^\.+/)?null:d.ODBCdotTable&&e.match(/^[\w\d_$#]+/)?"variable-2":void 0}function y(e,t){return function(n,i){var a,r=!1;while(null!=(a=n.next())){if(a==e&&!r){i.tokenize=v;break}r=(p||t)&&!r&&"\\"==a}return"string"}}function b(e){return function(t,n){var i=t.match(/^.*?(\/\*|\*\/)/);return i?"/*"==i[1]?n.tokenize=b(e+1):n.tokenize=e>1?b(e-1):v:t.skipToEnd(),"comment"}}function A(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}function w(e){e.indent=e.context.indent,e.context=e.context.prev}return{startState:function(){return{tokenize:v,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),t.tokenize==v&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var i=e.current();return"("==i?A(e,t,")"):"["==i?A(e,t,"]"):t.context&&t.context.type==i&&w(t),n},indent:function(n,i){var a=n.context;if(!a)return e.Pass;var r=i.charAt(0)==a.type;return a.align?a.col+(r?0:1):a.indent+(r?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:d.commentSlashSlash?"//":d.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}}));var r="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function o(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}var s="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";e.defineMIME("text/x-sql",{name:"sql",keywords:o(r+"begin"),builtin:o(s),atoms:o("false true null unknown"),dateSQL:o("date time timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:o("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:o(r+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:o("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:o("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:o("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":i}}),e.defineMIME("text/x-mysql",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(r+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":i,"`":t,"\\":a}}),e.defineMIME("text/x-mariadb",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(r+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":i,"`":t,"\\":a}}),e.defineMIME("text/x-sqlite",{name:"sql",client:o("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:o(r+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:o("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:o("date time timestamp datetime"),support:o("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":i,":":i,"?":i,$:i,'"':n,"`":t}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:o("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:o("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:o("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:o("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:o("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:o("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:o("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:o("date time timestamp"),support:o("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:o("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:o("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:o("date timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-pgsql",{name:"sql",client:o("source"),keywords:o(r+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),e.defineMIME("text/x-gql",{name:"sql",keywords:o("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:o("false true"),builtin:o("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),e.defineMIME("text/x-gpsql",{name:"sql",client:o("source"),keywords:o("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-sparksql",{name:"sql",keywords:o("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:o("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:o("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable doubleQuote zerolessFloat")}),e.defineMIME("text/x-esper",{name:"sql",client:o("source"),keywords:o("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:o("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("time"),support:o("decimallessFloat zerolessFloat binaryNumber hexNumber")})}))}).call(this,n("62e4")(e))},ec41:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-select",{ref:"transRuleUuid",staticStyle:{width:"90%"},attrs:{clearable:"",disabled:"showTable"===e.openType,filterable:"",placeholder:"请选择转码规则"},on:{change:e.selectChanged},model:{value:e.selectTransId,callback:function(t){e.selectTransId=t},expression:"selectTransId"}},e._l(e.transJson,(function(t){return n("el-option",{key:t.transRuleUuid,attrs:{label:t.ruleName,value:t.transRuleUuid}},[n("span",{domProps:{textContent:e._s(t.ruleName)}}),n("el-link",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.seleteTransCode(t.transRuleUuid)}}},[e._v("查看")])],1)})),1),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("div",[n("el-form",{ref:"dataForm",staticStyle:{width:"700px"},attrs:{model:e.tempRule,"label-position":"right"}},[n("el-form-item",{attrs:{label:"规则名称",prop:"ruleName"}},[n("el-input",{attrs:{readonly:""},model:{value:e.tempRule.ruleName,callback:function(t){e.$set(e.tempRule,"ruleName",t)},expression:"tempRule.ruleName"}})],1),n("el-form-item",{attrs:{label:"规则描述",prop:"ruleDesc"}},[n("el-input",{attrs:{readonly:""},model:{value:e.tempRule.ruleDesc,callback:function(t){e.$set(e.tempRule,"ruleDesc",t)},expression:"tempRule.ruleDesc"}})],1),n("el-form-item",{attrs:{label:"转码方式",prop:"ruleType"}},[n("el-input",{attrs:{readonly:""},model:{value:e.tempRule.ruleType,callback:function(t){e.$set(e.tempRule,"ruleType",t)},expression:"tempRule.ruleType"}})],1),e.isSql?n("el-form-item",{attrs:{label:"转码规则",prop:"sqlContent"}},[n("el-input",{attrs:{readonly:""},model:{value:e.tempRule.sqlContent,callback:function(t){e.$set(e.tempRule,"sqlContent",t)},expression:"tempRule.sqlContent"}})],1):e._e(),e.isSql?n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"真实值",prop:"sceneName","label-width":"150px"}},[n("el-input",{staticClass:"input",attrs:{readonly:""},model:{value:e.tempRule.sceneName,callback:function(t){e.$set(e.tempRule,"sceneName",t)},expression:"tempRule.sceneName"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"业务属性编码",prop:"sceneCode","label-width":"150px"}},[n("el-input",{staticClass:"input",attrs:{readonly:""},model:{value:e.tempRule.sceneCode,callback:function(t){e.$set(e.tempRule,"sceneCode",t)},expression:"tempRule.sceneCode"}})],1)],1)],1):e._e(),e.isSql?e._e():n("el-table",{attrs:{data:e.tempRule.transColRels,height:"200"}},[n("el-table-column",{attrs:{prop:"codeValue",label:"真实值","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tooltip",{attrs:{disabled:t.row.codeValue.length<12,effect:"dark",content:t.row.codeValue,placement:"top"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{readonly:""},model:{value:t.row.codeValue,callback:function(n){e.$set(t.row,"codeValue",n)},expression:"scope.row.codeValue"}})],1)]}}],null,!1,3567253264)}),n("el-table-column",{attrs:{prop:"transValue",label:"显示值","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tooltip",{attrs:{disabled:t.row.transValue.length<10,effect:"dark",content:t.row.transValue,placement:"top"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{readonly:""},model:{value:t.row.transValue,callback:function(n){e.$set(t.row,"transValue",n)},expression:"scope.row.transValue"}})],1)]}}],null,!1,3879475013)})],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("关闭")])],1)])],1)},a=[]},ec67:function(e,t,n){"use strict";n.r(t);var i=n("5eb6"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ec6c:function(e,t,n){"use strict";n.r(t);var i=n("f4e7"),a=n("e1c3");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},ec98:function(e,t,n){"use strict";n.r(t);var i=n("78e0"),a=n("071a");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("64f4");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},ecce:function(e,t,n){},eccf:function(e,t,n){"use strict";n.r(t);var i=n("5929"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ece2:function(e,t,n){"use strict";n("b5ca")},ed04:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _sysdata=__webpack_require__("4e81"),_default={data:function(){return{data:[],defaultProps:{children:"children",label:"codeName"},pageQueryTree:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},treeFistNode:"",dataSortUuid:"",dataSortName:"",baseCode:{},objCode:{codeUuid:"",dataSortUuid:"",parentCodeUuid:""}}},methods:{loadnode:function(e,t){0===e.level&&this.loadfirstnode(t),e.level>=1&&this.loadchildnode(e,t)},loadfirstnode:function(e){var t=this.$store.state.dataSort.dataSortUuid,n=this.$store.state.dataSort.dataSortName,i=[{codeUuid:t,codeName:n}];e(i),this.baseCode.codeUuid=t,this.baseCode.codeName=n,this.$store.dispatch("dataSort/setBaseCode",this.baseCode)},resetobjCode:function(){this.objCode={dataSortUuid:"",parentCodeUuid:""}},loadchildnode:function loadchildnode(node,resolve){1===node.level?(this.resetobjCode(),this.objCode.dataSortUuid=node.data.codeUuid,this.objCode.parentCodeUuid=node.data.codeUuid,this.pageQueryTree.condition=Object.assign({},this.objCode),(0,_sysdata.loadchildnodeOne)(this.pageQueryTree).then((function(resp){var jsonStr=JSON.stringify(resp.data.records),label=eval("("+jsonStr+")");resolve(label)}))):(this.resetobjCode(),this.objCode.parentCodeUuid=node.data.codeUuid,this.pageQueryTree.condition=Object.assign({},this.objCode),(0,_sysdata.loadchildnodeOne)(this.pageQueryTree).then((function(resp){var jsonStr=JSON.stringify(resp.data.records),label=eval("("+jsonStr+")");resolve(label)})))},nodeclick:function(e){this.baseCode.codeUuid=e.codeUuid,this.baseCode.codeName=e.codeName,this.baseCode.dataSortUuid=e.dataSortUuid,this.$store.dispatch("dataSort/setBaseCode",this.baseCode)}}};exports.default=_default},ed08:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.parseTime=r,t.formatTime=o,t.getQueryObject=s,t.byteLength=l,t.cleanArray=u,t.param=c,t.param2Obj=d,t.html2Text=h,t.objectMerge=f,t.toggleClass=p,t.getTime=m,t.debounce=g,t.deepClone=v,t.uniqueArr=y,t.createUniqueString=b,t.hasClass=A,t.addClass=w,t.removeClass=x,t.commonNotify=C,t.getDictList=k,t.getDictSonList=S,t.getOneDict=T,t.getArrLength=N,n("4917"),n("4f7f"),n("5df3"),n("1c4c"),n("28a5"),n("ac6a"),n("456d"),n("f576"),n("6b54"),n("3b2b"),n("a481");var a=i(n("7037"));function r(e,t){if(0===arguments.length||!e)return null;var n,i=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===(0,a.default)(e)?n=e:("string"===typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),n=new Date(e));var r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},o=i.replace(/{([ymdhisa])+}/g,(function(e,t){var n=r[t];return"a"===t?["日","一","二","三","四","五","六"][n]:n.toString().padStart(2,"0")}));return o}function o(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var n=new Date(e),i=Date.now(),a=(i-n)/1e3;return a<30?"刚刚":a<3600?Math.ceil(a/60)+"分钟前":a<86400?Math.ceil(a/3600)+"小时前":a<172800?"1天前":t?r(e,t):n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}function s(e){e=null==e?window.location.href:e;var t=e.substring(e.lastIndexOf("?")+1),n={},i=/([^?&=]+)=([^?&=]*)/g;return t.replace(i,(function(e,t,i){var a=decodeURIComponent(t),r=decodeURIComponent(i);return r=String(r),n[a]=r,e})),n}function l(e){for(var t=e.length,n=e.length-1;n>=0;n--){var i=e.charCodeAt(n);i>127&&i<=2047?t++:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&n--}return t}function u(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function c(e){return e?u(Object.keys(e).map((function(t){return void 0===e[t]?"":encodeURIComponent(t)+"="+encodeURIComponent(e[t])}))).join("&"):""}function d(e){var t=decodeURIComponent(e.split("?")[1]).replace(/\+/g," ");if(!t)return{};var n={},i=t.split("&");return i.forEach((function(e){var t=e.indexOf("=");if(-1!==t){var i=e.substring(0,t),a=e.substring(t+1,e.length);n[i]=a}})),n}function h(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText}function f(e,t){return"object"!==(0,a.default)(e)&&(e={}),Array.isArray(t)?t.slice():(Object.keys(t).forEach((function(n){var i=t[n];"object"===(0,a.default)(i)?e[n]=f(e[n],i):e[n]=i})),e)}function p(e,t){if(e&&t){var n=e.className,i=n.indexOf(t);-1===i?n+=""+t:n=n.substr(0,i)+n.substr(i+t.length),e.className=n}}function m(e){return"start"===e?(new Date).getTime()-7776e6:new Date((new Date).toDateString())}function g(e,t,n){var i,a,r,o,s,l=function l(){var u=+new Date-o;u<t&&u>0?i=setTimeout(l,t-u):(i=null,n||(s=e.apply(r,a),i||(r=a=null)))};return function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];r=this,o=+new Date;var d=n&&!i;return i||(i=setTimeout(l,t)),d&&(s=e.apply(r,u),r=u=null),s}}function v(e){if(!e&&"object"!==(0,a.default)(e))throw new Error("error arguments","deepClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(n){e[n]&&"object"===(0,a.default)(e[n])?t[n]=v(e[n]):t[n]=e[n]})),t}function y(e){return Array.from(new Set(e))}function b(){var e=+new Date+"",t=parseInt(65536*(1+Math.random()))+"";return(+(t+e)).toString(32)}function A(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function w(e,t){A(e,t)||(e.className+=" "+t)}function x(e,t){if(A(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function C(e){var t="",n="";switch(e.type){case"success":t="成功",n="操作成功";break;case"warning":t="警告",n="";break;case"info":t="信息",n="";break;case"error":t="错误",n="";break}var i={title:t,message:n,type:e.type,duration:2e3,position:"bottom-right"};return Object.assign(i,e)}function k(e){var t=JSON.parse(sessionStorage.getItem("sysDict")),n=t.filter((function(t){return t.dataSortValue===e}));return 0===n.length?n:t.filter((function(e){return e.dataSortUuid===n[0].dataSortUuid}))}function S(e){var t=JSON.parse(sessionStorage.getItem("sysDict")),n=t.filter((function(t){return t.codeValue===e}));return 0===n.length?n:t.filter((function(e){return e.parentCodeUuid===n[0].codeUuid}))}function T(e){var t=JSON.parse(sessionStorage.getItem("sysDict"));return t.filter((function(t){return t.codeValue===e}))}function N(e){return void 0===e||e<=0?0:e.length}},ed24:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("7f7f"),n("6b54");var a=n("9ac2"),r=n("8ebc"),o=i(n("c164")),s=i(n("333d")),l=i(n("7f2f")),u=i(n("8cd2")),c=n("ed08"),d=i(n("6d5f")),h=n("6026"),f=i(n("b90e")),p=i(n("6ce9")),m=i(n("db2a")),g=(n("d75c"),i(n("eb02"))),v=i(n("f0ed")),y={name:"ModelListTable",components:{paramDrawNew:m.default,Pagination:s.default,QueryField:o.default,EditModel:u.default,ModelFolderTree:l.default,childTabs:d.default,crossrangeParam:f.default,paramDraw:p.default,modelshoppingcart:g.default,personTree:v.default},props:["power","dataUserId","sceneCode","isAuditWarring"],data:function(){return{isShow:!1,tableKey:"errorUuid",list:null,total:0,listLoading:!1,editModelTitle:"",isShowShoppingCart:!1,treeSelectShow:!1,activeNames:["1","2"],editModelShow:!1,publicModelValue:"publicModel",selectTreeNode:null,editorModelLoading:!1,isUpdate:!1,editableTabsValue:"modelList",nowTabModelUuid:"",editableTabs:[],modelPreview:[],paramDrawUuid:"",modelRunTaskList:{},dialogFormVisible:!1,btnState:{addBtnState:!1,editBtnState:!0,deleteBtnState:!0,previewBtn:!0,otherBtn:!1},currentPreviewModelParamAndSql:{},queryFields:[{label:"模型名称",name:"modelName",type:"fuzzyText",value:""},{label:"审计事项",name:"auditItemName",type:"fuzzyText",value:""},{label:"风险等级",name:"riskLevelUuid",type:"select",data:[{name:"高",value:"002002001"},{name:"中",value:"002002002"},{name:"低",value:"002002003"}],default:"-1"}],operationObj:{},formStyle:{width:"700px",height:"400px"},temp:{modelUuid:"",modelName:"",modelFolderUuid:"",auditItemUuid:"",riskLevelUuid:"",auditIdeas:"",paramConditions:"",sqlValue:"",modelType:""},pageQuery:{condition:null,pageNo:1,pageSize:20},dialogFormVisiblePersonTree:!1,modelId:"",currentRunModelAllConfig:{},currentModelIsRun:!1,flag:"notModelPreview",addModelIsSee:!1,selectModelType:"",modelTypeData:[],modelFolderTreeDialog:!1,modelFolderUuid:"",modelFolderName:"",relationNextValue:{}}},computed:{},watch:{dialogFormVisible:function(e){this.$nextTick((function(){e&&this.$refs.paramDrawRefNew.createParamNodeHtml(this.paramDrawUuid,"",this.flag)}))},editableTabs:function(){}},created:function(){},mounted:function(){this.initWebSocket(),this.initData()},methods:{setImportFolder:function(){var e=this.$refs.modelFolderTree.getSelectNode();void 0!=e.id?0!=e.pid&&null!=e.pid&&void 0!=e.pid?(this.modelFolderUuid=e.id,this.modelFolderName=e.label,this.modelFolderTreeDialog=!1,this.importData()):this.$message({type:"info",message:"不允许建立在根目录"}):this.$message({type:"info",message:"请选择业务分类"})},mouseOver:function(){},mouseLeave:function(){},initData:function(){this.modelTypeData=(0,c.getDictList)("002003")},Toggle:function(){this.isShow=!this.isShow},Toggle1:function(){this.isShow=!1},initWebSocket:function(){this.webSocket=this.getWebSocket()},getWebSocket:function(){var e="ws://"+window.location.host+":"+window.location.port+"/websocket?"+this.$store.getters.personuuid+"modellisttable";this.webSocket=new WebSocket(e),this.webSocket.onopen=function(e){},this.webSocket.onmessage=function(e){var t=JSON.parse(e.data);"onSQLResult"===t.listenerType&&n(e)};var t=function(e){var t=JSON.parse(e.data),n=this.$refs.modelListTable.selection;this.$refs[t.modelUuid][0].loadTableData(t,n[0].modelName)},n=t.bind(this);this.webSocket.onclose=function(e){},this.webSocket.onerror=function(e){}},dateFormatter:function(e,t){var n=e.createTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds();1==r.toString().length&&(r="0"+r),1==o.toString().length&&(o="0"+o),1==s.toString().length&&(s="0"+s),1==l.toString().length&&(l="0"+l),1==u.toString().length&&(u="0"+u);var c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}},modelTypeFormatter:function(e,t){var n=e.modelType,i=(0,c.getOneDict)(n),a="";return 0==i.length?"":(a=i[0].codeName,a)},riskLevelFormatter:function(e,t){var n=e.riskLevelUuid,i="",a=(0,c.getOneDict)(n);return 0==a.length?"":(i=a[0].codeName,i)},getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,a.findModel)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},setSelectTreeNode:function(e){this.selectTreeNode=e},save:function(){var e=this,t=this.$refs.editModel.getModelObj();null!=t&&(this.editorModelLoading=!0,this.isUpdate?(0,a.updateModel)(t).then((function(t){0===t.code?(e.getList(e.query),e.$emit("refreshTree"),e.editorModelLoading=!1,e.editModelShow=!1):(e.$message({type:"error",message:"修改模型失败!"}),e.editorModelLoading=!1)})):(0,a.saveModel)(t).then((function(t){0===t.code?(e.getList(e.query),e.$emit("refreshTree"),e.editorModelLoading=!1,e.editModelShow=!1):(e.$message({type:"error",message:"新增模型失败!"}),e.editorModelLoading=!1)})))},resetQuery:function(){this.query={condition:{opIp:"",moduleName:"",opOperate:"",opInfo:"",endTime:"",opTime:"",opUserName:""}}},modelTableSelectEvent:function(e,t){var n=this.$refs.modelListTable.selection;1==n.length?(this.btnState.otherBtn=!1,this.btnState.deleteBtnState=!1,this.btnState.addBtnState=!1,this.btnState.editBtnState=!1,this.btnState.previewBtn=!1,1!=this.isAuditWarring&&(this.isShowShoppingCart=!0,this.$refs.modelShoppingCartRef.setMemo(n))):n.length>1?(this.btnState.otherBtn=!1,this.btnState.deleteBtnState=!1,this.btnState.addBtnState=!1,this.btnState.editBtnState=!0,this.btnState.previewBtn=!0,1!=this.isAuditWarring&&(this.isShowShoppingCart=!0,this.$refs.modelShoppingCartRef.setMemo(n))):0==n.length&&(this.btnState.otherBtn=!1,this.btnState.deleteBtnState=!0,this.btnState.addBtnState=!1,this.btnState.editBtnState=!0,this.btnState.previewBtn=!0,this.isShowShoppingCart=!1)},addModel:function(){this.isUpdate=!1;var e={operationType:1,folderId:"",folderName:""};if(null!=this.selectTreeNode){if(0==this.selectTreeNode.pid||null==this.selectTreeNode.pid)return void this.$message({type:"info",message:"不允许建立在根目录"});e={operationType:1,folderId:this.selectTreeNode.id,folderName:this.selectTreeNode.label}}sessionStorage.setItem("operationObj",JSON.stringify(e)),this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:"新增模型",path:"/analysis/editorModel?dataUserId="+this.dataUserId+"&sceneCode="+this.sceneCode}})},selectModelTypeDetermine:function(e){this.addModelIsSee=!1;var t={operationType:1,folderId:"",folderName:"",modelType:e};if(null!=this.selectTreeNode){if(0==this.selectTreeNode.pid||null==this.selectTreeNode.pid)return void this.$message({type:"info",message:"不允许建立在根目录"});t={operationType:1,folderId:this.selectTreeNode.id,folderName:this.selectTreeNode.label,modelType:e}}sessionStorage.setItem("operationObj",JSON.stringify(t)),this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:"新增模型",path:"/analysis/editormodelnew?dataUserId="+this.dataUserId+"&sceneCode="+this.sceneCode}})},updateModel:function(){var e=this;this.isUpdate=!0;var t=this.$refs.modelListTable.selection;0!=t.length?t.length>1?this.$message({type:"info",message:"只能选择一个模型!"}):(this.editModelTitle="修改模型",this.$emit("loadingSet",!0,"正在获取模型信息..."),(0,a.selectModel)(t[0].modelUuid).then((function(t){if(e.$emit("loadingSet",!1,""),0==t.code){var n={operationType:2,model:t.data,folderId:"",folderName:""};sessionStorage.setItem("operationObj",JSON.stringify(n)),e.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:"修改模型",path:"/analysis/editormodelnew?dataUserId="+e.dataUserId+"&sceneCode="+e.sceneCode}})}else e.$message({type:"error",message:"修改失败"})}))):this.$message({type:"info",message:"最少选择一个模型!"})},updateModel1:function(){var e=this;this.isUpdate=!0;var t=this.$refs.modelListTable.selection;0!=t.length?t.length>1?this.$message({type:"info",message:"只能选择一个模型!"}):(this.editModelTitle="修改模型",this.$emit("loadingSet",!0,"正在获取模型信息..."),(0,a.selectModel)(t[0].modelUuid).then((function(t){if(e.$emit("loadingSet",!1,""),0==t.code){var n={operationType:2,model:t.data,folderId:"",folderName:""};sessionStorage.setItem("operationObj",JSON.stringify(n)),e.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:"修改模型",path:"/analysis/editormodelnew?dataUserId="+e.dataUserId+"&sceneCode="+e.sceneCode}})}else e.$message({type:"error",message:"修改失败"})}))):this.$message({type:"info",message:"最少选择一个模型!"})},deleteModel:function(){var e=this,t=this.$refs.modelListTable.selection;void 0!=t&&0!==t.length?this.$confirm("此操作将永久删除该模型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,a.deleteModel)(t).then((function(t){if(0==t.code){if(null!=t.data)for(var n=0;n<t.data.length;n++)null!=t.data[n].graphUuid&&(0,r.deleteGraphInfoById)(t.data[n].graphUuid);e.getList(e.query),e.$emit("refreshTree"),e.$notify({title:"提示",message:"删除成功",type:"success",duration:2e3,position:"bottom-right"})}else e.$message({type:"error",message:"删除失败"})}))})):this.$message({type:"info",message:"请先选择要删除的模型!"})},publicModel:function(e){if(null!=this.selectTreeNode&&-1==this.selectTreeNode.path.indexOf("gonggong")){this.publicModelValue=e;var t=this.$refs.modelListTable.selection;void 0!=t&&0!==t.length?this.treeSelectShow=!0:this.$message({type:"info",message:"请先选择要发布的模型!"})}else this.$message({type:"info",message:"只能发布非公共模型下的模型"})},cancelPublicModel:function(){var e=this;if(null!=this.selectTreeNode&&-1!=this.selectTreeNode.path.indexOf("gonggong")){var t=this.$refs.modelListTable.selection;void 0!=t&&0!==t.length?this.$confirm("是否确定将选中的模型撤销发布?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var n=0;n<t.length;n++)t[n].modelFolderUuid="xiaxian";e.updateModelBasicInfo(t,"撤销发布")})).catch((function(){})):this.$message({type:"info",message:"请先选择要撤销发布的模型!"})}else this.$message({type:"info",message:"只能撤销公共模型下的模型"})},updatePublicModel:function(){var e=this;this.$confirm("是否确定将选中的模型发布到公共模型下?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t=e.$refs.modelFolderTree.getSelectNode(),n=e.$refs.modelListTable.selection,i=0;i<n.length;i++)n[i].modelFolderUuid=t.id;e.updateModelBasicInfo(n,"发布")}))},updateModelBasicInfo:function(e,t){var n=this;(0,a.updateModelBasicInfo)(e).then((function(e){0==e.code?(n.treeSelectShow=!1,n.$notify({title:"提示",message:t+"成功",type:"success",duration:2e3,position:"bottom-right"}),n.getList(n.query),n.$emit("refreshTree")):n.$message({type:"error",message:t+"失败"})}))},exportModel:function(){var e=this.$refs.modelListTable.selection;if(void 0!=e&&0!==e.length){for(var t=[],n=0;n<e.length;n++)t.push(e[n].modelUuid);(0,a.setModelSession)(t).then((function(e){(0,a.exportModel)()}))}else this.$message({type:"info",message:"请先选择要导出的模型!"})},importData:function(){$("#importBtn").click()},handleRemove:function(e,t){},beforeUpload:function(e){this.uploaDialog=!0},onError:function(e,t,n){this.$message({message:"上传失败",type:"error"})},onSuccess:function(e,t,n){this.$emit("refreshTree"),this.$message({message:"上传"+e.msg,type:"success"})},shareModelDialog:function(){var e=this.$refs.modelListTable.selection;void 0!=e&&0!==e.length?this.dialogFormVisiblePersonTree=!0:this.$message({type:"info",message:"请先选择要共享的模型!"})},shareModel:function(){for(var e=this,t=this.$store.getters.personuuid,n=this.$refs.modelListTable.selection,i=[],r=this.$refs.personTree.getSelectValue(),o=0;o<n.length;o++)for(var s=0;s<r.length;s++){if(r[s].personuuid===t){!1;break}var l={modelUuid:n[o].modelUuid,belongUuid:r[s].personuuid,belongName:r[s].cnname};i.push(l)}(0,a.shareModel)(i).then((function(t){0==t.code?(e.$notify({title:"提示",message:"共享成功",type:"success",duration:2e3,position:"bottom-right"}),e.dialogFormVisiblePersonTree=!1):e.$message({type:"error",message:"共享模型失败!"})}))},previewModel:function(){var e=this;this.flag="notModelPreview",this.currentModelIsRun=!1;var t=this.$refs.modelListTable.selection;if(this.modelId=t[0].modelUuid,void 0!=t&&0!==t.length)if(t.length>1)this.$message({type:"info",message:"只能运行一个模型!"});else{if(-1!=this.modelPreview.indexOf(t[0].modelUuid))return this.$message({type:"info",message:"该模型已经运行完成，请勿重复运行"}),void(this.editableTabsValue=t[0].modelUuid);this.$emit("loadingSet",!0,"正在读取模型信息..."),(0,a.selectModel)(t[0].modelUuid).then((function(n){if(e.$emit("loadingSet",!1,""),0==n.code)if(0==n.data.parammModelRel.length){var i=null;null!=n.data.graphUuid&&""!=n.data.graphUuid?(i={sqls:n.data.modelSql,modelUuid:t[0].modelUuid,businessField:"modellisttable"},e.executeSql(i,t,!1)):(i={sqls:n.data.sqlValue,modelUuid:t[0].modelUuid,businessField:"modellisttable"},e.executeSql(i,t,!1))}else{for(var a=[],r=0;r<n.data.parammModelRel.length;r++)""!==n.data.parammModelRel[r].paramValue&&a.push(JSON.parse(n.data.parammModelRel[r].paramValue));e.currentPreviewModelParamAndSql.sqlValue=n.data.sqlValue,e.currentPreviewModelParamAndSql.paramObj=a,e.currentPreviewModelParamAndSql.modelUuid=t[0].modelUuid;var o=(new Date).getTime();e.paramDrawUuid=o,e.dialogFormVisible=!0}else e.$message({type:"error",message:"获取模型信息失败"})}))}else this.$message({type:"info",message:"请先选择要预览的模型!"})},executeSql:function(e,t,n){var i=this;this.$emit("loadingSet",!0,"正在运行模型'"+t[0].modelName+"',请稍候"),(0,h.getExecuteTask)(e,this.dataUserId,this.sceneCode).then((function(a){a.data.isError?(i.$message({type:"error",message:a.data.message}),i.$emit("loadingSet",!1,"")):(i.$emit("loadingSet",!1,""),i.modelRunTaskList[e.modelUuid]=a.data.executeSQLList,i.addTab(t[0],n,a.data.executeSQLList),(0,h.startExecuteSql)(a.data).then((function(e){i.executeLoading=!1,i.loadText=""})).catch((function(e){i.executeLoading=!1})))}))},addTab:function(e,t,n,i){this.editableTabs.push({title:e.modelName+"结果",name:e.modelUuid,isExistParam:t,executeSQLList:n,isRelation:i}),this.nowTabModelUuid=e.modelUuid,this.editableTabsValue=e.modelUuid,this.modelPreview.push(e.modelUuid)},handleClick:function(e,t){"模型列表"!==e.name&&e.$children[0].$children[0].$children[0].$children[0].$children[0].clickBigTab()},setNextValue:function(e){this.$refs[this.nowTabModelUuid][0].loadTableData(e,"")},removeTab:function(e){var t=this.editableTabs,n=this.editableTabsValue;n===e&&t.forEach((function(i,a){if(i.name===e){var r=t[a+1]||t[a-1];r&&(n=r.name)}})),this.modelPreview.splice(this.modelPreview.indexOf(e),1),this.editableTabsValue=n,this.editableTabs=t.filter((function(t){return t.name!==e})),0==this.editableTabs.length&&(this.editableTabsValue="modelList")},replaceNodeParam:function(){if(this.currentModelIsRun)this.queryModel(this.paramDrawUuid);else{var e=this.$refs.paramDrawRefNew.replaceNodeParam(this.paramDrawUuid),t=this.$refs.modelListTable.selection;if(!e.verify)return void this.$message({type:"info",message:e.message});e.sqls=e.sql,e.modelUuid=t[0].modelUuid,e.businessField="modellisttable",this.currentPreviewModelParamAndSql.paramObj=e.paramsArr,this.dialogFormVisible=!1;var n={sqlValue:this.currentPreviewModelParamAndSql.sqlValue,paramObj:e.paramsArr};this.currentRunModelAllConfig[t[0].modelUuid]=n,this.executeSql(e,t,!0)}},queryModel:function(e){var t=this,n=this.$refs.paramDrawRefNew.replaceNodeParam(this.paramDrawUuid);if(n.verify){n.sqls=n.sql,n.modelUuid=e,n.executeSQLList=this.modelRunTaskList[n.modelUuid],n.businessField="modellisttable",this.$refs[e][0].reSetTable();var i={sqlValue:this.currentRunModelAllConfig[e].sqlValue,paramObj:n.paramsArr};this.currentRunModelAllConfig[e]=i,this.dialogFormVisible=!1,this.$emit("loadingSet",!0,"正在执行..."),(0,h.getExecuteTask)(n,this.dataUserId,this.sceneCode).then((function(e){e.data.isError?(t.$message({type:"error",message:e.data.message}),t.$emit("loadingSet",!1,"")):(t.$emit("loadingSet",!1,""),(0,h.startExecuteSql)(e.data).then((function(e){})))}))}else this.$message({type:"info",message:n.message})},getModelListCheckData:function(){return this.$refs.modelListTable.selection},selectModelDetail:function(e){var t=this;this.isUpdate=!0,this.$emit("loadingSet",!0,"正在获取模型信息..."),(0,a.selectModel)(e).then((function(e){if(t.$emit("loadingSet",!1,""),0==e.code){t.editModelTitle=e.data.modelName+"详细";var n={operationType:3,model:e.data,folderId:"",folderName:"",formName:e.data.modelName+"详细"};sessionStorage.setItem("operationObj",JSON.stringify(n)),t.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:e.data.modelName+"详细",path:"/analysis/editormodelnew"}})}else t.$message({type:"error",message:"查看模型详细失败"})}))},loadParamDraw:function(e){this.currentModelIsRun=!0,this.paramDrawUuid=e,this.currentPreviewModelParamAndSql.sqlValue=this.currentRunModelAllConfig[e].sqlValue,this.currentPreviewModelParamAndSql.paramObj=this.currentRunModelAllConfig[e].paramObj,this.flag="modelPreview",this.dialogFormVisible=!0}}};t.default=y},ed29:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",[n("el-form",{ref:"dataForm",staticClass:"detail-form",attrs:{model:e.formCodeData,rules:e.rules}},[n("el-row",[n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{label:"类型名称",prop:"codeName"}},[n("el-input",{staticClass:"input",model:{value:e.formCodeData.codeName,callback:function(t){e.$set(e.formCodeData,"codeName",t)},expression:"formCodeData.codeName"}})],1),(e.show=!1)?n("el-form-item",{attrs:{label:"uuid",prop:"codeUuid"}},[n("el-input",{staticClass:"input",attrs:{placeholder:"请输入数字"},model:{value:e.formCodeData.codeUuid,callback:function(t){e.$set(e.formCodeData,"codeUuid",t)},expression:"formCodeData.codeUuid"}})],1):e._e()],1),n("el-col",{attrs:{span:11,offset:2}},[n("el-form-item",{attrs:{label:"类型编码",prop:"codeValue"}},[n("el-input",{staticClass:"input",attrs:{placeholder:"请输入4-10位的数字"},on:{change:function(t){return e.number()}},model:{value:e.formCodeData.codeValue,callback:function(t){e.$set(e.formCodeData,"codeValue",t)},expression:"formCodeData.codeValue"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{label:"排序号",prop:"codeIndex"}},[n("el-input",{staticClass:"input",attrs:{placeholder:"请输入数字"},on:{change:function(t){return e.number()}},model:{value:e.formCodeData.codeIndex,callback:function(t){e.$set(e.formCodeData,"codeIndex",t)},expression:"formCodeData.codeIndex"}})],1)],1)],1),n("el-form-item",{attrs:{label:"类型描述",prop:"codeDesc"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.formCodeData.codeDesc,callback:function(t){e.$set(e.formCodeData,"codeDesc",t)},expression:"formCodeData.codeDesc"}})],1)],1)],1)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-div"},[n("span",{staticClass:"title"},[e._v("操作")])])}]},ed70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("d75c"),a={mounted:function(){this.initTree()},data:function(){return{}},methods:{initTree:function(){(0,i.initParamTree)(),(0,i.initIcon)()},paramTreeSearch:function(){(0,i.paramTreeSearch)()}}};t.default=a},edbf:function(e,t,n){},edc9:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("0ad9")),r=i(n("971e")),o=i(n("4bfd")),s=i(n("43be")),l=i(n("bdf6")),u={components:{basicInfo:a.default,column:r.default,createSql:o.default,bizInfo:s.default,tablerelation:l.default},props:["tableId","tabShow","openType","forderId"],data:function(){return{tabShowName:""}},watch:{tabShowName:{handler:function(e,t){this.$emit("update:tab-show",e)},deep:!0}},created:function(){this.initTabs(),this.tabShowName=this.tabShow},methods:{initTabs:function(){"addType"===this.openType&&(this.$refs.tabs.$children[0].$refs.tabs[3].style.display="none",this.$refs.tabs.$children[0].$refs.tabs[3].style.display="none")},appendnode:function(e,t){this.$emit("append-node",e,this.clickNode)},tableshow:function(e){this.$emit("table-show",e)}}};t.default=u},edd7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAqCAYAAAD1T9h6AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAKgAAAADxZ+MvAAADdElEQVRYCe1ZTUhVQRQ+c+99FJH5MopAAheFSSJli3YR/SKKRJC9h7mRaNEP2KZFEFhuWkZEq2qlZrTR0KKfZURtKqNfciWUQn9PjIy8c6dz5jnPB95735vhmu/COzD3Hed8c+Y7c2bmzh0Z5IloOVwNrr0JhKgES7A809KrHhPA2BQ4/BMbvvNZEcqRFAfSWwDcRmUo7V/nBXtw6y1xtOghWjsrgPFtpMdCkKvkjGQdSdj7sx6nTS4bmCoXmPD0grEc8Dw5IHrtDNDElTgDTGcDAL4CbPYbBHsF6eZp6OjYgEZb0/U0tJ+YhKmf9eDyGs22+vBZ5IySDYA73+HS2QloaLiMdUewmI1k37VJbJuGprYxELAR9cWTRNa1nDYiO30eY9XuCHrMQCazFdLHGzGIlRH483eRsF6z4dujaqR3ISoK8tRZEpLJHrATo/THYosKYHvEHbXDcN9ysFgmYr8L3M0t4shTTQNzERL2SXBFzYJeTSo8bgGzkti0Kn+3UwGYuCzU5hAM9f9A0N9CwCLtLuLewdjYPTh9rgZm81rhIu7GEhf5hkT3qBeZWgN54ZS8ugYZ9sPQDbmRxjEAGuF1WPaSEtcAiHstPUwX8UNse4wcFJA3c/b6AjgyX8eyvwicgsijjmkAM9CaqgYOdPTwl4TTCYO9QhoPHq2AWfemPxBrbeiCuwMzgfYQg2kAABz3ZMF3BPrmYv4YQboQIVib9ncjifMakAGXAzDKe4SNyhmIcDCNXJnvQox9BWD3A3v1+PxRmnQWgpW+Aj2FGkwDqMXzfjN6fhbiPYW2ZdI+MkB6GJZ8yTerxGs8TAPYjH1c0OhHB6vh1vwo8RJ7uVpETwpzqggsYbTvpkwzMA4t7aP4Ju4JIdYFIwPZj5nm1BPEBR87mH0ep+T4/wwAr/PEWixNgQHYTnfOZuFRgbvBWBBXclhNpfwe0BywyOHlDEQ+pJoOY58B020Uv6K8DHD2PHDAbPYrZyPdC8OiL0MxDWA1fgLSxfCZkH4r0Za9oh/sJT0MS76qQnwFmlQAPBDhb9iJ1U/9Tb61OlhfBz6VkrNaAx99AKVe9YEIUurwhSoofe+x0IVRHIT+kVLHGMvIDKBCl7BtWL7EgP0EckwReeIqM6BIYyZWob4PSx0WtT6Ueal/ac7TLHmE5KeWmkxk/f8DxCB/G6/My1kAAAAASUVORK5CYII="},ee4d:function(e,t,n){},ee63:function(e,t,n){"use strict";n.r(t);var i=n("24fc"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ee6d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-time flex a-center flex-row j-end h100"},[n("div",{staticClass:"new-time-box flex a-center j-center flex-column"},[n("div",{staticClass:"num text-white"},[e._v(e._s(e.days))]),n("div",{staticClass:"label text-white"},[e._v("DAYS")])]),n("div",{staticClass:"new-time-box flex a-center j-center flex-column"},[n("div",{staticClass:"num text-white"},[e._v(e._s(e.hours))]),n("div",{staticClass:"label text-white"},[e._v("HOURS")])]),n("div",{staticClass:"new-time-box flex a-center j-center flex-column"},[n("div",{staticClass:"num text-white"},[e._v(e._s(e.min))]),n("div",{staticClass:"label text-white"},[e._v("MIN")])]),n("div",{staticClass:"new-time-box flex a-center j-center flex-column"},[n("div",{staticClass:"num text-white"},[e._v(e._s(e.sec))]),n("div",{staticClass:"label text-white"},[e._v("SEC")])])])},a=[]},ee8c:function(e,t,n){"use strict";n("8db7")},eec3:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("dbce")),r={path:"/base",name:"公共管理",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b574"))}))},meta:{},children:[{path:"opLog",name:"系统操作日志",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("a7a9"))}))}},{path:"errorLog",name:"系统异常日志",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("9382"))}))}},{path:"sysdata",name:"基础数据",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b6d7"))}))}},{path:"basecodetree",name:"基础数据树",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("fd1d"))}))}},{path:"remind",name:"系统提醒",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("f5a6"))}))}},{path:"frameto",name:"跳转",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("59c2"))}))}},{path:"querytask",name:"跳转",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("8533"))}))}},{path:"sso",name:"跳转",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("830b"))}))}},{path:"helpDocument",name:"系统帮助",component:function(){return Promise.resolve().then((function(){return(0,a.default)(n("b8f5"))}))}}]},o=r;t.default=o},eef0:function(e,t,n){"use strict";n.r(t);var i=n("8f37"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ef14:function(e,t,n){"use strict";n.r(t);var i=n("00042"),a=n("ee63");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("ece2");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"511ccd91",null);t["default"]=s.exports},ef28:function(e,t,n){},ef3c:function(e,t,n){"use strict";n.r(t);var i=n("d2d0");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var r,o,s=n("0c7c"),l=Object(s["a"])(i["default"],r,o,!1,null,null,null);t["default"]=l.exports},ef79:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7f7f"),n("c5f6");var i={name:"Item",props:{item:{type:Object,default:function(){return{}}},index:[Number]},data:function(){return{isOpen:!1,theIndex:1}},methods:{openHandle:function(e){this.isOpen=e},close:function(e){var t=!1;e.children||(t=!0),e.path&&""!==e.path&&""!==this.item.path&&(this.$router.push({path:this.item.path}),this.$store.commit("aceState/setRightFooterTags",{type:"active",val:{name:e.name,path:e.path}}));var n=[],i=[];localStorage.getItem("userid")&&(n=JSON.parse(localStorage.getItem("userid"))),0==n.length&&""!==e.path&&n.push({id:e.name,v:this.theIndex,p:e.path});for(var a=0;a<n.length-1;a++)e.name==n[a].id&&(n[a].v=n[a].v+1),i.push(n[a].id);i.indexOf(e.name)&&""!==e.path&&n.push({id:e.name,v:this.theIndex,p:e.path}),localStorage.setItem("userid",JSON.stringify(n)),this.$emit("close",{isOpen:this.isOpen,index:this.index,isCloseTree:t})}}};t.default=i},ef91:function(e,t,n){"use strict";n.r(t);var i=n("f4f1"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},efbc:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("7a42"),r=i(n("6d5f")),o={watch:{flag:function(e){this.$nextTick((function(){e&&(this.open=!0)}))}},created:function(){this.getQueryVariable()},components:{childTabs:r.default},data:function(){return{runTaskRelUuid:"",runTaskRel:{},mainTable:{},helpTables:[],modeluuid:"",resultSpiltObjects:{},flag:!1,open:!1}},methods:{getQueryVariable:function(){var e=this;this.helpTables=[],this.runTaskRelUuid=this.$route.query.runTaskRelUuid,(0,a.getAllRunTaskRel)().then((function(t){for(var n=t.data,i=0;i<n.length;i++)if(n[i].runTaskRelUuid==e.runTaskRelUuid){e.runTaskRel=n[i];break}var a=e.runTaskRel.runResultTables;e.modeluuid=e.runTaskRel.model.modelUuid;for(i=0;i<a.length;i++)1==a[i].tableType?e.mainTable=a[i]:2==a[i].tableType&&e.helpTables.push(a[i]);e.flag=!0}))}}};t.default=o},efbe:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-list-container all"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn add-1",attrs:{type:"primary",disabled:e.btnState.addBtnState},on:{click:e.addThreshValue}}),n("el-button",{staticClass:"oper-btn edit-2",attrs:{type:"primary",disabled:e.btnState.editBtnState},on:{click:e.updateThresholdValue}}),n("el-button",{staticClass:"oper-btn delete-6",attrs:{type:"primary",disabled:e.btnState.deleteBtnState},on:{click:e.deleteThresholdValue}}),n("el-dropdown",{staticClass:"el-dropdown",attrs:{placement:"bottom",trigger:"click"}},[n("el-button",{staticClass:"oper-btn more",attrs:{type:"primary",disabled:e.btnState.otherBtn}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(e){}}},[e._v("发布")]),n("el-dropdown-item",{nativeOn:{click:function(e){}}},[e._v("撤销发布")])],1)],1)],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"modelListTable",staticStyle:{height:"450px","overflow-y":"scroll"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{select:e.thresholdvalueTableSelectEvent,"select-all":e.thresholdvalueTableSelectEvent}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"阈值名称",width:"300px",prop:"thresholdValueFolderName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.selectModelDetail(t.row.thresholdValueUuid)}}},[e._v(e._s(t.row.thresholdValueName))])]}}])}),n("el-table-column",{attrs:{label:"阈值类型",width:"150px",align:"center",prop:"thresholdValueType",formatter:e.threshTypeFormatter}}),n("el-table-column",{attrs:{label:"创建人",prop:"createUserName",align:"center"}}),n("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:"center",formatter:e.dateFormatter}})],1),n("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),e.dialogFormVisibleEdit?n("el-dialog",{attrs:{width:"40%","close-on-click-modal":!1,title:e.editThresholdValueTitle,visible:e.dialogFormVisibleEdit,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisibleEdit=t}}},[n("EditThresholdValue",{ref:"EditThresholdValue",attrs:{operationObj:e.operationObj}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisibleEdit=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.getSaveObj}},[e._v("确定")])],1)],1):e._e()],1)},a=[]},efcc:function(e,t,n){},f00f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:["query","ruleTypes","rules","maxDepth","labels","depth"],data:function(){return{groupComponent:null,ruleComponent:null}},mounted:function(){this.groupComponent=this.$parent.$options.components["QueryBuilderGroup"],this.ruleComponent=this.$parent.$options.components["QueryBuilderRule"]},methods:{getComponent:function(e){return"query-builder-group"===e?this.groupComponent:this.ruleComponent}}};t.default=i},f00f7:function(e,t,n){"use strict";n("59e2")},f01a:function(e,t,n){"use strict";n.r(t);var i=n("ed04"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},f023:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a481"),n("7f7f"),n("3b2b");var a=n("a054"),r=i(n("c164")),o=i(n("333d")),s={name:"SqlDraftList",components:{Pagination:o.default,QueryField:r.default},data:function(){return{tableKey:"sqlDraftUuid",list:null,total:0,sqlDraftDetail:!1,queryFields:[{label:"SQL标题",name:"draftTitle",type:"fuzzyText",value:""}],tableOptions:{columnDefs:[{headerName:"",checkboxSelection:!0,headerCheckboxSelection:!0,width:30,pinned:"left",display:!1},{field:"errorUuid",hide:!0},{headerName:"草稿标题",field:"draftTitle",pinned:"left",filter:"agTextColumnFilter"},{headerName:"草稿日期",field:"createTime",pinned:"left"},{headerName:"操作",field:"modelType",filter:"agNumberColumnFilter"}]},formStyle:{width:"700px",height:"400px"},pageQuery:{condition:null,pageNo:1,pageSize:20}}},computed:{},created:function(){this.getList()},methods:{dateFormatter:function(e,t){var n=e.createTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds(),c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,a.findSqlDraft)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},resetQuery:function(){this.query={condition:{opIp:"",moduleName:"",opOperate:"",opInfo:"",endTime:"",opTime:"",opUserName:""}}},deleteSqlDraft:function(){var e=this,t=this.$refs.sqlDraftListTable.selection;void 0!=t&&0!==t.length?this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var n=[],i=0;i<t.length;i++)n.push(t[i].sqlDraftUuid);(0,a.deleteSqlDraft)(n.join(",")).then((function(t){0==t.code?(e.getList(e.query),e.$notify({title:"提示",message:"删除成功",type:"info",duration:2e3,position:"bottom-right"})):e.$message({type:"error",message:"删除失败"})}))})).catch((function(){})):this.$message({type:"info",message:"请先选择要删除的草稿!"})},selectDetail:function(e){var t=this;this.sqlDraftDetail=!0;var n={};n.sqlValue=e.row.draftSql;var i=JSON.parse(e.row.paramJson);void 0==i.arr?n.params=[]:n.params=i.arr,setTimeout((function(){t.displaySQL(n)}))},displaySQL:function(e){for(var t,n=e.sqlValue,i=e.params,a=e.sqlValue,r=0;r<i.length;r++){t=new RegExp(i[r].id,"g");var o=" <button class='divEditorBtn' type='button' id='"+i[r].id+"'>"+i[r].name+"</button> ";n=n.replace(t,o),a=a.replace(t,""+i[r].id)}$("#sqlValueViewShow").html(n)},getSelectRow:function(){var e={verify:!1,sqlDraftObj:{draftSql:"",paramJson:"",draftUuid:"",draftTitle:""}},t=this.$refs.sqlDraftListTable.selection;if(0==t.length||t.length>1)this.$message({type:"info",message:"请选择一条数据"});else{var n=t[0];e.sqlDraftObj.draftSql=n.draftSql,e.sqlDraftObj.paramJson=n.paramJson,e.sqlDraftObj.sqlDraftUuid=n.sqlDraftUuid,e.sqlDraftObj.draftTitle=n.draftTitle,e.verify=!0}return e}}};t.default=s},f040:function(e,t,n){"use strict";n("565e")},f092:function(e,t,n){"use strict";n.r(t);var i=n("64a8"),a=n("3731");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},f096:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABa0lEQVQ4T82Uv04CQRDGv7l7BjsLY2trZwOFPoCJegqcuQSW0NsDtb3KQQF7EJZY+AhY2RgbX8DCxsTEFzDemD05JHJ/Vmmc5JLdzH6/zOx8ewQAjiuaAFp6vUK0lPTb5FREBwSxAuhbyvDJcQVnwAIC3YfML8ThKyxrF8AegO00TSqQGYeTwL9OEjpu/Rzgs6RcMjDkHTXs3mnBgeet2e/2ll6rYe82hjiuGAE4+QlNANKNkp19fbBUqq5/2NbzXMTsqaDb1/ujU9EgxoUBEG0l/WjiSwMj6qtBx4ty5WoBljU1AabPiPhKDbqN31aYBnwj2MWxvHyceTcAUP5ThQw8TKQ/t4rjCn0l+jEsRZ4PteBJSX9zYbqpMH0mF0hAbyz92qzNTJgREGFYjP2X86qiJnIrBPOXmYk2AOgvM8yBMYaokEXMBy62XKlN8S+B8xaJmrkVHlfqQyYu5V22SZ6YRmTqLwNg9FP5BNxSpTro1TIMAAAAAElFTkSuQmCC"},f0d1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isShowLoading,expression:"isShowLoading"}],staticClass:"app-container"},[e.selectModelVisible?n("el-dialog",{attrs:{title:"选择模型列表",fullscreen:!0,visible:e.selectModelVisible,"append-to-body":!0,width:"80%"},on:{"update:visible":function(t){e.selectModelVisible=t}}},[n("SelectModels",{ref:"selectModels",attrs:{isAuditWarring:!0,power:"warning"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.selectModelVisible=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.selectModel}},[e._v("确定")])],1)],1):e._e(),n("el-tabs",{model:{value:e.tabShow,callback:function(t){e.tabShow=t},expression:"tabShow"}},[n("el-tab-pane",{attrs:{label:"基本信息",name:"baseInfo"}},[n("el-form",{ref:"baseDataForm",staticClass:"detail-form",attrs:{rules:e.rules,model:e.temp,disabled:e.allReadOnly}},[n("el-form-item",{attrs:{label:"预警名称",prop:"warningName"}},[n("el-input",{model:{value:e.temp.warningName,callback:function(t){e.$set(e.temp,"warningName",t)},expression:"temp.warningName"}})],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"预警类型"}},[n("el-select",{attrs:{placeholder:"请选择预警类型"},model:{value:e.temp.warningType,callback:function(t){e.$set(e.temp,"warningType",t)},expression:"temp.warningType"}},[n("el-option",{attrs:{label:"模型",value:1}}),n("el-option",{attrs:{label:"指标常用分析",value:2}})],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"结果保存地址"}},[n("el-input",{staticClass:"el-input-z",attrs:{readonly:"readonly"},model:{value:this.auditWarningSave.locationName,callback:function(t){e.$set(this.auditWarningSave,"locationName",t)},expression:"this.auditWarningSave.locationName"}}),n("span",{staticClass:"btn-z",on:{click:function(t){e.modelResultSavePathDialog=!0}}},[e._v("选择")])],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"分配类型"}},[n("el-select",{attrs:{placeholder:"请选择分配类型"},on:{change:e.distributionTypeChange},model:{value:e.auditWarningSave.distributionType,callback:function(t){e.$set(e.auditWarningSave,"distributionType",t)},expression:"auditWarningSave.distributionType"}},[n("el-option",{attrs:{label:"请选择",value:0}}),n("el-option",{attrs:{label:"分配到人",value:1}}),n("el-option",{attrs:{label:"分配到项目",value:2}})],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"人员或项目"}},[n("el-input",{staticClass:"el-input-z",attrs:{readonly:"readonly"},model:{value:e.auditWarningSave.distributionName,callback:function(t){e.$set(e.auditWarningSave,"distributionName",t)},expression:"auditWarningSave.distributionName"}}),n("span",{staticClass:"btn-z",on:{click:e.distributionButtonClick}},[e._v("选择")])],1)],1)],1),1==e.temp.warningType?n("el-form-item",{attrs:{label:"关联模型"}},[n("el-row",[n("el-col",{attrs:{align:"right"}},[e.allReadOnly?e._e():n("el-link",{attrs:{type:"primary"},on:{click:function(t){e.selectModelVisible=!0}}},[e._v("选择模型")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.modelListLoading,expression:"modelListLoading"}],key:"modelList",ref:"modelListTable",attrs:{align:"center",data:e.temp.modelList,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"模型名称",prop:"modelName"}}),n("el-table-column",{attrs:{label:"平均运行时间",prop:"runTime"}}),n("el-table-column",{attrs:{label:"模型类型",prop:"modelType",formatter:e.modelTypeFormatter}}),n("el-table-column",{attrs:{label:"审计事项",prop:"auditItemName"}}),e.allReadOnly?e._e():n("el-table-column",{attrs:{label:"操作",prop:"auditItemName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteModel(t.$index,e.temp.modelList)}}},[e._v(" 删除 ")])]}}],null,!1,2982851023)})],1)],1):e._e(),2==e.temp.warningType?n("el-form-item",{attrs:{label:"关联指标常用分析"}},[n("el-row",[n("el-col",{attrs:{align:"right"}},[e.allReadOnly?e._e():n("el-link",{attrs:{type:"primary"},on:{click:function(t){e.selectIndicatorVisble=!0}}},[e._v("选择指标常用分析")])],1)],1),n("el-table",{key:"indexList",ref:"indexListTable",attrs:{align:"center",data:e.temp.indexList,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"oftenindicatorsName",label:"指标常用分析名称",width:"300"}}),n("el-table-column",{attrs:{prop:"createPersonName",label:"创建人",width:"180"}}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:e.dateFormatter}}),e.allReadOnly?e._e():n("el-table-column",{attrs:{label:"操作",prop:"auditItemName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteCommonlyAnalysis(t.$index,e.temp.indexList)}}},[e._v("删除 ")])]}}],null,!1,988936091)})],1)],1):e._e()],1)],1),n("el-tab-pane",{attrs:{label:"执行信息",name:"executeInfo"}},[n("el-form",{ref:"executeDataForm",staticClass:"detail-form",attrs:{rules:e.rules,model:e.temp,disabled:e.allReadOnly}},[n("el-form-item",{attrs:{label:"执行方式"}},[n("el-select",{attrs:{placeholder:"请选择执行方式"},model:{value:e.temp.executeMode,callback:function(t){e.$set(e.temp,"executeMode",t)},expression:"temp.executeMode"}},[n("el-option",{attrs:{label:"单次执行",value:1}}),n("el-option",{attrs:{label:"多次执行",value:2}}),n("el-option",{attrs:{label:"周期执行",value:3}})],1)],1),1==e.temp.executeMode?n("el-form-item",{attrs:{label:"执行时间",prop:"singleExecuteTime"}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择执行时间",align:"right","picker-options":e.executeTimeOptions},model:{value:e.temp.singleExecuteTime,callback:function(t){e.$set(e.temp,"singleExecuteTime",t)},expression:"temp.singleExecuteTime"}})],1):e._e(),2==e.temp.executeMode?n("el-form-item",{attrs:{label:"多次执行时间"}},e._l(e.temp.manyTimesExecuteTime,(function(t,i){return n("el-form-item",{attrs:{label:"",prop:"manyTimesExecuteTime."+i+".executeTime",rules:e.rules.manyTimesExecuteTime.executeTime}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择多次执行时间",align:"right","picker-options":e.executeTimeOptions},model:{value:t.executeTime,callback:function(n){e.$set(t,"executeTime",n)},expression:"domain.executeTime"}}),0==i?n("el-link",{attrs:{type:"primary"},on:{click:e.addExecuteTime}},[e._v("添加 ")]):e._e(),e.temp.manyTimesExecuteTime.length>1?n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.removeExecuteTime(t)}}},[e._v("删除")]):e._e()],1)})),1):e._e(),3==e.temp.executeMode?n("el-form-item",{attrs:{label:""}},[n("el-form-item",{attrs:{label:"执行周期设置"}},[n("el-select",{attrs:{placeholder:"请选择执行周期"},model:{value:e.temp.intervalExecuteTime.intervalType,callback:function(t){e.$set(e.temp.intervalExecuteTime,"intervalType",t)},expression:"temp.intervalExecuteTime.intervalType"}},[n("el-option",{attrs:{label:"每天",value:1}}),n("el-option",{attrs:{label:"每周",value:2}}),n("el-option",{attrs:{label:"每月",value:3}}),n("el-option",{attrs:{label:"每年",value:4}})],1)],1),2==e.temp.intervalExecuteTime.intervalType?n("el-form-item",{attrs:{label:""}},[n("el-checkbox-group",{model:{value:e.temp.intervalExecuteTime.weekValue,callback:function(t){e.$set(e.temp.intervalExecuteTime,"weekValue",t)},expression:"temp.intervalExecuteTime.weekValue"}},[n("el-checkbox",{attrs:{label:1}},[e._v("星期一")]),n("el-checkbox",{attrs:{label:2}},[e._v("星期二")]),n("el-checkbox",{attrs:{label:3}},[e._v("星期三")]),n("el-checkbox",{attrs:{label:4}},[e._v("星期四")]),n("el-checkbox",{attrs:{label:5}},[e._v("星期五")]),n("el-checkbox",{attrs:{label:6}},[e._v("星期六")]),n("el-checkbox",{attrs:{label:7}},[e._v("星期日")])],1)],1):e._e(),e._l(e.temp.intervalExecuteTime.monthValue,(function(t,i){return 3==e.temp.intervalExecuteTime.intervalType?n("el-form-item",{attrs:{label:""}},[e._v(" 第 "),n("el-input-number",{attrs:{min:1,max:31},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"domain.value"}}),e._v(" 天 "),0!=i||e.allReadOnly?e._e():n("el-link",{attrs:{type:"primary"},on:{click:e.addMonth}},[e._v("添加 ")]),e.temp.intervalExecuteTime.monthValue.length>1&&!e.allReadOnly?n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.removeMonth(t)}}},[e._v("删除")]):e._e()],1):e._e()})),e._l(e.temp.intervalExecuteTime.monthDayValue,(function(t,i){return 4==e.temp.intervalExecuteTime.intervalType?n("el-form-item",{attrs:{label:""}},[e._v(" 第 "),n("el-select",{attrs:{placeholder:"请选择执行周期"},model:{value:t.month,callback:function(n){e.$set(t,"month",n)},expression:"domain.month"}},[n("el-option",{attrs:{label:"1月",value:1}}),n("el-option",{attrs:{label:"2月",value:2}}),n("el-option",{attrs:{label:"3月",value:3}}),n("el-option",{attrs:{label:"4月",value:4}}),n("el-option",{attrs:{label:"5月",value:5}}),n("el-option",{attrs:{label:"6月",value:6}}),n("el-option",{attrs:{label:"7月",value:7}}),n("el-option",{attrs:{label:"8月",value:8}}),n("el-option",{attrs:{label:"9月",value:9}}),n("el-option",{attrs:{label:"10月",value:10}}),n("el-option",{attrs:{label:"11月",value:11}}),n("el-option",{attrs:{label:"12月",value:12}})],1),e._v(" 月 第 "),n("el-input-number",{attrs:{min:1,max:31},model:{value:t.day,callback:function(n){e.$set(t,"day",n)},expression:"domain.day"}}),e._v(" 天 "),0!=i||e.allReadOnly?e._e():n("el-link",{attrs:{type:"primary"},on:{click:e.addMonthDay}},[e._v("添加 ")]),e.temp.intervalExecuteTime.monthDayValue.length>1&&!e.allReadOnly?n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.removeMonthDay(t)}}},[e._v("删除")]):e._e()],1):e._e()})),n("el-form-item",{attrs:{label:"执行时间设置",prop:"intervalExecuteTime.executeTime",rules:e.rules.singleExecuteTime}},[n("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm","picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:"请输入执行时间"},model:{value:e.temp.intervalExecuteTime.executeTime,callback:function(t){e.$set(e.temp.intervalExecuteTime,"executeTime",t)},expression:"temp.intervalExecuteTime.executeTime"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"开始结束日期"}},[n("el-date-picker",{attrs:{"picker-options":e.executeTimeOptions,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.temp.intervalExecuteTime.rangeTime,callback:function(t){e.$set(e.temp.intervalExecuteTime,"rangeTime",t)},expression:"temp.intervalExecuteTime.rangeTime"}})],1)],2):e._e(),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.temp.warningType,expression:"temp.warningType == 1"}],attrs:{label:"模型参数配置"}},e._l(e.temp.modelList,(function(t,i){return void 0!=t.paramObj&&t.paramObj.length>0?n("paramDrawNew",{ref:"paramDrawRef"+t.modelUuid,refInFor:!0,attrs:{sql:e.paramSql[i],arr:e.paramArr[i]}}):e._e()})),1)],1)],1)],1),n("el-dialog",{attrs:{title:"选择模型结果保存路径",visible:e.modelResultSavePathDialog,width:"30%","append-to-body":!0},on:{"update:visible":function(t){e.modelResultSavePathDialog=t}}},[n("data-tree",{attrs:{"data-user-id":e.personCode,"scene-code":e.sceneCode,"tree-type":e.treeType},on:{"node-click":e.handleClick}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.modelResultSavePathDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.modelResultSavePathDetermine}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"请选择指标常用分析",visible:e.selectIndicatorVisble,width:"45%","append-to-body":!0},on:{"update:visible":function(t){e.selectIndicatorVisble=t}}},[n("commonlyAnalysisList",{ref:"commonlyAnalysisList"}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.selectIndicatorVisble=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getCommonlyAnalysis()}}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"请选择人员",visible:e.personDialog,width:"45%","append-to-body":!0},on:{"update:visible":function(t){e.personDialog=t}}},[n("personTree",{ref:"personTree"}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.personDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.getCheckPerson}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"请选择项目",visible:e.projectDialog,width:"45%","append-to-body":!0},on:{"update:visible":function(t){e.projectDialog=t}}},[e.projectDialog?n("userProject",{ref:"userproject"}):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.projectDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.getCheckProject}},[e._v("确 定")])],1)],1)],1)},a=[]},f0ea:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd"),n("28a5");var a=i(n("b5e7")),r=i(n("333d")),o=n("2d31"),s=i(n("bc3a")),l=i(n("c164")),u=i(n("4328")),c={components:{Pagination:r.default,QueryField:l.default,directoryFileImport:a.default},data:function(){return{tableKey:"tableMetaUuid",colKey:"colMetaUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"数据表名称",name:"displayTbName",type:"text",value:""},{label:"汉化表名称",name:"chnName",type:"text",value:""}],pageQuery:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"},tempObj:{tableMetaUuid:"",folderName:"",displayTbName:"",chnName:"",createTime:"",colMetas:[]},selections:[],dialogFormVisibleTable:!1,importVisible:!1,dialogStatus:"",importtemp:{},textMap:{preview:"查看数据表字典",import:"导入数据表字典"},dialogPvVisible:!1,rules:{attrName:[{required:!0,message:"请填写业务属性名称",trigger:"change"}],attrCode:[{required:!0,message:"请填写业务属性编码",trigger:"change"}],describtion:[{max:100,message:"长度不得超过100",trigger:"change"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e),(0,o.listByPage)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},selectFilterOne:function(e){var t=this;this.listLoading=!0,this.dialogStatus="preview";var n=this.list.filter((function(t){return t.tableMetaUuid===e}));this.tempObj=n[0],(0,o.selectOne)(e).then((function(e){console.log(e),t.tempObj.colMetas=e.data.colMetas,t.dialogFormVisibleTable=!0,t.listLoading=!1}))},formatCreateTime:function(e,t){var n=new Date(e.createTime),i=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();return i},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},exportFile:function(){0===this.selections.length?this.$message({type:"info",message:"无选择表,下载模板失败!"}):s.default.post("/data/tableMeta/exportFile",u.default.stringify({tableMetasJson:JSON.stringify(this.selections)}),{responseType:"blob",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=decodeURI(e.headers["content-disposition"].split(";")[1].split("=")[1]),n=new Blob([e.data],{type:"application/octet-stream"}),i=window.URL.createObjectURL(n),a=document.createElement("a");a.style.display="none",a.href=i,a.setAttribute("download",t),document.body.appendChild(a),a.click()}))},fileuploadname:function(e){this.importtemp.tableFileName=e},importFile:function(){this.dialogStatus="import",this.importVisible=!0},importTable:function(){var e=this;(0,o.importTable)(this.importtemp).then((function(t){"200"===t.data.code?(e.importVisible=!1,e.$notify({title:"成功",message:t.data.msg,type:"success",duration:5e3,position:"bottom-right"}),e.getList()):e.$message({type:"error",message:t.data.msg})}))},resetTemp:function(){this.temp={bizAttrUuid:void 0,attrName:"",attrCode:"",describtion:""}},add:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},update:function(){var e=this;this.temp=Object.assign({},this.selections[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},handleSelectionChange:function(e){this.selections=e},getSortClass:function(e){var t=this.pageQuery.sort;return t==="+".concat(e)?"asc":"desc"}}};t.default=c},f0ed:function(e,t,n){"use strict";n.r(t);var i=n("d24a"),a=n("fe2f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},f0fd:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAOKADAAQAAAABAAAAOAAAAAANV2hTAAAIJklEQVRoBd1ba2wUVRQ+d9stAlsKblsQEFRaKQgEEMTyiAmBFFBQ1GiiEDViNGgMSOGHGo1GjYEixijRiFEDmmAkKGilgZAYHgVBIKCl2hIFoULbBcqWIn2N57vT2d55dGZ2W1rtlwy9cx/nnG/vnfs45yKog6FpXyVR5NR40rRpLDqHSMshjW7kdCoJfgCNovxvlN//IhKlnC4lIXZReMghIR5qQpWOgugIQZr2UZAil+ZQMy0goc1kAmkJyRVUQ5rYTgHaQOE+hUI83ZCQHKVRuwhq2js9KdK0hJq1ZSwzrMjtiGSEAmI1hZPeFeKFK4kKTIigHIZVJx/nIfYaD8VBiSr31U6IMzwiXqWMoZ8lMnzjJqhVFszmYVjAxEb6MrCjKglRwsM3X2Tm/xCPyIDfypqmCa165ZtEzYWdTg5Gyh+0uRA2wBa/dvuqqGkfhKi6bgMrudev4GtaT4hvKb3XAiGerfXS40lQu7DmJmpo2MKCRnsJ6+TyYxQMzhP9lv7ppteVoE6ucT+Pj0w3IU5lNZGLVF5STmdPn6PaS7X6E9V/8FBqiEJ99GfA4P6UNTKL0sJ9ncR45IlKCiZPciPZJkE5LKsu72UNvnvuSm0dHSo+QmW/lFHV2SoP48zFGQMyKHtUNo3PHUs9Q73Mhe5vxyij9+S2hqsjQfkRVxds9vvNNdQ30MFdB+mnHw9Q/dV6d3M8SlN6pNAdd02kCdMmUDAl6FG7pVh+k/nzhRCatYEzQcyWzfSitbLTe/mvZbR983aqjdY5FSecF0rtRTPnz6Ss27L9yQjQWyJ9xUvWyjaCcp3DUuAD+3YW0+6iPbwO25GUHKQhOVMoa9xsCg+8lUJ9B8gHNWsvnpVP9Znf6MSRbXSqdA81Ndp3ZTBuat4UunN6rl2BY05gjnWdNBGUO5Tqk0e91rmmxkYq3LiNSo9in2xG77RMmjxvGY3MfZBSrguZC9t4q78SpZJ9m2jvltV0uabSVitnTA7NeXgWJSUn28pMGdgMpA8do+54zAQrVz3JM+Y6UyOHl61ffGcjlxzsQZPufp4m5i2mYI+4JomYhoardXSgaC3t//49amy4GstHAiTnPnqPKc/5RSwSmcs/McpiBOXGubqpjHvPdW+JYbmLh6UK9Np9z31KA4dNULMTTlecOEjfvP+ErTen+Rmu2LumJ2UbG/TWrRpOBR7kMKHgm1ORMXgELXylqMPIQTZ+KMiEbBXQDRtcAQ7g0gJJUJ7n9COPkW/7i6UAs6U6oaDnHlj6JaX2G2ir394MyIRs6DAA3bABtriCuUhOXEnvQRxWPc5zWOfUpQDfHIalX3J/HNtJH+aPkw/SfgDZ0AFdBmADbPFAWB7AuZJOsJkWujXADgWLuApMKPF8c0WfL6Po+Qr5IO0X0AFdKmALbHIFvAuMgFwahDbDrTK2X+oOBcNm4qzFbk1sZSBnQE0beW5/MTOrQxW2wCZXsOsE3AIUOX27lw8Fe0sVWOeCKYktBaocv2ksO9CpwmqTWibT8Aux8ytAWtNUW6GSgVOBunHGDgWLeGcDOqHbAGyCba5gzx5/g5p5Lra0KOMjjwpsv/zuUNR27U1DJ3SrsNqmlulpbQQmmeH2gtacc3yeU4G9ZVdh2NhZJtVW20yF+stwHqLSKetQpmfhsKoCG+euQvogc19YbbPZxdzQg7q32VaqZ1iF4FTQVbDqttrmYFdqIOZOdyhFVm2Lm8Eotiox8jvjr1W31TabDRwq0Bd6W0nHZ6Re37qdU9NxadLUjaK/lvgGo25V4SBSgcNqIsh7bDWBGB6kE0FtjXnCs9pmk8nccIIEwbCtsCUD3q/z1RdixSDYr/8tsXe/iZtHT6dnCg77re5Yz/rjwjYPRPENcgirbViFRCp+b7vyNS6Bi0OF1Ta1TKaZG75BcytLrf7st1RRfjiu0IDatN1p+G9UwKfqDlHKBMVxt0rZ7JRVAQdR/T/mtVEtd0tfvlRFeBIB/DbQrQIOYw8wQURWXQCPM5yyBuD9Kin+2nj1/Xf35rdp7ZJR8kE6XsAppXreYJOnN5y5BRA25u+wxk0hPM4q4P2Cg8gv4Ckr3romVh3peHoSuqBThdUmtUymwYm5BaSLTRM7bBWUDLjT4XE2AIPh/eosQJfqToQtsMkVHAoHN32hD9B6t8qIFcCdrgKuPXi//ACH1dy5S2NVke7dp3XYxwocEtABXSpgi2f8AnF+hnQbSgdNVc3f/N7meghHz7qVH5v8MjAc3i+/fhljWPolF71QQetfzzP1Hlz6i1Y85RW3iFBG2g24xCB7UN5mQMDfBQiEIFYQc6RyXQybTWseIRjiByAWDznIVocmdMMGz6AMczFuaOhDFNbxbQaeUc+4GYpACGIFKqpOH5e/st/hqrZtKw1Z6DnIVgHdnsEYcACXFsQISk8wbjN4AIEQuNFV4FfeuPJ+nukK2Gfpf3ZVZSCNtpABWWrPoQw6fQVhmIPh1UY7dcSxY5tvKXVF8IU3Dlhbr3nwBYw7M3yGfS22fp0WPgNBQF4X6a4BUEkQ91C6cwhbJ8l3Y7rrJQQQBNp7jQR+S7j24BySj8M1EhzHcGLx3DjrJln+bcc1EkNSt74IFCPZna9ytZLkiSey6g2/10uMdh3+l6+LUHj5y053Ypx0mRZ6pwrWvP/bdcq4CYKw3PF01wuxao922yvNKkm9R2OX0hfybeAZXgFVa/vYu34pfQcH1tf/Jy6lxwxTEnL4yqgxAqsy9ji8JYLVxn8rgNuSPXsiaTeFB/+s3lJSxCac/BfigcFBaJAlhAAAAABJRU5ErkJggg=="},f132:function(e,t,n){"use strict";n.r(t);var i=n("6a58"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},f185:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-more",use:"icon-oper-more-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-more"><defs><style type="text/css"></style></defs><path d="M511.488 0C228.864 0 0 229.376 0 512s228.864 512 511.488 512C794.624 1024 1024 794.624 1024 512s-229.376-512-512.512-512zM512 921.6A409.472 409.472 0 0 1 102.4 512c0-226.304 183.296-409.6 409.6-409.6 226.304 0 409.6 183.296 409.6 409.6 0 226.304-183.296 409.6-409.6 409.6z" p-id="1057" /><path d="M320 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="1058" /><path d="M512 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="1059" /><path d="M704 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="1060" /></symbol>'});o.a.add(s);t["default"]=s},f191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},f196:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"560px","overflow-y":"auto"}},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"分析字段",name:"1"}},[n("el-table",{staticStyle:{"padding-left":"160px"},attrs:{data:e.analysisData,border:e.tableBorder,fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"上一节点名称","header-align":"center",prop:"nodeName",width:"300","show-overflow-tooltip":!0,resizable:!1}}),n("el-table-column",{attrs:{label:"分析字段","header-align":"center",prop:"columnName",width:"300",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:t.row.columnSelected,callback:function(n){e.$set(t.row,"columnSelected",n)},expression:"scope.row.columnSelected"}},e._l(t.row.columnsInfo,(function(t){return n("el-option",{key:t.columnName,attrs:{label:t.columnName,value:t.columnName}},[e._v(e._s(t.columnName))])})),1)]}}])})],1)],1),n("el-collapse-item",{attrs:{title:"分析内容",name:"2"}},[n("div",{staticStyle:{"padding-left":"160px",width:"100%"}},[n("el-row",[n("el-col",{attrs:{span:2}},[n("label",{staticStyle:{float:"right","line-height":"36px","padding-right":"10px"}},[e._v("分析内容")])]),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{disabled:e.analysisDisabled},model:{value:e.analysisType,callback:function(t){e.analysisType=t},expression:"analysisType"}},e._l(e.analysisTypeArr,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(e._s(t.name))])})),1)],1),n("el-col",{attrs:{span:7}},[n("el-input",{staticStyle:{padding:"0 10px"},attrs:{disabled:e.analysisDisabled},model:{value:e.analysisContent,callback:function(t){e.analysisContent=t},expression:"analysisContent"}})],1),n("el-col",{attrs:{span:3}},[n("el-checkbox",{staticStyle:{"line-height":"36px"},on:{change:e.autoContrastChange},model:{value:e.autoAnalysis,callback:function(t){e.autoAnalysis=t},expression:"autoAnalysis"}},[e._v("自动分析")])],1)],1),n("el-row",[n("el-col",{attrs:{span:2}},[n("label",{staticStyle:{float:"right","line-height":"36px","padding-right":"10px"}},[e._v("出现次数")])]),n("el-col",{attrs:{span:4}},[n("el-select",{model:{value:e.compareType,callback:function(t){e.compareType=t},expression:"compareType"}},e._l(e.compareTypeArr,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(e._s(t.name))])})),1)],1),n("el-col",{attrs:{span:7}},[n("el-input",{staticStyle:{padding:"0 10px"},attrs:{type:"number"},model:{value:e.displayNum,callback:function(t){e.displayNum=t},expression:"displayNum"}})],1),n("el-col",{attrs:{span:3}},[n("el-checkbox",{staticStyle:{"line-height":"36px"},model:{value:e.ignoreNullVal,callback:function(t){e.ignoreNullVal=t},expression:"ignoreNullVal"}},[e._v("忽略空值")])],1)],1)],1)])],1)],1)},a=[]},f1af:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-delete-1",use:"icon-icon-delete-1-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-delete-1"><defs><style type="text/css"></style></defs><path d="M98 98.2v830.1h830.1V98.2H98z m627 233.4h-35.7v441.2c0 9.6-7.7 17.3-17.3 17.3H360.6c-9.6 0-17.3-7.7-17.3-17.3V331.6h-42.1c-11.9 0-21.6-9.7-21.6-21.6 0-11.9 9.7-21.6 21.6-21.6H394.5v-26c0-14.3 11.6-25.9 25.9-25.9h190.3c14.3 0 25.9 11.6 25.9 25.9v26H725c11.9 0 21.6 9.7 21.6 21.6 0 11.9-9.7 21.6-21.6 21.6zM390.8 738.1H633V340.2H390.8v397.9zM567.5 440c0-9.6 7.7-17.3 17.3-17.3s17.3 7.7 17.3 17.3v207.6c0 9.6-7.7 17.3-17.3 17.3s-17.3-7.7-17.3-17.3V440z m-71.7-25.9c0-9.6 7.7-17.3 17.3-17.3 9.6 0 17.3 7.7 17.3 17.3v259.5c0 9.6-7.7 17.3-17.3 17.3-9.6 0-17.3-7.7-17.3-17.3V414.1zM424 440c0-9.6 7.7-17.3 17.3-17.3s17.3 7.7 17.3 17.3v207.6c0 9.6-7.7 17.3-17.3 17.3s-17.3-7.7-17.3-17.3V440z" p-id="3732" /></symbol>'});o.a.add(s);t["default"]=s},f249:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-share",use:"icon-oper-share-usage",viewBox:"0 0 1025 1024",content:'<symbol class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-share"><defs><style type="text/css"></style></defs><path d="M832.567581 639.735449c-62.841403 0-118.635522 30.176732-153.689314 76.824644l-301.942439-151.484068c4.77324-16.755122 7.328724-34.442127 7.328724-52.727038 0-20.032347-3.068333-39.342953-8.755943-57.494023L676.309022 303.93628c34.862412 48.631758 91.853594 80.323268 156.258558 80.323268 106.112022 0 192.131657-86.015882 192.131657-192.127904S938.679603-1.3e-05 832.567581-1.3e-05 640.434673 86.019622 640.434673 192.131644c0 7.339982 0.430292 14.581147 1.225832 21.709735L324.410176 373.011914C289.961795 340.294708 243.392687 320.21733 192.132895 320.21733 86.020873 320.21733-1.3e-05 406.236965-1.3e-05 512.348987s86.020885 192.127904 192.132907 192.127904c53.121055 0 101.211196-21.562135 135.989801-56.415791l314.100691 157.588211c-1.173296 8.57457-1.788714 17.320506-1.788714 26.219046 0 106.112022 86.015882 192.131657 192.127904 192.131657 106.112022 0 192.131657-86.019635 192.131657-192.131657S938.679603 639.735449 832.567581 639.735449L832.567581 639.735449zM832.567581 639.735449" p-id="9075" /></symbol>'});o.a.add(s);t["default"]=s},f251:function(e,t,n){e.exports=n.p+"static/img/useParam.a0232c65.png"},f314:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ace-select-calender flex a-center j-between flex-row",class:[e.isFocus&&"ace-select-calender-focus"],on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.ace(t)}}},[n("div",{staticClass:"input flex1 h100",on:{click:function(t){e.isFocus=!e.isFocus}}},[e._v(e._s(e.value?e.value:e.placeholder))]),n("i",{staticClass:"el-icon-date"}),e.isFocus?n("div",{staticClass:"list absolute"},[n("new-calender",{attrs:{type:"light","current-date":e.currentDate},on:{selectDate:e.selectDate}})],1):e._e()])},a=[]},f354:function(e,t,n){"use strict";n.r(t);var i=n("0567"),a=n("744f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},f36c:function(e,t,n){},f38f:function(e,t,n){"use strict";n.r(t);var i=n("a39c"),a=n("6489");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},f39b:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("0dc2")),r=n("d6de"),o={getProjectsList:function(e,t){e.state;return new Promise((function(e,n){a.default.get("projects/list-paging",t,(function(t){e(t.data)})).catch((function(e){n(e)}))}))},createProjects:function(e,t){e.state;return new Promise((function(e,n){a.default.post("projects/create",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},deleteProjects:function(e,t){e.state;return new Promise((function(e,n){a.default.get("projects/delete",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},updateProjects:function(e,t){e.state;return new Promise((function(e,n){a.default.post("projects/update",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getTaskCtatusCount:function(e,t){e.state;return new Promise((function(e,n){(0,r.taskStateCount)(t).then((function(t){e(t)})).catch((function(e){n(e)}))}))},getCommandStateCount:function(e,t){e.state;return new Promise((function(e,n){a.default.get("projects/analysis/command-state-count",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getQueueCount:function(e,t){e.state;return new Promise((function(e,n){a.default.get("projects/analysis/queue-count",t,(function(t){e(t)})).catch((function(e){n(e)}))}))},getProcessStateCount:function(e,t){e.state;return new Promise((function(e,n){(0,r.processStateCount)(t).then((function(t){e(t)})).catch((function(e){n(e)}))}))},getDefineUserCount:function(e,t){e.state;return new Promise((function(e,n){a.default.get("projects/analysis/define-user-count",t,(function(t){e(t)})).catch((function(e){n(e)}))}))}};t.default=o},f3d1:function(e,t,n){},f3fe:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAKGElEQVR4Xu2dech+VRHHP5JtpJCplVZQIQVlabhWRgYVlamVqJVb5oa5ZJmWIVRQ0kJZakZaLi2aC1SuuIBW5oZGWom7IWhB6h+JqBUUX7uPPPx+z3PPnOXe+9xzZ+DheeGdmXPOzPe59ywzc9bBadIWWGfSo/fB4wCYOAgcAA6AiVtg4sP3J4ADYOIWmPjw/QngAJi4BSY+fH8COAAmboGJD9+fAA6AiVtg4sP3J4ADoBMLbAJsBWwNvLL5PL+Tlqah9AbgYkDfRan0E2A94IvAcUV76cpmFvg5cAJwRymTlATAG4CfAW8p1TnXs9ACjwFHA2eVsE8pAGwD3FyiQ67DbIFfAh8xcy9hLAGAHYFrcjvi8kkWOA/4aJJkI5QLAE32rgNem9MJl82ywCHAaakacgHwZeBLqY27XBEL3NqstpKU5QBgA+DPwKZJLbtQSQt8HDg3RWEOAHYDLmxp9F0pHXKZpRbQk1bzrUWkFcH+KbbLAYAQ1zYBydGdMpbaZTTRXgYAjT3J3klCjaVvB97UYvUc3bU7M2V8IQDoVfy3WMU5TnoE2NABEGvyZP4QALTtrglhFOUA4L+BlnJ0Rw1iIswhAGjOdW2sLXKc5ACItXYevwMgz36jl3YAjN6FeQNwAOTZb/TSDoDRuzBvAFUD4CXA54HXAS/Os9MopO9szvNviuhttQBQIMlfIgxRE+tngRONA6oWAJcCHzAaoTa2fwCbAf80DKxaADwAvNpggFpZ3gdcYRhctQAQ+tc3GKBWFmtAR7UA+B2wQ63eNYzrNcBfDXzVAuAA4EcGA9TIcgGwh3Fg1QJA49c599eB7YzGGDubfvFfiwR+1QCYOVSTwSlMCKNP7ZrI67aAED8NHPtjIdD/STwBKvdh1vAcAFnmG7+wA2D8PswagQMgy3zjF3YAjN+HWSNwAGSZb/zCDoDx+zBrBA6ALPONX9gBMH4fZo3AAZBlvvELVw+AXZpCE9aYwHua7OSnO/btRsAr1vg8BMx/lCbXNVUNgB8CBydYUIcqCqi4O0F2mcjzgJ2BDzbfbfmPMx0CgGr2/Aq4rGBf5lVVC4BjgW9kGO0XwMcy5GeiCs3aG3g/oCjlVNJR7yXNUe9tqUoWyFULgFuaopI5tlJpuj8mKtgCOAr4RKL8MrF/Ad8HTgXuLaC7WgCEkkwttvsKoHpFMaRHvWTk/BfGCEbyqq6fgPBVQKBIpWoBMMQTQEEnmne8N9UbCXJXNvMVS/zfIvXVAqDvOcBbgesTHFhK5G2JNX+rBYAM29cqYFXK2qkfem3FUNUAkCG63gfYq6llHGN08f67qbzxKKDlnr61NNT+gL4Vp/fcWKXNikPFn61UPQCshkjhU7TxjZGCPwV+DVzUgGCZuJwv8O4K7BPZxvaANUHUARBp3Bm71vS/ATY3yqv+7snA743882xvB44A9jTKqtDmOwGtFEL0XeDTLUy9VwkLLd9y6g+FjBHz/9OBA40CStJQskYu7Q6cb1SipJiDDLxtRbmTN8NynDQGALwbuMpgXLEkxdW36I6pov4e4GpDP7ds8gPmz0v0ZPiMQXYhS+0A0JbsTgbj5NghpD70Q5G8UuR19mAh1VPQUlKvNh2I6QwimXIGHhpYju7kAc0JakL2E4Oi1HW5QfUzLNZ9h30BTTx7pRwnrToAdMGSZtltFFOhI8cxekR/J6BAqxSBpVeqFQBKub4/YEnNDfreCta7vo108YYKZvRGtQJAx7qhx6mcb50glnCInK/zgDbSa0sXb/VGtQLgbEDv1GWkUve6ZKFvOicQu6A5y359dqpWAIQqmasoxRl9Grpp65PAj1va1Taztph7oxoBIAOq+tYy+g/wosyz+VQHKQbhCWDdFgUbN2cOqW1EydUIAEX4tEUH9T35W9Mhmge0TQa12VMylKwVEDUCQDUHtbGyjJK3TaN+Wu3zj7ardrRx1VVg6Vq9qhEA2ldvu0fvlObAppA/o9XooOnwFilFR+v8oheqEQChoI+U+MGSzlip/tUIAP2CFGG0jPwJMGeZGgGgQ5WLfQ5ge2jVCICtAEUaLyNfBVT+BNCF1g+3AMD3ASoHgIYXOqn0ncAGBDW+AjS0UCCInwVUDoDDAM3220gVylMCP22zq7W5FDB6XUDYTwNTrbuGXGg7WOyK/m3bkSvUlWfVaAcyFC3s8QAFra57iBQ/10YfbnL6Cza7UNWHDLF7HhFU2AvHAScEdOrYWDeg/71w2/PqXg78yXDMO8jEtNZJoByglG/FBep10EY6edMJXFekk8lQH37bJIh01YelemsGgAatog9nGqyq14U1c8ig7lkWZf680SCguYE1kcSgzs5SOwBkicsBlX8JkUCgzKA7QoyG/2vuIYdanK+jX0vugqHZeJYpAEDLL23/WqqAqPLXSU1u4JPx5nymDeUGHtlUFbOoGPR0cgoAkBPkFDnWSrc3rw7daHarQUjnD+8A9gfebOBfk0X3Bx2fIJctMhUAyFAq1nRogsW0UrgZuGvu83pg9tnWMMO3NKtKaV+wMJbkmRIAZDe9CpQwuqr0beBzfXZuagCQbY8BvtmnkSPbysr2jWyLKQJANlLQiLZmFR6+itRb1NJUASCna+Km2n2WJWIuSFTSVpPE50Qo+gHwqQj+JNYpA2BmMG0WqVhkaLcuxcByvGb4s+IPWlq+IEKRooNTaiibm3AA/N9UWr8LBErd2sxsveWMWjXoMb4oQTX2tnSlsOmcoBNyAKxtVmUNa46gotExYNAmkqqFX9iUlWtzmHIAYwpSd5Y06gBo/13ppFDr/dl9AarEpb+1NzC7L0Dxh/o79j5gnUC+LOJnrZqCSnsvSg6AouaMVvYg8KoIqeJBLA6ACOt3xHpfc1OKVX3RfYIcAIRy8HN0W41RC9+dzavGOh5rWbmgvhwn6cBE78hllKM72PEKGRQ1ZI1J0DU5bQmwZvPkOEmh1W1BlTm6zQOojPEPgG4/CZHOC3RukE05TtqtWfIs64Qqb/ZN2mhR8URL7d2++2ZtT8GhKm7dRrrUSrkP2ZQDgA0AhTxpabRqpIAM5eGPlRSHoLyFRaT4hK1LDSwHAOpDKNe9VD9T9HwL0G0kY6UTm93J+f6rkLXC1opRLgCUiKlsFyU0rBp1FejZ5zhnl2ioTRW+1N0FRSkXAOpMTFXsop03KFNQZokgT0NT42QpAQCNXHFwqn4Vs7XZtcUeB14KPNV1Q2PWXwoAssH6wPeawMhVsMlZK9SXVbDHwj6UBMCsAd2WoXWqgiWHIt3DE6oUPlTfVqrdLgAwG6AibrRe1URRHz0huiat/1UfSL9+J4MFugSAoXlnGdoCDoChPTBw+w6AgR0wdPMOgKE9MHD7DoCBHTB08w6AoT0wcPsOgIEdMHTzDoChPTBw+w6AgR0wdPMOgKE9MHD7DoCBHTB08w6AoT0wcPsOgIEdMHTz/wOqbeKQPvqpwAAAAABJRU5ErkJggg=="},f48a:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[e.isShow?n("div",[n("div",[n("el-form",{ref:"dataForm",staticStyle:{width:"750px"},attrs:{model:e.temp,"label-position":"right"}},[n("span",{staticClass:"midText"},[e._v("业务表信息：")]),n("el-form-item",{attrs:{label:"汉化名称：",prop:"chnName"}},[n("el-input",{attrs:{disabled:"showTable"===e.openType},model:{value:e.temp.chnName,callback:function(t){e.$set(e.temp,"chnName",t)},expression:"temp.chnName"}})],1),n("span",{staticClass:"midText"},[e._v("列业务信息：")]),n("el-table",{attrs:{data:e.temp.colMetas,height:"400px"}},[n("el-table-column",{attrs:{prop:"colName",label:"字段名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{staticStyle:{width:"90%"},attrs:{disabled:"showTable"===e.openType},model:{value:t.row.colName,callback:function(n){e.$set(t.row,"colName",n)},expression:"scope.row.colName"}})]}}],null,!1,2757252471)}),n("el-table-column",{attrs:{prop:"chnName",label:"汉化名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{staticStyle:{width:"90%"},attrs:{disabled:"showTable"===e.openType},model:{value:t.row.chnName,callback:function(n){e.$set(t.row,"chnName",n)},expression:"scope.row.chnName"}})]}}],null,!1,4118970098)}),n("el-table-column",{attrs:{prop:"bizAttrUuid",label:"业务标签"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{ref:"bizAttrUuid",attrs:{clearable:"",disabled:"showTable"===e.openType},model:{value:t.row.bizAttrUuid,callback:function(n){e.$set(t.row,"bizAttrUuid",n)},expression:"scope.row.bizAttrUuid"}},e._l(e.bizJson,(function(e){return n("el-option",{key:e.bizAttrUuid,attrs:{label:e.attrName,value:e.bizAttrUuid}})})),1)]}}],null,!1,1584914269)}),n("el-table-column",{attrs:{prop:"transRuleUuid",label:"转码规则",width:"260px",disabled:"showTable"===e.openType},scopedSlots:e._u([{key:"default",fn:function(t){return[n("SelectTransCode",{ref:"SelectTransCode",attrs:{transuuid:t.row.transRuleUuid,"open-type":e.openType},on:{"update:transuuid":function(n){return e.$set(t.row,"transRuleUuid",n)}}})]}}],null,!1,938048595)})],1)],1),"showTable"!==e.openType?n("el-button",{staticStyle:{float:"right","margin-top":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.saveTable()}}},[e._v("保存")]):e._e()],1)]):e._e()])},a=[]},f4ad:function(e,t,n){"use strict";n.r(t);var i=n("8667"),a=n("3a1f");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},f4e7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[]},f4f1:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e858")),r=n("8ebc"),o={name:"GraphTree",components:{MyElTree:a.default},data:function(){return{filterText:"",defaultProps:{label:"label",children:"children",isLeaf:"leaf"},data:[],treeLoading:!1,defaultNodeKey:"privateGraph"}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){this.initGraphTree()},methods:{filterNode:function(e,t){return!e||t.label.indexOf(e)>-1},initGraphTree:function(){var e=this;(0,r.getGraphTrees)().then((function(t){e.data=t.data,e.$nextTick((function(){e.$refs.tree.setCurrentKey(e.defaultNodeKey)}))}))},nodeExpand:function(e,t,n){},nodeclick:function(e,t){"myGraph"===t.data.pid&&this.$emit("refreshGraphList",t.data)}}};t.default=o},f4f5:function(e,t,n){"use strict";n.r(t);var i=n("ca19"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},f535:function(e,t,n){"use strict";n.r(t);var i=n("077d"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},f5a6:function(e,t,n){"use strict";n.r(t);var i=n("fb91"),a=n("5215");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6cdc");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"593a1bac",null);t["default"]=s.exports},f5d6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANcAAADICAYAAAB7/XT7AAAK3UlEQVR4Xu2de8ieZR3Hv1/IiDTrjywyioEV5jqQqUUHmHRm5UrQ0DIia8tSK41GJ7RoYE6tGClOWSQWlrTCdVpJjsiQ1oHCZZJOOphQCR0nUfCLa97vfPfu3d7Dnt99P9d9fW54YbDn+V7X73P9Pjz3c7jvy1rkERGPl3SapDWSjpN0jKQnSTpikRE8DAK1Edgj6e5ZfzfavmexRXihB0bEsyVdIOlsSUUwDgi0TOA7krbavn4hCAeVKyIeJenSTqyjFwri/yHQGIEdkjbZ3nqwuueVKyLK6d4WSasbA0a5EFgqgc/bPn++Jx0gV0ScJGnnUkfg8RBomMAPbL9ibv37yRUR5fTv7w1DonQILJfAFtvnzn7yXLm+J+lVy03neRBonMBa29fNMNgnV0ScJ+nqxuFQPgQOl8Aa27eUkL1ydaeDd0gqH7tzQAACyydwu+2XzZbro5I+tfw8ngkBCMwisN725TOvXOVb6GeBBwIQmAiB3baPc0SsknTbRCIJgQAEZgisLnJ9TtKFMIEABCZK4Noi108knTzRWMIgAIFdRa77JK2ABQQgMFkCRa5/STpysrGkQQACRa4AAwQgMHkCyDV5piRCYC8B5KIRIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASCwHkogcgkEQAuZLAEgsB5KIHIJBEALmSwBILAeSiByCQRAC5ksASC4Gh5bpX0o8l7WYpIHCYBI6X9CJJKw4zZ2JPH0quGyRttH3nxCohCAKSIuIESRdJOndoIEPIdZXti4cunPHHTSAiPiDpqiGr7Fuua2y/Z8iCGbstAhERQ1Xcp1z/kPRi23cNVSzjtkcgIl4tafsQlfcp1wbbHxuiSMZsm0BEXNm9D+sVRJ9ynWj7F71Wx2AQePhDjudK+lXfMPqU60jbe/oukPEgUAhExO8lPa1PGn3JdY/tZ/ZZGGNBYDaBiPi6pDf2SaUvuXbaPqXPwhgLAnPkukbSu/uk0pdc/7Z9VJ+FMRYE5sh1v6Rj+6TSl1ylpufb7v1NZZ8wGWs6CUTE6yVt63t2fcq1yfaFfRfIeBCIiPJzu3P6JtGnXKW2lbZ/3XeRjNcugYj4kKRPD0Ggb7l22X7OEIUyZnsEIuKdkq4bqvK+5Zqpc53tzUMVzbjjJhARp0u6QNKqISsdSq5S818l3S1pl6QHhoTA2KMg8FRJz5BUvk8t/x78GFKuwYtnAhDIJIBcmXTJbpoAcjW9/BSfSQC5MumS3TQB5Gp6+Sk+kwByZdIlu2kCyNX08lN8JgHkyqRLdtMEkKvp5af4TALIlUmX7KYJIFfTy0/xmQSQK5Mu2U0TQK6ml5/iMwkgVyZdspsmgFxNLz/FZxJArky6ZDdNoMj1Z0nHNE2B4iGQQKDIVTagW5mQTSQEWibwlyLXbUPfa6DlFaD20RLYUeQq21teP9oSKQwCwxDYUOR6uqTfDTM+o0JgtARWu5QWEbdIesNoy6QwCPRLoNyXfuWMXK+U9P1+x2c0CIyWwHrbl++Vq3v1+oKkt4+2XAqDQD8EymYjZe/vh2bL9QJJP5L02H7mwCgQGCWBs2zfVCrbJ1f36nWppEtGWTJFQSCfwHttXz0zzH5ydYJ9V9Jr8ufBCBAYFYFv2S77gO07DpCrE+z9kj4zqtIpBgJ5BLbZPm1u/LxydYK9VdIVkp6cNyeSIVA9gY22yx5gBxwHlasTbEW3FUvZjuWI6jFQAAQmR+ArkspuqbcfLPKQcs08KSJOlFT2PFojic3rJrdAJNVF4A+SvirpVtvls4lDHouSa3ZCRBS5yj5I5TKV8vfohQaZgv8/StILu7/HTcF8Wp/CvZLK90HTvgH9f7t95Mpecg/a3rGUhVuyXEsJn7bHRsRTJK2T9C5Jx07b/BqYzzZJm21/s4Fa9/+eq4WCu/eSJ3Qv71zH1t+ir7U92P7E/ZX5yEhNvXLNBRwR5RcpLx0CfGNjnrrUU6ox8GldrqMllfP/J45hMae0hnIaWE7Fmzualqs7RfygpI3NrXw/Bf/J9lRs/t1PufuPglwRqySVWx1wTJ7AvL9cmPww05nYvFzdq1dM5/JUP6tP2C4/Bm/yQK6Hr8RGrpz2R64crvWkIlfaWiFXGtoKgiOi/KzraxVMtcYp7rB9ao0Tn8Scmz8tjIgbJb1lEjDJmJfAybZ/2iKbpuWKiNdJ+naLC99jzTfbPrPH8aZmqNbl+qGkl0/Naox3Iu+wXW6A1NTRrFwRUW4i8uamVnu4YsunsWfYbuq9bZNyRcSXJJ09XK81OfL/OsG+0Ur1zckVETdIOqeVBZ6yOv/TCVYuPRn90ZRcEcGNT4dv6T2dYKP/IKkZuSKi7ORSdnThGJ7APzvBtg8/lbwZNCFXRFwraW0eRpKXQeBvnWC3LuO5VTxl9HJFRLkD6nlVrEZ7k3ywE2yUVyWMWq6I2CTp/PZ6tqqKy57c5WP68p3jqI7RyhURn5X0vlGt1niLeaAT7KD3AKyx9FHKFRFXSrqoxgVpeM5/7AS7YywMRidXRJRL9sul+xz1ESjbB5dTxJ31Tf3AGY9Kroi4TNL6MSxMwzXs7gT7ee0MRiNXRGyQ9JHaF4T57yXw206wX9bMYxRyRcQnJX285oVg7gcQ+E0n2J21sqlerogoFzqWCx45xkdgp+1Tai1rDHKVyxjKpfoc4yRQ7d16q5YrIh4j6aFx9hRVdQQus/3hGmnULtfxku6qETxzXjSBm2yftehHT9EDa5freZKq/kRpinphWqey3fZrp3Vyh5pX1XKVwiKifLPf7P3Ia2y6Jc652o0cxiDXFyW9bYkLxsPrIbDO9uZ6pvvITMcg15skba0RPnNekMDPbJ+04KOm9AHVy9WdGpbrgcpuJRzjInCm7ZtrLWkUcnWCsZlCrV04/7yrPR2cKWc0cnWCXSHp4nH1WHPVlA+oLrG9pfbKRyVXJ1g5PTxD0kskrZD0hNoXqYH53y/pvm5DjC/bLlcnV3/8H+aa1woheXZUAAAAAElFTkSuQmCC"},f5e0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tools-template w100 h100 relative",attrs:{id:"tool"}},[i("div",{staticClass:"tools-content h100 relative"},[e._m(0),i("div",{staticClass:"lately-use"},[i("div",{staticClass:"title-label"},[e._v("常用功能")]),i("div",{staticClass:"lately-use-box flex a-center j-start flex-row"},e._l(e.latelyBdInList,(function(t,n){return i("div",{key:n,staticClass:"use-box flex a-center j-center use-zy",style:{background:t.bg},on:{click:function(t){return e.theRouting(n)}}},[i("img",{attrs:{src:t.image}})])})),0),i("div",{staticClass:"lately-use-box flex a-center j-start flex-row"},e._l(e.latelyUseList,(function(t,n){return i("div",{key:n,staticClass:"use-box flex a-center j-center use-zyt"},[i("el-tooltip",{attrs:{content:t,placement:"bottom",effect:"light"}},[i("span",{staticClass:"doubleWords"},[e._v(" "+e._s(t)+" ")])])],1)})),0),i("div",{staticClass:"title-label",staticStyle:{"margin-top":"15px"}},[e._v("自定义快捷菜单")]),i("div",{staticClass:"lately-use-box flex a-center j-start flex-row"},[e._l(e.latelyFastList,(function(t,n){return i("div",{key:n,staticClass:"use-box flex a-center j-center use-zy",style:{background:t.bg},on:{click:function(n){return e.theRoutingIn(t)}}},[i("img",{attrs:{src:t.image}})])})),i("div",{staticClass:"use-box flex a-center j-center use-zy",style:{background:"rgb(81, 69, 89)"},on:{click:function(t){e.dialogVisible=!0}}},[i("img",{attrs:{src:n("4ef7d")}})])],2),i("div",{staticClass:"lately-use-box flex a-center j-start flex-row"},[e._l(e.latelyFastList,(function(t,n){return i("div",{key:n,staticClass:"use-box flex a-center j-center use-zyt"},[i("el-tooltip",{attrs:{content:t.name,placement:"bottom",effect:"light"}},[i("span",{staticClass:"doubleWords"},[e._v(" "+e._s(t.name)+" ")])])],1)})),e._m(1)],2)]),i("div",{staticClass:"other-tools"},[i("div",{staticClass:"title-label"},[e._v("其他工具")]),i("div",{staticClass:"other-tools-box flex flex-row a-center j-start"},e._l(e.otherToolsList,(function(t,n){return i("div",{key:n,staticClass:"tools-box flex a-start j-center flex-column"},[i("i",{staticClass:"el-icon-s-home tools-box-icon"}),i("div",{staticClass:"tools-box-name"},[e._v(e._s(t.name))])])})),0)]),i("div",{staticClass:"newest-item"},[i("div",{staticClass:"title-label"},[e._v("执行任务")]),i("div",{staticClass:"newest-item-box"},[i("div",[i("ul",e._l(e.list,(function(t,n){return i("li",{key:n},[2==t.taskStatus?i("span",{staticClass:"el-icon-success",staticStyle:{color:"#eaeaea"}}):e._e(),1==t.taskStatus?i("span",{staticClass:"el-icon-loading",staticStyle:{color:"#eaeaea"}}):e._e(),3==t.taskStatus?i("span",{staticClass:"el-icon-error",staticStyle:{color:"#eaeaea"}}):e._e(),i("span",{staticClass:"tools-box-name",staticStyle:{color:"#eaeaea","font-size":"11px",padding:"2px"},domProps:{textContent:e._s(t.taskEstimatedTime)}}),i("span",{staticClass:"tools-box-name",staticStyle:{color:"#eaeaea","font-size":"11px",padding:"2px",cursor:"pointer"},domProps:{textContent:e._s(t.taskName)},on:{click:function(n){return e.toUrl(t.taskUrl)}}})])})),0),i("span",{staticStyle:{color:"#4e6ef2",float:"right",bottom:"-22px","font-size":"10px",cursor:"pointer"},attrs:{type:"primary"},on:{click:e.moreTask}},[e._v("更多")])])])])]),i("div",{staticClass:"tools-right",on:{click:e.callback}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogVisible,expression:"dialogVisible"}],staticClass:"tools-center"},[i("el-collapse",{staticClass:"tools-menu-small"},[i("el-collapse-item",{attrs:{title:"审计作业"}},[i("el-tree",{ref:"tree1",attrs:{data:e.menugroup["402883817586fc2a017586fd9e1a0001"],"show-checkbox":"","node-key":"id","highlight-current":"","check-strictly":e.defaultProps.checkStrictly,props:e.defaultProps}})],1),i("el-collapse-item",{attrs:{title:"审计分析"}},[i("el-tree",{ref:"tree2",attrs:{data:e.menugroup["4028838175880ded01758835b393006b"],"show-checkbox":"","node-key":"id","highlight-current":"","check-strictly":e.defaultProps.checkStrictly,props:e.defaultProps}})],1),i("el-collapse-item",{attrs:{title:"审计资源"}},[i("el-tree",{ref:"tree3",attrs:{data:e.menugroup["4028838175880ded01758816610b001a"],"show-checkbox":"","node-key":"id","highlight-current":"","check-strictly":e.defaultProps.checkStrictly,props:e.defaultProps}})],1),i("el-collapse-item",{attrs:{title:"系统配置"}},[i("el-tree",{ref:"tree4",attrs:{data:e.menugroup["4028838175880ded01758828366f0046"],"show-checkbox":"","node-key":"id","highlight-current":"","check-strictly":e.defaultProps.checkStrictly,props:e.defaultProps},on:{check:function(e){}}})],1)],1),i("el-button",{staticClass:"btn-tree",attrs:{type:"primary"},on:{click:e.getCheckedNodes}},[e._v("保 存")]),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title text-white"},[n("i",{staticClass:"el-icon-s-grid"}),n("span",{staticClass:"label"},[e._v("更多工具")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"use-box flex a-center j-center use-zyt"},[n("span",{staticStyle:{"font-size":"14px"}},[e._v(" 维护 ")])])}]},f600:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={};t.default=i},f676:function(e,t,n){"use strict";n.r(t);var i=n("f023"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},f6a6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("el-row",{attrs:{gutter:5}},[n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText1,callback:function(t){e.filterText1=t},expression:"filterText1"}}),n("div",{staticClass:"tree-container"},[n("MyElTree",{directives:[{name:"loading",rawName:"v-loading",value:e.tree1Loading,expression:"tree1Loading"}],ref:"tree1",staticClass:"filter-tree",attrs:{props:e.props,"default-expanded-keys":["ROOT"],"highlight-current":!0,data:e.treeData1,"node-key":"id","expand-on-click-node":!1,"filter-node-method":e.filterNode,"show-checkbox":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},["root"===a.id?n("i",{staticClass:"el-icon-s-home",staticStyle:{color:"#409EFF"}}):e._e(),"folder"===a.type?n("i",{staticClass:"el-icon-folder",staticStyle:{color:"#409EFF"}}):e._e(),"table"===a.type?n("i",{staticClass:"el-icon-tickets",staticStyle:{color:"#409EFF"}}):e._e(),"column"===a.type?n("i",{staticClass:"el-icon-c-scale-to-original",staticStyle:{color:"#409EFF"}}):e._e(),n("span",{attrs:{title:i.name}},[e._v(e._s(i.label))])])}}])})],1)],1),n("el-col",{staticStyle:{width:"45px","padding-top":"10%"},attrs:{span:2}},[n("div",{staticClass:"transfer-center"},[n("p",{staticClass:"transfer-center-item"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-right",circle:""},on:{click:e.addRoleTable}})],1)])]),n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText2,callback:function(t){e.filterText2=t},expression:"filterText2"}}),n("div",{staticClass:"tree-container"},[n("MyElTree",{ref:"tree2",staticClass:"filter-tree",attrs:{props:e.props,"highlight-current":!0,data:e.treeData2,"node-key":"id","default-expanded-keys":["ROOT"],"expand-on-click-node":!1,"show-checkbox":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},["ROOT"===a.id?n("i",{staticClass:"el-icon-s-home",staticStyle:{color:"#409EFF"}}):e._e(),"folder"===a.type?n("i",{staticClass:"el-icon-folder",staticStyle:{color:"#409EFF"}}):e._e(),"table"===a.type?n("i",{staticClass:"el-icon-tickets",staticStyle:{color:"#409EFF"}}):e._e(),"column"===a.type?n("i",{staticClass:"el-icon-c-scale-to-original",staticStyle:{color:"#409EFF"}}):e._e(),n("span",{attrs:{title:i.name},on:{click:function(t){return e.onclick2(i)}}},[e._v(e._s(i.label))]),"ROOT"!==a.id?n("span",{staticStyle:{"padding-left":"10px"}},[n("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-remove"},on:{click:function(){return e.remove(i,a)}}})],1):e._e()])}}])})],1)],1),n("el-col",{attrs:{span:8}},[null!==e.currentData?n("el-form",{ref:"rightForm",attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"资源名称","label-width":"100px"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.currentData.label,callback:function(t){e.$set(e.currentData,"label",t)},expression:"currentData.label"}})],1),n("el-form-item",{attrs:{label:"访问类型设置","label-width":"100px"}},[n("el-checkbox-group",{model:{value:e.currentData.accessType,callback:function(t){e.$set(e.currentData,"accessType",t)},expression:"currentData.accessType"}},e._l(e.accessTypeArray,(function(t,i){return n("el-checkbox",{key:t.code,attrs:{label:t.code}},[e._v(e._s(t.name))])})),1)],1),"table"===e.currentData.type?n("el-form-item",{attrs:{label:"表行列筛选设置","label-width":"100px"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:"colMetaUuid",staticStyle:{width:"100%"},attrs:{data:e.currentData.cols,border:"",fit:"","highlight-current-row":"","max-height":"350"}},[n("el-table-column",{attrs:{width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{model:{value:t.row.selected,callback:function(n){e.$set(t.row,"selected",n)},expression:"scope.row.selected"}})]}}],null,!1,1785335365)}),n("el-table-column",{attrs:{label:"列名",width:"200px",align:"center",prop:"colName"}}),n("el-table-column",{attrs:{label:"别名",width:"200px",align:"center",prop:"chnName"}}),n("el-table-column",{attrs:{label:"加密策略",width:"150px",align:"center",prop:"encryptType"}})],1),n("div",{staticStyle:{margin:"8px"}},[n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入筛选语句，如： name='张三' and age=19 "},model:{value:e.currentData.whereStr,callback:function(t){e.$set(e.currentData,"whereStr",t)},expression:"currentData.whereStr"}})],1)],1):e._e()],1):e._e()],1)],1),n("div",{staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.goBack}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)},a=[]},f717:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMqADAAQAAAABAAAAMgAAAAB1y6+rAAACsUlEQVRoBe2YvWsUQRiHZ/PhJV4wkYjEk/MLVCxUSCOCnY3+BRaClZBCbSz8QgQLwRRCEMFCLQQLsRALUQKCBIIiQhAUJBFRCQTEQITzo/D0fI4jsLc7O8zs7rsbjl34cTPvvO/vfWbmOO5OKeGn0WjsQ9uE28jas4FRtIS+oM2y3YTcAd+NFtHy85HBRqF2MrYA70Jfl3fge51lPCLTNWVXQLejBR98cPiOwLqU26ZrB+BWNB8k18zfEFubbveU3ACrok/I9nlN4mBK7dOxAaiCPtjuwJf3gvFAOhQJXQBZj9774FyHUxSsToiRrByAYfTWlVyT/4xYXzKamNU0HkIzGqi4oScUroqJE6+MhmvQq7jEhrpHrPXGo3KsolEZTRtgki49wKDbEcstnQb96DmSfu7RoMuNzjIb4xKalN6Bz/8OY88Szy4Nw1702Nckq+FNO0KLLIh70MOsyDV9JiwwzSmYdqP7GvOsQ1fNpIZVSLvQ3ayJDf0uG3D1S5h56JbBNK+l83riiCiUN/Iiteh7OgK7PYzRNQuzvFNOtFMHZtBdyZvQsv8/8o4H8FtTFi5ZmqyUtL+AHGvbDIGzK4XOkaNO/pHmZpqfTnt5vdi2s9ak+W/HAU08z9AkzWsBgD/Mz0R+l2GDh0h4GihqTcevn1RT04uhtVNje9ThgxdCcV3g6NiMWvo+GlqqbHipbk/sD8VbgZ2e583p1mS+Yeo6CceKjQgfsLN9cSPORyZcUNyI8AE72xc34nxkwgXFjQgfsLN9cSPORyZcUNyI8AE72xc34nxkwgUdcyPxfur++Dmn6vVfoUMulYZVf181FNcF5hc+q1rtd2hpaLCsKiObQvFWIPKnbk9EgTk8UN5hTrBYrVa2WGRZp3TMW6tjNmJ6a81yr+es7zabxG9Rbf4Da+ffZ5xad18AAAAASUVORK5CYII="},f721:function(e,t,n){},f755:function(e,t,n){"use strict";n("f721")},f759:function(e,t,n){"use strict";n.r(t);var i=n("4814"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},f7a1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAATCAYAAAB2pebxAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEaADAAQAAAABAAAAEwAAAAD0U8BhAAABlElEQVQ4Ed1UzytEURQ+58zIsFBKYTllJSVspUh+5fd0/cpaycoOKZSNjc3Iyn7wLJj89gfIwsYfQBSSBRphHu8c70691xgj19ap2/3Od77v695b7yGkVcfgSNFHUW5iLxpNptFfYHPncJlAsiEEge14fPVGDyld8ZZ4mHTOb0fSuUwsYlfwB0+/Aoe9mR/S3NNfKczKERhrU6rEE5jsfojzzrPagCD57688YWL2NKmQpo6+bmCu8Uhh6G3tjFR5/W87KTWex44zlSm0meZEBDP5bD092tf1iHjprhNXYAPRk8YkkmyJDBidJni0tb7rmvWCxvbIMYpcHO1sDOnetPyHNTVk0/2zkGC2O2ZySqlA4kW6GJHEgWo9Z+a6pnZVKgS20ZtYluUwQK1rXBRwhnUIsoymeuFyoxBtChXkLAjgi8Z+Ed0XhoqXjEPisdgdEUX9ABcEGBcsa/nZOESbg+HiFUS4SgUhne3vrFka/ylE/6woQPMpYw7MuJ+HfAtBwQuXvdaDn+ogbu0LBScPN61TT/MJ1HuVRTRXlFUAAAAASUVORK5CYII="},f8a4:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-icon-close-1",use:"icon-icon-close-1-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-close-1"><defs><style type="text/css"></style></defs><path d="M927.5 927.4h-830v-830h830v830z m-103.7-415c0-24.6-19.9-44.5-44.5-44.5H245.7c-24.6 0-44.5 19.9-44.5 44.5s19.9 44.5 44.5 44.5h533.6c24.6 0 44.5-19.9 44.5-44.5z" p-id="4023" /></symbol>'});o.a.add(s);t["default"]=s},f8c5:function(e,t,n){"use strict";n.r(t);var i=n("f5e0"),a=n("303a");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("2579");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"b8aee940",null);t["default"]=s.exports},f926:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-tree w100 h100 relative",class:[e.isSearch&&"tree-bg"]},[e.isSearch?[n("div",{staticClass:"search-wrap relative w100 h100"},[n("new-input",{attrs:{width:"100%",size:"big","icon-around":"prefix","input-color":"#929498"},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),n("div",{staticClass:"form-item"},[n("div",{staticClass:"form-item-title"},[e._v("其他选择")]),n("new-select",{model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}})],1),n("div",{staticClass:"form-item"},[n("div",{staticClass:"form-item-title"},[e._v("模型库选择")]),n("div",{staticClass:"form-item-tags flex a-center j-start flex-row"},e._l(e.navList,(function(t,i){return n("div",{key:i,staticClass:"tag",class:[i>0&&i<5&&"tag-active"]},[e._v(e._s(t.name))])})),0)]),n("div",{staticClass:"form-item"},[n("div",{staticClass:"form-item-title"},[e._v("最近更新时间")]),n("div",{staticClass:"form-item-checkboxs"},[n("new-checkbox-group",{model:{value:e.checkboxVal,callback:function(t){e.checkboxVal=t},expression:"checkboxVal"}})],1)]),n("div",{staticClass:"btn-wrap-box tree-bg flex a-center j-between flex-row"},[e._m(1),n("div",{staticClass:"btn close",on:{click:function(t){e.isSearch=!1}}},[n("span",[e._v("关闭")])])])],1)]:[n("div",{staticClass:"tree-header flex a-center j-between flex-row"},[n("div",{staticClass:"nav-wrap h100 flex a-center j-center flex-row relative",class:[-1===e.currentNavIndex?"nav-wrap-open":"nav-wrap-radius"]},[-1===e.currentNavIndex?n("div",{staticClass:"open-temp absolute flex a-center flex-start flex-row"},[n("div",{staticClass:"open-temp-tar"}),e._l(e.navList,(function(t,i){return n("div",{staticClass:"open-temp-tag"},[e._v(e._s(t.name))])}))],2):e._e(),e._l(e.navList.slice(0,e.tagCount),(function(t,i){return n("div",{key:i,staticClass:"nav flex-shrink",class:[e.currentNavIndex===i&&"nav-active radius-circle"],on:{click:function(t){return e.select(i)}}},[e._v(e._s(t.name))])})),n("div",{staticClass:"nav-more flex1 text-center",class:[-1===e.currentNavIndex&&"nav-more-active"],on:{click:function(t){return e.select(-1)}}},[n("i",{staticClass:"el-icon-more icon-more"})])],2),-1!==e.currentNavIndex?n("div",{staticClass:"search-wrap h100 flex a-center j-center radius-circle"},[n("i",{staticClass:"el-icon-search icon"})]):e._e()]),n("div",{staticClass:"tree-content"},[n("div",{staticClass:"content-title text-center"},[e._v("财务审计-财务收支审计")]),n("Tree",{key:"1",attrs:{"tree-data":e.treeData},on:{"node-click":e.nodeClick}})],1),n("div",{staticClass:"btn-tree-box absolute flex a-center j-center flex-column"},[e.isBtnSearch?n("div",{staticClass:"absolute btn-box-search flex a-center j-center",on:{click:function(t){e.isSearch=!0}}},[e._m(0)]):e._e(),e._l(4,(function(e,t){return n("div",{key:t,staticClass:"btn-box flex a-center j-center"},[n("i",{staticClass:"el-icon-edit"})])}))],2),e.isChildrenRender?n("div",{staticClass:"children-render",style:[e.renderStyle]},[n("Tree",{key:"2",attrs:{"tree-data":e.treeDataChildRender}})],1):e._e()]],2)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn-box flex a-center j-center"},[n("i",{staticClass:"el-icon-search"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn sure"},[n("span",[e._v("查询结果")])])}]},f999:function(e,t,n){"use strict";var i=n("4ea4");n("8e6e"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var a=i(n("9523")),r=n("2f62"),o=i(n("a91e")),s=n("4e81");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={components:{BaseCodeTreeOperate:o.default},data:function(){return{dataSortUuid:"",dataSortName:"",codeUuid:"",parentCodeUuid:"",tableData:[],seleteLengthData:[],editTag:"",objCode:{},pageQuerySecond:{condition:null,pageNo:1,pageSize:20,sortBy:"asc",sortName:"create_time"}}},computed:u({},(0,r.mapState)({baseCode:function(e){return e.dataSort.baseCodes}})),watch:{baseCode:{handler:function(e){var t=JSON.parse(e);this.dataSortName=t.codeName,this.dataSortUuid=t.dataSortUuid,this.parentCodeUuid=t.codeUuid,this.editTag=this.$route.query.editTag,this.query()},deep:!0}},mounted:function(){var e=this.$store.state.dataSort.baseCodes;e=JSON.parse(e),this.dataSortName=e.codeName,this.dataSortUuid=e.dataSortUuid,this.parentCodeUuid=e.codeUuid,this.editTag=this.$route.query.editTag},methods:{handleSelectionChange:function(e){this.seleteLengthData=e},saveCodeData:function(){var e=this.dataSortUuid,t=this.parentCodeUuid;this.$refs.baseCodeOperate.saveCedeData(e,t)},editCodeData:function(){var e=this.dataSortUuid,t=this.parentCodeUuid;if(1!==this.seleteLengthData.length)return this.$notify.error({title:"错误",message:"请选中一条数据进行修改",position:"bottom-right"}),!1;this.$refs.baseCodeOperate.editCodeData(e,t)},delCodeData:function(){var e=this;if(this.seleteLengthData.length<1)return this.$notify.error({title:"错误",message:"请选中一条以上数据进行删除",position:"bottom-right"}),!1;this.$confirm(this.$t("confirm.delete"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.okBtn"),cancelButtonText:this.$t("confirm.cancelBtn"),type:"warning"}).then((function(){var t=[];e.seleteLengthData.forEach((function(e,n){t.push(e)})),(0,s.delSecond)(t).then((function(){e.query(),e.$notify({title:e.$t("message.title"),message:e.$t("message.delete.success"),type:"success",duration:2e3,position:"bottom-right"})}))}))},query:function(){var e=this;this.objCode.parentCodeUuid=this.parentCodeUuid,this.pageQuerySecond.condition=Object.assign({},this.objCode),(0,s.inItCode)(this.pageQuerySecond).then((function(t){e.tableData=t.data.records})).catch((function(e){console.log(e)}))},resetForm:function(){this.$refs.baseCodeOperate.resetForm()},returnList:function(){this.$router.push({path:"/base/sysdata"})}}};t.default=c},fa3a:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var a=i(n("9445")),r={components:{queryBuilder:a.default},props:["columns","data","inputselectvalue"],data:function(){return{queryRules:[],queryJson:{}}},created:function(){this.setQueryBuilderColumn()},mounted:function(){this.initData()},methods:{initData:function(){null!=this.data.children&&(this.queryJson=this.data)},setQueryBuilderColumn:function(){for(var e=[],t=0;t<this.columns.columnList.length;t++){var n=this.getQueryBuilderOperators(this.columns.columnList[t]),i={type:"inputselect"};i.id=this.columns.columnList[t].columnName,i.label=this.columns.columnList[t].columnName,i.operators=n;var a=[];if(void 0!=this.inputselectvalue)for(var r=0;r<this.inputselectvalue.length;r++){var o={label:this.inputselectvalue[r].outputColumnName,value:this.inputselectvalue[r].outputColumnName};a.push(o)}i.choices=a,e.push(i)}this.queryRules=e},getQueryBuilderOperators:function(e){var t=[];return-1==e.columnType.toUpperCase().indexOf("TIMESTAMP")&&-1==e.columnType.toUpperCase().indexOf("RAW")||(e.columnType="VARCHAR"),-1!=e.columnType.toUpperCase().indexOf("VARCHAR")||-1!=e.columnType.toUpperCase().indexOf("CLOB")?t=["=","<>","like","not like"]:-1==e.columnType.toUpperCase().indexOf("INT")&&-1==e.columnType.toUpperCase().indexOf("NUMBER")||(t=["=","<>","<","<=",">",">="]),t},selectSql:function(){if(null==this.queryJson.children)alert("请添加条件后在进行查询！");else{var e=this.queryToSql(this.queryJson);this.queryJson;this.$emit("queryconditionchangetable",e,this.queryJson)}},getSelectSql:function(){if(null!=this.queryJson.children){var e=this.queryToSql(this.queryJson),t={sql:e,queryJson:this.queryJson};return t}alert("请添加条件后在进行查询！")},queryToSql:function(e){var t=this,n=[],i=this,a=e.logicalOperator,r=e.children;return r.forEach((function(e){var r=e.type;if("query-builder-rule"===r){for(var o={},s=0;s<t.columns.columnList.length;s++)if(t.columns.columnList[s].columnName==e.query.rule){o=t.columns.columnList[s];break}"TIMESTAMP"==o.columnType.toUpperCase()||o.columnType.toUpperCase().indexOf("VARCHAR")>-1||"CLOB"==o.columnType.toUpperCase()?"like"==e.query.operator||"not like"==e.query.operator?(n.push(e.query.rule),n.push(e.query.operator),n.push("'%"+e.query.value+"%'")):(n.push(e.query.rule),n.push(e.query.operator),n.push("'"+e.query.value+"'")):(n.push(e.query.rule),n.push(e.query.operator),n.push(e.query.value))}else n.push("("),n.push(i.queryToSql(e.query)),n.push(")");n.push(a)})),n.splice(n.length-1,n.length),n.join(" ")}}};t.default=r},fa58:function(e,t,n){"use strict";n("1a3d")},fa72:function(e,t,n){"use strict";n("b2ad")},facf:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6b54"),n("3b2b");var a=n("ed08"),r=i(n("ec98")),o=n("9ac2"),s={props:["dataUserId","sceneCode"],components:{runimmediatelycon:r.default},data:function(){return{dragMinWidth:250,dragMinHeight:124,memoValue:"",currentData:[],dialogFormVisible:!1,list:[],runimmediatelyIsSee:!1,addRunTaskRelBatchResult:null,addRunTaskResult:null,models:[],replacedInfo:[],timingExecutionIsSee:!1}},mounted:function(){this.initEvent()},methods:{initEvent:function(){var e=document.getElementsByClassName("none-box")[0],t=document.getElementsByClassName("label-tip")[0],n=(document.getElementsByClassName("iconYY"),document.getElementsByClassName("iconYY1")[0],"null");t.onmouseover=function(){clearInterval(n),e.style.display="block"},t.onmouseout=function(){n=setInterval((function(){e.style.display="none"}),200)},e.onmouseover=function(){clearInterval(n),e.style.display="block"},e.onmouseout=function(){e.style.display="none"};var i=document.getElementById("drag"),a=this.byClass("select-btn",i)[0];this.byClass("title",i)[0];this.drag(i,a)},drag:function(e,t){var n=0,i=0;this.byClass("min",e)[0],this.byClass("max",e)[0],this.byClass("revert",e)[0],this.byClass("close",e)[0];t=t||e,t.style.cursor="move",t.onmousedown=function(t){t=t||window.event;return i=t.clientX-e.offsetLeft,n=t.clientY-e.offsetTop,document.onmousemove=function(t){t=t||window.event;var a=t.clientX-i,r=t.clientY-n,o=document.documentElement.clientWidth-e.offsetWidth,s=document.documentElement.clientHeight-e.offsetHeight;return a<=0&&(a=0),r<=0&&(r=0),a>=o&&(a=o),r>=s&&(r=s),e.style.left=a+"px",e.style.top=r+"px",!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,this.releaseCapture&&this.releaseCapture()},this.setCapture&&this.setCapture(),!1}},setMemo:function(e){this.memoValue=e.length,this.currentData=e},selectData:function(){this.dialogFormVisible=!0},dateFormatter:function(e,t){var n=e.createTime;if(n){var i=new Date(n),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds(),c=a+"-"+r+"-"+o+" "+s+":"+l+":"+u;return c}return""},modelTypeFormatter:function(e,t){var n=e.modelType,i=(0,a.getOneDict)(n),r="";return 0==i.length?"":(r=i[0].codeName,r)},riskLevelFormatter:function(e,t){var n=e.riskLevelUuid,i="",r=(0,a.getOneDict)(n);return 0==r.length?"":(i=r[0].codeName,i)},byId:function(e){return"string"===typeof e?document.getElementById(e):e},byClass:function(e,t){for(var n=[],i=new RegExp("(^| )"+e+"( |$)"),a=this.byTagName("*",t),r=0;r<a.length;r++)i.test(a[r].className)&&n.push(a[r]);return n},byTagName:function(e,t){return(t||document).getElementsByTagName(e)},runImmediately:function(){this.runimmediatelyIsSee=!0},timingExecution:function(){this.timingExecutionIsSee=!0},modelRunSetting:function(){var e=this;this.$refs.modelsetting.replaceParams().then((function(t){e.models=t.models,e.replacedInfo=t.replaceInfo;var n=t.modelResultSavePathId,i=t.dateTime;if(e.timingExecutionIsSee)if(""==i)e.$message("请输入定时时间");else if(""==e.replacedInfo[0].sql)e.$message("请输入参数");else if(""==n)e.$message("请选择模型结果保存路径");else{Date.parse(i.toString()),Date.parse((new Date).toString());for(var a=(0,o.uuid2)(),r=(0,o.uuid2)(),s=[],l=0;l<e.models.length;l++){var u=(0,o.uuid2)(),c={sql:e.replacedInfo[l].sql,paramsArr:e.replacedInfo[l].paramsArr},d={runTaskRelUuid:u,runTaskUuid:a,sourceUuid:e.models[l].modelUuid,settingInfo:JSON.stringify(c),modelVersion:e.models[l].modelVersion,runRecourceType:1,isDeleted:0,runStatus:1};s.push(d)}var h=3;e.timingExecutionIsSee&&(h=2),e.runimmediatelyIsSee&&(h=3);var f={runTaskUuid:a,batchUuid:r,runTaskName:"系统添加",runType:h,timingExecute:i,locationUuid:n,runTaskRels:s};(0,o.addRunTaskAndRunTaskRel)(f,e.dataUserId,e.sceneCode).then((function(t){1==t.data?e.$notify({title:"提示",message:"已经将模型添加到后台自动执行，请去'模型结果'查看",type:"success",duration:2e3,position:"bottom-right"}):e.$message({type:"info",message:"执行运行任务失败"})})),e.runimmediatelyIsSee=!1,e.timingExecutionIsSee=!1}else if(e.runimmediatelyIsSee)if(""==e.replacedInfo[0].sql)e.$message("请输入参数");else if(""==n)e.$message("请选择模型结果保存路径");else{for(Date.parse(i.toString()),Date.parse((new Date).toString()),a=(0,o.uuid2)(),r=(0,o.uuid2)(),s=[],l=0;l<e.models.length;l++){u=(0,o.uuid2)(),c={sql:e.replacedInfo[l].sql,paramsArr:e.replacedInfo[l].paramsArr},d={runTaskRelUuid:u,runTaskUuid:a,sourceUuid:e.models[l].modelUuid,settingInfo:JSON.stringify(c),modelVersion:e.models[l].modelVersion,runRecourceType:1,isDeleted:0,runStatus:1};s.push(d)}var p=3;e.timingExecutionIsSee&&(p=2),e.runimmediatelyIsSee&&(p=3);f={runTaskUuid:a,batchUuid:r,runTaskName:"系统添加",runType:p,timingExecute:i,runTaskRels:s,locationUuid:n};(0,o.addRunTaskAndRunTaskRel)(f,e.dataUserId,e.sceneCode).then((function(t){1==t.data?e.$notify({title:"提示",message:"已经将模型添加到后台自动执行，请去'模型结果'查看",type:"success",duration:2e3,position:"bottom-right"}):e.$message({type:"info",message:"执行运行任务失败"})})),e.runimmediatelyIsSee=!1,e.timingExecutionIsSee=!1}}))}}};t.default=s},fb6a:function(e,t,n){"use strict";n.r(t);var i=n("fa3a"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},fb91:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"filter-container"},[n("QueryField",{ref:"queryfield",attrs:{"form-data":e.queryFields},on:{submit:e.getList}})],1),n("el-row",[n("el-col",{attrs:{align:"right"}},[n("el-button",{staticClass:"oper-btn processing-1",attrs:{type:"primary",size:"mini",disabled:0===e.selections.length},on:{click:function(t){return e.updateCode()}}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"",height:"calc(100vh - 300px)","max-height":"calc(100vh - 300px)","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"标题",prop:"remindTitle"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("a",{class:1===t.row.readStatus?"handreada":"handreada-no",attrs:{type:"text",size:"small"},on:{click:function(n){return e.handdetails(t.row)}}},[e._v(" "+e._s(t.row.remindTitle)+" "),0===t.row.readStatus?n("span",{staticClass:"notRead"},[e._v(" NEW")]):e._e()])]}}])}),n("el-table-column",{attrs:{label:"提醒时间",align:"center",prop:"remindTime"}}),n("el-table-column",{attrs:{label:"阅读状态",prop:"readStatus",align:"center",formatter:e.readStatusFormatter}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageQuery.pageNo,limit:e.pageQuery.pageSize},on:{"update:page":function(t){return e.$set(e.pageQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.pageQuery,"pageSize",t)},pagination:e.getList}}),n("el-dialog",{attrs:{"append-to-body":!0,visible:e.dialogFormVisible,top:"10vh",title:"消息详情",width:"50%"},on:{"update:visible":function(t){e.dialogFormVisible=t}},model:{value:e.temp,callback:function(t){e.temp=t},expression:"temp"}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"visible-p1"},[e._v(" "+e._s(this.temp.remindTitle)+" ")])])],1),n("el-divider"),n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"visible-p2"},[e._v(" "+e._s(this.temp.remindTime)+" ")])]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"visible-p4"},[e._v(" 发送人："+e._s(this.temp.remindUserName)+" ")])])],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"visible-p3"},[e._v(" "+e._s(this.temp.remindContent)+" ")])])],1)],1)],1)},a=[]},fba3:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var a=i(n("e858")),r=n("64dc"),o=n("41a6"),s=n("ed08"),l={components:{MyElTree:a.default},data:function(){return{roleUuid:this.$route.params.roleUuid,paramSceneCode:this.$route.params.sceneCode,allScene:[],currentSceneUuid:"",treeLoading:!1,grpUuid:"",filterText:null,treeData:{},listLoading:!1,props:{label:"label",isLeaf:"leaf"},userMap:{},tableData:[],selections:[]}},computed:{currentTreeData:function(){return this.treeData["A"+this.grpUuid]},currentScene:function(){var e=this;return this.allScene.filter((function(t){return t.sceneUuid===e.currentSceneUuid}))[0]}},watch:{filterText:function(e){this.$refs["A"+this.grpUuid].filter(e)}},created:function(){var e=this;(0,r.getAllScene)().then((function(t){e.allScene=t.data,e.allScene.length>0&&(e.currentSceneUuid=e.allScene[0].sceneUuid),console.log("设置默认scene  "+e.paramSceneCode),e.paramSceneCode&&e.allScene.forEach((function(t){e.paramSceneCode===t.sceneCode&&(e.currentSceneUuid=t.sceneUuid)}))})),(0,o.getRoleGrp)(this.roleUuid).then((function(t){e.tableData=t.data}))},mounted:function(){var e=this;setTimeout((function(){document.getElementById("tab-"+e.currentScene.groups[0].sceneGrpUuid).click()}),1e3)},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},addGrp:function(){var e=this;console.log(this.grpUuid);var t=this.$refs["A"+this.grpUuid][0].getCheckedNodes();t.forEach((function(t){console.log(t),0===e.tableData.filter((function(e){return e.userName===t.label})).length&&e.tableData.push({dataRoleUuid:e.roleUuid,sceneGrpUuid:e.grpUuid,userName:t.label,userType:t.type,grpInstUuid:1==t.type?t.id:"null",unitUuid:2==t.type?t.id:"null",valid:1,startTime:null,endTime:null})})),console.log(this.tableData)},saveRoleGrp:function(){var e=this;this.listLoading=!0,(0,o.saveRoleGrp)(this.roleUuid,this.tableData).then((function(t){e.listLoading=!1,e.$notify((0,s.commonNotify)({type:"success",message:"保存成功！"}))}))},removeGrp:function(){var e={};this.selections.forEach((function(t){e[t.userType+t.grpInstUuid+t.unitUuid]=t}));for(var t=0;t<this.tableData.length;){var n=this.tableData[t];e[n.userType+n.grpInstUuid+n.unitUuid]?this.tableData.splice(t,1):t++}},setExpireDate:function(){},tabClick:function(e,t){var n=this;if(!this.currentTreeData){var i=e.paneName;this.treeLoading=!0,(0,r.initSceneTree)(i).then((function(e){n.treeLoading=!1,console.log(e),n.$set(n.treeData,"A"+n.grpUuid,e.data)}))}},handleSelectionChange:function(e){console.log(e),this.selections=e},goBack:function(){this.$router.go(-1)}}};t.default=l},fc19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7514"),n("7f7f"),n("5df3"),n("1c4c");var i={name:"screenQueryGroupCount",data:function(){return{activeCollapseNames:["groupSet"],items:[],countTrNum:1,columnData:[],columnDataValue:[],allColumnArr:[],countColumnStrArr:[],countColumnArr:[],countData:[],typeArr:["INTEGER","DECIMAL","NUMBER","FLOAT","REAL","DATE","TIMESTAMP"]}},props:["columnInfoArr","setting"],mounted:function(){this.init()},methods:{init:function(){var e=this;if("undefined"===typeof this.setting||0===this.setting.groupData.length&&0===this.setting.countData.length)this.initGroupTransfer(),this.countTrNum=0,this.addCountTr();else{this.initGroupTransfer(),this.columnDataValue=this.setting.groupData;var t=this.setting.countData;if(t.length>0){for(var n=0;n<t.length;n++)this.items.push({id:n});this.$nextTick((function(){for(var n=function(n){e.initCountSelectData(n),e.countTrNum=n+1;var i=xmSelect.get("#searchName".concat(n),!0),a=JSON.parse(JSON.stringify(e.columnData));a.unshift({name:"请选择",value:"",type:""});for(var r=0;r<a.length;r++)if(t[n].columnName===a[r].value){a[r].selected=!0;break}i.update({data:a});var o=xmSelect.get("#searchType".concat(n),!0),s=[{name:"请选择",value:""},{name:"计数",value:"count"},{name:"求和",value:"sum"},{name:"最大值",value:"max"},{name:"最小值",value:"min"},{name:"平均值",value:"ave"}];s.forEach((function(i){if($.inArray(t[n].columnType,e.typeArr)<0)switch(i.value){case"sum":case"max":case"min":case"ave":i.disabled=!0;break}t[n].countTypeValue===i.value&&(i.selected=!0)})),o.update({data:s}),e.items[n].chooseColumnXs=i,e.items[n].chooseTypeXs=o},i=0;i<t.length;i++)n(i)}))}else this.countTrNum=0,this.addCountTr()}},initGroupTransfer:function(){var e=this;Array.from(this.columnInfoArr,(function(t){t.isCount||(e.allColumnArr.push(t.newColumnName),e.columnData.push({name:t.newColumnName,value:t.newColumnName,pinyin:t.newColumnName,label:t.newColumnName,key:t.newColumnName,type:t.columnType}))}))},initCountSelectData:function(e){var t=this,n=this.columnData.slice();n.unshift({name:"请选择",value:"",type:"",selected:!0});var i=[{name:"请选择",value:"",selected:!0},{name:"计数",value:"count"},{name:"求和",value:"sum"},{name:"最大值",value:"max"},{name:"最小值",value:"min"},{name:"平均值",value:"avg"}],a=[{name:"请选择",value:"",selected:!0},{name:"计数",value:"count"},{name:"求和",value:"sum",disabled:!0},{name:"最大值",value:"max",disabled:!0},{name:"最小值",value:"min",disabled:!0},{name:"平均值",value:"avg",disabled:!0}],r=(xmSelect.render({el:"#searchName"+e,radio:!0,clickClose:!0,filterable:!0,filterMethod:function(e,t){return!!(e===t.value||t.name&&t.name.indexOf(e)>-1)},on:function(e){var n=e.change[0],o=e.isAdd,s=n.value;if(o)if(""===s)r.update({data:i});else{var l=n.type;$.inArray(l.toUpperCase(),t.typeArr)<0?r.update({data:a}):r.update({data:i})}},data:n}),xmSelect.render({el:"#searchType"+e,radio:!0,clickClose:!0,filterMethod:function(e,t){return!!(e===t.value||t.name&&t.name.indexOf(e)>-1)},data:i}))},addCountTr:function(){var e=this;this.items.push({id:this.countTrNum}),this.$nextTick((function(){e.initCountSelectData(e.countTrNum);var t=xmSelect.get("#searchName".concat(e.countTrNum),!0),n=xmSelect.get("#searchType".concat(e.countTrNum),!0),i=e.items.find((function(t){return t.id===e.countTrNum}));"undefined"!==typeof i&&(i.chooseColumnXs=t,i.chooseTypeXs=n),e.countTrNum=e.countTrNum+1}))},delCountTr:function(e){this.items.splice(e,1)},saveSetting:function(){var e={whereStr:"",hasWhere:!1,columnArr:this.allColumnArr,colArr:this.countColumnArr,setting:{countData:this.countData,groupData:[]}};e.setting.groupData=this.columnDataValue;var t=[];return 0!==this.countColumnStrArr.length?0===this.columnDataValue.length?e.columnArr=this.countColumnStrArr:(Array.from(this.columnDataValue,(function(e){return t.push(e)})),e.whereStr=" GROUP BY "+t.join(","),e.columnArr=t.concat(this.countColumnStrArr),e.colArr=t.concat(this.countColumnArr)):0!==this.columnDataValue.length&&(Array.from(this.columnDataValue,(function(e){return t.push(e)})),e.whereStr=" ORDER BY "+t.join(",")),e},verifySetting:function(){var e=0,t=[],n=!1;this.countColumnArr=[],this.countData=[],this.countColumnStrArr=[];for(var i=0;i<this.items.length;i++){var a=this.items[i].chooseColumnXs.getValue(),r=this.items[i].chooseTypeXs.getValue();if(a.length>0&&r.length>0&&""!==a[0].value&&""!==r[0].value){e++;var o=a[0].value+"_"+r[0].value;if(t.indexOf(o)>-1){n=!0;break}this.countColumnStrArr.push("".concat(r[0].value,"(").concat(a[0].name,") as ").concat(a[0].name,"_").concat(r[0].name)),this.countColumnArr.push("".concat(a[0].name,"_").concat(r[0].name)),this.countData.push({columnName:a[0].name,columnType:a[0].type,countTypeValue:r[0].value}),t.push(o)}}return 0===this.columnDataValue.length&&0===e?(this.$message({type:"warning",message:"未设置分组或统计的字段"}),!1):!n||(this.$message({type:"warning",message:"汇总的字段重复配置，请检查"}),!1)}}};t.default=i},fce9:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("ca11"),r=i(n("c164")),o=i(n("333d")),s={components:{Pagination:o.default,QueryField:r.default},data:function(){return{tableKey:"errorUuid",list:null,total:0,listLoading:!1,queryFields:[{label:"操作用户",name:"opUserName",type:"text",value:""},{label:"操作IP",name:"opIp",type:"text"},{label:"操作模块",name:"moduleName",type:"text"},{label:"操作时间范围",name:"opTime",type:"timePeriod"}],tableOptions:{columnDefs:[{headerName:"",checkboxSelection:!0,headerCheckboxSelection:!0,width:30,pinned:"left",display:!1},{field:"errorUuid",hide:!0},{headerName:"操作用户",field:"opUserName",pinned:"left",filter:"agTextColumnFilter"},{headerName:"操作IP",field:"opIp",pinned:"left"},{headerName:"模块名称",field:"moduleName",pinned:"left"},{headerName:"子模块名称",field:"subModuleName",pinned:"left"},{headerName:"操作类型",field:"opOperate",filter:"agNumberColumnFilter"},{headerName:"操作时间",field:"opTime",filter:"agNumberColumnFilter"},{headerName:"操作信息",field:"opInfo",filter:"agNumberColumnFilter"}]},formStyle:{width:"700px",height:"400px"},temp:{logSysActiUuid:"",opIp:"",moduleName:"",opOperate:"",opInfo:"",opTime:"",opUserId:"",opUserName:"",subModuleName:""},pageQuery:{condition:{},pageNo:1,pageSize:20,sortBy:"desc",sortName:"opTime"}}},computed:{},created:function(){this.getList()},methods:{getList:function(e){var t=this;this.listLoading=!0,e&&(this.pageQuery.condition=e,this.pageQuery.pageNo=1),(0,a.listByPageOperationLog)(this.pageQuery).then((function(e){t.total=e.data.total,t.list=e.data.records,t.listLoading=!1}))},handleSelectionChange:function(e){this.selections=e},handleFilter:function(){this.pageQuery.pageNo=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;this.pageQuery.sortBy=n,this.pageQuery.sortName=t,this.handleFilter()},resetQuery:function(){this.query={condition:{opIp:"",moduleName:"",opOperate:"",opInfo:"",endTime:"",opTime:"",opUserName:""}}}}};t.default=s},fcf4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("20d6"),n("ac6a");var i=n("d42c"),a=n("7649"),r={props:["tableId","openType","forderId"],data:function(){return{copyColObj:{},selections:[],sqlType:{},temp:[],tempIndex:0,tempColumn:[],oldName:"",show:!1,tempTable:{tableName:""}}},created:function(){this.initTable(this.tableId)},methods:{initTable:function(e){var t=this;(0,i.getSqlType)().then((function(e){t.sqlType=e.data})),"addTable"!==this.openType&&(0,i.getColsInfo)(e).then((function(e){t.oldName=e.data.displayTbName,t.tempTable.tableName=e.data.displayTbName,e.data.colMetas.forEach((function(e){t.tempIndex++,e.tempIndex=t.tempIndex})),t.tempColumn=e.data.colMetas.slice(),t.temp=JSON.parse(JSON.stringify(e.data.colMetas))}))},handleSelectionChange:function(e){this.selections=e},upTheCol:function(){var e=Object.assign({},this.selections[0]),t=this.temp.findIndex((function(t){return JSON.stringify(t)===JSON.stringify(e)}));this.temp.splice(t-1,0,e),this.temp.splice(t+1,1),this.selections=e},downTheCol:function(){var e=Object.assign({},this.selections[0]),t=this.temp.findIndex((function(t){return JSON.stringify(t)===JSON.stringify(e)}));this.temp.splice(t-1,0,e),this.temp.splice(t+1,1),this.selections=e},addCol:function(){var e={colName:"",dataType:"VARCHAR2",dataLength:"",isNullable:0};this.tempIndex++,e.tempIndex=this.tempIndex,e.colComment="",this.temp.splice(this.temp.length,0,e)},delCol:function(){var e=this;this.selections.forEach((function(t,n){var i=e.temp.findIndex((function(e){return JSON.stringify(e)===JSON.stringify(t)}));e.temp.splice(i,1)}))},copyCol:function(){this.copyColObj=Object.assign({},this.selections[0]),this.temp.splice(this.temp.length,0,this.copyColObj)},clickitem:function(e,t){this.temp[e].isNullable!==t?this.temp[e].isNullable=t:this.temp[e].isNullable=0},saveTableInfo:function(){"addTable"===this.openType?this.saveTable():this.updateTable()},saveTable:function(){for(var e=this,t=0;t<this.temp.length;t++){var n=this.temp[t];""!==n.dataLength&&(n.dataLength=parseInt(n.dataLength))}var i={};i.colMetas=this.temp,i.folderUuid=this.forderId,i.tbName=this.tempTable.tableName,(0,a.addTable)(i).then((function(t){if("500"===t.data.status)e.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3,position:"bottom-right"});else{e.$notify({title:"成功",message:"新建表成功！",type:"success",duration:2e3,position:"bottom-right"});var n={id:t.data.successTable.tableMetaUuid,label:t.data.successTable.displayTbName,pid:t.data.successTable.folderUuid,type:"table",extMap:{accessType:["FETCH_TABLE_DATA","BASIC_PRIV"],createTime:t.data.successTable.createTime,tableName:t.data.successTable.tbName,tbSizeByte:0,tblType:"T"}};e.$emit("table-show",e.show),e.$emit("append-node",n,e.clickNode)}})).catch((function(e){}))},updateTable:function(){var e=this,t={};t.tableMetaUuid=this.tableId,t.colMetas=this.temp,t.tbName=this.tempTable.tableName,t.tbComment=this.tempTable.tbComment;var n={};n.tableMetaUuid=this.tableId,n.colMetas=this.tempColumn,n.tbName=this.oldName,n.tbComment=this.tempTable.tbComment;var i={};i.newTableObj=t,i.oldTableObj=n,(0,a.updateTable)(i).then((function(t){"500"===t.data.status?e.$message({type:"info",message:"修改失败！"+t.data.msg}):(e.oldName=t.data.sussessTable.tbName,e.tempTable.tableName=t.data.sussessTable.tbName,t.data.sussessTable.colMetas.forEach((function(t){e.tempIndex=0,e.tempIndex++,t.tempIndex=e.tempIndex})),e.tempColumn=t.data.sussessTable.colMetas.slice(),e.temp=JSON.parse(JSON.stringify(t.data.sussessTable.colMetas)),e.$notify({title:"成功",message:"修改表结构成功",type:"success",duration:2e3,position:"bottom-right"})),e.$emit("table-show",e.show)})).catch((function(e){}))}}};t.default=r},fd1d:function(e,t,n){"use strict";n.r(t);var i=n("c41d"),a=n("e7d1");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("7424");var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"390db09d",null);t["default"]=s.exports},fd59:function(e,t,n){},fd85:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.settingLoading,expression:"settingLoading"}],ref:"settingParamDiv",staticStyle:{"overflow-y":"auto",height:"600px"},attrs:{"element-loading-text":e.loadText}},[n("el-tabs",{on:{"tab-click":e.initSetting},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[n("el-tab-pane",{attrs:{label:"参数编辑",name:"editParam"}},[n("el-col",{attrs:{span:6}},[n("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-collapse-item",{attrs:{name:"nodeColumn",title:"节点信息"}},[n("el-input",{attrs:{placeholder:"搜索关键字"},model:{value:e.searchColumnContent,callback:function(t){e.searchColumnContent=t},expression:"searchColumnContent"}}),n("ul",{staticClass:"ztree",staticStyle:{height:"415px","margin-top":"10px","margin-bottom":"0"},attrs:{id:"nodeZtree"}})],1),n("el-collapse-item",{attrs:{name:"paramList",title:"参数"}},[n("ul",{staticClass:"ztree",staticStyle:{height:"460px",margin:"0 !important"},attrs:{id:"paramZtree"}})])],1)],1),n("el-col",{attrs:{span:18}},[n("textarea",{ref:"settingParamsSql",attrs:{id:"settingParamsSql"}}),n("el-row",[n("el-tag",{staticStyle:{height:"35px","line-height":"35px"}},e._l(e.signArr,(function(t){return n("div",{staticClass:"signSpan",on:{click:function(n){return e.operatorsFun(t.value)}}},[e._v(e._s(t.name))])})),0)],1),n("el-row",[n("p",[e._v("注：1、多值参数一般只应用于【in】条件")]),n("p",{staticStyle:{"text-indent":"2em"}},[e._v("2、【in】条件中的参数不需要编写单引号，非【in】条件的参数需编写单引号，")]),n("p",{staticStyle:{"text-indent":"4em"}},[e._v("例：客户名称='"),n("button",{staticClass:"paramBtn"},[e._v("单值参数X")]),e._v("' and 客户号 in("),n("button",{staticClass:"paramBtn"},[e._v("多值参数Y")]),e._v(")")]),n("p",{staticStyle:{"text-indent":"2em"}},[e._v("3、编写含有参数的SQL条件语句同时符合以下条件时，需做特殊处理：")]),n("p",{staticStyle:{"text-indent":"4em"}},[e._v("① 【in】条件语句，括号内不能出现空格，例：客户号 in("),n("button",{staticClass:"paramBtn"},[e._v("多值参数X")]),e._v(")")]),n("p",{staticStyle:{"text-indent":"4em"}},[e._v("② 存在于括号内的语句，条件应与括号之间存在空格，")]),n("p",{staticStyle:{"text-indent":"4em"}},[e._v("例：code='"),n("button",{staticClass:"paramBtn"},[e._v("单值参数X")]),e._v("' or ( code='"),n("button",{staticClass:"paramBtn"},[e._v("单值参数Y")]),e._v("' and name='"),n("button",{staticClass:"paramBtn"},[e._v("单值参数Z")]),e._v("' )")])])],1)],1),n("el-tab-pane",{attrs:{label:"参数配置",name:"setParam"}},[n("el-row",{staticStyle:{color:"red","line-height":"35px",height:"30px"}},[e._v("注：可通过上下拖动行对参数进行排序设置")]),n("el-table",{ref:"setParamTable",staticStyle:{width:"100%"},attrs:{data:e.setParamArr,height:"520",fit:""}},[n("el-table-column",{attrs:{type:"index",label:"编号",width:"60",align:"center",resizable:!1}}),n("el-table-column",{attrs:{prop:"name",label:"参数名称",width:"260","header-align":"center",resizable:!1}}),n("el-table-column",{attrs:{label:"默认值设置",width:"300","header-align":"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return["lineinp"===t.row.inputType?n("el-col",{ref:"selectParam",attrs:{index:t.$index}},[n("div",{staticClass:"xm-select-demo",attrs:{id:t.row.id,title:t.row.title}})]):e._e(),"textinp"===t.row.inputType?n("el-col",{attrs:{index:t.$index}},[n("el-input",{staticClass:"paramOption",attrs:{title:t.row.title},model:{value:t.row.value,callback:function(n){e.$set(t.row,"value",n)},expression:"scope.row.value"}})],1):e._e(),"timeinp"===t.row.inputType?n("el-col",{attrs:{index:t.$index}},[n("el-date-picker",{staticClass:"paramOption",staticStyle:{width:"100%"},attrs:{title:t.row.title,type:"date",placeholder:"选择日期"},model:{value:t.row.value,callback:function(n){e.$set(t.row,"value",n)},expression:"scope.row.value"}})],1):e._e(),"treeinp"===t.row.inputType?n("el-col",{ref:"selectTreeParam",attrs:{index:t.$index}},[n("div",{staticClass:"xm-select-demo",attrs:{id:t.row.id,title:t.row.title}})]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"description",label:"参数说明","header-align":"center",resizable:!1}})],1)],1)],1)],1)},a=[]},fda1:function(e,t,n){"use strict";n("48f0")},fdf2:function(e,t,n){"use strict";n("79bb")},fdf9:function(e,t,n){"use strict";n("04c2")},fe1d:function(e,t,n){"use strict";n.r(t);var i=n("e017"),a=n.n(i),r=n("21a1"),o=n.n(r),s=new a.a({id:"icon-oper-edit",use:"icon-oper-edit-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-oper-edit"><defs><style type="text/css"></style></defs><path d="M105.164714 877.700572h813.670572a73.149714 73.149714 0 0 1 0 146.267429H105.164714a73.149714 73.149714 0 1 1 0-146.267429zM504.608231 100.572857c1.151964 1.27996 1.791944 2.495922 3.039905 3.807881 25.119215 27.83913 60.030124 65.885941 102.812787 112.700478 36.79885 39.35877 72.797725 78.557545 100.956845 108.380613L310.694291 740.776851l-25.663198 25.343208a141.371582 141.371582 0 0 1-99.772882 41.182713H70.797788c-21.343333 0-38.526796-17.663448-38.526796-39.902753v-116.47636a153.27521 153.27521 0 0 1 45.246586-108.924596l21.471329-21.43933L504.608231 100.540858z m61.150089-62.07806A121.084216 121.084216 0 0 1 653.243586 0.895972c32.95897 0 64.509984 13.535577 87.485266 37.534827l36.766851 38.07881c48.382488 50.046436 48.382488 131.131902 0 181.050342l-4.287866 5.11984a19602.267429 19602.267429 0 0 1-207.449517-224.216993z" p-id="61392" /></symbol>'});o.a.add(s);t["default"]=s},fe25:function(e,t,n){"use strict";n("dad5")},fe2f:function(e,t,n){"use strict";n.r(t);var i=n("aad4"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},fe47:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("switch-roles",{on:{change:e.handleRolesChange}}),n("div",{key:e.key,staticStyle:{"margin-top":"30px"}},[n("div",[n("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-alert"},[e._v(" Only "),n("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v(" can see this ")],1),n("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-permission=\"['admin']\" ")])],1),n("div",[n("span",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],staticClass:"permission-alert"},[e._v(" Only "),n("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("editor")]),e._v(" can see this ")],1),n("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-permission=\"['editor']\" ")])],1),n("div",[n("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin","editor"],expression:"['admin','editor']"}],staticClass:"permission-alert"},[e._v(" Both "),n("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v(" and "),n("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("editor")]),e._v(" can see this ")],1),n("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin","editor"],expression:"['admin','editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-permission=\"['admin','editor']\" ")])],1)]),n("div",{key:"checkPermission"+e.key,staticStyle:{"margin-top":"60px"}},[n("aside",[e._v(" "+e._s(e.$t("permission.tips"))+" "),n("br"),e._v(" e.g. ")]),n("el-tabs",{staticStyle:{width:"550px"},attrs:{type:"border-card"}},[e.checkPermission(["admin"])?n("el-tab-pane",{attrs:{label:"Admin"}},[e._v(" Admin can see this "),n("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-if=\"checkPermission(['admin'])\" ")])],1):e._e(),e.checkPermission(["editor"])?n("el-tab-pane",{attrs:{label:"Editor"}},[e._v(" Editor can see this "),n("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-if=\"checkPermission(['editor'])\" ")])],1):e._e(),e.checkPermission(["admin","editor"])?n("el-tab-pane",{attrs:{label:"Admin-OR-Editor"}},[e._v(" Both admin or editor can see this "),n("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v(" v-if=\"checkPermission(['admin','editor'])\" ")])],1):e._e()],1)],1)],1)},a=[]},fe9a:function(e,t,n){"use strict";n.r(t);var i=n("dc06"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},fec5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAUCAYAAABSx2cSAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAD6ADAAQAAAABAAAAFAAAAAAQBn2aAAABX0lEQVQ4EdWSzUrDQBDHZ7bRghQ8lIJHETx78+hBC0q8KCVFBA96EB/Ag2dvguBTSP3AIqJF0IIvYN9A8KgXI8VgYrI77qQI2ZCUiCcHkp35z/x2ZpfF+nJjC6A0DwXMAtWGEat3e3nyzOUWoJgGJecKsCCF6NFXuLe0stbkDUQRKFUzEYXRud5g0kolhodEVRSlAy4iGc38CiaiDU3FDSTiU/7YiIGueiGB/bg645cLE0D3vnMxKxAPM7hYyoXzgKRunhkx0kkeFwSSz6siESKSx742C4jKA5eDhCGI9t3N2W5Cgu716bGO+YNFu9mQII9+8gasQFXqjfUpTo6NknfVar06zva4qz6qrKkgqoFib2AGjEQ2fAY2pzwfO3rZeffdVZBqnzV9iYb96cJyYQFYdpzNGhFUjHaJwBg7oetLVQuu139Mamk/t3O6MCv+p7B+bviAAt2sMw3VEN6+AZ0pbp/qB9YJAAAAAElFTkSuQmCC"},ff02:function(e,t,n){"use strict";n.r(t);var i=n("b253"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ff15:function(e,t,n){"use strict";n("59a2")},ff4a:function(e,t,n){},ff6f:function(e,t,n){"use strict";n.r(t);var i=n("de4f"),a=n("9ed1");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("0c7c"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports}},[[1,"runtime","chunk-elementUI","chunk-libs"]]]);
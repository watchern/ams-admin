(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-99eac50e"],{"064d":function(e,t,i){"use strict";i.r(t);var a=i("fe1de"),n=i("a750");for(var l in n)["default"].indexOf(l)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(l);i("6227");var d=i("0c7c"),o=Object(d["a"])(n["default"],a["a"],a["b"],!1,null,"61aab201",null);t["default"]=o.exports},3130:function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("7f7f"),i("4917"),i("7514");var n=a(i("1157")),l=i("5c96"),d=a(i("b775")),o={name:"index",props:["currentLoginUser"],components:{editcalculationcolumn:function(e){return Promise.all([i.e("chunk-2b3cbb4a"),i.e("chunk-66061fc0")]).then(function(){var t=[i("0777")];e.apply(null,t)}.bind(this)).catch(i.oe)},addindicatrix:function(e){return i.e("chunk-156fe6ed").then(function(){var t=[i("cfce")];e.apply(null,t)}.bind(this)).catch(i.oe)},adddimension:function(e){return i.e("chunk-2ef299f1").then(function(){var t=[i("9e0f")];e.apply(null,t)}.bind(this)).catch(i.oe)},dimrelcoltabdeail:function(e){return i.e("chunk-7aa17c2e").then(function(){var t=[i("7633")];e.apply(null,t)}.bind(this)).catch(i.oe)},seeSqlData:function(e){return i.e("chunk-3317cbda").then(function(){var t=[i("7adc")];e.apply(null,t)}.bind(this)).catch(i.oe)},relDim:function(e){return i.e("chunk-5030cdbd").then(function(){var t=[i("681d")];e.apply(null,t)}.bind(this)).catch(i.oe)},seeinordim:function(e){return i.e("chunk-038dbb0b").then(function(){var t=[i("57a4")];e.apply(null,t)}.bind(this)).catch(i.oe)}},data:function(){return{seeDataSql:"",columnId:"",columnName:"",treePath:"",treeId:"",treeName:"",inTableId:[],inMeasureObj:{},inDimObj:{},dimCount:0,inCount:0,dmTableUuid:"",dmTableName:"",calculationColId:null,rawTableName:"",isOrgManager:sessionStorage.getItem("isOrgManager"),isInManager:sessionStorage.getItem("isInManager"),dataTree:null,dataTreeNodes:null,dialogCalculationcolumnVisible:!1,dialogAddIndicatrixVisible:!1,dialogDimensionVisible:!1,dialogDimrelcoltabdeailVisible:!1,seeSqlDataDialog:!1,treeSearchText:"",searchFilter:"",relDimDialog:!1,seeinOrDimDialog:!1,seeinOrDimType:1,seeinOrDimTitle:""}},watch:{treeSearchText:function(e){this.$refs.tree.filter(e)},searchFilter:function(e){this.searchOnChange("colTable",e)}},mounted:function(){this.init()},created:function(){var e=this;window.tableColOnClick=e.tableColOnClick,window.onColDragOver=e.onColDragOver,window.onColDrop=e.onColDrop,window.onColDragStart=e.onColDragStart,window.delCalculationCol=e.delCalculationCol,window.editCalculationCol=e.editCalculationCol,window.detailDim=e.detailDim},methods:{dataTreeCreate:function(e){this.dataTree=e,this.dataTree.expandAll(!0)},tableTreeFilterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},getTableAll:function(){var e=this,t=l.Loading.service({fullscreen:!0}),i=this.dataContextUrl+"/tableMeta/getResELTree",a="auditor",d=this.currentLoginUser.personcode;n.default.ajax({type:"get",url:i,data:{sceneCode:a,dataUserId:d,type:"common"},async:!0,dataType:"json",success:function(i){e.dataTreeNodes=i.data,t.close()}})},onClickAllTable:function(e,t){"folder"!=e.type&&(this.dmTableUuid=e.id,this.dmTableName=e.label,this.rawTableName=e.label,this.getAllColumn(e.id),this.getAllIndicatrix(e.id),this.getAllDimension(e.id))},onAsyncSuccess:function(){},getIndicatrixTable:function(){var e=this,t=this.contextUrl+"/InTableRelation/getIndicatrixTable";n.default.post(t,{},(function(t){n.default.each(t,(function(t,i){e.inTableId.push(i.id)}))}),"json")},searchOnChange:function(e,t){var i=(0,n.default)("#"+e).find("tr");i.each((function(e){if(0!=e){var i=(0,n.default)(this),a=i.text();a.match(t)?i.show():i.hide()}}))},selectTableData:function(){if(""!=this.dmTableName){var e="select * from {0}".format(this.rawTableName);this.seeDataSql=e,this.seeSqlDataDialog=!0}else this.$message("请选择数据表！")},getTableColumn:function(e){(0,n.default)("#colName").html("");var t=this.contextUrl+"/InDimColumn/getTableColumn";n.default.post(t,{tableId:e},(function(e){n.default.each(e,(function(e,t){for(var i=(0,n.default)("<li id='"+t.columnUuid+"'>"+t.columnName+"</li>"),a=0;a<i.length;a++)i[a].onclick=setStyle;(0,n.default)("#colName").append(i)}))}),"json")},getAllColumn:function(e){if(null!=e){var t=this,i=l.Loading.service({fullscreen:!0}),a=[{name:"colMetaUuid",lable:"",hidden:!0},{name:"colName",lable:"英文列名称",align:"center"},{name:"chnName",lable:"中文列名称",align:"center"},{name:"operation",lable:"操作",align:"center"}];(0,n.default)("#colTable").html("");var o="<thead><tr id='colTitle'></tr></thead>",s="<tbody id='colTitleTb'></tbody>";(0,n.default)("#colTable").append(o),(0,n.default)("#colTable").append(s),n.default.each(a,(function(e,t){var i="<th "+(t.hidden?"class='td-hidden'":"")+" >"+t.lable+"</th>";(0,n.default)("#colTitle").append(i)})),(0,d.default)({baseURL:this.dataContextUrl,url:"/tableMeta/getCols",method:"post",params:{tableMetaUuid:e,isEnclose:"-1"}}).then((function(l){var d=t.contextUrl+"/InCalculationColumn/getTableIdData";n.default.post(d,{tableId:e},(function(e){if(50==e.head.status)t.message({info:"error",text:"数据读取失败,"+e.head.message});else for(var i=0;i<e.body.result.length;i++){var d={colMetaUuid:e.body.result[i].inCalculationColumnUuid,colName:e.body.result[i].calculationColumnName,chnName:e.body.result[i].calculationColumnName,type:2};l.data.push(d)}n.default.each(l.data,(function(e,i){var l=t.getuuid(),d="<tr id='"+l+"' onclick='tableColOnClick(this,\"colTable\")' ondragover='onColDragOver(event)' ondragend='onColDrop(event)' ondragstart='onColDragStart(event)'></tr>";(0,n.default)("#colTitleTb").append(d),(0,n.default)("#"+l).attr("check","false"),(0,n.default)("#"+l).attr("draggable","true"),(0,n.default)("#"+l).attr("columnType",i["dataType"]),n.default.each(a,(function(e,a){if(0==e){var d="<td class='td-hidden'><input type='hidden' id='"+i[a.name]+"'></td>";(0,n.default)("#"+l).append(d)}else if("operation"==a.name){var o=i["type"];if(1==o||void 0==o){d="<td id='"+t.getuuid()+"'>无</td>";return void(0,n.default)("#"+l).append(d)}d="<td id='"+t.getuuid()+"'><button class='btn btn-primary pull-left' style='padding: 2px;margin: 5px;' onclick='delCalculationCol(\""+i["colMetaUuid"]+"\")'>删除</button><button class='btn btn-primary pull-left' style='padding: 2px;margin: 5px;' onclick='editCalculationCol(\""+i["colMetaUuid"]+"\")'>编辑</button></td>";(0,n.default)("#"+l).append(d)}else{var s="";s=null==i[a.name]?"无":i[a.name];d="<td id='"+t.getuuid()+"'>"+s+"</td>";(0,n.default)("#"+l).append(d)}}))}))}),"json"),i.close()}))}},getAllIndicatrix:function(e){var t=this;(0,n.default)("#gridTableIn").html("");var i=[{name:"inMeasureUuid",lable:"",hidden:!0},{name:"measureName",lable:"指标名称",align:"center"},{name:"columnType",lable:"指标类型",hidden:!1},{name:"measureGroup",lable:"聚合方式",align:"center"},{name:"columnName",lable:"关联列",align:"center"},{name:"tableName",lable:"来源表",align:"center"},{name:"measureMemo",lable:"指标说明",align:"center"}],a="<thead><tr id='colIn'></tr></thead>",l="<tbody id='colInTb'></tbody>";(0,n.default)("#gridTableIn").append(a),(0,n.default)("#gridTableIn").append(l),n.default.each(i,(function(e,t){var i="<th "+(t.hidden?"class='td-hidden'":"")+" >"+t.lable+"</th>";(0,n.default)("#colIn").append(i)}));var d=this.contextUrl+"/InMeasure/getTableDownAllIn";n.default.post(d,{tableId:e},(function(e){t.inCount=e.body.result.length,0!=e.body.result?(0,n.default)("#dimIn").html(""):(0,n.default)("#dimIn").html("暂无数据"),n.default.each(e.body.result,(function(e,a){var l=t.getuuid(),d="<tr id='"+l+"'check='false' onclick='tableColOnClick(this,\"gridTableIn\")'></tr>";(0,n.default)("#colInTb").append(d),n.default.each(i,(function(e,t){if(0==e){var i="<td class='td-hidden'><input type='hidden' id='"+a[t.name]+"'></td>";(0,n.default)("#"+l).append(i)}else if("measureMemo"==t.name){var d=a[t.name];d=void 0==d?"无":d.substring(0,10)+"...";i="<td title='"+a[t.name]+"'>"+d+"</td>";(0,n.default)("#"+l).append(i)}else{i="<td>"+a[t.name]+"</td>";(0,n.default)("#"+l).append(i)}}))}))}),"json")},refreshDimList:function(){this.getAllDimension(this.dmTableUuid)},getAllDimension:function(e){var t=this;(0,n.default)("#gridTableDim").html("");var i=[{name:"inDimensionUuid",lable:"",hidden:!0},{name:"dimensionName",lable:"维度名称",align:"center"},{name:"columnType",lable:"维度类型",hidden:!1},{name:"columnName",lable:"关联列",align:"center"},{name:"tableName",lable:"来源表",align:"center"},{name:"dimensionMemo",lable:"维度说明",align:"center"}],a="<thead><tr id='colDim'></tr></thead>",l="<tbody id='colTb'></tbody>";(0,n.default)("#gridTableDim").append(a),(0,n.default)("#gridTableDim").append(l),n.default.each(i,(function(e,t){var i="<th "+(t.hidden?"class='td-hidden'":"")+" >"+t.lable+"</th>";(0,n.default)("#colDim").append(i)}));var d=this.contextUrl+"/InDimension/getTableDownAllDim";n.default.post(d,{tableId:e},(function(e){t.dimCount=e.body.result.length,0!=e.body.result?(0,n.default)("#dimZan").html(""):(0,n.default)("#dimZan").html("暂无数据"),n.default.each(e.body.result,(function(e,a){var l=t.getuuid(),d="<tr id='"+l+"'check='false' onclick='tableColOnClick(this,\"gridTableDim\")'></tr>";(0,n.default)("#colTb").append(d),n.default.each(i,(function(e,t){if(0==e){var i="<td class='td-hidden'><input type='hidden' id='"+a[t.name]+"'></td>";(0,n.default)("#"+l).append(i)}else if("dimensionMemo"==t.name){var d=a[t.name];d=void 0==d?"无":d.substring(0,10)+"...";i="<td title='"+a[t.name]+"'>"+d+"</td>";(0,n.default)("#"+l).append(i)}else if("columnName"!=t.name){i="<td>"+a[t.name]+"</td>";(0,n.default)("#"+l).append(i)}else{var o='"{0}","{1}"'.format(a["inDimensionUuid"],a["dimensionName"]);i="<td><a onclick='detailDim("+o+")' >"+a[t.name]+"</a></td>";(0,n.default)("#"+l).append(i)}}))}))}),"json")},refreshForm:function(){this.getAllColumn(this.dmTableUuid),this.getAllIndicatrix(this.dmTableUuid),this.getAllDimension(this.dmTableUuid)},setStyle:function(){(0,n.default)("#colName li").removeClass(),this.columnId=(0,n.default)(this).attr("id"),this.columnName=(0,n.default)(this).text(),(0,n.default)(this).addClass("selected")},init:function(){this.getIndicatrixTable(),this.getTableAll()},calculationPosition:function(e){var t=(0,n.default)("#"+e).offset().left,i=(0,n.default)("#"+e).offset().top,a=(0,n.default)("#"+e).width(),l=(0,n.default)("#"+e).height(),d=t+a,o=i+l;return event.clientX>t&&event.clientX<d&&event.clientY>i&&event.clientY<o},delInTable:function(e){var t=this,i=this.contextUrl+"/InTableRelation/deleteByPrimaryKey";n.default.post(i,{inTablerelationUuid:e},(function(e){1==e.state||t.$message(e.message)}),"json")},addInTable:function(e){var t={inTablerelationUuid:"",tableuuid:e},i=this.contextUrl+"/InTableRelation/insertSelective";n.default.post(i,{inTableRelation:JSON.stringify(t)},(function(e){}),"json")},addCalculationColumn:function(){""!=this.dmTableUuid&&void 0!=this.dmTableUuid?this.dialogCalculationcolumnVisible=!0:this.$message("请选择数据表！")},editCalculationCol:function(e){""!=this.dmTableUuid&&void 0!=this.dmTableUuid?(this.calculationColId=e,this.dialogCalculationcolumnVisible=!0):this.$message("请选择数据表！")},delCalculationCol:function(e){var t=this,i=this;this.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=t.checkRoot(e);if(1!=a){var l=i.contextUrl+"/InCalculationColumn/deleteByPrimaryKey";n.default.post(l,{inCalculationColumnUuid:e},(function(e){0!=e.state?i.getAllColumn(i.dmTableUuid):i.$message(e.message)}),"json")}else i.$message("删除失败，请先删除关联维度")})).catch((function(){}))},checkRoot:function(e){var t,i=this.contextUrl+"/InDimension/checkRoot";return n.default.ajax({url:i,data:{columnId:e},method:"POST",cache:!1,dataType:"json",async:!1,success:function(e){t=e}}),t},onColDragStart:function(e){e.dataTransfer.setData("FuJi",e.srcElement.parentElement.id)},onColDragOver:function(e){e.preventDefault(),(0,n.default)("#indicatrixInfo").addClass("analysisRegionSelected"),(0,n.default)("#dimInfo").addClass("analysisRegionSelected")},onColDrop:function(e){var t=e.target.id,i=(0,n.default)("#"+t),a=(0,n.default)(i).find("input[type='hidden']"),l=i.attr("columnType");this.columnId=a.attr("id"),this.columnName=(0,n.default)(i).children("td").eq(1).text(),this.calculationPosition("indicatrixInfo")&&(0==l&&this.addIndicatrix(),4==l&&this.calculationIndicatrix()),this.calculationPosition("dimInfo")&&this.addDimension(),(0,n.default)("#indicatrixInfo").removeClass(),(0,n.default)("#dimInfo").removeClass()},tableColOnClick:function(e,t){var i=(0,n.default)(e).attr("check"),a=(0,n.default)(e).find("input[type='hidden']");"false"==i&&((0,n.default)("#"+t).find("tr").each((function(){(0,n.default)(this).removeClass("border-table-td-select"),(0,n.default)(this).attr("check","false")})),(0,n.default)(e).addClass("border-table-td-select"),(0,n.default)(e).attr("check","true"),"gridTableIn"==t?(this.inMeasureObj.inMeasureUuid=a.attr("id"),this.inMeasureObj.measureName=(0,n.default)(e).children("td").eq(1).text(),this.inMeasureObj.rowId=(0,n.default)(e).attr("id"),this.inMeasureObj.measureType=parseInt((0,n.default)(e).children("td").eq(8).text())):"gridTableDim"==t?(this.inDimObj.inDimensionUuid=a.attr("id"),this.inDimObj.dimensionName=(0,n.default)(e).children("td").eq(1).text(),this.inDimObj.rowId=(0,n.default)(e).attr("id"),this.inDimObj.dimensionTemporary=parseInt((0,n.default)(e).children("td").eq(5).text())):"colTable"==t&&(this.columnId=a.attr("id"),this.columnName=(0,n.default)(e).children("td").eq(1).text())),"true"==i&&((0,n.default)(e).removeClass("border-table-td-select"),(0,n.default)(e).attr("check","false"),this.columnId="",this.columnName="",this.inMeasureObj={},this.inDimObj={})},addIndicatrix:function(){var e=this;if(void 0==this.dmTableUuid||""==this.dmTableUuid&&void 0==e.columnId||""==e.columnId)this.$message("请选择数据表和数据列！");else{var t=this.contextUrl+"/InDimension/verIsNoDim";n.default.post(t,{columnUuid:e.columnId},(function(t){0!=t.state?(e.inMeasureObj.inMeasureUuid=null,e.dialogAddIndicatrixVisible=!0):e.$message(t.message)}),"json")}},editIndicatrix:function(){var e=this.inMeasureObj.inMeasureUuid;void 0!=e&&""!=e?this.dialogAddIndicatrixVisible=!0:this.$message("请选择要编辑的指标!")},delIndicatrix:function(){var e=this,t=this.inMeasureObj.inMeasureUuid;if(""!=t&&void 0!=t){var i=this.inMeasureObj.measureName;this.$confirm("若要删除该指标将会删除该指标与维度的关联，确认删除 "+i+"吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=e.contextUrl+"/InMeasure/verInRel";n.default.post(a,{inMeasureUuid:t},(function(a){if(0!=a.state){var l=e.contextUrl+"/InMeasure/deleteByPrimaryKey";n.default.post(l,{inMeasureUuid:t},(function(t){if(1==t.state){"删除了指标:'{0}'".format(i);e.addOperLogByParam(e.log_module,e.log_del,e.log_info),(0,n.default)("#"+e.inMeasureObj.rowId).remove(),e.$message("该指标与维度的关联关系已删除。"),e.refreshForm(),e.inCount=e.inCount-1,e.verDelTableId()}}),"json")}else e.$message(a.message)}),"json"),e.inMeasureObj={}})).catch((function(){}))}else this.$message("请选择要删除的指标")},calculationIndicatrix:function(){if(void 0!=this.dmTableUuid&&""!=this.dmTableUuid){var e="../../content/indicatrixAnalysis/indicatrixCalculation.html?&tableId={0}&tableName={1}&columnId={2}".format(this.dmTableUuid,dmTableName,this.columnId);layer.open({type:2,title:"编辑计算指标",shadeClose:!0,shade:[0],resize:!1,maxmin:!1,area:["1200px","600px"],content:[encodeURI(e),"yes"]})}else this.$message("请选择数据表!")},addDimension:function(){var e=this;if(void 0==e.dmTableName||""==e.dmTableName&&void 0==e.columnId||""==e.columnId)e.$message("请选择数据表和数据列！");else{var t=e.contextUrl+"/InMeasure/verIsNoIn";n.default.post(t,{columnUuid:e.columnId},(function(t){if(0==t.state)e.$message(t.message);else{var i=e.contextUrl+"/InDimension/verIsNoDim";n.default.post(i,{columnUuid:e.columnId},(function(t){0!=t.state?(e.inDimObj.inDimensionUuid=null,e.dialogDimensionVisible=!0):e.$message(t.message)}),"json")}}),"json")}},editDimension:function(){var e=this.inDimObj.inDimensionUuid;""!=e&&void 0!=e?this.dialogDimensionVisible=!0:this.$message("请选择数据表！")},delDimension:function(){var e=this,t=this.inDimObj.inDimensionUuid,i=this.inDimObj.dimensionName;void 0!=t&&""!=t?this.$confirm("若删除该维度将会删除该维度与指标的全部关联，确认删除 --"+i+"--吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=e.contextUrl+"/InDimension/deleteByPrimaryKey";n.default.post(a,{inDimensionUuid:t},(function(t){if(1==t.state){"删除了维度:'{0}'".format(i);e.addOperLogByParam(e.log_module,e.log_del,e.log_info),(0,n.default)("#"+e.inDimObj.rowId).remove(),e.$message("该维度与指标的关联关系已删除。"),e.dimCount=e.dimCount-1,e.refreshForm(),e.verDelTableId()}else e.$message(t.message)}),"json"),e.inDimObj={}})).catch((function(){})):this.$message("请选择要删除的维度！")},calculationDimension:function(){if(void 0!=this.dmTableUuid&&""!=this.dmTableUuid){var e="../../content/indicatrixAnalysis/dimensionCalculation.html?tableName={0}&tableId={1}&columnId={2}&columnName={3}".format(dmTableName,dmTableUuid,this.columnId,columnName);openLayer("1000px","680px",e,"编辑计算维度",2)}else this.$message("请选择数据表！")},relHaveDim:function(){void 0==this.dmTableUuid||""==this.dmTableUuid&&void 0==this.columnId||""==this.columnId?this.$message("请选择表或维度!"):this.relDimDialog=!0},detailDim:function(e,t){this.inDimObj.inDimensionUuid=e,this.inDimObj.dimensionName=t,this.dialogDimrelcoltabdeailVisible=!0},verDelTableId:function(){var e=this;0==e.inCount&&0==e.dimCount&&(n.default.each(e.inTableId,(function(t,i){delete e.inTableId[i]})),this.delInTable(this.dmTableUuid)),this.getIndicatrixTable()},getAllDim:function(){this.seeinOrDimDialog=!0,this.seeinOrDimType=2,this.seeinOrDimTitle="全部维度"},getAllIn:function(){this.seeinOrDimDialog=!0,this.seeinOrDimType=1,this.seeinOrDimTitle="全部指标"},setTableName:function(e){(0,n.default)("#searchTable").val(e)},closeCalculationcolumn:function(){this.dialogCalculationcolumnVisible=!1},closeAddIndicatrix:function(){this.dialogAddIndicatrixVisible=!1},closeDimension:function(){this.dialogDimensionVisible=!1},closeRelDim:function(){this.relDimDialog=!1}}};t.default=o},5031:function(e,t,i){},6227:function(e,t,i){"use strict";i("5031")},a750:function(e,t,i){"use strict";i.r(t);var a=i("3130"),n=i.n(a);for(var l in a)["default"].indexOf(l)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(l);t["default"]=n.a},fe1de:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",[i("el-col",{staticClass:"page-col-1",attrs:{span:7}},[i("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.treeSearchText,callback:function(t){e.treeSearchText=t},expression:"treeSearchText"}}),i("el-tree",{ref:"tree",staticStyle:{height:"700px","overflow-y":"auto",cursor:"pointer"},attrs:{data:e.dataTreeNodes,"default-expand-all":"","node-key":"id","highlight-current":"","filter-node-method":e.tableTreeFilterNode},on:{"node-click":e.onClickAllTable},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return i("span",{staticClass:"custom-tree-node"},["table"==n.type?i("div",[i("span",{staticClass:"icon iconfont"},[i("div",{staticClass:"code-name"},[e._v(""+e._s(a.label))])])]):"view"==n.type?i("div",[i("span",{staticClass:"icon iconfont"},[i("div",{staticClass:"code-name"},[e._v(""+e._s(a.label))])])]):"folder"==n.type?i("div",[i("span",[i("i",{staticClass:"el-icon-folder"}),e._v(e._s(a.label)+" ")])]):e._e()])}}])})],1),i("el-col",{staticClass:"page-col-2",attrs:{span:7}},[i("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}}),i("div",[i("div",{staticClass:"row table-view-caption",staticStyle:{margin:"0px"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addIndicatrix}},[e._v("新增指标")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addDimension}},[e._v("新增维度")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.relHaveDim}},[e._v("关联维度")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addCalculationColumn}},[e._v("计算列")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.selectTableData}},[e._v("查看数据")])],1)]),i("div",{staticStyle:{height:"674px","overflow-y":"auto",cursor:"pointer"},attrs:{id:"colInfo"}},[i("table",{staticClass:"border-table",attrs:{id:"colTable"}})])],1),i("el-col",{staticClass:"page-col-3",attrs:{span:10}},[i("el-row",[i("div",{staticClass:"row table-view-caption",staticStyle:{margin:"0px"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.editIndicatrix}},[e._v("编辑指标")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.delIndicatrix}},[e._v("删除指标")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getAllIn}},[e._v("查看所有指标")])],1),i("div",{staticClass:"table-view m-b-20"},[i("table",{staticClass:"border-table",attrs:{id:"gridTableIn"}},[i("tr",[i("td",[e._v("指标名称")]),i("td",[e._v("指标类型")]),i("td",[e._v("聚合方式")]),i("td",[e._v("关联列")]),i("td",[e._v("来源表")]),i("td",[e._v("指标说明")])])]),i("div",{staticStyle:{"text-align":"center"},attrs:{id:"dimIn"}},[e._v("暂无数据")])])]),i("el-row",[i("div",{staticClass:"row table-view-caption",staticStyle:{margin:"0px"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.editDimension}},[e._v("编辑维度")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.delDimension}},[e._v("删除维度")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getAllDim}},[e._v("查看所有维度")])],1),i("div",{staticClass:"table-view m-b-20"},[i("table",{staticClass:"border-table",attrs:{id:"gridTableDim"}},[i("tr",[i("td",[e._v("维度名称")]),i("td",[e._v("维度类型")]),i("td",[e._v("关联列")]),i("td",[e._v("来源表")]),i("td",[e._v("维度说明")])])]),i("div",{staticStyle:{"text-align":"center"},attrs:{id:"dimZan"}},[e._v("暂无数据")])])])],1),e.dialogCalculationcolumnVisible?i("el-dialog",{attrs:{"append-to-body":"",title:"计算列",visible:e.dialogCalculationcolumnVisible},on:{"update:visible":function(t){e.dialogCalculationcolumnVisible=t}}},[i("editcalculationcolumn",{attrs:{tableName:e.dmTableName,tableId:e.dmTableUuid,rawTableName:e.rawTableName,calculationColId:e.calculationColId},on:{getAllColumn:e.getAllColumn,closeCalculationcolumn:e.closeCalculationcolumn}})],1):e._e(),e.dialogAddIndicatrixVisible?i("el-dialog",{attrs:{"append-to-body":"",title:"指标",visible:e.dialogAddIndicatrixVisible},on:{"update:visible":function(t){e.dialogAddIndicatrixVisible=t}}},[e.dialogAddIndicatrixVisible?i("addindicatrix",{attrs:{tableId:e.dmTableUuid,tableName:e.rawTableName,columnId:e.columnId,columnName:e.columnName,inUUID:e.inMeasureObj.inMeasureUuid},on:{addInTable:e.addInTable,getAllIndicatrix:e.getAllIndicatrix,getAllColumn:e.getAllColumn,closeAddIndicatrix:e.closeAddIndicatrix}}):e._e()],1):e._e(),e.dialogDimensionVisible?i("el-dialog",{attrs:{"append-to-body":"",title:"维度",visible:e.dialogDimensionVisible},on:{"update:visible":function(t){e.dialogDimensionVisible=t}}},[e.dialogDimensionVisible?i("adddimension",{attrs:{tableId:e.dmTableUuid,tableName:e.rawTableName,columnId:e.columnId,columnName:e.columnName,dimUUID:e.inDimObj.inDimensionUuid},on:{addInTable:e.addInTable,getAllDimension:e.getAllDimension,getAllColumn:e.getAllColumn,closeDimension:e.closeDimension}}):e._e()],1):e._e(),e.dialogDimrelcoltabdeailVisible?i("el-dialog",{attrs:{"append-to-body":"",title:"关联维度详细",visible:e.dialogDimrelcoltabdeailVisible},on:{"update:visible":function(t){e.dialogDimrelcoltabdeailVisible=t}}},[i("dimrelcoltabdeail",{attrs:{dimId:e.inDimObj.inDimensionUuid,dimName:e.inDimObj.dimensionName},on:{refreshDimList:e.refreshDimList}})],1):e._e(),e.seeSqlDataDialog?i("el-dialog",{attrs:{"append-to-body":"",title:"查看数据",visible:e.seeSqlDataDialog},on:{"update:visible":function(t){e.seeSqlDataDialog=t}}},[i("seeSqlData",{attrs:{seeDataSql:e.seeDataSql}})],1):e._e(),e.relDimDialog?i("el-dialog",{attrs:{"append-to-body":"",title:"关联维度",visible:e.relDimDialog},on:{"update:visible":function(t){e.relDimDialog=t}}},[i("relDim",{attrs:{tableName:e.dmTableName,tableId:e.dmTableUuid,columnId:e.columnId,columnName:e.columnName},on:{getAllDimension:e.getAllDimension,closeRelDim:e.closeRelDim}})],1):e._e(),e.seeinOrDimDialog?i("el-dialog",{attrs:{"append-to-body":"",title:e.seeinOrDimTitle,visible:e.seeinOrDimDialog},on:{"update:visible":function(t){e.seeinOrDimDialog=t}}},[i("seeinordim",{attrs:{type:e.seeinOrDimType}})],1):e._e()],1)},n=[]}}]);